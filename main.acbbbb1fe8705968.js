(self.webpackChunkrecon_UI=self.webpackChunkrecon_UI||[]).push([[792],{193:(Ui,ni,N)=>{"use strict";N.d(ni,{$:()=>b});var b={serverURL:"http://localhost:3050",keycloakURL:"http://164.52.219.22:8082",applicationURL:"http://localhost:4200",serverURLforUniRec:"http://localhost:3000",endpointURL:"http://localhost:4000/api/dataUpload/v1/upload",felixUrl:"http://localhost:3007/api/resorce-server",disputeUrl:"http://localhost:5000",reconURL:"http://localhost:3080",newTab:"http://localhost:4200/recon/main",clientId:"recon",privateClientId:"resource-server",product_id:"e05148b3-0c3f-4d04-8d29-0f84981b40d6",application_id:"e174517f-8c59-4a0a-9b52-6cd8f61f4f8d",secret:"CATEINA-SFTP-SECRET",MONITORING:!0,LOGINING:!0}},2185:(Ui,ni,N)=>{"use strict";N.d(ni,{f:()=>b});const b={Dashboard:{getlastreconciledData:"9526dc4b-0cb5-4758-8c59-f516d87ef6a8",getreconciledstatus:"bd3befec-d2a9-454c-a056-9fc92b89f621",getoveralltransactions:"cbadf856-794f-43f0-82f8-e7e7e775ce88",getdetailedtransactioncount:"6e83f94c-6b92-4a24-8ec6-89263cad3f00"},Project:{createProject:"c0d808a6-e44a-4639-8c6f-bd68d5b96001",getAllProject:"c0d808a6-e44a-4639-8c6f-bd68d5b96002",getProjectById:"c0d808a6-e44a-4639-8c6f-bd68d5b96003",updateProject:"c0d808a6-e44a-4639-8c6f-bd68d5b96004",deleteProject:"c0d808a6-e44a-4639-8c6f-bd68d5b96005",getAllProjectByType:"c0d808a6-e44a-4639-8c6f-bd68d5b96006",getProjectType:"c0d808a6-e44a-4639-8c6f-bd68d5b96007",getBankCodeByProjectId:"c0d808a6-e44a-4639-8c6f-bd68d5b96008"},User:{getUserAttributes:"c0d808a6-e44a-4639-8c6f-bd68d5b96009",getUserRole:"c0d808a6-e44a-4639-8c6f-bd68d5b96010"},Data_configuration:{Datasource_config:{getDataConfigByProjectId:"bb6126b4-10e4-4325-8ae7-9220eb055c69",getAllDataModelByProjectId:"bb6126b4-10e4-4325-8ae7-9220eb055c70"},Data_model:{createDataModel:"bb6126b4-10e4-4325-8ae7-9220eb055c71",updateDataModel:"bb6126b4-10e4-4325-8ae7-9220eb055c73"},Data_sources:{createDataSource:"bb6126b4-10e4-4325-8ae7-9220eb055c76",getDatasourceByProjectId:"bb6126b4-10e4-4325-8ae7-9220eb055c75",getDatasourceById:"bb6126b4-10e4-4325-8ae7-9220eb055c79",deleteDatasource:"bb6126b4-10e4-4325-8ae7-9220eb055c78"},datasource_files:{uploadSampleForDatasource:"bb6126b4-10e4-4325-8ae7-9220eb055c81",getDatasourceFileInfoByProjectId:"bb6126b4-10e4-4325-8ae7-9220eb055c82",deleteDatasourceFileInfoByDatasourceId:"bb6126b4-10e4-4325-8ae7-9220eb055c84"},datasource_headers:{getHeadersByDataSourceId:"bb6126b4-10e4-4325-8ae7-9220eb055c87"},datasource_fields:{getDataSourceFieldsByProjectId:"bb6126b4-10e4-4325-8ae7-9220eb055c91",createDataSourceFields:"bb6126b4-10e4-4325-8ae7-9220eb055c90",deleteDatasourceFieldsByDatasourceId:"bb6126b4-10e4-4325-8ae7-9220eb055c93"},dataSource_types:{getDataSourceTypeByProjectType:"bb6126b4-10e4-4325-8ae7-9220eb055c94"}},Recon_configuration:{Recon_model:{createReconModel:"3e44ca30-0639-4bca-80ab-76dfaa00b939",getAllReconConfigData:"d26673d5-e816-415d-9e7e-a2fa39c4024c",UpdateReconModel:"d092a731-fe63-463a-b1fa-01e9c5e66605",deleteReconModel:"ef430290-6004-497f-905f-78b0ad148f57"},Recon_field_mapping:{createFieldMapping:"ea140363-8a64-4240-8e56-3672161d660f",getAllFieldMapping:"2c5b678f-0d02-4974-a212-8c07c50b6fef",deleteFieldMappingById:"c5be86ba-ff03-4a6f-b667-56b9386aaf54"},Recon_params:{insertReconParamsData:"d89e202b-998a-40f9-ad5d-3f985e2e0890",getAllReconDataParams:"2b0b0464-d4a5-4ffe-9aad-88c2b633c03b",getReconDataParamsByCategory:"b8cce1fc-2e17-4166-b321-e7a013fe2dc6",getReconDataParamsById:"ae724112-b491-4bad-ae34-316a8e5fc4c4",deleteReconParamById:"cdfb3e27-a595-47f3-a3e8-3ec5151b4aa9"}},Account_details:{getAccountMasterDetails:"3c31bad7-5826-4261-9d80-feed5acab5ad",getAccountTypes:"232d4cb8-ebe8-4cc3-9727-bac654fcb551",getFilterByAccountType:"ccde4857-273b-46b8-90c9-2c2528ca66c6",postAccountMasterDetails:"2e32e37b-bfb7-4d56-b3c0-079c94bc00bb",postAccountMasterDetailsSettlement:"0f431ae0-f991-421e-b074-933ac0912474",postAccountSettlementMapping:"12c6aaa5-a347-4bd5-80a8-f9ed3be91eb5",getAccountMapping:"a6879f64-4015-413b-ab5d-9b401a78f80d"},File_upload:{uploadAllfiles:"b4c99ba1-5eff-4c01-96f5-fbb820e6f507",checkDuplicateDataCollectionSummary:"b4c99ba1-5eff-4c01-96f5-fbb820e6f510"},Data_collection_summary:{getDataCollectionStatus:"b4c99ba1-5eff-4c01-96f5-fbb820e6f505",getDataCollectionSummary:"b4c99ba1-5eff-4c01-96f5-fbb820e6f506",downloadDataCollectionSummary:"b4c99ba1-5eff-4c01-96f5-fbb820e6f508"},Voucher:{createVoucher:"85a892fc-d47f-439b-8b2e-fa1741bca1e7",getVouhcer:"0c872563-9b4a-4548-be27-51bed2befd65",downloadVoucher:"872b79c0-e9b5-4ef7-ad45-2f4e0e7e44a4",updateVoucher:"18e67e59-c8f0-4b8b-ad36-cd0b227b44e2",listVoucher:"8630b168-ed06-49e6-8fa6-2b788abd00f3"},Reconciliation:{reconcile:"11b2193a-d1af-464c-8ff0-3ea72ef20077",getReconProgress:"365d8aaa-8734-4d87-80df-320adb137b5e"},Recon_summary:{},UPI_reports:{subCombinationData:"f66ce2f9-21bd-45c3-8eba-f37f921bf73d",generateReports:"1b94cd2c-c18d-447b-960c-39aa7a24b604",bulkDownloadReports:"c23c216f-a910-4436-8cd6-8ba34dff7879"},NPCI_file_upload:{generateNPCIfilesData:"eac9fae6-c3ee-407f-80c3-28d8ed8c8e33",getNPCIuploadfileType:"a859e4c0-df1f-4ba6-b489-3e50e6fc4db0",getAllNPCIuploadfile:"17c9f8f4-481f-41f0-9ae4-3cdd026e98a4",downloadNPCIuploadfile:"5c8b9696-c5d4-4061-a058-67fa31b2725d",bulkdownloadNPCIuploadfile:"dfded93c-0f10-4096-8f86-296c09a42866",getTCCData:"c29d26a6-aa63-4f3b-ae52-b181732411cf",updateAsRETfileData:"899b0507-3a0e-4502-a95e-7cd95b6a8ce3",uploadRETAndTCCFile:"55605616-7f51-4c29-9b19-11d00196c4dd"},Transactions_search:{searchTransaction:"7e0ee008-18be-4591-97cc-2bdcdc1bd620"},TTUM:{getTtum:"59394e8b-bfe6-4209-b49f-502e10595233",createTtum:"bf9af141-8ad5-4faf-aa89-3f382070e0a2",downloadTtum:"019a8701-1c02-4ecc-835d-c1a68cffaa94",bulkDownloadTtum:"81bd1374-51a0-4151-ac37-512de6aedaad"},Reconsummary:{generateInwardOutwardSummaryData:"d1d9d374-8fd2-4f86-a97b-93e55536c5ba",getInwardOutwardSummaryData:"121509a2-da32-48bb-91c8-5751f34f82ce",downloadInwardOutwardSummary:"239e5a3a-2637-472c-aa77-c9b984a5c5f8",bulkdownloadInwardOutwardSummary:"9813fb35-3452-41a3-8f54-b0a005437725"},Rollback:{rollbackData:"2b34ada1-5546-4354-9e1c-ee4b07435502"},BEN_Chargeback:{getAllBENChargeback:"8448631a-a2f1-479d-8a9b-cc510179fde1",downloadBENChargeback:"f5ee27fd-2624-48ca-8333-b1d1e880d60a",updateBENChargeback:"ded51d2e-5f14-4c25-93a8-44258a4ae715",uploadBENChargeback:"79ddec58-a8a6-4654-8f1b-a3162fbfe217"},BEN_Ttum:{getBENTtum:"21de5058-925c-49c4-bc04-39d98b62cfbe",getNPCIBENTtum:"550e8400-e29b-41d4-a716-446655440000",downloadNPCIBENTtum:"123e4567-e89b-12d3-a456-426614174000"},Remitter_ageing:{getRemitterAgeingData:"bb35c74c-020f-4338-bd30-364eba7f1b41",getRemitterAgeingSummary:"ab8d3b9f-65fb-4a8f-9242-30889d447b80"},Beneficiary_ageing:{getBeneficiaryAgeingData:"24301b4a-5231-47c3-8deb-890d97d52018",getBeneficiaryAgeingSummary:"eaeecf1f-8273-45ec-b1b1-37735da525b3"},Npci_tat:{getNpciTatData:"42d1a056-4066-4b26-a9f3-ea938ade169c"},Gl_upload:{uploadGlFile:"3fc0a2b2-bb17-405a-b29a-77f35d86910c"},Remitter_TTUM:{getRemitterTtumData:"1c4a51ca-1d42-45c7-a65a-b54b599e3442",getRemitterNpciTtumData:"0ef017f2-6b6e-4810-bbeb-4d9d9eaf24a4",downloadRemitterNpciTtumData:"39a8d9c8-7023-4077-9fc7-4773492780f3"},Adjustmenttype:{getAdjustmenttype:"f6272327-4ee9-4000-a96d-96806773da73"},Remitterchargeback:{getRemitterchargeback:"27b9a187-b263-4ae4-a9cb-9d0e5517d627",downloadRemitterchargeback:"204f631a-e373-4e9b-b09e-69f863139089",takeActionOnRemitterchargeback:"91c53868-bdeb-416f-9887-b237363295f8",takeActionOnRemitterchargebackbyFileUpload:"615c6b1a-5132-4b71-8582-37bf850437b0",getRemitterOverallChargeback:"3988d6ad-60aa-416e-99c6-bc973540b27a"},Transactionsearchdispute:{Searchdisputetransaction:"215735fe-c3b7-4500-9fac-8ccf104963de"},manualRegisterComplaint:{getManualRegisterComplaint:"4f8e0f3c-60b1-4d82-b2f0-b3d5c3e8e1a6",createManualRegisterComplaint:"9c1b5e4d-f8c7-4d2b-9d43-56f6f8e19e80",uploadComplaintRegister:"ee8051e5-2d61-4619-b29e-2374eb67b126",getReasonCode:"12b5f16e-8deb-4d62-ab76-fc31e17f2b51",getTxnsSubType:"e5913d69-0bc4-414f-b82f-d8567ccb0543"},SingleATMReconDetails:{getSingleATMReconDetails:"bb6126b4-10e4-4325-8ae7-9220eb055c95",getPartAPartBDetails:"bb6126b4-10e4-4325-8ae7-9220eb055c96"},verifyRealm:{getRealm:"fb6126b4-10e4-4325-8ae7-9220eb055c98"}}},8059:(Ui,ni,N)=>{"use strict";N.d(ni,{w:()=>j});var b=N(1626),O=N(193),E=N(1413),ye=N(6354),K=N(2185),Ke=N(7705);let j=(()=>{class rt{projectCreated(ee){this.projectCreatedSource.next(ee)}constructor(ee){this.http=ee,this.allData=[],this.reconURL=O.$.reconURL,this.serverURLforUniRec=O.$.serverURLforUniRec,this.disputeUrl=O.$.disputeUrl,this.serverURL=O.$.serverURL,this.serverURLforOpMng=O.$.serverURL,this.projectCreatedSource=new E.B,this.projectCreated$=this.projectCreatedSource.asObservable(),this.tenant_id=localStorage.getItem("tenant_id")}getRealmName(ee){return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/api/verifyRealm/v1/${ee}`,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(ue=>{Ce(ue)},ve)})}getAllProduct(){return new Promise((ee,Ce)=>{this.http.get(`${this.serverURLforOpMng}/api/products/v1`,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(ve=>ve)).subscribe(ve=>{ee(ve)},Ce)})}getAllMyProduct(){return new Promise((ee,Ce)=>{this.http.get(`${this.serverURLforOpMng}/api/tenant/${this.tenant_id}/products/v1`).pipe((0,ye.T)(ve=>ve)).subscribe(ve=>{ee(ve)},Ce)})}addToMyProduct(ee){return new Promise((Ce,ve)=>{this.http.post(`${this.serverURLforOpMng}/api/tenant/${this.tenant_id}/products/v1`,ee).subscribe(ue=>{Ce(ue)},ve)})}deleteMyAddedProduct(ee){return new Promise((Ce,ve)=>{this.http.delete(`${this.serverURL}/api/tenant/${this.tenant_id}/products/v1/${ee}`).pipe((0,ye.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAllApps(ee){return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforOpMng}/api/products/${ee}/applications/v1`,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAllprojectByProductId(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.Project.getAllProject}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}createProject(ee,Ce){const ue={params:ee,headers:new b.Lr({Permissions:'["Project:create"]'})};return new Promise((P,Be)=>{this.http.post(`${this.serverURLforOpMng}/${K.f.Project.createProject}`,Ce,ue).pipe((0,ye.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}getProjectByProjectId(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.Project.getProjectById}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}updateProject(ee,Ce){const ue={params:ee,headers:new b.Lr({Permissions:'["Project:edit"]'})};return new Promise((P,Be)=>{this.http.put(`${this.serverURLforOpMng}/${K.f.Project.updateProject}`,Ce,ue).pipe((0,ye.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}deleteProjectDetailsById(ee){const Ce=new b.Lr({Permissions:'["Project:delete"]'});return new Promise((ve,ue)=>{this.http.delete(`${this.serverURLforOpMng}/${K.f.Project.deleteProject}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getProjectType(){const ee=new b.Lr({Permissions:'["Project:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.Project.getProjectType}`,{headers:ee}).pipe((0,ye.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getProjectsbyProjectType(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURL}/${K.f.Project.getAllProjectByType}`,{params:ee,headers:Ce}).subscribe(P=>{ve(P)},ue)})}getReconDataProjectId(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.Project.getBankCodeByProjectId}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getAllIcon(){return new Promise((ee,Ce)=>{this.http.get(`${this.serverURLforOpMng}/api/icons/v1`,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(ve=>ve)).subscribe(ve=>{ee(ve)},Ce)})}getUserAttributes(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.User.getUserAttributes}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getUserRole(ee){const Ce=new b.Lr({Permissions:'["Project:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforOpMng}/${K.f.User.getUserRole}`,{params:ee,headers:Ce}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}changePassword(ee,Ce){return new Promise((ve,ue)=>{this.http.put(`${this.serverURLforOpMng}/api/tenant/${this.tenant_id}/users/v1/${ee}/changePassword`,Ce).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}updateUserDetailsbyId(ee,Ce){return new Promise((ve,ue)=>{this.http.post(`${this.serverURLforOpMng}/api/profile/v1/userId/${ee}`,Ce,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getAllFrequency(){return new Promise((ee,Ce)=>{this.http.get(`${this.serverURL}/api/frequency/getallfrequency`,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(ve=>ve)).subscribe(ve=>{ee(ve)},Ce)})}getRuleEngineData(){return new Promise((ee,Ce)=>{this.http.get(`${this.serverURL}/api/businessRules/fetchRules`,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(ve=>ve)).subscribe(ve=>{ee(ve)},Ce)})}addFrequency(ee){return this.http.post(`${this.serverURL}/api/frequency/createFrequency`,ee)}updateFrequency(ee,Ce){return console.log("frequency:",Ce),this.http.put(`${this.serverURL}/api/frequency/updateFrequency/${ee}`,Ce)}deleteFrequency(ee){return this.http.delete(`${this.serverURL}/api/frequency/delete/${ee}`)}uploadSampleDataSourceFile(ee){const Ce=this.tenant_id;return new Promise((ve,ue)=>{this.http.post(`${this.serverURLforUniRec}/api/dataModel/v1/uploadSampleFile/tenant/${Ce}`,ee,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,ye.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getVouchersList(ee){console.log("inside getVouchersList service ");const Ce=new b.Lr({Permissions:'["Voucher:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforUniRec}/${K.f.Voucher.listVoucher}`,{params:ee,headers:Ce}).subscribe(P=>{console.log("recon Response",P),ve(P)},P=>{ue(P)})})}getReconCombination(ee){return console.log("project_Id",ee),new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/api/forcematch/v1/reconcombination/project/${ee}/tenant`,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(P=>{console.log("recon Response",P),Ce(P)},P=>{ve(P)})})}getForceMatchDatav1(ee,Ce,ve,ue){return console.log("datasource_combination",ee),console.log("project_Id",ue),new Promise((Be,Ct)=>{this.http.get(`${this.serverURLforUniRec}/api/forcematch/v1/combination/project/${ue}/tenant`,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(qt=>{console.log("recon Response",qt),Be(qt)},qt=>{Ct(qt)})})}getForceMatchData(ee,Ce){return console.log("datasource_combination",ee),console.log("project_Id",Ce),new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/forcematch/v2/combination/project/${Ce}/tenant`,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(Be=>{console.log("recon Response",Be),ue(Be)},Be=>{P(Be)})})}updateForceMatchDatav1(ee){console.log("forcefullyMatchData in service in v1",ee);const Ce=`${this.serverURLforUniRec}/api/forcematch/v1/updateForceMatch/tenant/${this.tenant_id}`;return new Promise((ve,ue)=>{this.http.post(Ce,ee,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(P=>{ve(P)},P=>{ue(P)})})}updateForceMatchData(ee){console.log("forcefullyMatchData in service",ee);const Ce=`${this.serverURLforUniRec}/api/forcematch/v2/updateForceMatch/tenant/${this.tenant_id}`;return new Promise((ve,ue)=>{this.http.post(Ce,ee,{headers:new b.Lr({"Skip-Transform":"true"})}).subscribe(P=>{ve(P)},P=>{ue(P)})})}static{this.\u0275fac=function(Ce){return new(Ce||rt)(Ke.KVO(b.Qq))}}static{this.\u0275prov=Ke.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}}return rt})()},7222:(Ui,ni,N)=>{"use strict";N.d(ni,{J:()=>E});var b=N(7705),O=N(5416);let E=(()=>{class ye{constructor(Ke){this.snackBar=Ke}showSuccessToast(Ke,j){this.snackBar.open(Ke,j,{duration:6e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}showErrorToast(Ke,j){this.snackBar.open(Ke,j,{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-error"})}showSuccessToast1(Ke,j){this.snackBar.open(Ke,j,{horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}static{this.\u0275fac=function(j){return new(j||ye)(b.KVO(O.UG))}}static{this.\u0275prov=b.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})()},6316:(Ui,ni,N)=>{"use strict";N.d(ni,{V:()=>Ke});var b=N(1626),O=N(193),E=N(6354),ye=N(2185),K=N(7705);let Ke=(()=>{class j{constructor(ie){this.http=ie,this.serverURLforUniRec=O.$.serverURLforUniRec,this.reconURL=O.$.reconURL,this.tenant_id=localStorage.getItem("tenant_id")}getlastReconciledData(ie){const ee=new b.Lr({Permissions:'["Dashboard:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Dashboard.getlastreconciledData}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getReconciledStatus(ie){const ee=new b.Lr({Permissions:'["Dashboard:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Dashboard.getreconciledstatus}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getOverallTransactions(ie){const ee=new b.Lr({Permissions:'["Dashboard:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Dashboard.getoveralltransactions}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDtailedtransactionscount(ie){const ee=new b.Lr({Permissions:'["Dashboard:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Dashboard.getdetailedtransactioncount}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDataConfigByProjectId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Datasource_config.getDataConfigByProjectId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAllDataModelByProjectId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Datasource_config.getAllDataModelByProjectId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}createDataModel(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Data configuration:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_model.createDataModel}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}updateDataModel(ie,ee){console.log("Inside UpdateDataModel Service ",ee);const ve={params:ie,headers:new b.Lr({Permissions:'["Data configuration:edit"]'})};return new Promise((ue,P)=>{this.http.put(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_model.updateDataModel}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getdataSourcesbyProjectId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_sources.getDatasourceByProjectId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}createDataSource(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Data configuration:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_sources.createDataSource}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getDatasourceById(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_sources.getDatasourceById}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}deleteDatasource(ie){const ee=new b.Lr({Permissions:'["Data configuration:delete"]'});return new Promise((Ce,ve)=>{this.http.delete(`${this.serverURLforUniRec}/${ye.f.Data_configuration.Data_sources.deleteDatasource}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDataSourceTypeByProjectType(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.dataSource_types.getDataSourceTypeByProjectType}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDatasourceFileInfoByProjectId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_files.getDatasourceFileInfoByProjectId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}uploadSampleForDatasource(ie,ee,Ce,ve,ue){return new Promise((P,Be)=>{this.http.post(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/datasource-configs/dataSources/datasource-files/v1/datasource_id/${ve}/upload-sample`,ue,{headers:new b.Lr({"Skip-Transform":"true"})}).pipe((0,E.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}deleteDatasourceFileInfoByDatasourceId(ie){const ee=new b.Lr({Permissions:'["Data configuration:delete"]'});return new Promise((Ce,ve)=>{this.http.delete(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_files.deleteDatasourceFileInfoByDatasourceId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getHeadersByDataSourceId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_headers.getHeadersByDataSourceId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDataSourceFieldsByProjectId(ie){const ee=new b.Lr({Permissions:'["Data configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_fields.getDataSourceFieldsByProjectId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}createDataSourceFields(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Data configuration:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_fields.createDataSourceFields}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}deleteDatasourceFieldsByDatasourceId(ie){const ee=new b.Lr({Permissions:'["Data configuration:delete"]'});return new Promise((Ce,ve)=>{this.http.delete(`${this.serverURLforUniRec}/${ye.f.Data_configuration.datasource_fields.deleteDatasourceFieldsByDatasourceId}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAllReconDataParams(ie,ee,Ce){return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/reconParams/v1`).pipe((0,E.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getReconDataParamsByCategory(ie){const ee=new b.Lr({Permissions:'["Recon configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_params.getReconDataParamsByCategory}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}addDataReconParam(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon configuration:create"]'})};return console.log("body in service=>",ee),new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_params.insertReconParamsData}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}deleteReconParamById(ie){const ee=new b.Lr({Permissions:'["Recon configuration:delete"]'});return new Promise((Ce,ve)=>{this.http.delete(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_params.deleteReconParamById}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAllReconConfigData(ie){const ee=new b.Lr({Permissions:'["Recon configuration:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_model.getAllReconConfigData}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}createReconModel(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon configuration:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_model.createReconModel}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}UpdateReconModel(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon configuration:edit"]'})};return new Promise((ue,P)=>{this.http.put(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_model.UpdateReconModel}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}createFieldMapping(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon configuration:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_field_mapping.createFieldMapping}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}deleteFieldMapping(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon configuration:delete"]'}),body:ee};return new Promise((ue,P)=>{this.http.delete(`${this.serverURLforUniRec}/${ye.f.Recon_configuration.Recon_field_mapping.deleteFieldMappingById}`,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}addAccountMaster(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Account detail:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Account_details.postAccountMasterDetailsSettlement}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}accountMappingSettlement(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Account detail:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Account_details.postAccountSettlementMapping}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getAccountMapping(ie){const ee=new b.Lr({Permissions:'["Account detail:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Account_details.getAccountMapping}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getAccountMasterDetails(ie){const ee=new b.Lr({Permissions:'["Account detail:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Account_details.getAccountMasterDetails}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}uploadAccountMasterData(ie,ee){return console.log("Inside UploadChargebackRemFile Service "),new Promise((Ce,ve)=>{this.http.post(`${this.serverURLforUniRec}/api/projects/${ie}/account-master/v1/accountMasterDetails`,ee).subscribe(ue=>{Ce(ue)},ve)})}getAccountTypes(ie){const ee=new b.Lr({Permissions:'["Account detail:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Account_details.getAccountTypes}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDataByAccountTypes(ie){const ee=new b.Lr({Permissions:'["Account detail:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Account_details.getFilterByAccountType}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}UploadAllFiles(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["File upload:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.File_upload.uploadAllfiles}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getExistingFile(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["File upload:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.File_upload.checkDuplicateDataCollectionSummary}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getDataCollectionStatus(ie){const ee=new b.Lr({Permissions:'["Data collection status:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_collection_summary.getDataCollectionStatus}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}downloadCollectionStatusData(ie,ee,Ce,ve,ue,P){return new Promise((Be,Ct)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atm-files/v1?creation_date=${ve}&datasource_id=${ue}`,{responseType:"blob"}).pipe((0,E.T)(qt=>qt)).subscribe(qt=>{Be(qt)},Ct)})}detacollectionsummary(ie){const ee=new b.Lr({Permissions:'["Data collection summary:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_collection_summary.getDataCollectionSummary}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getDataCollectionSummery(ie){const ee=new b.Lr({Permissions:'["Data collection summary:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Data_collection_summary.downloadDataCollectionSummary}`,{params:ie,headers:ee,responseType:"blob"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generateVouchers(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Voucher:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Voucher.createVoucher}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getVouchergenerationData(ie){const ee=new b.Lr({Permissions:'["Voucher:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Voucher.getVouhcer}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}downloadSettlementVoucher(ie){const ee=new b.Lr({Permissions:'["Voucher:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Voucher.downloadVoucher}`,{params:ie,headers:ee,responseType:"blob"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}updateVoucherStatus(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Voucher:edit"]'})};return new Promise((ue,P)=>{this.http.put(`${this.serverURLforUniRec}/${ye.f.Voucher.updateVoucher}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getVouchersList(ie){console.log("inside getVouchersList service ");const ee=new b.Lr({Permissions:'["Voucher:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Voucher.listVoucher}`,{params:ie,headers:ee}).subscribe(ue=>{console.log("recon Response",ue),Ce(ue)},ue=>{ve(ue)})})}reconcile(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Reconciliation:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.reconURL}/${ye.f.Reconciliation.reconcile}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getReconProgress(ie){const ee=new b.Lr({Permissions:'["Reconciliation:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.reconURL}/${ye.f.Reconciliation.getReconProgress}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generateInwardOutwardSummaryData(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Recon summary:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Reconsummary.generateInwardOutwardSummaryData}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getInwardOutwardSummaryData(ie){const ee=new b.Lr({Permissions:'["Recon summary:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Reconsummary.getInwardOutwardSummaryData}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}downloadInwardOutwardSummary(ie){const ee=new b.Lr({Permissions:'["Recon summary:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Reconsummary.downloadInwardOutwardSummary}`,{params:ie,headers:ee,responseType:"blob"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}bulkdownloadInwardOutwardSummary(ie){const ee=new b.Lr({Permissions:'["Recon summary:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Reconsummary.bulkdownloadInwardOutwardSummary}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generatePostReconTTUMs(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Ttum:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.TTUM.createTtum}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getTTUMgenerationData(ie){const ee=new b.Lr({Permissions:'["Ttum:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.TTUM.getTtum}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}downloadTTUMS(ie){const ee=new b.Lr({Permissions:'["Ttum:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.TTUM.downloadTtum}`,{params:ie,headers:ee,responseType:"blob"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}bulkdownloadTTUMS(ie){const ee=new b.Lr({Permissions:'["Ttum:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.TTUM.bulkDownloadTtum}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getSubCombination(ie){const ee=new b.Lr({Permissions:'["Reports:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.UPI_reports.subCombinationData}`,{params:ie,headers:ee}).pipe((0,E.T)(P=>P)).subscribe(P=>{Ce(P)},ve)})}generateReports(ie){const ee=new b.Lr({Permissions:'["Reports:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.UPI_reports.generateReports}`,{params:ie,headers:ee,responseType:"blob"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}bulkDownloadReports(ie){const ee=new b.Lr({Permissions:'["Reports:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.UPI_reports.bulkDownloadReports}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generateEjMissingReports(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/ejMissingReport`,{params:ve,responseType:"blob"}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}rollbackData(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["Rollback:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.Rollback.rollbackData}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getTranData(ie){const ee=new b.Lr({Permissions:'["Transactions search:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.Transactions_search.searchTransaction}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generateNPCIfiles(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["NPCI file upload:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.generateNPCIfilesData}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getAllNPCIuploadfile(ie){const ee=new b.Lr({Permissions:'["NPCI file upload:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.getAllNPCIuploadfile}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}downloadNPCIfiles(ie){const ee=new b.Lr({Permissions:'["NPCI file upload:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.downloadNPCIuploadfile}`,{params:ie,headers:ee,responseType:"blob",observe:"response"}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getTCCData(ie){const ee=new b.Lr({Permissions:'["NPCI file upload:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.getTCCData}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}updateAsRETfileData(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["NPCI file upload:create"]'})};return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.updateAsRETfileData}`,ee,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}uploadRETAndTCCFile(ie,ee){const ve={params:ie,headers:new b.Lr({Permissions:'["NPCI file upload:create"]'})};return console.log("Inside UploadChargebackRemFile Service "),new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.uploadRETAndTCCFile}`,ee,ve).subscribe(Be=>{ue(Be)},P)})}bulkdownloadNPCIuploadfile(ie){const ee=new b.Lr({Permissions:'["NPCI file upload:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.NPCI_file_upload.bulkdownloadNPCIuploadfile}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}getSingleATMReconDetails(ie,ee){console.log("getSingleATMReconDetails params",ee);const Ce=new b.Lr({Permissions:'["ATM Reconciliation:view"]'});return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.SingleATMReconDetails.getSingleATMReconDetails}`,{params:ie,headers:Ce}).pipe((0,E.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getPartAPartBDetails(ie){const ee=new b.Lr({Permissions:'["ATM Reconciliation:view"]'});return new Promise((Ce,ve)=>{this.http.get(`${this.serverURLforUniRec}/${ye.f.SingleATMReconDetails.getPartAPartBDetails}`,{params:ie,headers:ee}).pipe((0,E.T)(ue=>ue)).subscribe(ue=>{Ce(ue)},ve)})}generateATMEODReports(ie,ee,Ce,ve,ue){return new Promise((P,Be)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/Type/${ve}`,{params:ue,responseType:"blob"}).pipe((0,E.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}postConfirmRecon(ie,ee,Ce,ve,ue){const P={};return new Promise((Be,Ct)=>{this.http.post(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmTallied/v1/atm_id/${ue}/creation_date/${ve}`,P).pipe((0,E.T)(qt=>qt)).subscribe(qt=>{Be(qt)},Ct)})}getReconciledAtmRecored(ie,ee,Ce){return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmTallied/v1`).pipe((0,E.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getAtmReportsType(){return new Promise((ie,ee)=>{this.http.get(`${this.serverURLforUniRec}/api/v1/reportsType`).pipe((0,E.T)(Ce=>Ce)).subscribe(Ce=>{ie(Ce)},ee)})}getAtmReportsTxnTypes(){return new Promise((ie,ee)=>{this.http.get(`${this.serverURLforUniRec}/api/v1/reportsTxnTypes`).pipe((0,E.T)(Ce=>Ce)).subscribe(Ce=>{ie(Ce)},ee)})}getATMReportsDownload(ie,ee,Ce,ve,ue){return new Promise((P,Be)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/Type/${ve}`,{params:ue,responseType:"blob"}).pipe((0,E.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}getATMReportsData(ie,ee,Ce,ve,ue){return new Promise((P,Be)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/Type/${ve}/display`,{params:ue}).pipe((0,E.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}downloadEodToEodExceptionReport(ie,ee,Ce,ve,ue,P,Be){return new Promise((Ct,qt)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/fromDate/${ue}/toDate/${P}/atm_id/${ve}/type/${Be}/download`,{responseType:"blob"}).pipe((0,E.T)(pt=>pt)).subscribe(pt=>{Ct(pt)},qt)})}getExceptionTxnATMListing(ie,ee,Ce,ve){return console.log("Inside getEJTxnATMListing"),new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/exceptionListing`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getEodToEodExceptionData(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmReports/v1/exceptionListing`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getAtmMasterDetails(ie,ee,Ce){return new Promise((ve,ue)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atm-master/v1`).pipe((0,E.T)(P=>P)).subscribe(P=>{ve(P)},ue)})}getAtmMasterDetailsByAtmId(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atm-master/v1/atm-id/${ve}`).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}uploadAtmMasterDetails(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atm-master/v1/bulk-upload`,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getSwitchAtmListing(ie,ee,Ce,ve){return console.log("Inside getSwitchAtmListing"),new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/switchTxnListing`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}downloadSwitchTxnListingData(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/switchTxnListing/download`,{params:ve,responseType:"blob"}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getGlTxnATMListing(ie,ee,Ce,ve){return console.log("Inside getGlTxnATMListing"),new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/glTxnListing`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}downloadGlTxnListingData(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/glTxnListing/download`,{params:ve,responseType:"blob"}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getEJTxnATMListing(ie,ee,Ce,ve){return console.log("Inside getEJTxnATMListing"),new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/ejTxnListing`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}downloadEjTxnListingData(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/ejTxnListing/download`,{params:ve,responseType:"blob"}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getEjMissingScreenDetails(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1/ejMissingDetails`,{params:ve}).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}insertMissingEjTxns(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmListing/v1`,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}AddadjustmentTTUM(ie,ee,Ce,ve){return new Promise((ue,P)=>{this.http.post(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/atmAdjustment/v1`,ve).pipe((0,E.T)(Be=>Be)).subscribe(Be=>{ue(Be)},P)})}getOverageShortageData(ie,ee,Ce,ve,ue){return new Promise((P,Be)=>{this.http.get(`${this.serverURLforUniRec}/api/tenant/${this.tenant_id}/products/${ie}/applications/${ee}/projects/${Ce}/ovrageShortage/v1/fromDate/${ue}/atmId/${ve}`).pipe((0,E.T)(Ct=>Ct)).subscribe(Ct=>{P(Ct)},Be)})}static{this.\u0275fac=function(ee){return new(ee||j)(K.KVO(b.Qq))}}static{this.\u0275prov=K.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},4173:(Ui,ni,N)=>{"use strict";N.d(ni,{G:()=>Ke});var b=N(467),O=N(193),E=N(9410),ye=N(8147),K=N(7705);let Ke=(()=>{class j{constructor(){this.keyCloakURL=O.$.keycloakURL,this.serverURL=O.$.serverURL,this.applicationURL=O.$.applicationURL,this.KeycloakURL=`${this.keyCloakURL}`,this.Realm=localStorage.getItem("RealmName"),this._keycloakInstance=new E.F1,this._keycloakjsInstance=new ye.A,this._currentRealm={name:"",displayName:"",ClientId:""}}get keycloakInstance(){return this._keycloakjsInstance}get currentRealm(){return this._currentRealm}set currentRealm(ie){this._currentRealm=ie}initializeKeycloakjs(ie){console.log("Realm",ie),console.log(localStorage.getItem("token"),localStorage.getItem("refreshToken"));const ee=localStorage.getItem("token"),Ce=localStorage.getItem("refreshToken");return this._keycloakjsInstance=new ye.A({url:O.$.keycloakURL,realm:this.Realm,clientId:O.$.clientId}),this._keycloakjsInstance.init({checkLoginIframe:!1,onLoad:"check-sso",silentCheckSsoRedirectUri:window.location.origin+"/assets/silent-check-sso.html",token:ee||"",refreshToken:Ce||""})}getUserProfile(){var ie=this;return(0,b.A)(function*(){yield ie._keycloakjsInstance.loadUserProfile().then(ee=>(console.log("user profile:",ee),ee))})()}isLoggedIn(){var ie=this;return(0,b.A)(function*(){const Ce=new ye.A({url:O.$.keycloakURL,realm:ie.Realm,clientId:O.$.clientId}),ve=localStorage.getItem("token"),ue=localStorage.getItem("refreshToken");return Ce.init({token:ve,refreshToken:ue}).then(function(P){return P?(console.log("User is authenticated",P),!0):(console.log("User is not authenticated",P),!1)}).catch(function(P){console.error("Keycloak initialization error:",P)})})()}logout(){var ie=this;return(0,b.A)(function*(){const Ce=new ye.A({url:O.$.keycloakURL,realm:ie.Realm,clientId:O.$.clientId}),ve=localStorage.getItem("token"),ue=localStorage.getItem("refreshToken");Ce.init({token:ve,refreshToken:ue}).then(P=>{P?(console.log("User is authenticated"),Ce.logout({redirectUri:`${ie.applicationURL}`}),localStorage.clear()):(localStorage.removeItem("token"),localStorage.clear(),sessionStorage.clear(),window.location.href=`${ie.applicationURL}`,console.log("User is not authenticated"))}).catch(P=>{console.error("Keycloak initialization error",P)})})()}static{this.\u0275fac=function(ee){return new(ee||j)}}static{this.\u0275prov=K.jDH({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},8908:(Ui,ni,N)=>{"use strict";N.d(ni,{T:()=>E});var b=N(7705),O=N(4006);let E=(()=>{class ye{static{this.\u0275fac=function(j){return new(j||ye)}}static{this.\u0275cmp=b.VBU({type:ye,selectors:[["app-popup-loader"]],decls:4,vars:0,consts:[[1,"loading-header"],["src","../../../assets/Loader.gif","alt","Loader",2,"width","100%"]],template:function(j,rt){1&j&&(b.j41(0,"mat-dialog-content")(1,"span",0),b.EFF(2,"We're processing your request. Please hold on."),b.k0s(),b.nrm(3,"img",1),b.k0s())},dependencies:[O.Yi],styles:[".loading-header[_ngcontent-%COMP%]{color:#000;font-size:20px;font-weight:400;letter-spacing:.196px;text-align:center;display:flex;justify-content:center;margin-top:10%}"]})}}return ye})()},9774:(Ui,ni,N)=>{"use strict";N.r(ni),N.d(ni,{ProfileModule:()=>Ai});var b=N(177),O=N(8498),E=N(7705),ye=N(8059),K=N(9417),Ke=N(5416),j=N(1626),rt=N(6467),ie=N(9631);function ee(oi,q){if(1&oi&&(E.qex(0,30),E.nrm(1,"img",31),E.bVm()),2&oi){const Ot=E.XpG();E.R7$(1),E.Y8G("src",Ot.profileImageSrc,E.B4B)}}function Ce(oi,q){1&oi&&E.nrm(0,"img",32)}function ve(oi,q){if(1&oi&&E.nrm(0,"img",33),2&oi){const Ot=E.XpG();E.Y8G("src",Ot.profileImgUrl,E.B4B)}}function ue(oi,q){1&oi&&E.EFF(0," image ")}const Be=[{path:"profile",component:(()=>{class oi{constructor(Ot,Oe,Le,We,Ye){this.commonService=Ot,this.fb=Oe,this._snackBar=Le,this.router=We,this.http=Ye,this.profileForm=this.fb.group({firstName:[""],lastName:[""],email:[""],profile_image:[""]})}ngOnInit(){this.userId=localStorage.getItem("userId"),console.log("this.userId",this.userId)}onFileSelected(Ot){const Oe=Ot.target.files[0];console.log("file:",Oe),this.files=Ot.target.files[0].name,Oe&&this.previewImage(Ot)}previewImage(Ot){if(console.log("target:",Ot.target),Ot.target?.files&&Ot.target.files[0]){var Oe=new FileReader;Oe.readAsDataURL(Ot.target.files[0]),Oe.onload=Le=>{this.profileImgUrl=Le.target.result}}this.profileImage=Ot.target.files[0],console.log("preview image:",this.profileImage)}onCancel(){this.router.navigate(["/recon/main/home"])}handleImageError(){console.log("Error loading image")}onSubmit(){console.log("test"),console.log("Form values:",this.profileForm?.value);const Ot=new FormData;Ot.append("firstName",this.profileForm?.get("firstName")?.value||""),Ot.append("lastName",this.profileForm?.get("lastName")?.value||""),Ot.append("email",this.profileForm?.get("email")?.value||""),this.profileImage&&(console.log("new image:",this.profileImage),Ot.append("profile_image",this.profileImage)),console.log("Form data:",Ot),this.commonService.updateUserDetailsbyId(this.userId,Ot).then(Oe=>{console.log("User details updated successfully:",Oe),200===Oe.statusCode?this.showSuccessToast("Profile updated successfully"):this.showErrorToast("Fail to update profile"),window.location.reload()}).catch(Oe=>{console.error("Error updating user details:",Oe)})}showSuccessToast(Ot){this._snackBar.open(Ot,"\xd7",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}showErrorToast(Ot){this._snackBar.open(Ot,"\xd7",{duration:1e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-error"})}static{this.\u0275fac=function(Oe){return new(Oe||oi)(E.rXU(ye.w),E.rXU(K.ok),E.rXU(Ke.UG),E.rXU(O.Ix),E.rXU(j.Qq))}}static{this.\u0275cmp=E.VBU({type:oi,selectors:[["app-profile"]],decls:51,vars:7,consts:[[1,"title"],[1,"content"],["class","imagee",4,"ngIf","ngIfElse"],["noImage",""],[1,"name"],[1,"username"],[1,"useremail"],[1,"container"],[1,"row"],[1,"col-xl-6"],[1,"personinfo"],[1,"updateimg"],[3,"formGroup"],[1,"table","col-xl-8"],["appearance","outline",1,"project-input"],["matInput","","formControlName","firstName",1,"mat-input-element"],["matInput","","formControlName","lastName",1,"mat-input-element"],["matInput","","formControlName","email",1,"mat-input-element"],[1,"custom-container"],[1,"replica-box"],[1,"material-symbols-outlined"],["alt","Preview","height","37px","style","opacity: 1;",3,"src",4,"ngIf","ngIfElse"],["noimage",""],[1,"custom-container-box"],[1,"custom-file-upload"],["type","file","formControlName","profile_image",3,"change"],[1,"custom-container-title"],[1,"custom-container-content"],[1,"buttons",3,"click"],["type","submit",1,"buttons1",3,"click"],[1,"imagee"],["alt","",1,"img-fluid",3,"src"],["src","../assets/noprofile.png","alt","",1,"img-fluid"],["alt","Preview","height","37px",2,"opacity","1",3,"src"]],template:function(Oe,Le){if(1&Oe&&(E.j41(0,"div",0),E.nrm(1,"div",1),E.j41(2,"div"),E.DNE(3,ee,2,1,"ng-container",2),E.DNE(4,Ce,1,0,"ng-template",null,3,E.C5r),E.j41(6,"div",4)(7,"span",5),E.EFF(8),E.k0s(),E.j41(9,"p",6),E.EFF(10),E.k0s()()(),E.j41(11,"div",7)(12,"div",8)(13,"div",9)(14,"p",10),E.EFF(15,"Personal info"),E.k0s(),E.j41(16,"p",11),E.EFF(17,"Update your personal details."),E.k0s()(),E.j41(18,"form",12)(19,"div",13)(20,"mat-form-field",14)(21,"mat-label"),E.EFF(22,"First name"),E.k0s(),E.nrm(23,"input",15),E.k0s(),E.j41(24,"mat-form-field",14)(25,"mat-label"),E.EFF(26,"Last name"),E.k0s(),E.nrm(27,"input",16),E.k0s(),E.j41(28,"mat-form-field",14)(29,"mat-label"),E.EFF(30,"Email id"),E.k0s(),E.nrm(31,"input",17),E.k0s(),E.j41(32,"div",18)(33,"div",19)(34,"span",20),E.DNE(35,ve,1,1,"img",21),E.k0s(),E.DNE(36,ue,1,0,"ng-template",null,22,E.C5r),E.k0s(),E.j41(38,"div",23)(39,"label",24)(40,"input",25),E.bIt("change",function(Ye){return Le.onFileSelected(Ye)}),E.k0s(),E.j41(41,"span",20),E.EFF(42," upload "),E.k0s()(),E.j41(43,"p",26),E.EFF(44,"Click to upload or drag and drop"),E.k0s(),E.j41(45,"p",27),E.EFF(46,"PNG, JPG (max 150mb)"),E.k0s()()(),E.j41(47,"button",28),E.bIt("click",function(){return Le.onCancel()}),E.EFF(48,"Cancel"),E.k0s(),E.j41(49,"button",29),E.bIt("click",function(){return Le.onSubmit()}),E.EFF(50,"Save changes"),E.k0s()()()()()()),2&Oe){const We=E.sdS(5),Ye=E.sdS(37);E.R7$(3),E.Y8G("ngIf",Le.profileImageSrc)("ngIfElse",We),E.R7$(5),E.JRh(null==Le.UserData?null:Le.UserData.username),E.R7$(2),E.JRh(null==Le.UserData?null:Le.UserData.email),E.R7$(8),E.Y8G("formGroup",Le.profileForm),E.R7$(17),E.Y8G("ngIf",Le.profileImgUrl)("ngIfElse",Ye)}},dependencies:[b.bT,K.qT,K.me,K.BC,K.cb,K.j4,K.JD,rt.rl,rt.nJ,ie.fg],styles:['.title[_ngcontent-%COMP%]{background:linear-gradient(92deg,#C4D5FF 25.83%,rgba(176,159,244,.63) 59.6%,rgba(218,188,255,.71) 93.36%);height:15em;padding-top:1px}.mat-mdc-form-field[_ngcontent-%COMP%]{width:27em;margin-left:1.5em}.content[_ngcontent-%COMP%]{margin-left:4%;margin-top:3%}.img-fluid[_ngcontent-%COMP%]{width:170px;height:171px;margin-left:13em;margin-top:6em;border-radius:100px}.col-xl-6[_ngcontent-%COMP%]{margin-left:4em;margin-top:3em}.name[_ngcontent-%COMP%]{margin-top:-3em}.imagee[_ngcontent-%COMP%]{display:flex}.username[_ngcontent-%COMP%]{color:#101828;font-family:Inter;font-size:40px;font-style:normal;font-weight:600;line-height:34px;letter-spacing:.1px;margin-left:10em}.useremail[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:18px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.1px;margin-left:22.3em}.personinfo[_ngcontent-%COMP%]{color:#344054;font-family:Inter;font-size:18px;font-style:normal;font-weight:600;line-height:24px;letter-spacing:.1px}.updateimg[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.1px}.inputbox[_ngcontent-%COMP%]{display:flex;width:435px;height:44px;flex-shrink:0;border-radius:10px;margin-right:30px;border:1px solid #475467}.inputbox1[_ngcontent-%COMP%]{display:flex;width:435px;margin-left:500px;padding-top:-10px;height:44px;flex-shrink:0;border-radius:10px;border:1px solid #475467}.NAME[_ngcontent-%COMP%]{margin-left:500px;margin-top:-5em}.col-xl-8[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;margin-right:50px}.inputboxx[_ngcontent-%COMP%]{width:940px;border-radius:10px;border:1px solid #475467;height:44px}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5235f6;font-family:Inter;font-size:14px;font-style:normal;font-weight:600;line-height:20px;letter-spacing:.5px}.maintab[_ngcontent-%COMP%]{color:#344054;font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.5px}.jpgformat[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.5px}.download[_ngcontent-%COMP%]{border:1px solid #EAECF0;width:570px;justify-content:center;align-items:center;border-radius:10px;padding:25px 0 25px 300px;margin-left:80px}.table[_ngcontent-%COMP%]{border:1px solid #EAECF0;margin-left:37em;padding:50px;width:955px;border-radius:18px;margin-top:-4em}.table[_ngcontent-%COMP%]   .custom-container[_ngcontent-%COMP%]{padding:20px 14px 20px 15px;border-radius:8px;border:1px solid #D0D5DD;width:95%;height:150px}.table[_ngcontent-%COMP%]   .custom-container-box[_ngcontent-%COMP%]{padding:8px 0;margin-top:42px;display:flex;flex-direction:column;justify-content:center;align-items:center;width:735px;position:relative;left:86px;height:126px;bottom:75px;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}.table[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:3px 6px 5px 7px;width:37px;border-radius:10px;background:#F9F6F6;color:#000}.table[_ngcontent-%COMP%]   .custom-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none}.table[_ngcontent-%COMP%]   .custom-container-title[_ngcontent-%COMP%]{margin-top:3%;margin-bottom:1px}.table[_ngcontent-%COMP%]   .custom-container-title[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .custom-container-content[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;font-weight:400}.table[_ngcontent-%COMP%]   .custom-container-content[_ngcontent-%COMP%]{color:#79747e}.buttons1[_ngcontent-%COMP%]{display:flex;width:11.4em;height:3em;padding:5.287px 5.287px 5.287px 7.049px;justify-content:center;align-items:center;border-radius:7.049px;background:#9351FB;display:inline-block;flex:end;color:#fff;font-feature-settings:"clig" off,"liga" off;font-family:Inter;font-size:14px;font-style:normal;font-weight:500;line-height:21.148px}.buttons[_ngcontent-%COMP%]{display:flex;width:8em;height:40px;padding:5.287px 5.287px 5.287px 7.049px;justify-content:center;align-items:center;border-radius:7.049px;background:white;display:inline-block;flex:end;color:#344054;font-size:14px;font-style:normal;font-weight:500;line-height:21.148px;margin-left:640px;margin-right:10px;margin-top:50px}.image1[_ngcontent-%COMP%]{top:60px;position:relative;margin-left:20px}#namebox[_ngcontent-%COMP%]{border-color:#eaecf0!important}']})}}return oi})()}];let Ct=(()=>{class oi{static{this.\u0275fac=function(Oe){return new(Oe||oi)}}static{this.\u0275mod=E.$C({type:oi})}static{this.\u0275inj=E.G2t({imports:[O.iI.forChild(Be),O.iI]})}}return oi})();var qt=N(6850),pt=N(8962);let Ai=(()=>{class oi{static{this.\u0275fac=function(Oe){return new(Oe||oi)}}static{this.\u0275mod=E.$C({type:oi})}static{this.\u0275inj=E.G2t({imports:[b.MD,Ct,qt.RI,K.X1,pt.G]})}}return oi})()},8962:(Ui,ni,N)=>{"use strict";N.d(ni,{G:()=>Zn});var b=N(177),O=N(5911),E=N(7705),ye=N(9417),Ke=(N(8617),N(6600));N(4085);let oi=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({})}}return se})(),q=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({imports:[oi,Ke.yE,Ke.pZ,b.MD,oi,Ke.yE]})}}return se})();var Ot=N(8834),Oe=N(9213),Le=N(882),We=N(105),Ye=N(5596),Ht=N(6850),vi=N(9814),Et=N(4006),wi=N(6467),bi=N(9631),Ci=N(9969);const an=["hueSlider"],Oi=["alphaSlider"];function Cn(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"div",8),E.bIt("newValue",function($e){E.eBV(z);const ei=E.XpG();return E.Njj(ei.onSliderChange("saturation-lightness",$e))}),E.j41(1,"div",9),E.nrm(2,"div"),E.k0s()()}if(2&se){const z=E.XpG();E.xc7("background-color",z.hueSliderColor),E.Y8G("rgX",1)("rgY",1),E.R7$(1),E.xc7("top",null==z.slider?null:z.slider.v,"px")("left",null==z.slider?null:z.slider.s,"px")}}function Qt(se,Ft){if(1&se&&(E.j41(0,"div",10),E.nrm(1,"div",11)(2,"div",12),E.k0s()),2&se){const z=E.XpG();E.R7$(2),E.xc7("background-color",z.selectedColor)}}function lt(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"div",13,14),E.bIt("newValue",function($e){E.eBV(z);const ei=E.XpG();return E.Njj(ei.onSliderChange("hue",$e))}),E.j41(2,"div",15)(3,"div"),E.nrm(4,"div"),E.k0s()()()}if(2&se){const z=E.XpG();E.Y8G("rgX",1),E.R7$(2),E.xc7("left",null==z.slider?null:z.slider.h,"px")}}function wt(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"div",16,17),E.bIt("newValue",function($e){E.eBV(z);const ei=E.XpG();return E.Njj(ei.onSliderChange("alpha",$e))}),E.nrm(2,"div",18),E.j41(3,"div",15)(4,"div"),E.nrm(5,"div"),E.k0s()()()}if(2&se){const z=E.XpG();E.Y8G("rgX",1),E.R7$(2),E.Y8G("ngStyle",z.getBackgroundColor(z.alphaSliderColor)),E.R7$(1),E.xc7("left",null==z.slider?null:z.slider.a,"px")}}const ii=["dialog"];function ut(se,Ft){1&se&&E.nrm(0,"div",11)}function yt(se,Ft){if(1&se){const z=E.RV6();E.qex(0),E.j41(1,"div",8)(2,"div",9),E.bIt("click",function(){const ei=E.eBV(z).$implicit,Bi=E.XpG(2);return E.Njj(Bi.onColorClick(ei))}),E.DNE(3,ut,1,0,"div",10),E.k0s()(),E.bVm()}if(2&se){const z=Ft.$implicit,we=Ft.index,$e=E.XpG(2);E.R7$(2),E.AVh("colornull",!z),E.Y8G("ngStyle",$e.getBackgroundColor(z)),E.R7$(1),E.Y8G("ngIf",we==$e.indexSeleccionado)}}function Zt(se,Ft){if(1&se&&E.nrm(0,"div",17),2&se){const z=E.XpG(3);E.Y8G("ngStyle",z.getBackgroundColor(z.color))}}function Tt(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"div",12),E.bIt("click",function(){E.eBV(z);const $e=E.XpG(2);return E.Njj($e.addColor())}),E.DNE(1,Zt,1,1,"div",13),E.qSk(),E.j41(2,"svg",14),E.nrm(3,"path",15)(4,"path",16),E.k0s()()}if(2&se){const z=E.XpG(2);E.R7$(1),E.Y8G("ngIf",void 0===z.indexSeleccionado)}}function di(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"color-picker",18),E.bIt("colorChange",function($e){E.eBV(z);const ei=E.XpG(2);return E.Njj(ei.onChangeColorPicker($e))})("onAlphaChange",function($e){E.eBV(z);const ei=E.XpG(2);return E.Njj(ei.onAlphaChange($e))}),E.k0s()}if(2&se){const z=E.XpG(2);E.Y8G("controls",z.colorPickerControls)("color",z.hsva)}}function st(se,Ft){if(1&se&&(E.qex(0),E.j41(1,"div",4),E.DNE(2,yt,4,4,"ng-container",5),E.DNE(3,Tt,5,1,"div",6),E.DNE(4,di,1,2,"color-picker",7),E.k0s(),E.bVm()),2&se){const z=E.XpG();E.R7$(1),E.Y8G("@colorsAnimation",z.colorsAnimationEffect),E.R7$(1),E.Y8G("ngForOf",z.palette),E.R7$(1),E.Y8G("ngIf",!z.hideColorPicker&&"only-alpha"!=z.colorPickerControls),E.R7$(1),E.Y8G("ngIf",!z.hideColorPicker&&"only-alpha"==z.colorPickerControls)}}function ri(se,Ft){1&se&&E.nrm(0,"div",11)}const ct=function(se){return{background:se}};function Ut(se,Ft){if(1&se){const z=E.RV6();E.qSk(),E.joV(),E.qex(0),E.j41(1,"div",8)(2,"div",24),E.bIt("click",function(){const ei=E.eBV(z).$implicit,Bi=E.XpG(2);return E.Njj(Bi.changeColor(ei))}),E.DNE(3,ri,1,0,"div",10),E.k0s()(),E.bVm()}if(2&se){const z=Ft.$implicit,we=E.XpG(2);E.R7$(2),E.AVh("colornull",!z),E.Y8G("ngStyle",E.eq3(4,ct,z)),E.R7$(1),E.Y8G("ngIf",we.isSelected(z))}}function ft(se,Ft){if(1&se){const z=E.RV6();E.qex(0),E.j41(1,"div",4)(2,"div",19)(3,"div",20),E.bIt("click",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.onClickBack())}),E.qSk(),E.j41(4,"svg",21),E.nrm(5,"path",22)(6,"path",23),E.k0s()()(),E.DNE(7,Ut,4,6,"ng-container",5),E.k0s(),E.bVm()}if(2&se){const z=E.XpG();E.R7$(1),E.Y8G("@colorsAnimation",z.colorsAnimationEffect),E.R7$(6),E.Y8G("ngForOf",z.variants)}}function Wt(se,Ft){if(1&se){const z=E.RV6();E.qex(0),E.j41(1,"div",25)(2,"div",26),E.bIt("click",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.onClickBack())}),E.qSk(),E.j41(3,"svg",21),E.nrm(4,"path",22)(5,"path",23),E.k0s()(),E.joV(),E.j41(6,"button",27),E.bIt("click",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.emitClose("cancel"))}),E.EFF(7),E.k0s(),E.j41(8,"button",27),E.bIt("click",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.emitClose("accept"))}),E.EFF(9),E.k0s()(),E.j41(10,"div",28)(11,"color-picker",29),E.bIt("sliderChange",function($e){E.eBV(z);const ei=E.XpG();return E.Njj(ei.onChangeColorPicker($e))}),E.k0s()(),E.bVm()}if(2&se){const z=E.XpG();E.R7$(7),E.SpI(" ",z.cancelLabel," "),E.R7$(2),E.SpI(" ",z.acceptLabel," "),E.R7$(2),E.Y8G("controls",z.colorPickerControls)("color",z.hsva)}}function tt(se,Ft){if(1&se){const z=E.RV6();E.j41(0,"div",30)(1,"p",31),E.bIt("click",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.nextFormat())}),E.EFF(2),E.k0s(),E.j41(3,"div",32)(4,"input",33,34),E.bIt("keyup",function(){E.eBV(z);const $e=E.sdS(5),ei=E.XpG();return E.Njj(ei.changeColorManual($e.value))})("keydown.enter",function(){E.eBV(z);const $e=E.XpG();return E.Njj($e.emitClose("accept"))}),E.k0s()()()}if(2&se){const z=E.XpG();E.R7$(2),E.JRh(z.colorFormats[z.format]),E.R7$(2),E.xc7("font-size",z.color&&z.color.length>23?9:10,"px")("letter-spacing",z.color&&z.color.length>16?0:1.5,"px"),E.Y8G("placeholder",z.placeholder)("value",z.color)}}const Yt=["hex","rgba","hsla","cmyk"];var Mi=function(se){return se[se.HEX=0]="HEX",se[se.RGBA=1]="RGBA",se[se.HSLA=2]="HSLA",se[se.CMYK=3]="CMYK",se}(Mi||{});const Qi=[{color:"rojo",preview:"#E57373",variants:["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828"]},{color:"rosa",preview:"#F06292",variants:["#FCE4EC","#F8BBD0","#F48FB1","#F06292","#EC407A","#E91E63","#D81B60","#C2185B","#AD1457"]},{color:"purpura",preview:"#BA68C8",variants:["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A"]},{color:"purpura oscuro",preview:"#9575CD",variants:["#EDE7F6","#D1C4E9","#B39DDB","#9575CD","#7E57C2","#673AB7","#5E35B1","#512DA8","#4527A0"]},{color:"indigo",preview:"#7986CB",variants:["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593"]},{color:"azul",preview:"#64B5F6",variants:["#E3F2FD","#BBDEFB","#90CAF9","#64B5F6","#42A5F5","#2196F3","#1E88E5","#1976D2","#1565C0"]},{color:"celeste",preview:"#4FC3F7",variants:["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD"]},{color:"cyan",preview:"#4DD0E1",variants:["#E0F7FA","#B2EBF2","#80DEEA","#4DD0E1","#26C6DA","#00BCD4","#00ACC1","#0097A7","#00838F"]},{color:"color",preview:"#4DB6AC",variants:["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C"]},{color:"verde",preview:"#81C784",variants:["#E8F5E9","#C8E6C9","#A5D6A7","#81C784","#66BB6A","#4CAF50","#43A047","#388E3C","#2E7D32"]},{color:"verde claro",preview:"#AED581",variants:["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F"]},{color:"lima",preview:"#DCE775",variants:["#F9FBE7","#F0F4C3","#E6EE9C","#DCE775","#D4E157","#CDDC39","#C0CA33","#AFB42B","#9E9D24"]},{color:"amarillo",preview:"#FFF176",variants:["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825"]},{color:"ambar",preview:"#FFD54F",variants:["#FFF8E1","#FFECB3","#FFE082","#FFD54F","#FFCA28","#FFC107","#FFB300","#FFA000","#FF8F00"]},{color:"naranja",preview:"#FFB74D",variants:["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00"]},{color:"naranja oscuro",preview:"#FF8A65",variants:["#FBE9E7","#FFCCBC","#FFAB91","#FF8A65","#FF7043","#FF5722","#F4511E","#E64A19","#D84315"]},{color:"marron",preview:"#A1887F",variants:["#EFEBE9","#D7CCC8","#BCAAA4","#A1887F","#8D6E63","#795548","#6D4C41","#5D4037","#4E342E"]},{color:"escala de grises",preview:"#E0E0E0",variants:["#FFFFFF","#FAFAFA","#F5F5F5","#EEEEEE","#E0E0E0","#BDBDBD","#9E9E9E","#757575","#616161","#424242","#000000"]},{color:"azul gris",preview:"#90A4AE",variants:["#ECEFF1","#CFD8DC","#B0BEC5","#90A4AE","#78909C","#607D8B","#546E7A","#455A64","#37474F"]}];class tn{constructor(Ft,z,we,$e){this.r=Ft,this.g=z,this.b=we,this.a=$e}denormalize(){return this.r=Math.round(255*this.r),this.g=Math.round(255*this.g),this.b=Math.round(255*this.b),this}toString(){return this.denormalize(),"rgb"+(1!=this.a?"a(":"(")+this.r+", "+this.g+", "+this.b+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class dn{constructor(Ft,z,we,$e){this.h=Ft,this.s=z,this.v=we,this.a=$e,this.onChange=new E.bkB(!0)}onColorChange(Ft){this.s=Ft.s/Ft.rgX,this.v=Ft.v/Ft.rgY}onHueChange(Ft){this.h=Ft.v/Ft.rgX}onValueChange(Ft){this.v=Ft.v/Ft.rgX}onAlphaChange(Ft){this.a=Ft.v/Ft.rgX}}class gn{constructor(Ft,z,we,$e){this.h=Ft,this.s=z,this.l=we,this.a=$e}denormalize(){return this.h=Math.round(360*this.h),this.s=Math.round(100*this.s),this.l=Math.round(100*this.l),this}toString(){return"hsl"+(1!=this.a?"a(":"(")+this.h+", "+this.s+"%, "+this.l+"%"+(1!=this.a?", "+this.a.toPrecision(2)+")":")")}}class Sn{constructor(Ft,z,we,$e,ei=1){this.c=Ft,this.m=z,this.y=we,this.k=$e,this.a=ei}denormalize(){return this.c=Math.round(100*this.c),this.m=Math.round(100*this.m),this.y=Math.round(100*this.y),this.k=Math.round(100*this.k),this}toString(){return this.denormalize(),"cmyk("+this.c+", "+this.m+", "+this.y+", "+this.k+")"}}class Ni{constructor(Ft){Ft&&(this.preview=Ft.preview,this.variants=Ft.variants)}}let St=(()=>{class se{constructor(){}toFormat(z,we){var $e="";if(z)switch(we){case Mi.HEX:(Bi=this.hsvaToRgba(z)).denormalize(),$e=this.rgbaToHex(Bi,!0);break;case Mi.HSLA:var ei=this.hsva2hsla(z);ei.denormalize(),$e=ei.toString();break;case Mi.RGBA:var Bi;$e=(Bi=this.hsvaToRgba(z)).toString();break;case Mi.CMYK:$e=this.hsvaToCmyk(z).toString()}return $e}stringToFormat(z,we){var $e=this.stringToHsva(z,!0);return this.toFormat($e,we)}hsva2hsla(z){const we=z.h,$e=z.s,ei=z.v,Bi=z.a;if(0===ei)return new gn(we,0,0,Bi);if(0===$e&&1===ei)return new gn(we,1,1,Bi);{const mn=ei*(2-$e)/2;return new gn(we,ei*$e/(1-Math.abs(2*mn-1)),mn,Bi)}}hsla2hsva(z){const we=Math.min(z.h,1),$e=Math.min(z.s,1),ei=Math.min(z.l,1),Bi=Math.min(z.a,1);if(0===ei)return new dn(we,0,0,Bi);{const mn=ei+$e*(1-Math.abs(2*ei-1))/2;return new dn(we,2*(mn-ei)/mn,mn,Bi)}}hsvaToRgba(z){let we,$e,ei;const Bi=z.h,mn=z.s,J=z.v,pe=z.a,X=Math.floor(6*Bi),he=6*Bi-X,ke=J*(1-mn),At=J*(1-he*mn),pi=J*(1-(1-he)*mn);switch(X%6){case 0:we=J,$e=pi,ei=ke;break;case 1:we=At,$e=J,ei=ke;break;case 2:we=ke,$e=J,ei=pi;break;case 3:we=ke,$e=At,ei=J;break;case 4:we=pi,$e=ke,ei=J;break;case 5:we=J,$e=ke,ei=At;break;default:we=0,$e=0,ei=0}return new tn(we,$e,ei,pe)}cmykToRgb(z){return new tn((1-z.c)*(1-z.k),(1-z.m)*(1-z.k),(1-z.y)*(1-z.k),z.a)}rgbaToCmyk(z){const we=1-Math.max(z.r,z.g,z.b);return 1===we?new Sn(0,0,0,1,z.a):new Sn((1-z.r-we)/(1-we),(1-z.g-we)/(1-we),(1-z.b-we)/(1-we),we,z.a)}hsvaToCmyk(z){let we=this.hsvaToRgba(z);return this.rgbaToCmyk(we)}rgbaToHsva(z){let we,$e;const ei=Math.min(z.r,1),Bi=Math.min(z.g,1),mn=Math.min(z.b,1),J=Math.min(z.a,1),pe=Math.max(ei,Bi,mn),X=Math.min(ei,Bi,mn),he=pe,ke=pe-X;if($e=0===pe?0:ke/pe,pe===X)we=0;else{switch(pe){case ei:we=(Bi-mn)/ke+(Bi<mn?6:0);break;case Bi:we=(mn-ei)/ke+2;break;case mn:we=(ei-Bi)/ke+4;break;default:we=0}we/=6}return new dn(we,$e,he,J)}rgbaToHex(z,we){let $e="#"+(16777216|z.r<<16|z.g<<8|z.b).toString(16).substr(1);return 1!=z.a&&($e+=(256|Math.round(255*z.a)).toString(16).substr(1)),$e}normalizeCMYK(z){return new Sn(z.c/100,z.m/100,z.y/100,z.k/100,z.a)}denormalizeCMYK(z){return new Sn(Math.floor(100*z.c),Math.floor(100*z.m),Math.floor(100*z.y),Math.floor(100*z.k),z.a)}denormalizeRGBA(z){return new tn(Math.round(255*z.r),Math.round(255*z.g),Math.round(255*z.b),z.a)}stringToHsva(z="",we=!0){let $e=null;z=(z||"").toLowerCase();const ei=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(Bi){return new tn(parseInt(Bi[2],10)/255,parseInt(Bi[3],10)/255,parseInt(Bi[4],10)/255,isNaN(parseFloat(Bi[5]))?1:parseFloat(Bi[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(Bi){return new gn(parseInt(Bi[2],10)/360,parseInt(Bi[3],10)/100,parseInt(Bi[4],10)/100,isNaN(parseFloat(Bi[5]))?1:parseFloat(Bi[5]))}},{re:/cmyk?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(Bi){return new Sn(parseInt(Bi[1],10)/100,parseInt(Bi[2],10)/100,parseInt(Bi[3],10)/100,parseInt(Bi[4],10)/100)}}];ei.push(we?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(Bi){return new tn(parseInt(Bi[1],16)/255,parseInt(Bi[2],16)/255,parseInt(Bi[3],16)/255,parseInt(Bi[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(Bi){return new tn(parseInt(Bi[1],16)/255,parseInt(Bi[2],16)/255,parseInt(Bi[3],16)/255,1)}}),ei.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(Bi){return new tn(parseInt(Bi[1]+Bi[1],16)/255,parseInt(Bi[2]+Bi[2],16)/255,parseInt(Bi[3]+Bi[3],16)/255,1)}});for(const Bi in ei)if(ei.hasOwnProperty(Bi)){const mn=ei[Bi],J=mn.re.exec(z),pe=J&&mn.parse(J);if(pe){if(pe instanceof tn)$e=this.rgbaToHsva(pe);else if(pe instanceof gn)$e=this.hsla2hsva(pe);else if(pe instanceof Sn){let X=this.cmykToRgb(pe);$e=this.rgbaToHsva(X)}return $e}}return $e}outputFormat(z){return this.hsvaToRgba(z).toString()}getFormatByString(z){if(z){z=z.toLowerCase();let $e=/(rgba\((\d{1,3},\s?){3}(1|0?\.\d+)\)|rgb\(\d{1,3}(,\s?\d{1,3}){2}\))/,ei=/(hsla\((\d{1,3}%?,\s?){3}(1|0?\.\d+)\)|hsl\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/,Bi=/(cmyk\(\d{1,3}(,\s?\d{1,3}){3}\))/;if(/(#([\da-f]{3}(?:[\da-f]{3})?(?:[\da-f]{2})?))/.test(z))return"hex";if($e.test(z))return"rgba";if(ei.test(z))return"hsla";if(Bi.test(z))return"cmyk"}return"hex"}}return se.\u0275fac=function(z){return new(z||se)},se.\u0275prov=E.jDH({token:se,factory:se.\u0275fac}),se})();class mt{constructor(Ft,z,we,$e){this.h=Ft,this.s=z,this.v=we,this.a=$e}}class jt{constructor(Ft,z,we,$e){this.h=Ft,this.s=z,this.v=we,this.a=$e}}let It=(()=>{class se{mouseDown(z){this.start(z)}touchStart(z){this.start(z)}constructor(z){this.elRef=z,this.dragEnd=new E.bkB,this.dragStart=new E.bkB,this.newValue=new E.bkB,this.listenerMove=we=>this.move(we),this.listenerStop=()=>this.stop()}move(z){z.preventDefault(),this.setCursor(z)}start(z){this.setCursor(z),z.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(z){const we=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==z.pageX?z.pageX:z.touches[0].pageX)-we.left-window.pageXOffset}getY(z){const we=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==z.pageY?z.pageY:z.touches[0].pageY)-we.top-window.pageYOffset}setCursor(z){const we=this.elRef.nativeElement.offsetWidth,$e=this.elRef.nativeElement.offsetHeight,ei=Math.max(0,Math.min(this.getX(z),we)),Bi=Math.max(0,Math.min(this.getY(z),$e));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:ei/we,v:1-Bi/$e,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:Bi/$e,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:ei/we,rgX:this.rgX})}}return se.\u0275fac=function(z){return new(z||se)(E.rXU(E.aKT))},se.\u0275dir=E.FsC({type:se,selectors:[["","slider",""]],hostBindings:function(z,we){1&z&&E.bIt("mousedown",function(ei){return we.mouseDown(ei)})("touchstart",function(ei){return we.touchStart(ei)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),se})(),$=(()=>{class se{constructor(z,we){this.service=z,this.cdr=we,this.color=new dn(0,1,1,1),this.controls="default",this.sliderChange=new E.bkB(!1),this.onAlphaChange=new E.bkB(!1),this.hsva=new dn(0,1,1,1),this.selectedColor="#000000",this.fallbackColor="#000000"}ngOnInit(){this.color||(this.color=new dn(0,1,1,1)),this.slider=new mt(0,0,0,0),this.update()}ngOnDestroy(){}ngOnChanges(z){z.color&&this.color&&this.update()}ngAfterViewInit(){this.sliderDimMax=new jt(this.hueSlider?.nativeElement.offsetWidth||140,220,130,this.alphaSlider?.nativeElement.offsetWidth||140),this.update()}onSliderChange(z,we){switch(z){case"saturation-lightness":this.hsva.onColorChange(we);break;case"hue":this.hsva.onHueChange(we);break;case"alpha":this.hsva.onAlphaChange(we),this.onAlphaChange.emit(we);break;case"value":this.hsva.onValueChange(we)}this.update(),this.setColor(this.outputColor)}setColor(z){this.color=z,this.sliderChange.emit(this.color)}getBackgroundColor(z){return{background:"linear-gradient(90deg, rgba(36,0,0,0) 0%, "+z+" 100%)"}}update(){if(this.hsva=this.color,this.sliderDimMax){let z=this.service.hsvaToRgba(this.hsva).denormalize(),we=this.service.hsvaToRgba(new dn(this.hsva.h,1,1,1)).denormalize();this.hueSliderColor="rgb("+we.r+","+we.g+","+we.b+")",this.alphaSliderColor="rgb("+z.r+","+z.g+","+z.b+")",this.outputColor=this.hsva,this.selectedColor=this.service.hsvaToRgba(this.hsva).toString(),this.slider=new mt(this.hsva.h*this.sliderDimMax.h-5,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-5),this.cdr.detectChanges()}}}return se.\u0275fac=function(z){return new(z||se)(E.rXU(St),E.rXU(E.gRc))},se.\u0275cmp=E.VBU({type:se,selectors:[["color-picker"]],viewQuery:function(z,we){if(1&z&&(E.GBs(an,5),E.GBs(Oi,5)),2&z){let $e;E.mGM($e=E.lsd())&&(we.hueSlider=$e.first),E.mGM($e=E.lsd())&&(we.alphaSlider=$e.first)}},inputs:{color:"color",controls:"controls"},outputs:{sliderChange:"sliderChange",onAlphaChange:"onAlphaChange"},features:[E.OA$],decls:8,vars:4,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue",4,"ngIf"],[1,"hue-alpha","box"],["class","left",4,"ngIf"],[1,"right"],["class","hue",3,"slider","rgX","newValue",4,"ngIf"],["class","alpha",3,"slider","rgX","newValue",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue"],[1,"cursor"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],[1,"hue",3,"slider","rgX","newValue"],["hueSlider",""],[1,"sliderCursor"],[1,"alpha",3,"slider","rgX","newValue"],["alphaSlider",""],[1,"alpha-gradient",3,"ngStyle"]],template:function(z,we){1&z&&(E.j41(0,"div",0,1),E.bIt("click",function(ei){return ei.stopPropagation()}),E.DNE(2,Cn,3,8,"div",2),E.j41(3,"div",3),E.DNE(4,Qt,3,2,"div",4),E.j41(5,"div",5),E.DNE(6,lt,5,3,"div",6),E.DNE(7,wt,6,4,"div",7),E.k0s()()()),2&z&&(E.R7$(2),E.Y8G("ngIf","only-alpha"!=we.controls),E.R7$(2),E.Y8G("ngIf","only-alpha"!=we.controls),E.R7$(2),E.Y8G("ngIf","only-alpha"!=we.controls),E.R7$(1),E.Y8G("ngIf","no-alpha"!=we.controls))},dependencies:[b.bT,b.B3,It],styles:[".color-picker{position:relative;z-index:1000;width:220px;height:auto;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;touch-action:none}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .sliderCursor{width:10px;border-radius:5px;position:absolute;margin-top:-3px;border:1px solid black}.color-picker .sliderCursor>div{border:2px solid white;border-radius:5px}.color-picker .sliderCursor>div>div{border-radius:5px;border:1px solid black;height:24px}.color-picker .cursor{position:absolute;width:21px;border:3px solid black;border-radius:100%;margin:-2px 0 0 -2px}.color-picker .cursor>div{height:15px;border:3px solid white;border-radius:100%}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;display:flex;flex-direction:column;gap:10px;padding:12px 8px}.color-picker .hue-alpha{display:flex;align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:24px;border:none;border-radius:5px;position:relative;cursor:pointer;background-size:100% 100%;background:linear-gradient(to right,red 0%,#ff0 17%,lime 33%,cyan 50%,blue 66%,#f0f 83%,red 100%)}.color-picker .alpha{direction:ltr;position:relative;width:100%;height:24px;border:none;border-radius:5px;cursor:pointer;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .alpha-gradient{width:100%;height:100%;border-radius:5px;position:absolute}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;box-shadow:0 1px 1px 1px #00000026;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.color-picker .saturation-lightness{direction:ltr;cursor:crosshair;width:100%;position:relative;height:130px;border:none;touch-action:manipulation;background-image:linear-gradient(to top,#000 0%,transparent 100%),linear-gradient(to right,#fff 0%,transparent 100%)}\n"],encapsulation:2}),se})(),Kt=(()=>{class se{click(z){this.isOutside(z)&&this.emitClose("cancel")}onScroll(){this.onScreenMovement()}onResize(){this.onScreenMovement()}constructor(z,we){this.service=z,this.cdr=we,this.color="#000000",this.previewColor="#000000",this.hsva=new dn(0,1,1,1),this.colorsAnimationEffect="slide-in",this.palette=Qi,this.variants=[],this.userFormats=[],this.colorFormats=Yt,this.format=Mi.HEX,this.formatMap={hex:Mi.HEX,rgba:Mi.RGBA,hsla:Mi.HSLA,cmyk:Mi.CMYK},this.canChangeFormat=!0,this.menu=1,this.hideColorPicker=!1,this.hideTextInput=!1,this.colorPickerControls="default",this.placeholder="#FFFFFF"}ngOnInit(){this.setPosition(),this.hsva=this.service.stringToHsva(this.color),this.indexSeleccionado=this.findIndexSelectedColor(this.palette)}ngAfterViewInit(){this.setPositionY()}onScreenMovement(){this.setPosition(),this.setPositionY(),this.panelRef.nativeElement.style.transition||(this.panelRef.nativeElement.style.transition="transform 0.5s ease-out")}findIndexSelectedColor(z){let we;if(this.color)for(let $e=0;$e<z.length;$e++){const ei=z[$e];"string"==typeof ei?this.service.stringToFormat(this.color,Mi.HEX)==this.service.stringToFormat(ei,Mi.HEX)&&(we=$e):void 0===ei?this.color=void 0:null!=this.findIndexSelectedColor(ei.variants)&&(we=$e)}return we}iniciate(z,we,$e,ei,Bi,mn,J,pe,X,he,ke,At,pi=[]){if(this.colorPickerControls=ke,this.triggerInstance=z,this.TriggerBBox=we,this.color=$e,this.hideColorPicker=pe,this.hideTextInput=J,this.acceptLabel=X,this.cancelLabel=he,pi.length&&pi.every($i=>Yt.includes($i))&&(this.colorFormats=pi),mn?this.colorFormats.includes(mn)?(this.format=this.colorFormats.indexOf(mn.toLowerCase()),this.canChangeFormat=!1,this.service.getFormatByString(this.color)!=mn.toLowerCase()&&this.setColor(this.service.stringToHsva(this.color))):(console.error("Format provided is invalid, using HEX"),this.format=Mi.HEX):(this.format=this.colorFormats.indexOf(this.service.getFormatByString(this.color)),this.format<0&&(this.format=0)),this.previewColor=this.color,this.palette=ei??Qi,this.colorsAnimationEffect=Bi,"top"==At){let Ji=this.TriggerBBox.nativeElement.getBoundingClientRect();this.positionString="transform: translateY(calc( -100% - "+Ji.height+"px ))"}}setPosition(){if(this.TriggerBBox){const we=this.TriggerBBox.nativeElement.getBoundingClientRect();this.top=we.top+we.height,this.left=we.left+250>window.innerWidth?we.right<250?window.innerWidth/2-125:we.right-250:we.left}}setPositionY(){const z=this.TriggerBBox.nativeElement.getBoundingClientRect(),we=this.panelRef.nativeElement.getBoundingClientRect();this.positionString=z.bottom+we.height>window.innerHeight?z.top<we.height?"transform: translateY(-"+z.bottom+"px );":"transform: translateY(calc( -100% - "+z.height+"px ));":"",this.cdr.detectChanges()}hasVariant(z){return!!this.previewColor&&"string"!=typeof z&&z.variants.some(we=>we.toUpperCase()==this.previewColor.toUpperCase())}isSelected(z){return!!this.previewColor&&"string"==typeof z&&z.toUpperCase()==this.previewColor.toUpperCase()}getBackgroundColor(z){return"string"==typeof z?{background:z}:{background:z?.preview}}onAlphaChange(z){this.palette=this.ChangeAlphaOnPalette(z,this.palette)}ChangeAlphaOnPalette(z,we){var $e=[];for(let ei=0;ei<we.length;ei++){const Bi=we[ei];if("string"==typeof Bi){let mn=this.service.stringToHsva(Bi);mn.onAlphaChange(z),$e.push(this.service.toFormat(mn,this.format))}else{let mn=new Ni,J=this.service.stringToHsva(Bi.preview);J.onAlphaChange(z),mn.preview=this.service.toFormat(J,this.format),mn.variants=this.ChangeAlphaOnPalette(z,Bi.variants),$e.push(mn)}}return $e}changeColor(z){this.setColor(this.service.stringToHsva(z)),this.emitClose("accept")}onChangeColorPicker(z){this.temporalColor=z,this.color=this.service.toFormat(z,this.format),this.triggerInstance.sliderChange(this.service.toFormat(z,this.format))}changeColorManual(z){this.previewColor=z,this.color=z,this.hsva=this.service.stringToHsva(z),this.setPreviewColor(this.hsva),this.temporalColor=this.hsva,this.triggerInstance.setColor(this.color,this.previewColor)}setColor(z,we=-1){this.hsva=z;let ei=we;ei<0&&(ei=this.formatMap[this.colorFormats[this.format]]),this.color=this.service.toFormat(z,ei),this.setPreviewColor(z),this.triggerInstance.setColor(this.color,this.previewColor)}setPreviewColor(z){this.previewColor=z?this.service.hsvaToRgba(z).toString():void 0}onChange(){}onColorClick(z){"string"==typeof z||void 0===z?this.changeColor(z):(this.variants=z.variants,this.menu=2)}addColor(){this.menu=3,this.backupColor=this.color,this.temporalColor=this.service.stringToHsva(this.color)}nextFormat(){if(this.canChangeFormat){this.format=(this.format+1)%this.colorFormats.length;let we=this.formatMap[this.colorFormats[this.format]];this.setColor(this.hsva,we),this.placeholder=this.service.toFormat(new dn(0,0,1,1),we)}}emitClose(z){3==this.menu&&("cancel"==z||"accept"==z&&this.setColor(this.temporalColor)),this.triggerInstance.closePanel()}onClickBack(){3==this.menu&&(this.color=this.backupColor,this.hsva=this.service.stringToHsva(this.color)),this.indexSeleccionado=this.findIndexSelectedColor(this.palette),this.menu=1}isOutside(z){return z.target.classList.contains("ngx-colors-overlay")}}return se.\u0275fac=function(z){return new(z||se)(E.rXU(St),E.rXU(E.gRc))},se.\u0275cmp=E.VBU({type:se,selectors:[["ngx-colors-panel"]],viewQuery:function(z,we){if(1&z&&E.GBs(ii,5),2&z){let $e;E.mGM($e=E.lsd())&&(we.panelRef=$e.first)}},hostVars:4,hostBindings:function(z,we){1&z&&E.bIt("mousedown",function(ei){return we.click(ei)},!1,E.EBC)("scroll",function(){return we.onScroll()},!1,E.EBC)("resize",function(){return we.onResize()},!1,E.tSv),2&z&&E.xc7("top",we.top,"px")("left",we.left,"px")},decls:6,vars:6,consts:[[1,"opened"],["dialog",""],[4,"ngIf"],["class","manual-input-wrapper",4,"ngIf"],[1,"colors"],[4,"ngFor","ngForOf"],["style","background: rgb(245 245 245); position: relative","class","circle button",3,"click",4,"ngIf"],[3,"controls","color","colorChange","onAlphaChange",4,"ngIf"],[1,"circle","wrapper","color"],[1,"circle","color","circle-border",3,"ngStyle","click"],["class","selected",4,"ngIf"],[1,"selected"],[1,"circle","button",2,"background","rgb(245 245 245)","position","relative",3,"click"],["style","\n            position: absolute;\n            height: 7px;\n            width: 7px;\n            border: 1px solid rgba(0, 0, 0, 0.03);\n            border-radius: 100%;\n            top: 0;\n            right: 0;\n          ",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#222222"],["d","M24 24H0V0h24v24z","fill","none","opacity",".87"],["d","M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"],[2,"position","absolute","height","7px","width","7px","border","1px solid rgba(0, 0, 0, 0.03)","border-radius","100%","top","0","right","0",3,"ngStyle"],[3,"controls","color","colorChange","onAlphaChange"],[1,"circle","wrapper"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24"],["d","M0 0h24v24H0z","fill","none"],["d","M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"],[1,"circle","circle-border",3,"ngStyle","click"],[1,"nav-wrapper"],[1,"round-button","button",2,"float","left",3,"click"],[2,"float","right",3,"click"],[1,"color-picker-wrapper"],[3,"controls","color","sliderChange"],[1,"manual-input-wrapper"],[2,"cursor","pointer",3,"click"],[1,"g-input"],["type","text",3,"placeholder","value","keyup","keydown.enter"],["paintInput",""]],template:function(z,we){1&z&&(E.j41(0,"div",0,1),E.DNE(2,st,5,4,"ng-container",2),E.DNE(3,ft,8,2,"ng-container",2),E.DNE(4,Wt,12,4,"ng-container",2),E.DNE(5,tt,6,7,"div",3),E.k0s()),2&z&&(E.Aen(we.positionString),E.R7$(2),E.Y8G("ngIf",1==we.menu),E.R7$(1),E.Y8G("ngIf",2==we.menu),E.R7$(1),E.Y8G("ngIf",3==we.menu),E.R7$(1),E.Y8G("ngIf",!we.hideTextInput))},dependencies:[b.Sq,b.bT,b.B3,$],styles:["[_nghost-%COMP%]{position:fixed;z-index:2001}.hidden[_ngcontent-%COMP%]{display:none}.button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.top[_ngcontent-%COMP%]{transform:translateY(-100%)}.opened[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background:#fff;width:250px;border-radius:5px;position:absolute}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-family:inherit;font-size:12px;background-color:unset;-webkit-user-select:none;user-select:none;padding:10px;letter-spacing:1px;color:#222;border-radius:3px;line-height:20px}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .opened[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover{background-color:#0000000d;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1);transition-property:opacity,background-color;transition-duration:.2s,.2s;transition-timing-function:cubic-bezier(.35,0,.25,1),cubic-bezier(.35,0,.25,1);transition-delay:0s,0s}.opened[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{outline:none}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:15px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{height:34px;width:34px;box-sizing:border-box;border-radius:100%;cursor:pointer}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{font-size:20px;line-height:45px;text-align:center}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border:2px solid white;border-radius:100%;height:28px;width:28px;box-sizing:border-box;margin:2px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.colornull[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(236,236,236,.7) 0%,rgba(236,236,236,.7) 45%,#de0f00 50%,rgba(236,236,236,.7) 55%,rgba(236,236,236,.7) 100%)}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper[_ngcontent-%COMP%]{margin:0 5px 5px;flex:34px 0 0}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.button[_ngcontent-%COMP%]{margin:0 5px 5px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle.wrapper.color[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,#ccc 25%,transparent 25%),linear-gradient(-45deg,#ccc 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#ccc 75%),linear-gradient(-45deg,transparent 75%,#ccc 75%);background-size:16px 16px;background-position:0 0,0 8px,8px -8px,-8px 0px}.opened[_ngcontent-%COMP%]   .colors[_ngcontent-%COMP%]   .circle-border[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.03)}.opened[_ngcontent-%COMP%]   .color-picker-wrapper[_ngcontent-%COMP%]{margin:5px 15px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]{overflow:hidden;margin:5px}.opened[_ngcontent-%COMP%]   .nav-wrapper[_ngcontent-%COMP%]   .round-button[_ngcontent-%COMP%]{padding:5px 0;width:40px;height:40px;box-sizing:border-box;border-radius:100%;text-align:center;line-height:45px}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]{display:flex;margin:15px;font-family:sans-serif}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-size:10px;letter-spacing:1.5px;text-transform:uppercase;line-height:48px;width:145px;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]{border:1px solid #e8ebed;height:45px;border-radius:5px;width:100%}.opened[_ngcontent-%COMP%]   .manual-input-wrapper[_ngcontent-%COMP%]   .g-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:9px;border:none;width:100%;text-transform:uppercase;outline:none;text-align:center;letter-spacing:1px;color:#595b65;height:100%;border-radius:5px;margin:0;padding:0}"],data:{animation:[(0,Ci.hZ)("colorsAnimation",[(0,Ci.kY)("void => slide-in",[(0,Ci.P)(":enter",(0,Ci.iF)({opacity:0}),{optional:!0}),(0,Ci.P)(":enter",(0,Ci.yc)("10ms",[(0,Ci.i0)(".3s ease-in",(0,Ci.i7)([(0,Ci.iF)({opacity:0,transform:"translatex(-50%)",offset:0}),(0,Ci.iF)({opacity:.5,transform:"translatex(-10px) scale(1.1)",offset:.3}),(0,Ci.iF)({opacity:1,transform:"translatex(0)",offset:1})]))]),{optional:!0})]),(0,Ci.kY)("void => popup",[(0,Ci.P)(":enter",(0,Ci.iF)({opacity:0,transform:"scale(0)"}),{optional:!0}),(0,Ci.P)(":enter",(0,Ci.yc)("10ms",[(0,Ci.i0)("500ms ease-out",(0,Ci.i7)([(0,Ci.iF)({opacity:.5,transform:"scale(.5)",offset:.3}),(0,Ci.iF)({opacity:1,transform:"scale(1.1)",offset:.8}),(0,Ci.iF)({opacity:1,transform:"scale(1)",offset:1})]))]),{optional:!0})])])]}}),se})();const Qe={position:"fixed",height:"100%",width:"100%","z-index":2e3,top:0,left:0};let ui=(()=>{class se{constructor(z,we,$e){this.resolver=z,this.applicationRef=we,this.injector=$e}createPanel(z,we){null!=this.componentRef&&this.removePanel();const $e=this.resolver.resolveComponentFactory(Kt);this.componentRef=$e.create(this.injector),this.applicationRef.attachView(this.componentRef.hostView);const ei=this.componentRef.hostView.rootNodes[0];return this.overlay=document.createElement("div"),this.overlay.id="ngx-colors-overlay",this.overlay.classList.add("ngx-colors-overlay"),this.overlay.classList.add(we),Object.keys(Qe).forEach(Bi=>{this.overlay.style[Bi]=Qe[Bi]}),z?document.getElementById(z).appendChild(this.overlay):document.body.appendChild(this.overlay),this.overlay.appendChild(ei),this.componentRef}removePanel(){this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.overlay.remove()}}return se.\u0275fac=function(z){return new(z||se)(E.KVO(E.OM3),E.KVO(E.o8S),E.KVO(E.zZn))},se.\u0275prov=E.jDH({token:se,factory:se.\u0275fac}),se})(),qe=(()=>{class se{}return se.\u0275fac=function(z){return new(z||se)},se.\u0275mod=E.$C({type:se}),se.\u0275inj=E.G2t({providers:[St,ui],imports:[b.MD]}),se})();var je=N(5416),Rt=N(5084),Te=N(2798),te=(N(8203),N(5024),N(6860),N(3980)),ge=N(1413);N(6648),N(4412),N(4402),N(7673),N(6977),N(6697);let Cs=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({imports:[te.E9]})}}return se})();N(7786),N(4572),N(6354);let mo=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({imports:[Ke.yE,Cs,Ke.yE]})}}return se})();var nl=N(4823);let Qs=(()=>{class se{constructor(){this.changes=new ge.B,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(z,we,$e)=>{if(0==$e||0==we)return`0 of ${$e}`;const ei=z*we;return`${ei+1} \u2013 ${ei<($e=Math.max($e,0))?Math.min(ei+we,$e):ei+we} of ${$e}`}}static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275prov=E.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}}return se})();const Is={provide:Qs,deps:[[new E.Xx1,new E.kdw,Qs]],useFactory:function Uo(se){return se||new Qs}};let Da=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({providers:[Is],imports:[b.MD,Ot.Hl,Te.Ve,nl.uc]})}}return se})();var ks=N(9371),ia=N(9454),zo=N(5951),Pl=N(6471),Xn=N(9340),Vs=N(6038),pc=N(2920);let Dn=(()=>{class se{}return se.\u0275fac=function(z){return new(z||se)},se.\u0275mod=E.$C({type:se}),se.\u0275inj=E.G2t({imports:[Xn.Ui]}),se})(),nr=(()=>{class se{constructor(z,we){(0,b.Vy)(we)&&!z&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(z,we=[]){return{ngModule:se,providers:z.serverLoaded?[{provide:Xn.EA,useValue:{...Xn.PV,...z}},{provide:Xn.SL,useValue:we,multi:!0},{provide:Xn.Ce,useValue:!0}]:[{provide:Xn.EA,useValue:{...Xn.PV,...z}},{provide:Xn.SL,useValue:we,multi:!0}]}}}return se.\u0275fac=function(z){return new(z||se)(E.KVO(Xn.Ce),E.KVO(E.Agw))},se.\u0275mod=E.$C({type:se}),se.\u0275inj=E.G2t({imports:[pc.w2,Vs.Cc,Dn,pc.w2,Vs.Cc,Dn]}),se})(),al=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({})}}return se})(),Go=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({imports:[Ke.yE,Ke.pZ,al,Ke.yE,al]})}}return se})();var ll=N(4073),Ba=N(6554),Za=N(2820);let Zn=(()=>{class se{static{this.\u0275fac=function(we){return new(we||se)}}static{this.\u0275mod=E.$C({type:se})}static{this.\u0275inj=E.G2t({imports:[b.MD,Ba.PO,O.s5,q,Ot.Hl,Oe.m_,Le.vg,We.Fg,Ye.Hu,Ht.RI,vi.G,ye.YN,Et.hM,ye.X1,wi.RG,bi.fS,qe,je._T,Rt.X6,Te.Ve,Ke.WX,mo,Da,ks.$V,ia.MY,zo.Wk,Pl.YN,nr,nl.uc,ll.CG,Go,Ba.PO,Za.sN]})}}return se})()},4598:(Ui,ni,N)=>{"use strict";N.r(ni),N.d(ni,{VerifyOrgRoutingModule:()=>Ce});var b=N(8498),O=N(9417),E=N(7705),ye=N(8059),K=N(7222),Ke=N(8834),j=N(6467),rt=N(9631);const ee=[{path:"",component:(()=>{class ve{constructor(P,Be,Ct,qt){this.formBuilder=P,this.service=Be,this.router=Ct,this.notify=qt,this.showLogin=!1,this.arrayOfRealms=[],this.selectedRealm=""}ngOnInit(){this.loginform=this.formBuilder.group({realmName:["",O.k0.required],password:["",O.k0.required],username:["",O.k0.required]})}onRealmNameChange(P){console.log("Realm Name:",P),this.selectedRealm=P,console.log("Selected Realm:",this.selectedRealm)}login(){console.log("realm inserted:",this.loginform.get("realmName")?.value),console.log("LocalStorage:",localStorage.getItem("RealmName"));let Be=this.loginform.get("realmName")?.value;localStorage.setItem("RealmName",Be),localStorage.setItem("tenant_id",Be),this.service.getRealmName(Be).then(Ct=>{console.log("realm response:",Ct),"Not found"==Ct.message?this.notify.showSuccessToast("Realm name not found","Close"):"Success"==Ct.message&&(console.log("realm inserted:",Ct),localStorage.setItem("RealmName",this.selectedRealm),console.log("LocalStorage:",localStorage.getItem("RealmName")),this.router.navigate(["/recon/main/auth"],{queryParams:{action:"login",realm:this.selectedRealm,clientId:"recon"}}))}).catch(Ct=>{console.log("Error occured:",Ct)})}nextStep(){this.showLogin=!0}static{this.\u0275fac=function(Be){return new(Be||ve)(E.rXU(O.ok),E.rXU(ye.w),E.rXU(b.Ix),E.rXU(K.J))}}static{this.\u0275cmp=E.VBU({type:ve,selectors:[["app-initial-page"]],decls:14,vars:2,consts:[[1,"container"],[1,"card"],["src","../../../assets/EPS_TM_BG.png","alt",""],[1,"form-container",3,"formGroup","ngSubmit"],[1,"form-field-row"],["appearance","outline"],["for","realmName"],["type","text","id","realmName","name","realmName","formControlName","realmName","matInput","",3,"ngModel","ngModelChange"],[1,"button-container"],["mat-raised-button","","color","primary","type","submit"]],template:function(Be,Ct){1&Be&&(E.j41(0,"div",0)(1,"div",1),E.nrm(2,"img",2),E.j41(3,"span"),E.EFF(4,"Verify Organisation"),E.k0s(),E.j41(5,"form",3),E.bIt("ngSubmit",function(){return Ct.login()}),E.j41(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),E.EFF(9,"Organisation name"),E.k0s(),E.j41(10,"input",7),E.bIt("ngModelChange",function(pt){return Ct.selectedRealm=pt})("ngModelChange",function(pt){return Ct.onRealmNameChange(pt)}),E.k0s()()(),E.j41(11,"div",8)(12,"button",9),E.EFF(13,"Submit"),E.k0s()()()()()),2&Be&&(E.R7$(5),E.Y8G("formGroup",Ct.loginform),E.R7$(5),E.Y8G("ngModel",Ct.selectedRealm))},dependencies:[Ke.$z,O.qT,O.me,O.BC,O.cb,O.j4,O.JD,j.rl,j.nJ,rt.fg],styles:[".container[_ngcontent-%COMP%]{background-image:url(img.4e7f0d82adbb301f.png);display:flex;justify-content:center;align-items:center;height:100vh}.card[_ngcontent-%COMP%]{min-height:200px;display:flex;flex-direction:column;justify-content:space-between;max-width:500px;height:300px;padding:35px;text-align:center;border:1px solid rgba(255,255,255,.25);border-radius:20px;background-color:#ebebeb;box-shadow:0 0 10px 1px #00000040;width:25%}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto;max-width:100%;height:130px}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:300;color:#363636;text-align:center}.card[_ngcontent-%COMP%]   .form-field-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.card-footer[_ngcontent-%COMP%]{font-size:12px;margin-top:15px;color:#ffffffb3}"]})}}return ve})()}];let Ce=(()=>{class ve{static{this.\u0275fac=function(Be){return new(Be||ve)}}static{this.\u0275mod=E.$C({type:ve})}static{this.\u0275inj=E.G2t({imports:[b.iI.forChild(ee),b.iI]})}}return ve})()},7010:(Ui,ni,N)=>{"use strict";var b=N(345),O=N(8498),E=N(467),ye=N(9697),K=N(177),Ke=N(8908),j=N(7705),rt=N(8059),ie=N(6316),ee=N(9410),Ce=N(7222),ve=N(6554),ue=N(4006),P=N(6467),Be=N(9631),Ct=N(5084),qt=N(2798),pt=N(6600),Ai=N(2820);const oi=["fromDate"],q=["toDate"];function Ot(Ne,Z){if(1&Ne&&(j.j41(0,"span",39),j.EFF(1),j.j41(2,"span",40),j.EFF(3),j.k0s()()),2&Ne){const G=Z.$implicit,ce=j.XpG();j.R7$(1),j.SpI(" ",G.name,": "),j.R7$(2),j.SpI(" ",ce.formatNumber(G.value)," ")}}function Oe(Ne,Z){if(1&Ne&&(j.j41(0,"span",39),j.EFF(1),j.j41(2,"span",40),j.EFF(3),j.k0s()()),2&Ne){const G=Z.$implicit,ce=j.XpG();j.R7$(1),j.SpI(" ",G.name,": "),j.R7$(2),j.SpI(" ",ce.formatNumber(G.value)," ")}}function Le(Ne,Z){if(1&Ne){const G=j.RV6();j.j41(0,"span",41),j.bIt("click",function(){j.eBV(G);const Fe=j.XpG();return j.Njj(Fe.BackButton())}),j.EFF(1,"arrow_back"),j.k0s()}}function We(Ne,Z){if(1&Ne&&(j.j41(0,"mat-option",42),j.EFF(1),j.k0s()),2&Ne){const G=Z.$implicit;j.Y8G("value",G.name),j.R7$(1),j.SpI(" ",G.name," ")}}function Ye(Ne,Z){if(1&Ne&&(j.j41(0,"mat-option",42),j.EFF(1),j.k0s()),2&Ne){const G=Z.$implicit;j.Y8G("value",G.project_id),j.R7$(1),j.SpI(" ",G.project_name," ")}}function Ht(Ne,Z){1&Ne&&(j.j41(0,"div",43)(1,"button")(2,"span",27),j.EFF(3,"download"),j.k0s(),j.EFF(4,"Download"),j.k0s()())}function vi(Ne,Z){if(1&Ne){const G=j.RV6();j.j41(0,"div",52),j.bIt("click",function(){const ht=j.eBV(G).$implicit,Jt=j.XpG(2);return j.Njj(Jt.onCardClick(ht))}),j.nrm(1,"div"),j.j41(2,"div",53),j.EFF(3),j.nI1(4,"date"),j.k0s()()}if(2&Ne){const G=Z.$implicit;j.R7$(1),j.HbH("reconciled"===G.status?"box reconciled":"box not-reconciled"),j.R7$(2),j.JRh(j.i5U(4,3,null==G?null:G.date,"dd MMM yyyy"))}}function Et(Ne,Z){if(1&Ne&&(j.j41(0,"div",44)(1,"div",45)(2,"span",46),j.EFF(3,"Recon status"),j.k0s(),j.j41(4,"div",47)(5,"div"),j.nrm(6,"span",48),j.EFF(7," Reconciled"),j.k0s(),j.j41(8,"div"),j.nrm(9,"span",49),j.EFF(10," Not reconciled"),j.k0s()()(),j.j41(11,"div",50),j.DNE(12,vi,5,6,"div",51),j.k0s()()),2&Ne){const G=j.XpG();j.R7$(12),j.Y8G("ngForOf",G.filteredReconStatusData)}}function wi(Ne,Z){if(1&Ne&&(j.j41(0,"mat-option",42),j.EFF(1),j.k0s()),2&Ne){const G=Z.$implicit;j.Y8G("value",G.value),j.R7$(1),j.SpI(" ",G.name," ")}}function bi(Ne,Z){if(1&Ne){const G=j.RV6();j.j41(0,"div",54)(1,"div",55)(2,"mat-form-field",18)(3,"mat-select",56),j.bIt("valueChange",function(Fe){j.eBV(G);const ht=j.XpG();return j.Njj(ht.selectedYears=Fe)})("selectionChange",function(Fe){j.eBV(G);const ht=j.XpG();return j.Njj(ht.onTimePeriodChange(Fe.value))}),j.DNE(4,wi,2,2,"mat-option",31),j.k0s()()(),j.nrm(5,"div",57),j.k0s()}if(2&Ne){const G=j.XpG();j.R7$(3),j.Y8G("value",G.selectedYears),j.R7$(1),j.Y8G("ngForOf",G.yearsData)}}function Ci(Ne,Z){if(1&Ne&&(j.j41(0,"div",78)(1,"span",79),j.EFF(2),j.k0s(),j.j41(3,"div",80)(4,"div",74),j.EFF(5," Count "),j.j41(6,"span",75),j.EFF(7),j.nI1(8,"number"),j.k0s()(),j.j41(9,"div",74),j.EFF(10," Value "),j.j41(11,"span",75),j.EFF(12),j.nI1(13,"number"),j.k0s()()()()),2&Ne){const G=Z.$implicit;j.R7$(2),j.JRh(G.sourceType),j.R7$(5),j.JRh(j.bMT(8,3,G.totalTranCount)),j.R7$(5),j.JRh(j.bMT(13,5,G.totalAmt))}}function an(Ne,Z){if(1&Ne&&(j.j41(0,"div",70)(1,"div",71)(2,"span",72),j.EFF(3),j.k0s(),j.j41(4,"div",73)(5,"div",74),j.EFF(6," Count "),j.j41(7,"span",75),j.EFF(8),j.nI1(9,"number"),j.k0s()(),j.j41(10,"div",74),j.EFF(11," Value "),j.j41(12,"span",75),j.EFF(13),j.nI1(14,"number"),j.k0s()()()(),j.j41(15,"div",76),j.DNE(16,Ci,14,7,"div",77),j.k0s()()),2&Ne){const G=Z.$implicit;j.R7$(3),j.JRh(G.dataSource),j.R7$(5),j.JRh(j.bMT(9,4,G.totalTxnCount)),j.R7$(5),j.JRh(j.bMT(14,6,G.totalTxnAmount)),j.R7$(3),j.Y8G("ngForOf",G.datSourceDetails)}}function Oi(Ne,Z){if(1&Ne&&(j.qex(0),j.j41(1,"div",58)(2,"div",59)(3,"span",60),j.EFF(4,"Recon status"),j.k0s(),j.j41(5,"div",61),j.nrm(6,"div"),j.j41(7,"div",53),j.EFF(8),j.k0s()(),j.nrm(9,"div"),j.k0s(),j.nrm(10,"div",62)(11,"div",63),j.k0s(),j.j41(12,"div",64),j.nrm(13,"div",65),j.j41(14,"div",66)(15,"span",67),j.EFF(16,"Transaction count"),j.k0s(),j.j41(17,"div",68),j.DNE(18,an,17,8,"div",69),j.k0s()()(),j.bVm()),2&Ne){const G=j.XpG();j.R7$(6),j.HbH("reconciled"===(null==G.selectedCard?null:G.selectedCard.status)?"box reconciled":"box not-reconciled"),j.R7$(2),j.JRh(G.selectedDateforDisplay),j.R7$(10),j.Y8G("ngForOf",G.TrxnCountDataset)}}const Cn=N(7729);let Qt=(()=>{class Ne{constructor(G,ce,Fe,ht,Jt,_i,zi,on,Dn){this._homeService=G,this.URMService=ce,this.router=Fe,this.keycloak=ht,this.notify=Jt,this.spinner=_i,this.renderer=zi,this.cdr=on,this.dialog=Dn,this.datePipe=new K.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.selectedProjectType="",this.selectedProject="",this.selectedProjectId="",this.selectedProjectName="",this.filteredReconStatusData=[],this.TrxnCountDataset=[],this.MatchUnmatchDataset=[],this.MarqueeRecords=[],this.ProjectDataType=[],this.projects=[],this.StopLoader=!1,this.today=new Date,this.showSelectedDateData=!0,this.reconStatusData=[],this.yearsData=[{value:1,name:"Last month"},{value:2,name:"Last 2 months"},{value:3,name:"Last 3 months"},{value:4,name:"Last 4 months"},{value:5,name:"Last 5 months"}],this.selectedYears=this.yearsData[4].value,this.disputePendingCasesData=[{value:1,name:"1 cases\n0-25 days",itemStyle:{color:"#F8D6DA"},icon:"circle"},{value:3,name:"3 cases\n25-50 days",itemStyle:{color:"#A1E732"},icon:"circle"},{value:2,name:"2 cases\n50-75 days",itemStyle:{color:"#81E3DB"},icon:"circle"},{value:5,name:"5 cases\n75-90 days",itemStyle:{color:"#816CE7"},icon:"circle"}]}ngOnInit(){var G=this;return(0,E.A)(function*(){G.userName=localStorage.getItem("username"),G.Role=localStorage.getItem("role"),G.tenantId=localStorage.getItem("tenant_id"),G.productId=localStorage.getItem("product_id"),G.applicationId=localStorage.getItem("application_id"),yield G.getProjectType(),G.spinner.show(),console.log("ngOnInit called in home page")})()}formatNumber(G){return Cn.format(G)}ngAfterViewInit(){const G=new Date,ce=new Date(G);ce.setDate(G.getDate()-9),this.setElementValue(this.fromDateInput.nativeElement,ce),this.setElementValue(this.toDateInput.nativeElement,G),this.fromDateFormatted=this.datePipe.transform(ce,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(G,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(G,ce){const Fe=this.datePipe.transform(ce,"dd-MM-yyyy");this.renderer.setProperty(G,"value",Fe)}onFromDateChange(G){this.fromDateFormatted=this.datePipe.transform(G.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(G){this.toDateFormatted=this.datePipe.transform(G.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}onApplyDateRange(){this.StopLoader=!0,this.getReconciledStatus()}parseDate(G){if("string"==typeof G){const[ce,Fe,ht]=G.split(/[-\s]/),Jt=this.getMonthIndex(Fe);return new Date(parseInt(ht),Jt,parseInt(ce))}return G instanceof Date?G:(console.error("Invalid date format:",G),new Date)}getMonthIndex(G){return 2!==G.length||isNaN(parseInt(G))?["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].indexOf(G):parseInt(G)-1}InitializeChart(G){console.log("InitializeChart selectedYears",G);const ce=document.getElementById("chart-overall");if(ce&&ce.clientWidth&&ce.clientHeight){let Fe=ye.getInstanceByDom(ce);Fe&&Fe.dispose(),Fe=ye.init(ce),Fe.setOption({title:{text:"Overall transaction count",left:"center",top:"-6px",textStyle:{fontSize:20,fontWeight:"500",color:"#333"}},tooltip:{trigger:"axis"},grid:{left:"2%",right:"3%",bottom:"5%",containLabel:!0},toolbox:{feature:{saveAsImage:{},left:"left",top:"8px"}},xAxis:{type:"category",boundaryGap:!1,data:G.xAxis},yAxis:{type:"value",min:0,max:1e6,interval:1e5,axisLabel:{formatter:function(Jt){return 0===Jt?"0":Jt/1e3+"k"}}},series:[{name:"Inward transactions",type:"line",data:G.inwardTransactions,smooth:!0,lineStyle:{width:4,color:"#61C9B7"},itemStyle:{color:"#61C9B7"},symbolSize:10},{name:"Outward transactions",type:"line",data:G.outwardTransactions,smooth:!0,lineStyle:{width:4,color:"#816CE7"},itemStyle:{color:"#816CE7"},symbolSize:10}]})}else console.error("Main chart container not found or it has no width/height.")}onTimePeriodChange(G){console.log("selectedYears:",G),this.selectedYears=G,this.GetOverallTrxns(G)}onCardClick(G){console.log("selectedCard",G),this.selectedCard=G,this.showSelectedDateData=!1;const ce=this.dialog.open(Ke.T,{height:"55vh",width:"35%"});this.selectedDateforDisplay=this.formatDateForDisplay(G.date);const Fe=this.formatDateForAPI(G.date);console.log("Formatted Date for Display:",this.selectedDateforDisplay),console.log("Formatted Date for API:",Fe),this.URMService.getDtailedtransactionscount({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.selectedProjectId,date:Fe}).then(Jt=>{Jt&&200==Jt.statusCode&&(console.log("getOverallTransactions resp",Jt),this.InwardOutwardDataset=Jt.data[0]?.["total remittance"],this.TrxnCountDataset=Jt.data[1]?.["transaction count"],this.MatchUnmatchDataset=Jt.data[2]?.["Matched/Unmatched count"],console.log("InwardOutwardDataset",this.InwardOutwardDataset),console.log("TrxnCountDataset",this.TrxnCountDataset),console.log("MatchUnmatchDataset",this.MatchUnmatchDataset),setTimeout(()=>this.initCharts(this.selectedDateforDisplay),0),ce.close())}).catch(Jt=>{console.log("Error occured fetching getOverallTransactions",Jt),ce.close()})}formatDateForDisplay(G){const ce=this.parseDate(G);return`${("0"+ce.getDate()).slice(-2)}-${this.getMonthAbbreviation(ce.getMonth())}-${ce.getFullYear()}`}formatDateForAPI(G){const ce=this.parseDate(G);return`${("0"+ce.getDate()).slice(-2)}-${("0"+(ce.getMonth()+1)).slice(-2)}-${ce.getFullYear()}`}getMonthAbbreviation(G){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][G]}formatDate(G){const ce=this.parseDate(G);return`${ce.getDate().toString().padStart(2,"0")}-${(ce.getMonth()+1).toString().padStart(2,"0")}-${ce.getFullYear().toString()}`}initCharts(G){console.log("initCharts initializing");const ce=document.getElementById("chart1");if(ce&&ce.clientWidth&&ce.clientHeight){let Jt=ye.getInstanceByDom(ce);Jt&&Jt.dispose(),Jt=ye.init(ce),Jt.setOption({title:{text:`Total remittance / Total transaction slabs - ${G}`,left:"center",top:"8px",textStyle:{fontSize:20,fontWeight:"500",color:"#333"}},background:"transparent",legend:{top:"92%",left:"center",textStyle:{fontSize:16,fontWeight:"bold"}},tooltip:{},dataset:{dimensions:["product","Inward remittance","Outward remittance"],source:[{product:G,"Inward remittance":this.InwardOutwardDataset?.["inward remittance"],"Outward remittance":this.InwardOutwardDataset?.["outward remittance"]}]},xAxis:{type:"category"},yAxis:{type:"value",min:0,max:1e5,interval:2e4,axisLabel:{formatter:function(zi){return 0===zi?"0":zi/1e3+"k"}}},series:[{type:"bar",name:"Inward remittance",itemStyle:{color:"#816CE7"}},{type:"bar",name:"Outward remittance",itemStyle:{color:"#61C9B7"}}]})}else console.error("Chart 1 container not found or it has no width/height.");const Fe=document.getElementById("chart2");if(Fe&&Fe.clientWidth&&Fe.clientHeight){let Jt=ye.getInstanceByDom(Fe);Jt&&Jt.dispose(),Jt=ye.init(Fe);const _i=this.disputePendingCasesData.reduce((Dn,hn)=>Dn+hn.value,0),zi={background:"transparent",tooltip:{trigger:"item"},legend:{top:"85%",left:"center",orient:"horizontal",itemGap:35,textStyle:{fontSize:14,fontWeight:"normal"},data:this.disputePendingCasesData.map(Dn=>({name:Dn.name,icon:Dn.icon}))},title:[{text:"Total dispute pending cases",left:"center",top:"8px",textStyle:{fontSize:20,fontWeight:"500",color:"#333"}},{id:"totalCases",text:`${_i} \nCases`,left:"50%",top:"50%",textAlign:"center",textVerticalAlign:"middle",textStyle:{fontSize:30,fontWeight:"bold"}}],series:[{name:"Dispute pending",type:"pie",radius:["48%","62%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"},focus:"self",blurScope:"coordinateSystem"},labelLine:{show:!1},data:this.disputePendingCasesData}]};Jt.setOption(zi);const on=ye.init(document.getElementById("chart2"));on.on("mouseover",function(){on.setOption({title:{id:"totalCases",text:""}})}),on.on("mouseout",function(){on.setOption({title:{id:"totalCases",text:`${_i} \nCases`}})})}else console.error("Chart 2 container not found or it has no width/height.");const ht=document.getElementById("chart3");if(ht&&ht.clientWidth&&ht.clientHeight){let Jt=ye.getInstanceByDom(ht);Jt&&Jt.dispose(),Jt=ye.init(ht),Jt.setOption({title:{text:"Matched / Unmatched count",left:"center",top:"8px",textStyle:{fontSize:20,fontWeight:"500",color:"#333"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",left:"65%",top:"middle",textStyle:{fontSize:15,fontWeight:"normal"}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"Match Unmatch counts",type:"pie",radius:[40,140],center:["38%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{show:!0,formatter:"{c}",position:"outside",textStyle:{fontSize:20,fontWeight:"bold"}},labelLine:{show:!0},data:this.MatchUnmatchDataset}]})}else console.error("Chart 3 container not found or it has no width/height.")}getProjectType(){this._homeService.getProjectType().then(G=>{if(console.log("getProjectType response:",G),200===G.statusCode){this.ProjectDataType=G.data.map(ht=>({name:ht.project_type_name,value:ht.project_type_id}));const Fe=this.ProjectDataType.find(ht=>"UPI"===ht.name);Fe&&(this.selectedProjectType=Fe.name,this.getProjectsbyProjectType(this.selectedProjectType)),console.log("ProjectDataType",this.ProjectDataType)}else this.notify.showErrorToast(G.errorMessage,"Close")})}onProjectTypeChange(G){console.log("Selected Project Type:",G);const ce=G.replace(/\s/g,"_");this._homeService.getProjectsbyProjectType({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_type:ce}).then(ht=>{console.log("Called on onProjectTypeChange function"),console.log("getProjectsbyProjectType response ==>",ht),200===ht.statusCode&&(this.projects=ht.data,this.selectedProjectId="")})}getProjectsbyProjectType(G){var ce=this;return(0,E.A)(function*(){console.log("Called on ngOnInit function");const Fe=G.replace(/\s/g,"_");ce.tenantId=localStorage.getItem("tenant_id"),ce.productId=localStorage.getItem("product_id"),ce.applicationId=localStorage.getItem("application_id"),console.log("Home_tenantId",ce.tenantId),console.log("Home_productId",ce.productId),console.log("Home_applicationId",ce.applicationId);let ht={tenant_id:ce.tenantId,product_id:ce.productId,application_id:ce.applicationId,project_type:Fe};yield ce._homeService.getProjectsbyProjectType(ht).then(function(){var Jt=(0,E.A)(function*(_i){console.log("getProjectsbyProjectType response",_i),200===_i.statusCode?(ce.projects=_i.data,ce.projects.length>0?(ce.selectedProjectId=ce.projects[0].project_id,ce.selectedProjectName=ce.projects[0].project_name,console.log("Selected project:",ce.selectedProjectName),console.log("selectedProjectName",ce.selectedProjectName),console.log("selectedProjectId",ce.selectedProjectId),yield ce.GetLastReconiledData(),yield ce.getReconciledStatus(),yield ce.GetOverallTrxns("5"),setTimeout(()=>{ce.spinner.hide()},6e3)):(console.error("No UPI projects found"),setTimeout(()=>{ce.spinner.hide()},6e3))):(ce.notify.showErrorToast(_i.errorMessage,"Close"),setTimeout(()=>{ce.spinner.hide()},6e3))});return function(_i){return Jt.apply(this,arguments)}}()).catch(Jt=>{console.log("Error",Jt)})})()}GetLastReconiledData(){this.URMService.getlastReconciledData({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.selectedProjectId}).then(ce=>{console.log("function response",ce),this.MarqueeRecords=ce.data.filter(Fe=>"Last reconciled date"!==Fe.name),console.log("Marquee Data",this.MarqueeRecords),this.lastReconciledDate=ce.data.find(Fe=>"Last reconciled date"===Fe.name),console.log("Last Reconciled Date:",this.lastReconciledDate)}).catch(ce=>{console.error("Error in GetLastReconiledData:",ce)})}getReconciledStatus(){let G;!0===this.StopLoader&&(G=this.dialog.open(Ke.T,{height:"55vh",width:"35%"})),this.URMService.getReconciledStatus({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.selectedProjectId,fromDate:this.fromDateFormatted,toDate:this.toDateFormatted}).then(Fe=>{console.log("getReconciledStatus response",Fe),Fe&&200===Fe.statusCode&&(this.reconStatusData=Fe.data.map(ht=>({...ht,date:this.parseDate(ht.date)})),this.filteredReconStatusData=this.reconStatusData.slice(0,10),console.log("filteredReconStatusData",this.filteredReconStatusData),this.StopLoader=!1,G&&G.close())}).catch(Fe=>{console.error("Error in GetLastReconiledData:",Fe),G&&G.close()})}GetOverallTrxns(G){var ce=this;this.URMService.getOverallTransactions({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.selectedProjectId,month_range:G}).then(function(){var ht=(0,E.A)(function*(Jt){if(console.log("GetOverallTrxns response",Jt),200===Jt.statusCode){let _i=Jt.data.output;setTimeout(()=>{ce.InitializeChart(_i),ce.spinner.hide()},0)}else ce.notify.showErrorToast(Jt.errorMessage,"Close"),ce.spinner.hide()});return function(Jt){return ht.apply(this,arguments)}}())}BackButton(){this.spinner.show(),this.showSelectedDateData=!0,this.GetOverallTrxns(this.selectedYears)}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.rXU(rt.w),j.rXU(ie.V),j.rXU(O.Ix),j.rXU(ee.F1),j.rXU(Ce.J),j.rXU(ve.ex),j.rXU(j.sFG),j.rXU(j.gRc),j.rXU(ue.bZ))}}static{this.\u0275cmp=j.VBU({type:Ne,selectors:[["app-home"]],viewQuery:function(ce,Fe){if(1&ce&&(j.GBs(oi,5),j.GBs(q,5)),2&ce){let ht;j.mGM(ht=j.lsd())&&(Fe.fromDateInput=ht.first),j.mGM(ht=j.lsd())&&(Fe.toDateInput=ht.first)}},decls:65,vars:23,consts:[["bdColor","rgba(0, 0, 0, 0.6)","size","medium","color","#fff","type","timer",3,"fullScreen"],[2,"color","white"],[1,"title"],[1,"content"],[2,"font-weight","500"],[1,"custome-marquee"],[1,"scrolling-container"],[1,"scrolling-content"],["class","scroll-item",4,"ngFor","ngForOf"],[1,"title-conatiner"],[1,"title-key"],[1,"title-value"],[1,"dashboard-header"],[1,"flex"],["class","material-symbols-outlined",3,"click",4,"ngIf"],[1,"dashboard-title"],[1,"right-content"],[1,"date-input"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],[1,"refresh"],[1,"material-symbols-outlined"],[1,"project-inpt"],["appearance","outline",1,"project-input"],["placeholder","Select project type",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select project",3,"value","valueChange"],[1,"action-btn"],[1,"apply-btn",3,"click"],["class","action-btn-download",4,"ngIf"],["class","status-container",4,"ngIf"],["class","Last5yearChart",4,"ngIf"],[4,"ngIf"],[1,"scroll-item"],[1,"value"],[1,"material-symbols-outlined",3,"click"],[3,"value"],[1,"action-btn-download"],[1,"status-container"],[1,"status-content"],[1,"status-title"],[1,"legend"],[1,"dot","reconciled"],[1,"dot","not-reconciled"],[1,"status-box"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"date"],[1,"Last5yearChart"],[1,"chart-container"],[3,"value","valueChange","selectionChange"],["id","chart-overall","echarts","",1,"main-chart"],[1,"UpperCharts"],[1,"selected-card"],[1,"selected-card-title"],[1,"card"],["id","chart1","echarts","",1,"total-remitance"],["id","chart2","echarts","",1,"total-dispute"],[1,"BottomCharts"],["id","chart3","echarts","",1,"match-unmatch"],[1,"transaction-count-container"],[1,"transaction-count-title"],[1,"transaction-count-content"],["class","transaction-box",4,"ngFor","ngForOf"],[1,"transaction-box"],[1,"transaction-header"],[1,"transaction-box-title"],[1,"transaction-summary"],[1,"transaction-key"],[1,"transaction-value"],[1,"transaction-details"],["class","transaction-detail-box",4,"ngFor","ngForOf"],[1,"transaction-detail-box"],[1,"detail-title"],[1,"detail-content"]],template:function(ce,Fe){if(1&ce&&(j.j41(0,"ngx-spinner",0)(1,"p",1),j.EFF(2,"Loading..."),j.k0s()(),j.j41(3,"div",2)(4,"div",3)(5,"h2",4),j.EFF(6),j.k0s(),j.j41(7,"p"),j.EFF(8,"Elevate your experience with our feature-rich product. Explore the diverse functionalities designed to simplify your tasks and enhance your productivity."),j.k0s()()(),j.j41(9,"div",5)(10,"div",6)(11,"div",7),j.DNE(12,Ot,4,2,"span",8),j.DNE(13,Oe,4,2,"span",8),j.k0s()(),j.j41(14,"div",9)(15,"span",10),j.EFF(16,"Last reconciliation date : "),j.j41(17,"span",11),j.EFF(18),j.nI1(19,"date"),j.k0s()()()(),j.j41(20,"div",12)(21,"div",13),j.DNE(22,Le,2,0,"span",14),j.j41(23,"span",15),j.EFF(24,"Dashboard"),j.k0s()(),j.j41(25,"div",16)(26,"div",17)(27,"mat-form-field",18)(28,"mat-label"),j.EFF(29,"From Date"),j.k0s(),j.j41(30,"input",19,20),j.bIt("dateChange",function(Jt){return Fe.onFromDateChange(Jt)}),j.k0s(),j.nrm(32,"mat-datepicker-toggle",21)(33,"mat-datepicker",null,22),j.k0s()(),j.j41(35,"div",17)(36,"mat-form-field",18)(37,"mat-label"),j.EFF(38,"To Date"),j.k0s(),j.j41(39,"input",23,24),j.bIt("dateChange",function(Jt){return Fe.onToDateChange(Jt)}),j.k0s(),j.nrm(41,"mat-datepicker-toggle",21)(42,"mat-datepicker",null,25),j.k0s()(),j.j41(44,"div",26)(45,"span",27),j.EFF(46,"refresh"),j.k0s()(),j.j41(47,"div",28)(48,"mat-form-field",29)(49,"mat-label"),j.EFF(50,"Project type"),j.k0s(),j.j41(51,"mat-select",30),j.bIt("valueChange",function(Jt){return Fe.selectedProjectType=Jt})("selectionChange",function(Jt){return Fe.onProjectTypeChange(Jt.value)}),j.DNE(52,We,2,2,"mat-option",31),j.k0s()(),j.j41(53,"mat-form-field",18)(54,"mat-label"),j.EFF(55,"Projects"),j.k0s(),j.j41(56,"mat-select",32),j.bIt("valueChange",function(Jt){return Fe.selectedProjectId=Jt}),j.DNE(57,Ye,2,2,"mat-option",31),j.k0s()()(),j.j41(58,"div",33)(59,"button",34),j.bIt("click",function(){return Fe.onApplyDateRange()}),j.EFF(60,"Apply"),j.k0s()(),j.DNE(61,Ht,5,0,"div",35),j.k0s()(),j.DNE(62,Et,13,1,"div",36),j.DNE(63,bi,6,2,"div",37),j.DNE(64,Oi,19,4,"ng-container",38)),2&ce){const ht=j.sdS(34),Jt=j.sdS(43);j.Y8G("fullScreen",!0),j.R7$(6),j.SpI("Welcome, ",Fe.userName,"!"),j.R7$(6),j.Y8G("ngForOf",Fe.MarqueeRecords),j.R7$(1),j.Y8G("ngForOf",Fe.MarqueeRecords),j.R7$(5),j.SpI(" ",j.i5U(19,20,null==Fe.lastReconciledDate?null:Fe.lastReconciledDate.value,"dd MMM yyyy")," "),j.R7$(4),j.Y8G("ngIf",!Fe.showSelectedDateData),j.R7$(8),j.Y8G("matDatepicker",ht)("max",Fe.today),j.R7$(2),j.Y8G("for",ht),j.R7$(7),j.Y8G("matDatepicker",Jt)("max",Fe.today),j.R7$(2),j.Y8G("for",Jt),j.R7$(10),j.Y8G("value",Fe.selectedProjectType),j.R7$(1),j.Y8G("ngForOf",Fe.ProjectDataType),j.R7$(4),j.Y8G("value",Fe.selectedProjectId),j.R7$(1),j.Y8G("ngForOf",Fe.projects),j.R7$(4),j.Y8G("ngIf",!Fe.showSelectedDateData),j.R7$(1),j.Y8G("ngIf",Fe.showSelectedDateData),j.R7$(1),j.Y8G("ngIf",Fe.showSelectedDateData),j.R7$(1),j.Y8G("ngIf",!Fe.showSelectedDateData)}},dependencies:[K.Sq,K.bT,P.rl,P.nJ,P.yw,Be.fg,Ct.Vh,Ct.bZ,Ct.bU,qt.VO,pt.wT,ve.et,Ai.$P,K.QX,K.vh],styles:[".title[_ngcontent-%COMP%]{background:linear-gradient(92deg,#C4D5FF 25.83%,rgba(176,159,244,.63) 59.6%,rgba(218,188,255,.71) 93.36%);height:25%;padding-top:1px}.title[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-left:4%;margin-top:3%}.title[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-style:normal;font-weight:400}.custome-marquee[_ngcontent-%COMP%]{display:flex;align-items:center}.custome-marquee[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;position:relative;width:100%;padding:15px}.custome-marquee[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]   .scrolling-content[_ngcontent-%COMP%]{display:inline-block;padding-left:100%;animation:_ngcontent-%COMP%_scroll 50s linear infinite}.custome-marquee[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]   .scrolling-content[_ngcontent-%COMP%]   .scroll-item[_ngcontent-%COMP%]{margin-right:200px;display:inline-block;white-space:nowrap;font-size:18px;font-weight:300!important;letter-spacing:.2px}.custome-marquee[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]   .scrolling-content[_ngcontent-%COMP%]   .scroll-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#816ce7;font-weight:100;font-size:17px;font-weight:400}.custome-marquee[_ngcontent-%COMP%]   .title-conatiner[_ngcontent-%COMP%]{width:18%;padding:10px;border-left:1px solid #E2E8F0}.custome-marquee[_ngcontent-%COMP%]   .title-conatiner[_ngcontent-%COMP%]   .title-key[_ngcontent-%COMP%]{font-size:15px}.custome-marquee[_ngcontent-%COMP%]   .title-conatiner[_ngcontent-%COMP%]   .title-key[_ngcontent-%COMP%]   .title-value[_ngcontent-%COMP%]{font-size:16px}@keyframes _ngcontent-%COMP%_scroll{0%{transform:translate(0)}to{transform:translate(-100%)}}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:10vh;padding:0 45px;background-color:#f9f9f9;border-bottom:1px solid #E2E8F0;border-top:1px solid #E2E8F0}.dashboard-header[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:15px}.dashboard-header[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{font-size:24px;cursor:pointer}.dashboard-header[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:20px}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{flex-direction:row!important}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .action-btn-download[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:8px;background:transparent;border:1px solid #8f8d8d;padding:10px 12px;font-size:18px;border-radius:10px}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .action-btn-download[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:25px;color:#9d9a9a}.dashboard-header[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 25px;width:100%;border:none;outline:none;font-size:16px;font-weight:500;color:#fff;background:#816CE7;border-radius:10px;cursor:pointer}.dashboard-header[_ngcontent-%COMP%]   .project-inpt[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.status-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:10px;border:1px solid #E2E8F0;margin:20px}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 26px 0}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{font-size:18px}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:14px;color:#8a8a8a}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:15px}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;margin-right:5px}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .dot.reconciled[_ngcontent-%COMP%]{background-color:#8ae89b}.status-container[_ngcontent-%COMP%]   .status-content[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .dot.not-reconciled[_ngcontent-%COMP%]{background-color:#e89b9b}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:104px;cursor:pointer;overflow:auto;padding:26px}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;margin-bottom:10px}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .reconciled[_ngcontent-%COMP%]{background-color:#8ae89b}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .not-reconciled[_ngcontent-%COMP%]{background-color:#e89b9b}.status-container[_ngcontent-%COMP%]   .status-box[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#8a8a8a;font-size:12px;font-weight:500}.status-container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.Last5yearChart[_ngcontent-%COMP%]{height:49vh;padding:20px 20px 50px;border:2px solid #EDF1F6;border-radius:10px;margin:20px}.Last5yearChart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{text-align:right}.Last5yearChart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{flex-direction:row!important}.Last5yearChart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:7px;padding-bottom:7px}.Last5yearChart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:40px}.Last5yearChart[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]   #time-period[_ngcontent-%COMP%]{padding:20px 10px;outline:none}.Last5yearChart[_ngcontent-%COMP%]   .main-chart[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent}.UpperCharts[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:42vh;padding:15px 30px;gap:20px}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]{width:10%;height:95%;border:2px solid #EDF1F6;border-radius:10px;background-color:transparent;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .selected-card-title[_ngcontent-%COMP%]{font-size:20px;margin-top:20px}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;margin-bottom:10px}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .reconciled[_ngcontent-%COMP%]{background-color:#8ae89b}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .not-reconciled[_ngcontent-%COMP%]{background-color:#e89b9b}.UpperCharts[_ngcontent-%COMP%]   .selected-card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#646464;font-size:18px;font-weight:500;margin-top:10px}.UpperCharts[_ngcontent-%COMP%]   .total-remitance[_ngcontent-%COMP%]{width:60%;height:95%;border:2px solid #EDF1F6;border-radius:10px;background-color:transparent}.UpperCharts[_ngcontent-%COMP%]   .total-dispute[_ngcontent-%COMP%]{width:30%;height:95%;border:2px solid #EDF1F6;border-radius:10px;background-color:transparent}.UpperCharts[_ngcontent-%COMP%]   .total-remitance[_ngcontent-%COMP%], .UpperCharts[_ngcontent-%COMP%]   .total-dispute[_ngcontent-%COMP%]{min-width:300px;min-height:300px}.BottomCharts[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60vh;padding:0 30px 15px;gap:20px}.BottomCharts[_ngcontent-%COMP%]   .match-unmatch[_ngcontent-%COMP%]{width:35%;height:95%;border:2px solid #EDF1F6;border-radius:10px;background-color:transparent}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]{width:65%;height:95%;border:2px solid #EDF1F6;border-radius:10px;background-color:transparent}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-count-title[_ngcontent-%COMP%]{padding:0 34px;font-size:20px;line-height:60px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-count-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;padding:10px 30px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]{padding:20px;border:1px solid #E2E8F0;border-radius:10px;display:flex;flex-direction:column;gap:15px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #E2E8F0}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-box-title[_ngcontent-%COMP%]{font-weight:600;color:#333}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]{display:flex;gap:20px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]   .transaction-key[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-weight:300;font-size:15px;color:#555}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-header[_ngcontent-%COMP%]   .transaction-summary[_ngcontent-%COMP%]   .transaction-key[_ngcontent-%COMP%]   .transaction-value[_ngcontent-%COMP%]{font-weight:500;color:#1a202c}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-detail-box[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;background-color:#f2f4f7;padding:12px;border:1px solid #E2E8F0;border-radius:8px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-detail-box[_ngcontent-%COMP%]   .detail-title[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-bottom:5px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-detail-box[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-detail-box[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .transaction-key[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:left;font-weight:300;font-size:14px;color:#555}.BottomCharts[_ngcontent-%COMP%]   .transaction-count-container[_ngcontent-%COMP%]   .transaction-box[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-detail-box[_ngcontent-%COMP%]   .detail-content[_ngcontent-%COMP%]   .transaction-key[_ngcontent-%COMP%]   .transaction-value[_ngcontent-%COMP%]{margin-top:7px;font-weight:500;color:#1a202c}"]})}}return Ne})();var lt=N(193),wt=N(4173);let ii=(()=>{class Ne{constructor(G,ce){this.route=G,this.service=ce,this.Realm=localStorage.getItem("RealmName")}canActivate(){var G=this;return(0,E.A)(function*(){return(yield G.service.isLoggedIn())||G.route.navigate(["/recon/main/auth"],{queryParams:{action:"login",realm:G.Realm,clientid:lt.$.clientId}}),!0})()}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.KVO(O.Ix),j.KVO(wt.G))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac,providedIn:"root"})}}return Ne})(),ut=(()=>{class Ne{constructor(G,ce,Fe){this.router=G,this.keycloakservice=ce,this.activatedRoute=Fe,this.isLoggedIn=!1,this.appURL=lt.$.applicationURL,this.subDomain=`${this.appURL}`,console.log("hostnameURL:",window.location.hostname),this.Realm=localStorage.getItem("RealmName"),this.subDomain=window.location.hostname.split(".").length>1?window.location.hostname.split(".")[0]:"master",this.activatedRoute.queryParams.subscribe(ht=>{console.log("Params:",ht),this.login()})}login(){console.log("ClientId:",lt.$.clientId,"Realm:",this.Realm),this.router.navigate(["/recon/main/auth"],{queryParams:{action:"login",realm:this.Realm,clientid:lt.$.clientId}})}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.rXU(O.Ix),j.rXU(wt.G),j.rXU(O.nX))}}static{this.\u0275cmp=j.VBU({type:Ne,selectors:[["app-login"]],decls:0,vars:0,template:function(ce,Fe){}})}}return Ne})();const yt=new j.nKC("JWT_OPTIONS");let Zt=(()=>{class Ne{constructor(G=null){this.tokenGetter=G&&G.tokenGetter||function(){}}urlBase64Decode(G){let ce=G.replace(/-/g,"+").replace(/_/g,"/");switch(ce.length%4){case 0:break;case 2:ce+="==";break;case 3:ce+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(ce)}b64decode(G){let Fe="";if((G=String(G).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let Jt,_i,ht=0,zi=0;_i=G.charAt(zi++);~_i&&(Jt=ht%4?64*Jt+_i:_i,ht++%4)?Fe+=String.fromCharCode(255&Jt>>(-2*ht&6)):0)_i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(_i);return Fe}b64DecodeUnicode(G){return decodeURIComponent(Array.prototype.map.call(this.b64decode(G),ce=>"%"+("00"+ce.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(G=this.tokenGetter()){return G instanceof Promise?G.then(ce=>this._decodeToken(ce)):this._decodeToken(G)}_decodeToken(G){if(!G||""===G)return null;const ce=G.split(".");if(3!==ce.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const Fe=this.urlBase64Decode(ce[1]);if(!Fe)throw new Error("Cannot decode the token.");return JSON.parse(Fe)}getTokenExpirationDate(G=this.tokenGetter()){return G instanceof Promise?G.then(ce=>this._getTokenExpirationDate(ce)):this._getTokenExpirationDate(G)}_getTokenExpirationDate(G){let ce;if(ce=this.decodeToken(G),!ce||!ce.hasOwnProperty("exp"))return null;const Fe=new Date(0);return Fe.setUTCSeconds(ce.exp),Fe}isTokenExpired(G=this.tokenGetter(),ce){return G instanceof Promise?G.then(Fe=>this._isTokenExpired(Fe,ce)):this._isTokenExpired(G,ce)}_isTokenExpired(G,ce){if(!G||""===G)return!0;const Fe=this.getTokenExpirationDate(G);return ce=ce||0,null!==Fe&&!(Fe.valueOf()>(new Date).valueOf()+1e3*ce)}getAuthScheme(G,ce){return"function"==typeof G?G(ce):G}}return Ne.\u0275fac=function(G){return new(G||Ne)(j.KVO(yt))},Ne.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac}),Ne})();var ri=function(Ne){return Ne.login="login",Ne.return="return",Ne}(ri||{});let ct=(()=>{class Ne{constructor(G,ce,Fe,ht){this.keycloakservice=G,this.router=ce,this._service=Fe,this.jwtHelperService=ht,this.appURL=lt.$.applicationURL,this.actionGlobal=this.getParameterFromUrl("action"),this.realmGlobal=this.getParameterFromUrl("realm"),this.clientIdGlobal=this.getParameterFromUrl("clientid");let Jt=this.actionGlobal,_i=this.realmGlobal,zi=this.clientIdGlobal;localStorage.setItem("product_id",lt.$.product_id),localStorage.setItem("application_id",lt.$.application_id),localStorage.setItem("tenant_id",_i),localStorage.setItem("allow_force_recon","true"),console.log("Action:",Jt,"Realm:",_i,"ClientId:",zi),Jt&&_i&&zi?(console.log("Inside if Condition"),Jt==ri.login?(console.log("Inside nested if Condition"),console.log("Which action performed:",ri.login),this.keycloakservice.initializeKeycloakjs(_i).then(Dn=>{console.log("Data:",Dn),this.keycloakservice.keycloakInstance.login({action:"return",redirectUri:`${this.appURL}/recon/main/auth?action=return&clientid=${zi}&realm=${_i}`})}).catch(Dn=>{console.log("Error occured in initializing",Dn)})):Jt==ri.return&&(console.log("Action Return:",Jt),this.keycloakservice.initializeKeycloakjs(_i).then(()=>{this.keycloakservice.currentRealm={name:_i,ClientId:zi,displayName:null},localStorage.setItem("userRealm",JSON.stringify({name:_i,clientId:zi,displayName:null}));let hn=this.keycloakservice._keycloakjsInstance.token,nr=this.keycloakservice._keycloakjsInstance.tokenParsed?.exp,_n=this.keycloakservice._keycloakjsInstance.refreshToken;if(console.log("refreshToken",hn,nr,_n),hn&&nr&&_n){localStorage.setItem("token",hn),localStorage.setItem("refreshToken",_n),localStorage.setItem("tokenExp",nr.toString());let cr=this.jwtHelperService.decodeToken(hn);console.log("parsedToken==>",cr),console.log("parsedToken.realm_access.roles ===>",cr.realm_access.roles);const sn=cr.realm_access.roles.filter(jr=>"offline_access"!==jr&&"uma_authorization"!==jr&&!/^default-roles-/.test(jr));console.log("roles ===>",sn),localStorage.setItem("role",sn[0]);const Eo=localStorage.getItem("role");console.log("Stored role ===>",Eo),this.keycloakservice._keycloakjsInstance.loadUserProfile().then(jr=>{console.log(jr),localStorage.setItem("profile",JSON.stringify(jr));let jo=jr.id;localStorage.setItem("userId",jo);let os=localStorage.getItem("tenant_id");this.getUserRole(jo,os)}),this.router.navigate(["/recon/main/home"]).then()}else this.router.navigate(["/recon/main/home"])}))):this.router.navigate(["/recon/main/auth/login"],{queryParams:{action:"redirect"}})}getUserRole(G,ce){this._service.getUserRole({tenant_id:ce,user_id:G}).then(ht=>{if(console.log("getUserRole response",ht),200===ht.statusCode){localStorage.setItem("role",ht.data.mappings[0].name);const _i=localStorage.getItem("role");console.log("roleAdmin Res",_i)}else console.log("Msg",ht.errorMessage)}).catch(ht=>{console.log("getUserRole err",ht)})}getParameterFromUrl(G){console.log("parameter:",G);let Fe=new RegExp(G+"=([a-zA-Z0-9-_]+)&?").exec(window.location.href);return console.log("Result:",Fe),Fe?Fe[1]:(console.log(),"")}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.rXU(wt.G),j.rXU(O.Ix),j.rXU(rt.w),j.rXU(Zt))}}static{this.\u0275cmp=j.VBU({type:Ne,selectors:[["app-auth"]],decls:0,vars:0,template:function(ce,Fe){}})}}return Ne})();var Ut=N(5911),ft=N(9213),Wt=N(882),tt=N(105),Yt=N(6038),Mi=N(4823);const Qi=["drawer"];function tn(Ne,Z){if(1&Ne&&(j.qex(0),j.nrm(1,"img",21),j.bVm()),2&Ne){const G=j.XpG();j.R7$(1),j.Y8G("src",G.profileImageSrc,j.B4B)}}function dn(Ne,Z){1&Ne&&j.nrm(0,"img",22)}const gn=function(Ne){return{"active-route":Ne}};function Sn(Ne,Z){if(1&Ne&&(j.j41(0,"div",23)(1,"mat-icon",24)(2,"span",7),j.EFF(3),j.k0s()(),j.j41(4,"p",25),j.EFF(5),j.k0s()()),2&Ne){const G=Z.$implicit,ce=j.XpG();j.Y8G("routerLink",G.route)("ngClass",j.eq3(4,gn,ce.activeRoute===G.route)),j.R7$(3),j.JRh(G.icon),j.R7$(2),j.JRh(G.text)}}const Ni=function(Ne){return{"active-menu":Ne}},mt=[{path:"",redirectTo:"/recon/main",pathMatch:"full"},{path:"recon/main",loadChildren:()=>Promise.resolve().then(N.bind(N,4598)).then(Ne=>Ne.VerifyOrgRoutingModule)},{path:"recon/main",loadChildren:()=>N.e(888).then(N.bind(N,2888)).then(Ne=>Ne.NewTabsRoutingModule)},{path:"recon/main/auth/login",component:ut},{path:"recon/main/auth",component:ct},{path:"recon/main",component:(()=>{class Ne{constructor(G,ce,Fe,ht,Jt){this.router=G,this.activatedRoute=ce,this.customservice=Fe,this.service=ht,this.notify=Jt,this.menuArray=[],this.innerMenuTitle="",this.activeMenu="",this.activeRoute="",this.setActiveRouteOnInit()}ngOnInit(){this.Data=localStorage.getItem("profile"),console.log("Data in nav comp",typeof this.Data),this.UserData=JSON.parse(this.Data),console.log("UserData",this.UserData),console.log("UserEmail",this.UserData.email);const ce=this.UserData.lastName,Fe=this.UserData.email,ht=this.UserData.id,Jt=this.UserData.username;localStorage.setItem("firstname",this.UserData.firstName),localStorage.setItem("lastname",ce),localStorage.setItem("email",Fe),localStorage.setItem("userId",ht),localStorage.setItem("username",Jt),this.userId=localStorage.getItem("userId"),console.log("UserId in nav",this.userId),this.getUserAttributes()}toggleInnerMenu(G){console.log("menuType",G),"Product"===G?this.menuArray=[{icon:"inventory",text:"My products",route:"my-products"},{icon:"inventory_2",text:"All products",route:"all-products"}]:"Project"===G||"Support"===G?this.menuArray=[{icon:"manage_accounts",text:"manage_accounts"},{icon:"menu",text:"menu"}]:"Settings"===G&&(this.menuArray=[{icon:"account_box",text:"profile",route:"profile"},{icon:"password",text:"Password",route:"change-pass"}]),this.drawer.toggle(),this.innerMenuTitle=G,this.activeMenu=G}setActiveRouteOnInit(){console.log("setActiveRouteOnInit function called.."),this.activeRoute=this.router.url.split("/")[1],this.router.events.subscribe(G=>{G instanceof O.wF&&(this.activeRoute=G.urlAfterRedirects.split("/")[1])})}getUserAttributes(){const G=localStorage.getItem("username");let Fe={tenant_id:localStorage.getItem("tenant_id"),user_name:G};this.service.getUserAttributes(Fe).then(ht=>{if(console.log("getUserAttributes_Response:",ht),200===ht.statusCode){console.log("attributes",ht.data.attributes);const Jt=ht.data.attributes;console.log("Parsed userAttributes:",Jt);const _i=Object.values(Jt).reduce((zi,on)=>{const Dn=on.map(hn=>hn.replace(/\s+/g,""));return zi.concat(Dn)},[]);console.log("Combined array:",_i),localStorage.setItem("permissions",JSON.stringify(_i)),console.log("permissions ==>",localStorage.getItem("permissions"))}else console.log("error Msg",ht.errorMessage)}).catch(ht=>{console.log("error",ht)})}routeToProject(){this.router.navigate(["/recon/main/projects"])}logout(){console.log("clicked"),this.customservice.logout(),sessionStorage.clear()}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.rXU(O.Ix),j.rXU(O.nX),j.rXU(wt.G),j.rXU(rt.w),j.rXU(Ce.J))}}static{this.\u0275cmp=j.VBU({type:Ne,selectors:[["app-nav-layout"]],viewQuery:function(ce,Fe){if(1&ce&&j.GBs(Qi,5),2&ce){let ht;j.mGM(ht=j.lsd())&&(Fe.drawer=ht.first)}},decls:39,vars:14,consts:[[1,"sidebar"],[1,"sidebar-menu"],[1,"top-menus"],[4,"ngIf","ngIfElse"],["noProfile",""],[1,"menu-list"],["routerLink","home","matTooltip","Home"],[1,"material-symbols-outlined"],["matTooltip","Project",3,"ngClass","click"],["routerLink","schedule","matTooltip","Schedule frequency"],[1,"bottom-menus"],["routerLink","recon/main/home","matTooltip","Support",3,"ngClass","click"],["matTooltip","Settings",3,"ngClass","click"],["matTooltip","Logout",3,"click"],[1,"inner-menu"],["autosize","",1,"example-container"],["mode","side",1,"inner-sidenav"],["drawer",""],["class","menu-item",3,"routerLink","ngClass",4,"ngFor","ngForOf"],[1,"userprofile"],[1,"router-outlet"],["alt","",1,"img-fluid",3,"src"],["src","../../assets/EPS_TM_BG.png","alt","",1,"img-fluid"],[1,"menu-item",3,"routerLink","ngClass"],[1,"icon"],[1,"icon-text"]],template:function(ce,Fe){if(1&ce&&(j.j41(0,"div",0)(1,"div",1)(2,"div",2),j.DNE(3,tn,2,1,"ng-container",3),j.DNE(4,dn,1,0,"ng-template",null,4,j.C5r),j.j41(6,"mat-nav-list",5)(7,"mat-list-item",6)(8,"span",7),j.EFF(9,"home"),j.k0s()(),j.j41(10,"mat-list-item",8),j.bIt("click",function(){return Fe.routeToProject()}),j.j41(11,"span",7),j.EFF(12,"tactic"),j.k0s()(),j.j41(13,"mat-list-item",9)(14,"span",7),j.EFF(15,"data_table"),j.k0s()()()(),j.j41(16,"div",10)(17,"mat-nav-list",5)(18,"mat-list-item",11),j.bIt("click",function(){return Fe.toggleInnerMenu("Support")}),j.j41(19,"span",7),j.EFF(20,"support"),j.k0s()(),j.j41(21,"mat-list-item",12),j.bIt("click",function(){return Fe.toggleInnerMenu("Settings")}),j.j41(22,"span",7),j.EFF(23,"settings"),j.k0s()(),j.j41(24,"mat-list-item",13),j.bIt("click",function(){return Fe.logout()}),j.j41(25,"span",7),j.EFF(26,"logout"),j.k0s()()()()(),j.j41(27,"div",14)(28,"mat-drawer-container",15)(29,"mat-drawer",16,17)(31,"mat-toolbar"),j.EFF(32),j.k0s(),j.DNE(33,Sn,6,6,"div",18),j.j41(34,"div",19)(35,"span"),j.EFF(36),j.k0s()()()()(),j.j41(37,"div",20),j.nrm(38,"router-outlet"),j.k0s()()),2&ce){const ht=j.sdS(5);j.R7$(3),j.Y8G("ngIf",Fe.profileImageSrc)("ngIfElse",ht),j.R7$(7),j.Y8G("ngClass",j.eq3(8,Ni,"Project"===Fe.activeMenu)),j.R7$(8),j.Y8G("ngClass",j.eq3(10,Ni,"Support"===Fe.activeMenu)),j.R7$(3),j.Y8G("ngClass",j.eq3(12,Ni,"Settings"===Fe.activeMenu)),j.R7$(11),j.JRh(Fe.innerMenuTitle),j.R7$(1),j.Y8G("ngForOf",Fe.menuArray),j.R7$(3),j.JRh(null==Fe.UserData?null:Fe.UserData.email)}},dependencies:[K.YU,K.Sq,K.bT,O.n3,O.Wk,Ut.KQ,ft.An,Wt.qe,Wt.$C,tt._L,tt.YE,Yt.PW,Mi.oV],styles:[".router-outlet[_ngcontent-%COMP%]{width:100%;height:100vh;overflow:auto}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:6%!important;background:transparent!important;margin-bottom:8px!important;font-size:20px;border-bottom:1px solid #ccc}.active-menu[_ngcontent-%COMP%]{background-color:#ececec;color:#000;border-radius:5px}.active-route[_ngcontent-%COMP%]{background-color:#f18c8c;color:#333;border-radius:5px}.inner-sidenav[_ngcontent-%COMP%]{overflow-x:hidden!important;overflow-y:hidden!important;width:260px;border:none;position:fixed;padding:10px;background-color:#fbfbfb}.inner-sidenav[_ngcontent-%COMP%]   .userprofile[_ngcontent-%COMP%]{position:fixed;bottom:20px;display:flex;align-items:center;gap:40px;margin:0 15px 20px}.iconName[_ngcontent-%COMP%]{font-size:13px}.menu-item[_ngcontent-%COMP%]{display:flex;margin-left:15px;margin-right:15px}.sidebar[_ngcontent-%COMP%]{display:flex}.sidebar-menu[_ngcontent-%COMP%]{width:80px;text-align:center;background-color:#fff;height:100vh;z-index:999;display:flex;flex-direction:column;justify-content:space-between;border-right:1px solid #e7e7e7}.top-menus[_ngcontent-%COMP%], .bottom-menus[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.top-menus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .bottom-menus[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;font-size:26px;color:gray}.top-menus[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%], .bottom-menus[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{height:28px;border-radius:100px;margin-top:30px}.first-menu[_ngcontent-%COMP%]{margin-top:200%}.mat-icon[_ngcontent-%COMP%]{margin-top:16px}.icon[_ngcontent-%COMP%]{padding:0 10px;cursor:pointer}.icon-text[_ngcontent-%COMP%]{cursor:pointer}"]})}}return Ne})(),canActivate:[ii],children:[{path:"home",component:Qt,canActivate:[ii]},{path:"",loadChildren:()=>N.e(99).then(N.bind(N,9099)).then(Ne=>Ne.ProductsModule)},{path:"",loadChildren:()=>Promise.all([N.e(769),N.e(830)]).then(N.bind(N,2830)).then(Ne=>Ne.MyProductsModule)},{path:"",loadChildren:()=>Promise.all([N.e(769),N.e(614)]).then(N.bind(N,6614)).then(Ne=>Ne.CategorizeAppModule)},{path:"",loadChildren:()=>Promise.resolve().then(N.bind(N,9774)).then(Ne=>Ne.ProfileModule)},{path:"",loadChildren:()=>N.e(288).then(N.bind(N,6288)).then(Ne=>Ne.ScheduleModule)},{path:"",loadChildren:()=>N.e(624).then(N.bind(N,2624)).then(Ne=>Ne.ChngPasswordModule)}]}];let jt=(()=>{class Ne{static{this.\u0275fac=function(ce){return new(ce||Ne)}}static{this.\u0275mod=j.$C({type:Ne})}static{this.\u0275inj=j.G2t({imports:[O.iI.forRoot(mt),O.iI]})}}return Ne})(),It=(()=>{class Ne{constructor(G){this.spinner=G,this.title="recon-UI"}ngOnInit(){}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.rXU(ve.ex))}}static{this.\u0275cmp=j.VBU({type:Ne,selectors:[["app-root"]],decls:1,vars:0,template:function(ce,Fe){1&ce&&j.nrm(0,"router-outlet")},dependencies:[O.n3]})}}return Ne})();var $=N(9969);function Qe(Ne){return new j.wOt(3e3,!1)}function Yn(Ne){switch(Ne.length){case 0:return new $.sf;case 1:return Ne[0];default:return new $.ui(Ne)}}function Fn(Ne,Z,G=new Map,ce=new Map){const Fe=[],ht=[];let Jt=-1,_i=null;if(Z.forEach(zi=>{const on=zi.get("offset"),Dn=on==Jt,hn=Dn&&_i||new Map;zi.forEach((nr,_n)=>{let cr=_n,sn=nr;if("offset"!==_n)switch(cr=Ne.normalizePropertyName(cr,Fe),sn){case $.FX:sn=G.get(_n);break;case $.kp:sn=ce.get(_n);break;default:sn=Ne.normalizeStyleValue(_n,cr,sn,Fe)}hn.set(cr,sn)}),Dn||ht.push(hn),_i=hn,Jt=on}),Fe.length)throw function On(Ne){return new j.wOt(3502,!1)}();return ht}function mr(Ne,Z,G,ce){switch(Z){case"start":Ne.onStart(()=>ce(G&&uo(G,"start",Ne)));break;case"done":Ne.onDone(()=>ce(G&&uo(G,"done",Ne)));break;case"destroy":Ne.onDestroy(()=>ce(G&&uo(G,"destroy",Ne)))}}function uo(Ne,Z,G){const ht=Lo(Ne.element,Ne.triggerName,Ne.fromState,Ne.toState,Z||Ne.phaseName,G.totalTime??Ne.totalTime,!!G.disabled),Jt=Ne._data;return null!=Jt&&(ht._data=Jt),ht}function Lo(Ne,Z,G,ce,Fe="",ht=0,Jt){return{element:Ne,triggerName:Z,fromState:G,toState:ce,phaseName:Fe,totalTime:ht,disabled:!!Jt}}function eo(Ne,Z,G){let ce=Ne.get(Z);return ce||Ne.set(Z,ce=G),ce}function Po(Ne){const Z=Ne.indexOf(":");return[Ne.substring(1,Z),Ne.slice(Z+1)]}const oo=(()=>typeof document>"u"?null:document.documentElement)();function nn(Ne){const Z=Ne.parentNode||Ne.host||null;return Z===oo?null:Z}let to=null,Rn=!1;function oe(Ne,Z){for(;Z;){if(Z===Ne)return!0;Z=nn(Z)}return!1}function dt(Ne,Z,G){if(G)return Array.from(Ne.querySelectorAll(Z));const ce=Ne.querySelector(Z);return ce?[ce]:[]}let ti=(()=>{class Ne{validateStyleProperty(G){return function pr(Ne){to||(to=function En(){return typeof document<"u"?document.body:null}()||{},Rn=!!to.style&&"WebkitAppearance"in to.style);let Z=!0;return to.style&&!function Mr(Ne){return"ebkit"==Ne.substring(1,6)}(Ne)&&(Z=Ne in to.style,!Z&&Rn&&(Z="Webkit"+Ne.charAt(0).toUpperCase()+Ne.slice(1)in to.style)),Z}(G)}matchesElement(G,ce){return!1}containsElement(G,ce){return oe(G,ce)}getParentElement(G){return nn(G)}query(G,ce,Fe){return dt(G,ce,Fe)}computeStyle(G,ce,Fe){return Fe||""}animate(G,ce,Fe,ht,Jt,_i=[],zi){return new $.sf(Fe,ht)}static{this.\u0275fac=function(ce){return new(ce||Ne)}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})(),Fi=(()=>{class Ne{static{this.NOOP=new ti}}return Ne})();const Un=1e3,ho="ng-enter",wa="ng-leave",yl="ng-trigger",il=".ng-trigger",Rs="ng-animating",Rc=".ng-animating";function Ao(Ne){if("number"==typeof Ne)return Ne;const Z=Ne.match(/^(-?[\.\d]+)(m?s)/);return!Z||Z.length<2?0:Er(parseFloat(Z[1]),Z[2])}function Er(Ne,Z){return"s"===Z?Ne*Un:Ne}function Ws(Ne,Z,G){return Ne.hasOwnProperty("duration")?Ne:function Bs(Ne,Z,G){let Fe,ht=0,Jt="";if("string"==typeof Ne){const _i=Ne.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_i)return Z.push(Qe()),{duration:0,delay:0,easing:""};Fe=Er(parseFloat(_i[1]),_i[2]);const zi=_i[3];null!=zi&&(ht=Er(parseFloat(zi),_i[4]));const on=_i[5];on&&(Jt=on)}else Fe=Ne;if(!G){let _i=!1,zi=Z.length;Fe<0&&(Z.push(function ui(){return new j.wOt(3100,!1)}()),_i=!0),ht<0&&(Z.push(function xe(){return new j.wOt(3101,!1)}()),_i=!0),_i&&Z.splice(zi,0,Qe())}return{duration:Fe,delay:ht,easing:Jt}}(Ne,Z,G)}function Wa(Ne,Z={}){return Object.keys(Ne).forEach(G=>{Z[G]=Ne[G]}),Z}function Ys(Ne){const Z=new Map;return Object.keys(Ne).forEach(G=>{Z.set(G,Ne[G])}),Z}function po(Ne,Z=new Map,G){if(G)for(let[ce,Fe]of G)Z.set(ce,Fe);for(let[ce,Fe]of Ne)Z.set(ce,Fe);return Z}function To(Ne,Z,G){Z.forEach((ce,Fe)=>{const ht=pa(Fe);G&&!G.has(Fe)&&G.set(Fe,Ne.style[ht]),Ne.style[ht]=ce})}function Cs(Ne,Z){Z.forEach((G,ce)=>{const Fe=pa(ce);Ne.style[Fe]=""})}function vr(Ne){return Array.isArray(Ne)?1==Ne.length?Ne[0]:(0,$.K2)(Ne):Ne}const Hr=new RegExp("{{\\s*(.+?)\\s*}}","g");function ha(Ne){let Z=[];if("string"==typeof Ne){let G;for(;G=Hr.exec(Ne);)Z.push(G[1]);Hr.lastIndex=0}return Z}function fo(Ne,Z,G){const ce=Ne.toString(),Fe=ce.replace(Hr,(ht,Jt)=>{let _i=Z[Jt];return null==_i&&(G.push(function qe(Ne){return new j.wOt(3003,!1)}()),_i=""),_i.toString()});return Fe==ce?Ne:Fe}function fr(Ne){const Z=[];let G=Ne.next();for(;!G.done;)Z.push(G.value),G=Ne.next();return Z}const ls=/-+([a-z0-9])/g;function pa(Ne){return Ne.replace(ls,(...Z)=>Z[1].toUpperCase())}function An(Ne,Z,G){switch(Z.type){case 7:return Ne.visitTrigger(Z,G);case 0:return Ne.visitState(Z,G);case 1:return Ne.visitTransition(Z,G);case 2:return Ne.visitSequence(Z,G);case 3:return Ne.visitGroup(Z,G);case 4:return Ne.visitAnimate(Z,G);case 5:return Ne.visitKeyframes(Z,G);case 6:return Ne.visitStyle(Z,G);case 8:return Ne.visitReference(Z,G);case 9:return Ne.visitAnimateChild(Z,G);case 10:return Ne.visitAnimateRef(Z,G);case 11:return Ne.visitQuery(Z,G);case 12:return Ne.visitStagger(Z,G);default:throw function Dt(Ne){return new j.wOt(3004,!1)}()}}function yr(Ne,Z){return window.getComputedStyle(Ne)[Z]}const Do="*";function gs(Ne,Z){const G=[];return"string"==typeof Ne?Ne.split(/\s*,\s*/).forEach(ce=>function er(Ne,Z,G){if(":"==Ne[0]){const zi=function ta(Ne,Z){switch(Ne){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(G,ce)=>parseFloat(ce)>parseFloat(G);case":decrement":return(G,ce)=>parseFloat(ce)<parseFloat(G);default:return Z.push(function Se(Ne){return new j.wOt(3016,!1)}()),"* => *"}}(Ne,G);if("function"==typeof zi)return void Z.push(zi);Ne=zi}const ce=Ne.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ce||ce.length<4)return G.push(function at(Ne){return new j.wOt(3015,!1)}()),Z;const Fe=ce[1],ht=ce[2],Jt=ce[3];Z.push(io(Fe,Jt));"<"==ht[0]&&!(Fe==Do&&Jt==Do)&&Z.push(io(Jt,Fe))}(ce,G,Z)):G.push(Ne),G}const is=new Set(["true","1"]),No=new Set(["false","0"]);function io(Ne,Z){const G=is.has(Ne)||No.has(Ne),ce=is.has(Z)||No.has(Z);return(Fe,ht)=>{let Jt=Ne==Do||Ne==Fe,_i=Z==Do||Z==ht;return!Jt&&G&&"boolean"==typeof Fe&&(Jt=Fe?is.has(Ne):No.has(Ne)),!_i&&ce&&"boolean"==typeof ht&&(_i=ht?is.has(Z):No.has(Z)),Jt&&_i}}const ms=new RegExp("s*:selfs*,?","g");function Ho(Ne,Z,G,ce){return new nl(Ne).build(Z,G,ce)}class nl{constructor(Z){this._driver=Z}build(Z,G,ce){const Fe=new ns(G);return this._resetContextStyleTimingState(Fe),An(this,vr(Z),Fe)}_resetContextStyleTimingState(Z){Z.currentQuerySelector="",Z.collectedStyles=new Map,Z.collectedStyles.set("",new Map),Z.currentTime=0}visitTrigger(Z,G){let ce=G.queryCount=0,Fe=G.depCount=0;const ht=[],Jt=[];return"@"==Z.name.charAt(0)&&G.errors.push(function Rt(){return new j.wOt(3006,!1)}()),Z.definitions.forEach(_i=>{if(this._resetContextStyleTimingState(G),0==_i.type){const zi=_i,on=zi.name;on.toString().split(/\s*,\s*/).forEach(Dn=>{zi.name=Dn,ht.push(this.visitState(zi,G))}),zi.name=on}else if(1==_i.type){const zi=this.visitTransition(_i,G);ce+=zi.queryCount,Fe+=zi.depCount,Jt.push(zi)}else G.errors.push(function Te(){return new j.wOt(3007,!1)}())}),{type:7,name:Z.name,states:ht,transitions:Jt,queryCount:ce,depCount:Fe,options:null}}visitState(Z,G){const ce=this.visitStyle(Z.styles,G),Fe=Z.options&&Z.options.params||null;if(ce.containsDynamicStyles){const ht=new Set,Jt=Fe||{};ce.styles.forEach(_i=>{_i instanceof Map&&_i.forEach(zi=>{ha(zi).forEach(on=>{Jt.hasOwnProperty(on)||ht.add(on)})})}),ht.size&&(fr(ht.values()),G.errors.push(function bt(Ne,Z){return new j.wOt(3008,!1)}()))}return{type:0,name:Z.name,style:ce,options:Fe?{params:Fe}:null}}visitTransition(Z,G){G.queryCount=0,G.depCount=0;const ce=An(this,vr(Z.animation),G);return{type:1,matchers:gs(Z.expr,G.errors),animation:ce,queryCount:G.queryCount,depCount:G.depCount,options:rl(Z.options)}}visitSequence(Z,G){return{type:2,steps:Z.steps.map(ce=>An(this,ce,G)),options:rl(Z.options)}}visitGroup(Z,G){const ce=G.currentTime;let Fe=0;const ht=Z.steps.map(Jt=>{G.currentTime=ce;const _i=An(this,Jt,G);return Fe=Math.max(Fe,G.currentTime),_i});return G.currentTime=Fe,{type:3,steps:ht,options:rl(Z.options)}}visitAnimate(Z,G){const ce=function Dr(Ne,Z){if(Ne.hasOwnProperty("duration"))return Ne;if("number"==typeof Ne)return Qs(Ws(Ne,Z).duration,0,"");const G=Ne;if(G.split(/\s+/).some(ht=>"{"==ht.charAt(0)&&"{"==ht.charAt(1))){const ht=Qs(0,0,"");return ht.dynamic=!0,ht.strValue=G,ht}const Fe=Ws(G,Z);return Qs(Fe.duration,Fe.delay,Fe.easing)}(Z.timings,G.errors);G.currentAnimateTimings=ce;let Fe,ht=Z.styles?Z.styles:(0,$.iF)({});if(5==ht.type)Fe=this.visitKeyframes(ht,G);else{let Jt=Z.styles,_i=!1;if(!Jt){_i=!0;const on={};ce.easing&&(on.easing=ce.easing),Jt=(0,$.iF)(on)}G.currentTime+=ce.duration+ce.delay;const zi=this.visitStyle(Jt,G);zi.isEmptyStep=_i,Fe=zi}return G.currentAnimateTimings=null,{type:4,timings:ce,style:Fe,options:null}}visitStyle(Z,G){const ce=this._makeStyleAst(Z,G);return this._validateStyleAst(ce,G),ce}_makeStyleAst(Z,G){const ce=[],Fe=Array.isArray(Z.styles)?Z.styles:[Z.styles];for(let _i of Fe)"string"==typeof _i?_i===$.kp?ce.push(_i):G.errors.push(new j.wOt(3002,!1)):ce.push(Ys(_i));let ht=!1,Jt=null;return ce.forEach(_i=>{if(_i instanceof Map&&(_i.has("easing")&&(Jt=_i.get("easing"),_i.delete("easing")),!ht))for(let zi of _i.values())if(zi.toString().indexOf("{{")>=0){ht=!0;break}}),{type:6,styles:ce,easing:Jt,offset:Z.offset,containsDynamicStyles:ht,options:null}}_validateStyleAst(Z,G){const ce=G.currentAnimateTimings;let Fe=G.currentTime,ht=G.currentTime;ce&&ht>0&&(ht-=ce.duration+ce.delay),Z.styles.forEach(Jt=>{"string"!=typeof Jt&&Jt.forEach((_i,zi)=>{const on=G.collectedStyles.get(G.currentQuerySelector),Dn=on.get(zi);let hn=!0;Dn&&(ht!=Fe&&ht>=Dn.startTime&&Fe<=Dn.endTime&&(G.errors.push(function te(Ne,Z,G,ce,Fe){return new j.wOt(3010,!1)}()),hn=!1),ht=Dn.startTime),hn&&on.set(zi,{startTime:ht,endTime:Fe}),G.options&&function Gr(Ne,Z,G){const ce=Z.params||{},Fe=ha(Ne);Fe.length&&Fe.forEach(ht=>{ce.hasOwnProperty(ht)||G.push(function Pt(Ne){return new j.wOt(3001,!1)}())})}(_i,G.options,G.errors)})})}visitKeyframes(Z,G){const ce={type:5,styles:[],options:null};if(!G.currentAnimateTimings)return G.errors.push(function ge(){return new j.wOt(3011,!1)}()),ce;let ht=0;const Jt=[];let _i=!1,zi=!1,on=0;const Dn=Z.steps.map(jr=>{const jo=this._makeStyleAst(jr,G);let os=null!=jo.offset?jo.offset:function ka(Ne){if("string"==typeof Ne)return null;let Z=null;if(Array.isArray(Ne))Ne.forEach(G=>{if(G instanceof Map&&G.has("offset")){const ce=G;Z=parseFloat(ce.get("offset")),ce.delete("offset")}});else if(Ne instanceof Map&&Ne.has("offset")){const G=Ne;Z=parseFloat(G.get("offset")),G.delete("offset")}return Z}(jo.styles),$o=0;return null!=os&&(ht++,$o=jo.offset=os),zi=zi||$o<0||$o>1,_i=_i||$o<on,on=$o,Jt.push($o),jo});zi&&G.errors.push(function Re(){return new j.wOt(3012,!1)}()),_i&&G.errors.push(function Ve(){return new j.wOt(3200,!1)}());const hn=Z.steps.length;let nr=0;ht>0&&ht<hn?G.errors.push(function zt(){return new j.wOt(3202,!1)}()):0==ht&&(nr=1/(hn-1));const _n=hn-1,cr=G.currentTime,sn=G.currentAnimateTimings,Eo=sn.duration;return Dn.forEach((jr,jo)=>{const os=nr>0?jo==_n?1:nr*jo:Jt[jo],$o=os*Eo;G.currentTime=cr+sn.delay+$o,sn.duration=$o,this._validateStyleAst(jr,G),jr.offset=os,ce.styles.push(jr)}),ce}visitReference(Z,G){return{type:8,animation:An(this,vr(Z.animation),G),options:rl(Z.options)}}visitAnimateChild(Z,G){return G.depCount++,{type:9,options:rl(Z.options)}}visitAnimateRef(Z,G){return{type:10,animation:this.visitReference(Z.animation,G),options:rl(Z.options)}}visitQuery(Z,G){const ce=G.currentQuerySelector,Fe=Z.options||{};G.queryCount++,G.currentQuery=Z;const[ht,Jt]=function Pa(Ne){const Z=!!Ne.split(/\s*,\s*/).find(G=>":self"==G);return Z&&(Ne=Ne.replace(ms,"")),Ne=Ne.replace(/@\*/g,il).replace(/@\w+/g,G=>il+"-"+G.slice(1)).replace(/:animating/g,Rc),[Ne,Z]}(Z.selector);G.currentQuerySelector=ce.length?ce+" "+ht:ht,eo(G.collectedStyles,G.currentQuerySelector,new Map);const _i=An(this,vr(Z.animation),G);return G.currentQuery=null,G.currentQuerySelector=ce,{type:11,selector:ht,limit:Fe.limit||0,optional:!!Fe.optional,includeSelf:Jt,animation:_i,originalSelector:Z.selector,options:rl(Z.options)}}visitStagger(Z,G){G.currentQuery||G.errors.push(function Ri(){return new j.wOt(3013,!1)}());const ce="full"===Z.timings?{duration:0,delay:0,easing:"full"}:Ws(Z.timings,G.errors,!0);return{type:12,animation:An(this,vr(Z.animation),G),timings:ce,options:null}}}class ns{constructor(Z){this.errors=Z,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function rl(Ne){return Ne?(Ne=Wa(Ne)).params&&(Ne.params=function ws(Ne){return Ne?Wa(Ne):null}(Ne.params)):Ne={},Ne}function Qs(Ne,Z,G){return{duration:Ne,delay:Z,easing:G}}function Uo(Ne,Z,G,ce,Fe,ht,Jt=null,_i=!1){return{type:1,element:Ne,keyframes:Z,preStyleProps:G,postStyleProps:ce,duration:Fe,delay:ht,totalTime:Fe+ht,easing:Jt,subTimeline:_i}}class Is{constructor(){this._map=new Map}get(Z){return this._map.get(Z)||[]}append(Z,G){let ce=this._map.get(Z);ce||this._map.set(Z,ce=[]),ce.push(...G)}has(Z){return this._map.has(Z)}clear(){this._map.clear()}}const _l=new RegExp(":enter","g"),Ic=new RegExp(":leave","g");function _o(Ne,Z,G,ce,Fe,ht=new Map,Jt=new Map,_i,zi,on=[]){return(new so).buildKeyframes(Ne,Z,G,ce,Fe,ht,Jt,_i,zi,on)}class so{buildKeyframes(Z,G,ce,Fe,ht,Jt,_i,zi,on,Dn=[]){on=on||new Is;const hn=new ks(Z,G,on,Fe,ht,Dn,[]);hn.options=zi;const nr=zi.delay?Ao(zi.delay):0;hn.currentTimeline.delayNextStep(nr),hn.currentTimeline.setStyles([Jt],null,hn.errors,zi),An(this,ce,hn);const _n=hn.timelines.filter(cr=>cr.containsAnimation());if(_n.length&&_i.size){let cr;for(let sn=_n.length-1;sn>=0;sn--){const Eo=_n[sn];if(Eo.element===G){cr=Eo;break}}cr&&!cr.allowOnlyTimelineStyles()&&cr.setStyles([_i],null,hn.errors,zi)}return _n.length?_n.map(cr=>cr.buildKeyframes()):[Uo(G,[],[],[],0,nr,"",!1)]}visitTrigger(Z,G){}visitState(Z,G){}visitTransition(Z,G){}visitAnimateChild(Z,G){const ce=G.subInstructions.get(G.element);if(ce){const Fe=G.createSubContext(Z.options),ht=G.currentTimeline.currentTime,Jt=this._visitSubInstructions(ce,Fe,Fe.options);ht!=Jt&&G.transformIntoNewTimeline(Jt)}G.previousNode=Z}visitAnimateRef(Z,G){const ce=G.createSubContext(Z.options);ce.transformIntoNewTimeline(),this._applyAnimationRefDelays([Z.options,Z.animation.options],G,ce),this.visitReference(Z.animation,ce),G.transformIntoNewTimeline(ce.currentTimeline.currentTime),G.previousNode=Z}_applyAnimationRefDelays(Z,G,ce){for(const Fe of Z){const ht=Fe?.delay;if(ht){const Jt="number"==typeof ht?ht:Ao(fo(ht,Fe?.params??{},G.errors));ce.delayNextStep(Jt)}}}_visitSubInstructions(Z,G,ce){let ht=G.currentTimeline.currentTime;const Jt=null!=ce.duration?Ao(ce.duration):null,_i=null!=ce.delay?Ao(ce.delay):null;return 0!==Jt&&Z.forEach(zi=>{const on=G.appendInstructionToTimeline(zi,Jt,_i);ht=Math.max(ht,on.duration+on.delay)}),ht}visitReference(Z,G){G.updateOptions(Z.options,!0),An(this,Z.animation,G),G.previousNode=Z}visitSequence(Z,G){const ce=G.subContextCount;let Fe=G;const ht=Z.options;if(ht&&(ht.params||ht.delay)&&(Fe=G.createSubContext(ht),Fe.transformIntoNewTimeline(),null!=ht.delay)){6==Fe.previousNode.type&&(Fe.currentTimeline.snapshotCurrentStyles(),Fe.previousNode=Da);const Jt=Ao(ht.delay);Fe.delayNextStep(Jt)}Z.steps.length&&(Z.steps.forEach(Jt=>An(this,Jt,Fe)),Fe.currentTimeline.applyStylesToKeyframe(),Fe.subContextCount>ce&&Fe.transformIntoNewTimeline()),G.previousNode=Z}visitGroup(Z,G){const ce=[];let Fe=G.currentTimeline.currentTime;const ht=Z.options&&Z.options.delay?Ao(Z.options.delay):0;Z.steps.forEach(Jt=>{const _i=G.createSubContext(Z.options);ht&&_i.delayNextStep(ht),An(this,Jt,_i),Fe=Math.max(Fe,_i.currentTimeline.currentTime),ce.push(_i.currentTimeline)}),ce.forEach(Jt=>G.currentTimeline.mergeTimelineCollectedStyles(Jt)),G.transformIntoNewTimeline(Fe),G.previousNode=Z}_visitTiming(Z,G){if(Z.dynamic){const ce=Z.strValue;return Ws(G.params?fo(ce,G.params,G.errors):ce,G.errors)}return{duration:Z.duration,delay:Z.delay,easing:Z.easing}}visitAnimate(Z,G){const ce=G.currentAnimateTimings=this._visitTiming(Z.timings,G),Fe=G.currentTimeline;ce.delay&&(G.incrementTime(ce.delay),Fe.snapshotCurrentStyles());const ht=Z.style;5==ht.type?this.visitKeyframes(ht,G):(G.incrementTime(ce.duration),this.visitStyle(ht,G),Fe.applyStylesToKeyframe()),G.currentAnimateTimings=null,G.previousNode=Z}visitStyle(Z,G){const ce=G.currentTimeline,Fe=G.currentAnimateTimings;!Fe&&ce.hasCurrentStyleProperties()&&ce.forwardFrame();const ht=Fe&&Fe.easing||Z.easing;Z.isEmptyStep?ce.applyEmptyStep(ht):ce.setStyles(Z.styles,ht,G.errors,G.options),G.previousNode=Z}visitKeyframes(Z,G){const ce=G.currentAnimateTimings,Fe=G.currentTimeline.duration,ht=ce.duration,_i=G.createSubContext().currentTimeline;_i.easing=ce.easing,Z.styles.forEach(zi=>{_i.forwardTime((zi.offset||0)*ht),_i.setStyles(zi.styles,zi.easing,G.errors,G.options),_i.applyStylesToKeyframe()}),G.currentTimeline.mergeTimelineCollectedStyles(_i),G.transformIntoNewTimeline(Fe+ht),G.previousNode=Z}visitQuery(Z,G){const ce=G.currentTimeline.currentTime,Fe=Z.options||{},ht=Fe.delay?Ao(Fe.delay):0;ht&&(6===G.previousNode.type||0==ce&&G.currentTimeline.hasCurrentStyleProperties())&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=Da);let Jt=ce;const _i=G.invokeQuery(Z.selector,Z.originalSelector,Z.limit,Z.includeSelf,!!Fe.optional,G.errors);G.currentQueryTotal=_i.length;let zi=null;_i.forEach((on,Dn)=>{G.currentQueryIndex=Dn;const hn=G.createSubContext(Z.options,on);ht&&hn.delayNextStep(ht),on===G.element&&(zi=hn.currentTimeline),An(this,Z.animation,hn),hn.currentTimeline.applyStylesToKeyframe(),Jt=Math.max(Jt,hn.currentTimeline.currentTime)}),G.currentQueryIndex=0,G.currentQueryTotal=0,G.transformIntoNewTimeline(Jt),zi&&(G.currentTimeline.mergeTimelineCollectedStyles(zi),G.currentTimeline.snapshotCurrentStyles()),G.previousNode=Z}visitStagger(Z,G){const ce=G.parentContext,Fe=G.currentTimeline,ht=Z.timings,Jt=Math.abs(ht.duration),_i=Jt*(G.currentQueryTotal-1);let zi=Jt*G.currentQueryIndex;switch(ht.duration<0?"reverse":ht.easing){case"reverse":zi=_i-zi;break;case"full":zi=ce.currentStaggerTime}const Dn=G.currentTimeline;zi&&Dn.delayNextStep(zi);const hn=Dn.currentTime;An(this,Z.animation,G),G.previousNode=Z,ce.currentStaggerTime=Fe.currentTime-hn+(Fe.startTime-ce.currentTimeline.startTime)}}const Da={};class ks{constructor(Z,G,ce,Fe,ht,Jt,_i,zi){this._driver=Z,this.element=G,this.subInstructions=ce,this._enterClassName=Fe,this._leaveClassName=ht,this.errors=Jt,this.timelines=_i,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Da,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=zi||new ia(this._driver,G,0),_i.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(Z,G){if(!Z)return;const ce=Z;let Fe=this.options;null!=ce.duration&&(Fe.duration=Ao(ce.duration)),null!=ce.delay&&(Fe.delay=Ao(ce.delay));const ht=ce.params;if(ht){let Jt=Fe.params;Jt||(Jt=this.options.params={}),Object.keys(ht).forEach(_i=>{(!G||!Jt.hasOwnProperty(_i))&&(Jt[_i]=fo(ht[_i],Jt,this.errors))})}}_copyOptions(){const Z={};if(this.options){const G=this.options.params;if(G){const ce=Z.params={};Object.keys(G).forEach(Fe=>{ce[Fe]=G[Fe]})}}return Z}createSubContext(Z=null,G,ce){const Fe=G||this.element,ht=new ks(this._driver,Fe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Fe,ce||0));return ht.previousNode=this.previousNode,ht.currentAnimateTimings=this.currentAnimateTimings,ht.options=this._copyOptions(),ht.updateOptions(Z),ht.currentQueryIndex=this.currentQueryIndex,ht.currentQueryTotal=this.currentQueryTotal,ht.parentContext=this,this.subContextCount++,ht}transformIntoNewTimeline(Z){return this.previousNode=Da,this.currentTimeline=this.currentTimeline.fork(this.element,Z),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(Z,G,ce){const Fe={duration:G??Z.duration,delay:this.currentTimeline.currentTime+(ce??0)+Z.delay,easing:""},ht=new zo(this._driver,Z.element,Z.keyframes,Z.preStyleProps,Z.postStyleProps,Fe,Z.stretchStartingKeyframe);return this.timelines.push(ht),Fe}incrementTime(Z){this.currentTimeline.forwardTime(this.currentTimeline.duration+Z)}delayNextStep(Z){Z>0&&this.currentTimeline.delayNextStep(Z)}invokeQuery(Z,G,ce,Fe,ht,Jt){let _i=[];if(Fe&&_i.push(this.element),Z.length>0){Z=(Z=Z.replace(_l,"."+this._enterClassName)).replace(Ic,"."+this._leaveClassName);let on=this._driver.query(this.element,Z,1!=ce);0!==ce&&(on=ce<0?on.slice(on.length+ce,on.length):on.slice(0,ce)),_i.push(...on)}return!ht&&0==_i.length&&Jt.push(function _t(Ne){return new j.wOt(3014,!1)}()),_i}}class ia{constructor(Z,G,ce,Fe){this._driver=Z,this.element=G,this.startTime=ce,this._elementTimelineStylesLookup=Fe,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(G),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(G,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(Z){const G=1===this._keyframes.size&&this._pendingStyles.size;this.duration||G?(this.forwardTime(this.currentTime+Z),G&&this.snapshotCurrentStyles()):this.startTime+=Z}fork(Z,G){return this.applyStylesToKeyframe(),new ia(this._driver,Z,G||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(Z){this.applyStylesToKeyframe(),this.duration=Z,this._loadKeyframe()}_updateStyle(Z,G){this._localTimelineStyles.set(Z,G),this._globalTimelineStyles.set(Z,G),this._styleSummary.set(Z,{time:this.currentTime,value:G})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(Z){Z&&this._previousKeyframe.set("easing",Z);for(let[G,ce]of this._globalTimelineStyles)this._backFill.set(G,ce||$.kp),this._currentKeyframe.set(G,$.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(Z,G,ce,Fe){G&&this._previousKeyframe.set("easing",G);const ht=Fe&&Fe.params||{},Jt=function Xn(Ne,Z){const G=new Map;let ce;return Ne.forEach(Fe=>{if("*"===Fe){ce=ce||Z.keys();for(let ht of ce)G.set(ht,$.kp)}else po(Fe,G)}),G}(Z,this._globalTimelineStyles);for(let[_i,zi]of Jt){const on=fo(zi,ht,ce);this._pendingStyles.set(_i,on),this._localTimelineStyles.has(_i)||this._backFill.set(_i,this._globalTimelineStyles.get(_i)??$.kp),this._updateStyle(_i,on)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((Z,G)=>{this._currentKeyframe.set(G,Z)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((Z,G)=>{this._currentKeyframe.has(G)||this._currentKeyframe.set(G,Z)}))}snapshotCurrentStyles(){for(let[Z,G]of this._localTimelineStyles)this._pendingStyles.set(Z,G),this._updateStyle(Z,G)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const Z=[];for(let G in this._currentKeyframe)Z.push(G);return Z}mergeTimelineCollectedStyles(Z){Z._styleSummary.forEach((G,ce)=>{const Fe=this._styleSummary.get(ce);(!Fe||G.time>Fe.time)&&this._updateStyle(ce,G.value)})}buildKeyframes(){this.applyStylesToKeyframe();const Z=new Set,G=new Set,ce=1===this._keyframes.size&&0===this.duration;let Fe=[];this._keyframes.forEach((_i,zi)=>{const on=po(_i,new Map,this._backFill);on.forEach((Dn,hn)=>{Dn===$.FX?Z.add(hn):Dn===$.kp&&G.add(hn)}),ce||on.set("offset",zi/this.duration),Fe.push(on)});const ht=Z.size?fr(Z.values()):[],Jt=G.size?fr(G.values()):[];if(ce){const _i=Fe[0],zi=new Map(_i);_i.set("offset",0),zi.set("offset",1),Fe=[_i,zi]}return Uo(this.element,Fe,ht,Jt,this.duration,this.startTime,this.easing,!1)}}class zo extends ia{constructor(Z,G,ce,Fe,ht,Jt,_i=!1){super(Z,G,Jt.delay),this.keyframes=ce,this.preStyleProps=Fe,this.postStyleProps=ht,this._stretchStartingKeyframe=_i,this.timings={duration:Jt.duration,delay:Jt.delay,easing:Jt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let Z=this.keyframes,{delay:G,duration:ce,easing:Fe}=this.timings;if(this._stretchStartingKeyframe&&G){const ht=[],Jt=ce+G,_i=G/Jt,zi=po(Z[0]);zi.set("offset",0),ht.push(zi);const on=po(Z[0]);on.set("offset",Pl(_i)),ht.push(on);const Dn=Z.length-1;for(let hn=1;hn<=Dn;hn++){let nr=po(Z[hn]);const _n=nr.get("offset");nr.set("offset",Pl((G+_n*ce)/Jt)),ht.push(nr)}ce=Jt,G=0,Fe="",Z=ht}return Uo(this.element,Z,this.preStyleProps,this.postStyleProps,ce,G,Fe,!0)}}function Pl(Ne,Z=3){const G=Math.pow(10,Z-1);return Math.round(Ne*G)/G}class pc{}const Ze=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ot extends pc{normalizePropertyName(Z,G){return pa(Z)}normalizeStyleValue(Z,G,ce,Fe){let ht="";const Jt=ce.toString().trim();if(Ze.has(G)&&0!==ce&&"0"!==ce)if("number"==typeof ce)ht="px";else{const _i=ce.match(/^[+-]?[\d\.]+([a-z]*)$/);_i&&0==_i[1].length&&Fe.push(function je(Ne,Z){return new j.wOt(3005,!1)}())}return Jt+ht}}function De(Ne,Z,G,ce,Fe,ht,Jt,_i,zi,on,Dn,hn,nr){return{type:0,element:Ne,triggerName:Z,isRemovalTransition:Fe,fromState:G,fromStyles:ht,toState:ce,toStyles:Jt,timelines:_i,queriedElements:zi,preStyleProps:on,postStyleProps:Dn,totalTime:hn,errors:nr}}const kt={};class Si{constructor(Z,G,ce){this._triggerName=Z,this.ast=G,this._stateStyles=ce}match(Z,G,ce,Fe){return function Ar(Ne,Z,G,ce,Fe){return Ne.some(ht=>ht(Z,G,ce,Fe))}(this.ast.matchers,Z,G,ce,Fe)}buildStyles(Z,G,ce){let Fe=this._stateStyles.get("*");return void 0!==Z&&(Fe=this._stateStyles.get(Z?.toString())||Fe),Fe?Fe.buildStyles(G,ce):new Map}build(Z,G,ce,Fe,ht,Jt,_i,zi,on,Dn){const hn=[],nr=this.ast.options&&this.ast.options.params||kt,cr=this.buildStyles(ce,_i&&_i.params||kt,hn),sn=zi&&zi.params||kt,Eo=this.buildStyles(Fe,sn,hn),jr=new Set,jo=new Map,os=new Map,$o="void"===Fe,Jl={params:Bo(sn,nr),delay:this.ast.options?.delay},Qa=Dn?[]:_o(Z,G,this.ast.animation,ht,Jt,cr,Eo,Jl,on,hn);let Es=0;if(Qa.forEach(ar=>{Es=Math.max(ar.duration+ar.delay,Es)}),hn.length)return De(G,this._triggerName,ce,Fe,$o,cr,Eo,[],[],jo,os,Es,hn);Qa.forEach(ar=>{const Aa=ar.element,al=eo(jo,Aa,new Set);ar.preStyleProps.forEach(ll=>al.add(ll));const Go=eo(os,Aa,new Set);ar.postStyleProps.forEach(ll=>Go.add(ll)),Aa!==G&&jr.add(Aa)});const pn=fr(jr.values());return De(G,this._triggerName,ce,Fe,$o,cr,Eo,Qa,pn,jo,os,Es)}}function Bo(Ne,Z){const G=Wa(Z);for(const ce in Ne)Ne.hasOwnProperty(ce)&&null!=Ne[ce]&&(G[ce]=Ne[ce]);return G}class na{constructor(Z,G,ce){this.styles=Z,this.defaultParams=G,this.normalizer=ce}buildStyles(Z,G){const ce=new Map,Fe=Wa(this.defaultParams);return Object.keys(Z).forEach(ht=>{const Jt=Z[ht];null!==Jt&&(Fe[ht]=Jt)}),this.styles.styles.forEach(ht=>{"string"!=typeof ht&&ht.forEach((Jt,_i)=>{Jt&&(Jt=fo(Jt,Fe,G));const zi=this.normalizer.normalizePropertyName(_i,G);Jt=this.normalizer.normalizeStyleValue(_i,zi,Jt,G),ce.set(_i,Jt)})}),ce}}class ja{constructor(Z,G,ce){this.name=Z,this.ast=G,this._normalizer=ce,this.transitionFactories=[],this.states=new Map,G.states.forEach(Fe=>{this.states.set(Fe.name,new na(Fe.style,Fe.options&&Fe.options.params||{},ce))}),xs(this.states,"true","1"),xs(this.states,"false","0"),G.transitions.forEach(Fe=>{this.transitionFactories.push(new Si(Z,Fe,this.states))}),this.fallbackTransition=function ol(Ne,Z,G){return new Si(Ne,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Jt,_i)=>!0],options:null,queryCount:0,depCount:0},Z)}(Z,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(Z,G,ce,Fe){return this.transitionFactories.find(Jt=>Jt.match(Z,G,ce,Fe))||null}matchStyles(Z,G,ce){return this.fallbackTransition.buildStyles(Z,G,ce)}}function xs(Ne,Z,G){Ne.has(Z)?Ne.has(G)||Ne.set(G,Ne.get(Z)):Ne.has(G)&&Ne.set(Z,Ne.get(G))}const Zl=new Is;class Ea{constructor(Z,G,ce){this.bodyNode=Z,this._driver=G,this._normalizer=ce,this._animations=new Map,this._playersById=new Map,this.players=[]}register(Z,G){const ce=[],ht=Ho(this._driver,G,ce,[]);if(ce.length)throw function Di(Ne){return new j.wOt(3503,!1)}();this._animations.set(Z,ht)}_buildPlayer(Z,G,ce){const Fe=Z.element,ht=Fn(this._normalizer,Z.keyframes,G,ce);return this._driver.animate(Fe,ht,Z.duration,Z.delay,Z.easing,[],!0)}create(Z,G,ce={}){const Fe=[],ht=this._animations.get(Z);let Jt;const _i=new Map;if(ht?(Jt=_o(this._driver,G,ht,ho,wa,new Map,new Map,ce,Zl,Fe),Jt.forEach(Dn=>{const hn=eo(_i,Dn.element,new Map);Dn.postStyleProps.forEach(nr=>hn.set(nr,null))})):(Fe.push(function Zi(){return new j.wOt(3300,!1)}()),Jt=[]),Fe.length)throw function Lt(Ne){return new j.wOt(3504,!1)}();_i.forEach((Dn,hn)=>{Dn.forEach((nr,_n)=>{Dn.set(_n,this._driver.computeStyle(hn,_n,$.kp))})});const on=Yn(Jt.map(Dn=>{const hn=_i.get(Dn.element);return this._buildPlayer(Dn,new Map,hn)}));return this._playersById.set(Z,on),on.onDestroy(()=>this.destroy(Z)),this.players.push(on),on}destroy(Z){const G=this._getPlayer(Z);G.destroy(),this._playersById.delete(Z);const ce=this.players.indexOf(G);ce>=0&&this.players.splice(ce,1)}_getPlayer(Z){const G=this._playersById.get(Z);if(!G)throw function ai(Ne){return new j.wOt(3301,!1)}();return G}listen(Z,G,ce,Fe){const ht=Lo(G,"","","");return mr(this._getPlayer(Z),ce,ht,Fe),()=>{}}command(Z,G,ce,Fe){if("register"==ce)return void this.register(Z,Fe[0]);if("create"==ce)return void this.create(Z,G,Fe[0]||{});const ht=this._getPlayer(Z);switch(ce){case"play":ht.play();break;case"pause":ht.pause();break;case"reset":ht.reset();break;case"restart":ht.restart();break;case"finish":ht.finish();break;case"init":ht.init();break;case"setPosition":ht.setPosition(parseFloat(Fe[0]));break;case"destroy":this.destroy(Z)}}}const ga="ng-animate-queued",sr="ng-animate-disabled",Oa=[],Wn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},no="__ng_removed";class Ds{get params(){return this.options.params}constructor(Z,G=""){this.namespaceId=G;const ce=Z&&Z.hasOwnProperty("value");if(this.value=function $a(Ne){return Ne??null}(ce?Z.value:Z),ce){const ht=Wa(Z);delete ht.value,this.options=ht}else this.options={};this.options.params||(this.options.params={})}absorbOptions(Z){const G=Z.params;if(G){const ce=this.options.params;Object.keys(G).forEach(Fe=>{null==ce[Fe]&&(ce[Fe]=G[Fe])})}}}const ra="void",Qn=new Ds(ra);class La{constructor(Z,G,ce){this.id=Z,this.hostElement=G,this._engine=ce,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+Z,bo(G,this._hostClassName)}listen(Z,G,ce,Fe){if(!this._triggers.has(G))throw function ki(Ne,Z){return new j.wOt(3302,!1)}();if(null==ce||0==ce.length)throw function li(Ne){return new j.wOt(3303,!1)}();if(!function sl(Ne){return"start"==Ne||"done"==Ne}(ce))throw function ci(Ne,Z){return new j.wOt(3400,!1)}();const ht=eo(this._elementListeners,Z,[]),Jt={name:G,phase:ce,callback:Fe};ht.push(Jt);const _i=eo(this._engine.statesByElement,Z,new Map);return _i.has(G)||(bo(Z,yl),bo(Z,yl+"-"+G),_i.set(G,Qn)),()=>{this._engine.afterFlush(()=>{const zi=ht.indexOf(Jt);zi>=0&&ht.splice(zi,1),this._triggers.has(G)||_i.delete(G)})}}register(Z,G){return!this._triggers.has(Z)&&(this._triggers.set(Z,G),!0)}_getTrigger(Z){const G=this._triggers.get(Z);if(!G)throw function Ti(Ne){return new j.wOt(3401,!1)}();return G}trigger(Z,G,ce,Fe=!0){const ht=this._getTrigger(G),Jt=new Cl(this.id,G,Z);let _i=this._engine.statesByElement.get(Z);_i||(bo(Z,yl),bo(Z,yl+"-"+G),this._engine.statesByElement.set(Z,_i=new Map));let zi=_i.get(G);const on=new Ds(ce,this.id);if(!(ce&&ce.hasOwnProperty("value"))&&zi&&on.absorbOptions(zi.options),_i.set(G,on),zi||(zi=Qn),on.value!==ra&&zi.value===on.value){if(!function xl(Ne,Z){const G=Object.keys(Ne),ce=Object.keys(Z);if(G.length!=ce.length)return!1;for(let Fe=0;Fe<G.length;Fe++){const ht=G[Fe];if(!Z.hasOwnProperty(ht)||Ne[ht]!==Z[ht])return!1}return!0}(zi.params,on.params)){const sn=[],Eo=ht.matchStyles(zi.value,zi.params,sn),jr=ht.matchStyles(on.value,on.params,sn);sn.length?this._engine.reportError(sn):this._engine.afterFlush(()=>{Cs(Z,Eo),To(Z,jr)})}return}const nr=eo(this._engine.playersByElement,Z,[]);nr.forEach(sn=>{sn.namespaceId==this.id&&sn.triggerName==G&&sn.queued&&sn.destroy()});let _n=ht.matchTransition(zi.value,on.value,Z,on.params),cr=!1;if(!_n){if(!Fe)return;_n=ht.fallbackTransition,cr=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:G,transition:_n,fromState:zi,toState:on,player:Jt,isFallbackTransition:cr}),cr||(bo(Z,ga),Jt.onStart(()=>{cs(Z,ga)})),Jt.onDone(()=>{let sn=this.players.indexOf(Jt);sn>=0&&this.players.splice(sn,1);const Eo=this._engine.playersByElement.get(Z);if(Eo){let jr=Eo.indexOf(Jt);jr>=0&&Eo.splice(jr,1)}}),this.players.push(Jt),nr.push(Jt),Jt}deregister(Z){this._triggers.delete(Z),this._engine.statesByElement.forEach(G=>G.delete(Z)),this._elementListeners.forEach((G,ce)=>{this._elementListeners.set(ce,G.filter(Fe=>Fe.name!=Z))})}clearElementCache(Z){this._engine.statesByElement.delete(Z),this._elementListeners.delete(Z);const G=this._engine.playersByElement.get(Z);G&&(G.forEach(ce=>ce.destroy()),this._engine.playersByElement.delete(Z))}_signalRemovalForInnerTriggers(Z,G){const ce=this._engine.driver.query(Z,il,!0);ce.forEach(Fe=>{if(Fe[no])return;const ht=this._engine.fetchNamespacesByElement(Fe);ht.size?ht.forEach(Jt=>Jt.triggerLeaveAnimation(Fe,G,!1,!0)):this.clearElementCache(Fe)}),this._engine.afterFlushAnimationsDone(()=>ce.forEach(Fe=>this.clearElementCache(Fe)))}triggerLeaveAnimation(Z,G,ce,Fe){const ht=this._engine.statesByElement.get(Z),Jt=new Map;if(ht){const _i=[];if(ht.forEach((zi,on)=>{if(Jt.set(on,zi.value),this._triggers.has(on)){const Dn=this.trigger(Z,on,ra,Fe);Dn&&_i.push(Dn)}}),_i.length)return this._engine.markElementAsRemoved(this.id,Z,!0,G,Jt),ce&&Yn(_i).onDone(()=>this._engine.processLeaveNode(Z)),!0}return!1}prepareLeaveAnimationListeners(Z){const G=this._elementListeners.get(Z),ce=this._engine.statesByElement.get(Z);if(G&&ce){const Fe=new Set;G.forEach(ht=>{const Jt=ht.name;if(Fe.has(Jt))return;Fe.add(Jt);const zi=this._triggers.get(Jt).fallbackTransition,on=ce.get(Jt)||Qn,Dn=new Ds(ra),hn=new Cl(this.id,Jt,Z);this._engine.totalQueuedPlayers++,this._queue.push({element:Z,triggerName:Jt,transition:zi,fromState:on,toState:Dn,player:hn,isFallbackTransition:!0})})}}removeNode(Z,G){const ce=this._engine;if(Z.childElementCount&&this._signalRemovalForInnerTriggers(Z,G),this.triggerLeaveAnimation(Z,G,!0))return;let Fe=!1;if(ce.totalAnimations){const ht=ce.players.length?ce.playersByQueriedElement.get(Z):[];if(ht&&ht.length)Fe=!0;else{let Jt=Z;for(;Jt=Jt.parentNode;)if(ce.statesByElement.get(Jt)){Fe=!0;break}}}if(this.prepareLeaveAnimationListeners(Z),Fe)ce.markElementAsRemoved(this.id,Z,!1,G);else{const ht=Z[no];(!ht||ht===Wn)&&(ce.afterFlush(()=>this.clearElementCache(Z)),ce.destroyInnerAnimations(Z),ce._onRemovalComplete(Z,G))}}insertNode(Z,G){bo(Z,this._hostClassName)}drainQueuedTransitions(Z){const G=[];return this._queue.forEach(ce=>{const Fe=ce.player;if(Fe.destroyed)return;const ht=ce.element,Jt=this._elementListeners.get(ht);Jt&&Jt.forEach(_i=>{if(_i.name==ce.triggerName){const zi=Lo(ht,ce.triggerName,ce.fromState.value,ce.toState.value);zi._data=Z,mr(ce.player,_i.phase,zi,_i.callback)}}),Fe.markedForDestroy?this._engine.afterFlush(()=>{Fe.destroy()}):G.push(ce)}),this._queue=[],G.sort((ce,Fe)=>{const ht=ce.transition.ast.depCount,Jt=Fe.transition.ast.depCount;return 0==ht||0==Jt?ht-Jt:this._engine.driver.containsElement(ce.element,Fe.element)?1:-1})}destroy(Z){this.players.forEach(G=>G.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,Z)}}class kl{_onRemovalComplete(Z,G){this.onRemovalComplete(Z,G)}constructor(Z,G,ce){this.bodyNode=Z,this.driver=G,this._normalizer=ce,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Fe,ht)=>{}}get queuedPlayers(){const Z=[];return this._namespaceList.forEach(G=>{G.players.forEach(ce=>{ce.queued&&Z.push(ce)})}),Z}createNamespace(Z,G){const ce=new La(Z,G,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,G)?this._balanceNamespaceList(ce,G):(this.newHostElements.set(G,ce),this.collectEnterElement(G)),this._namespaceLookup[Z]=ce}_balanceNamespaceList(Z,G){const ce=this._namespaceList,Fe=this.namespacesByHostElement;if(ce.length-1>=0){let Jt=!1,_i=this.driver.getParentElement(G);for(;_i;){const zi=Fe.get(_i);if(zi){const on=ce.indexOf(zi);ce.splice(on+1,0,Z),Jt=!0;break}_i=this.driver.getParentElement(_i)}Jt||ce.unshift(Z)}else ce.push(Z);return Fe.set(G,Z),Z}register(Z,G){let ce=this._namespaceLookup[Z];return ce||(ce=this.createNamespace(Z,G)),ce}registerTrigger(Z,G,ce){let Fe=this._namespaceLookup[Z];Fe&&Fe.register(G,ce)&&this.totalAnimations++}destroy(Z,G){Z&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const ce=this._fetchNamespace(Z);this.namespacesByHostElement.delete(ce.hostElement);const Fe=this._namespaceList.indexOf(ce);Fe>=0&&this._namespaceList.splice(Fe,1),ce.destroy(G),delete this._namespaceLookup[Z]}))}_fetchNamespace(Z){return this._namespaceLookup[Z]}fetchNamespacesByElement(Z){const G=new Set,ce=this.statesByElement.get(Z);if(ce)for(let Fe of ce.values())if(Fe.namespaceId){const ht=this._fetchNamespace(Fe.namespaceId);ht&&G.add(ht)}return G}trigger(Z,G,ce,Fe){if(wl(G)){const ht=this._fetchNamespace(Z);if(ht)return ht.trigger(G,ce,Fe),!0}return!1}insertNode(Z,G,ce,Fe){if(!wl(G))return;const ht=G[no];if(ht&&ht.setForRemoval){ht.setForRemoval=!1,ht.setForMove=!0;const Jt=this.collectedLeaveElements.indexOf(G);Jt>=0&&this.collectedLeaveElements.splice(Jt,1)}if(Z){const Jt=this._fetchNamespace(Z);Jt&&Jt.insertNode(G,ce)}Fe&&this.collectEnterElement(G)}collectEnterElement(Z){this.collectedEnterElements.push(Z)}markElementAsDisabled(Z,G){G?this.disabledNodes.has(Z)||(this.disabledNodes.add(Z),bo(Z,sr)):this.disabledNodes.has(Z)&&(this.disabledNodes.delete(Z),cs(Z,sr))}removeNode(Z,G,ce){if(wl(G)){const Fe=Z?this._fetchNamespace(Z):null;Fe?Fe.removeNode(G,ce):this.markElementAsRemoved(Z,G,!1,ce);const ht=this.namespacesByHostElement.get(G);ht&&ht.id!==Z&&ht.removeNode(G,ce)}else this._onRemovalComplete(G,ce)}markElementAsRemoved(Z,G,ce,Fe,ht){this.collectedLeaveElements.push(G),G[no]={namespaceId:Z,setForRemoval:Fe,hasAnimation:ce,removedBeforeQueried:!1,previousTriggersValues:ht}}listen(Z,G,ce,Fe,ht){return wl(G)?this._fetchNamespace(Z).listen(G,ce,Fe,ht):()=>{}}_buildInstruction(Z,G,ce,Fe,ht){return Z.transition.build(this.driver,Z.element,Z.fromState.value,Z.toState.value,ce,Fe,Z.fromState.options,Z.toState.options,G,ht)}destroyInnerAnimations(Z){let G=this.driver.query(Z,il,!0);G.forEach(ce=>this.destroyActiveAnimationsForElement(ce)),0!=this.playersByQueriedElement.size&&(G=this.driver.query(Z,Rc,!0),G.forEach(ce=>this.finishActiveQueriedAnimationOnElement(ce)))}destroyActiveAnimationsForElement(Z){const G=this.playersByElement.get(Z);G&&G.forEach(ce=>{ce.queued?ce.markedForDestroy=!0:ce.destroy()})}finishActiveQueriedAnimationOnElement(Z){const G=this.playersByQueriedElement.get(Z);G&&G.forEach(ce=>ce.finish())}whenRenderingDone(){return new Promise(Z=>{if(this.players.length)return Yn(this.players).onDone(()=>Z());Z()})}processLeaveNode(Z){const G=Z[no];if(G&&G.setForRemoval){if(Z[no]=Wn,G.namespaceId){this.destroyInnerAnimations(Z);const ce=this._fetchNamespace(G.namespaceId);ce&&ce.clearElementCache(Z)}this._onRemovalComplete(Z,G.setForRemoval)}Z.classList?.contains(sr)&&this.markElementAsDisabled(Z,!1),this.driver.query(Z,".ng-animate-disabled",!0).forEach(ce=>{this.markElementAsDisabled(ce,!1)})}flush(Z=-1){let G=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ce,Fe)=>this._balanceNamespaceList(ce,Fe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ce=0;ce<this.collectedEnterElements.length;ce++)bo(this.collectedEnterElements[ce],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ce=[];try{G=this._flushAnimations(ce,Z)}finally{for(let Fe=0;Fe<ce.length;Fe++)ce[Fe]()}}else for(let ce=0;ce<this.collectedLeaveElements.length;ce++)this.processLeaveNode(this.collectedLeaveElements[ce]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ce=>ce()),this._flushFns=[],this._whenQuietFns.length){const ce=this._whenQuietFns;this._whenQuietFns=[],G.length?Yn(G).onDone(()=>{ce.forEach(Fe=>Fe())}):ce.forEach(Fe=>Fe())}}reportError(Z){throw function Xi(Ne){return new j.wOt(3402,!1)}()}_flushAnimations(Z,G){const ce=new Is,Fe=[],ht=new Map,Jt=[],_i=new Map,zi=new Map,on=new Map,Dn=new Set;this.disabledNodes.forEach(Zn=>{Dn.add(Zn);const se=this.driver.query(Zn,".ng-animate-queued",!0);for(let Ft=0;Ft<se.length;Ft++)Dn.add(se[Ft])});const hn=this.bodyNode,nr=Array.from(this.statesByElement.keys()),_n=Ka(nr,this.collectedEnterElements),cr=new Map;let sn=0;_n.forEach((Zn,se)=>{const Ft=ho+sn++;cr.set(se,Ft),Zn.forEach(z=>bo(z,Ft))});const Eo=[],jr=new Set,jo=new Set;for(let Zn=0;Zn<this.collectedLeaveElements.length;Zn++){const se=this.collectedLeaveElements[Zn],Ft=se[no];Ft&&Ft.setForRemoval&&(Eo.push(se),jr.add(se),Ft.hasAnimation?this.driver.query(se,".ng-star-inserted",!0).forEach(z=>jr.add(z)):jo.add(se))}const os=new Map,$o=Ka(nr,Array.from(jr));$o.forEach((Zn,se)=>{const Ft=wa+sn++;os.set(se,Ft),Zn.forEach(z=>bo(z,Ft))}),Z.push(()=>{_n.forEach((Zn,se)=>{const Ft=cr.get(se);Zn.forEach(z=>cs(z,Ft))}),$o.forEach((Zn,se)=>{const Ft=os.get(se);Zn.forEach(z=>cs(z,Ft))}),Eo.forEach(Zn=>{this.processLeaveNode(Zn)})});const Jl=[],Qa=[];for(let Zn=this._namespaceList.length-1;Zn>=0;Zn--)this._namespaceList[Zn].drainQueuedTransitions(G).forEach(Ft=>{const z=Ft.player,we=Ft.element;if(Jl.push(z),this.collectedEnterElements.length){const X=we[no];if(X&&X.setForMove){if(X.previousTriggersValues&&X.previousTriggersValues.has(Ft.triggerName)){const he=X.previousTriggersValues.get(Ft.triggerName),ke=this.statesByElement.get(Ft.element);if(ke&&ke.has(Ft.triggerName)){const At=ke.get(Ft.triggerName);At.value=he,ke.set(Ft.triggerName,At)}}return void z.destroy()}}const $e=!hn||!this.driver.containsElement(hn,we),ei=os.get(we),Bi=cr.get(we),mn=this._buildInstruction(Ft,ce,Bi,ei,$e);if(mn.errors&&mn.errors.length)return void Qa.push(mn);if($e)return z.onStart(()=>Cs(we,mn.fromStyles)),z.onDestroy(()=>To(we,mn.toStyles)),void Fe.push(z);if(Ft.isFallbackTransition)return z.onStart(()=>Cs(we,mn.fromStyles)),z.onDestroy(()=>To(we,mn.toStyles)),void Fe.push(z);const J=[];mn.timelines.forEach(X=>{X.stretchStartingKeyframe=!0,this.disabledNodes.has(X.element)||J.push(X)}),mn.timelines=J,ce.append(we,mn.timelines),Jt.push({instruction:mn,player:z,element:we}),mn.queriedElements.forEach(X=>eo(_i,X,[]).push(z)),mn.preStyleProps.forEach((X,he)=>{if(X.size){let ke=zi.get(he);ke||zi.set(he,ke=new Set),X.forEach((At,pi)=>ke.add(pi))}}),mn.postStyleProps.forEach((X,he)=>{let ke=on.get(he);ke||on.set(he,ke=new Set),X.forEach((At,pi)=>ke.add(pi))})});if(Qa.length){const Zn=[];Qa.forEach(se=>{Zn.push(function en(Ne,Z){return new j.wOt(3505,!1)}())}),Jl.forEach(se=>se.destroy()),this.reportError(Zn)}const Es=new Map,pn=new Map;Jt.forEach(Zn=>{const se=Zn.element;ce.has(se)&&(pn.set(se,se),this._beforeAnimationBuild(Zn.player.namespaceId,Zn.instruction,Es))}),Fe.forEach(Zn=>{const se=Zn.element;this._getPreviousPlayers(se,!1,Zn.namespaceId,Zn.triggerName,null).forEach(z=>{eo(Es,se,[]).push(z),z.destroy()})});const ar=Eo.filter(Zn=>Na(Zn,zi,on)),Aa=new Map;ma(Aa,this.driver,jo,on,$.kp).forEach(Zn=>{Na(Zn,zi,on)&&ar.push(Zn)});const Go=new Map;_n.forEach((Zn,se)=>{ma(Go,this.driver,new Set(Zn),zi,$.FX)}),ar.forEach(Zn=>{const se=Aa.get(Zn),Ft=Go.get(Zn);Aa.set(Zn,new Map([...se?.entries()??[],...Ft?.entries()??[]]))});const ll=[],Ba=[],Za={};Jt.forEach(Zn=>{const{element:se,player:Ft,instruction:z}=Zn;if(ce.has(se)){if(Dn.has(se))return Ft.onDestroy(()=>To(se,z.toStyles)),Ft.disabled=!0,Ft.overrideTotalTime(z.totalTime),void Fe.push(Ft);let we=Za;if(pn.size>1){let ei=se;const Bi=[];for(;ei=ei.parentNode;){const mn=pn.get(ei);if(mn){we=mn;break}Bi.push(ei)}Bi.forEach(mn=>pn.set(mn,we))}const $e=this._buildAnimation(Ft.namespaceId,z,Es,ht,Go,Aa);if(Ft.setRealPlayer($e),we===Za)ll.push(Ft);else{const ei=this.playersByElement.get(we);ei&&ei.length&&(Ft.parentPlayer=Yn(ei)),Fe.push(Ft)}}else Cs(se,z.fromStyles),Ft.onDestroy(()=>To(se,z.toStyles)),Ba.push(Ft),Dn.has(se)&&Fe.push(Ft)}),Ba.forEach(Zn=>{const se=ht.get(Zn.element);if(se&&se.length){const Ft=Yn(se);Zn.setRealPlayer(Ft)}}),Fe.forEach(Zn=>{Zn.parentPlayer?Zn.syncPlayerEvents(Zn.parentPlayer):Zn.destroy()});for(let Zn=0;Zn<Eo.length;Zn++){const se=Eo[Zn],Ft=se[no];if(cs(se,wa),Ft&&Ft.hasAnimation)continue;let z=[];if(_i.size){let $e=_i.get(se);$e&&$e.length&&z.push(...$e);let ei=this.driver.query(se,Rc,!0);for(let Bi=0;Bi<ei.length;Bi++){let mn=_i.get(ei[Bi]);mn&&mn.length&&z.push(...mn)}}const we=z.filter($e=>!$e.destroyed);we.length?Pc(this,se,we):this.processLeaveNode(se)}return Eo.length=0,ll.forEach(Zn=>{this.players.push(Zn),Zn.onDone(()=>{Zn.destroy();const se=this.players.indexOf(Zn);this.players.splice(se,1)}),Zn.play()}),ll}afterFlush(Z){this._flushFns.push(Z)}afterFlushAnimationsDone(Z){this._whenQuietFns.push(Z)}_getPreviousPlayers(Z,G,ce,Fe,ht){let Jt=[];if(G){const _i=this.playersByQueriedElement.get(Z);_i&&(Jt=_i)}else{const _i=this.playersByElement.get(Z);if(_i){const zi=!ht||ht==ra;_i.forEach(on=>{on.queued||!zi&&on.triggerName!=Fe||Jt.push(on)})}}return(ce||Fe)&&(Jt=Jt.filter(_i=>!(ce&&ce!=_i.namespaceId||Fe&&Fe!=_i.triggerName))),Jt}_beforeAnimationBuild(Z,G,ce){const ht=G.element,Jt=G.isRemovalTransition?void 0:Z,_i=G.isRemovalTransition?void 0:G.triggerName;for(const zi of G.timelines){const on=zi.element,Dn=on!==ht,hn=eo(ce,on,[]);this._getPreviousPlayers(on,Dn,Jt,_i,G.toState).forEach(_n=>{const cr=_n.getRealPlayer();cr.beforeDestroy&&cr.beforeDestroy(),_n.destroy(),hn.push(_n)})}Cs(ht,G.fromStyles)}_buildAnimation(Z,G,ce,Fe,ht,Jt){const _i=G.triggerName,zi=G.element,on=[],Dn=new Set,hn=new Set,nr=G.timelines.map(cr=>{const sn=cr.element;Dn.add(sn);const Eo=sn[no];if(Eo&&Eo.removedBeforeQueried)return new $.sf(cr.duration,cr.delay);const jr=sn!==zi,jo=function fc(Ne){const Z=[];return Xd(Ne,Z),Z}((ce.get(sn)||Oa).map(Es=>Es.getRealPlayer())).filter(Es=>!!Es.element&&Es.element===sn),os=ht.get(sn),$o=Jt.get(sn),Jl=Fn(this._normalizer,cr.keyframes,os,$o),Qa=this._buildPlayer(cr,Jl,jo);if(cr.subTimeline&&Fe&&hn.add(sn),jr){const Es=new Cl(Z,_i,sn);Es.setRealPlayer(Qa),on.push(Es)}return Qa});on.forEach(cr=>{eo(this.playersByQueriedElement,cr.element,[]).push(cr),cr.onDone(()=>function ql(Ne,Z,G){let ce=Ne.get(Z);if(ce){if(ce.length){const Fe=ce.indexOf(G);ce.splice(Fe,1)}0==ce.length&&Ne.delete(Z)}return ce}(this.playersByQueriedElement,cr.element,cr))}),Dn.forEach(cr=>bo(cr,Rs));const _n=Yn(nr);return _n.onDestroy(()=>{Dn.forEach(cr=>cs(cr,Rs)),To(zi,G.toStyles)}),hn.forEach(cr=>{eo(Fe,cr,[]).push(_n)}),_n}_buildPlayer(Z,G,ce){return G.length>0?this.driver.animate(Z.element,G,Z.duration,Z.delay,Z.easing,ce):new $.sf(Z.duration,Z.delay)}}class Cl{constructor(Z,G,ce){this.namespaceId=Z,this.triggerName=G,this.element=ce,this._player=new $.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(Z){this._containsRealPlayer||(this._player=Z,this._queuedCallbacks.forEach((G,ce)=>{G.forEach(Fe=>mr(Z,ce,void 0,Fe))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(Z.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(Z){this.totalTime=Z}syncPlayerEvents(Z){const G=this._player;G.triggerCallback&&Z.onStart(()=>G.triggerCallback("start")),Z.onDone(()=>this.finish()),Z.onDestroy(()=>this.destroy())}_queueEvent(Z,G){eo(this._queuedCallbacks,Z,[]).push(G)}onDone(Z){this.queued&&this._queueEvent("done",Z),this._player.onDone(Z)}onStart(Z){this.queued&&this._queueEvent("start",Z),this._player.onStart(Z)}onDestroy(Z){this.queued&&this._queueEvent("destroy",Z),this._player.onDestroy(Z)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(Z){this.queued||this._player.setPosition(Z)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(Z){const G=this._player;G.triggerCallback&&G.triggerCallback(Z)}}function wl(Ne){return Ne&&1===Ne.nodeType}function ko(Ne,Z){const G=Ne.style.display;return Ne.style.display=Z??"none",G}function ma(Ne,Z,G,ce,Fe){const ht=[];G.forEach(zi=>ht.push(ko(zi)));const Jt=[];ce.forEach((zi,on)=>{const Dn=new Map;zi.forEach(hn=>{const nr=Z.computeStyle(on,hn,Fe);Dn.set(hn,nr),(!nr||0==nr.length)&&(on[no]=Gs,Jt.push(on))}),Ne.set(on,Dn)});let _i=0;return G.forEach(zi=>ko(zi,ht[_i++])),Jt}function Ka(Ne,Z){const G=new Map;if(Ne.forEach(_i=>G.set(_i,[])),0==Z.length)return G;const Fe=new Set(Z),ht=new Map;function Jt(_i){if(!_i)return 1;let zi=ht.get(_i);if(zi)return zi;const on=_i.parentNode;return zi=G.has(on)?on:Fe.has(on)?1:Jt(on),ht.set(_i,zi),zi}return Z.forEach(_i=>{const zi=Jt(_i);1!==zi&&G.get(zi).push(_i)}),G}function bo(Ne,Z){Ne.classList?.add(Z)}function cs(Ne,Z){Ne.classList?.remove(Z)}function Pc(Ne,Z,G){Yn(G).onDone(()=>Ne.processLeaveNode(Z))}function Xd(Ne,Z){for(let G=0;G<Ne.length;G++){const ce=Ne[G];ce instanceof $.ui?Xd(ce.players,Z):Z.push(ce)}}function Na(Ne,Z,G){const ce=G.get(Ne);if(!ce)return!1;let Fe=Z.get(Ne);return Fe?ce.forEach(ht=>Fe.add(ht)):Z.set(Ne,ce),G.delete(Ne),!0}class gc{constructor(Z,G,ce){this.bodyNode=Z,this._driver=G,this._normalizer=ce,this._triggerCache={},this.onRemovalComplete=(Fe,ht)=>{},this._transitionEngine=new kl(Z,G,ce),this._timelineEngine=new Ea(Z,G,ce),this._transitionEngine.onRemovalComplete=(Fe,ht)=>this.onRemovalComplete(Fe,ht)}registerTrigger(Z,G,ce,Fe,ht){const Jt=Z+"-"+Fe;let _i=this._triggerCache[Jt];if(!_i){const zi=[],Dn=Ho(this._driver,ht,zi,[]);if(zi.length)throw function Ii(Ne,Z){return new j.wOt(3404,!1)}();_i=function Ql(Ne,Z,G){return new ja(Ne,Z,G)}(Fe,Dn,this._normalizer),this._triggerCache[Jt]=_i}this._transitionEngine.registerTrigger(G,Fe,_i)}register(Z,G){this._transitionEngine.register(Z,G)}destroy(Z,G){this._transitionEngine.destroy(Z,G)}onInsert(Z,G,ce,Fe){this._transitionEngine.insertNode(Z,G,ce,Fe)}onRemove(Z,G,ce){this._transitionEngine.removeNode(Z,G,ce)}disableAnimations(Z,G){this._transitionEngine.markElementAsDisabled(Z,G)}process(Z,G,ce,Fe){if("@"==ce.charAt(0)){const[ht,Jt]=Po(ce);this._timelineEngine.command(ht,G,Jt,Fe)}else this._transitionEngine.trigger(Z,G,ce,Fe)}listen(Z,G,ce,Fe,ht){if("@"==ce.charAt(0)){const[Jt,_i]=Po(ce);return this._timelineEngine.listen(Jt,G,_i,ht)}return this._transitionEngine.listen(Z,G,ce,Fe,ht)}flush(Z=-1){this._transitionEngine.flush(Z)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(Z){this._transitionEngine.afterFlushAnimationsDone(Z)}}let zr=(()=>{class Ne{static{this.initialStylesByElement=new WeakMap}constructor(G,ce,Fe){this._element=G,this._startStyles=ce,this._endStyles=Fe,this._state=0;let ht=Ne.initialStylesByElement.get(G);ht||Ne.initialStylesByElement.set(G,ht=new Map),this._initialStyles=ht}start(){this._state<1&&(this._startStyles&&To(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(To(this._element,this._initialStyles),this._endStyles&&(To(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ne.initialStylesByElement.delete(this._element),this._startStyles&&(Cs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Cs(this._element,this._endStyles),this._endStyles=null),To(this._element,this._initialStyles),this._state=3)}}return Ne})();function Jn(Ne){let Z=null;return Ne.forEach((G,ce)=>{(function vo(Ne){return"display"===Ne||"position"===Ne})(ce)&&(Z=Z||new Map,Z.set(ce,G))}),Z}class Fs{constructor(Z,G,ce,Fe){this.element=Z,this.keyframes=G,this.options=ce,this._specialStyles=Fe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=ce.duration,this._delay=ce.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const Z=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,Z,this.options),this._finalKeyframe=Z.length?Z[Z.length-1]:new Map;const G=()=>this._onFinish();this.domPlayer.addEventListener("finish",G),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",G)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(Z){const G=[];return Z.forEach(ce=>{G.push(Object.fromEntries(ce))}),G}_triggerWebAnimation(Z,G,ce){return Z.animate(this._convertKeyframesToObject(G),ce)}onStart(Z){this._originalOnStartFns.push(Z),this._onStartFns.push(Z)}onDone(Z){this._originalOnDoneFns.push(Z),this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(Z=>Z()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}setPosition(Z){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=Z*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const Z=new Map;this.hasStarted()&&this._finalKeyframe.forEach((ce,Fe)=>{"offset"!==Fe&&Z.set(Fe,this._finished?ce:yr(this.element,Fe))}),this.currentSnapshot=Z}triggerCallback(Z){const G="start"===Z?this._onStartFns:this._onDoneFns;G.forEach(ce=>ce()),G.length=0}}class qs{validateStyleProperty(Z){return!0}validateAnimatableStyleProperty(Z){return!0}matchesElement(Z,G){return!1}containsElement(Z,G){return oe(Z,G)}getParentElement(Z){return nn(Z)}query(Z,G,ce){return dt(Z,G,ce)}computeStyle(Z,G,ce){return window.getComputedStyle(Z)[G]}animate(Z,G,ce,Fe,ht,Jt=[]){const zi={duration:ce,delay:Fe,fill:0==Fe?"both":"forwards"};ht&&(zi.easing=ht);const on=new Map,Dn=Jt.filter(_n=>_n instanceof Fs);(function xa(Ne,Z){return 0===Ne||0===Z})(ce,Fe)&&Dn.forEach(_n=>{_n.currentSnapshot.forEach((cr,sn)=>on.set(sn,cr))});let hn=function So(Ne){return Ne.length?Ne[0]instanceof Map?Ne:Ne.map(Z=>Ys(Z)):[]}(G).map(_n=>po(_n));hn=function Cr(Ne,Z,G){if(G.size&&Z.length){let ce=Z[0],Fe=[];if(G.forEach((ht,Jt)=>{ce.has(Jt)||Fe.push(Jt),ce.set(Jt,ht)}),Fe.length)for(let ht=1;ht<Z.length;ht++){let Jt=Z[ht];Fe.forEach(_i=>Jt.set(_i,yr(Ne,_i)))}}return Z}(Z,hn,on);const nr=function Fl(Ne,Z){let G=null,ce=null;return Array.isArray(Z)&&Z.length?(G=Jn(Z[0]),Z.length>1&&(ce=Jn(Z[Z.length-1]))):Z instanceof Map&&(G=Jn(Z)),G||ce?new zr(Ne,G,ce):null}(Z,hn);return new Fs(Z,hn,zi,nr)}}let oa=(()=>{class Ne extends $.S6{constructor(G,ce){super(),this._nextAnimationId=0,this._renderer=G.createRenderer(ce.body,{id:"0",encapsulation:j.gXe.None,styles:[],data:{animation:[]}})}build(G){const ce=this._nextAnimationId.toString();this._nextAnimationId++;const Fe=Array.isArray(G)?(0,$.K2)(G):G;return Ae(this._renderer,null,ce,"register",[Fe]),new le(ce,this._renderer)}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.KVO(j._9s),j.KVO(K.qQ))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class le extends $.Ro{constructor(Z,G){super(),this._id=Z,this._renderer=G}create(Z,G){return new vt(this._id,Z,G||{},this._renderer)}}class vt{constructor(Z,G,ce,Fe){this.id=Z,this.element=G,this._renderer=Fe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ce)}_listen(Z,G){return this._renderer.listen(this.element,`@@${this.id}:${Z}`,G)}_command(Z,...G){return Ae(this._renderer,this.element,this.id,Z,G)}onDone(Z){this._listen("done",Z)}onStart(Z){this._listen("start",Z)}onDestroy(Z){this._listen("destroy",Z)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(Z){this._command("setPosition",Z)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ae(Ne,Z,G,ce,Fe){return Ne.setProperty(Z,`@@${G}:${ce}`,Fe)}const yi="@.disabled";let qi=(()=>{class Ne{constructor(G,ce,Fe){this.delegate=G,this.engine=ce,this._zone=Fe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,ce.onRemovalComplete=(ht,Jt)=>{const _i=Jt?.parentNode(ht);_i&&Jt.removeChild(_i,ht)}}createRenderer(G,ce){const ht=this.delegate.createRenderer(G,ce);if(!(G&&ce&&ce.data&&ce.data.animation)){let Dn=this._rendererCache.get(ht);return Dn||(Dn=new un("",ht,this.engine,()=>this._rendererCache.delete(ht)),this._rendererCache.set(ht,Dn)),Dn}const Jt=ce.id,_i=ce.id+"-"+this._currentId;this._currentId++,this.engine.register(_i,G);const zi=Dn=>{Array.isArray(Dn)?Dn.forEach(zi):this.engine.registerTrigger(Jt,_i,G,Dn.name,Dn)};return ce.data.animation.forEach(zi),new Bn(this,_i,ht,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(G,ce,Fe){G>=0&&G<this._microtaskId?this._zone.run(()=>ce(Fe)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ht=>{const[Jt,_i]=ht;Jt(_i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ce,Fe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.KVO(j._9s),j.KVO(gc),j.KVO(j.SKi))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})();class un{constructor(Z,G,ce,Fe){this.namespaceId=Z,this.delegate=G,this.engine=ce,this._onDestroy=Fe}get data(){return this.delegate.data}destroyNode(Z){this.delegate.destroyNode?.(Z)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(Z,G){return this.delegate.createElement(Z,G)}createComment(Z){return this.delegate.createComment(Z)}createText(Z){return this.delegate.createText(Z)}appendChild(Z,G){this.delegate.appendChild(Z,G),this.engine.onInsert(this.namespaceId,G,Z,!1)}insertBefore(Z,G,ce,Fe=!0){this.delegate.insertBefore(Z,G,ce),this.engine.onInsert(this.namespaceId,G,Z,Fe)}removeChild(Z,G,ce){this.engine.onRemove(this.namespaceId,G,this.delegate)}selectRootElement(Z,G){return this.delegate.selectRootElement(Z,G)}parentNode(Z){return this.delegate.parentNode(Z)}nextSibling(Z){return this.delegate.nextSibling(Z)}setAttribute(Z,G,ce,Fe){this.delegate.setAttribute(Z,G,ce,Fe)}removeAttribute(Z,G,ce){this.delegate.removeAttribute(Z,G,ce)}addClass(Z,G){this.delegate.addClass(Z,G)}removeClass(Z,G){this.delegate.removeClass(Z,G)}setStyle(Z,G,ce,Fe){this.delegate.setStyle(Z,G,ce,Fe)}removeStyle(Z,G,ce){this.delegate.removeStyle(Z,G,ce)}setProperty(Z,G,ce){"@"==G.charAt(0)&&G==yi?this.disableAnimations(Z,!!ce):this.delegate.setProperty(Z,G,ce)}setValue(Z,G){this.delegate.setValue(Z,G)}listen(Z,G,ce){return this.delegate.listen(Z,G,ce)}disableAnimations(Z,G){this.engine.disableAnimations(Z,G)}}class Bn extends un{constructor(Z,G,ce,Fe,ht){super(G,ce,Fe,ht),this.factory=Z,this.namespaceId=G}setProperty(Z,G,ce){"@"==G.charAt(0)?"."==G.charAt(1)&&G==yi?this.disableAnimations(Z,ce=void 0===ce||!!ce):this.engine.process(this.namespaceId,Z,G.slice(1),ce):this.delegate.setProperty(Z,G,ce)}listen(Z,G,ce){if("@"==G.charAt(0)){const Fe=function ro(Ne){switch(Ne){case"body":return document.body;case"document":return document;case"window":return window;default:return Ne}}(Z);let ht=G.slice(1),Jt="";return"@"!=ht.charAt(0)&&([ht,Jt]=function Wr(Ne){const Z=Ne.indexOf(".");return[Ne.substring(0,Z),Ne.slice(Z+1)]}(ht)),this.engine.listen(this.namespaceId,Fe,ht,Jt,_i=>{this.factory.scheduleListenerCallback(_i._data||-1,ce,_i)})}return this.delegate.listen(Z,G,ce)}}const xi=[{provide:$.S6,useClass:oa},{provide:pc,useFactory:function jn(){return new ot}},{provide:gc,useClass:(()=>{class Ne extends gc{constructor(G,ce,Fe,ht){super(G.body,ce,Fe)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.KVO(K.qQ),j.KVO(Fi),j.KVO(pc),j.KVO(j.o8S))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})()},{provide:j._9s,useFactory:function Wo(Ne,Z,G){return new qi(Ne,Z,G)},deps:[b.B7,gc,j.SKi]}],Yo=[{provide:Fi,useFactory:()=>new qs},{provide:j.bc$,useValue:"BrowserAnimations"},...xi],ys=[{provide:Fi,useClass:ti},{provide:j.bc$,useValue:"NoopAnimations"},...xi];let Ro=(()=>{class Ne{static withConfig(G){return{ngModule:Ne,providers:G.disableAnimations?ys:Yo}}static{this.\u0275fac=function(ce){return new(ce||Ne)}}static{this.\u0275mod=j.$C({type:Ne})}static{this.\u0275inj=j.G2t({providers:Yo,imports:[b.Bb]})}}return Ne})();var Br=N(8962),sa=N(1626),Hs=N(9774),Vo=N(4598);let Ya=(()=>{class Ne{static{this.\u0275fac=function(ce){return new(ce||Ne)}}static{this.\u0275mod=j.$C({type:Ne})}static{this.\u0275inj=j.G2t({imports:[K.MD,Vo.VerifyOrgRoutingModule,Br.G]})}}return Ne})();var Ol=N(1985),rs=N(8810),Tr=N(9437);let kc=(()=>{class Ne{constructor(G,ce){this.notify=G,this.customeService=ce}intercept(G,ce){const Fe=lt.$.privateClientId,ht=localStorage.getItem("token"),Jt=new URL(G.url);console.log("intercept url",Jt);const _i=Jt.pathname.split("/").pop(),zi=Jt.origin;console.log("intercept targetURL",_i);let on=G.headers;if(ht&&(on=on.set("Authorization",`Bearer ${ht}`)),G.headers.has("Skip-Transform")){console.log("Skipping URL transformation for:",_i);const nr=G.clone({headers:G.headers.delete("Skip-Transform")});return ce.handle(nr)}on=G.body instanceof FormData?on.delete("Content-Type"):on.set("Content-Type","application/json");const hn=G.clone({url:`${zi}/auth/${Fe}?targetPath=${_i}`,headers:on});return ce.handle(hn).pipe((0,Tr.W)(nr=>{if(403===nr.status)return console.error("Access denied. Error 403:",nr.message),this.notify.showErrorToast("Session exprired..!","Close"),setTimeout(()=>{this.customeService.logout()},2e3),new Ol.c;{console.log("errorResponse",nr);let _n="";return _n=nr.error instanceof ErrorEvent?`Error: ${nr.error.message}`:`Error Code: ${nr.status}\nMessage: ${nr.message}`,console.error("errorMsg",_n),(0,rs.$)(()=>nr)}}))}static{this.\u0275fac=function(ce){return new(ce||Ne)(j.KVO(Ce.J),j.KVO(wt.G))}}static{this.\u0275prov=j.jDH({token:Ne,factory:Ne.\u0275fac})}}return Ne})(),mc=(()=>{class Ne{static{this.\u0275fac=function(ce){return new(ce||Ne)}}static{this.\u0275mod=j.$C({type:Ne,bootstrap:[It]})}static{this.\u0275inj=j.G2t({providers:[{provide:sa.a7,useClass:kc,multi:!0},{provide:yt,useValue:yt},Zt],imports:[b.Bb,jt,Ro,Br.G,sa.q1,ee._j,O.iI,Hs.ProfileModule,Ya,ve.PO,Ai.sN.forRoot({echarts:()=>Promise.resolve().then(N.bind(N,9697))})]})}}return Ne})();b.sG().bootstrapModule(mc).catch(Ne=>console.error(Ne)),!1===lt.$.LOGINING&&(window.console.log=function(){})},4936:Ui=>{"use strict";Ui.exports=function(N){if("number"!=typeof N||Number.isNaN(N))throw new TypeError("Expected a number, got "+typeof N);const b=N<0,O=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(b&&(N=-N),N<1)return(b?"-":"")+N+" B";const E=Math.min(Math.floor(Math.log(N)/Math.log(1024)),O.length-1);N=Number(N/1024**E);const ye=O[E];return N>=10||N%1==0?`${(b?"-":"")+N.toFixed(0)} ${ye}`:`${(b?"-":"")+N.toFixed(1)} ${ye}`}},9814:(Ui,ni,N)=>{"use strict";N.d(ni,{G:()=>Ke,f:()=>K});var b=N(7705),O=N(9417),E=N(177);const ye=function(j,rt,ie){return{disabled:j,"checkbox-double":rt,"checkbox-right":ie}};let K=(()=>{class j{constructor(){this.disabled=!1,this.propagateChange=ie=>{}}get opacity(){return this.disabled?.25:1}writeValue(ie){this.value=ie}registerOnChange(ie){this.propagateChange=ie}registerOnTouched(){}onChange(){this.value=!this.value,this.propagateChange(this.value)}setDisabledState(ie){this.disabled=ie}}return j.\u0275fac=function(ie){return new(ie||j)},j.\u0275cmp=b.VBU({type:j,selectors:[["ng-switchery"]],hostVars:2,hostBindings:function(ie,ee){2&ie&&b.xc7("opacity",ee.opacity)},inputs:{value:"value",onLabel:"onLabel",offLabel:"offLabel",color:"color",size:"size",sticked:"sticked",customClasses:"customClasses",disabled:"disabled"},features:[b.Jv_([{provide:O.kq,useExisting:(0,b.Rfq)(()=>j),multi:!0}])],decls:7,vars:17,consts:[[3,"ngClass"],["type","checkbox",1,"switchery",3,"disabled","value","checked","change"]],template:function(ie,ee){1&ie&&(b.j41(0,"div",0)(1,"label"),b.EFF(2),b.j41(3,"input",1),b.bIt("change",function(){return ee.onChange()}),b.k0s(),b.j41(4,"span"),b.nrm(5,"small"),b.k0s(),b.EFF(6),b.k0s()()),2&ie&&(b.ZvI("checkbox ",ee.customClasses,""),b.Y8G("ngClass",b.sMw(13,ye,ee.disabled,ee.offLabel&&ee.offLabel.length>0,ee.sticked)),b.R7$(2),b.SpI(" ",ee.offLabel," "),b.R7$(1),b.Y8G("disabled",ee.disabled)("value",ee.value)("checked",ee.value),b.R7$(1),b.STu("switchery ",ee.color," ",ee.size,""),b.R7$(2),b.SpI(" ",ee.onLabel," "))},dependencies:[E.YU],styles:[".checkbox{display:block;position:relative;margin-bottom:10px}.checkbox input{display:none}.checkbox label{padding-left:0}.switchery{border:1px solid #ddd;border-radius:100px;cursor:pointer;display:inline-block;width:44px;position:relative;box-sizing:content-box;vertical-align:middle}.switchery,.switchery>small{background-color:#fff;height:22px}input+.switchery{background-color:#fff;border-color:#dfdfdf;box-shadow:#dfdfdf 0 0 inset;transition:border .4s,box-shadow .4s;margin-right:7px}input:checked+.switchery{background-color:#2196f3;border-color:#2196f3;box-shadow:#2196f3 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}.checkbox-double .switchery{position:relative;margin-left:7px;margin-right:7px}.switchery>small{background-color:#fff;border-radius:100px;width:22px;height:22px;position:absolute;left:0;top:0;box-shadow:0 1px 3px #0006;transition:background-color .4s,left .2s}input:checked+.switchery>small{left:22px;transition:background-color .4s,left .2s;background-color:#fff}input:checked+.switchery.switchery-lg>small{left:26px}.switchery.switchery-lg{margin-top:-4px;height:26px;width:52px}.switchery-lg small{height:26px;width:26px}input:checked+.switchery.switchery-sm>small{left:18px}.switchery.switchery-sm{margin-top:0;height:18px;width:36px}.switchery-sm small{height:18px;width:18px}input:checked+.switchery.switchery-xs>small{left:14px}.switchery.switchery-xs{margin-top:2px;height:14px;width:28px}.switchery-xs small{height:14px;width:14px}.disabled .switchery{cursor:not-allowed;opacity:.5}input:checked+.switchery-primary{background-color:#2196f3;border-color:#2196f3;box-shadow:#2196f3 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}input:checked+.switchery-info{background-color:#00bcd4;border-color:#00bcd4;box-shadow:#00bcd4 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}input:checked+.switchery-success{background-color:#64bd63;border-color:#64bd63;box-shadow:#64bd63 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}input:checked+.switchery-warning{background-color:#ff7043;border-color:#ff7043;box-shadow:#ff7043 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}input:checked+.switchery-danger{background-color:#ef5350;border-color:#ef5350;box-shadow:#ef5350 0 0 0 12px inset;transition:border .4s,box-shadow .4s,background-color 1.2s}.checkbox.checkbox-right label{display:flex;align-items:center}.checkbox.checkbox-right .switchery{position:absolute;left:auto;right:0}\n"],encapsulation:2}),j})(),Ke=(()=>{class j{}return j.\u0275fac=function(ie){return new(ie||j)},j.\u0275mod=b.$C({type:j}),j.\u0275inj=b.G2t({imports:[[O.YN,E.MD]]}),j})()},3981:(Ui,ni)=>{"use strict";ni.byteLength=function j(ue){var P=Ke(ue),Ct=P[1];return 3*(P[0]+Ct)/4-Ct},ni.toByteArray=function ie(ue){var P,q,Be=Ke(ue),Ct=Be[0],qt=Be[1],pt=new O(function rt(ue,P,Be){return 3*(P+Be)/4-Be}(0,Ct,qt)),Ai=0,oi=qt>0?Ct-4:Ct;for(q=0;q<oi;q+=4)P=b[ue.charCodeAt(q)]<<18|b[ue.charCodeAt(q+1)]<<12|b[ue.charCodeAt(q+2)]<<6|b[ue.charCodeAt(q+3)],pt[Ai++]=P>>16&255,pt[Ai++]=P>>8&255,pt[Ai++]=255&P;return 2===qt&&(P=b[ue.charCodeAt(q)]<<2|b[ue.charCodeAt(q+1)]>>4,pt[Ai++]=255&P),1===qt&&(P=b[ue.charCodeAt(q)]<<10|b[ue.charCodeAt(q+1)]<<4|b[ue.charCodeAt(q+2)]>>2,pt[Ai++]=P>>8&255,pt[Ai++]=255&P),pt},ni.fromByteArray=function ve(ue){for(var P,Be=ue.length,Ct=Be%3,qt=[],Ai=0,oi=Be-Ct;Ai<oi;Ai+=16383)qt.push(Ce(ue,Ai,Ai+16383>oi?oi:Ai+16383));return 1===Ct?qt.push(N[(P=ue[Be-1])>>2]+N[P<<4&63]+"=="):2===Ct&&qt.push(N[(P=(ue[Be-2]<<8)+ue[Be-1])>>10]+N[P>>4&63]+N[P<<2&63]+"="),qt.join("")};for(var N=[],b=[],O=typeof Uint8Array<"u"?Uint8Array:Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=0;ye<64;++ye)N[ye]=E[ye],b[E.charCodeAt(ye)]=ye;function Ke(ue){var P=ue.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Be=ue.indexOf("=");return-1===Be&&(Be=P),[Be,Be===P?0:4-Be%4]}function ee(ue){return N[ue>>18&63]+N[ue>>12&63]+N[ue>>6&63]+N[63&ue]}function Ce(ue,P,Be){for(var qt=[],pt=P;pt<Be;pt+=3)qt.push(ee((ue[pt]<<16&16711680)+(ue[pt+1]<<8&65280)+(255&ue[pt+2])));return qt.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},7729:Ui=>{function b(O){var E,ye;O<0?(E=-1*O,ye=!0):(E=O,ye=!1);var j,K=String(E).split("").reverse(),Ke=K.indexOf(".")+1,rt=[];for(j=0;j<Ke;j++)rt.push(K[j]);var ie=0;for(j=Ke;j<K.length;j++)rt.push(K[j]),(3==++ie||5===ie||7===ie)&&j<K.length-1&&rt.push(","),7===ie&&(ie=0);return ye&&rt.push("-"),rt.reverse().join("")}Ui.exports={format:function ni(O){var E=parseFloat(O);return isFinite(E)?b(E):O},formatFixed:function N(O,E){var ye=parseFloat(O);return isFinite(ye)?b(ye.toFixed(E)):O}}},5784:Ui=>{Ui.exports=function(N,b){if(N===b)return!0;for(var O in N)if(!(O in b))return!1;for(var O in b)if(N[O]!==b[O])return!1;return!0}},2245:(Ui,ni,N)=>{var b;!function(){"use strict";var O="input is invalid type",E="object"==typeof window,ye=E?window:{};ye.JS_SHA256_NO_WINDOW&&(E=!1);var K=!E&&"object"==typeof self,Ke=!ye.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;Ke?ye=global:K&&(ye=self);var j=!ye.JS_SHA256_NO_COMMON_JS&&Ui.exports,rt=N.amdO,ie=!ye.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ee="0123456789abcdef".split(""),Ce=[-2147483648,8388608,32768,128],ve=[24,16,8,0],ue=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],P=["hex","array","digest","arrayBuffer"],Be=[];(ye.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Le){return"[object Array]"===Object.prototype.toString.call(Le)}),ie&&(ye.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Le){return"object"==typeof Le&&Le.buffer&&Le.buffer.constructor===ArrayBuffer});var Ct=function(Le,We){return function(Ye){return new q(We,!0).update(Ye)[Le]()}},qt=function(Le){var We=Ct("hex",Le);Ke&&(We=pt(We,Le)),We.create=function(){return new q(Le)},We.update=function(vi){return We.create().update(vi)};for(var Ye=0;Ye<P.length;++Ye){var Ht=P[Ye];We[Ht]=Ct(Ht,Le)}return We},pt=function(Le,We){var Et,Ye=N(4394),Ht=N(1903).Buffer,vi=We?"sha224":"sha256";return Et=Ht.from&&!ye.JS_SHA256_NO_BUFFER_FROM?Ht.from:function(bi){return new Ht(bi)},function(bi){if("string"==typeof bi)return Ye.createHash(vi).update(bi,"utf8").digest("hex");if(null==bi)throw new Error(O);return bi.constructor===ArrayBuffer&&(bi=new Uint8Array(bi)),Array.isArray(bi)||ArrayBuffer.isView(bi)||bi.constructor===Ht?Ye.createHash(vi).update(Et(bi)).digest("hex"):Le(bi)}},Ai=function(Le,We){return function(Ye,Ht){return new Ot(Ye,We,!0).update(Ht)[Le]()}},oi=function(Le){var We=Ai("hex",Le);We.create=function(vi){return new Ot(vi,Le)},We.update=function(vi,Et){return We.create(vi).update(Et)};for(var Ye=0;Ye<P.length;++Ye){var Ht=P[Ye];We[Ht]=Ai(Ht,Le)}return We};function q(Le,We){We?(Be[0]=Be[16]=Be[1]=Be[2]=Be[3]=Be[4]=Be[5]=Be[6]=Be[7]=Be[8]=Be[9]=Be[10]=Be[11]=Be[12]=Be[13]=Be[14]=Be[15]=0,this.blocks=Be):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=Le}function Ot(Le,We,Ye){var Ht,vi=typeof Le;if("string"===vi){var Ci,Et=[],wi=Le.length,bi=0;for(Ht=0;Ht<wi;++Ht)(Ci=Le.charCodeAt(Ht))<128?Et[bi++]=Ci:Ci<2048?(Et[bi++]=192|Ci>>6,Et[bi++]=128|63&Ci):Ci<55296||Ci>=57344?(Et[bi++]=224|Ci>>12,Et[bi++]=128|Ci>>6&63,Et[bi++]=128|63&Ci):(Ci=65536+((1023&Ci)<<10|1023&Le.charCodeAt(++Ht)),Et[bi++]=240|Ci>>18,Et[bi++]=128|Ci>>12&63,Et[bi++]=128|Ci>>6&63,Et[bi++]=128|63&Ci);Le=Et}else{if("object"!==vi)throw new Error(O);if(null===Le)throw new Error(O);if(ie&&Le.constructor===ArrayBuffer)Le=new Uint8Array(Le);else if(!(Array.isArray(Le)||ie&&ArrayBuffer.isView(Le)))throw new Error(O)}Le.length>64&&(Le=new q(We,!0).update(Le).array());var an=[],Oi=[];for(Ht=0;Ht<64;++Ht){var Cn=Le[Ht]||0;an[Ht]=92^Cn,Oi[Ht]=54^Cn}q.call(this,We,Ye),this.update(Oi),this.oKeyPad=an,this.inner=!0,this.sharedMemory=Ye}q.prototype.update=function(Le){if(!this.finalized){var We,Ye=typeof Le;if("string"!==Ye){if("object"!==Ye)throw new Error(O);if(null===Le)throw new Error(O);if(ie&&Le.constructor===ArrayBuffer)Le=new Uint8Array(Le);else if(!(Array.isArray(Le)||ie&&ArrayBuffer.isView(Le)))throw new Error(O);We=!0}for(var Ht,Et,vi=0,wi=Le.length,bi=this.blocks;vi<wi;){if(this.hashed&&(this.hashed=!1,bi[0]=this.block,bi[16]=bi[1]=bi[2]=bi[3]=bi[4]=bi[5]=bi[6]=bi[7]=bi[8]=bi[9]=bi[10]=bi[11]=bi[12]=bi[13]=bi[14]=bi[15]=0),We)for(Et=this.start;vi<wi&&Et<64;++vi)bi[Et>>2]|=Le[vi]<<ve[3&Et++];else for(Et=this.start;vi<wi&&Et<64;++vi)(Ht=Le.charCodeAt(vi))<128?bi[Et>>2]|=Ht<<ve[3&Et++]:Ht<2048?(bi[Et>>2]|=(192|Ht>>6)<<ve[3&Et++],bi[Et>>2]|=(128|63&Ht)<<ve[3&Et++]):Ht<55296||Ht>=57344?(bi[Et>>2]|=(224|Ht>>12)<<ve[3&Et++],bi[Et>>2]|=(128|Ht>>6&63)<<ve[3&Et++],bi[Et>>2]|=(128|63&Ht)<<ve[3&Et++]):(Ht=65536+((1023&Ht)<<10|1023&Le.charCodeAt(++vi)),bi[Et>>2]|=(240|Ht>>18)<<ve[3&Et++],bi[Et>>2]|=(128|Ht>>12&63)<<ve[3&Et++],bi[Et>>2]|=(128|Ht>>6&63)<<ve[3&Et++],bi[Et>>2]|=(128|63&Ht)<<ve[3&Et++]);this.lastByteIndex=Et,this.bytes+=Et-this.start,Et>=64?(this.block=bi[16],this.start=Et-64,this.hash(),this.hashed=!0):this.start=Et}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Le=this.blocks,We=this.lastByteIndex;Le[16]=this.block,Le[We>>2]|=Ce[3&We],this.block=Le[16],We>=56&&(this.hashed||this.hash(),Le[0]=this.block,Le[16]=Le[1]=Le[2]=Le[3]=Le[4]=Le[5]=Le[6]=Le[7]=Le[8]=Le[9]=Le[10]=Le[11]=Le[12]=Le[13]=Le[14]=Le[15]=0),Le[14]=this.hBytes<<3|this.bytes>>>29,Le[15]=this.bytes<<3,this.hash()}},q.prototype.hash=function(){var an,lt,ut,yt,Zt,Tt,Le=this.h0,We=this.h1,Ye=this.h2,Ht=this.h3,vi=this.h4,Et=this.h5,wi=this.h6,bi=this.h7,Ci=this.blocks;for(an=16;an<64;++an)Ci[an]=Ci[an-16]+(((lt=Ci[an-15])>>>7|lt<<25)^(lt>>>18|lt<<14)^lt>>>3)+Ci[an-7]+(((lt=Ci[an-2])>>>17|lt<<15)^(lt>>>19|lt<<13)^lt>>>10)<<0;for(Tt=We&Ye,an=0;an<64;an+=4)this.first?(this.is224?(ut=300032,bi=(lt=Ci[0]-1413257819)-150054599<<0,Ht=lt+24177077<<0):(ut=704751109,bi=(lt=Ci[0]-210244248)-1521486534<<0,Ht=lt+143694565<<0),this.first=!1):(bi=Ht+(lt=bi+((vi>>>6|vi<<26)^(vi>>>11|vi<<21)^(vi>>>25|vi<<7))+(vi&Et^~vi&wi)+ue[an]+Ci[an])<<0,Ht=lt+(((Le>>>2|Le<<30)^(Le>>>13|Le<<19)^(Le>>>22|Le<<10))+((ut=Le&We)^Le&Ye^Tt))<<0),wi=Ye+(lt=wi+((bi>>>6|bi<<26)^(bi>>>11|bi<<21)^(bi>>>25|bi<<7))+(bi&vi^~bi&Et)+ue[an+1]+Ci[an+1])<<0,Ye=lt+(((Ht>>>2|Ht<<30)^(Ht>>>13|Ht<<19)^(Ht>>>22|Ht<<10))+((yt=Ht&Le)^Ht&We^ut))<<0,Et=We+(lt=Et+((wi>>>6|wi<<26)^(wi>>>11|wi<<21)^(wi>>>25|wi<<7))+(wi&bi^~wi&vi)+ue[an+2]+Ci[an+2])<<0,We=lt+(((Ye>>>2|Ye<<30)^(Ye>>>13|Ye<<19)^(Ye>>>22|Ye<<10))+((Zt=Ye&Ht)^Ye&Le^yt))<<0,vi=Le+(lt=vi+((Et>>>6|Et<<26)^(Et>>>11|Et<<21)^(Et>>>25|Et<<7))+(Et&wi^~Et&bi)+ue[an+3]+Ci[an+3])<<0,Le=lt+(((We>>>2|We<<30)^(We>>>13|We<<19)^(We>>>22|We<<10))+((Tt=We&Ye)^We&Ht^Zt))<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+Le<<0,this.h1=this.h1+We<<0,this.h2=this.h2+Ye<<0,this.h3=this.h3+Ht<<0,this.h4=this.h4+vi<<0,this.h5=this.h5+Et<<0,this.h6=this.h6+wi<<0,this.h7=this.h7+bi<<0},q.prototype.toString=q.prototype.hex=function(){this.finalize();var Le=this.h0,We=this.h1,Ye=this.h2,Ht=this.h3,vi=this.h4,Et=this.h5,wi=this.h6,bi=this.h7,Ci=ee[Le>>28&15]+ee[Le>>24&15]+ee[Le>>20&15]+ee[Le>>16&15]+ee[Le>>12&15]+ee[Le>>8&15]+ee[Le>>4&15]+ee[15&Le]+ee[We>>28&15]+ee[We>>24&15]+ee[We>>20&15]+ee[We>>16&15]+ee[We>>12&15]+ee[We>>8&15]+ee[We>>4&15]+ee[15&We]+ee[Ye>>28&15]+ee[Ye>>24&15]+ee[Ye>>20&15]+ee[Ye>>16&15]+ee[Ye>>12&15]+ee[Ye>>8&15]+ee[Ye>>4&15]+ee[15&Ye]+ee[Ht>>28&15]+ee[Ht>>24&15]+ee[Ht>>20&15]+ee[Ht>>16&15]+ee[Ht>>12&15]+ee[Ht>>8&15]+ee[Ht>>4&15]+ee[15&Ht]+ee[vi>>28&15]+ee[vi>>24&15]+ee[vi>>20&15]+ee[vi>>16&15]+ee[vi>>12&15]+ee[vi>>8&15]+ee[vi>>4&15]+ee[15&vi]+ee[Et>>28&15]+ee[Et>>24&15]+ee[Et>>20&15]+ee[Et>>16&15]+ee[Et>>12&15]+ee[Et>>8&15]+ee[Et>>4&15]+ee[15&Et]+ee[wi>>28&15]+ee[wi>>24&15]+ee[wi>>20&15]+ee[wi>>16&15]+ee[wi>>12&15]+ee[wi>>8&15]+ee[wi>>4&15]+ee[15&wi];return this.is224||(Ci+=ee[bi>>28&15]+ee[bi>>24&15]+ee[bi>>20&15]+ee[bi>>16&15]+ee[bi>>12&15]+ee[bi>>8&15]+ee[bi>>4&15]+ee[15&bi]),Ci},q.prototype.array=q.prototype.digest=function(){this.finalize();var Le=this.h0,We=this.h1,Ye=this.h2,Ht=this.h3,vi=this.h4,Et=this.h5,wi=this.h6,bi=this.h7,Ci=[Le>>24&255,Le>>16&255,Le>>8&255,255&Le,We>>24&255,We>>16&255,We>>8&255,255&We,Ye>>24&255,Ye>>16&255,Ye>>8&255,255&Ye,Ht>>24&255,Ht>>16&255,Ht>>8&255,255&Ht,vi>>24&255,vi>>16&255,vi>>8&255,255&vi,Et>>24&255,Et>>16&255,Et>>8&255,255&Et,wi>>24&255,wi>>16&255,wi>>8&255,255&wi];return this.is224||Ci.push(bi>>24&255,bi>>16&255,bi>>8&255,255&bi),Ci},q.prototype.arrayBuffer=function(){this.finalize();var Le=new ArrayBuffer(this.is224?28:32),We=new DataView(Le);return We.setUint32(0,this.h0),We.setUint32(4,this.h1),We.setUint32(8,this.h2),We.setUint32(12,this.h3),We.setUint32(16,this.h4),We.setUint32(20,this.h5),We.setUint32(24,this.h6),this.is224||We.setUint32(28,this.h7),Le},(Ot.prototype=new q).finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var Le=this.array();q.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(Le),q.prototype.finalize.call(this)}};var Oe=qt();Oe.sha256=Oe,Oe.sha224=qt(!0),Oe.sha256.hmac=oi(),Oe.sha224.hmac=oi(!0),j?Ui.exports=Oe:(ye.sha256=Oe.sha256,ye.sha224=Oe.sha224,rt&&void 0!==(b=function(){return Oe}.call(Oe,N,Oe,Ui))&&(Ui.exports=b))}()},8516:(Ui,ni,N)=>{var b=N(1464);Ui.exports=b.Symbol},1057:(Ui,ni,N)=>{var b=N(8516),O=N(8488),E=N(3327),Ke=b?b.toStringTag:void 0;Ui.exports=function j(rt){return null==rt?void 0===rt?"[object Undefined]":"[object Null]":Ke&&Ke in Object(rt)?O(rt):E(rt)}},5461:(Ui,ni,N)=>{var b=N(7327),O=/^\s+/;Ui.exports=function E(ye){return ye&&ye.slice(0,b(ye)+1).replace(O,"")}},8657:Ui=>{var ni="object"==typeof global&&global&&global.Object===Object&&global;Ui.exports=ni},8488:(Ui,ni,N)=>{var b=N(8516),O=Object.prototype,E=O.hasOwnProperty,ye=O.toString,K=b?b.toStringTag:void 0;Ui.exports=function Ke(j){var rt=E.call(j,K),ie=j[K];try{j[K]=void 0;var ee=!0}catch{}var Ce=ye.call(j);return ee&&(rt?j[K]=ie:delete j[K]),Ce}},3327:Ui=>{var N=Object.prototype.toString;Ui.exports=function b(O){return N.call(O)}},1464:(Ui,ni,N)=>{var b=N(8657),O="object"==typeof self&&self&&self.Object===Object&&self,E=b||O||Function("return this")();Ui.exports=E},7327:Ui=>{var ni=/\s/;Ui.exports=function N(b){for(var O=b.length;O--&&ni.test(b.charAt(O)););return O}},4270:(Ui,ni,N)=>{var b=N(3278),O=N(501),E=N(3521),K=Math.max,Ke=Math.min;Ui.exports=function j(rt,ie,ee){var Ce,ve,ue,P,Be,Ct,qt=0,pt=!1,Ai=!1,oi=!0;if("function"!=typeof rt)throw new TypeError("Expected a function");function q(wi){var bi=Ce,Ci=ve;return Ce=ve=void 0,qt=wi,P=rt.apply(Ci,bi)}function Le(wi){var bi=wi-Ct;return void 0===Ct||bi>=ie||bi<0||Ai&&wi-qt>=ue}function We(){var wi=O();if(Le(wi))return Ye(wi);Be=setTimeout(We,function Oe(wi){var an=ie-(wi-Ct);return Ai?Ke(an,ue-(wi-qt)):an}(wi))}function Ye(wi){return Be=void 0,oi&&Ce?q(wi):(Ce=ve=void 0,P)}function Et(){var wi=O(),bi=Le(wi);if(Ce=arguments,ve=this,Ct=wi,bi){if(void 0===Be)return function Ot(wi){return qt=wi,Be=setTimeout(We,ie),pt?q(wi):P}(Ct);if(Ai)return clearTimeout(Be),Be=setTimeout(We,ie),q(Ct)}return void 0===Be&&(Be=setTimeout(We,ie)),P}return ie=E(ie)||0,b(ee)&&(pt=!!ee.leading,ue=(Ai="maxWait"in ee)?K(E(ee.maxWait)||0,ie):ue,oi="trailing"in ee?!!ee.trailing:oi),Et.cancel=function Ht(){void 0!==Be&&clearTimeout(Be),qt=0,Ce=Ct=ve=Be=void 0},Et.flush=function vi(){return void 0===Be?P:Ye(O())},Et}},3278:Ui=>{Ui.exports=function ni(N){var b=typeof N;return null!=N&&("object"==b||"function"==b)}},7433:Ui=>{Ui.exports=function ni(N){return null!=N&&"object"==typeof N}},5153:(Ui,ni,N)=>{var b=N(1057),O=N(7433);Ui.exports=function ye(K){return"symbol"==typeof K||O(K)&&"[object Symbol]"==b(K)}},501:(Ui,ni,N)=>{var b=N(1464);Ui.exports=function(){return b.Date.now()}},7569:(Ui,ni,N)=>{var b=N(4270),O=N(3278);Ui.exports=function ye(K,Ke,j){var rt=!0,ie=!0;if("function"!=typeof K)throw new TypeError("Expected a function");return O(j)&&(rt="leading"in j?!!j.leading:rt,ie="trailing"in j?!!j.trailing:ie),b(K,Ke,{leading:rt,maxWait:Ke,trailing:ie})}},3521:(Ui,ni,N)=>{var b=N(5461),O=N(3278),E=N(5153),K=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,j=/^0o[0-7]+$/i,rt=parseInt;Ui.exports=function ie(ee){if("number"==typeof ee)return ee;if(E(ee))return NaN;if(O(ee)){var Ce="function"==typeof ee.valueOf?ee.valueOf():ee;ee=O(Ce)?Ce+"":Ce}if("string"!=typeof ee)return 0===ee?ee:+ee;ee=b(ee);var ve=Ke.test(ee);return ve||j.test(ee)?rt(ee.slice(2),ve?2:8):K.test(ee)?NaN:+ee}},8224:(Ui,ni,N)=>{var b=N(4798),O=/[\/\+\.]/;Ui.exports=function(E,ye){function K(Ke){var j=b(Ke,E,O);return j&&j.length>=2}return ye?K(ye.split(";")[0]):K}},6212:Ui=>{Ui.exports=function(){var N={},b=N._fns={};return N.emit=function(K,Ke,j,rt,ie,ee,Ce){var ve=function O(ye){for(var K=b[ye]?b[ye]:[],Ke=ye.indexOf(":"),j=-1===Ke?[ye]:[ye.substring(0,Ke),ye.substring(Ke+1)],rt=Object.keys(b),ie=0,ee=rt.length;ie<ee;ie++){var Ce=rt[ie];if("*"===Ce&&(K=K.concat(b[Ce])),2===j.length&&j[0]===Ce){K=K.concat(b[Ce]);break}}return K}(K);ve.length&&function E(ye,K,Ke){for(var j=0,rt=K.length;j<rt&&K[j];j++)K[j].event=ye,K[j].apply(K[j],Ke)}(K,ve,[Ke,j,rt,ie,ee,Ce])},N.on=function(K,Ke){b[K]||(b[K]=[]),b[K].push(Ke)},N.once=function(K,Ke){this.on(K,function j(){Ke.apply(this,arguments),N.off(K,j)})},N.off=function(K,Ke){var j=[];if(K&&Ke)for(var rt=this._fns[K],ie=0,ee=rt?rt.length:0;ie<ee;ie++)rt[ie]!==Ke&&j.push(rt[ie]);j.length?this._fns[K]=j:delete this._fns[K]},N}},233:Ui=>{"use strict";var ni=Object.prototype.hasOwnProperty,N="~";function b(){}function O(Ke,j,rt){this.fn=Ke,this.context=j,this.once=rt||!1}function E(Ke,j,rt,ie,ee){if("function"!=typeof rt)throw new TypeError("The listener must be a function");var Ce=new O(rt,ie||Ke,ee),ve=N?N+j:j;return Ke._events[ve]?Ke._events[ve].fn?Ke._events[ve]=[Ke._events[ve],Ce]:Ke._events[ve].push(Ce):(Ke._events[ve]=Ce,Ke._eventsCount++),Ke}function ye(Ke,j){0==--Ke._eventsCount?Ke._events=new b:delete Ke._events[j]}function K(){this._events=new b,this._eventsCount=0}Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(N=!1)),K.prototype.eventNames=function(){var rt,ie,j=[];if(0===this._eventsCount)return j;for(ie in rt=this._events)ni.call(rt,ie)&&j.push(N?ie.slice(1):ie);return Object.getOwnPropertySymbols?j.concat(Object.getOwnPropertySymbols(rt)):j},K.prototype.listeners=function(j){var ie=this._events[N?N+j:j];if(!ie)return[];if(ie.fn)return[ie.fn];for(var ee=0,Ce=ie.length,ve=new Array(Ce);ee<Ce;ee++)ve[ee]=ie[ee].fn;return ve},K.prototype.listenerCount=function(j){var ie=this._events[N?N+j:j];return ie?ie.fn?1:ie.length:0},K.prototype.emit=function(j,rt,ie,ee,Ce,ve){var ue=N?N+j:j;if(!this._events[ue])return!1;var Ct,qt,P=this._events[ue],Be=arguments.length;if(P.fn){switch(P.once&&this.removeListener(j,P.fn,void 0,!0),Be){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,rt),!0;case 3:return P.fn.call(P.context,rt,ie),!0;case 4:return P.fn.call(P.context,rt,ie,ee),!0;case 5:return P.fn.call(P.context,rt,ie,ee,Ce),!0;case 6:return P.fn.call(P.context,rt,ie,ee,Ce,ve),!0}for(qt=1,Ct=new Array(Be-1);qt<Be;qt++)Ct[qt-1]=arguments[qt];P.fn.apply(P.context,Ct)}else{var Ai,pt=P.length;for(qt=0;qt<pt;qt++)switch(P[qt].once&&this.removeListener(j,P[qt].fn,void 0,!0),Be){case 1:P[qt].fn.call(P[qt].context);break;case 2:P[qt].fn.call(P[qt].context,rt);break;case 3:P[qt].fn.call(P[qt].context,rt,ie);break;case 4:P[qt].fn.call(P[qt].context,rt,ie,ee);break;default:if(!Ct)for(Ai=1,Ct=new Array(Be-1);Ai<Be;Ai++)Ct[Ai-1]=arguments[Ai];P[qt].fn.apply(P[qt].context,Ct)}}return!0},K.prototype.on=function(j,rt,ie){return E(this,j,rt,ie,!1)},K.prototype.once=function(j,rt,ie){return E(this,j,rt,ie,!0)},K.prototype.removeListener=function(j,rt,ie,ee){var Ce=N?N+j:j;if(!this._events[Ce])return this;if(!rt)return ye(this,Ce),this;var ve=this._events[Ce];if(ve.fn)ve.fn===rt&&(!ee||ve.once)&&(!ie||ve.context===ie)&&ye(this,Ce);else{for(var ue=0,P=[],Be=ve.length;ue<Be;ue++)(ve[ue].fn!==rt||ee&&!ve[ue].once||ie&&ve[ue].context!==ie)&&P.push(ve[ue]);P.length?this._events[Ce]=1===P.length?P[0]:P:ye(this,Ce)}return this},K.prototype.removeAllListeners=function(j){var rt;return j?this._events[rt=N?N+j:j]&&ye(this,rt):(this._events=new b,this._eventsCount=0),this},K.prototype.off=K.prototype.removeListener,K.prototype.addListener=K.prototype.on,K.prefixed=N,K.EventEmitter=K,Ui.exports=K},4412:(Ui,ni,N)=>{"use strict";N.d(ni,{t:()=>O});var b=N(1413);class O extends b.B{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const K=super._subscribe(ye);return!K.closed&&ye.next(this._value),K}getValue(){const{hasError:ye,thrownError:K,_value:Ke}=this;if(ye)throw K;return this._throwIfClosed(),Ke}next(ye){super.next(this._value=ye)}}},1985:(Ui,ni,N)=>{"use strict";N.d(ni,{c:()=>rt});var b=N(7707),O=N(8359),E=N(3494),ye=N(1203),K=N(1026),Ke=N(8071),j=N(9786);let rt=(()=>{class ve{constructor(P){P&&(this._subscribe=P)}lift(P){const Be=new ve;return Be.source=this,Be.operator=P,Be}subscribe(P,Be,Ct){const qt=function Ce(ve){return ve&&ve instanceof b.vU||function ee(ve){return ve&&(0,Ke.T)(ve.next)&&(0,Ke.T)(ve.error)&&(0,Ke.T)(ve.complete)}(ve)&&(0,O.Uv)(ve)}(P)?P:new b.Ms(P,Be,Ct);return(0,j.Y)(()=>{const{operator:pt,source:Ai}=this;qt.add(pt?pt.call(qt,Ai):Ai?this._subscribe(qt):this._trySubscribe(qt))}),qt}_trySubscribe(P){try{return this._subscribe(P)}catch(Be){P.error(Be)}}forEach(P,Be){return new(Be=ie(Be))((Ct,qt)=>{const pt=new b.Ms({next:Ai=>{try{P(Ai)}catch(oi){qt(oi),pt.unsubscribe()}},error:qt,complete:Ct});this.subscribe(pt)})}_subscribe(P){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(P)}[E.s](){return this}pipe(...P){return(0,ye.m)(P)(this)}toPromise(P){return new(P=ie(P))((Be,Ct)=>{let qt;this.subscribe(pt=>qt=pt,pt=>Ct(pt),()=>Be(qt))})}}return ve.create=ue=>new ve(ue),ve})();function ie(ve){var ue;return null!==(ue=ve??K.$.Promise)&&void 0!==ue?ue:Promise}},2771:(Ui,ni,N)=>{"use strict";N.d(ni,{m:()=>E});var b=N(1413),O=N(6129);class E extends b.B{constructor(K=1/0,Ke=1/0,j=O.U){super(),this._bufferSize=K,this._windowTime=Ke,this._timestampProvider=j,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Ke===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,Ke)}next(K){const{isStopped:Ke,_buffer:j,_infiniteTimeWindow:rt,_timestampProvider:ie,_windowTime:ee}=this;Ke||(j.push(K),!rt&&j.push(ie.now()+ee)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const Ke=this._innerSubscribe(K),{_infiniteTimeWindow:j,_buffer:rt}=this,ie=rt.slice();for(let ee=0;ee<ie.length&&!K.closed;ee+=j?1:2)K.next(ie[ee]);return this._checkFinalizedStatuses(K),Ke}_trimBuffer(){const{_bufferSize:K,_timestampProvider:Ke,_buffer:j,_infiniteTimeWindow:rt}=this,ie=(rt?1:2)*K;if(K<1/0&&ie<j.length&&j.splice(0,j.length-ie),!rt){const ee=Ke.now();let Ce=0;for(let ve=1;ve<j.length&&j[ve]<=ee;ve+=2)Ce=ve;Ce&&j.splice(0,Ce+1)}}}},1413:(Ui,ni,N)=>{"use strict";N.d(ni,{B:()=>j});var b=N(1985),O=N(8359);const ye=(0,N(1853).L)(ie=>function(){ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=N(7908),Ke=N(9786);let j=(()=>{class ie extends b.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ce){const ve=new rt(this,this);return ve.operator=Ce,ve}_throwIfClosed(){if(this.closed)throw new ye}next(Ce){(0,Ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(Ce)}})}error(Ce){(0,Ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ce;const{observers:ve}=this;for(;ve.length;)ve.shift().error(Ce)}})}complete(){(0,Ke.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ce;return(null===(Ce=this.observers)||void 0===Ce?void 0:Ce.length)>0}_trySubscribe(Ce){return this._throwIfClosed(),super._trySubscribe(Ce)}_subscribe(Ce){return this._throwIfClosed(),this._checkFinalizedStatuses(Ce),this._innerSubscribe(Ce)}_innerSubscribe(Ce){const{hasError:ve,isStopped:ue,observers:P}=this;return ve||ue?O.Kn:(this.currentObservers=null,P.push(Ce),new O.yU(()=>{this.currentObservers=null,(0,K.o)(P,Ce)}))}_checkFinalizedStatuses(Ce){const{hasError:ve,thrownError:ue,isStopped:P}=this;ve?Ce.error(ue):P&&Ce.complete()}asObservable(){const Ce=new b.c;return Ce.source=this,Ce}}return ie.create=(ee,Ce)=>new rt(ee,Ce),ie})();class rt extends j{constructor(ee,Ce){super(),this.destination=ee,this.source=Ce}next(ee){var Ce,ve;null===(ve=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.next)||void 0===ve||ve.call(Ce,ee)}error(ee){var Ce,ve;null===(ve=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.error)||void 0===ve||ve.call(Ce,ee)}complete(){var ee,Ce;null===(Ce=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===Ce||Ce.call(ee)}_subscribe(ee){var Ce,ve;return null!==(ve=null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(ee))&&void 0!==ve?ve:O.Kn}}},7707:(Ui,ni,N)=>{"use strict";N.d(ni,{Ms:()=>Ct,vU:()=>ve});var b=N(8071),O=N(8359),E=N(1026),ye=N(5334),K=N(5343);const Ke=ie("C",void 0,void 0);function ie(q,Ot,Oe){return{kind:q,value:Ot,error:Oe}}var ee=N(9270),Ce=N(9786);class ve extends O.yU{constructor(Ot){super(),this.isStopped=!1,Ot?(this.destination=Ot,(0,O.Uv)(Ot)&&Ot.add(this)):this.destination=oi}static create(Ot,Oe,Le){return new Ct(Ot,Oe,Le)}next(Ot){this.isStopped?Ai(function rt(q){return ie("N",q,void 0)}(Ot),this):this._next(Ot)}error(Ot){this.isStopped?Ai(function j(q){return ie("E",void 0,q)}(Ot),this):(this.isStopped=!0,this._error(Ot))}complete(){this.isStopped?Ai(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ot){this.destination.next(Ot)}_error(Ot){try{this.destination.error(Ot)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ue=Function.prototype.bind;function P(q,Ot){return ue.call(q,Ot)}class Be{constructor(Ot){this.partialObserver=Ot}next(Ot){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Ot)}catch(Le){qt(Le)}}error(Ot){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Ot)}catch(Le){qt(Le)}else qt(Ot)}complete(){const{partialObserver:Ot}=this;if(Ot.complete)try{Ot.complete()}catch(Oe){qt(Oe)}}}class Ct extends ve{constructor(Ot,Oe,Le){let We;if(super(),(0,b.T)(Ot)||!Ot)We={next:Ot??void 0,error:Oe??void 0,complete:Le??void 0};else{let Ye;this&&E.$.useDeprecatedNextContext?(Ye=Object.create(Ot),Ye.unsubscribe=()=>this.unsubscribe(),We={next:Ot.next&&P(Ot.next,Ye),error:Ot.error&&P(Ot.error,Ye),complete:Ot.complete&&P(Ot.complete,Ye)}):We=Ot}this.destination=new Be(We)}}function qt(q){E.$.useDeprecatedSynchronousErrorHandling?(0,Ce.l)(q):(0,ye.m)(q)}function Ai(q,Ot){const{onStoppedNotification:Oe}=E.$;Oe&&ee.f.setTimeout(()=>Oe(q,Ot))}const oi={closed:!0,next:K.l,error:function pt(q){throw q},complete:K.l}},8359:(Ui,ni,N)=>{"use strict";N.d(ni,{Kn:()=>Ke,yU:()=>K,Uv:()=>j});var b=N(8071);const E=(0,N(1853).L)(ie=>function(Ce){ie(this),this.message=Ce?`${Ce.length} errors occurred during unsubscription:\n${Ce.map((ve,ue)=>`${ue+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ce});var ye=N(7908);class K{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:Ce}=this;if(Ce)if(this._parentage=null,Array.isArray(Ce))for(const P of Ce)P.remove(this);else Ce.remove(this);const{initialTeardown:ve}=this;if((0,b.T)(ve))try{ve()}catch(P){ee=P instanceof E?P.errors:[P]}const{_finalizers:ue}=this;if(ue){this._finalizers=null;for(const P of ue)try{rt(P)}catch(Be){ee=ee??[],Be instanceof E?ee=[...ee,...Be.errors]:ee.push(Be)}}if(ee)throw new E(ee)}}add(ee){var Ce;if(ee&&ee!==this)if(this.closed)rt(ee);else{if(ee instanceof K){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(Ce=this._finalizers)&&void 0!==Ce?Ce:[]).push(ee)}}_hasParent(ee){const{_parentage:Ce}=this;return Ce===ee||Array.isArray(Ce)&&Ce.includes(ee)}_addParent(ee){const{_parentage:Ce}=this;this._parentage=Array.isArray(Ce)?(Ce.push(ee),Ce):Ce?[Ce,ee]:ee}_removeParent(ee){const{_parentage:Ce}=this;Ce===ee?this._parentage=null:Array.isArray(Ce)&&(0,ye.o)(Ce,ee)}remove(ee){const{_finalizers:Ce}=this;Ce&&(0,ye.o)(Ce,ee),ee instanceof K&&ee._removeParent(this)}}K.EMPTY=(()=>{const ie=new K;return ie.closed=!0,ie})();const Ke=K.EMPTY;function j(ie){return ie instanceof K||ie&&"closed"in ie&&(0,b.T)(ie.remove)&&(0,b.T)(ie.add)&&(0,b.T)(ie.unsubscribe)}function rt(ie){(0,b.T)(ie)?ie():ie.unsubscribe()}},1026:(Ui,ni,N)=>{"use strict";N.d(ni,{$:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},17:(Ui,ni,N)=>{"use strict";N.d(ni,{G:()=>Ke});var b=N(1985),O=N(8359),E=N(9898),ye=N(4360),K=N(9974);class Ke extends b.c{constructor(rt,ie){super(),this.source=rt,this.subjectFactory=ie,this._subject=null,this._refCount=0,this._connection=null,(0,K.S)(rt)&&(this.lift=rt.lift)}_subscribe(rt){return this.getSubject().subscribe(rt)}getSubject(){const rt=this._subject;return(!rt||rt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:rt}=this;this._subject=this._connection=null,rt?.unsubscribe()}connect(){let rt=this._connection;if(!rt){rt=this._connection=new O.yU;const ie=this.getSubject();rt.add(this.source.subscribe((0,ye._)(ie,void 0,()=>{this._teardown(),ie.complete()},ee=>{this._teardown(),ie.error(ee)},()=>this._teardown()))),rt.closed&&(this._connection=null,rt=O.yU.EMPTY)}return rt}refCount(){return(0,E.B)()(this)}}},4572:(Ui,ni,N)=>{"use strict";N.d(ni,{z:()=>ee});var b=N(1985),O=N(3073),E=N(6648),ye=N(3669),K=N(6450),Ke=N(9326),j=N(8496),rt=N(4360),ie=N(5225);function ee(...ue){const P=(0,Ke.lI)(ue),Be=(0,Ke.ms)(ue),{args:Ct,keys:qt}=(0,O.D)(ue);if(0===Ct.length)return(0,E.H)([],P);const pt=new b.c(function Ce(ue,P,Be=ye.D){return Ct=>{ve(P,()=>{const{length:qt}=ue,pt=new Array(qt);let Ai=qt,oi=qt;for(let q=0;q<qt;q++)ve(P,()=>{const Ot=(0,E.H)(ue[q],P);let Oe=!1;Ot.subscribe((0,rt._)(Ct,Le=>{pt[q]=Le,Oe||(Oe=!0,oi--),oi||Ct.next(Be(pt.slice()))},()=>{--Ai||Ct.complete()}))},Ct)},Ct)}}(Ct,P,qt?Ai=>(0,j.e)(qt,Ai):ye.D));return Be?pt.pipe((0,K.I)(Be)):pt}function ve(ue,P,Be){ue?(0,ie.N)(Be,ue,P):P()}},8793:(Ui,ni,N)=>{"use strict";N.d(ni,{x:()=>K});var b=N(6365),E=N(9326),ye=N(6648);function K(...Ke){return function O(){return(0,b.U)(1)}()((0,ye.H)(Ke,(0,E.lI)(Ke)))}},9030:(Ui,ni,N)=>{"use strict";N.d(ni,{v:()=>E});var b=N(1985),O=N(8750);function E(ye){return new b.c(K=>{(0,O.Tg)(ye()).subscribe(K)})}},983:(Ui,ni,N)=>{"use strict";N.d(ni,{w:()=>O});const O=new(N(1985).c)(K=>K.complete())},7468:(Ui,ni,N)=>{"use strict";N.d(ni,{p:()=>rt});var b=N(1985),O=N(3073),E=N(8750),ye=N(9326),K=N(4360),Ke=N(6450),j=N(8496);function rt(...ie){const ee=(0,ye.ms)(ie),{args:Ce,keys:ve}=(0,O.D)(ie),ue=new b.c(P=>{const{length:Be}=Ce;if(!Be)return void P.complete();const Ct=new Array(Be);let qt=Be,pt=Be;for(let Ai=0;Ai<Be;Ai++){let oi=!1;(0,E.Tg)(Ce[Ai]).subscribe((0,K._)(P,q=>{oi||(oi=!0,pt--),Ct[Ai]=q},()=>qt--,void 0,()=>{(!qt||!oi)&&(pt||P.next(ve?(0,j.e)(ve,Ct):Ct),P.complete())}))}});return ee?ue.pipe((0,Ke.I)(ee)):ue}},6648:(Ui,ni,N)=>{"use strict";N.d(ni,{H:()=>Le});var b=N(8750),O=N(5225),E=N(9974),ye=N(4360);function K(We,Ye=0){return(0,E.N)((Ht,vi)=>{Ht.subscribe((0,ye._)(vi,Et=>(0,O.N)(vi,We,()=>vi.next(Et),Ye),()=>(0,O.N)(vi,We,()=>vi.complete(),Ye),Et=>(0,O.N)(vi,We,()=>vi.error(Et),Ye)))})}function Ke(We,Ye=0){return(0,E.N)((Ht,vi)=>{vi.add(We.schedule(()=>Ht.subscribe(vi),Ye))})}var ie=N(1985),Ce=N(4761),ve=N(8071);function P(We,Ye){if(!We)throw new Error("Iterable cannot be null");return new ie.c(Ht=>{(0,O.N)(Ht,Ye,()=>{const vi=We[Symbol.asyncIterator]();(0,O.N)(Ht,Ye,()=>{vi.next().then(Et=>{Et.done?Ht.complete():Ht.next(Et.value)})},0,!0)})})}var Be=N(5055),Ct=N(9858),qt=N(7441),pt=N(5397),Ai=N(7953),oi=N(591),q=N(5196);function Le(We,Ye){return Ye?function Oe(We,Ye){if(null!=We){if((0,Be.l)(We))return function j(We,Ye){return(0,b.Tg)(We).pipe(Ke(Ye),K(Ye))}(We,Ye);if((0,qt.X)(We))return function ee(We,Ye){return new ie.c(Ht=>{let vi=0;return Ye.schedule(function(){vi===We.length?Ht.complete():(Ht.next(We[vi++]),Ht.closed||this.schedule())})})}(We,Ye);if((0,Ct.y)(We))return function rt(We,Ye){return(0,b.Tg)(We).pipe(Ke(Ye),K(Ye))}(We,Ye);if((0,Ai.T)(We))return P(We,Ye);if((0,pt.x)(We))return function ue(We,Ye){return new ie.c(Ht=>{let vi;return(0,O.N)(Ht,Ye,()=>{vi=We[Ce.l](),(0,O.N)(Ht,Ye,()=>{let Et,wi;try{({value:Et,done:wi}=vi.next())}catch(bi){return void Ht.error(bi)}wi?Ht.complete():Ht.next(Et)},0,!0)}),()=>(0,ve.T)(vi?.return)&&vi.return()})}(We,Ye);if((0,q.U)(We))return function Ot(We,Ye){return P((0,q.C)(We),Ye)}(We,Ye)}throw(0,oi.L)(We)}(We,Ye):(0,b.Tg)(We)}},3726:(Ui,ni,N)=>{"use strict";N.d(ni,{R:()=>ee});var b=N(8750),O=N(1985),E=N(1397),ye=N(7441),K=N(8071),Ke=N(6450);const j=["addListener","removeListener"],rt=["addEventListener","removeEventListener"],ie=["on","off"];function ee(Be,Ct,qt,pt){if((0,K.T)(qt)&&(pt=qt,qt=void 0),pt)return ee(Be,Ct,qt).pipe((0,Ke.I)(pt));const[Ai,oi]=function P(Be){return(0,K.T)(Be.addEventListener)&&(0,K.T)(Be.removeEventListener)}(Be)?rt.map(q=>Ot=>Be[q](Ct,Ot,qt)):function ve(Be){return(0,K.T)(Be.addListener)&&(0,K.T)(Be.removeListener)}(Be)?j.map(Ce(Be,Ct)):function ue(Be){return(0,K.T)(Be.on)&&(0,K.T)(Be.off)}(Be)?ie.map(Ce(Be,Ct)):[];if(!Ai&&(0,ye.X)(Be))return(0,E.Z)(q=>ee(q,Ct,qt))((0,b.Tg)(Be));if(!Ai)throw new TypeError("Invalid event target");return new O.c(q=>{const Ot=(...Oe)=>q.next(1<Oe.length?Oe:Oe[0]);return Ai(Ot),()=>oi(Ot)})}function Ce(Be,Ct){return qt=>pt=>Be[qt](Ct,pt)}},8750:(Ui,ni,N)=>{"use strict";N.d(ni,{Tg:()=>ue});var b=N(1635),O=N(7441),E=N(9858),ye=N(1985),K=N(5055),Ke=N(7953),j=N(591),rt=N(5397),ie=N(5196),ee=N(8071),Ce=N(5334),ve=N(3494);function ue(q){if(q instanceof ye.c)return q;if(null!=q){if((0,K.l)(q))return function P(q){return new ye.c(Ot=>{const Oe=q[ve.s]();if((0,ee.T)(Oe.subscribe))return Oe.subscribe(Ot);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(q);if((0,O.X)(q))return function Be(q){return new ye.c(Ot=>{for(let Oe=0;Oe<q.length&&!Ot.closed;Oe++)Ot.next(q[Oe]);Ot.complete()})}(q);if((0,E.y)(q))return function Ct(q){return new ye.c(Ot=>{q.then(Oe=>{Ot.closed||(Ot.next(Oe),Ot.complete())},Oe=>Ot.error(Oe)).then(null,Ce.m)})}(q);if((0,Ke.T)(q))return pt(q);if((0,rt.x)(q))return function qt(q){return new ye.c(Ot=>{for(const Oe of q)if(Ot.next(Oe),Ot.closed)return;Ot.complete()})}(q);if((0,ie.U)(q))return function Ai(q){return pt((0,ie.C)(q))}(q)}throw(0,j.L)(q)}function pt(q){return new ye.c(Ot=>{(function oi(q,Ot){var Oe,Le,We,Ye;return(0,b.sH)(this,void 0,void 0,function*(){try{for(Oe=(0,b.xN)(q);!(Le=yield Oe.next()).done;)if(Ot.next(Le.value),Ot.closed)return}catch(Ht){We={error:Ht}}finally{try{Le&&!Le.done&&(Ye=Oe.return)&&(yield Ye.call(Oe))}finally{if(We)throw We.error}}Ot.complete()})})(q,Ot).catch(Oe=>Ot.error(Oe))})}},7786:(Ui,ni,N)=>{"use strict";N.d(ni,{h:()=>Ke});var b=N(6365),O=N(8750),E=N(983),ye=N(9326),K=N(6648);function Ke(...j){const rt=(0,ye.lI)(j),ie=(0,ye.R0)(j,1/0),ee=j;return ee.length?1===ee.length?(0,O.Tg)(ee[0]):(0,b.U)(ie)((0,K.H)(ee,rt)):E.w}},7673:(Ui,ni,N)=>{"use strict";N.d(ni,{of:()=>E});var b=N(9326),O=N(6648);function E(...ye){const K=(0,b.lI)(ye);return(0,O.H)(ye,K)}},8810:(Ui,ni,N)=>{"use strict";N.d(ni,{$:()=>E});var b=N(1985),O=N(8071);function E(ye,K){const Ke=(0,O.T)(ye)?ye:()=>ye,j=rt=>rt.error(Ke());return new b.c(K?rt=>K.schedule(j,0,rt):j)}},1584:(Ui,ni,N)=>{"use strict";N.d(ni,{O:()=>K});var b=N(1985),O=N(3236),E=N(9470);function K(Ke=0,j,rt=O.b){let ie=-1;return null!=j&&((0,E.m)(j)?rt=j:ie=j),new b.c(ee=>{let Ce=function ye(Ke){return Ke instanceof Date&&!isNaN(Ke)}(Ke)?+Ke-rt.now():Ke;Ce<0&&(Ce=0);let ve=0;return rt.schedule(function(){ee.closed||(ee.next(ve++),0<=ie?this.schedule(void 0,ie):ee.complete())},Ce)})}},4360:(Ui,ni,N)=>{"use strict";N.d(ni,{_:()=>O});var b=N(7707);function O(ye,K,Ke,j,rt){return new E(ye,K,Ke,j,rt)}class E extends b.vU{constructor(K,Ke,j,rt,ie,ee){super(K),this.onFinalize=ie,this.shouldUnsubscribe=ee,this._next=Ke?function(Ce){try{Ke(Ce)}catch(ve){K.error(ve)}}:super._next,this._error=rt?function(Ce){try{rt(Ce)}catch(ve){K.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=j?function(){try{j()}catch(Ce){K.error(Ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ke}=this;super.unsubscribe(),!Ke&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},9437:(Ui,ni,N)=>{"use strict";N.d(ni,{W:()=>ye});var b=N(8750),O=N(4360),E=N(9974);function ye(K){return(0,E.N)((Ke,j)=>{let ee,rt=null,ie=!1;rt=Ke.subscribe((0,O._)(j,void 0,void 0,Ce=>{ee=(0,b.Tg)(K(Ce,ye(K)(Ke))),rt?(rt.unsubscribe(),rt=null,ee.subscribe(j)):ie=!0})),ie&&(rt.unsubscribe(),rt=null,ee.subscribe(j))})}},274:(Ui,ni,N)=>{"use strict";N.d(ni,{H:()=>E});var b=N(1397),O=N(8071);function E(ye,K){return(0,O.T)(K)?(0,b.Z)(ye,K,1):(0,b.Z)(ye,1)}},152:(Ui,ni,N)=>{"use strict";N.d(ni,{B:()=>ye});var b=N(3236),O=N(9974),E=N(4360);function ye(K,Ke=b.E){return(0,O.N)((j,rt)=>{let ie=null,ee=null,Ce=null;const ve=()=>{if(ie){ie.unsubscribe(),ie=null;const P=ee;ee=null,rt.next(P)}};function ue(){const P=Ce+K,Be=Ke.now();if(Be<P)return ie=this.schedule(void 0,P-Be),void rt.add(ie);ve()}j.subscribe((0,E._)(rt,P=>{ee=P,Ce=Ke.now(),ie||(ie=Ke.schedule(ue,K),rt.add(ie))},()=>{ve(),rt.complete()},void 0,()=>{ee=ie=null}))})}},3294:(Ui,ni,N)=>{"use strict";N.d(ni,{F:()=>ye});var b=N(3669),O=N(9974),E=N(4360);function ye(Ke,j=b.D){return Ke=Ke??K,(0,O.N)((rt,ie)=>{let ee,Ce=!0;rt.subscribe((0,E._)(ie,ve=>{const ue=j(ve);(Ce||!Ke(ee,ue))&&(Ce=!1,ee=ue,ie.next(ve))}))})}function K(Ke,j){return Ke===j}},5964:(Ui,ni,N)=>{"use strict";N.d(ni,{p:()=>E});var b=N(9974),O=N(4360);function E(ye,K){return(0,b.N)((Ke,j)=>{let rt=0;Ke.subscribe((0,O._)(j,ie=>ye.call(K,ie,rt++)&&j.next(ie)))})}},980:(Ui,ni,N)=>{"use strict";N.d(ni,{j:()=>O});var b=N(9974);function O(E){return(0,b.N)((ye,K)=>{try{ye.subscribe(K)}finally{K.add(E)}})}},6354:(Ui,ni,N)=>{"use strict";N.d(ni,{T:()=>E});var b=N(9974),O=N(4360);function E(ye,K){return(0,b.N)((Ke,j)=>{let rt=0;Ke.subscribe((0,O._)(j,ie=>{j.next(ye.call(K,ie,rt++))}))})}},3703:(Ui,ni,N)=>{"use strict";N.d(ni,{u:()=>O});var b=N(6354);function O(E){return(0,b.T)(()=>E)}},6365:(Ui,ni,N)=>{"use strict";N.d(ni,{U:()=>E});var b=N(1397),O=N(3669);function E(ye=1/0){return(0,b.Z)(O.D,ye)}},1397:(Ui,ni,N)=>{"use strict";N.d(ni,{Z:()=>rt});var b=N(6354),O=N(8750),E=N(9974),ye=N(5225),K=N(4360),j=N(8071);function rt(ie,ee,Ce=1/0){return(0,j.T)(ee)?rt((ve,ue)=>(0,b.T)((P,Be)=>ee(ve,P,ue,Be))((0,O.Tg)(ie(ve,ue))),Ce):("number"==typeof ee&&(Ce=ee),(0,E.N)((ve,ue)=>function Ke(ie,ee,Ce,ve,ue,P,Be,Ct){const qt=[];let pt=0,Ai=0,oi=!1;const q=()=>{oi&&!qt.length&&!pt&&ee.complete()},Ot=Le=>pt<ve?Oe(Le):qt.push(Le),Oe=Le=>{P&&ee.next(Le),pt++;let We=!1;(0,O.Tg)(Ce(Le,Ai++)).subscribe((0,K._)(ee,Ye=>{ue?.(Ye),P?Ot(Ye):ee.next(Ye)},()=>{We=!0},void 0,()=>{if(We)try{for(pt--;qt.length&&pt<ve;){const Ye=qt.shift();Be?(0,ye.N)(ee,Be,()=>Oe(Ye)):Oe(Ye)}q()}catch(Ye){ee.error(Ye)}}))};return ie.subscribe((0,K._)(ee,Ot,()=>{oi=!0,q()})),()=>{Ct?.()}}(ve,ue,ie,Ce)))}},9898:(Ui,ni,N)=>{"use strict";N.d(ni,{B:()=>E});var b=N(9974),O=N(4360);function E(){return(0,b.N)((ye,K)=>{let Ke=null;ye._refCount++;const j=(0,O._)(K,void 0,void 0,void 0,()=>{if(!ye||ye._refCount<=0||0<--ye._refCount)return void(Ke=null);const rt=ye._connection,ie=Ke;Ke=null,rt&&(!ie||rt===ie)&&rt.unsubscribe(),K.unsubscribe()});ye.subscribe(j),j.closed||(Ke=ye.connect())})}},7647:(Ui,ni,N)=>{"use strict";N.d(ni,{u:()=>K});var b=N(8750),O=N(1413),E=N(7707),ye=N(9974);function K(j={}){const{connector:rt=(()=>new O.B),resetOnError:ie=!0,resetOnComplete:ee=!0,resetOnRefCountZero:Ce=!0}=j;return ve=>{let ue,P,Be,Ct=0,qt=!1,pt=!1;const Ai=()=>{P?.unsubscribe(),P=void 0},oi=()=>{Ai(),ue=Be=void 0,qt=pt=!1},q=()=>{const Ot=ue;oi(),Ot?.unsubscribe()};return(0,ye.N)((Ot,Oe)=>{Ct++,!pt&&!qt&&Ai();const Le=Be=Be??rt();Oe.add(()=>{Ct--,0===Ct&&!pt&&!qt&&(P=Ke(q,Ce))}),Le.subscribe(Oe),!ue&&Ct>0&&(ue=new E.Ms({next:We=>Le.next(We),error:We=>{pt=!0,Ai(),P=Ke(oi,ie,We),Le.error(We)},complete:()=>{qt=!0,Ai(),P=Ke(oi,ee),Le.complete()}}),(0,b.Tg)(Ot).subscribe(ue))})(ve)}}function Ke(j,rt,...ie){if(!0===rt)return void j();if(!1===rt)return;const ee=new E.Ms({next:()=>{ee.unsubscribe(),j()}});return(0,b.Tg)(rt(...ie)).subscribe(ee)}},5245:(Ui,ni,N)=>{"use strict";N.d(ni,{i:()=>O});var b=N(5964);function O(E){return(0,b.p)((ye,K)=>E<=K)}},9172:(Ui,ni,N)=>{"use strict";N.d(ni,{Z:()=>ye});var b=N(8793),O=N(9326),E=N(9974);function ye(...K){const Ke=(0,O.lI)(K);return(0,E.N)((j,rt)=>{(Ke?(0,b.x)(K,j,Ke):(0,b.x)(K,j)).subscribe(rt)})}},5558:(Ui,ni,N)=>{"use strict";N.d(ni,{n:()=>ye});var b=N(8750),O=N(9974),E=N(4360);function ye(K,Ke){return(0,O.N)((j,rt)=>{let ie=null,ee=0,Ce=!1;const ve=()=>Ce&&!ie&&rt.complete();j.subscribe((0,E._)(rt,ue=>{ie?.unsubscribe();let P=0;const Be=ee++;(0,b.Tg)(K(ue,Be)).subscribe(ie=(0,E._)(rt,Ct=>rt.next(Ke?Ke(ue,Ct,Be,P++):Ct),()=>{ie=null,ve()}))},()=>{Ce=!0,ve()}))})}},6697:(Ui,ni,N)=>{"use strict";N.d(ni,{s:()=>ye});var b=N(983),O=N(9974),E=N(4360);function ye(K){return K<=0?()=>b.w:(0,O.N)((Ke,j)=>{let rt=0;Ke.subscribe((0,E._)(j,ie=>{++rt<=K&&(j.next(ie),K<=rt&&j.complete())}))})}},6977:(Ui,ni,N)=>{"use strict";N.d(ni,{Q:()=>K});var b=N(9974),O=N(4360),E=N(8750),ye=N(5343);function K(Ke){return(0,b.N)((j,rt)=>{(0,E.Tg)(Ke).subscribe((0,O._)(rt,()=>rt.complete(),ye.l)),!rt.closed&&j.subscribe(rt)})}},8141:(Ui,ni,N)=>{"use strict";N.d(ni,{M:()=>K});var b=N(8071),O=N(9974),E=N(4360),ye=N(3669);function K(Ke,j,rt){const ie=(0,b.T)(Ke)||j||rt?{next:Ke,error:j,complete:rt}:Ke;return ie?(0,O.N)((ee,Ce)=>{var ve;null===(ve=ie.subscribe)||void 0===ve||ve.call(ie);let ue=!0;ee.subscribe((0,E._)(Ce,P=>{var Be;null===(Be=ie.next)||void 0===Be||Be.call(ie,P),Ce.next(P)},()=>{var P;ue=!1,null===(P=ie.complete)||void 0===P||P.call(ie),Ce.complete()},P=>{var Be;ue=!1,null===(Be=ie.error)||void 0===Be||Be.call(ie,P),Ce.error(P)},()=>{var P,Be;ue&&(null===(P=ie.unsubscribe)||void 0===P||P.call(ie)),null===(Be=ie.finalize)||void 0===Be||Be.call(ie)}))}):ye.D}},6780:(Ui,ni,N)=>{"use strict";N.d(ni,{R:()=>K});var b=N(8359);class O extends b.yU{constructor(j,rt){super()}schedule(j,rt=0){return this}}const E={setInterval(Ke,j,...rt){const{delegate:ie}=E;return ie?.setInterval?ie.setInterval(Ke,j,...rt):setInterval(Ke,j,...rt)},clearInterval(Ke){const{delegate:j}=E;return(j?.clearInterval||clearInterval)(Ke)},delegate:void 0};var ye=N(7908);class K extends O{constructor(j,rt){super(j,rt),this.scheduler=j,this.work=rt,this.pending=!1}schedule(j,rt=0){var ie;if(this.closed)return this;this.state=j;const ee=this.id,Ce=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(Ce,ee,rt)),this.pending=!0,this.delay=rt,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Ce,this.id,rt),this}requestAsyncId(j,rt,ie=0){return E.setInterval(j.flush.bind(j,this),ie)}recycleAsyncId(j,rt,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return rt;null!=rt&&E.clearInterval(rt)}execute(j,rt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(j,rt);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,rt){let ee,ie=!1;try{this.work(j)}catch(Ce){ie=!0,ee=Ce||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:j,scheduler:rt}=this,{actions:ie}=rt;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ye.o)(ie,this),null!=j&&(this.id=this.recycleAsyncId(rt,j,null)),this.delay=null,super.unsubscribe()}}}},9687:(Ui,ni,N)=>{"use strict";N.d(ni,{q:()=>E});var b=N(6129);class O{constructor(K,Ke=O.now){this.schedulerActionCtor=K,this.now=Ke}schedule(K,Ke=0,j){return new this.schedulerActionCtor(this,K).schedule(j,Ke)}}O.now=b.U.now;class E extends O{constructor(K,Ke=O.now){super(K,Ke),this.actions=[],this._active=!1}flush(K){const{actions:Ke}=this;if(this._active)return void Ke.push(K);let j;this._active=!0;do{if(j=K.execute(K.state,K.delay))break}while(K=Ke.shift());if(this._active=!1,j){for(;K=Ke.shift();)K.unsubscribe();throw j}}}},3236:(Ui,ni,N)=>{"use strict";N.d(ni,{E:()=>E,b:()=>ye});var b=N(6780);const E=new(N(9687).q)(b.R),ye=E},6129:(Ui,ni,N)=>{"use strict";N.d(ni,{U:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},9270:(Ui,ni,N)=>{"use strict";N.d(ni,{f:()=>b});const b={setTimeout(O,E,...ye){const{delegate:K}=b;return K?.setTimeout?K.setTimeout(O,E,...ye):setTimeout(O,E,...ye)},clearTimeout(O){const{delegate:E}=b;return(E?.clearTimeout||clearTimeout)(O)},delegate:void 0}},4761:(Ui,ni,N)=>{"use strict";N.d(ni,{l:()=>O});const O=function b(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ui,ni,N)=>{"use strict";N.d(ni,{s:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Ui,ni,N)=>{"use strict";N.d(ni,{R0:()=>Ke,lI:()=>K,ms:()=>ye});var b=N(8071),O=N(9470);function E(j){return j[j.length-1]}function ye(j){return(0,b.T)(E(j))?j.pop():void 0}function K(j){return(0,O.m)(E(j))?j.pop():void 0}function Ke(j,rt){return"number"==typeof E(j)?j.pop():rt}},3073:(Ui,ni,N)=>{"use strict";N.d(ni,{D:()=>K});const{isArray:b}=Array,{getPrototypeOf:O,prototype:E,keys:ye}=Object;function K(j){if(1===j.length){const rt=j[0];if(b(rt))return{args:rt,keys:null};if(function Ke(j){return j&&"object"==typeof j&&O(j)===E}(rt)){const ie=ye(rt);return{args:ie.map(ee=>rt[ee]),keys:ie}}}return{args:j,keys:null}}},7908:(Ui,ni,N)=>{"use strict";function b(O,E){if(O){const ye=O.indexOf(E);0<=ye&&O.splice(ye,1)}}N.d(ni,{o:()=>b})},1853:(Ui,ni,N)=>{"use strict";function b(O){const ye=O(K=>{Error.call(K),K.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}N.d(ni,{L:()=>b})},8496:(Ui,ni,N)=>{"use strict";function b(O,E){return O.reduce((ye,K,Ke)=>(ye[K]=E[Ke],ye),{})}N.d(ni,{e:()=>b})},9786:(Ui,ni,N)=>{"use strict";N.d(ni,{Y:()=>E,l:()=>ye});var b=N(1026);let O=null;function E(K){if(b.$.useDeprecatedSynchronousErrorHandling){const Ke=!O;if(Ke&&(O={errorThrown:!1,error:null}),K(),Ke){const{errorThrown:j,error:rt}=O;if(O=null,j)throw rt}}else K()}function ye(K){b.$.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=K)}},5225:(Ui,ni,N)=>{"use strict";function b(O,E,ye,K=0,Ke=!1){const j=E.schedule(function(){ye(),Ke?O.add(this.schedule(null,K)):this.unsubscribe()},K);if(O.add(j),!Ke)return j}N.d(ni,{N:()=>b})},3669:(Ui,ni,N)=>{"use strict";function b(O){return O}N.d(ni,{D:()=>b})},7441:(Ui,ni,N)=>{"use strict";N.d(ni,{X:()=>b});const b=O=>O&&"number"==typeof O.length&&"function"!=typeof O},7953:(Ui,ni,N)=>{"use strict";N.d(ni,{T:()=>O});var b=N(8071);function O(E){return Symbol.asyncIterator&&(0,b.T)(E?.[Symbol.asyncIterator])}},8071:(Ui,ni,N)=>{"use strict";function b(O){return"function"==typeof O}N.d(ni,{T:()=>b})},5055:(Ui,ni,N)=>{"use strict";N.d(ni,{l:()=>E});var b=N(3494),O=N(8071);function E(ye){return(0,O.T)(ye[b.s])}},5397:(Ui,ni,N)=>{"use strict";N.d(ni,{x:()=>E});var b=N(4761),O=N(8071);function E(ye){return(0,O.T)(ye?.[b.l])}},4402:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>E});var b=N(1985),O=N(8071);function E(ye){return!!ye&&(ye instanceof b.c||(0,O.T)(ye.lift)&&(0,O.T)(ye.subscribe))}},9858:(Ui,ni,N)=>{"use strict";N.d(ni,{y:()=>O});var b=N(8071);function O(E){return(0,b.T)(E?.then)}},5196:(Ui,ni,N)=>{"use strict";N.d(ni,{C:()=>E,U:()=>ye});var b=N(1635),O=N(8071);function E(K){return(0,b.AQ)(this,arguments,function*(){const j=K.getReader();try{for(;;){const{value:rt,done:ie}=yield(0,b.N3)(j.read());if(ie)return yield(0,b.N3)(void 0);yield yield(0,b.N3)(rt)}}finally{j.releaseLock()}})}function ye(K){return(0,O.T)(K?.getReader)}},9470:(Ui,ni,N)=>{"use strict";N.d(ni,{m:()=>O});var b=N(8071);function O(E){return E&&(0,b.T)(E.schedule)}},9974:(Ui,ni,N)=>{"use strict";N.d(ni,{N:()=>E,S:()=>O});var b=N(8071);function O(ye){return(0,b.T)(ye?.lift)}function E(ye){return K=>{if(O(K))return K.lift(function(Ke){try{return ye(Ke,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Ui,ni,N)=>{"use strict";N.d(ni,{I:()=>ye});var b=N(6354);const{isArray:O}=Array;function ye(K){return(0,b.T)(Ke=>function E(K,Ke){return O(Ke)?K(...Ke):K(Ke)}(K,Ke))}},5343:(Ui,ni,N)=>{"use strict";function b(){}N.d(ni,{l:()=>b})},1203:(Ui,ni,N)=>{"use strict";N.d(ni,{F:()=>O,m:()=>E});var b=N(3669);function O(...ye){return E(ye)}function E(ye){return 0===ye.length?b.D:1===ye.length?ye[0]:function(Ke){return ye.reduce((j,rt)=>rt(j),Ke)}}},5334:(Ui,ni,N)=>{"use strict";N.d(ni,{m:()=>E});var b=N(1026),O=N(9270);function E(ye){O.f.setTimeout(()=>{const{onUnhandledError:K}=b.$;if(!K)throw ye;K(ye)})}},591:(Ui,ni,N)=>{"use strict";function b(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ni,{L:()=>b})},4798:Ui=>{"use strict";function ni(N,b){this.text=N=N||"",this.hasWild=~N.indexOf("*"),this.separator=b,this.parts=N.split(b)}ni.prototype.match=function(N){var E,K,b=!0,O=this.parts,ye=O.length;if("string"==typeof N||N instanceof String)if(this.hasWild||this.text==N){for(K=(N||"").split(this.separator),E=0;b&&E<ye;E++)"*"!==O[E]&&(b=E<K.length&&O[E]===K[E]);b=b&&K}else b=!1;else if("function"==typeof N.splice)for(b=[],E=N.length;E--;)this.match(N[E])&&(b[b.length]=N[E]);else if("object"==typeof N)for(var Ke in b={},N)this.match(Ke)&&(b[Ke]=N[Ke]);return b},Ui.exports=function(N,b,O){var E=new ni(N,O||/[\/\.]/);return typeof b<"u"?E.match(b):E}},1903:()=>{},4394:()=>{},8709:(Ui,ni)=>{var b;!function(){"use strict";var O={}.hasOwnProperty;function E(){for(var Ke="",j=0;j<arguments.length;j++){var rt=arguments[j];rt&&(Ke=K(Ke,ye(rt)))}return Ke}function ye(Ke){if("string"==typeof Ke||"number"==typeof Ke)return Ke;if("object"!=typeof Ke)return"";if(Array.isArray(Ke))return E.apply(null,Ke);if(Ke.toString!==Object.prototype.toString&&!Ke.toString.toString().includes("[native code]"))return Ke.toString();var j="";for(var rt in Ke)O.call(Ke,rt)&&Ke[rt]&&(j=K(j,rt));return j}function K(Ke,j){return j?Ke?Ke+" "+j:Ke+j:Ke}Ui.exports?(E.default=E,Ui.exports=E):void 0!==(b=function(){return E}.apply(ni,[]))&&(Ui.exports=b)}()},9969:(Ui,ni,N)=>{"use strict";N.d(ni,{FX:()=>Ai,K2:()=>j,MA:()=>ue,Os:()=>Ke,P:()=>Be,Ro:()=>O,S6:()=>b,hZ:()=>ye,i0:()=>K,i7:()=>ee,iF:()=>rt,kY:()=>Ce,kp:()=>E,sf:()=>qt,ui:()=>pt,wk:()=>ie,yc:()=>Ct});class b{}class O{}const E="*";function ye(oi,q){return{type:7,name:oi,definitions:q,options:{}}}function K(oi,q=null){return{type:4,styles:q,timings:oi}}function Ke(oi,q=null){return{type:3,steps:oi,options:q}}function j(oi,q=null){return{type:2,steps:oi,options:q}}function rt(oi){return{type:6,styles:oi,offset:null}}function ie(oi,q,Ot){return{type:0,name:oi,styles:q,options:Ot}}function ee(oi){return{type:5,steps:oi}}function Ce(oi,q,Ot=null){return{type:1,expr:oi,animation:q,options:Ot}}function ue(oi=null){return{type:9,options:oi}}function Be(oi,q,Ot=null){return{type:11,selector:oi,animation:q,options:Ot}}function Ct(oi,q){return{type:12,timings:oi,animation:q}}class qt{constructor(q=0,Ot=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=q+Ot}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}onStart(q){this._originalOnStartFns.push(q),this._onStartFns.push(q)}onDone(q){this._originalOnDoneFns.push(q),this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(q=>q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(q){this._position=this.totalTime?q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(q){const Ot="start"==q?this._onStartFns:this._onDoneFns;Ot.forEach(Oe=>Oe()),Ot.length=0}}class pt{constructor(q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=q;let Ot=0,Oe=0,Le=0;const We=this.players.length;0==We?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ye=>{Ye.onDone(()=>{++Ot==We&&this._onFinish()}),Ye.onDestroy(()=>{++Oe==We&&this._onDestroy()}),Ye.onStart(()=>{++Le==We&&this._onStart()})}),this.totalTime=this.players.reduce((Ye,Ht)=>Math.max(Ye,Ht.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(q=>q()),this._onDoneFns=[])}init(){this.players.forEach(q=>q.init())}onStart(q){this._onStartFns.push(q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(q=>q()),this._onStartFns=[])}onDone(q){this._onDoneFns.push(q)}onDestroy(q){this._onDestroyFns.push(q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(q=>q.play())}pause(){this.players.forEach(q=>q.pause())}restart(){this.players.forEach(q=>q.restart())}finish(){this._onFinish(),this.players.forEach(q=>q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(q=>q.destroy()),this._onDestroyFns.forEach(q=>q()),this._onDestroyFns=[])}reset(){this.players.forEach(q=>q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(q){const Ot=q*this.totalTime;this.players.forEach(Oe=>{const Le=Oe.totalTime?Math.min(1,Ot/Oe.totalTime):1;Oe.setPosition(Le)})}getPosition(){const q=this.players.reduce((Ot,Oe)=>null===Ot||Oe.totalTime>Ot.totalTime?Oe:Ot,null);return null!=q?q.getPosition():0}beforeDestroy(){this.players.forEach(q=>{q.beforeDestroy&&q.beforeDestroy()})}triggerCallback(q){const Ot="start"==q?this._onStartFns:this._onDoneFns;Ot.forEach(Oe=>Oe()),Ot.length=0}}const Ai="!"},8617:(Ui,ni,N)=>{"use strict";N.d(ni,{Ae:()=>Ot,Ai:()=>ui,Au:()=>Ci,Bu:()=>an,FN:()=>Dt,GX:()=>ft,Pd:()=>Pe,Q_:()=>Gt,Z7:()=>Cn,_G:()=>dn,kB:()=>Wt,px:()=>q,vR:()=>je,vr:()=>vi,w6:()=>gn});var b=N(177),O=N(7705),E=N(6860),ye=N(1413),K=N(8359),Ke=N(4412),j=N(7673),rt=N(7336),ie=N(8141),ee=N(152),Ce=N(5964),ve=N(6354),ue=N(6697),P=N(5245),Be=N(3294),Ct=N(6977),qt=N(4085),pt=N(2318),Ai=N(9327);const oi=" ";function q(te,ge,Re){const Ve=Oe(te,ge);Ve.some(zt=>zt.trim()==Re.trim())||(Ve.push(Re.trim()),te.setAttribute(ge,Ve.join(oi)))}function Ot(te,ge,Re){const zt=Oe(te,ge).filter(Ri=>Ri!=Re.trim());zt.length?te.setAttribute(ge,zt.join(oi)):te.removeAttribute(ge)}function Oe(te,ge){return(te.getAttribute(ge)||"").match(/\S+/g)||[]}const We="cdk-describedby-message",Ye="cdk-describedby-host";let Ht=0,vi=(()=>{class te{constructor(Re,Ve){this._platform=Ve,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Ht++,this._document=Re,this._id=(0,O.WQX)(O.sZ2)+"-"+Ht++}describe(Re,Ve,zt){if(!this._canBeDescribed(Re,Ve))return;const Ri=Et(Ve,zt);"string"!=typeof Ve?(wi(Ve,this._id),this._messageRegistry.set(Ri,{messageElement:Ve,referenceCount:0})):this._messageRegistry.has(Ri)||this._createMessageElement(Ve,zt),this._isElementDescribedByMessage(Re,Ri)||this._addMessageReference(Re,Ri)}removeDescription(Re,Ve,zt){if(!Ve||!this._isElementNode(Re))return;const Ri=Et(Ve,zt);if(this._isElementDescribedByMessage(Re,Ri)&&this._removeMessageReference(Re,Ri),"string"==typeof Ve){const _t=this._messageRegistry.get(Ri);_t&&0===_t.referenceCount&&this._deleteMessageElement(Ri)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const Re=this._document.querySelectorAll(`[${Ye}="${this._id}"]`);for(let Ve=0;Ve<Re.length;Ve++)this._removeCdkDescribedByReferenceIds(Re[Ve]),Re[Ve].removeAttribute(Ye);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(Re,Ve){const zt=this._document.createElement("div");wi(zt,this._id),zt.textContent=Re,Ve&&zt.setAttribute("role",Ve),this._createMessagesContainer(),this._messagesContainer.appendChild(zt),this._messageRegistry.set(Et(Re,Ve),{messageElement:zt,referenceCount:0})}_deleteMessageElement(Re){this._messageRegistry.get(Re)?.messageElement?.remove(),this._messageRegistry.delete(Re)}_createMessagesContainer(){if(this._messagesContainer)return;const Re="cdk-describedby-message-container",Ve=this._document.querySelectorAll(`.${Re}[platform="server"]`);for(let Ri=0;Ri<Ve.length;Ri++)Ve[Ri].remove();const zt=this._document.createElement("div");zt.style.visibility="hidden",zt.classList.add(Re),zt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&zt.setAttribute("platform","server"),this._document.body.appendChild(zt),this._messagesContainer=zt}_removeCdkDescribedByReferenceIds(Re){const Ve=Oe(Re,"aria-describedby").filter(zt=>0!=zt.indexOf(We));Re.setAttribute("aria-describedby",Ve.join(" "))}_addMessageReference(Re,Ve){const zt=this._messageRegistry.get(Ve);q(Re,"aria-describedby",zt.messageElement.id),Re.setAttribute(Ye,this._id),zt.referenceCount++}_removeMessageReference(Re,Ve){const zt=this._messageRegistry.get(Ve);zt.referenceCount--,Ot(Re,"aria-describedby",zt.messageElement.id),Re.removeAttribute(Ye)}_isElementDescribedByMessage(Re,Ve){const zt=Oe(Re,"aria-describedby"),Ri=this._messageRegistry.get(Ve),_t=Ri&&Ri.messageElement.id;return!!_t&&-1!=zt.indexOf(_t)}_canBeDescribed(Re,Ve){if(!this._isElementNode(Re))return!1;if(Ve&&"object"==typeof Ve)return!0;const zt=null==Ve?"":`${Ve}`.trim(),Ri=Re.getAttribute("aria-label");return!(!zt||Ri&&Ri.trim()===zt)}_isElementNode(Re){return Re.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(b.qQ),O.KVO(E.OD))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})();function Et(te,ge){return"string"==typeof te?`${ge||""}/${te}`:te}function wi(te,ge){te.id||(te.id=`${We}-${ge}-${Ht++}`)}class bi{constructor(ge){this._items=ge,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ye.B,this._typeaheadSubscription=K.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Re=>Re.disabled,this._pressedLetters=[],this.tabOut=new ye.B,this.change=new ye.B,ge instanceof O.rOR&&(this._itemChangesSubscription=ge.changes.subscribe(Re=>{if(this._activeItem){const zt=Re.toArray().indexOf(this._activeItem);zt>-1&&zt!==this._activeItemIndex&&(this._activeItemIndex=zt)}}))}skipPredicate(ge){return this._skipPredicateFn=ge,this}withWrap(ge=!0){return this._wrap=ge,this}withVerticalOrientation(ge=!0){return this._vertical=ge,this}withHorizontalOrientation(ge){return this._horizontal=ge,this}withAllowedModifierKeys(ge){return this._allowedModifierKeys=ge,this}withTypeAhead(ge=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ie.M)(Re=>this._pressedLetters.push(Re)),(0,ee.B)(ge),(0,Ce.p)(()=>this._pressedLetters.length>0),(0,ve.T)(()=>this._pressedLetters.join(""))).subscribe(Re=>{const Ve=this._getItemsArray();for(let zt=1;zt<Ve.length+1;zt++){const Ri=(this._activeItemIndex+zt)%Ve.length,_t=Ve[Ri];if(!this._skipPredicateFn(_t)&&0===_t.getLabel().toUpperCase().trim().indexOf(Re)){this.setActiveItem(Ri);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ge=!0){return this._homeAndEnd=ge,this}withPageUpDown(ge=!0,Re=10){return this._pageUpAndDown={enabled:ge,delta:Re},this}setActiveItem(ge){const Re=this._activeItem;this.updateActiveItem(ge),this._activeItem!==Re&&this.change.next(this._activeItemIndex)}onKeydown(ge){const Re=ge.keyCode,zt=["altKey","ctrlKey","metaKey","shiftKey"].every(Ri=>!ge[Ri]||this._allowedModifierKeys.indexOf(Ri)>-1);switch(Re){case rt.wn:return void this.tabOut.next();case rt.n6:if(this._vertical&&zt){this.setNextItemActive();break}return;case rt.i7:if(this._vertical&&zt){this.setPreviousItemActive();break}return;case rt.LE:if(this._horizontal&&zt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case rt.UQ:if(this._horizontal&&zt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case rt.yZ:if(this._homeAndEnd&&zt){this.setFirstItemActive();break}return;case rt.Kp:if(this._homeAndEnd&&zt){this.setLastItemActive();break}return;case rt.w_:if(this._pageUpAndDown.enabled&&zt){const Ri=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ri>0?Ri:0,1);break}return;case rt.dB:if(this._pageUpAndDown.enabled&&zt){const Ri=this._activeItemIndex+this._pageUpAndDown.delta,_t=this._getItemsArray().length;this._setActiveItemByIndex(Ri<_t?Ri:_t-1,-1);break}return;default:return void((zt||(0,rt.rp)(ge,"shiftKey"))&&(ge.key&&1===ge.key.length?this._letterKeyStream.next(ge.key.toLocaleUpperCase()):(Re>=rt.A&&Re<=rt.Z||Re>=rt.f2&&Re<=rt.bn)&&this._letterKeyStream.next(String.fromCharCode(Re))))}this._pressedLetters=[],ge.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ge){const Re=this._getItemsArray(),Ve="number"==typeof ge?ge:Re.indexOf(ge);this._activeItem=Re[Ve]??null,this._activeItemIndex=Ve}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ge){this._wrap?this._setActiveInWrapMode(ge):this._setActiveInDefaultMode(ge)}_setActiveInWrapMode(ge){const Re=this._getItemsArray();for(let Ve=1;Ve<=Re.length;Ve++){const zt=(this._activeItemIndex+ge*Ve+Re.length)%Re.length;if(!this._skipPredicateFn(Re[zt]))return void this.setActiveItem(zt)}}_setActiveInDefaultMode(ge){this._setActiveItemByIndex(this._activeItemIndex+ge,ge)}_setActiveItemByIndex(ge,Re){const Ve=this._getItemsArray();if(Ve[ge]){for(;this._skipPredicateFn(Ve[ge]);)if(!Ve[ge+=Re])return;this.setActiveItem(ge)}}_getItemsArray(){return this._items instanceof O.rOR?this._items.toArray():this._items}}class Ci extends bi{setActiveItem(ge){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(ge),this.activeItem&&this.activeItem.setActiveStyles()}}class an extends bi{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ge){return this._origin=ge,this}setActiveItem(ge){super.setActiveItem(ge),this.activeItem&&this.activeItem.focus(this._origin)}}let Cn=(()=>{class te{constructor(Re){this._platform=Re}isDisabled(Re){return Re.hasAttribute("disabled")}isVisible(Re){return function lt(te){return!!(te.offsetWidth||te.offsetHeight||"function"==typeof te.getClientRects&&te.getClientRects().length)}(Re)&&"visible"===getComputedStyle(Re).visibility}isTabbable(Re){if(!this._platform.isBrowser)return!1;const Ve=function Qt(te){try{return te.frameElement}catch{return null}}(function ct(te){return te.ownerDocument&&te.ownerDocument.defaultView||window}(Re));if(Ve&&(-1===di(Ve)||!this.isVisible(Ve)))return!1;let zt=Re.nodeName.toLowerCase(),Ri=di(Re);return Re.hasAttribute("contenteditable")?-1!==Ri:!("iframe"===zt||"object"===zt||this._platform.WEBKIT&&this._platform.IOS&&!function st(te){let ge=te.nodeName.toLowerCase(),Re="input"===ge&&te.type;return"text"===Re||"password"===Re||"select"===ge||"textarea"===ge}(Re))&&("audio"===zt?!!Re.hasAttribute("controls")&&-1!==Ri:"video"===zt?-1!==Ri&&(null!==Ri||this._platform.FIREFOX||Re.hasAttribute("controls")):Re.tabIndex>=0)}isFocusable(Re,Ve){return function ri(te){return!function ii(te){return function yt(te){return"input"==te.nodeName.toLowerCase()}(te)&&"hidden"==te.type}(te)&&(function wt(te){let ge=te.nodeName.toLowerCase();return"input"===ge||"select"===ge||"button"===ge||"textarea"===ge}(te)||function ut(te){return function Zt(te){return"a"==te.nodeName.toLowerCase()}(te)&&te.hasAttribute("href")}(te)||te.hasAttribute("contenteditable")||Tt(te))}(Re)&&!this.isDisabled(Re)&&(Ve?.ignoreVisibility||this.isVisible(Re))}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(E.OD))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})();function Tt(te){if(!te.hasAttribute("tabindex")||void 0===te.tabIndex)return!1;let ge=te.getAttribute("tabindex");return!(!ge||isNaN(parseInt(ge,10)))}function di(te){if(!Tt(te))return null;const ge=parseInt(te.getAttribute("tabindex")||"",10);return isNaN(ge)?-1:ge}class Ut{get enabled(){return this._enabled}set enabled(ge){this._enabled=ge,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ge,this._startAnchor),this._toggleAnchorTabIndex(ge,this._endAnchor))}constructor(ge,Re,Ve,zt,Ri=!1){this._element=ge,this._checker=Re,this._ngZone=Ve,this._document=zt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ri||this.attachAnchors()}destroy(){const ge=this._startAnchor,Re=this._endAnchor;ge&&(ge.removeEventListener("focus",this.startAnchorListener),ge.remove()),Re&&(Re.removeEventListener("focus",this.endAnchorListener),Re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ge){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusInitialElement(ge)))})}focusFirstTabbableElementWhenReady(ge){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusFirstTabbableElement(ge)))})}focusLastTabbableElementWhenReady(ge){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusLastTabbableElement(ge)))})}_getRegionBoundary(ge){const Re=this._element.querySelectorAll(`[cdk-focus-region-${ge}], [cdkFocusRegion${ge}], [cdk-focus-${ge}]`);return"start"==ge?Re.length?Re[0]:this._getFirstTabbableElement(this._element):Re.length?Re[Re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ge){const Re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Re){if(!this._checker.isFocusable(Re)){const Ve=this._getFirstTabbableElement(Re);return Ve?.focus(ge),!!Ve}return Re.focus(ge),!0}return this.focusFirstTabbableElement(ge)}focusFirstTabbableElement(ge){const Re=this._getRegionBoundary("start");return Re&&Re.focus(ge),!!Re}focusLastTabbableElement(ge){const Re=this._getRegionBoundary("end");return Re&&Re.focus(ge),!!Re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ge){if(this._checker.isFocusable(ge)&&this._checker.isTabbable(ge))return ge;const Re=ge.children;for(let Ve=0;Ve<Re.length;Ve++){const zt=Re[Ve].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Re[Ve]):null;if(zt)return zt}return null}_getLastTabbableElement(ge){if(this._checker.isFocusable(ge)&&this._checker.isTabbable(ge))return ge;const Re=ge.children;for(let Ve=Re.length-1;Ve>=0;Ve--){const zt=Re[Ve].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Re[Ve]):null;if(zt)return zt}return null}_createAnchor(){const ge=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ge),ge.classList.add("cdk-visually-hidden"),ge.classList.add("cdk-focus-trap-anchor"),ge.setAttribute("aria-hidden","true"),ge}_toggleAnchorTabIndex(ge,Re){ge?Re.setAttribute("tabindex","0"):Re.removeAttribute("tabindex")}toggleAnchors(ge){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ge,this._startAnchor),this._toggleAnchorTabIndex(ge,this._endAnchor))}_executeOnStable(ge){this._ngZone.isStable?ge():this._ngZone.onStable.pipe((0,ue.s)(1)).subscribe(ge)}}let ft=(()=>{class te{constructor(Re,Ve,zt){this._checker=Re,this._ngZone=Ve,this._document=zt}create(Re,Ve=!1){return new Ut(Re,this._checker,this._ngZone,this._document,Ve)}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(Cn),O.KVO(O.SKi),O.KVO(b.qQ))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})(),Wt=(()=>{class te{get enabled(){return this.focusTrap.enabled}set enabled(Re){this.focusTrap.enabled=(0,qt.he)(Re)}get autoCapture(){return this._autoCapture}set autoCapture(Re){this._autoCapture=(0,qt.he)(Re)}constructor(Re,Ve,zt){this._elementRef=Re,this._focusTrapFactory=Ve,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Re){const Ve=Re.autoCapture;Ve&&!Ve.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,E.vc)(),this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.rXU(O.aKT),O.rXU(ft),O.rXU(b.qQ))}}static{this.\u0275dir=O.FsC({type:te,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[O.OA$]})}}return te})();function dn(te){return 0===te.buttons||0===te.detail}function gn(te){const ge=te.touches&&te.touches[0]||te.changedTouches&&te.changedTouches[0];return!(!ge||-1!==ge.identifier||null!=ge.radiusX&&1!==ge.radiusX||null!=ge.radiusY&&1!==ge.radiusY)}const Sn=new O.nKC("cdk-input-modality-detector-options"),Ni={ignoreKeys:[rt.A$,rt.W3,rt.eg,rt.Ge,rt.FX]},mt=(0,E.BQ)({passive:!0,capture:!0});let jt=(()=>{class te{get mostRecentModality(){return this._modality.value}constructor(Re,Ve,zt,Ri){this._platform=Re,this._mostRecentTarget=null,this._modality=new Ke.t(null),this._lastTouchMs=0,this._onKeydown=_t=>{this._options?.ignoreKeys?.some(at=>at===_t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.Fb)(_t))},this._onMousedown=_t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dn(_t)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.Fb)(_t))},this._onTouchstart=_t=>{gn(_t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.Fb)(_t))},this._options={...Ni,...Ri},this.modalityDetected=this._modality.pipe((0,P.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Be.F)()),Re.isBrowser&&Ve.runOutsideAngular(()=>{zt.addEventListener("keydown",this._onKeydown,mt),zt.addEventListener("mousedown",this._onMousedown,mt),zt.addEventListener("touchstart",this._onTouchstart,mt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,mt),document.removeEventListener("mousedown",this._onMousedown,mt),document.removeEventListener("touchstart",this._onTouchstart,mt))}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(E.OD),O.KVO(O.SKi),O.KVO(b.qQ),O.KVO(Sn,8))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})();const It=new O.nKC("liveAnnouncerElement",{providedIn:"root",factory:function $(){return null}}),Kt=new O.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Qe=0,ui=(()=>{class te{constructor(Re,Ve,zt,Ri){this._ngZone=Ve,this._defaultOptions=Ri,this._document=zt,this._liveElement=Re||this._createLiveElement()}announce(Re,...Ve){const zt=this._defaultOptions;let Ri,_t;return 1===Ve.length&&"number"==typeof Ve[0]?_t=Ve[0]:[Ri,_t]=Ve,this.clear(),clearTimeout(this._previousTimeout),Ri||(Ri=zt&&zt.politeness?zt.politeness:"polite"),null==_t&&zt&&(_t=zt.duration),this._liveElement.setAttribute("aria-live",Ri),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(at=>this._currentResolve=at)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Re,"number"==typeof _t&&(this._previousTimeout=setTimeout(()=>this.clear(),_t)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Re="cdk-live-announcer-element",Ve=this._document.getElementsByClassName(Re),zt=this._document.createElement("div");for(let Ri=0;Ri<Ve.length;Ri++)Ve[Ri].remove();return zt.classList.add(Re),zt.classList.add("cdk-visually-hidden"),zt.setAttribute("aria-atomic","true"),zt.setAttribute("aria-live","polite"),zt.id="cdk-live-announcer-"+Qe++,this._document.body.appendChild(zt),zt}_exposeAnnouncerToModals(Re){const Ve=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let zt=0;zt<Ve.length;zt++){const Ri=Ve[zt],_t=Ri.getAttribute("aria-owns");_t?-1===_t.indexOf(Re)&&Ri.setAttribute("aria-owns",_t+" "+Re):Ri.setAttribute("aria-owns",Re)}}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(It,8),O.KVO(O.SKi),O.KVO(b.qQ),O.KVO(Kt,8))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})();const Pt=new O.nKC("cdk-focus-monitor-default-options"),qe=(0,E.BQ)({passive:!0,capture:!0});let Dt=(()=>{class te{constructor(Re,Ve,zt,Ri,_t){this._ngZone=Re,this._platform=Ve,this._inputModalityDetector=zt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ye.B,this._rootNodeFocusAndBlurListener=at=>{for(let Me=(0,E.Fb)(at);Me;Me=Me.parentElement)"focus"===at.type?this._onFocus(at,Me):this._onBlur(at,Me)},this._document=Ri,this._detectionMode=_t?.detectionMode||0}monitor(Re,Ve=!1){const zt=(0,qt.i8)(Re);if(!this._platform.isBrowser||1!==zt.nodeType)return(0,j.of)();const Ri=(0,E.KT)(zt)||this._getDocument(),_t=this._elementInfo.get(zt);if(_t)return Ve&&(_t.checkChildren=!0),_t.subject;const at={checkChildren:Ve,subject:new ye.B,rootNode:Ri};return this._elementInfo.set(zt,at),this._registerGlobalListeners(at),at.subject}stopMonitoring(Re){const Ve=(0,qt.i8)(Re),zt=this._elementInfo.get(Ve);zt&&(zt.subject.complete(),this._setClasses(Ve),this._elementInfo.delete(Ve),this._removeGlobalListeners(zt))}focusVia(Re,Ve,zt){const Ri=(0,qt.i8)(Re);Ri===this._getDocument().activeElement?this._getClosestElementsInfo(Ri).forEach(([at,Se])=>this._originChanged(at,Ve,Se)):(this._setOrigin(Ve),"function"==typeof Ri.focus&&Ri.focus(zt))}ngOnDestroy(){this._elementInfo.forEach((Re,Ve)=>this.stopMonitoring(Ve))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Re){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Re)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Re&&this._isLastInteractionFromInputLabel(Re)?"mouse":"program"}_shouldBeAttributedToTouch(Re){return 1===this._detectionMode||!!Re?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Re,Ve){Re.classList.toggle("cdk-focused",!!Ve),Re.classList.toggle("cdk-touch-focused","touch"===Ve),Re.classList.toggle("cdk-keyboard-focused","keyboard"===Ve),Re.classList.toggle("cdk-mouse-focused","mouse"===Ve),Re.classList.toggle("cdk-program-focused","program"===Ve)}_setOrigin(Re,Ve=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Re,this._originFromTouchInteraction="touch"===Re&&Ve,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Re,Ve){const zt=this._elementInfo.get(Ve),Ri=(0,E.Fb)(Re);!zt||!zt.checkChildren&&Ve!==Ri||this._originChanged(Ve,this._getFocusOrigin(Ri),zt)}_onBlur(Re,Ve){const zt=this._elementInfo.get(Ve);!zt||zt.checkChildren&&Re.relatedTarget instanceof Node&&Ve.contains(Re.relatedTarget)||(this._setClasses(Ve),this._emitOrigin(zt,null))}_emitOrigin(Re,Ve){Re.subject.observers.length&&this._ngZone.run(()=>Re.subject.next(Ve))}_registerGlobalListeners(Re){if(!this._platform.isBrowser)return;const Ve=Re.rootNode,zt=this._rootNodeFocusListenerCount.get(Ve)||0;zt||this._ngZone.runOutsideAngular(()=>{Ve.addEventListener("focus",this._rootNodeFocusAndBlurListener,qe),Ve.addEventListener("blur",this._rootNodeFocusAndBlurListener,qe)}),this._rootNodeFocusListenerCount.set(Ve,zt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ct.Q)(this._stopInputModalityDetector)).subscribe(Ri=>{this._setOrigin(Ri,!0)}))}_removeGlobalListeners(Re){const Ve=Re.rootNode;if(this._rootNodeFocusListenerCount.has(Ve)){const zt=this._rootNodeFocusListenerCount.get(Ve);zt>1?this._rootNodeFocusListenerCount.set(Ve,zt-1):(Ve.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qe),Ve.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qe),this._rootNodeFocusListenerCount.delete(Ve))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Re,Ve,zt){this._setClasses(Re,Ve),this._emitOrigin(zt,Ve),this._lastFocusOrigin=Ve}_getClosestElementsInfo(Re){const Ve=[];return this._elementInfo.forEach((zt,Ri)=>{(Ri===Re||zt.checkChildren&&Ri.contains(Re))&&Ve.push([Ri,zt])}),Ve}_isLastInteractionFromInputLabel(Re){const{_mostRecentTarget:Ve,mostRecentModality:zt}=this._inputModalityDetector;if("mouse"!==zt||!Ve||Ve===Re||"INPUT"!==Re.nodeName&&"TEXTAREA"!==Re.nodeName||Re.disabled)return!1;const Ri=Re.labels;if(Ri)for(let _t=0;_t<Ri.length;_t++)if(Ri[_t].contains(Ve))return!0;return!1}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(O.SKi),O.KVO(E.OD),O.KVO(jt),O.KVO(b.qQ,8),O.KVO(Pt,8))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})(),je=(()=>{class te{constructor(Re,Ve){this._elementRef=Re,this._focusMonitor=Ve,this._focusOrigin=null,this.cdkFocusChange=new O.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const Re=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Re,1===Re.nodeType&&Re.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(Ve=>{this._focusOrigin=Ve,this.cdkFocusChange.emit(Ve)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.rXU(O.aKT),O.rXU(Dt))}}static{this.\u0275dir=O.FsC({type:te,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}}return te})();const Rt="cdk-high-contrast-black-on-white",Te="cdk-high-contrast-white-on-black",bt="cdk-high-contrast-active";let Gt=(()=>{class te{constructor(Re,Ve){this._platform=Re,this._document=Ve,this._breakpointSubscription=(0,O.WQX)(Ai.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Re=this._document.createElement("div");Re.style.backgroundColor="rgb(1,2,3)",Re.style.position="absolute",this._document.body.appendChild(Re);const Ve=this._document.defaultView||window,zt=Ve&&Ve.getComputedStyle?Ve.getComputedStyle(Re):null,Ri=(zt&&zt.backgroundColor||"").replace(/ /g,"");switch(Re.remove(),Ri){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Re=this._document.body.classList;Re.remove(bt,Rt,Te),this._hasCheckedHighContrastMode=!0;const Ve=this.getHighContrastMode();1===Ve?Re.add(bt,Rt):2===Ve&&Re.add(bt,Te)}}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(E.OD),O.KVO(b.qQ))}}static{this.\u0275prov=O.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}}return te})(),Pe=(()=>{class te{constructor(Re){Re._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(Ve){return new(Ve||te)(O.KVO(Gt))}}static{this.\u0275mod=O.$C({type:te})}static{this.\u0275inj=O.G2t({imports:[pt.w5]})}}return te})()},8203:(Ui,ni,N)=>{"use strict";N.d(ni,{dS:()=>j,jI:()=>ie});var b=N(7705),O=N(177);const E=new b.nKC("cdk-dir-doc",{providedIn:"root",factory:function ye(){return(0,b.WQX)(O.qQ)}}),K=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let j=(()=>{class ee{constructor(ve){this.value="ltr",this.change=new b.bkB,ve&&(this.value=function Ke(ee){const Ce=ee?.toLowerCase()||"";return"auto"===Ce&&typeof navigator<"u"&&navigator?.language?K.test(navigator.language)?"rtl":"ltr":"rtl"===Ce?"rtl":"ltr"}((ve.body?ve.body.dir:null)||(ve.documentElement?ve.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(ue){return new(ue||ee)(b.KVO(E,8))}}static{this.\u0275prov=b.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})(),ie=(()=>{class ee{static{this.\u0275fac=function(ue){return new(ue||ee)}}static{this.\u0275mod=b.$C({type:ee})}static{this.\u0275inj=b.G2t({})}}return ee})()},4085:(Ui,ni,N)=>{"use strict";N.d(ni,{FG:()=>K,OE:()=>E,a1:()=>Ke,cc:()=>rt,he:()=>O,i8:()=>j,o1:()=>ye});var b=N(7705);function O(ie){return null!=ie&&"false"!=`${ie}`}function E(ie,ee=0){return ye(ie)?Number(ie):ee}function ye(ie){return!isNaN(parseFloat(ie))&&!isNaN(Number(ie))}function K(ie){return Array.isArray(ie)?ie:[ie]}function Ke(ie){return null==ie?"":"string"==typeof ie?ie:`${ie}px`}function j(ie){return ie instanceof b.aKT?ie.nativeElement:ie}function rt(ie,ee=/\s+/){const Ce=[];if(null!=ie){const ve=Array.isArray(ie)?ie:`${ie}`.split(ee);for(const ue of ve){const P=`${ue}`.trim();P&&Ce.push(P)}}return Ce}},5024:(Ui,ni,N)=>{"use strict";N.d(ni,{CB:()=>Ce,DQ:()=>ee,qS:()=>Ke,sL:()=>P,xn:()=>ie,y4:()=>j,zP:()=>ue});var b=N(17),ye=(N(4402),N(7673),N(1413)),K=N(7705);class Ke{}function j(Be){return Be&&"function"==typeof Be.connect&&!(Be instanceof b.G)}class ie{applyChanges(Ct,qt,pt,Ai,oi){Ct.forEachOperation((q,Ot,Oe)=>{let Le,We;if(null==q.previousIndex){const Ye=pt(q,Ot,Oe);Le=qt.createEmbeddedView(Ye.templateRef,Ye.context,Ye.index),We=1}else null==Oe?(qt.remove(Ot),We=3):(Le=qt.get(Ot),qt.move(Le,Oe),We=2);oi&&oi({context:Le?.context,operation:We,record:q})})}detach(){}}class ee{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Ct,qt,pt,Ai,oi){Ct.forEachOperation((q,Ot,Oe)=>{let Le,We;null==q.previousIndex?(Le=this._insertView(()=>pt(q,Ot,Oe),Oe,qt,Ai(q)),We=Le?1:0):null==Oe?(this._detachAndCacheView(Ot,qt),We=3):(Le=this._moveView(Ot,Oe,qt,Ai(q)),We=2),oi&&oi({context:Le?.context,operation:We,record:q})})}detach(){for(const Ct of this._viewCache)Ct.destroy();this._viewCache=[]}_insertView(Ct,qt,pt,Ai){const oi=this._insertViewFromCache(qt,pt);if(oi)return void(oi.context.$implicit=Ai);const q=Ct();return pt.createEmbeddedView(q.templateRef,q.context,q.index)}_detachAndCacheView(Ct,qt){const pt=qt.detach(Ct);this._maybeCacheView(pt,qt)}_moveView(Ct,qt,pt,Ai){const oi=pt.get(Ct);return pt.move(oi,qt),oi.context.$implicit=Ai,oi}_maybeCacheView(Ct,qt){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Ct);else{const pt=qt.indexOf(Ct);-1===pt?Ct.destroy():qt.remove(pt)}}_insertViewFromCache(Ct,qt){const pt=this._viewCache.pop();return pt&&qt.insert(pt,Ct),pt||null}}class Ce{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Ct=!1,qt,pt=!0,Ai){this._multiple=Ct,this._emitChanges=pt,this.compareWith=Ai,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ye.B,qt&&qt.length&&(Ct?qt.forEach(oi=>this._markSelected(oi)):this._markSelected(qt[0]),this._selectedToEmit.length=0)}select(...Ct){this._verifyValueAssignment(Ct),Ct.forEach(pt=>this._markSelected(pt));const qt=this._hasQueuedChanges();return this._emitChangeEvent(),qt}deselect(...Ct){this._verifyValueAssignment(Ct),Ct.forEach(pt=>this._unmarkSelected(pt));const qt=this._hasQueuedChanges();return this._emitChangeEvent(),qt}setSelection(...Ct){this._verifyValueAssignment(Ct);const qt=this.selected,pt=new Set(Ct);Ct.forEach(oi=>this._markSelected(oi)),qt.filter(oi=>!pt.has(oi)).forEach(oi=>this._unmarkSelected(oi));const Ai=this._hasQueuedChanges();return this._emitChangeEvent(),Ai}toggle(Ct){return this.isSelected(Ct)?this.deselect(Ct):this.select(Ct)}clear(Ct=!0){this._unmarkAll();const qt=this._hasQueuedChanges();return Ct&&this._emitChangeEvent(),qt}isSelected(Ct){return this._selection.has(this._getConcreteValue(Ct))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Ct){this._multiple&&this.selected&&this._selected.sort(Ct)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Ct){Ct=this._getConcreteValue(Ct),this.isSelected(Ct)||(this._multiple||this._unmarkAll(),this.isSelected(Ct)||this._selection.add(Ct),this._emitChanges&&this._selectedToEmit.push(Ct))}_unmarkSelected(Ct){Ct=this._getConcreteValue(Ct),this.isSelected(Ct)&&(this._selection.delete(Ct),this._emitChanges&&this._deselectedToEmit.push(Ct))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Ct=>this._unmarkSelected(Ct))}_verifyValueAssignment(Ct){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Ct){if(this.compareWith){for(let qt of this._selection)if(this.compareWith(Ct,qt))return qt;return Ct}return Ct}}let ue=(()=>{class Be{constructor(){this._listeners=[]}notify(qt,pt){for(let Ai of this._listeners)Ai(qt,pt)}listen(qt){return this._listeners.push(qt),()=>{this._listeners=this._listeners.filter(pt=>qt!==pt)}}ngOnDestroy(){this._listeners=[]}static{this.\u0275fac=function(pt){return new(pt||Be)}}static{this.\u0275prov=K.jDH({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}return Be})();const P=new K.nKC("_ViewRepeater")},2529:(Ui,ni,N)=>{"use strict";N.d(ni,{Pe:()=>P,Ph:()=>Ye,ce:()=>qt,lG:()=>Le,sU:()=>Ct});var b=N(8617),O=N(6969),E=N(6860),ye=N(6939),K=N(177),Ke=N(7705),j=N(7336),rt=N(1413),ie=N(9030),ee=N(7673),Ce=N(8203),ve=N(9172);function ue(Ht,vi){}class P{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ct=(()=>{class Ht extends ye.lb{constructor(Et,wi,bi,Ci,an,Oi,Cn,Qt){super(),this._elementRef=Et,this._focusTrapFactory=wi,this._config=Ci,this._interactivityChecker=an,this._ngZone=Oi,this._overlayRef=Cn,this._focusMonitor=Qt,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=lt=>{this._portalOutlet.hasAttached();const wt=this._portalOutlet.attachDomPortal(lt);return this._contentAttached(),wt},this._document=bi,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Et){this._portalOutlet.hasAttached();const wi=this._portalOutlet.attachComponentPortal(Et);return this._contentAttached(),wi}attachTemplatePortal(Et){this._portalOutlet.hasAttached();const wi=this._portalOutlet.attachTemplatePortal(Et);return this._contentAttached(),wi}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Et,wi){this._interactivityChecker.isFocusable(Et)||(Et.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const bi=()=>{Et.removeEventListener("blur",bi),Et.removeEventListener("mousedown",bi),Et.removeAttribute("tabindex")};Et.addEventListener("blur",bi),Et.addEventListener("mousedown",bi)})),Et.focus(wi)}_focusByCssSelector(Et,wi){let bi=this._elementRef.nativeElement.querySelector(Et);bi&&this._forceFocus(bi,wi)}_trapFocus(){const Et=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Et.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(wi=>{wi||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Et=this._config.restoreFocus;let wi=null;if("string"==typeof Et?wi=this._document.querySelector(Et):"boolean"==typeof Et?wi=Et?this._elementFocusedBeforeDialogWasOpened:null:Et&&(wi=Et),this._config.restoreFocus&&wi&&"function"==typeof wi.focus){const bi=(0,E.vc)(),Ci=this._elementRef.nativeElement;(!bi||bi===this._document.body||bi===Ci||Ci.contains(bi))&&(this._focusMonitor?(this._focusMonitor.focusVia(wi,this._closeInteractionType),this._closeInteractionType=null):wi.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Et=this._elementRef.nativeElement,wi=(0,E.vc)();return Et===wi||Et.contains(wi)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,E.vc)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static{this.\u0275fac=function(wi){return new(wi||Ht)(Ke.rXU(Ke.aKT),Ke.rXU(b.GX),Ke.rXU(K.qQ,8),Ke.rXU(P),Ke.rXU(b.Z7),Ke.rXU(Ke.SKi),Ke.rXU(O.yY),Ke.rXU(b.FN))}}static{this.\u0275cmp=Ke.VBU({type:Ht,selectors:[["cdk-dialog-container"]],viewQuery:function(wi,bi){if(1&wi&&Ke.GBs(ye.I3,7),2&wi){let Ci;Ke.mGM(Ci=Ke.lsd())&&(bi._portalOutlet=Ci.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(wi,bi){2&wi&&Ke.BMQ("id",bi._config.id||null)("role",bi._config.role)("aria-modal",bi._config.ariaModal)("aria-labelledby",bi._config.ariaLabel?null:bi._ariaLabelledByQueue[0])("aria-label",bi._config.ariaLabel)("aria-describedby",bi._config.ariaDescribedBy||null)},features:[Ke.Vt3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(wi,bi){1&wi&&Ke.DNE(0,ue,0,0,"ng-template",0)},dependencies:[ye.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}}return Ht})();class qt{constructor(vi,Et){this.overlayRef=vi,this.config=Et,this.closed=new rt.B,this.disableClose=Et.disableClose,this.backdropClick=vi.backdropClick(),this.keydownEvents=vi.keydownEvents(),this.outsidePointerEvents=vi.outsidePointerEvents(),this.id=Et.id,this.keydownEvents.subscribe(wi=>{wi.keyCode===j._f&&!this.disableClose&&!(0,j.rp)(wi)&&(wi.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=vi.detachments().subscribe(()=>{!1!==Et.closeOnOverlayDetachments&&this.close()})}close(vi,Et){if(this.containerInstance){const wi=this.closed;this.containerInstance._closeInteractionType=Et?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),wi.next(vi),wi.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(vi="",Et=""){return this.overlayRef.updateSize({width:vi,height:Et}),this}addPanelClass(vi){return this.overlayRef.addPanelClass(vi),this}removePanelClass(vi){return this.overlayRef.removePanelClass(vi),this}}const pt=new Ke.nKC("DialogScrollStrategy"),Ai=new Ke.nKC("DialogData"),oi=new Ke.nKC("DefaultDialogConfig"),Ot={provide:pt,deps:[O.hJ],useFactory:function q(Ht){return()=>Ht.scrollStrategies.block()}};let Oe=0,Le=(()=>{class Ht{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(Et,wi,bi,Ci,an,Oi){this._overlay=Et,this._injector=wi,this._defaultOptions=bi,this._parentDialog=Ci,this._overlayContainer=an,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rt.B,this._afterOpenedAtThisLevel=new rt.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ie.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ve.Z)(void 0))),this._scrollStrategy=Oi}open(Et,wi){(wi={...this._defaultOptions||new P,...wi}).id=wi.id||"cdk-dialog-"+Oe++,wi.id&&this.getDialogById(wi.id);const Ci=this._getOverlayConfig(wi),an=this._overlay.create(Ci),Oi=new qt(an,wi),Cn=this._attachContainer(an,Oi,wi);return Oi.containerInstance=Cn,this._attachDialogContent(Et,Oi,Cn,wi),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(Oi),Oi.closed.subscribe(()=>this._removeOpenDialog(Oi,!0)),this.afterOpened.next(Oi),Oi}closeAll(){We(this.openDialogs,Et=>Et.close())}getDialogById(Et){return this.openDialogs.find(wi=>wi.id===Et)}ngOnDestroy(){We(this._openDialogsAtThisLevel,Et=>{!1===Et.config.closeOnDestroy&&this._removeOpenDialog(Et,!1)}),We(this._openDialogsAtThisLevel,Et=>Et.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Et){const wi=new O.rR({positionStrategy:Et.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Et.scrollStrategy||this._scrollStrategy(),panelClass:Et.panelClass,hasBackdrop:Et.hasBackdrop,direction:Et.direction,minWidth:Et.minWidth,minHeight:Et.minHeight,maxWidth:Et.maxWidth,maxHeight:Et.maxHeight,width:Et.width,height:Et.height,disposeOnNavigation:Et.closeOnNavigation});return Et.backdropClass&&(wi.backdropClass=Et.backdropClass),wi}_attachContainer(Et,wi,bi){const Ci=bi.injector||bi.viewContainerRef?.injector,an=[{provide:P,useValue:bi},{provide:qt,useValue:wi},{provide:O.yY,useValue:Et}];let Oi;bi.container?"function"==typeof bi.container?Oi=bi.container:(Oi=bi.container.type,an.push(...bi.container.providers(bi))):Oi=Ct;const Cn=new ye.A8(Oi,bi.viewContainerRef,Ke.zZn.create({parent:Ci||this._injector,providers:an}),bi.componentFactoryResolver);return Et.attach(Cn).instance}_attachDialogContent(Et,wi,bi,Ci){if(Et instanceof Ke.C4Q){const an=this._createInjector(Ci,wi,bi,void 0);let Oi={$implicit:Ci.data,dialogRef:wi};Ci.templateContext&&(Oi={...Oi,..."function"==typeof Ci.templateContext?Ci.templateContext():Ci.templateContext}),bi.attachTemplatePortal(new ye.VA(Et,null,Oi,an))}else{const an=this._createInjector(Ci,wi,bi,this._injector),Oi=bi.attachComponentPortal(new ye.A8(Et,Ci.viewContainerRef,an,Ci.componentFactoryResolver));wi.componentRef=Oi,wi.componentInstance=Oi.instance}}_createInjector(Et,wi,bi,Ci){const an=Et.injector||Et.viewContainerRef?.injector,Oi=[{provide:Ai,useValue:Et.data},{provide:qt,useValue:wi}];return Et.providers&&("function"==typeof Et.providers?Oi.push(...Et.providers(wi,Et,bi)):Oi.push(...Et.providers)),Et.direction&&(!an||!an.get(Ce.dS,null,{optional:!0}))&&Oi.push({provide:Ce.dS,useValue:{value:Et.direction,change:(0,ee.of)()}}),Ke.zZn.create({parent:an||Ci,providers:Oi})}_removeOpenDialog(Et,wi){const bi=this.openDialogs.indexOf(Et);bi>-1&&(this.openDialogs.splice(bi,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ci,an)=>{Ci?an.setAttribute("aria-hidden",Ci):an.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),wi&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Et=this._overlayContainer.getContainerElement();if(Et.parentElement){const wi=Et.parentElement.children;for(let bi=wi.length-1;bi>-1;bi--){const Ci=wi[bi];Ci!==Et&&"SCRIPT"!==Ci.nodeName&&"STYLE"!==Ci.nodeName&&!Ci.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ci,Ci.getAttribute("aria-hidden")),Ci.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Et=this._parentDialog;return Et?Et._getAfterAllClosed():this._afterAllClosedAtThisLevel}static{this.\u0275fac=function(wi){return new(wi||Ht)(Ke.KVO(O.hJ),Ke.KVO(Ke.zZn),Ke.KVO(oi,8),Ke.KVO(Ht,12),Ke.KVO(O.Sf),Ke.KVO(pt))}}static{this.\u0275prov=Ke.jDH({token:Ht,factory:Ht.\u0275fac})}}return Ht})();function We(Ht,vi){let Et=Ht.length;for(;Et--;)vi(Ht[Et])}let Ye=(()=>{class Ht{static{this.\u0275fac=function(wi){return new(wi||Ht)}}static{this.\u0275mod=Ke.$C({type:Ht})}static{this.\u0275inj=Ke.G2t({providers:[Le,Ot],imports:[O.z_,ye.jc,b.Pd,ye.jc]})}}return Ht})()},7336:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>ii,A$:()=>rt,FX:()=>Ke,Fm:()=>K,G_:()=>O,Ge:()=>Kt,Kp:()=>Be,LE:()=>Ai,SJ:()=>Le,UQ:()=>qt,W3:()=>j,Z:()=>$,_f:()=>Ce,bn:()=>Oi,dB:()=>P,eg:()=>dt,f2:()=>We,i7:()=>pt,n6:()=>oi,rp:()=>et,t6:()=>ve,w_:()=>ue,wn:()=>E,yZ:()=>Ct});const O=8,E=9,K=13,Ke=16,j=17,rt=18,Ce=27,ve=32,ue=33,P=34,Be=35,Ct=36,qt=37,pt=38,Ai=39,oi=40,Le=46,We=48,Oi=57,ii=65,$=90,Kt=91,dt=224;function et(ti,...Fi){return Fi.length?Fi.some(Un=>ti[Un]):ti.altKey||ti.shiftKey||ti.ctrlKey||ti.metaKey}},9327:(Ui,ni,N)=>{"use strict";N.d(ni,{QP:()=>oi,Rp:()=>Ot});var b=N(7705),O=N(4085),E=N(1413),ye=N(4572),K=N(8793),Ke=N(1985),j=N(6697),rt=N(5245),ie=N(152),ee=N(6354),Ce=N(9172),ve=N(6977),ue=N(6860);const Be=new Set;let Ct,qt=(()=>{class Oe{constructor(We,Ye){this._platform=We,this._nonce=Ye,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ai}matchMedia(We){return(this._platform.WEBKIT||this._platform.BLINK)&&function pt(Oe,Le){if(!Be.has(Oe))try{Ct||(Ct=document.createElement("style"),Le&&(Ct.nonce=Le),Ct.setAttribute("type","text/css"),document.head.appendChild(Ct)),Ct.sheet&&(Ct.sheet.insertRule(`@media ${Oe} {body{ }}`,0),Be.add(Oe))}catch(We){console.error(We)}}(We,this._nonce),this._matchMedia(We)}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.KVO(ue.OD),b.KVO(b.BIS,8))}}static{this.\u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}return Oe})();function Ai(Oe){return{matches:"all"===Oe||""===Oe,media:Oe,addListener:()=>{},removeListener:()=>{}}}let oi=(()=>{class Oe{constructor(We,Ye){this._mediaMatcher=We,this._zone=Ye,this._queries=new Map,this._destroySubject=new E.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(We){return q((0,O.FG)(We)).some(Ht=>this._registerQuery(Ht).mql.matches)}observe(We){const Ht=q((0,O.FG)(We)).map(Et=>this._registerQuery(Et).observable);let vi=(0,ye.z)(Ht);return vi=(0,K.x)(vi.pipe((0,j.s)(1)),vi.pipe((0,rt.i)(1),(0,ie.B)(0))),vi.pipe((0,ee.T)(Et=>{const wi={matches:!1,breakpoints:{}};return Et.forEach(({matches:bi,query:Ci})=>{wi.matches=wi.matches||bi,wi.breakpoints[Ci]=bi}),wi}))}_registerQuery(We){if(this._queries.has(We))return this._queries.get(We);const Ye=this._mediaMatcher.matchMedia(We),vi={observable:new Ke.c(Et=>{const wi=bi=>this._zone.run(()=>Et.next(bi));return Ye.addListener(wi),()=>{Ye.removeListener(wi)}}).pipe((0,Ce.Z)(Ye),(0,ee.T)(({matches:Et})=>({query:We,matches:Et})),(0,ve.Q)(this._destroySubject)),mql:Ye};return this._queries.set(We,vi),vi}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.KVO(qt),b.KVO(b.SKi))}}static{this.\u0275prov=b.jDH({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}return Oe})();function q(Oe){return Oe.map(Le=>Le.split(",")).reduce((Le,We)=>Le.concat(We)).map(Le=>Le.trim())}const Ot={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2318:(Ui,ni,N)=>{"use strict";N.d(ni,{Wv:()=>rt,w5:()=>ie});var b=N(4085),O=N(7705),E=N(1985),ye=N(1413),K=N(152);let Ke=(()=>{class ee{create(ve){return typeof MutationObserver>"u"?null:new MutationObserver(ve)}static{this.\u0275fac=function(ue){return new(ue||ee)}}static{this.\u0275prov=O.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})(),j=(()=>{class ee{constructor(ve){this._mutationObserverFactory=ve,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ve,ue)=>this._cleanupObserver(ue))}observe(ve){const ue=(0,b.i8)(ve);return new E.c(P=>{const Ct=this._observeElement(ue).subscribe(P);return()=>{Ct.unsubscribe(),this._unobserveElement(ue)}})}_observeElement(ve){if(this._observedElements.has(ve))this._observedElements.get(ve).count++;else{const ue=new ye.B,P=this._mutationObserverFactory.create(Be=>ue.next(Be));P&&P.observe(ve,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ve,{observer:P,stream:ue,count:1})}return this._observedElements.get(ve).stream}_unobserveElement(ve){this._observedElements.has(ve)&&(this._observedElements.get(ve).count--,this._observedElements.get(ve).count||this._cleanupObserver(ve))}_cleanupObserver(ve){if(this._observedElements.has(ve)){const{observer:ue,stream:P}=this._observedElements.get(ve);ue&&ue.disconnect(),P.complete(),this._observedElements.delete(ve)}}static{this.\u0275fac=function(ue){return new(ue||ee)(O.KVO(Ke))}}static{this.\u0275prov=O.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})(),rt=(()=>{class ee{get disabled(){return this._disabled}set disabled(ve){this._disabled=(0,b.he)(ve),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ve){this._debounce=(0,b.OE)(ve),this._subscribe()}constructor(ve,ue,P){this._contentObserver=ve,this._elementRef=ue,this._ngZone=P,this.event=new O.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ve=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ve.pipe((0,K.B)(this.debounce)):ve).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(ue){return new(ue||ee)(O.rXU(j),O.rXU(O.aKT),O.rXU(O.SKi))}}static{this.\u0275dir=O.FsC({type:ee,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}}return ee})(),ie=(()=>{class ee{static{this.\u0275fac=function(ue){return new(ue||ee)}}static{this.\u0275mod=O.$C({type:ee})}static{this.\u0275inj=O.G2t({providers:[Ke]})}}return ee})()},6969:(Ui,ni,N)=>{"use strict";N.d(ni,{WB:()=>Qi,$Q:()=>Mi,rW:()=>ut,hJ:()=>Wt,rR:()=>Ht,Sf:()=>Qt,z_:()=>gn,yY:()=>lt});var b=N(3980),O=N(177),E=N(7705),ye=N(4085),K=N(6860),Ke=N(5964),j=N(6697),rt=N(6977),ie=N(9974),ee=N(4360),ve=N(8203),ue=N(6939),P=N(1413),Be=N(8359),Ct=N(7786),qt=N(7336);const pt=(0,K.CZ)();class Ai{constructor(St,mt){this._viewportRuler=St,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=mt}attach(){}enable(){if(this._canBeEnabled()){const St=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=St.style.left||"",this._previousHTMLStyles.top=St.style.top||"",St.style.left=(0,ye.a1)(-this._previousScrollPosition.left),St.style.top=(0,ye.a1)(-this._previousScrollPosition.top),St.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const St=this._document.documentElement,jt=St.style,It=this._document.body.style,$=jt.scrollBehavior||"",Kt=It.scrollBehavior||"";this._isEnabled=!1,jt.left=this._previousHTMLStyles.left,jt.top=this._previousHTMLStyles.top,St.classList.remove("cdk-global-scrollblock"),pt&&(jt.scrollBehavior=It.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pt&&(jt.scrollBehavior=$,It.scrollBehavior=Kt)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const mt=this._document.body,jt=this._viewportRuler.getViewportSize();return mt.scrollHeight>jt.height||mt.scrollWidth>jt.width}}class q{constructor(St,mt,jt,It){this._scrollDispatcher=St,this._ngZone=mt,this._viewportRuler=jt,this._config=It,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(St){this._overlayRef=St}enable(){if(this._scrollSubscription)return;const St=this._scrollDispatcher.scrolled(0).pipe((0,Ke.p)(mt=>!mt||!this._overlayRef.overlayElement.contains(mt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=St.subscribe(()=>{const mt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(mt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=St.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ot{enable(){}disable(){}attach(){}}function Oe(Ni,St){return St.some(mt=>Ni.bottom<mt.top||Ni.top>mt.bottom||Ni.right<mt.left||Ni.left>mt.right)}function Le(Ni,St){return St.some(mt=>Ni.top<mt.top||Ni.bottom>mt.bottom||Ni.left<mt.left||Ni.right>mt.right)}class We{constructor(St,mt,jt,It){this._scrollDispatcher=St,this._viewportRuler=mt,this._ngZone=jt,this._config=It,this._scrollSubscription=null}attach(St){this._overlayRef=St}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const mt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:jt,height:It}=this._viewportRuler.getViewportSize();Oe(mt,[{width:jt,height:It,bottom:It,right:jt,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ye=(()=>{class Ni{constructor(mt,jt,It,$){this._scrollDispatcher=mt,this._viewportRuler=jt,this._ngZone=It,this.noop=()=>new Ot,this.close=Kt=>new q(this._scrollDispatcher,this._ngZone,this._viewportRuler,Kt),this.block=()=>new Ai(this._viewportRuler,this._document),this.reposition=Kt=>new We(this._scrollDispatcher,this._viewportRuler,this._ngZone,Kt),this._document=$}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(b.R),E.KVO(b.Xj),E.KVO(E.SKi),E.KVO(O.qQ))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})();class Ht{constructor(St){if(this.scrollStrategy=new Ot,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,St){const mt=Object.keys(St);for(const jt of mt)void 0!==St[jt]&&(this[jt]=St[jt])}}}class wi{constructor(St,mt){this.connectionPair=St,this.scrollableViewProperties=mt}}let an=(()=>{class Ni{constructor(mt){this._attachedOverlays=[],this._document=mt}ngOnDestroy(){this.detach()}add(mt){this.remove(mt),this._attachedOverlays.push(mt)}remove(mt){const jt=this._attachedOverlays.indexOf(mt);jt>-1&&this._attachedOverlays.splice(jt,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(O.qQ))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})(),Oi=(()=>{class Ni extends an{constructor(mt,jt){super(mt),this._ngZone=jt,this._keydownListener=It=>{const $=this._attachedOverlays;for(let Kt=$.length-1;Kt>-1;Kt--)if($[Kt]._keydownEvents.observers.length>0){const Qe=$[Kt]._keydownEvents;this._ngZone?this._ngZone.run(()=>Qe.next(It)):Qe.next(It);break}}}add(mt){super.add(mt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(O.qQ),E.KVO(E.SKi,8))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})(),Cn=(()=>{class Ni extends an{constructor(mt,jt,It){super(mt),this._platform=jt,this._ngZone=It,this._cursorStyleIsSet=!1,this._pointerDownListener=$=>{this._pointerDownEventTarget=(0,K.Fb)($)},this._clickListener=$=>{const Kt=(0,K.Fb)($),Qe="click"===$.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Kt;this._pointerDownEventTarget=null;const ui=this._attachedOverlays.slice();for(let xe=ui.length-1;xe>-1;xe--){const Pt=ui[xe];if(Pt._outsidePointerEvents.observers.length<1||!Pt.hasAttached())continue;if(Pt.overlayElement.contains(Kt)||Pt.overlayElement.contains(Qe))break;const qe=Pt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>qe.next($)):qe.next($)}}}add(mt){if(super.add(mt),!this._isAttached){const jt=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(jt)):this._addEventListeners(jt),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=jt.style.cursor,jt.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const mt=this._document.body;mt.removeEventListener("pointerdown",this._pointerDownListener,!0),mt.removeEventListener("click",this._clickListener,!0),mt.removeEventListener("auxclick",this._clickListener,!0),mt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(mt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(mt){mt.addEventListener("pointerdown",this._pointerDownListener,!0),mt.addEventListener("click",this._clickListener,!0),mt.addEventListener("auxclick",this._clickListener,!0),mt.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(O.qQ),E.KVO(K.OD),E.KVO(E.SKi,8))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})(),Qt=(()=>{class Ni{constructor(mt,jt){this._platform=jt,this._document=mt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const mt="cdk-overlay-container";if(this._platform.isBrowser||(0,K.v8)()){const It=this._document.querySelectorAll(`.${mt}[platform="server"], .${mt}[platform="test"]`);for(let $=0;$<It.length;$++)It[$].remove()}const jt=this._document.createElement("div");jt.classList.add(mt),(0,K.v8)()?jt.setAttribute("platform","test"):this._platform.isBrowser||jt.setAttribute("platform","server"),this._document.body.appendChild(jt),this._containerElement=jt}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(O.qQ),E.KVO(K.OD))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})();class lt{constructor(St,mt,jt,It,$,Kt,Qe,ui,xe,Pt=!1){this._portalOutlet=St,this._host=mt,this._pane=jt,this._config=It,this._ngZone=$,this._keyboardDispatcher=Kt,this._document=Qe,this._location=ui,this._outsideClickDispatcher=xe,this._animationsDisabled=Pt,this._backdropElement=null,this._backdropClick=new P.B,this._attachments=new P.B,this._detachments=new P.B,this._locationChanges=Be.yU.EMPTY,this._backdropClickHandler=qe=>this._backdropClick.next(qe),this._backdropTransitionendHandler=qe=>{this._disposeBackdrop(qe.target)},this._keydownEvents=new P.B,this._outsidePointerEvents=new P.B,It.scrollStrategy&&(this._scrollStrategy=It.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=It.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(St){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const mt=this._portalOutlet.attach(St);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,j.s)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof mt?.onDestroy&&mt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),mt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const St=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),St}dispose(){const St=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,St&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(St){St!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=St,this.hasAttached()&&(St.attach(this),this.updatePosition()))}updateSize(St){this._config={...this._config,...St},this._updateElementSize()}setDirection(St){this._config={...this._config,direction:St},this._updateElementDirection()}addPanelClass(St){this._pane&&this._toggleClasses(this._pane,St,!0)}removePanelClass(St){this._pane&&this._toggleClasses(this._pane,St,!1)}getDirection(){const St=this._config.direction;return St?"string"==typeof St?St:St.value:"ltr"}updateScrollStrategy(St){St!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=St,this.hasAttached()&&(St.attach(this),St.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const St=this._pane.style;St.width=(0,ye.a1)(this._config.width),St.height=(0,ye.a1)(this._config.height),St.minWidth=(0,ye.a1)(this._config.minWidth),St.minHeight=(0,ye.a1)(this._config.minHeight),St.maxWidth=(0,ye.a1)(this._config.maxWidth),St.maxHeight=(0,ye.a1)(this._config.maxHeight)}_togglePointerEvents(St){this._pane.style.pointerEvents=St?"":"none"}_attachBackdrop(){const St="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(St)})}):this._backdropElement.classList.add(St)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const St=this._backdropElement;if(St){if(this._animationsDisabled)return void this._disposeBackdrop(St);St.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{St.addEventListener("transitionend",this._backdropTransitionendHandler)}),St.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(St)},500))}}_toggleClasses(St,mt,jt){const It=(0,ye.FG)(mt||[]).filter($=>!!$);It.length&&(jt?St.classList.add(...It):St.classList.remove(...It))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const St=this._ngZone.onStable.pipe((0,rt.Q)((0,Ct.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),St.unsubscribe())})})}_disposeScrollStrategy(){const St=this._scrollStrategy;St&&(St.disable(),St.detach&&St.detach())}_disposeBackdrop(St){St&&(St.removeEventListener("click",this._backdropClickHandler),St.removeEventListener("transitionend",this._backdropTransitionendHandler),St.remove(),this._backdropElement===St&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const wt="cdk-overlay-connected-position-bounding-box",ii=/([A-Za-z%]+)$/;class ut{get positions(){return this._preferredPositions}constructor(St,mt,jt,It,$){this._viewportRuler=mt,this._document=jt,this._platform=It,this._overlayContainer=$,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new P.B,this._resizeSubscription=Be.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(St)}attach(St){this._validatePositions(),St.hostElement.classList.add(wt),this._overlayRef=St,this._boundingBox=St.hostElement,this._pane=St.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const St=this._originRect,mt=this._overlayRect,jt=this._viewportRect,It=this._containerRect,$=[];let Kt;for(let Qe of this._preferredPositions){let ui=this._getOriginPoint(St,It,Qe),xe=this._getOverlayPoint(ui,mt,Qe),Pt=this._getOverlayFit(xe,mt,jt,Qe);if(Pt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Qe,ui);this._canFitWithFlexibleDimensions(Pt,xe,jt)?$.push({position:Qe,origin:ui,overlayRect:mt,boundingBoxRect:this._calculateBoundingBoxRect(ui,Qe)}):(!Kt||Kt.overlayFit.visibleArea<Pt.visibleArea)&&(Kt={overlayFit:Pt,overlayPoint:xe,originPoint:ui,position:Qe,overlayRect:mt})}if($.length){let Qe=null,ui=-1;for(const xe of $){const Pt=xe.boundingBoxRect.width*xe.boundingBoxRect.height*(xe.position.weight||1);Pt>ui&&(ui=Pt,Qe=xe)}return this._isPushed=!1,void this._applyPosition(Qe.position,Qe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Kt.position,Kt.originPoint);this._applyPosition(Kt.position,Kt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const St=this._lastPosition;if(St){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const mt=this._getOriginPoint(this._originRect,this._containerRect,St);this._applyPosition(St,mt)}else this.apply()}withScrollableContainers(St){return this._scrollables=St,this}withPositions(St){return this._preferredPositions=St,-1===St.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(St){return this._viewportMargin=St,this}withFlexibleDimensions(St=!0){return this._hasFlexibleDimensions=St,this}withGrowAfterOpen(St=!0){return this._growAfterOpen=St,this}withPush(St=!0){return this._canPush=St,this}withLockedPosition(St=!0){return this._positionLocked=St,this}setOrigin(St){return this._origin=St,this}withDefaultOffsetX(St){return this._offsetX=St,this}withDefaultOffsetY(St){return this._offsetY=St,this}withTransformOriginOn(St){return this._transformOriginSelector=St,this}_getOriginPoint(St,mt,jt){let It,$;if("center"==jt.originX)It=St.left+St.width/2;else{const Kt=this._isRtl()?St.right:St.left,Qe=this._isRtl()?St.left:St.right;It="start"==jt.originX?Kt:Qe}return mt.left<0&&(It-=mt.left),$="center"==jt.originY?St.top+St.height/2:"top"==jt.originY?St.top:St.bottom,mt.top<0&&($-=mt.top),{x:It,y:$}}_getOverlayPoint(St,mt,jt){let It,$;return It="center"==jt.overlayX?-mt.width/2:"start"===jt.overlayX?this._isRtl()?-mt.width:0:this._isRtl()?0:-mt.width,$="center"==jt.overlayY?-mt.height/2:"top"==jt.overlayY?0:-mt.height,{x:St.x+It,y:St.y+$}}_getOverlayFit(St,mt,jt,It){const $=Tt(mt);let{x:Kt,y:Qe}=St,ui=this._getOffset(It,"x"),xe=this._getOffset(It,"y");ui&&(Kt+=ui),xe&&(Qe+=xe);let Dt=0-Qe,je=Qe+$.height-jt.height,Rt=this._subtractOverflows($.width,0-Kt,Kt+$.width-jt.width),Te=this._subtractOverflows($.height,Dt,je),bt=Rt*Te;return{visibleArea:bt,isCompletelyWithinViewport:$.width*$.height===bt,fitsInViewportVertically:Te===$.height,fitsInViewportHorizontally:Rt==$.width}}_canFitWithFlexibleDimensions(St,mt,jt){if(this._hasFlexibleDimensions){const It=jt.bottom-mt.y,$=jt.right-mt.x,Kt=Zt(this._overlayRef.getConfig().minHeight),Qe=Zt(this._overlayRef.getConfig().minWidth);return(St.fitsInViewportVertically||null!=Kt&&Kt<=It)&&(St.fitsInViewportHorizontally||null!=Qe&&Qe<=$)}return!1}_pushOverlayOnScreen(St,mt,jt){if(this._previousPushAmount&&this._positionLocked)return{x:St.x+this._previousPushAmount.x,y:St.y+this._previousPushAmount.y};const It=Tt(mt),$=this._viewportRect,Kt=Math.max(St.x+It.width-$.width,0),Qe=Math.max(St.y+It.height-$.height,0),ui=Math.max($.top-jt.top-St.y,0),xe=Math.max($.left-jt.left-St.x,0);let Pt=0,qe=0;return Pt=It.width<=$.width?xe||-Kt:St.x<this._viewportMargin?$.left-jt.left-St.x:0,qe=It.height<=$.height?ui||-Qe:St.y<this._viewportMargin?$.top-jt.top-St.y:0,this._previousPushAmount={x:Pt,y:qe},{x:St.x+Pt,y:St.y+qe}}_applyPosition(St,mt){if(this._setTransformOrigin(St),this._setOverlayElementStyles(mt,St),this._setBoundingBoxStyles(mt,St),St.panelClass&&this._addPanelClasses(St.panelClass),this._lastPosition=St,this._positionChanges.observers.length){const jt=this._getScrollVisibility(),It=new wi(St,jt);this._positionChanges.next(It)}this._isInitialRender=!1}_setTransformOrigin(St){if(!this._transformOriginSelector)return;const mt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let jt,It=St.overlayY;jt="center"===St.overlayX?"center":this._isRtl()?"start"===St.overlayX?"right":"left":"start"===St.overlayX?"left":"right";for(let $=0;$<mt.length;$++)mt[$].style.transformOrigin=`${jt} ${It}`}_calculateBoundingBoxRect(St,mt){const jt=this._viewportRect,It=this._isRtl();let $,Kt,Qe,Pt,qe,Dt;if("top"===mt.overlayY)Kt=St.y,$=jt.height-Kt+this._viewportMargin;else if("bottom"===mt.overlayY)Qe=jt.height-St.y+2*this._viewportMargin,$=jt.height-Qe+this._viewportMargin;else{const je=Math.min(jt.bottom-St.y+jt.top,St.y),Rt=this._lastBoundingBoxSize.height;$=2*je,Kt=St.y-je,$>Rt&&!this._isInitialRender&&!this._growAfterOpen&&(Kt=St.y-Rt/2)}if("end"===mt.overlayX&&!It||"start"===mt.overlayX&&It)Dt=jt.width-St.x+this._viewportMargin,Pt=St.x-this._viewportMargin;else if("start"===mt.overlayX&&!It||"end"===mt.overlayX&&It)qe=St.x,Pt=jt.right-St.x;else{const je=Math.min(jt.right-St.x+jt.left,St.x),Rt=this._lastBoundingBoxSize.width;Pt=2*je,qe=St.x-je,Pt>Rt&&!this._isInitialRender&&!this._growAfterOpen&&(qe=St.x-Rt/2)}return{top:Kt,left:qe,bottom:Qe,right:Dt,width:Pt,height:$}}_setBoundingBoxStyles(St,mt){const jt=this._calculateBoundingBoxRect(St,mt);!this._isInitialRender&&!this._growAfterOpen&&(jt.height=Math.min(jt.height,this._lastBoundingBoxSize.height),jt.width=Math.min(jt.width,this._lastBoundingBoxSize.width));const It={};if(this._hasExactPosition())It.top=It.left="0",It.bottom=It.right=It.maxHeight=It.maxWidth="",It.width=It.height="100%";else{const $=this._overlayRef.getConfig().maxHeight,Kt=this._overlayRef.getConfig().maxWidth;It.height=(0,ye.a1)(jt.height),It.top=(0,ye.a1)(jt.top),It.bottom=(0,ye.a1)(jt.bottom),It.width=(0,ye.a1)(jt.width),It.left=(0,ye.a1)(jt.left),It.right=(0,ye.a1)(jt.right),It.alignItems="center"===mt.overlayX?"center":"end"===mt.overlayX?"flex-end":"flex-start",It.justifyContent="center"===mt.overlayY?"center":"bottom"===mt.overlayY?"flex-end":"flex-start",$&&(It.maxHeight=(0,ye.a1)($)),Kt&&(It.maxWidth=(0,ye.a1)(Kt))}this._lastBoundingBoxSize=jt,yt(this._boundingBox.style,It)}_resetBoundingBoxStyles(){yt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(St,mt){const jt={},It=this._hasExactPosition(),$=this._hasFlexibleDimensions,Kt=this._overlayRef.getConfig();if(It){const Pt=this._viewportRuler.getViewportScrollPosition();yt(jt,this._getExactOverlayY(mt,St,Pt)),yt(jt,this._getExactOverlayX(mt,St,Pt))}else jt.position="static";let Qe="",ui=this._getOffset(mt,"x"),xe=this._getOffset(mt,"y");ui&&(Qe+=`translateX(${ui}px) `),xe&&(Qe+=`translateY(${xe}px)`),jt.transform=Qe.trim(),Kt.maxHeight&&(It?jt.maxHeight=(0,ye.a1)(Kt.maxHeight):$&&(jt.maxHeight="")),Kt.maxWidth&&(It?jt.maxWidth=(0,ye.a1)(Kt.maxWidth):$&&(jt.maxWidth="")),yt(this._pane.style,jt)}_getExactOverlayY(St,mt,jt){let It={top:"",bottom:""},$=this._getOverlayPoint(mt,this._overlayRect,St);return this._isPushed&&($=this._pushOverlayOnScreen($,this._overlayRect,jt)),"bottom"===St.overlayY?It.bottom=this._document.documentElement.clientHeight-($.y+this._overlayRect.height)+"px":It.top=(0,ye.a1)($.y),It}_getExactOverlayX(St,mt,jt){let Kt,It={left:"",right:""},$=this._getOverlayPoint(mt,this._overlayRect,St);return this._isPushed&&($=this._pushOverlayOnScreen($,this._overlayRect,jt)),Kt=this._isRtl()?"end"===St.overlayX?"left":"right":"end"===St.overlayX?"right":"left","right"===Kt?It.right=this._document.documentElement.clientWidth-($.x+this._overlayRect.width)+"px":It.left=(0,ye.a1)($.x),It}_getScrollVisibility(){const St=this._getOriginRect(),mt=this._pane.getBoundingClientRect(),jt=this._scrollables.map(It=>It.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Le(St,jt),isOriginOutsideView:Oe(St,jt),isOverlayClipped:Le(mt,jt),isOverlayOutsideView:Oe(mt,jt)}}_subtractOverflows(St,...mt){return mt.reduce((jt,It)=>jt-Math.max(It,0),St)}_getNarrowedViewportRect(){const St=this._document.documentElement.clientWidth,mt=this._document.documentElement.clientHeight,jt=this._viewportRuler.getViewportScrollPosition();return{top:jt.top+this._viewportMargin,left:jt.left+this._viewportMargin,right:jt.left+St-this._viewportMargin,bottom:jt.top+mt-this._viewportMargin,width:St-2*this._viewportMargin,height:mt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(St,mt){return"x"===mt?null==St.offsetX?this._offsetX:St.offsetX:null==St.offsetY?this._offsetY:St.offsetY}_validatePositions(){}_addPanelClasses(St){this._pane&&(0,ye.FG)(St).forEach(mt=>{""!==mt&&-1===this._appliedPanelClasses.indexOf(mt)&&(this._appliedPanelClasses.push(mt),this._pane.classList.add(mt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(St=>{this._pane.classList.remove(St)}),this._appliedPanelClasses=[])}_getOriginRect(){const St=this._origin;if(St instanceof E.aKT)return St.nativeElement.getBoundingClientRect();if(St instanceof Element)return St.getBoundingClientRect();const mt=St.width||0,jt=St.height||0;return{top:St.y,bottom:St.y+jt,left:St.x,right:St.x+mt,height:jt,width:mt}}}function yt(Ni,St){for(let mt in St)St.hasOwnProperty(mt)&&(Ni[mt]=St[mt]);return Ni}function Zt(Ni){if("number"!=typeof Ni&&null!=Ni){const[St,mt]=Ni.split(ii);return mt&&"px"!==mt?null:parseFloat(St)}return Ni||null}function Tt(Ni){return{top:Math.floor(Ni.top),right:Math.floor(Ni.right),bottom:Math.floor(Ni.bottom),left:Math.floor(Ni.left),width:Math.floor(Ni.width),height:Math.floor(Ni.height)}}const ri="cdk-global-overlay-wrapper";class ct{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(St){const mt=St.getConfig();this._overlayRef=St,this._width&&!mt.width&&St.updateSize({width:this._width}),this._height&&!mt.height&&St.updateSize({height:this._height}),St.hostElement.classList.add(ri),this._isDisposed=!1}top(St=""){return this._bottomOffset="",this._topOffset=St,this._alignItems="flex-start",this}left(St=""){return this._xOffset=St,this._xPosition="left",this}bottom(St=""){return this._topOffset="",this._bottomOffset=St,this._alignItems="flex-end",this}right(St=""){return this._xOffset=St,this._xPosition="right",this}start(St=""){return this._xOffset=St,this._xPosition="start",this}end(St=""){return this._xOffset=St,this._xPosition="end",this}width(St=""){return this._overlayRef?this._overlayRef.updateSize({width:St}):this._width=St,this}height(St=""){return this._overlayRef?this._overlayRef.updateSize({height:St}):this._height=St,this}centerHorizontally(St=""){return this.left(St),this._xPosition="center",this}centerVertically(St=""){return this.top(St),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const St=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement.style,jt=this._overlayRef.getConfig(),{width:It,height:$,maxWidth:Kt,maxHeight:Qe}=jt,ui=!("100%"!==It&&"100vw"!==It||Kt&&"100%"!==Kt&&"100vw"!==Kt),xe=!("100%"!==$&&"100vh"!==$||Qe&&"100%"!==Qe&&"100vh"!==Qe),Pt=this._xPosition,qe=this._xOffset,Dt="rtl"===this._overlayRef.getConfig().direction;let je="",Rt="",Te="";ui?Te="flex-start":"center"===Pt?(Te="center",Dt?Rt=qe:je=qe):Dt?"left"===Pt||"end"===Pt?(Te="flex-end",je=qe):("right"===Pt||"start"===Pt)&&(Te="flex-start",Rt=qe):"left"===Pt||"start"===Pt?(Te="flex-start",je=qe):("right"===Pt||"end"===Pt)&&(Te="flex-end",Rt=qe),St.position=this._cssPosition,St.marginLeft=ui?"0":je,St.marginTop=xe?"0":this._topOffset,St.marginBottom=this._bottomOffset,St.marginRight=ui?"0":Rt,mt.justifyContent=Te,mt.alignItems=xe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const St=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement,jt=mt.style;mt.classList.remove(ri),jt.justifyContent=jt.alignItems=St.marginTop=St.marginBottom=St.marginLeft=St.marginRight=St.position="",this._overlayRef=null,this._isDisposed=!0}}let Ut=(()=>{class Ni{constructor(mt,jt,It,$){this._viewportRuler=mt,this._document=jt,this._platform=It,this._overlayContainer=$}global(){return new ct}flexibleConnectedTo(mt){return new ut(mt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(b.Xj),E.KVO(O.qQ),E.KVO(K.OD),E.KVO(Qt))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})(),ft=0,Wt=(()=>{class Ni{constructor(mt,jt,It,$,Kt,Qe,ui,xe,Pt,qe,Dt,je){this.scrollStrategies=mt,this._overlayContainer=jt,this._componentFactoryResolver=It,this._positionBuilder=$,this._keyboardDispatcher=Kt,this._injector=Qe,this._ngZone=ui,this._document=xe,this._directionality=Pt,this._location=qe,this._outsideClickDispatcher=Dt,this._animationsModuleType=je}create(mt){const jt=this._createHostElement(),It=this._createPaneElement(jt),$=this._createPortalOutlet(It),Kt=new Ht(mt);return Kt.direction=Kt.direction||this._directionality.value,new lt($,jt,It,Kt,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(mt){const jt=this._document.createElement("div");return jt.id="cdk-overlay-"+ft++,jt.classList.add("cdk-overlay-pane"),mt.appendChild(jt),jt}_createHostElement(){const mt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(mt),mt}_createPortalOutlet(mt){return this._appRef||(this._appRef=this._injector.get(E.o8S)),new ue.aI(mt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.KVO(Ye),E.KVO(Qt),E.KVO(E.OM3),E.KVO(Ut),E.KVO(Oi),E.KVO(E.zZn),E.KVO(E.SKi),E.KVO(O.qQ),E.KVO(ve.dS),E.KVO(O.aZ),E.KVO(Cn),E.KVO(E.bc$,8))}}static{this.\u0275prov=E.jDH({token:Ni,factory:Ni.\u0275fac,providedIn:"root"})}}return Ni})();const tt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yt=new E.nKC("cdk-connected-overlay-scroll-strategy");let Mi=(()=>{class Ni{constructor(mt){this.elementRef=mt}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.rXU(E.aKT))}}static{this.\u0275dir=E.FsC({type:Ni,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return Ni})(),Qi=(()=>{class Ni{get offsetX(){return this._offsetX}set offsetX(mt){this._offsetX=mt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(mt){this._offsetY=mt,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(mt){this._hasBackdrop=(0,ye.he)(mt)}get lockPosition(){return this._lockPosition}set lockPosition(mt){this._lockPosition=(0,ye.he)(mt)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(mt){this._flexibleDimensions=(0,ye.he)(mt)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(mt){this._growAfterOpen=(0,ye.he)(mt)}get push(){return this._push}set push(mt){this._push=(0,ye.he)(mt)}constructor(mt,jt,It,$,Kt){this._overlay=mt,this._dir=Kt,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Be.yU.EMPTY,this._attachSubscription=Be.yU.EMPTY,this._detachSubscription=Be.yU.EMPTY,this._positionSubscription=Be.yU.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new E.bkB,this.positionChange=new E.bkB,this.attach=new E.bkB,this.detach=new E.bkB,this.overlayKeydown=new E.bkB,this.overlayOutsideClick=new E.bkB,this._templatePortal=new ue.VA(jt,It),this._scrollStrategyFactory=$,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(mt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),mt.origin&&this.open&&this._position.apply()),mt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=tt);const mt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=mt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=mt.detachments().subscribe(()=>this.detach.emit()),mt.keydownEvents().subscribe(jt=>{this.overlayKeydown.next(jt),jt.keyCode===qt._f&&!this.disableClose&&!(0,qt.rp)(jt)&&(jt.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(jt=>{this.overlayOutsideClick.next(jt)})}_buildConfig(){const mt=this._position=this.positionStrategy||this._createPositionStrategy(),jt=new Ht({direction:this._dir,positionStrategy:mt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(jt.width=this.width),(this.height||0===this.height)&&(jt.height=this.height),(this.minWidth||0===this.minWidth)&&(jt.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(jt.minHeight=this.minHeight),this.backdropClass&&(jt.backdropClass=this.backdropClass),this.panelClass&&(jt.panelClass=this.panelClass),jt}_updatePositionStrategy(mt){const jt=this.positions.map(It=>({originX:It.originX,originY:It.originY,overlayX:It.overlayX,overlayY:It.overlayY,offsetX:It.offsetX||this.offsetX,offsetY:It.offsetY||this.offsetY,panelClass:It.panelClass||void 0}));return mt.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(jt).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const mt=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(mt),mt}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Mi?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(mt=>{this.backdropClick.emit(mt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Ce(Ni,St=!1){return(0,ie.N)((mt,jt)=>{let It=0;mt.subscribe((0,ee._)(jt,$=>{const Kt=Ni($,It++);(Kt||St)&&jt.next($),!Kt&&jt.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(mt=>{this.positionChange.emit(mt),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(jt){return new(jt||Ni)(E.rXU(Wt),E.rXU(E.C4Q),E.rXU(E.c1b),E.rXU(Yt),E.rXU(ve.dS,8))}}static{this.\u0275dir=E.FsC({type:Ni,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[E.OA$]})}}return Ni})();const dn={provide:Yt,deps:[Wt],useFactory:function tn(Ni){return()=>Ni.scrollStrategies.reposition()}};let gn=(()=>{class Ni{static{this.\u0275fac=function(jt){return new(jt||Ni)}}static{this.\u0275mod=E.$C({type:Ni})}static{this.\u0275inj=E.G2t({providers:[Wt,dn],imports:[ve.jI,ue.jc,b.E9,b.E9]})}}return Ni})()},6860:(Ui,ni,N)=>{"use strict";N.d(ni,{BD:()=>Be,BQ:()=>Ce,CZ:()=>P,Fb:()=>oi,KT:()=>pt,MU:()=>rt,OD:()=>ye,v8:()=>q,vc:()=>Ai});var b=N(7705),O=N(177);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let Ke,ye=(()=>{class Ot{constructor(Le){this._platformId=Le,this.isBrowser=this._platformId?(0,O.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(We){return new(We||Ot)(b.KVO(b.Agw))}}static{this.\u0275prov=b.jDH({token:Ot,factory:Ot.\u0275fac,providedIn:"root"})}}return Ot})();const j=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rt(){if(Ke)return Ke;if("object"!=typeof document||!document)return Ke=new Set(j),Ke;let Ot=document.createElement("input");return Ke=new Set(j.filter(Oe=>(Ot.setAttribute("type",Oe),Ot.type===Oe))),Ke}let ie,ve,ue,Ct;function Ce(Ot){return function ee(){if(null==ie&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ie=!0}))}finally{ie=ie||!1}return ie}()?Ot:!!Ot.capture}function P(){if(null==ue){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ue=!1,ue;if("scrollBehavior"in document.documentElement.style)ue=!0;else{const Ot=Element.prototype.scrollTo;ue=!!Ot&&!/\{\s*\[native code\]\s*\}/.test(Ot.toString())}}return ue}function Be(){if("object"!=typeof document||!document)return 0;if(null==ve){const Ot=document.createElement("div"),Oe=Ot.style;Ot.dir="rtl",Oe.width="1px",Oe.overflow="auto",Oe.visibility="hidden",Oe.pointerEvents="none",Oe.position="absolute";const Le=document.createElement("div"),We=Le.style;We.width="2px",We.height="1px",Ot.appendChild(Le),document.body.appendChild(Ot),ve=0,0===Ot.scrollLeft&&(Ot.scrollLeft=1,ve=0===Ot.scrollLeft?1:2),Ot.remove()}return ve}function pt(Ot){if(function qt(){if(null==Ct){const Ot=typeof document<"u"?document.head:null;Ct=!(!Ot||!Ot.createShadowRoot&&!Ot.attachShadow)}return Ct}()){const Oe=Ot.getRootNode?Ot.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Oe instanceof ShadowRoot)return Oe}return null}function Ai(){let Ot=typeof document<"u"&&document?document.activeElement:null;for(;Ot&&Ot.shadowRoot;){const Oe=Ot.shadowRoot.activeElement;if(Oe===Ot)break;Ot=Oe}return Ot}function oi(Ot){return Ot.composedPath?Ot.composedPath()[0]:Ot.target}function q(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6939:(Ui,ni,N)=>{"use strict";N.d(ni,{A8:()=>ee,I3:()=>Ai,VA:()=>Ce,aI:()=>Be,bV:()=>qt,jc:()=>q,lb:()=>ue});var b=N(7705),O=N(177);class ie{attach(Le){return this._attachedHost=Le,Le.attach(this)}detach(){let Le=this._attachedHost;null!=Le&&(this._attachedHost=null,Le.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Le){this._attachedHost=Le}}class ee extends ie{constructor(Le,We,Ye,Ht,vi){super(),this.component=Le,this.viewContainerRef=We,this.injector=Ye,this.componentFactoryResolver=Ht,this.projectableNodes=vi}}class Ce extends ie{constructor(Le,We,Ye,Ht){super(),this.templateRef=Le,this.viewContainerRef=We,this.context=Ye,this.injector=Ht}get origin(){return this.templateRef.elementRef}attach(Le,We=this.context){return this.context=We,super.attach(Le)}detach(){return this.context=void 0,super.detach()}}class ve extends ie{constructor(Le){super(),this.element=Le instanceof b.aKT?Le.nativeElement:Le}}class ue{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Le){return Le instanceof ee?(this._attachedPortal=Le,this.attachComponentPortal(Le)):Le instanceof Ce?(this._attachedPortal=Le,this.attachTemplatePortal(Le)):this.attachDomPortal&&Le instanceof ve?(this._attachedPortal=Le,this.attachDomPortal(Le)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Le){this._disposeFn=Le}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Be extends ue{constructor(Le,We,Ye,Ht,vi){super(),this.outletElement=Le,this._componentFactoryResolver=We,this._appRef=Ye,this._defaultInjector=Ht,this.attachDomPortal=Et=>{const wi=Et.element,bi=this._document.createComment("dom-portal");wi.parentNode.insertBefore(bi,wi),this.outletElement.appendChild(wi),this._attachedPortal=Et,super.setDisposeFn(()=>{bi.parentNode&&bi.parentNode.replaceChild(wi,bi)})},this._document=vi}attachComponentPortal(Le){const Ye=(Le.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Le.component);let Ht;return Le.viewContainerRef?(Ht=Le.viewContainerRef.createComponent(Ye,Le.viewContainerRef.length,Le.injector||Le.viewContainerRef.injector,Le.projectableNodes||void 0),this.setDisposeFn(()=>Ht.destroy())):(Ht=Ye.create(Le.injector||this._defaultInjector||b.zZn.NULL),this._appRef.attachView(Ht.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ht.hostView),Ht.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ht)),this._attachedPortal=Le,Ht}attachTemplatePortal(Le){let We=Le.viewContainerRef,Ye=We.createEmbeddedView(Le.templateRef,Le.context,{injector:Le.injector});return Ye.rootNodes.forEach(Ht=>this.outletElement.appendChild(Ht)),Ye.detectChanges(),this.setDisposeFn(()=>{let Ht=We.indexOf(Ye);-1!==Ht&&We.remove(Ht)}),this._attachedPortal=Le,Ye}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Le){return Le.hostView.rootNodes[0]}}let qt=(()=>{class Oe extends Ce{constructor(We,Ye){super(We,Ye)}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.rXU(b.C4Q),b.rXU(b.c1b))}}static{this.\u0275dir=b.FsC({type:Oe,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[b.Vt3]})}}return Oe})(),Ai=(()=>{class Oe extends ue{constructor(We,Ye,Ht){super(),this._componentFactoryResolver=We,this._viewContainerRef=Ye,this._isInitialized=!1,this.attached=new b.bkB,this.attachDomPortal=vi=>{const Et=vi.element,wi=this._document.createComment("dom-portal");vi.setAttachedHost(this),Et.parentNode.insertBefore(wi,Et),this._getRootNode().appendChild(Et),this._attachedPortal=vi,super.setDisposeFn(()=>{wi.parentNode&&wi.parentNode.replaceChild(Et,wi)})},this._document=Ht}get portal(){return this._attachedPortal}set portal(We){this.hasAttached()&&!We&&!this._isInitialized||(this.hasAttached()&&super.detach(),We&&super.attach(We),this._attachedPortal=We||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(We){We.setAttachedHost(this);const Ye=null!=We.viewContainerRef?We.viewContainerRef:this._viewContainerRef,vi=(We.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(We.component),Et=Ye.createComponent(vi,Ye.length,We.injector||Ye.injector,We.projectableNodes||void 0);return Ye!==this._viewContainerRef&&this._getRootNode().appendChild(Et.hostView.rootNodes[0]),super.setDisposeFn(()=>Et.destroy()),this._attachedPortal=We,this._attachedRef=Et,this.attached.emit(Et),Et}attachTemplatePortal(We){We.setAttachedHost(this);const Ye=this._viewContainerRef.createEmbeddedView(We.templateRef,We.context,{injector:We.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=We,this._attachedRef=Ye,this.attached.emit(Ye),Ye}_getRootNode(){const We=this._viewContainerRef.element.nativeElement;return We.nodeType===We.ELEMENT_NODE?We:We.parentNode}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.rXU(b.OM3),b.rXU(b.c1b),b.rXU(O.qQ))}}static{this.\u0275dir=b.FsC({type:Oe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[b.Vt3]})}}return Oe})(),q=(()=>{class Oe{static{this.\u0275fac=function(Ye){return new(Ye||Oe)}}static{this.\u0275mod=b.$C({type:Oe})}static{this.\u0275inj=b.G2t({})}}return Oe})()},3980:(Ui,ni,N)=>{"use strict";N.d(ni,{uv:()=>Ut,Gj:()=>St,R:()=>ct,E9:()=>mt,Xj:()=>Wt});var b=N(4085),O=N(7705),E=N(1413),ye=N(7673),K=N(1985),Ke=N(3726),j=N(6780),rt=N(8359);const ie={schedule(jt){let It=requestAnimationFrame,$=cancelAnimationFrame;const{delegate:Kt}=ie;Kt&&(It=Kt.requestAnimationFrame,$=Kt.cancelAnimationFrame);const Qe=It(ui=>{$=void 0,jt(ui)});return new rt.yU(()=>$?.(Qe))},requestAnimationFrame(...jt){const{delegate:It}=ie;return(It?.requestAnimationFrame||requestAnimationFrame)(...jt)},cancelAnimationFrame(...jt){const{delegate:It}=ie;return(It?.cancelAnimationFrame||cancelAnimationFrame)(...jt)},delegate:void 0};var Ce=N(9687);new class ve extends Ce.q{flush(It){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:Kt}=this;let Qe;It=It||Kt.shift();do{if(Qe=It.execute(It.state,It.delay))break}while((It=Kt[0])&&It.id===$&&Kt.shift());if(this._active=!1,Qe){for(;(It=Kt[0])&&It.id===$&&Kt.shift();)It.unsubscribe();throw Qe}}}(class ee extends j.R{constructor(It,$){super(It,$),this.scheduler=It,this.work=$}requestAsyncId(It,$,Kt=0){return null!==Kt&&Kt>0?super.requestAsyncId(It,$,Kt):(It.actions.push(this),It._scheduled||(It._scheduled=ie.requestAnimationFrame(()=>It.flush(void 0))))}recycleAsyncId(It,$,Kt=0){var Qe;if(null!=Kt?Kt>0:this.delay>0)return super.recycleAsyncId(It,$,Kt);const{actions:ui}=It;null!=$&&(null===(Qe=ui[ui.length-1])||void 0===Qe?void 0:Qe.id)!==$&&(ie.cancelAnimationFrame($),It._scheduled=void 0)}});let Ct,Be=1;const qt={};function pt(jt){return jt in qt&&(delete qt[jt],!0)}const Ai={setImmediate(jt){const It=Be++;return qt[It]=!0,Ct||(Ct=Promise.resolve()),Ct.then(()=>pt(It)&&jt()),It},clearImmediate(jt){pt(jt)}},{setImmediate:q,clearImmediate:Ot}=Ai,Oe={setImmediate(...jt){const{delegate:It}=Oe;return(It?.setImmediate||q)(...jt)},clearImmediate(jt){const{delegate:It}=Oe;return(It?.clearImmediate||Ot)(jt)},delegate:void 0};new class We extends Ce.q{flush(It){this._active=!0;const $=this._scheduled;this._scheduled=void 0;const{actions:Kt}=this;let Qe;It=It||Kt.shift();do{if(Qe=It.execute(It.state,It.delay))break}while((It=Kt[0])&&It.id===$&&Kt.shift());if(this._active=!1,Qe){for(;(It=Kt[0])&&It.id===$&&Kt.shift();)It.unsubscribe();throw Qe}}}(class Le extends j.R{constructor(It,$){super(It,$),this.scheduler=It,this.work=$}requestAsyncId(It,$,Kt=0){return null!==Kt&&Kt>0?super.requestAsyncId(It,$,Kt):(It.actions.push(this),It._scheduled||(It._scheduled=Oe.setImmediate(It.flush.bind(It,void 0))))}recycleAsyncId(It,$,Kt=0){var Qe;if(null!=Kt?Kt>0:this.delay>0)return super.recycleAsyncId(It,$,Kt);const{actions:ui}=It;null!=$&&(null===(Qe=ui[ui.length-1])||void 0===Qe?void 0:Qe.id)!==$&&(Oe.clearImmediate($),It._scheduled===$&&(It._scheduled=void 0))}});var vi=N(3236),Et=N(9974),wi=N(8750),bi=N(4360),an=N(1584);function Oi(jt,It=vi.E){return function Ci(jt){return(0,Et.N)((It,$)=>{let Kt=!1,Qe=null,ui=null,xe=!1;const Pt=()=>{if(ui?.unsubscribe(),ui=null,Kt){Kt=!1;const Dt=Qe;Qe=null,$.next(Dt)}xe&&$.complete()},qe=()=>{ui=null,xe&&$.complete()};It.subscribe((0,bi._)($,Dt=>{Kt=!0,Qe=Dt,ui||(0,wi.Tg)(jt(Dt)).subscribe(ui=(0,bi._)($,Pt,qe))},()=>{xe=!0,(!Kt||!ui||ui.closed)&&$.complete()}))})}(()=>(0,an.O)(jt,It))}var Cn=N(5964),Qt=N(6977),lt=N(6860),wt=N(177),ii=N(8203);let ct=(()=>{class jt{constructor($,Kt,Qe){this._ngZone=$,this._platform=Kt,this._scrolled=new E.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Qe}register($){this.scrollContainers.has($)||this.scrollContainers.set($,$.elementScrolled().subscribe(()=>this._scrolled.next($)))}deregister($){const Kt=this.scrollContainers.get($);Kt&&(Kt.unsubscribe(),this.scrollContainers.delete($))}scrolled($=20){return this._platform.isBrowser?new K.c(Kt=>{this._globalSubscription||this._addGlobalListener();const Qe=$>0?this._scrolled.pipe(Oi($)).subscribe(Kt):this._scrolled.subscribe(Kt);return this._scrolledCount++,()=>{Qe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ye.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach(($,Kt)=>this.deregister(Kt)),this._scrolled.complete()}ancestorScrolled($,Kt){const Qe=this.getAncestorScrollContainers($);return this.scrolled(Kt).pipe((0,Cn.p)(ui=>!ui||Qe.indexOf(ui)>-1))}getAncestorScrollContainers($){const Kt=[];return this.scrollContainers.forEach((Qe,ui)=>{this._scrollableContainsElement(ui,$)&&Kt.push(ui)}),Kt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement($,Kt){let Qe=(0,b.i8)(Kt),ui=$.getElementRef().nativeElement;do{if(Qe==ui)return!0}while(Qe=Qe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const $=this._getWindow();return(0,Ke.R)($.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(Kt){return new(Kt||jt)(O.KVO(O.SKi),O.KVO(lt.OD),O.KVO(wt.qQ,8))}}static{this.\u0275prov=O.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})(),Ut=(()=>{class jt{constructor($,Kt,Qe,ui){this.elementRef=$,this.scrollDispatcher=Kt,this.ngZone=Qe,this.dir=ui,this._destroyed=new E.B,this._elementScrolled=new K.c(xe=>this.ngZone.runOutsideAngular(()=>(0,Ke.R)(this.elementRef.nativeElement,"scroll").pipe((0,Qt.Q)(this._destroyed)).subscribe(xe)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo($){const Kt=this.elementRef.nativeElement,Qe=this.dir&&"rtl"==this.dir.value;null==$.left&&($.left=Qe?$.end:$.start),null==$.right&&($.right=Qe?$.start:$.end),null!=$.bottom&&($.top=Kt.scrollHeight-Kt.clientHeight-$.bottom),Qe&&0!=(0,lt.BD)()?(null!=$.left&&($.right=Kt.scrollWidth-Kt.clientWidth-$.left),2==(0,lt.BD)()?$.left=$.right:1==(0,lt.BD)()&&($.left=$.right?-$.right:$.right)):null!=$.right&&($.left=Kt.scrollWidth-Kt.clientWidth-$.right),this._applyScrollToOptions($)}_applyScrollToOptions($){const Kt=this.elementRef.nativeElement;(0,lt.CZ)()?Kt.scrollTo($):(null!=$.top&&(Kt.scrollTop=$.top),null!=$.left&&(Kt.scrollLeft=$.left))}measureScrollOffset($){const Kt="left",ui=this.elementRef.nativeElement;if("top"==$)return ui.scrollTop;if("bottom"==$)return ui.scrollHeight-ui.clientHeight-ui.scrollTop;const xe=this.dir&&"rtl"==this.dir.value;return"start"==$?$=xe?"right":Kt:"end"==$&&($=xe?Kt:"right"),xe&&2==(0,lt.BD)()?$==Kt?ui.scrollWidth-ui.clientWidth-ui.scrollLeft:ui.scrollLeft:xe&&1==(0,lt.BD)()?$==Kt?ui.scrollLeft+ui.scrollWidth-ui.clientWidth:-ui.scrollLeft:$==Kt?ui.scrollLeft:ui.scrollWidth-ui.clientWidth-ui.scrollLeft}static{this.\u0275fac=function(Kt){return new(Kt||jt)(O.rXU(O.aKT),O.rXU(ct),O.rXU(O.SKi),O.rXU(ii.dS,8))}}static{this.\u0275dir=O.FsC({type:jt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return jt})(),Wt=(()=>{class jt{constructor($,Kt,Qe){this._platform=$,this._change=new E.B,this._changeListener=ui=>{this._change.next(ui)},this._document=Qe,Kt.runOutsideAngular(()=>{if($.isBrowser){const ui=this._getWindow();ui.addEventListener("resize",this._changeListener),ui.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const $=this._getWindow();$.removeEventListener("resize",this._changeListener),$.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const $={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),$}getViewportRect(){const $=this.getViewportScrollPosition(),{width:Kt,height:Qe}=this.getViewportSize();return{top:$.top,left:$.left,bottom:$.top+Qe,right:$.left+Kt,height:Qe,width:Kt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const $=this._document,Kt=this._getWindow(),Qe=$.documentElement,ui=Qe.getBoundingClientRect();return{top:-ui.top||$.body.scrollTop||Kt.scrollY||Qe.scrollTop||0,left:-ui.left||$.body.scrollLeft||Kt.scrollX||Qe.scrollLeft||0}}change($=20){return $>0?this._change.pipe(Oi($)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const $=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:$.innerWidth,height:$.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(Kt){return new(Kt||jt)(O.KVO(lt.OD),O.KVO(O.SKi),O.KVO(wt.qQ,8))}}static{this.\u0275prov=O.jDH({token:jt,factory:jt.\u0275fac,providedIn:"root"})}}return jt})(),St=(()=>{class jt{static{this.\u0275fac=function(Kt){return new(Kt||jt)}}static{this.\u0275mod=O.$C({type:jt})}static{this.\u0275inj=O.G2t({})}}return jt})(),mt=(()=>{class jt{static{this.\u0275fac=function(Kt){return new(Kt||jt)}}static{this.\u0275mod=O.$C({type:jt})}static{this.\u0275inj=O.G2t({imports:[ii.jI,St,ii.jI,St]})}}return jt})()},177:(Ui,ni,N)=>{"use strict";N.d(ni,{AJ:()=>Kr,B3:()=>il,Jj:()=>Ys,MD:()=>Mo,N0:()=>Pa,QT:()=>E,QX:()=>Cr,Sm:()=>Be,Sq:()=>ae,T3:()=>Rs,UE:()=>ta,VF:()=>K,Vy:()=>is,Xr:()=>ms,YU:()=>Mr,ZD:()=>ye,_b:()=>Po,aZ:()=>qt,bT:()=>dt,e1:()=>Rr,fG:()=>ua,fw:()=>Ct,hb:()=>ue,hj:()=>rt,lG:()=>Ia,qQ:()=>Ke,ux:()=>Un,vh:()=>Hr});var b=N(7705);let O=null;function E(){return O}function ye(le){O||(O=le)}class K{}const Ke=new b.nKC("DocumentToken");let j=(()=>{class le{historyGo(Ae){throw new Error("Not implemented")}static{this.\u0275fac=function(it){return new(it||le)}}static{this.\u0275prov=b.jDH({token:le,factory:function(){return(0,b.WQX)(ie)},providedIn:"platform"})}}return le})();const rt=new b.nKC("Location Initialized");let ie=(()=>{class le extends j{constructor(){super(),this._doc=(0,b.WQX)(Ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(Ae){const it=E().getGlobalEventTarget(this._doc,"window");return it.addEventListener("popstate",Ae,!1),()=>it.removeEventListener("popstate",Ae)}onHashChange(Ae){const it=E().getGlobalEventTarget(this._doc,"window");return it.addEventListener("hashchange",Ae,!1),()=>it.removeEventListener("hashchange",Ae)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Ae){this._location.pathname=Ae}pushState(Ae,it,yi){this._history.pushState(Ae,it,yi)}replaceState(Ae,it,yi){this._history.replaceState(Ae,it,yi)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Ae=0){this._history.go(Ae)}getState(){return this._history.state}static{this.\u0275fac=function(it){return new(it||le)}}static{this.\u0275prov=b.jDH({token:le,factory:function(){return new le},providedIn:"platform"})}}return le})();function ee(le,vt){if(0==le.length)return vt;if(0==vt.length)return le;let Ae=0;return le.endsWith("/")&&Ae++,vt.startsWith("/")&&Ae++,2==Ae?le+vt.substring(1):1==Ae?le+vt:le+"/"+vt}function Ce(le){const vt=le.match(/#|\?|$/),Ae=vt&&vt.index||le.length;return le.slice(0,Ae-("/"===le[Ae-1]?1:0))+le.slice(Ae)}function ve(le){return le&&"?"!==le[0]?"?"+le:le}let ue=(()=>{class le{historyGo(Ae){throw new Error("Not implemented")}static{this.\u0275fac=function(it){return new(it||le)}}static{this.\u0275prov=b.jDH({token:le,factory:function(){return(0,b.WQX)(Be)},providedIn:"root"})}}return le})();const P=new b.nKC("appBaseHref");let Be=(()=>{class le extends ue{constructor(Ae,it){super(),this._platformLocation=Ae,this._removeListenerFns=[],this._baseHref=it??this._platformLocation.getBaseHrefFromDOM()??(0,b.WQX)(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}prepareExternalUrl(Ae){return ee(this._baseHref,Ae)}path(Ae=!1){const it=this._platformLocation.pathname+ve(this._platformLocation.search),yi=this._platformLocation.hash;return yi&&Ae?`${it}${yi}`:it}pushState(Ae,it,yi,qi){const un=this.prepareExternalUrl(yi+ve(qi));this._platformLocation.pushState(Ae,it,un)}replaceState(Ae,it,yi,qi){const un=this.prepareExternalUrl(yi+ve(qi));this._platformLocation.replaceState(Ae,it,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(it){return new(it||le)(b.KVO(j),b.KVO(P,8))}}static{this.\u0275prov=b.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}}return le})(),Ct=(()=>{class le extends ue{constructor(Ae,it){super(),this._platformLocation=Ae,this._baseHref="",this._removeListenerFns=[],null!=it&&(this._baseHref=it)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Ae){this._removeListenerFns.push(this._platformLocation.onPopState(Ae),this._platformLocation.onHashChange(Ae))}getBaseHref(){return this._baseHref}path(Ae=!1){let it=this._platformLocation.hash;return null==it&&(it="#"),it.length>0?it.substring(1):it}prepareExternalUrl(Ae){const it=ee(this._baseHref,Ae);return it.length>0?"#"+it:it}pushState(Ae,it,yi,qi){let un=this.prepareExternalUrl(yi+ve(qi));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(Ae,it,un)}replaceState(Ae,it,yi,qi){let un=this.prepareExternalUrl(yi+ve(qi));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(Ae,it,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Ae=0){this._platformLocation.historyGo?.(Ae)}static{this.\u0275fac=function(it){return new(it||le)(b.KVO(j),b.KVO(P,8))}}static{this.\u0275prov=b.jDH({token:le,factory:le.\u0275fac})}}return le})(),qt=(()=>{class le{constructor(Ae){this._subject=new b.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Ae;const it=this._locationStrategy.getBaseHref();this._basePath=function q(le){if(new RegExp("^(https?:)?//").test(le)){const[,Ae]=le.split(/\/\/[^\/]+/);return Ae}return le}(Ce(oi(it))),this._locationStrategy.onPopState(yi=>{this._subject.emit({url:this.path(!0),pop:!0,state:yi.state,type:yi.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Ae=!1){return this.normalize(this._locationStrategy.path(Ae))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Ae,it=""){return this.path()==this.normalize(Ae+ve(it))}normalize(Ae){return le.stripTrailingSlash(function Ai(le,vt){if(!le||!vt.startsWith(le))return vt;const Ae=vt.substring(le.length);return""===Ae||["/",";","?","#"].includes(Ae[0])?Ae:vt}(this._basePath,oi(Ae)))}prepareExternalUrl(Ae){return Ae&&"/"!==Ae[0]&&(Ae="/"+Ae),this._locationStrategy.prepareExternalUrl(Ae)}go(Ae,it="",yi=null){this._locationStrategy.pushState(yi,"",Ae,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+ve(it)),yi)}replaceState(Ae,it="",yi=null){this._locationStrategy.replaceState(yi,"",Ae,it),this._notifyUrlChangeListeners(this.prepareExternalUrl(Ae+ve(it)),yi)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Ae=0){this._locationStrategy.historyGo?.(Ae)}onUrlChange(Ae){return this._urlChangeListeners.push(Ae),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(it=>{this._notifyUrlChangeListeners(it.url,it.state)})),()=>{const it=this._urlChangeListeners.indexOf(Ae);this._urlChangeListeners.splice(it,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Ae="",it){this._urlChangeListeners.forEach(yi=>yi(Ae,it))}subscribe(Ae,it,yi){return this._subject.subscribe({next:Ae,error:it,complete:yi})}static{this.normalizeQueryParams=ve}static{this.joinWithSlash=ee}static{this.stripTrailingSlash=Ce}static{this.\u0275fac=function(it){return new(it||le)(b.KVO(ue))}}static{this.\u0275prov=b.jDH({token:le,factory:function(){return function pt(){return new qt((0,b.KVO)(ue))}()},providedIn:"root"})}}return le})();function oi(le){return le.replace(/\/index.html$/,"")}var Oe=function(le){return le[le.Decimal=0]="Decimal",le[le.Percent=1]="Percent",le[le.Currency=2]="Currency",le[le.Scientific=3]="Scientific",le}(Oe||{}),We=function(le){return le[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le}(We||{}),Ye=function(le){return le[le.Narrow=0]="Narrow",le[le.Abbreviated=1]="Abbreviated",le[le.Wide=2]="Wide",le[le.Short=3]="Short",le}(Ye||{}),Ht=function(le){return le[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le}(Ht||{}),vi=function(le){return le[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le}(vi||{});function lt(le,vt){return tt((0,b.H5H)(le)[b.KH2.DateFormat],vt)}function wt(le,vt){return tt((0,b.H5H)(le)[b.KH2.TimeFormat],vt)}function ii(le,vt){return tt((0,b.H5H)(le)[b.KH2.DateTimeFormat],vt)}function ut(le,vt){const Ae=(0,b.H5H)(le),it=Ae[b.KH2.NumberSymbols][vt];if(typeof it>"u"){if(vt===vi.CurrencyDecimal)return Ae[b.KH2.NumberSymbols][vi.Decimal];if(vt===vi.CurrencyGroup)return Ae[b.KH2.NumberSymbols][vi.Group]}return it}function ct(le){if(!le[b.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${le[b.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function tt(le,vt){for(let Ae=vt;Ae>-1;Ae--)if(typeof le[Ae]<"u")return le[Ae];throw new Error("Locale data API: locale data undefined")}function Yt(le){const[vt,Ae]=le.split(":");return{hours:+vt,minutes:+Ae}}const dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gn={},Sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ni=function(le){return le[le.Short=0]="Short",le[le.ShortGMT=1]="ShortGMT",le[le.Long=2]="Long",le[le.Extended=3]="Extended",le}(Ni||{}),St=function(le){return le[le.FullYear=0]="FullYear",le[le.Month=1]="Month",le[le.Date=2]="Date",le[le.Hours=3]="Hours",le[le.Minutes=4]="Minutes",le[le.Seconds=5]="Seconds",le[le.FractionalSeconds=6]="FractionalSeconds",le[le.Day=7]="Day",le}(St||{}),mt=function(le){return le[le.DayPeriods=0]="DayPeriods",le[le.Days=1]="Days",le[le.Months=2]="Months",le[le.Eras=3]="Eras",le}(mt||{});function jt(le,vt,Ae,it){let yi=function _t(le){if(Se(le))return le;if("number"==typeof le&&!isNaN(le))return new Date(le);if("string"==typeof le){if(le=le.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(le)){const[yi,qi=1,un=1]=le.split("-").map(Bn=>+Bn);return It(yi,qi-1,un)}const Ae=parseFloat(le);if(!isNaN(le-Ae))return new Date(Ae);let it;if(it=le.match(dn))return function at(le){const vt=new Date(0);let Ae=0,it=0;const yi=le[8]?vt.setUTCFullYear:vt.setFullYear,qi=le[8]?vt.setUTCHours:vt.setHours;le[9]&&(Ae=Number(le[9]+le[10]),it=Number(le[9]+le[11])),yi.call(vt,Number(le[1]),Number(le[2])-1,Number(le[3]));const un=Number(le[4]||0)-Ae,Bn=Number(le[5]||0)-it,ro=Number(le[6]||0),Wr=Math.floor(1e3*parseFloat("0."+(le[7]||0)));return qi.call(vt,un,Bn,ro,Wr),vt}(it)}const vt=new Date(le);if(!Se(vt))throw new Error(`Unable to convert "${le}" into a date`);return vt}(le);vt=$(Ae,vt)||vt;let Bn,un=[];for(;vt;){if(Bn=Sn.exec(vt),!Bn){un.push(vt);break}{un=un.concat(Bn.slice(1));const _r=un.pop();if(!_r)break;vt=_r}}let ro=yi.getTimezoneOffset();it&&(ro=Ve(it,ro),yi=function Ri(le,vt,Ae){const it=Ae?-1:1,yi=le.getTimezoneOffset();return function zt(le,vt){return(le=new Date(le.getTime())).setMinutes(le.getMinutes()+vt),le}(le,it*(Ve(vt,yi)-yi))}(yi,it,!0));let Wr="";return un.forEach(_r=>{const jn=function Re(le){if(ge[le])return ge[le];let vt;switch(le){case"G":case"GG":case"GGG":vt=qe(mt.Eras,Ye.Abbreviated);break;case"GGGG":vt=qe(mt.Eras,Ye.Wide);break;case"GGGGG":vt=qe(mt.Eras,Ye.Narrow);break;case"y":vt=xe(St.FullYear,1,0,!1,!0);break;case"yy":vt=xe(St.FullYear,2,0,!0,!0);break;case"yyy":vt=xe(St.FullYear,3,0,!1,!0);break;case"yyyy":vt=xe(St.FullYear,4,0,!1,!0);break;case"Y":vt=te(1);break;case"YY":vt=te(2,!0);break;case"YYY":vt=te(3);break;case"YYYY":vt=te(4);break;case"M":case"L":vt=xe(St.Month,1,1);break;case"MM":case"LL":vt=xe(St.Month,2,1);break;case"MMM":vt=qe(mt.Months,Ye.Abbreviated);break;case"MMMM":vt=qe(mt.Months,Ye.Wide);break;case"MMMMM":vt=qe(mt.Months,Ye.Narrow);break;case"LLL":vt=qe(mt.Months,Ye.Abbreviated,We.Standalone);break;case"LLLL":vt=qe(mt.Months,Ye.Wide,We.Standalone);break;case"LLLLL":vt=qe(mt.Months,Ye.Narrow,We.Standalone);break;case"w":vt=Pe(1);break;case"ww":vt=Pe(2);break;case"W":vt=Pe(1,!0);break;case"d":vt=xe(St.Date,1);break;case"dd":vt=xe(St.Date,2);break;case"c":case"cc":vt=xe(St.Day,1);break;case"ccc":vt=qe(mt.Days,Ye.Abbreviated,We.Standalone);break;case"cccc":vt=qe(mt.Days,Ye.Wide,We.Standalone);break;case"ccccc":vt=qe(mt.Days,Ye.Narrow,We.Standalone);break;case"cccccc":vt=qe(mt.Days,Ye.Short,We.Standalone);break;case"E":case"EE":case"EEE":vt=qe(mt.Days,Ye.Abbreviated);break;case"EEEE":vt=qe(mt.Days,Ye.Wide);break;case"EEEEE":vt=qe(mt.Days,Ye.Narrow);break;case"EEEEEE":vt=qe(mt.Days,Ye.Short);break;case"a":case"aa":case"aaa":vt=qe(mt.DayPeriods,Ye.Abbreviated);break;case"aaaa":vt=qe(mt.DayPeriods,Ye.Wide);break;case"aaaaa":vt=qe(mt.DayPeriods,Ye.Narrow);break;case"b":case"bb":case"bbb":vt=qe(mt.DayPeriods,Ye.Abbreviated,We.Standalone,!0);break;case"bbbb":vt=qe(mt.DayPeriods,Ye.Wide,We.Standalone,!0);break;case"bbbbb":vt=qe(mt.DayPeriods,Ye.Narrow,We.Standalone,!0);break;case"B":case"BB":case"BBB":vt=qe(mt.DayPeriods,Ye.Abbreviated,We.Format,!0);break;case"BBBB":vt=qe(mt.DayPeriods,Ye.Wide,We.Format,!0);break;case"BBBBB":vt=qe(mt.DayPeriods,Ye.Narrow,We.Format,!0);break;case"h":vt=xe(St.Hours,1,-12);break;case"hh":vt=xe(St.Hours,2,-12);break;case"H":vt=xe(St.Hours,1);break;case"HH":vt=xe(St.Hours,2);break;case"m":vt=xe(St.Minutes,1);break;case"mm":vt=xe(St.Minutes,2);break;case"s":vt=xe(St.Seconds,1);break;case"ss":vt=xe(St.Seconds,2);break;case"S":vt=xe(St.FractionalSeconds,1);break;case"SS":vt=xe(St.FractionalSeconds,2);break;case"SSS":vt=xe(St.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":vt=je(Ni.Short);break;case"ZZZZZ":vt=je(Ni.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":vt=je(Ni.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":vt=je(Ni.Long);break;default:return null}return ge[le]=vt,vt}(_r);Wr+=jn?jn(yi,Ae,ro):"''"===_r?"'":_r.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Wr}function It(le,vt,Ae){const it=new Date(0);return it.setFullYear(le,vt,Ae),it.setHours(0,0,0),it}function $(le,vt){const Ae=function wi(le){return(0,b.H5H)(le)[b.KH2.LocaleId]}(le);if(gn[Ae]=gn[Ae]||{},gn[Ae][vt])return gn[Ae][vt];let it="";switch(vt){case"shortDate":it=lt(le,Ht.Short);break;case"mediumDate":it=lt(le,Ht.Medium);break;case"longDate":it=lt(le,Ht.Long);break;case"fullDate":it=lt(le,Ht.Full);break;case"shortTime":it=wt(le,Ht.Short);break;case"mediumTime":it=wt(le,Ht.Medium);break;case"longTime":it=wt(le,Ht.Long);break;case"fullTime":it=wt(le,Ht.Full);break;case"short":const yi=$(le,"shortTime"),qi=$(le,"shortDate");it=Kt(ii(le,Ht.Short),[yi,qi]);break;case"medium":const un=$(le,"mediumTime"),Bn=$(le,"mediumDate");it=Kt(ii(le,Ht.Medium),[un,Bn]);break;case"long":const ro=$(le,"longTime"),Wr=$(le,"longDate");it=Kt(ii(le,Ht.Long),[ro,Wr]);break;case"full":const _r=$(le,"fullTime"),jn=$(le,"fullDate");it=Kt(ii(le,Ht.Full),[_r,jn])}return it&&(gn[Ae][vt]=it),it}function Kt(le,vt){return vt&&(le=le.replace(/\{([^}]+)}/g,function(Ae,it){return null!=vt&&it in vt?vt[it]:Ae})),le}function Qe(le,vt,Ae="-",it,yi){let qi="";(le<0||yi&&le<=0)&&(yi?le=1-le:(le=-le,qi=Ae));let un=String(le);for(;un.length<vt;)un="0"+un;return it&&(un=un.slice(un.length-vt)),qi+un}function xe(le,vt,Ae=0,it=!1,yi=!1){return function(qi,un){let Bn=function Pt(le,vt){switch(le){case St.FullYear:return vt.getFullYear();case St.Month:return vt.getMonth();case St.Date:return vt.getDate();case St.Hours:return vt.getHours();case St.Minutes:return vt.getMinutes();case St.Seconds:return vt.getSeconds();case St.FractionalSeconds:return vt.getMilliseconds();case St.Day:return vt.getDay();default:throw new Error(`Unknown DateType value "${le}".`)}}(le,qi);if((Ae>0||Bn>-Ae)&&(Bn+=Ae),le===St.Hours)0===Bn&&-12===Ae&&(Bn=12);else if(le===St.FractionalSeconds)return function ui(le,vt){return Qe(le,3).substring(0,vt)}(Bn,vt);const ro=ut(un,vi.MinusSign);return Qe(Bn,vt,ro,it,yi)}}function qe(le,vt,Ae=We.Format,it=!1){return function(yi,qi){return function Dt(le,vt,Ae,it,yi,qi){switch(Ae){case mt.Months:return function an(le,vt,Ae){const it=(0,b.H5H)(le),qi=tt([it[b.KH2.MonthsFormat],it[b.KH2.MonthsStandalone]],vt);return tt(qi,Ae)}(vt,yi,it)[le.getMonth()];case mt.Days:return function Ci(le,vt,Ae){const it=(0,b.H5H)(le),qi=tt([it[b.KH2.DaysFormat],it[b.KH2.DaysStandalone]],vt);return tt(qi,Ae)}(vt,yi,it)[le.getDay()];case mt.DayPeriods:const un=le.getHours(),Bn=le.getMinutes();if(qi){const Wr=function Ut(le){const vt=(0,b.H5H)(le);return ct(vt),(vt[b.KH2.ExtraData][2]||[]).map(it=>"string"==typeof it?Yt(it):[Yt(it[0]),Yt(it[1])])}(vt),_r=function ft(le,vt,Ae){const it=(0,b.H5H)(le);ct(it);const qi=tt([it[b.KH2.ExtraData][0],it[b.KH2.ExtraData][1]],vt)||[];return tt(qi,Ae)||[]}(vt,yi,it),jn=Wr.findIndex(Wo=>{if(Array.isArray(Wo)){const[xi,Yo]=Wo,ys=un>=xi.hours&&Bn>=xi.minutes,Ro=un<Yo.hours||un===Yo.hours&&Bn<Yo.minutes;if(xi.hours<Yo.hours){if(ys&&Ro)return!0}else if(ys||Ro)return!0}else if(Wo.hours===un&&Wo.minutes===Bn)return!0;return!1});if(-1!==jn)return _r[jn]}return function bi(le,vt,Ae){const it=(0,b.H5H)(le),qi=tt([it[b.KH2.DayPeriodsFormat],it[b.KH2.DayPeriodsStandalone]],vt);return tt(qi,Ae)}(vt,yi,it)[un<12?0:1];case mt.Eras:return function Oi(le,vt){return tt((0,b.H5H)(le)[b.KH2.Eras],vt)}(vt,it)[le.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ae}`)}}(yi,qi,le,vt,Ae,it)}}function je(le){return function(vt,Ae,it){const yi=-1*it,qi=ut(Ae,vi.MinusSign),un=yi>0?Math.floor(yi/60):Math.ceil(yi/60);switch(le){case Ni.Short:return(yi>=0?"+":"")+Qe(un,2,qi)+Qe(Math.abs(yi%60),2,qi);case Ni.ShortGMT:return"GMT"+(yi>=0?"+":"")+Qe(un,1,qi);case Ni.Long:return"GMT"+(yi>=0?"+":"")+Qe(un,2,qi)+":"+Qe(Math.abs(yi%60),2,qi);case Ni.Extended:return 0===it?"Z":(yi>=0?"+":"")+Qe(un,2,qi)+":"+Qe(Math.abs(yi%60),2,qi);default:throw new Error(`Unknown zone width "${le}"`)}}}const Rt=0,Te=4;function Gt(le){return It(le.getFullYear(),le.getMonth(),le.getDate()+(Te-le.getDay()))}function Pe(le,vt=!1){return function(Ae,it){let yi;if(vt){const qi=new Date(Ae.getFullYear(),Ae.getMonth(),1).getDay()-1,un=Ae.getDate();yi=1+Math.floor((un+qi)/7)}else{const qi=Gt(Ae),un=function bt(le){const vt=It(le,Rt,1).getDay();return It(le,0,1+(vt<=Te?Te:Te+7)-vt)}(qi.getFullYear()),Bn=qi.getTime()-un.getTime();yi=1+Math.round(Bn/6048e5)}return Qe(yi,le,ut(it,vi.MinusSign))}}function te(le,vt=!1){return function(Ae,it){return Qe(Gt(Ae).getFullYear(),le,ut(it,vi.MinusSign),vt)}}const ge={};function Ve(le,vt){le=le.replace(/:/g,"");const Ae=Date.parse("Jan 01, 1970 00:00:00 "+le)/6e4;return isNaN(Ae)?vt:Ae}function Se(le){return le instanceof Date&&!isNaN(le.valueOf())}const Me=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Fn(le){const vt=parseInt(le);if(isNaN(vt))throw new Error("Invalid integer literal when parsing "+le);return vt}function Po(le,vt){vt=encodeURIComponent(vt);for(const Ae of le.split(";")){const it=Ae.indexOf("="),[yi,qi]=-1==it?[Ae,""]:[Ae.slice(0,it),Ae.slice(it+1)];if(yi.trim()===vt)return decodeURIComponent(qi)}return null}const oo=/\s+/,nn=[];let Mr=(()=>{class le{constructor(Ae,it,yi,qi){this._iterableDiffers=Ae,this._keyValueDiffers=it,this._ngEl=yi,this._renderer=qi,this.initialClasses=nn,this.stateMap=new Map}set klass(Ae){this.initialClasses=null!=Ae?Ae.trim().split(oo):nn}set ngClass(Ae){this.rawClass="string"==typeof Ae?Ae.trim().split(oo):Ae}ngDoCheck(){for(const it of this.initialClasses)this._updateState(it,!0);const Ae=this.rawClass;if(Array.isArray(Ae)||Ae instanceof Set)for(const it of Ae)this._updateState(it,!0);else if(null!=Ae)for(const it of Object.keys(Ae))this._updateState(it,!!Ae[it]);this._applyStateDiff()}_updateState(Ae,it){const yi=this.stateMap.get(Ae);void 0!==yi?(yi.enabled!==it&&(yi.changed=!0,yi.enabled=it),yi.touched=!0):this.stateMap.set(Ae,{enabled:it,changed:!0,touched:!0})}_applyStateDiff(){for(const Ae of this.stateMap){const it=Ae[0],yi=Ae[1];yi.changed?(this._toggleClass(it,yi.enabled),yi.changed=!1):yi.touched||(yi.enabled&&this._toggleClass(it,!1),this.stateMap.delete(it)),yi.touched=!1}}_toggleClass(Ae,it){(Ae=Ae.trim()).length>0&&Ae.split(oo).forEach(yi=>{it?this._renderer.addClass(this._ngEl.nativeElement,yi):this._renderer.removeClass(this._ngEl.nativeElement,yi)})}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b._q3),b.rXU(b.MKu),b.rXU(b.aKT),b.rXU(b.sFG))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return le})();class pr{constructor(vt,Ae,it,yi){this.$implicit=vt,this.ngForOf=Ae,this.index=it,this.count=yi}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ae=(()=>{class le{set ngForOf(Ae){this._ngForOf=Ae,this._ngForOfDirty=!0}set ngForTrackBy(Ae){this._trackByFn=Ae}get ngForTrackBy(){return this._trackByFn}constructor(Ae,it,yi){this._viewContainer=Ae,this._template=it,this._differs=yi,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Ae){Ae&&(this._template=Ae)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Ae=this._ngForOf;!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create(this.ngForTrackBy))}if(this._differ){const Ae=this._differ.diff(this._ngForOf);Ae&&this._applyChanges(Ae)}}_applyChanges(Ae){const it=this._viewContainer;Ae.forEachOperation((yi,qi,un)=>{if(null==yi.previousIndex)it.createEmbeddedView(this._template,new pr(yi.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)it.remove(null===qi?void 0:qi);else if(null!==qi){const Bn=it.get(qi);it.move(Bn,un),En(Bn,yi)}});for(let yi=0,qi=it.length;yi<qi;yi++){const Bn=it.get(yi).context;Bn.index=yi,Bn.count=qi,Bn.ngForOf=this._ngForOf}Ae.forEachIdentityChange(yi=>{En(it.get(yi.currentIndex),yi)})}static ngTemplateContextGuard(Ae,it){return!0}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(b._q3))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return le})();function En(le,vt){le.context.$implicit=vt.item}let dt=(()=>{class le{constructor(Ae,it){this._viewContainer=Ae,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=it}set ngIf(Ae){this._context.$implicit=this._context.ngIf=Ae,this._updateView()}set ngIfThen(Ae){ti("ngIfThen",Ae),this._thenTemplateRef=Ae,this._thenViewRef=null,this._updateView()}set ngIfElse(Ae){ti("ngIfElse",Ae),this._elseTemplateRef=Ae,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Ae,it){return!0}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.c1b),b.rXU(b.C4Q))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return le})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function ti(le,vt){if(vt&&!vt.createEmbeddedView)throw new Error(`${le} must be a TemplateRef, but received '${(0,b.Tbb)(vt)}'.`)}class Fi{constructor(vt,Ae){this._viewContainerRef=vt,this._templateRef=Ae,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(vt){vt&&!this._created?this.create():!vt&&this._created&&this.destroy()}}let Un=(()=>{class le{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(Ae){this._ngSwitch=Ae,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(Ae){this._defaultViews.push(Ae)}_matchCase(Ae){const it=Ae==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||it,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),it}_updateDefaultCases(Ae){if(this._defaultViews.length>0&&Ae!==this._defaultUsed){this._defaultUsed=Ae;for(const it of this._defaultViews)it.enforceState(Ae)}}static{this.\u0275fac=function(it){return new(it||le)}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return le})(),Rr=(()=>{class le{constructor(Ae,it,yi){this.ngSwitch=yi,yi._addCase(),this._view=new Fi(Ae,it)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(Un,9))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return le})(),ua=(()=>{class le{constructor(Ae,it,yi){yi._addDefault(new Fi(Ae,it))}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.c1b),b.rXU(b.C4Q),b.rXU(Un,9))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return le})(),il=(()=>{class le{constructor(Ae,it,yi){this._ngEl=Ae,this._differs=it,this._renderer=yi,this._ngStyle=null,this._differ=null}set ngStyle(Ae){this._ngStyle=Ae,!this._differ&&Ae&&(this._differ=this._differs.find(Ae).create())}ngDoCheck(){if(this._differ){const Ae=this._differ.diff(this._ngStyle);Ae&&this._applyChanges(Ae)}}_setStyle(Ae,it){const[yi,qi]=Ae.split("."),un=-1===yi.indexOf("-")?void 0:b.czy.DashCase;null!=it?this._renderer.setStyle(this._ngEl.nativeElement,yi,qi?`${it}${qi}`:it,un):this._renderer.removeStyle(this._ngEl.nativeElement,yi,un)}_applyChanges(Ae){Ae.forEachRemovedItem(it=>this._setStyle(it.key,null)),Ae.forEachAddedItem(it=>this._setStyle(it.key,it.currentValue)),Ae.forEachChangedItem(it=>this._setStyle(it.key,it.currentValue))}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.aKT),b.rXU(b.MKu),b.rXU(b.sFG))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return le})(),Rs=(()=>{class le{constructor(Ae){this._viewContainerRef=Ae,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Ae){if(Ae.ngTemplateOutlet||Ae.ngTemplateOutletInjector){const it=this._viewContainerRef;if(this._viewRef&&it.remove(it.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:yi,ngTemplateOutletContext:qi,ngTemplateOutletInjector:un}=this;this._viewRef=it.createEmbeddedView(yi,qi,un?{injector:un}:void 0)}else this._viewRef=null}else this._viewRef&&Ae.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.c1b))}}static{this.\u0275dir=b.FsC({type:le,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[b.OA$]})}}return le})();function Ao(le,vt){return new b.wOt(2100,!1)}class Er{createSubscription(vt,Ae){return(0,b.O8t)(()=>vt.subscribe({next:Ae,error:it=>{throw it}}))}dispose(vt){(0,b.O8t)(()=>vt.unsubscribe())}}class Ws{createSubscription(vt,Ae){return vt.then(Ae,it=>{throw it})}dispose(vt){}}const Bs=new Ws,Wa=new Er;let Ys=(()=>{class le{constructor(Ae){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=Ae}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(Ae){return this._obj?Ae!==this._obj?(this._dispose(),this.transform(Ae)):this._latestValue:(Ae&&this._subscribe(Ae),this._latestValue)}_subscribe(Ae){this._obj=Ae,this._strategy=this._selectStrategy(Ae),this._subscription=this._strategy.createSubscription(Ae,it=>this._updateLatestValue(Ae,it))}_selectStrategy(Ae){if((0,b.jNT)(Ae))return Bs;if((0,b.zjR)(Ae))return Wa;throw Ao()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(Ae,it){Ae===this._obj&&(this._latestValue=it,this._ref.markForCheck())}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.gRc,16))}}static{this.\u0275pipe=b.EJ8({name:"async",type:le,pure:!1,standalone:!0})}}return le})();const vr=new b.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Gr=new b.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Hr=(()=>{class le{constructor(Ae,it,yi){this.locale=Ae,this.defaultTimezone=it,this.defaultOptions=yi}transform(Ae,it,yi,qi){if(null==Ae||""===Ae||Ae!=Ae)return null;try{return jt(Ae,it??this.defaultOptions?.dateFormat??"mediumDate",qi||this.locale,yi??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(un){throw Ao()}}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.xe9,16),b.rXU(vr,24),b.rXU(Gr,24))}}static{this.\u0275pipe=b.EJ8({name:"date",type:le,pure:!0,standalone:!0})}}return le})(),Ia=(()=>{class le{constructor(Ae){this.differs=Ae,this.keyValues=[],this.compareFn=xa}transform(Ae,it=xa){if(!Ae||!(Ae instanceof Map)&&"object"!=typeof Ae)return null;this.differ||(this.differ=this.differs.find(Ae).create());const yi=this.differ.diff(Ae),qi=it!==this.compareFn;return yi&&(this.keyValues=[],yi.forEachItem(un=>{this.keyValues.push(function pa(le,vt){return{key:le,value:vt}}(un.key,un.currentValue))})),(yi||qi)&&(this.keyValues.sort(it),this.compareFn=it),this.keyValues}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.MKu,16))}}static{this.\u0275pipe=b.EJ8({name:"keyvalue",type:le,pure:!1,standalone:!0})}}return le})();function xa(le,vt){const Ae=le.key,it=vt.key;if(Ae===it)return 0;if(void 0===Ae)return 1;if(void 0===it)return-1;if(null===Ae)return 1;if(null===it)return-1;if("string"==typeof Ae&&"string"==typeof it)return Ae<it?-1:1;if("number"==typeof Ae&&"number"==typeof it)return Ae-it;if("boolean"==typeof Ae&&"boolean"==typeof it)return Ae<it?-1:1;const yi=String(Ae),qi=String(it);return yi==qi?0:yi<qi?-1:1}let Cr=(()=>{class le{constructor(Ae){this._locale=Ae}transform(Ae,it,yi){if(!function Ur(le){return!(null==le||""===le||le!=le)}(Ae))return null;yi=yi||this._locale;try{return function Xi(le,vt,Ae){return function li(le,vt,Ae,it,yi,qi,un=!1){let Bn="",ro=!1;if(isFinite(le)){let Wr=function fn(le){let it,yi,qi,un,Bn,vt=Math.abs(le)+"",Ae=0;for((yi=vt.indexOf("."))>-1&&(vt=vt.replace(".","")),(qi=vt.search(/e/i))>0?(yi<0&&(yi=qi),yi+=+vt.slice(qi+1),vt=vt.substring(0,qi)):yi<0&&(yi=vt.length),qi=0;"0"===vt.charAt(qi);qi++);if(qi===(Bn=vt.length))it=[0],yi=1;else{for(Bn--;"0"===vt.charAt(Bn);)Bn--;for(yi-=qi,it=[],un=0;qi<=Bn;qi++,un++)it[un]=Number(vt.charAt(qi))}return yi>22&&(it=it.splice(0,21),Ae=yi-1,yi=1),{digits:it,exponent:Ae,integerLen:yi}}(le);un&&(Wr=function en(le){if(0===le.digits[0])return le;const vt=le.digits.length-le.integerLen;return le.exponent?le.exponent+=2:(0===vt?le.digits.push(0,0):1===vt&&le.digits.push(0),le.integerLen+=2),le}(Wr));let _r=vt.minInt,jn=vt.minFrac,Wo=vt.maxFrac;if(qi){const ds=qi.match(Me);if(null===ds)throw new Error(`${qi} is not a valid digit info`);const Xa=ds[1],Br=ds[3],sa=ds[5];null!=Xa&&(_r=Fn(Xa)),null!=Br&&(jn=Fn(Br)),null!=sa?Wo=Fn(sa):null!=Br&&jn>Wo&&(Wo=jn)}!function Yn(le,vt,Ae){if(vt>Ae)throw new Error(`The minimum number of digits after fraction (${vt}) is higher than the maximum (${Ae}).`);let it=le.digits,yi=it.length-le.integerLen;const qi=Math.min(Math.max(vt,yi),Ae);let un=qi+le.integerLen,Bn=it[un];if(un>0){it.splice(Math.max(le.integerLen,un));for(let jn=un;jn<it.length;jn++)it[jn]=0}else{yi=Math.max(0,yi),le.integerLen=1,it.length=Math.max(1,un=qi+1),it[0]=0;for(let jn=1;jn<un;jn++)it[jn]=0}if(Bn>=5)if(un-1<0){for(let jn=0;jn>un;jn--)it.unshift(0),le.integerLen++;it.unshift(1),le.integerLen++}else it[un-1]++;for(;yi<Math.max(0,qi);yi++)it.push(0);let ro=0!==qi;const Wr=vt+le.integerLen,_r=it.reduceRight(function(jn,Wo,xi,Yo){return Yo[xi]=(Wo+=jn)<10?Wo:Wo-10,ro&&(0===Yo[xi]&&xi>=Wr?Yo.pop():ro=!1),Wo>=10?1:0},0);_r&&(it.unshift(_r),le.integerLen++)}(Wr,jn,Wo);let xi=Wr.digits,Yo=Wr.integerLen;const ys=Wr.exponent;let Ro=[];for(ro=xi.every(ds=>!ds);Yo<_r;Yo++)xi.unshift(0);for(;Yo<0;Yo++)xi.unshift(0);Yo>0?Ro=xi.splice(Yo,xi.length):(Ro=xi,xi=[0]);const va=[];for(xi.length>=vt.lgSize&&va.unshift(xi.splice(-vt.lgSize,xi.length).join(""));xi.length>vt.gSize;)va.unshift(xi.splice(-vt.gSize,xi.length).join(""));xi.length&&va.unshift(xi.join("")),Bn=va.join(ut(Ae,it)),Ro.length&&(Bn+=ut(Ae,yi)+Ro.join("")),ys&&(Bn+=ut(Ae,vi.Exponential)+"+"+ys)}else Bn=ut(Ae,vi.Infinity);return Bn=le<0&&!ro?vt.negPre+Bn+vt.negSuf:vt.posPre+Bn+vt.posSuf,Bn}(le,function ln(le,vt="-"){const Ae={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},it=le.split(";"),yi=it[0],qi=it[1],un=-1!==yi.indexOf(".")?yi.split("."):[yi.substring(0,yi.lastIndexOf("0")+1),yi.substring(yi.lastIndexOf("0")+1)],Bn=un[0],ro=un[1]||"";Ae.posPre=Bn.substring(0,Bn.indexOf("#"));for(let _r=0;_r<ro.length;_r++){const jn=ro.charAt(_r);"0"===jn?Ae.minFrac=Ae.maxFrac=_r+1:"#"===jn?Ae.maxFrac=_r+1:Ae.posSuf+=jn}const Wr=Bn.split(",");if(Ae.gSize=Wr[1]?Wr[1].length:0,Ae.lgSize=Wr[2]||Wr[1]?(Wr[2]||Wr[1]).length:0,qi){const _r=yi.length-Ae.posPre.length-Ae.posSuf.length,jn=qi.indexOf("#");Ae.negPre=qi.substring(0,jn).replace(/'/g,""),Ae.negSuf=qi.slice(jn+_r).replace(/'/g,"")}else Ae.negPre=vt+Ae.posPre,Ae.negSuf=Ae.posSuf;return Ae}(function yt(le,vt){return(0,b.H5H)(le)[b.KH2.NumberFormats][vt]}(vt,Oe.Decimal),ut(vt,vi.MinusSign)),vt,vi.Group,vi.Decimal,Ae)}(function ts(le){if("string"==typeof le&&!isNaN(Number(le)-parseFloat(le)))return Number(le);if("number"!=typeof le)throw new Error(`${le} is not a number`);return le}(Ae),yi,it)}catch(qi){throw Ao()}}static{this.\u0275fac=function(it){return new(it||le)(b.rXU(b.xe9,16))}}static{this.\u0275pipe=b.EJ8({name:"number",type:le,pure:!0,standalone:!0})}}return le})();let Mo=(()=>{class le{static{this.\u0275fac=function(it){return new(it||le)}}static{this.\u0275mod=b.$C({type:le})}static{this.\u0275inj=b.G2t({})}}return le})();const Kr="browser",Do="server";function ta(le){return le===Kr}function is(le){return le===Do}let ms=(()=>{class le{static{this.\u0275prov=(0,b.jDH)({token:le,providedIn:"root",factory:()=>new Ho((0,b.KVO)(Ke),window)})}}return le})();class Ho{constructor(vt,Ae){this.document=vt,this.window=Ae,this.offset=()=>[0,0]}setOffset(vt){this.offset=Array.isArray(vt)?()=>vt:vt}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(vt){this.supportsScrolling()&&this.window.scrollTo(vt[0],vt[1])}scrollToAnchor(vt){if(!this.supportsScrolling())return;const Ae=function $s(le,vt){const Ae=le.getElementById(vt)||le.getElementsByName(vt)[0];if(Ae)return Ae;if("function"==typeof le.createTreeWalker&&le.body&&"function"==typeof le.body.attachShadow){const it=le.createTreeWalker(le.body,NodeFilter.SHOW_ELEMENT);let yi=it.currentNode;for(;yi;){const qi=yi.shadowRoot;if(qi){const un=qi.getElementById(vt)||qi.querySelector(`[name="${vt}"]`);if(un)return un}yi=it.nextNode()}}return null}(this.document,vt);Ae&&(this.scrollToElement(Ae),Ae.focus())}setHistoryScrollRestoration(vt){this.supportsScrolling()&&(this.window.history.scrollRestoration=vt)}scrollToElement(vt){const Ae=vt.getBoundingClientRect(),it=Ae.left+this.window.pageXOffset,yi=Ae.top+this.window.pageYOffset,qi=this.offset();this.window.scrollTo(it-qi[0],yi-qi[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Pa{}},1626:(Ui,ni,N)=>{"use strict";N.d(ni,{Lr:()=>ue,Qq:()=>Qt,a7:()=>ct,q1:()=>Me});var b=N(7705),O=N(7673),E=N(6648),ye=N(1985),K=N(274),Ke=N(5964),j=N(6354),rt=N(980),ie=N(5558),ee=N(177);class Ce{}class ve{}class ue{constructor(ci){this.normalizedNames=new Map,this.lazyUpdate=null,ci?"string"==typeof ci?this.lazyInit=()=>{this.headers=new Map,ci.split("\n").forEach(Ti=>{const Xi=Ti.indexOf(":");if(Xi>0){const ln=Ti.slice(0,Xi),en=ln.toLowerCase(),fn=Ti.slice(Xi+1).trim();this.maybeSetNormalizedName(ln,en),this.headers.has(en)?this.headers.get(en).push(fn):this.headers.set(en,[fn])}})}:typeof Headers<"u"&&ci instanceof Headers?(this.headers=new Map,ci.forEach((Ti,Xi)=>{this.setHeaderEntries(Xi,Ti)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ci).forEach(([Ti,Xi])=>{this.setHeaderEntries(Ti,Xi)})}:this.headers=new Map}has(ci){return this.init(),this.headers.has(ci.toLowerCase())}get(ci){this.init();const Ti=this.headers.get(ci.toLowerCase());return Ti&&Ti.length>0?Ti[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ci){return this.init(),this.headers.get(ci.toLowerCase())||null}append(ci,Ti){return this.clone({name:ci,value:Ti,op:"a"})}set(ci,Ti){return this.clone({name:ci,value:Ti,op:"s"})}delete(ci,Ti){return this.clone({name:ci,value:Ti,op:"d"})}maybeSetNormalizedName(ci,Ti){this.normalizedNames.has(Ti)||this.normalizedNames.set(Ti,ci)}init(){this.lazyInit&&(this.lazyInit instanceof ue?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ci=>this.applyUpdate(ci)),this.lazyUpdate=null))}copyFrom(ci){ci.init(),Array.from(ci.headers.keys()).forEach(Ti=>{this.headers.set(Ti,ci.headers.get(Ti)),this.normalizedNames.set(Ti,ci.normalizedNames.get(Ti))})}clone(ci){const Ti=new ue;return Ti.lazyInit=this.lazyInit&&this.lazyInit instanceof ue?this.lazyInit:this,Ti.lazyUpdate=(this.lazyUpdate||[]).concat([ci]),Ti}applyUpdate(ci){const Ti=ci.name.toLowerCase();switch(ci.op){case"a":case"s":let Xi=ci.value;if("string"==typeof Xi&&(Xi=[Xi]),0===Xi.length)return;this.maybeSetNormalizedName(ci.name,Ti);const ln=("a"===ci.op?this.headers.get(Ti):void 0)||[];ln.push(...Xi),this.headers.set(Ti,ln);break;case"d":const en=ci.value;if(en){let fn=this.headers.get(Ti);if(!fn)return;fn=fn.filter(Yn=>-1===en.indexOf(Yn)),0===fn.length?(this.headers.delete(Ti),this.normalizedNames.delete(Ti)):this.headers.set(Ti,fn)}else this.headers.delete(Ti),this.normalizedNames.delete(Ti)}}setHeaderEntries(ci,Ti){const Xi=(Array.isArray(Ti)?Ti:[Ti]).map(en=>en.toString()),ln=ci.toLowerCase();this.headers.set(ln,Xi),this.maybeSetNormalizedName(ci,ln)}forEach(ci){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ti=>ci(this.normalizedNames.get(Ti),this.headers.get(Ti)))}}class Be{encodeKey(ci){return Ai(ci)}encodeValue(ci){return Ai(ci)}decodeKey(ci){return decodeURIComponent(ci)}decodeValue(ci){return decodeURIComponent(ci)}}const qt=/%(\d[a-f0-9])/gi,pt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ai(li){return encodeURIComponent(li).replace(qt,(ci,Ti)=>pt[Ti]??ci)}function oi(li){return`${li}`}class q{constructor(ci={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ci.encoder||new Be,ci.fromString){if(ci.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ct(li,ci){const Ti=new Map;return li.length>0&&li.replace(/^\?/,"").split("&").forEach(ln=>{const en=ln.indexOf("="),[fn,Yn]=-1==en?[ci.decodeKey(ln),""]:[ci.decodeKey(ln.slice(0,en)),ci.decodeValue(ln.slice(en+1))],Fn=Ti.get(fn)||[];Fn.push(Yn),Ti.set(fn,Fn)}),Ti}(ci.fromString,this.encoder)}else ci.fromObject?(this.map=new Map,Object.keys(ci.fromObject).forEach(Ti=>{const Xi=ci.fromObject[Ti],ln=Array.isArray(Xi)?Xi.map(oi):[oi(Xi)];this.map.set(Ti,ln)})):this.map=null}has(ci){return this.init(),this.map.has(ci)}get(ci){this.init();const Ti=this.map.get(ci);return Ti?Ti[0]:null}getAll(ci){return this.init(),this.map.get(ci)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ci,Ti){return this.clone({param:ci,value:Ti,op:"a"})}appendAll(ci){const Ti=[];return Object.keys(ci).forEach(Xi=>{const ln=ci[Xi];Array.isArray(ln)?ln.forEach(en=>{Ti.push({param:Xi,value:en,op:"a"})}):Ti.push({param:Xi,value:ln,op:"a"})}),this.clone(Ti)}set(ci,Ti){return this.clone({param:ci,value:Ti,op:"s"})}delete(ci,Ti){return this.clone({param:ci,value:Ti,op:"d"})}toString(){return this.init(),this.keys().map(ci=>{const Ti=this.encoder.encodeKey(ci);return this.map.get(ci).map(Xi=>Ti+"="+this.encoder.encodeValue(Xi)).join("&")}).filter(ci=>""!==ci).join("&")}clone(ci){const Ti=new q({encoder:this.encoder});return Ti.cloneFrom=this.cloneFrom||this,Ti.updates=(this.updates||[]).concat(ci),Ti}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ci=>this.map.set(ci,this.cloneFrom.map.get(ci))),this.updates.forEach(ci=>{switch(ci.op){case"a":case"s":const Ti=("a"===ci.op?this.map.get(ci.param):void 0)||[];Ti.push(oi(ci.value)),this.map.set(ci.param,Ti);break;case"d":if(void 0===ci.value){this.map.delete(ci.param);break}{let Xi=this.map.get(ci.param)||[];const ln=Xi.indexOf(oi(ci.value));-1!==ln&&Xi.splice(ln,1),Xi.length>0?this.map.set(ci.param,Xi):this.map.delete(ci.param)}}}),this.cloneFrom=this.updates=null)}}class Oe{constructor(){this.map=new Map}set(ci,Ti){return this.map.set(ci,Ti),this}get(ci){return this.map.has(ci)||this.map.set(ci,ci.defaultValue()),this.map.get(ci)}delete(ci){return this.map.delete(ci),this}has(ci){return this.map.has(ci)}keys(){return this.map.keys()}}function We(li){return typeof ArrayBuffer<"u"&&li instanceof ArrayBuffer}function Ye(li){return typeof Blob<"u"&&li instanceof Blob}function Ht(li){return typeof FormData<"u"&&li instanceof FormData}class Et{constructor(ci,Ti,Xi,ln){let en;if(this.url=Ti,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ci.toUpperCase(),function Le(li){switch(li){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ln?(this.body=void 0!==Xi?Xi:null,en=ln):en=Xi,en&&(this.reportProgress=!!en.reportProgress,this.withCredentials=!!en.withCredentials,en.responseType&&(this.responseType=en.responseType),en.headers&&(this.headers=en.headers),en.context&&(this.context=en.context),en.params&&(this.params=en.params)),this.headers||(this.headers=new ue),this.context||(this.context=new Oe),this.params){const fn=this.params.toString();if(0===fn.length)this.urlWithParams=Ti;else{const Yn=Ti.indexOf("?");this.urlWithParams=Ti+(-1===Yn?"?":Yn<Ti.length-1?"&":"")+fn}}else this.params=new q,this.urlWithParams=Ti}serializeBody(){return null===this.body?null:We(this.body)||Ye(this.body)||Ht(this.body)||function vi(li){return typeof URLSearchParams<"u"&&li instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof q?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:Ye(this.body)?this.body.type||null:We(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof q?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ci={}){const Ti=ci.method||this.method,Xi=ci.url||this.url,ln=ci.responseType||this.responseType,en=void 0!==ci.body?ci.body:this.body,fn=void 0!==ci.withCredentials?ci.withCredentials:this.withCredentials,Yn=void 0!==ci.reportProgress?ci.reportProgress:this.reportProgress;let Fn=ci.headers||this.headers,mr=ci.params||this.params;const uo=ci.context??this.context;return void 0!==ci.setHeaders&&(Fn=Object.keys(ci.setHeaders).reduce((Lo,eo)=>Lo.set(eo,ci.setHeaders[eo]),Fn)),ci.setParams&&(mr=Object.keys(ci.setParams).reduce((Lo,eo)=>Lo.set(eo,ci.setParams[eo]),mr)),new Et(Ti,Xi,en,{params:mr,headers:Fn,context:uo,reportProgress:Yn,responseType:ln,withCredentials:fn})}}var wi=function(li){return li[li.Sent=0]="Sent",li[li.UploadProgress=1]="UploadProgress",li[li.ResponseHeader=2]="ResponseHeader",li[li.DownloadProgress=3]="DownloadProgress",li[li.Response=4]="Response",li[li.User=5]="User",li}(wi||{});class bi{constructor(ci,Ti=200,Xi="OK"){this.headers=ci.headers||new ue,this.status=void 0!==ci.status?ci.status:Ti,this.statusText=ci.statusText||Xi,this.url=ci.url||null,this.ok=this.status>=200&&this.status<300}}class Ci extends bi{constructor(ci={}){super(ci),this.type=wi.ResponseHeader}clone(ci={}){return new Ci({headers:ci.headers||this.headers,status:void 0!==ci.status?ci.status:this.status,statusText:ci.statusText||this.statusText,url:ci.url||this.url||void 0})}}class an extends bi{constructor(ci={}){super(ci),this.type=wi.Response,this.body=void 0!==ci.body?ci.body:null}clone(ci={}){return new an({body:void 0!==ci.body?ci.body:this.body,headers:ci.headers||this.headers,status:void 0!==ci.status?ci.status:this.status,statusText:ci.statusText||this.statusText,url:ci.url||this.url||void 0})}}class Oi extends bi{constructor(ci){super(ci,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ci.url||"(unknown url)"}`:`Http failure response for ${ci.url||"(unknown url)"}: ${ci.status} ${ci.statusText}`,this.error=ci.error||null}}function Cn(li,ci){return{body:ci,headers:li.headers,context:li.context,observe:li.observe,params:li.params,reportProgress:li.reportProgress,responseType:li.responseType,withCredentials:li.withCredentials}}let Qt=(()=>{class li{constructor(Ti){this.handler=Ti}request(Ti,Xi,ln={}){let en;if(Ti instanceof Et)en=Ti;else{let Fn,mr;Fn=ln.headers instanceof ue?ln.headers:new ue(ln.headers),ln.params&&(mr=ln.params instanceof q?ln.params:new q({fromObject:ln.params})),en=new Et(Ti,Xi,void 0!==ln.body?ln.body:null,{headers:Fn,context:ln.context,params:mr,reportProgress:ln.reportProgress,responseType:ln.responseType||"json",withCredentials:ln.withCredentials})}const fn=(0,O.of)(en).pipe((0,K.H)(Fn=>this.handler.handle(Fn)));if(Ti instanceof Et||"events"===ln.observe)return fn;const Yn=fn.pipe((0,Ke.p)(Fn=>Fn instanceof an));switch(ln.observe||"body"){case"body":switch(en.responseType){case"arraybuffer":return Yn.pipe((0,j.T)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Fn.body}));case"blob":return Yn.pipe((0,j.T)(Fn=>{if(null!==Fn.body&&!(Fn.body instanceof Blob))throw new Error("Response is not a Blob.");return Fn.body}));case"text":return Yn.pipe((0,j.T)(Fn=>{if(null!==Fn.body&&"string"!=typeof Fn.body)throw new Error("Response is not a string.");return Fn.body}));default:return Yn.pipe((0,j.T)(Fn=>Fn.body))}case"response":return Yn;default:throw new Error(`Unreachable: unhandled observe type ${ln.observe}}`)}}delete(Ti,Xi={}){return this.request("DELETE",Ti,Xi)}get(Ti,Xi={}){return this.request("GET",Ti,Xi)}head(Ti,Xi={}){return this.request("HEAD",Ti,Xi)}jsonp(Ti,Xi){return this.request("JSONP",Ti,{params:(new q).append(Xi,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ti,Xi={}){return this.request("OPTIONS",Ti,Xi)}patch(Ti,Xi,ln={}){return this.request("PATCH",Ti,Cn(ln,Xi))}post(Ti,Xi,ln={}){return this.request("POST",Ti,Cn(ln,Xi))}put(Ti,Xi,ln={}){return this.request("PUT",Ti,Cn(ln,Xi))}static{this.\u0275fac=function(Xi){return new(Xi||li)(b.KVO(Ce))}}static{this.\u0275prov=b.jDH({token:li,factory:li.\u0275fac})}}return li})();function di(li,ci){return ci(li)}function st(li,ci){return(Ti,Xi)=>ci.intercept(Ti,{handle:ln=>li(ln,Xi)})}const ct=new b.nKC(""),Ut=new b.nKC(""),ft=new b.nKC("");function Wt(){let li=null;return(ci,Ti)=>{null===li&&(li=((0,b.WQX)(ct,{optional:!0})??[]).reduceRight(st,di));const Xi=(0,b.WQX)(b.$K3),ln=Xi.add();return li(ci,Ti).pipe((0,rt.j)(()=>Xi.remove(ln)))}}let tt=(()=>{class li extends Ce{constructor(Ti,Xi){super(),this.backend=Ti,this.injector=Xi,this.chain=null,this.pendingTasks=(0,b.WQX)(b.$K3)}handle(Ti){if(null===this.chain){const ln=Array.from(new Set([...this.injector.get(Ut),...this.injector.get(ft,[])]));this.chain=ln.reduceRight((en,fn)=>function ri(li,ci,Ti){return(Xi,ln)=>Ti.runInContext(()=>ci(Xi,en=>li(en,ln)))}(en,fn,this.injector),di)}const Xi=this.pendingTasks.add();return this.chain(Ti,ln=>this.backend.handle(ln)).pipe((0,rt.j)(()=>this.pendingTasks.remove(Xi)))}static{this.\u0275fac=function(Xi){return new(Xi||li)(b.KVO(ve),b.KVO(b.uvJ))}}static{this.\u0275prov=b.jDH({token:li,factory:li.\u0275fac})}}return li})();const It=/^\)\]\}',?\n/;let Kt=(()=>{class li{constructor(Ti){this.xhrFactory=Ti}handle(Ti){if("JSONP"===Ti.method)throw new b.wOt(-2800,!1);const Xi=this.xhrFactory;return(Xi.\u0275loadImpl?(0,E.H)(Xi.\u0275loadImpl()):(0,O.of)(null)).pipe((0,ie.n)(()=>new ye.c(en=>{const fn=Xi.build();if(fn.open(Ti.method,Ti.urlWithParams),Ti.withCredentials&&(fn.withCredentials=!0),Ti.headers.forEach((nn,Mr)=>fn.setRequestHeader(nn,Mr.join(","))),Ti.headers.has("Accept")||fn.setRequestHeader("Accept","application/json, text/plain, */*"),!Ti.headers.has("Content-Type")){const nn=Ti.detectContentTypeHeader();null!==nn&&fn.setRequestHeader("Content-Type",nn)}if(Ti.responseType){const nn=Ti.responseType.toLowerCase();fn.responseType="json"!==nn?nn:"text"}const Yn=Ti.serializeBody();let Fn=null;const mr=()=>{if(null!==Fn)return Fn;const nn=fn.statusText||"OK",Mr=new ue(fn.getAllResponseHeaders()),to=function $(li){return"responseURL"in li&&li.responseURL?li.responseURL:/^X-Request-URL:/m.test(li.getAllResponseHeaders())?li.getResponseHeader("X-Request-URL"):null}(fn)||Ti.url;return Fn=new Ci({headers:Mr,status:fn.status,statusText:nn,url:to}),Fn},uo=()=>{let{headers:nn,status:Mr,statusText:to,url:Rn}=mr(),pr=null;204!==Mr&&(pr=typeof fn.response>"u"?fn.responseText:fn.response),0===Mr&&(Mr=pr?200:0);let ae=Mr>=200&&Mr<300;if("json"===Ti.responseType&&"string"==typeof pr){const En=pr;pr=pr.replace(It,"");try{pr=""!==pr?JSON.parse(pr):null}catch(oe){pr=En,ae&&(ae=!1,pr={error:oe,text:pr})}}ae?(en.next(new an({body:pr,headers:nn,status:Mr,statusText:to,url:Rn||void 0})),en.complete()):en.error(new Oi({error:pr,headers:nn,status:Mr,statusText:to,url:Rn||void 0}))},Lo=nn=>{const{url:Mr}=mr(),to=new Oi({error:nn,status:fn.status||0,statusText:fn.statusText||"Unknown Error",url:Mr||void 0});en.error(to)};let eo=!1;const Po=nn=>{eo||(en.next(mr()),eo=!0);let Mr={type:wi.DownloadProgress,loaded:nn.loaded};nn.lengthComputable&&(Mr.total=nn.total),"text"===Ti.responseType&&fn.responseText&&(Mr.partialText=fn.responseText),en.next(Mr)},oo=nn=>{let Mr={type:wi.UploadProgress,loaded:nn.loaded};nn.lengthComputable&&(Mr.total=nn.total),en.next(Mr)};return fn.addEventListener("load",uo),fn.addEventListener("error",Lo),fn.addEventListener("timeout",Lo),fn.addEventListener("abort",Lo),Ti.reportProgress&&(fn.addEventListener("progress",Po),null!==Yn&&fn.upload&&fn.upload.addEventListener("progress",oo)),fn.send(Yn),en.next({type:wi.Sent}),()=>{fn.removeEventListener("error",Lo),fn.removeEventListener("abort",Lo),fn.removeEventListener("load",uo),fn.removeEventListener("timeout",Lo),Ti.reportProgress&&(fn.removeEventListener("progress",Po),null!==Yn&&fn.upload&&fn.upload.removeEventListener("progress",oo)),fn.readyState!==fn.DONE&&fn.abort()}})))}static{this.\u0275fac=function(Xi){return new(Xi||li)(b.KVO(ee.N0))}}static{this.\u0275prov=b.jDH({token:li,factory:li.\u0275fac})}}return li})();const Qe=new b.nKC("XSRF_ENABLED"),xe=new b.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qe=new b.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dt{}let je=(()=>{class li{constructor(Ti,Xi,ln){this.doc=Ti,this.platform=Xi,this.cookieName=ln,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ti=this.doc.cookie||"";return Ti!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ee._b)(Ti,this.cookieName),this.lastCookieString=Ti),this.lastToken}static{this.\u0275fac=function(Xi){return new(Xi||li)(b.KVO(ee.qQ),b.KVO(b.Agw),b.KVO(xe))}}static{this.\u0275prov=b.jDH({token:li,factory:li.\u0275fac})}}return li})();function Rt(li,ci){const Ti=li.url.toLowerCase();if(!(0,b.WQX)(Qe)||"GET"===li.method||"HEAD"===li.method||Ti.startsWith("http://")||Ti.startsWith("https://"))return ci(li);const Xi=(0,b.WQX)(Dt).getToken(),ln=(0,b.WQX)(qe);return null!=Xi&&!li.headers.has(ln)&&(li=li.clone({headers:li.headers.set(ln,Xi)})),ci(li)}var bt=function(li){return li[li.Interceptors=0]="Interceptors",li[li.LegacyInterceptors=1]="LegacyInterceptors",li[li.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",li[li.NoXsrfProtection=3]="NoXsrfProtection",li[li.JsonpSupport=4]="JsonpSupport",li[li.RequestsMadeViaParent=5]="RequestsMadeViaParent",li[li.Fetch=6]="Fetch",li}(bt||{});function Gt(li,ci){return{\u0275kind:li,\u0275providers:ci}}function Pe(...li){const ci=[Qt,Kt,tt,{provide:Ce,useExisting:tt},{provide:ve,useExisting:Kt},{provide:Ut,useValue:Rt,multi:!0},{provide:Qe,useValue:!0},{provide:Dt,useClass:je}];for(const Ti of li)ci.push(...Ti.\u0275providers);return(0,b.EmA)(ci)}const ge=new b.nKC("LEGACY_INTERCEPTOR_FN");let Me=(()=>{class li{static{this.\u0275fac=function(Xi){return new(Xi||li)}}static{this.\u0275mod=b.$C({type:li})}static{this.\u0275inj=b.G2t({providers:[Pe(Gt(bt.LegacyInterceptors,[{provide:ge,useFactory:Wt},{provide:Ut,useExisting:ge,multi:!0}]))]})}}return li})()},7705:(Ui,ni,N)=>{"use strict";N.d(ni,{$C:()=>So,$GK:()=>Ni,$K3:()=>wA,$MX:()=>Lp,AVh:()=>oC,Aen:()=>Wu,Agw:()=>If,B4B:()=>Kh,BIS:()=>Gg,BMQ:()=>rw,C4Q:()=>Bv,C5r:()=>Hv,Co$:()=>GE,DNE:()=>HD,EBC:()=>Lb,EFF:()=>cE,EJ8:()=>Cs,EmA:()=>Wm,FS9:()=>Dw,FsC:()=>To,G2t:()=>ft,GBs:()=>Lx,GFd:()=>Wb,H3F:()=>jv,H5H:()=>wv,H8p:()=>Ca,HJs:()=>dp,HbH:()=>Vw,Hbi:()=>W_,JRh:()=>Uw,JZv:()=>Kt,Jv_:()=>Kf,KH2:()=>Sc,KVO:()=>Di,Kam:()=>gl,Kcf:()=>wc,L39:()=>ym,LfX:()=>tt,Lme:()=>xc,MKu:()=>gS,Mr5:()=>Cv,NAR:()=>QD,NEm:()=>PR,NYb:()=>tS,Njj:()=>al,O8t:()=>qi,OA$:()=>jn,OM3:()=>as,Ocv:()=>LC,Ol2:()=>_C,PLl:()=>Nd,QTQ:()=>Nf,Ql9:()=>CR,QuC:()=>ha,R7$:()=>V0,RV6:()=>bw,Rfq:()=>Be,RxE:()=>Jm,SKi:()=>xn,STu:()=>pE,SdG:()=>tC,SpI:()=>u_,TL$:()=>lc,Tbb:()=>ve,UyX:()=>hd,VBU:()=>Ws,Vns:()=>cu,Vt3:()=>zb,WHO:()=>B_,WPN:()=>$h,WQX:()=>Lt,XpG:()=>XD,Xx1:()=>Mp,Y8G:()=>vw,Z63:()=>Iu,ZF7:()=>ud,ZvI:()=>td,_9s:()=>Bd,_q3:()=>$C,aKT:()=>Wp,aNF:()=>x_,bIt:()=>Cw,bMT:()=>Ku,bVm:()=>vv,bc$:()=>Xm,bkB:()=>Wi,c1b:()=>Vv,cWb:()=>$c,czy:()=>B,e01:()=>eS,e5t:()=>xy,eBV:()=>Aa,eq3:()=>vx,eu8:()=>qb,fpN:()=>KR,gRc:()=>HA,gXe:()=>fn,giA:()=>Yf,h9k:()=>Pg,hnV:()=>$x,i5U:()=>Dx,iLQ:()=>V_,j41:()=>o_,jDH:()=>ct,jNT:()=>eC,joV:()=>Cd,k0s:()=>s_,kS0:()=>dg,kdw:()=>gr,lJ4:()=>mx,lNU:()=>oi,l_i:()=>yx,lsd:()=>Nx,mGM:()=>Ox,mq5:()=>Yw,n$t:()=>ph,nI1:()=>XE,nKC:()=>xe,npT:()=>Um,nrm:()=>a_,o8S:()=>Yv,oH4:()=>nS,osQ:()=>_s,plB:()=>Bx,qSk:()=>vp,qex:()=>Zb,rOR:()=>wC,rXU:()=>Lf,rcV:()=>la,sFG:()=>I0,sMw:()=>$E,sZ2:()=>Ab,sdS:()=>r_,tSv:()=>Ob,uvJ:()=>cc,w6W:()=>z1,wOt:()=>q,wjB:()=>Bs,wni:()=>du,xGo:()=>Qd,xc7:()=>Bw,xe9:()=>$v,zZn:()=>S,zcH:()=>be,zjR:()=>$D,zvX:()=>Kw});var b=N(1413),O=N(8359),E=N(1985),ye=N(7786),K=N(4412),Ke=N(7673),j=N(7647),rt=N(5558),ie=N(3294);function ee(u){for(let g in u)if(u[g]===ee)return g;throw Error("Could not find renamed property on target object.")}function Ce(u,g){for(const v in g)g.hasOwnProperty(v)&&!u.hasOwnProperty(v)&&(u[v]=g[v])}function ve(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(ve).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const g=u.toString();if(null==g)return""+g;const v=g.indexOf("\n");return-1===v?g:g.substring(0,v)}function ue(u,g){return null==u||""===u?null===g?"":g:null==g||""===g?u:u+" "+g}const P=ee({__forward_ref__:ee});function Be(u){return u.__forward_ref__=Be,u.toString=function(){return ve(this())},u}function Ct(u){return qt(u)?u():u}function qt(u){return"function"==typeof u&&u.hasOwnProperty(P)&&u.__forward_ref__===Be}function pt(u){return u&&!!u.\u0275providers}const oi="https://g.co/ng/security#xss";class q extends Error{constructor(g,v){super(function Ot(u,g){return`NG0${Math.abs(u)}${g?": "+g:""}`}(g,v)),this.code=g}}function Oe(u){return"string"==typeof u?u:null==u?"":String(u)}function vi(u,g){throw new q(-201,!1)}function Zt(u,g){null==u&&function Tt(u,g,v,x){throw new Error(`ASSERTION ERROR: ${u}`+(null==x?"":` [Expected=> ${v} ${x} ${g} <=Actual]`))}(g,u,null,"!=")}function ct(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}function ft(u){return{providers:u.providers||[],imports:u.imports||[]}}function Wt(u){return Yt(u,tn)||Yt(u,gn)}function tt(u){return null!==Wt(u)}function Yt(u,g){return u.hasOwnProperty(g)?u[g]:null}function Qi(u){return u&&(u.hasOwnProperty(dn)||u.hasOwnProperty(Sn))?u[dn]:null}const tn=ee({\u0275prov:ee}),dn=ee({\u0275inj:ee}),gn=ee({ngInjectableDef:ee}),Sn=ee({ngInjectorDef:ee});var Ni=function(u){return u[u.Default=0]="Default",u[u.Host=1]="Host",u[u.Self=2]="Self",u[u.SkipSelf=4]="SkipSelf",u[u.Optional=8]="Optional",u}(Ni||{});let St;function jt(u){const g=St;return St=u,g}function It(u,g,v){const x=Wt(u);return x&&"root"==x.providedIn?void 0===x.value?x.value=x.factory():x.value:v&Ni.Optional?null:void 0!==g?g:void vi(ve(u))}const Kt=globalThis;class xe{constructor(g,v){this._desc=g,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=ct({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Re={},Ve="__NG_DI_FLAG__",zt="ngTempTokenPath",_t=/\n/gm,Se="__source";let Me;function Ii(u){const g=Me;return Me=u,g}function On(u,g=Ni.Default){if(void 0===Me)throw new q(-203,!1);return null===Me?It(u,void 0,g):Me.get(u,g&Ni.Optional?null:void 0,g)}function Di(u,g=Ni.Default){return(function mt(){return St}()||On)(Ct(u),g)}function Lt(u,g=Ni.Default){return Di(u,ai(g))}function ai(u){return typeof u>"u"||"number"==typeof u?u:0|(u.optional&&8)|(u.host&&1)|(u.self&&2)|(u.skipSelf&&4)}function ki(u){const g=[];for(let v=0;v<u.length;v++){const x=Ct(u[v]);if(Array.isArray(x)){if(0===x.length)throw new q(900,!1);let A,k=Ni.Default;for(let W=0;W<x.length;W++){const ne=x[W],me=ci(ne);"number"==typeof me?-1===me?A=ne.token:k|=me:A=ne}g.push(Di(A,k))}else g.push(Di(x))}return g}function li(u,g){return u[Ve]=g,u.prototype[Ve]=g,u}function ci(u){return u[Ve]}function ln(u){return{toString:u}.toString()}var en=function(u){return u[u.OnPush=0]="OnPush",u[u.Default=1]="Default",u}(en||{}),fn=function(u){return u[u.Emulated=0]="Emulated",u[u.None=2]="None",u[u.ShadowDom=3]="ShadowDom",u}(fn||{});const Yn={},Fn=[],mr=ee({\u0275cmp:ee}),uo=ee({\u0275dir:ee}),Lo=ee({\u0275pipe:ee}),eo=ee({\u0275mod:ee}),Po=ee({\u0275fac:ee}),oo=ee({__NG_ELEMENT_ID__:ee}),nn=ee({__NG_ENV_ID__:ee});function Mr(u,g,v){let x=u.length;for(;;){const A=u.indexOf(g,v);if(-1===A)return A;if(0===A||u.charCodeAt(A-1)<=32){const k=g.length;if(A+k===x||u.charCodeAt(A+k)<=32)return A}v=A+1}}function to(u,g,v){let x=0;for(;x<v.length;){const A=v[x];if("number"==typeof A){if(0!==A)break;x++;const k=v[x++],W=v[x++],ne=v[x++];u.setAttribute(g,W,ne,k)}else{const k=A,W=v[++x];pr(k)?u.setProperty(g,k,W):u.setAttribute(g,k,W),x++}}return x}function Rn(u){return 3===u||4===u||6===u}function pr(u){return 64===u.charCodeAt(0)}function ae(u,g){if(null!==g&&0!==g.length)if(null===u||0===u.length)u=g.slice();else{let v=-1;for(let x=0;x<g.length;x++){const A=g[x];"number"==typeof A?v=A:0===v||En(u,v,A,null,-1===v||2===v?g[++x]:null)}}return u}function En(u,g,v,x,A){let k=0,W=u.length;if(-1===g)W=-1;else for(;k<u.length;){const ne=u[k++];if("number"==typeof ne){if(ne===g){W=-1;break}if(ne>g){W=k-1;break}}}for(;k<u.length;){const ne=u[k];if("number"==typeof ne)break;if(ne===v){if(null===x)return void(null!==A&&(u[k+1]=A));if(x===u[k+1])return void(u[k+2]=A)}k++,null!==x&&k++,null!==A&&k++}-1!==W&&(u.splice(W,0,g),k=W+1),u.splice(k++,0,v),null!==x&&u.splice(k++,0,x),null!==A&&u.splice(k++,0,A)}const oe="ng-template";function dt(u,g,v){let x=0,A=!0;for(;x<u.length;){let k=u[x++];if("string"==typeof k&&A){const W=u[x++];if(v&&"class"===k&&-1!==Mr(W.toLowerCase(),g,0))return!0}else{if(1===k){for(;x<u.length&&"string"==typeof(k=u[x++]);)if(k.toLowerCase()===g)return!0;return!1}"number"==typeof k&&(A=!1)}}return!1}function et(u){return 4===u.type&&u.value!==oe}function ti(u,g,v){return g===(4!==u.type||v?u.value:oe)}function Fi(u,g,v){let x=4;const A=u.attrs||[],k=function wa(u){for(let g=0;g<u.length;g++)if(Rn(u[g]))return g;return u.length}(A);let W=!1;for(let ne=0;ne<g.length;ne++){const me=g[ne];if("number"!=typeof me){if(!W)if(4&x){if(x=2|1&x,""!==me&&!ti(u,me,v)||""===me&&1===g.length){if(Un(x))return!1;W=!0}}else{const He=8&x?me:g[++ne];if(8&x&&null!==u.attrs){if(!dt(u.attrs,He,v)){if(Un(x))return!1;W=!0}continue}const fi=Rr(8&x?"class":me,A,et(u),v);if(-1===fi){if(Un(x))return!1;W=!0;continue}if(""!==He){let Gi;Gi=fi>k?"":A[fi+1].toLowerCase();const Ki=8&x?Gi:null;if(Ki&&-1!==Mr(Ki,He,0)||2&x&&He!==Gi){if(Un(x))return!1;W=!0}}}}else{if(!W&&!Un(x)&&!Un(me))return!1;if(W&&Un(me))continue;W=!1,x=me|1&x}}return Un(x)||W}function Un(u){return 0==(1&u)}function Rr(u,g,v,x){if(null===g)return-1;let A=0;if(x||!v){let k=!1;for(;A<g.length;){const W=g[A];if(W===u)return A;if(3===W||6===W)k=!0;else{if(1===W||2===W){let ne=g[++A];for(;"string"==typeof ne;)ne=g[++A];continue}if(4===W)break;if(0===W){A+=4;continue}}A+=k?1:2}return-1}return function yl(u,g){let v=u.indexOf(4);if(v>-1)for(v++;v<u.length;){const x=u[v];if("number"==typeof x)return-1;if(x===g)return v;v++}return-1}(g,u)}function ua(u,g,v=!1){for(let x=0;x<g.length;x++)if(Fi(u,g[x],v))return!0;return!1}function il(u,g){e:for(let v=0;v<g.length;v++){const x=g[v];if(u.length===x.length){for(let A=0;A<u.length;A++)if(u[A]!==x[A])continue e;return!0}}return!1}function Rs(u,g){return u?":not("+g.trim()+")":g}function Rc(u){let g=u[0],v=1,x=2,A="",k=!1;for(;v<u.length;){let W=u[v];if("string"==typeof W)if(2&x){const ne=u[++v];A+="["+W+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&x?A+="."+W:4&x&&(A+=" "+W);else""!==A&&!Un(W)&&(g+=Rs(k,A),A=""),x=W,k=k||!Un(x);v++}return""!==A&&(g+=Rs(k,A)),g}function Ws(u){return ln(()=>{const g=fr(u),v={...g,decls:u.decls,vars:u.vars,template:u.template,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,onPush:u.changeDetection===en.OnPush,directiveDefs:null,pipeDefs:null,dependencies:g.standalone&&u.dependencies||null,getStandaloneInjector:null,signals:u.signals??!1,data:u.data||{},encapsulation:u.encapsulation||fn.Emulated,styles:u.styles||Fn,_:null,schemas:u.schemas||null,tView:null,id:""};ls(v);const x=u.dependencies;return v.directiveDefs=pa(x,!1),v.pipeDefs=pa(x,!0),v.id=function xa(u){let g=0;const v=[u.selectors,u.ngContentSelectors,u.hostVars,u.hostAttrs,u.consts,u.vars,u.decls,u.encapsulation,u.standalone,u.signals,u.exportAs,JSON.stringify(u.inputs),JSON.stringify(u.outputs),Object.getOwnPropertyNames(u.type.prototype),!!u.contentQueries,!!u.viewQuery].join("|");for(const A of v)g=Math.imul(31,g)+A.charCodeAt(0)<<0;return g+=2147483648,"c"+g}(v),v})}function Bs(u,g,v){const x=u.\u0275cmp;x.directiveDefs=pa(g,!1),x.pipeDefs=pa(v,!0)}function Wa(u){return vr(u)||Gr(u)}function Ys(u){return null!==u}function So(u){return ln(()=>({type:u.type,bootstrap:u.bootstrap||Fn,declarations:u.declarations||Fn,imports:u.imports||Fn,exports:u.exports||Fn,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null}))}function po(u,g){if(null==u)return Yn;const v={};for(const x in u)if(u.hasOwnProperty(x)){let A=u[x],k=A;Array.isArray(A)&&(k=A[1],A=A[0]),v[A]=x,g&&(g[A]=k)}return v}function To(u){return ln(()=>{const g=fr(u);return ls(g),g})}function Cs(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,standalone:!0===u.standalone,onDestroy:u.type.prototype.ngOnDestroy||null}}function vr(u){return u[mr]||null}function Gr(u){return u[uo]||null}function Hr(u){return u[Lo]||null}function ha(u){const g=vr(u)||Gr(u)||Hr(u);return null!==g&&g.standalone}function fo(u,g){const v=u[eo]||null;if(!v&&!0===g)throw new Error(`Type ${ve(u)} does not have '\u0275mod' property.`);return v}function fr(u){const g={};return{type:u.type,providersResolver:null,factory:null,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:g,inputTransforms:null,inputConfig:u.inputs||Yn,exportAs:u.exportAs||null,standalone:!0===u.standalone,signals:!0===u.signals,selectors:u.selectors||Fn,viewQuery:u.viewQuery||null,features:u.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:po(u.inputs,g),outputs:po(u.outputs)}}function ls(u){u.features?.forEach(g=>g(u))}function pa(u,g){if(!u)return null;const v=g?Hr:Wa;return()=>("function"==typeof u?u():u).map(x=>v(x)).filter(Ys)}const Cr=0,An=1,yr=2,Ur=3,ts=4,fa=5,Xo=6,Mo=7,Kr=8,Do=9,gs=10,er=11,ta=12,is=13,No=14,io=15,mo=16,ms=17,Ho=18,$s=19,nl=20,Pa=21,ws=22,ns=23,ka=24,Dr=25,Qs=1,Uo=2,Is=7,Fa=9,Ps=11;function _o(u){return Array.isArray(u)&&"object"==typeof u[Qs]}function so(u){return Array.isArray(u)&&!0===u[Qs]}function Da(u){return 0!=(4&u.flags)}function ks(u){return u.componentOffset>-1}function ia(u){return 1==(1&u.flags)}function zo(u){return!!u.template}function Pl(u){return 0!=(512&u[yr])}function Zs(u,g){return u.hasOwnProperty(Po)?u[Po]:null}let Wn=null,Gs=!1;function no(u){const g=Wn;return Wn=u,g}const Ds={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qn(u){if(!Ka(u)||u.dirty){if(!u.producerMustRecompute(u)&&!wl(u))return void(u.dirty=!1);u.producerRecomputeValue(u),u.dirty=!1}}function Cl(u){u.dirty=!0,function La(u){if(void 0===u.liveConsumerNode)return;const g=Gs;Gs=!0;try{for(const v of u.liveConsumerNode)v.dirty||Cl(v)}finally{Gs=g}}(u),u.consumerMarkedDirty?.(u)}function ql(u){return u&&(u.nextProducerIndex=0),no(u)}function $a(u,g){if(no(g),u&&void 0!==u.producerNode&&void 0!==u.producerIndexOfThis&&void 0!==u.producerLastReadVersion){if(Ka(u))for(let v=u.nextProducerIndex;v<u.producerNode.length;v++)ma(u.producerNode[v],u.producerIndexOfThis[v]);for(;u.producerNode.length>u.nextProducerIndex;)u.producerNode.pop(),u.producerLastReadVersion.pop(),u.producerIndexOfThis.pop()}}function wl(u){bo(u);for(let g=0;g<u.producerNode.length;g++){const v=u.producerNode[g],x=u.producerLastReadVersion[g];if(x!==v.version||(Qn(v),x!==v.version))return!0}return!1}function sl(u){if(bo(u),Ka(u))for(let g=0;g<u.producerNode.length;g++)ma(u.producerNode[g],u.producerIndexOfThis[g]);u.producerNode.length=u.producerLastReadVersion.length=u.producerIndexOfThis.length=0,u.liveConsumerNode&&(u.liveConsumerNode.length=u.liveConsumerIndexOfThis.length=0)}function ma(u,g){if(function cs(u){u.liveConsumerNode??=[],u.liveConsumerIndexOfThis??=[]}(u),bo(u),1===u.liveConsumerNode.length)for(let x=0;x<u.producerNode.length;x++)ma(u.producerNode[x],u.producerIndexOfThis[x]);const v=u.liveConsumerNode.length-1;if(u.liveConsumerNode[g]=u.liveConsumerNode[v],u.liveConsumerIndexOfThis[g]=u.liveConsumerIndexOfThis[v],u.liveConsumerNode.length--,u.liveConsumerIndexOfThis.length--,g<u.liveConsumerNode.length){const x=u.liveConsumerIndexOfThis[g],A=u.liveConsumerNode[g];bo(A),A.producerIndexOfThis[x]=g}}function Ka(u){return u.consumerIsAlwaysLive||(u?.liveConsumerNode?.length??0)>0}function bo(u){u.producerNode??=[],u.producerIndexOfThis??=[],u.producerLastReadVersion??=[]}let Fl=null;function qi(u){const g=no(null);try{return u()}finally{no(g)}}const Bn=()=>{},ro=(()=>({...Ds,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:u=>{u.schedule(u.ref)},hasRun:!1,cleanupFn:Bn}))();class _r{constructor(g,v,x){this.previousValue=g,this.currentValue=v,this.firstChange=x}isFirstChange(){return this.firstChange}}function jn(){return Wo}function Wo(u){return u.type.prototype.ngOnChanges&&(u.setInput=Yo),xi}function xi(){const u=Ro(this),g=u?.current;if(g){const v=u.previous;if(v===Yn)u.previous=g;else for(let x in g)v[x]=g[x];u.current=null,this.ngOnChanges(g)}}function Yo(u,g,v,x){const A=this.declaredInputs[v],k=Ro(u)||function va(u,g){return u[ys]=g}(u,{previous:Yn,current:null}),W=k.current||(k.current={}),ne=k.previous,me=ne[A];W[A]=new _r(me&&me.currentValue,g,ne===Yn),u[x]=g}jn.ngInherit=!0;const ys="__ngSimpleChanges__";function Ro(u){return u[ys]||null}const Br=function(u,g,v){},sa="svg";function Vo(u){for(;Array.isArray(u);)u=u[Cr];return u}function Ol(u,g){return Vo(g[u])}function rs(u,g){return Vo(g[u.index])}function kc(u,g){return u.data[g]}function mc(u,g){return u[g]}function Ne(u,g){const v=g[u];return _o(v)?v:v[Cr]}function Fe(u,g){return null==g?null:u[g]}function ht(u){u[ms]=0}function Jt(u){1024&u[yr]||(u[yr]|=1024,zi(u,1))}function _i(u){1024&u[yr]&&(u[yr]&=-1025,zi(u,-1))}function zi(u,g){let v=u[Ur];if(null===v)return;v[fa]+=g;let x=v;for(v=v[Ur];null!==v&&(1===g&&1===x[fa]||-1===g&&0===x[fa]);)v[fa]+=g,x=v,v=v[Ur]}const hn={lFrame:Va(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jr(){return hn.bindingsEnabled}function jo(){return null!==hn.skipHydrationRootTNode}function pn(){return hn.lFrame.lView}function ar(){return hn.lFrame.tView}function Aa(u){return hn.lFrame.contextLView=u,u[Kr]}function al(u){return hn.lFrame.contextLView=null,u}function Go(){let u=ll();for(;null!==u&&64===u.type;)u=u.parent;return u}function ll(){return hn.lFrame.currentTNode}function Za(u,g){const v=hn.lFrame;v.currentTNode=u,v.isParent=g}function Zn(){return hn.lFrame.isParent}function se(){hn.lFrame.isParent=!1}function $e(){const u=hn.lFrame;let g=u.bindingRootIndex;return-1===g&&(g=u.bindingRootIndex=u.tView.bindingStartIndex),g}function mn(){return hn.lFrame.bindingIndex++}function J(u){const g=hn.lFrame,v=g.bindingIndex;return g.bindingIndex=g.bindingIndex+u,v}function he(u,g){const v=hn.lFrame;v.bindingIndex=v.bindingRootIndex=u,At(g)}function At(u){hn.lFrame.currentDirectiveIndex=u}function pi(u){const g=hn.lFrame.currentDirectiveIndex;return-1===g?null:u[g]}function Ji(){return hn.lFrame.currentQueryIndex}function $i(u){hn.lFrame.currentQueryIndex=u}function Hn(u){const g=u[An];return 2===g.type?g.declTNode:1===g.type?u[Xo]:null}function Ir(u,g,v){if(v&Ni.SkipSelf){let A=g,k=u;for(;!(A=A.parent,null!==A||v&Ni.Host||(A=Hn(k),null===A||(k=k[No],10&A.type))););if(null===A)return!1;g=A,u=k}const x=hn.lFrame=ao();return x.currentTNode=g,x.lView=u,!0}function Qo(u){const g=ao(),v=u[An];hn.lFrame=g,g.currentTNode=v.firstChild,g.lView=u,g.tView=v,g.contextLView=u,g.bindingIndex=v.bindingStartIndex,g.inI18n=!1}function ao(){const u=hn.lFrame,g=null===u?null:u.child;return null===g?Va(u):g}function Va(u){const g={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=g),g}function yd(){const u=hn.lFrame;return hn.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const Fc=yd;function _d(){const u=yd();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function Jo(){return hn.lFrame.selectedIndex}function od(u){hn.lFrame.selectedIndex=u}function Co(){const u=hn.lFrame;return kc(u.tView,u.selectedIndex)}function vp(){hn.lFrame.currentNamespace=sa}function Cd(){!function rg(){hn.lFrame.currentNamespace=null}()}let Js=!0;function vc(){return Js}function Sl(u){Js=u}function ec(u,g){for(let v=g.directiveStart,x=g.directiveEnd;v<x;v++){const k=u.data[v].type.prototype,{ngAfterContentInit:W,ngAfterContentChecked:ne,ngAfterViewInit:me,ngAfterViewChecked:He,ngOnDestroy:Mt}=k;W&&(u.contentHooks??=[]).push(-v,W),ne&&((u.contentHooks??=[]).push(v,ne),(u.contentCheckHooks??=[]).push(v,ne)),me&&(u.viewHooks??=[]).push(-v,me),He&&((u.viewHooks??=[]).push(v,He),(u.viewCheckHooks??=[]).push(v,He)),null!=Mt&&(u.destroyHooks??=[]).push(v,Mt)}}function Ll(u,g,v){Ju(u,g,3,v)}function pu(u,g,v,x){(3&u[yr])===v&&Ju(u,g,v,x)}function Oc(u,g){let v=u[yr];(3&v)===g&&(v&=8191,v+=1,u[yr]=v)}function Ju(u,g,v,x){const k=x??-1,W=g.length-1;let ne=0;for(let me=void 0!==x?65535&u[ms]:0;me<W;me++)if("number"==typeof g[me+1]){if(ne=g[me],null!=x&&ne>=x)break}else g[me]<0&&(u[ms]+=65536),(ne<k||-1==k)&&(eh(u,v,g,me),u[ms]=(4294901760&u[ms])+me+2),me++}function yp(u,g){Br(4,u,g);const v=no(null);try{g.call(u)}finally{no(v),Br(5,u,g)}}function eh(u,g,v,x){const A=v[x]<0,k=v[x+1],ne=u[A?-v[x]:v[x]];A?u[yr]>>13<u[ms]>>16&&(3&u[yr])===g&&(u[yr]+=8192,yp(ne,k)):yp(ne,k)}const tc=-1;class th{constructor(g,v,x){this.factory=g,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=x}}function og(u){return u!==tc}function wd(u){return 32767&u}function wr(u,g){let v=function hy(u){return u>>16}(u),x=g;for(;v>0;)x=x[No],v--;return x}let Lc=!0;function Eh(u){const g=Lc;return Lc=u,g}const Ah=255,gu=5;let xd=0;const Nc={};function cf(u,g){const v=df(u,g);if(-1!==v)return v;const x=g[An];x.firstCreatePass&&(u.injectorIndex=g.length,Nl(x.data,u),Nl(g,null),Nl(x.blueprint,null));const A=Cp(u,g),k=u.injectorIndex;if(og(A)){const W=wd(A),ne=wr(A,g),me=ne[An].data;for(let He=0;He<8;He++)g[k+He]=ne[W+He]|me[W+He]}return g[k+8]=A,k}function Nl(u,g){u.push(0,0,0,0,0,0,0,0,g)}function df(u,g){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===g[u.injectorIndex+8]?-1:u.injectorIndex}function Cp(u,g){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let v=0,x=null,A=g;for(;null!==A;){if(x=Rh(A),null===x)return tc;if(v++,A=A[No],-1!==x.injectorIndex)return x.injectorIndex|v<<16}return tc}function sg(u,g,v){!function bp(u,g,v){let x;"string"==typeof v?x=v.charCodeAt(0)||0:v.hasOwnProperty(oo)&&(x=v[oo]),null==x&&(x=v[oo]=xd++);const A=x&Ah;g.data[u+(A>>gu)]|=1<<A}(u,g,v)}function uf(u,g,v){if(v&Ni.Optional||void 0!==u)return u;vi()}function ag(u,g,v,x){if(v&Ni.Optional&&void 0===x&&(x=null),!(v&(Ni.Self|Ni.Host))){const A=u[Do],k=jt(void 0);try{return A?A.get(g,x,v&Ni.Optional):It(g,x,v&Ni.Optional)}finally{jt(k)}}return uf(x,0,v)}function Tm(u,g,v,x=Ni.Default,A){if(null!==u){if(2048&g[yr]&&!(x&Ni.Self)){const W=function nh(u,g,v,x,A){let k=u,W=g;for(;null!==k&&null!==W&&2048&W[yr]&&!(512&W[yr]);){const ne=Mm(k,W,v,x|Ni.Self,Nc);if(ne!==Nc)return ne;let me=k.parent;if(!me){const He=W[nl];if(He){const Mt=He.get(v,Nc,x);if(Mt!==Nc)return Mt}me=Rh(W),W=W[No]}k=me}return A}(u,g,v,x,Nc);if(W!==Nc)return W}const k=Mm(u,g,v,x,Nc);if(k!==Nc)return k}return ag(g,v,x,A)}function Mm(u,g,v,x,A){const k=function hf(u){if("string"==typeof u)return u.charCodeAt(0)||0;const g=u.hasOwnProperty(oo)?u[oo]:void 0;return"number"==typeof g?g>=0?g&Ah:ih:g}(v);if("function"==typeof k){if(!Ir(g,u,x))return x&Ni.Host?uf(A,0,x):ag(g,v,x,A);try{let W;if(W=k(x),null!=W||x&Ni.Optional)return W;vi()}finally{Fc()}}else if("number"==typeof k){let W=null,ne=df(u,g),me=tc,He=x&Ni.Host?g[io][Xo]:null;for((-1===ne||x&Ni.SkipSelf)&&(me=-1===ne?Cp(u,g):g[ne+8],me!==tc&&wp(x,!1)?(W=g[An],ne=wd(me),g=wr(me,g)):ne=-1);-1!==ne;){const Mt=g[An];if(mu(k,ne,Mt.data)){const fi=Rm(ne,g,v,W,x,He);if(fi!==Nc)return fi}me=g[ne+8],me!==tc&&wp(x,g[An].data[ne+8]===He)&&mu(k,ne,g)?(W=Mt,ne=wd(me),g=wr(me,g)):ne=-1}}return A}function Rm(u,g,v,x,A,k){const W=g[An],ne=W.data[u+8],Mt=lg(ne,W,v,null==x?ks(ne)&&Lc:x!=W&&0!=(3&ne.type),A&Ni.Host&&k===ne);return null!==Mt?Sd(g,W,Mt,ne):Nc}function lg(u,g,v,x,A){const k=u.providerIndexes,W=g.data,ne=1048575&k,me=u.directiveStart,Mt=k>>20,Gi=A?ne+Mt:u.directiveEnd;for(let Ki=x?ne:ne+Mt;Ki<Gi;Ki++){const yn=W[Ki];if(Ki<me&&v===yn||Ki>=me&&yn.type===v)return Ki}if(A){const Ki=W[me];if(Ki&&zo(Ki)&&Ki.type===v)return me}return null}function Sd(u,g,v,x){let A=u[v];const k=g.data;if(function _p(u){return u instanceof th}(A)){const W=A;W.resolving&&function We(u,g){const v=g?`. Dependency path: ${g.join(" > ")} > ${u}`:"";throw new q(-200,`Circular dependency in DI detected for ${u}${v}`)}(function Le(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():Oe(u)}(k[v]));const ne=Eh(W.canSeeViewProviders);W.resolving=!0;const He=W.injectImpl?jt(W.injectImpl):null;Ir(u,x,Ni.Default);try{A=u[v]=W.factory(void 0,k,u,x),g.firstCreatePass&&v>=x.directiveStart&&function Os(u,g,v){const{ngOnChanges:x,ngOnInit:A,ngDoCheck:k}=g.type.prototype;if(x){const W=Wo(g);(v.preOrderHooks??=[]).push(u,W),(v.preOrderCheckHooks??=[]).push(u,W)}A&&(v.preOrderHooks??=[]).push(0-u,A),k&&((v.preOrderHooks??=[]).push(u,k),(v.preOrderCheckHooks??=[]).push(u,k))}(v,k[v],g)}finally{null!==He&&jt(He),Eh(ne),W.resolving=!1,Fc()}}return A}function mu(u,g,v){return!!(v[g+(u>>gu)]&1<<u)}function wp(u,g){return!(u&Ni.Self||u&Ni.Host&&g)}class Ga{constructor(g,v){this._tNode=g,this._lView=v}get(g,v,x){return Tm(this._tNode,this._lView,g,ai(x),v)}}function ih(){return new Ga(Go(),pn())}function Qd(u){return ln(()=>{const g=u.prototype.constructor,v=g[Po]||Dd(g),x=Object.prototype;let A=Object.getPrototypeOf(u.prototype).constructor;for(;A&&A!==x;){const k=A[Po]||Dd(A);if(k&&k!==v)return k;A=Object.getPrototypeOf(A)}return k=>new k})}function Dd(u){return qt(u)?()=>{const g=Dd(Ct(u));return g&&g()}:Zs(u)}function Rh(u){const g=u[An],v=g.type;return 2===v?g.declTNode:1===v?u[Xo]:null}function dg(u){return function Th(u,g){if("class"===g)return u.classes;if("style"===g)return u.styles;const v=u.attrs;if(v){const x=v.length;let A=0;for(;A<x;){const k=v[A];if(Rn(k))break;if(0===k)A+=2;else if("number"==typeof k)for(A++;A<x&&"string"==typeof v[A];)A++;else{if(k===g)return v[A+1];A+=2}}}return null}(Go(),u)}const vu="__parameters__";function rh(u,g,v){return ln(()=>{const x=function cl(u){return function(...v){if(u){const x=u(...v);for(const A in x)this[A]=x[A]}}}(g);function A(...k){if(this instanceof A)return x.apply(this,k),this;const W=new A(...k);return ne.annotation=W,ne;function ne(me,He,Mt){const fi=me.hasOwnProperty(vu)?me[vu]:Object.defineProperty(me,vu,{value:[]})[vu];for(;fi.length<=Mt;)fi.push(null);return(fi[Mt]=fi[Mt]||[]).push(W),me}}return v&&(A.prototype=Object.create(v.prototype)),A.prototype.ngMetadataName=u,A.annotationCls=A,A})}function Vc(u,g){u.forEach(v=>Array.isArray(v)?Vc(v,g):g(v))}function Pr(u,g,v){g>=u.length?u.push(v):u.splice(g,0,v)}function dl(u,g){return g>=u.length-1?u.pop():u.splice(g,1)[0]}function ul(u,g){const v=[];for(let x=0;x<u;x++)v.push(g);return v}function Ha(u,g,v){let x=nc(u,g);return x>=0?u[1|x]=v:(x=~x,function zn(u,g,v,x){let A=u.length;if(A==g)u.push(v,x);else if(1===A)u.push(x,u[0]),u[0]=v;else{for(A--,u.push(u[A-1],u[A]);A>g;)u[A]=u[A-2],A--;u[g]=v,u[g+1]=x}}(u,x,g,v)),x}function Ph(u,g){const v=nc(u,g);if(v>=0)return u[1|v]}function nc(u,g){return function Ep(u,g,v){let x=0,A=u.length>>v;for(;A!==x;){const k=x+(A-x>>1),W=u[k<<v];if(g===W)return k<<v;W>g?A=k:x=k+1}return~(A<<v)}(u,g,1)}const Mp=li(rh("Optional"),8),gr=li(rh("SkipSelf"),4);function U(u){return 128==(128&u.flags)}var B=function(u){return u[u.Important=1]="Important",u[u.DashCase=2]="DashCase",u}(B||{});const Y=/^>|^->|<!--|-->|--!>|<!-$/g,_e=/(<|>)/g,Ge="\u200b$1\u200b";const Xe=new Map;let Xt=0;const rr="__ngContext__";function or(u,g){_o(g)?(u[rr]=g[$s],function Hi(u){Xe.set(u[$s],u)}(g)):u[rr]=g}let Uc;function _c(u,g){return Uc(u,g)}function ba(u){const g=u[Ur];return so(g)?g[Ur]:g}function Cu(u){return _f(u[ta])}function Rd(u){return _f(u[ts])}function _f(u){for(;null!==u&&!so(u);)u=u[ts];return u}function wu(u,g,v,x,A){if(null!=x){let k,W=!1;so(x)?k=x:_o(x)&&(W=!0,x=x[Cr]);const ne=Vo(x);0===u&&null!==v?null==A?Hh(g,v,ne):ld(g,v,ne,A||null,!0):1===u&&null!==v?ld(g,v,ne,A||null,!0):2===u?function kd(u,g,v){const x=xu(u,g);x&&function yy(u,g,v,x){u.removeChild(g,v,x)}(u,x,g,v)}(g,ne,W):3===u&&g.destroyNode(ne),null!=k&&function _b(u,g,v,x,A){const k=v[Is];k!==Vo(v)&&wu(g,u,x,k,A);for(let ne=Ps;ne<v.length;ne++){const me=v[ne];xf(me[An],me,u,g,x,k)}}(g,u,k,v,A)}}function Pp(u,g){return u.createComment(function xt(u){return u.replace(Y,g=>g.replace(_e,Ge))}(g))}function Id(u,g,v){return u.createElement(g,v)}function yb(u,g){const v=u[Fa],x=v.indexOf(g);_i(g),v.splice(x,1)}function Vh(u,g){if(u.length<=Ps)return;const v=Ps+g,x=u[v];if(x){const A=x[mo];null!==A&&A!==u&&yb(A,x),g>0&&(u[v-1][ts]=x[ts]);const k=dl(u,Ps+g);!function bf(u,g){xf(u,g,g[er],2,null,null),g[Cr]=null,g[Xo]=null}(x[An],x);const W=k[Ho];null!==W&&W.detachView(k[An]),x[Ur]=null,x[ts]=null,x[yr]&=-129}return x}function sc(u,g){if(!(256&g[yr])){const v=g[er];g[ns]&&sl(g[ns]),g[ka]&&sl(g[ka]),v.destroyNode&&xf(u,g,v,3,null,null),function w0(u){let g=u[ta];if(!g)return lh(u[An],u);for(;g;){let v=null;if(_o(g))v=g[ta];else{const x=g[Ps];x&&(v=x)}if(!v){for(;g&&!g[ts]&&g!==u;)_o(g)&&lh(g[An],g),g=g[Ur];null===g&&(g=u),_o(g)&&lh(g[An],g),v=g&&g[ts]}g=v}}(g)}}function lh(u,g){if(!(256&g[yr])){g[yr]&=-129,g[yr]|=256,function ad(u,g){let v;if(null!=u&&null!=(v=u.destroyHooks))for(let x=0;x<v.length;x+=2){const A=g[v[x]];if(!(A instanceof th)){const k=v[x+1];if(Array.isArray(k))for(let W=0;W<k.length;W+=2){const ne=A[k[W]],me=k[W+1];Br(4,ne,me);try{me.call(ne)}finally{Br(5,ne,me)}}else{Br(4,A,k);try{k.call(A)}finally{Br(5,A,k)}}}}}(u,g),function Eg(u,g){const v=u.cleanup,x=g[Mo];if(null!==v)for(let k=0;k<v.length-1;k+=2)if("string"==typeof v[k]){const W=v[k+3];W>=0?x[W]():x[-W].unsubscribe(),k+=2}else v[k].call(x[v[k+1]]);null!==x&&(g[Mo]=null);const A=g[Pa];if(null!==A){g[Pa]=null;for(let k=0;k<A.length;k++)(0,A[k])()}}(u,g),1===g[An].type&&g[er].destroy();const v=g[mo];if(null!==v&&so(g[Ur])){v!==g[Ur]&&yb(v,g);const x=g[Ho];null!==x&&x.detachView(u)}!function Tn(u){Xe.delete(u[$s])}(g)}}function Om(u,g,v){return function Gh(u,g,v){let x=g;for(;null!==x&&40&x.type;)x=(g=x).parent;if(null===x)return v[Cr];{const{componentOffset:A}=x;if(A>-1){const{encapsulation:k}=u.data[x.directiveStart+A];if(k===fn.None||k===fn.Emulated)return null}return rs(x,v)}}(u,g.parent,v)}function ld(u,g,v,x,A){u.insertBefore(g,v,x,A)}function Hh(u,g,v){u.appendChild(g,v)}function Uh(u,g,v,x,A){null!==x?ld(u,g,v,x,A):Hh(u,g,v)}function xu(u,g){return u.parentNode(g)}function _y(u,g,v){return bc(u,g,v)}let ac,hl,uh,Tl,bc=function cd(u,g,v){return 40&u.type?rs(u,v):null};function Su(u,g,v,x){const A=Om(u,x,g),k=g[er],ne=_y(x.parent||g[Xo],x,g);if(null!=A)if(Array.isArray(v))for(let me=0;me<v.length;me++)Uh(k,A,v[me],ne,!1);else Uh(k,A,v,ne,!1);void 0!==ac&&ac(k,x,g,v,A)}function Pd(u,g){if(null!==g){const v=g.type;if(3&v)return rs(g,u);if(4&v)return dh(-1,u[g.index]);if(8&v){const x=g.child;if(null!==x)return Pd(u,x);{const A=u[g.index];return so(A)?dh(-1,A):Vo(A)}}if(32&v)return _c(g,u)()||Vo(u[g.index]);{const x=Ag(u,g);return null!==x?Array.isArray(x)?x[0]:Pd(ba(u[io]),x):Pd(u,g.next)}}return null}function Ag(u,g){return null!==g?u[io][Xo].projection[g.projection]:null}function dh(u,g){const v=Ps+u+1;if(v<g.length){const x=g[v],A=x[An].firstChild;if(null!==A)return Pd(x,A)}return g[Is]}function tu(u,g,v,x,A,k,W){for(;null!=v;){const ne=x[v.index],me=v.type;if(W&&0===g&&(ne&&or(Vo(ne),x),v.flags|=2),32!=(32&v.flags))if(8&me)tu(u,g,v.child,x,A,k,!1),wu(g,u,A,ne,k);else if(32&me){const He=_c(v,x);let Mt;for(;Mt=He();)wu(g,u,A,Mt,k);wu(g,u,A,ne,k)}else 16&me?Fp(u,g,x,v,A,k):wu(g,u,A,ne,k);v=W?v.projectionNext:v.next}}function xf(u,g,v,x,A,k){tu(v,x,u.firstChild,g,A,k,!1)}function Fp(u,g,v,x,A,k){const W=v[io],me=W[Xo].projection[x.projection];if(Array.isArray(me))for(let He=0;He<me.length;He++)wu(g,u,A,me[He],k);else{let He=me;const Mt=W[Ur];U(x)&&(He.flags|=128),tu(u,g,He,Mt,A,k,!0)}}function dd(u,g,v){""===v?u.removeAttribute(g,"class"):u.setAttribute(g,"class",v)}function iu(u,g,v){const{mergedAttrs:x,classes:A,styles:k}=v;null!==x&&to(u,g,x),null!==A&&dd(u,g,A),null!==k&&function us(u,g,v){u.setAttribute(g,"style",v)}(u,g,k)}function Cc(u){return function Du(){if(void 0===hl&&(hl=null,Kt.trustedTypes))try{hl=Kt.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch{}return hl}()?.createHTML(u)||u}function lc(u){uh=u}function zh(){if(void 0!==uh)return uh;if(typeof document<"u")return document;throw new q(210,!1)}function Mg(){if(void 0===Tl&&(Tl=null,Kt.trustedTypes))try{Tl=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch{}return Tl}function Tu(u){return Mg()?.createHTML(u)||u}function Nm(u){return Mg()?.createScriptURL(u)||u}class Wh{constructor(g){this.changingThisBreaksApplicationSecurity=g}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oi})`}}class zl extends Wh{getTypeName(){return"HTML"}}class jc extends Wh{getTypeName(){return"Style"}}class Op extends Wh{getTypeName(){return"Script"}}class jh extends Wh{getTypeName(){return"URL"}}class hh extends Wh{getTypeName(){return"ResourceURL"}}function la(u){return u instanceof Wh?u.changingThisBreaksApplicationSecurity:u}function ud(u,g){const v=function wy(u){return u instanceof Wh&&u.getTypeName()||null}(u);if(null!=v&&v!==g){if("ResourceURL"===v&&"URL"===g)return!0;throw new Error(`Required a safe ${g}, got a ${v} (see ${oi})`)}return v===g}function wc(u){return new zl(u)}function $c(u){return new jc(u)}function hd(u){return new Op(u)}function _s(u){return new jh(u)}function xy(u){return new hh(u)}class Wl{constructor(g){this.inertDocumentHelper=g}getInertBodyElement(g){g="<body><remove></remove>"+g;try{const v=(new window.DOMParser).parseFromString(Cc(g),"text/html").body;return null===v?this.inertDocumentHelper.getInertBodyElement(g):(v.removeChild(v.firstChild),v)}catch{return null}}}class Bm{constructor(g){this.defaultDoc=g,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(g){const v=this.inertDocument.createElement("template");return v.innerHTML=Cc(g),v}}const Sf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lp(u){return(u=String(u)).match(Sf)?u:"unsafe:"+u}function Kc(u){const g={};for(const v of u.split(","))g[v]=!0;return g}function Rg(...u){const g={};for(const v of u)for(const x in v)v.hasOwnProperty(x)&&(g[x]=!0);return g}const Sy=Kc("area,br,col,hr,img,wbr"),Np=Kc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cb=Kc("rp,rt"),Gm=Rg(Sy,Rg(Np,Kc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rg(Cb,Kc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rg(Cb,Np)),Df=Kc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ef=Rg(Df,Kc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Af=Kc("script,style,template");class Bp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(g){let v=g.firstChild,x=!0;for(;v;)if(v.nodeType===Node.ELEMENT_NODE?x=this.startElement(v):v.nodeType===Node.TEXT_NODE?this.chars(v.nodeValue):this.sanitizedSomething=!0,x&&v.firstChild)v=v.firstChild;else for(;v;){v.nodeType===Node.ELEMENT_NODE&&this.endElement(v);let A=this.checkClobberedElement(v,v.nextSibling);if(A){v=A;break}v=this.checkClobberedElement(v,v.parentNode)}return this.buf.join("")}startElement(g){const v=g.nodeName.toLowerCase();if(!Gm.hasOwnProperty(v))return this.sanitizedSomething=!0,!Af.hasOwnProperty(v);this.buf.push("<"),this.buf.push(v);const x=g.attributes;for(let A=0;A<x.length;A++){const k=x.item(A),W=k.name,ne=W.toLowerCase();if(!Ef.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let me=k.value;Df[ne]&&(me=Lp(me)),this.buf.push(" ",W,'="',Vp(me),'"')}return this.buf.push(">"),!0}endElement(g){const v=g.nodeName.toLowerCase();Gm.hasOwnProperty(v)&&!Sy.hasOwnProperty(v)&&(this.buf.push("</"),this.buf.push(v),this.buf.push(">"))}chars(g){this.buf.push(Vp(g))}checkClobberedElement(g,v){if(v&&(g.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${g.outerHTML}`);return v}}const hs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ig=/([^\#-~ |!])/g;function Vp(u){return u.replace(/&/g,"&amp;").replace(hs,function(g){return"&#"+(1024*(g.charCodeAt(0)-55296)+(g.charCodeAt(1)-56320)+65536)+";"}).replace(Ig,function(g){return"&#"+g.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mu;function Pg(u,g){let v=null;try{Mu=Mu||function Ja(u){const g=new Bm(u);return function x0(){try{return!!(new window.DOMParser).parseFromString(Cc(""),"text/html")}catch{return!1}}()?new Wl(g):g}(u);let x=g?String(g):"";v=Mu.getInertBodyElement(x);let A=5,k=x;do{if(0===A)throw new Error("Failed to sanitize html because the input is unstable");A--,x=k,k=v.innerHTML,v=Mu.getInertBodyElement(x)}while(x!==k);return Cc((new Bp).sanitizeChildren(pd(v)||v))}finally{if(v){const x=pd(v)||v;for(;x.firstChild;)x.removeChild(x.firstChild)}}}function pd(u){return"content"in u&&function Dy(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var $h=function(u){return u[u.NONE=0]="NONE",u[u.HTML=1]="HTML",u[u.STYLE=2]="STYLE",u[u.SCRIPT=3]="SCRIPT",u[u.URL=4]="URL",u[u.RESOURCE_URL=5]="RESOURCE_URL",u}($h||{});function Um(u){const g=Ru();return g?Tu(g.sanitize($h.HTML,u)||""):ud(u,"HTML")?Tu(la(u)):Pg(zh(),Oe(u))}function Kh(u){const g=Ru();return g?g.sanitize($h.URL,u)||"":ud(u,"URL")?la(u):Lp(Oe(u))}function kg(u){const g=Ru();if(g)return Nm(g.sanitize($h.RESOURCE_URL,u)||"");if(ud(u,"ResourceURL"))return Nm(la(u));throw new q(904,!1)}function ph(u,g,v){return function Ey(u,g){return"src"===g&&("embed"===u||"frame"===u||"iframe"===u||"media"===u||"script"===u)||"href"===g&&("base"===u||"link"===u)?kg:Kh}(g,v)(u)}function Ru(){const u=pn();return u&&u[gs].sanitizer}const Iu=new xe("ENVIRONMENT_INITIALIZER"),Ay=new xe("INJECTOR",-1),Pu=new xe("INJECTOR_DEF_TYPES");class zm{get(g,v=Re){if(v===Re){const x=new Error(`NullInjectorError: No provider for ${ve(g)}!`);throw x.name="NullInjectorError",x}return v}}function Wm(u){return{\u0275providers:u}}function xb(...u){return{\u0275providers:fh(0,u),\u0275fromNgModule:!0}}function fh(u,...g){const v=[],x=new Set;let A;const k=W=>{v.push(W)};return Vc(g,W=>{const ne=W;dr(ne,k,[],x)&&(A||=[],A.push(ne))}),void 0!==A&&lo(A,k),v}function lo(u,g){for(let v=0;v<u.length;v++){const{ngModule:x,providers:A}=u[v];jm(A,k=>{g(k,x)})}}function dr(u,g,v,x){if(!(u=Ct(u)))return!1;let A=null,k=Qi(u);const W=!k&&vr(u);if(k||W){if(W&&!W.standalone)return!1;A=u}else{const me=u.ngModule;if(k=Qi(me),!k)return!1;A=me}const ne=x.has(A);if(W){if(ne)return!1;if(x.add(A),W.dependencies){const me="function"==typeof W.dependencies?W.dependencies():W.dependencies;for(const He of me)dr(He,g,v,x)}}else{if(!k)return!1;{if(null!=k.imports&&!ne){let He;x.add(A);try{Vc(k.imports,Mt=>{dr(Mt,g,v,x)&&(He||=[],He.push(Mt))})}finally{}void 0!==He&&lo(He,g)}if(!ne){const He=Zs(A)||(()=>new A);g({provide:A,useFactory:He,deps:Fn},A),g({provide:Pu,useValue:A,multi:!0},A),g({provide:Iu,useValue:()=>Di(A),multi:!0},A)}const me=k.providers;if(null!=me&&!ne){const He=u;jm(me,Mt=>{g(Mt,He)})}}}return A!==u&&void 0!==u.providers}function jm(u,g){for(let v of u)pt(v)&&(v=v.\u0275providers),Array.isArray(v)?jm(v,g):g(v)}const Zo=ee({provide:String,useValue:ee});function Tf(u){return null!==u&&"object"==typeof u&&Zo in u}function Fd(u){return"function"==typeof u}const Ca=new xe("Set Injector scope."),Xc={},Od={};let jl;function Yc(){return void 0===jl&&(jl=new zm),jl}class cc{}class Ld extends cc{get destroyed(){return this._destroyed}constructor(g,v,x,A){super(),this.parent=v,this.source=x,this.scopes=A,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vg(g,W=>this.processProvider(W)),this.records.set(Ay,Rf(void 0,this)),A.has("environment")&&this.records.set(cc,Rf(void 0,this));const k=this.records.get(Ca);null!=k&&"string"==typeof k.value&&this.scopes.add(k.value),this.injectorDefTypes=new Set(this.get(Pu.multi,Fn,Ni.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const v of this._ngOnDestroyHooks)v.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const v of g)v()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(g){return this.assertNotDestroyed(),this._onDestroyHooks.push(g),()=>this.removeOnDestroy(g)}runInContext(g){this.assertNotDestroyed();const v=Ii(this),x=jt(void 0);try{return g()}finally{Ii(v),jt(x)}}get(g,v=Re,x=Ni.Default){if(this.assertNotDestroyed(),g.hasOwnProperty(nn))return g[nn](this);x=ai(x);const k=Ii(this),W=jt(void 0);try{if(!(x&Ni.SkipSelf)){let me=this.records.get(g);if(void 0===me){const He=function Eb(u){return"function"==typeof u||"object"==typeof u&&u instanceof xe}(g)&&Wt(g);me=He&&this.injectableDefInScope(He)?Rf(ku(g),Xc):null,this.records.set(g,me)}if(null!=me)return this.hydrate(g,me)}return(x&Ni.Self?Yc():this.parent).get(g,v=x&Ni.Optional&&v===Re?null:v)}catch(ne){if("NullInjectorError"===ne.name){if((ne[zt]=ne[zt]||[]).unshift(ve(g)),k)throw ne;return function Ti(u,g,v,x){const A=u[zt];throw g[Se]&&A.unshift(g[Se]),u.message=function Xi(u,g,v,x=null){u=u&&"\n"===u.charAt(0)&&"\u0275"==u.charAt(1)?u.slice(2):u;let A=ve(g);if(Array.isArray(g))A=g.map(ve).join(" -> ");else if("object"==typeof g){let k=[];for(let W in g)if(g.hasOwnProperty(W)){let ne=g[W];k.push(W+":"+("string"==typeof ne?JSON.stringify(ne):ve(ne)))}A=`{${k.join(", ")}}`}return`${v}${x?"("+x+")":""}[${A}]: ${u.replace(_t,"\n  ")}`}("\n"+u.message,A,v,x),u.ngTokenPath=A,u[zt]=null,u}(ne,g,"R3InjectorError",this.source)}throw ne}finally{jt(W),Ii(k)}}resolveInjectorInitializers(){const g=Ii(this),v=jt(void 0);try{const A=this.get(Iu.multi,Fn,Ni.Self);for(const k of A)k()}finally{Ii(g),jt(v)}}toString(){const g=[],v=this.records;for(const x of v.keys())g.push(ve(x));return`R3Injector[${g.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(g){let v=Fd(g=Ct(g))?g:Ct(g&&g.provide);const x=function Ng(u){return Tf(u)?Rf(void 0,u.useValue):Rf(Bg(u),Xc)}(g);if(Fd(g)||!0!==g.multi)this.records.get(v);else{let A=this.records.get(v);A||(A=Rf(void 0,Xc,!0),A.factory=()=>ki(A.multi),this.records.set(v,A)),v=g,A.multi.push(g)}this.records.set(v,x)}hydrate(g,v){return v.value===Xc&&(v.value=Od,v.value=v.factory()),"object"==typeof v.value&&v.value&&function Km(u){return null!==u&&"object"==typeof u&&"function"==typeof u.ngOnDestroy}(v.value)&&this._ngOnDestroyHooks.add(v.value),v.value}injectableDefInScope(g){if(!g.providedIn)return!1;const v=Ct(g.providedIn);return"string"==typeof v?"any"===v||this.scopes.has(v):this.injectorDefTypes.has(v)}removeOnDestroy(g){const v=this._onDestroyHooks.indexOf(g);-1!==v&&this._onDestroyHooks.splice(v,1)}}function ku(u){const g=Wt(u),v=null!==g?g.factory:Zs(u);if(null!==v)return v;if(u instanceof xe)throw new q(204,!1);if(u instanceof Function)return function Xh(u){const g=u.length;if(g>0)throw ul(g,"?"),new q(204,!1);const v=function Mi(u){return u&&(u[tn]||u[gn])||null}(u);return null!==v?()=>v.factory(u):()=>new u}(u);throw new q(204,!1)}function Bg(u,g,v){let x;if(Fd(u)){const A=Ct(u);return Zs(A)||ku(A)}if(Tf(u))x=()=>Ct(u.useValue);else if(function $m(u){return!(!u||!u.useFactory)}(u))x=()=>u.useFactory(...ki(u.deps||[]));else if(function Mf(u){return!(!u||!u.useExisting)}(u))x=()=>Di(Ct(u.useExisting));else{const A=Ct(u&&(u.useClass||u.provide));if(!function Db(u){return!!u.deps}(u))return Zs(A)||ku(A);x=()=>new A(...ki(u.deps))}return x}function Rf(u,g,v=!1){return{factory:u,value:g,multi:v?[]:void 0}}function Vg(u,g){for(const v of u)Array.isArray(v)?Vg(v,g):v&&pt(v)?Vg(v.\u0275providers,g):g(v)}const Ab=new xe("AppId",{providedIn:"root",factory:()=>Up}),Up="ng",Nd=new xe("Platform Initializer"),If=new xe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Xm=new xe("AnimationModuleType"),Gg=new xe("CSP nonce",{providedIn:"root",factory:()=>zh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ty=(u,g,v)=>null;function ou(u,g,v=!1){return Ty(u,g,v)}class su{}class Ib{}class wo{resolveComponentFactory(g){throw function Pb(u){const g=Error(`No component factory found for ${ve(u)}.`);return g.ngComponent=u,g}(g)}}let as=(()=>{class u{static{this.NULL=new wo}}return u})();function Ua(){return Zc(Go(),pn())}function Zc(u,g){return new Wp(rs(u,g))}let Wp=(()=>{class u{constructor(v){this.nativeElement=v}static{this.__NG_ELEMENT_ID__=Ua}}return u})();function Kg(u){return u instanceof Wp?u.nativeElement:u}class Bd{}let I0=(()=>{class u{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function qm(){const u=pn(),v=Ne(Go().index,u);return(_o(v)?v:u)[er]}()}}return u})(),kb=(()=>{class u{static{this.\u0275prov=ct({token:u,providedIn:"root",factory:()=>null})}}return u})();class Jm{constructor(g){this.full=g,this.major=g.split(".")[0],this.minor=g.split(".")[1],this.patch=g.split(".").slice(2).join(".")}}const Rl=new Jm("16.2.12"),za={};function p(u,g=null,v=null,x){const A=y(u,g,v,x);return A.resolveInjectorInitializers(),A}function y(u,g=null,v=null,x,A=new Set){const k=[v||Fn,xb(u)];return x=x||("object"==typeof u?void 0:ve(u)),new Ld(k,g||Yc(),x||null,A)}let S=(()=>{class u{static{this.THROW_IF_NOT_FOUND=Re}static{this.NULL=new zm}static create(v,x){if(Array.isArray(v))return p({name:""},x,v,"");{const A=v.name??"";return p({name:A},v.parent,v.providers,A)}}static{this.\u0275prov=ct({token:u,providedIn:"any",factory:()=>Di(Ay)})}static{this.__NG_ELEMENT_ID__=-1}}return u})();function Q(u){return u.ngOriginalError}class be{constructor(){this._console=console}handleError(g){const v=this._findOriginalError(g);this._console.error("ERROR",g),v&&this._console.error("ORIGINAL ERROR",v)}_findOriginalError(g){let v=g&&Q(g);for(;v&&Q(v);)v=Q(v);return v||null}}function Li(u){return g=>{setTimeout(u,void 0,g)}}const Wi=class Ei extends b.B{constructor(g=!1){super(),this.__isAsync=g}emit(g){super.next(g)}subscribe(g,v,x){let A=g,k=v||(()=>null),W=x;if(g&&"object"==typeof g){const me=g;A=me.next?.bind(me),k=me.error?.bind(me),W=me.complete?.bind(me)}this.__isAsync&&(k=Li(k),A&&(A=Li(A)),W&&(W=Li(W)));const ne=super.subscribe({next:A,error:k,complete:W});return g instanceof O.yU&&g.add(ne),ne}};function Vi(...u){}class xn{constructor({enableLongStackTrace:g=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:x=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wi(!1),this.onMicrotaskEmpty=new Wi(!1),this.onStable=new Wi(!1),this.onError=new Wi(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const A=this;A._nesting=0,A._outer=A._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(A._inner=A._inner.fork(new Zone.TaskTrackingZoneSpec)),g&&Zone.longStackTraceZoneSpec&&(A._inner=A._inner.fork(Zone.longStackTraceZoneSpec)),A.shouldCoalesceEventChangeDetection=!x&&v,A.shouldCoalesceRunChangeDetection=x,A.lastRequestAnimationFrameId=-1,A.nativeRequestAnimationFrame=function wn(){const u="function"==typeof Kt.requestAnimationFrame;let g=Kt[u?"requestAnimationFrame":"setTimeout"],v=Kt[u?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&g&&v){const x=g[Zone.__symbol__("OriginalDelegate")];x&&(g=x);const A=v[Zone.__symbol__("OriginalDelegate")];A&&(v=A)}return{nativeRequestAnimationFrame:g,nativeCancelAnimationFrame:v}}().nativeRequestAnimationFrame,function hr(u){const g=()=>{!function qn(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call(Kt,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,ps(u),u.isCheckStableRunning=!0,Gn(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),ps(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,x,A,k,W,ne)=>{if(function ev(u){return!(!Array.isArray(u)||1!==u.length)&&!0===u[0].data?.__ignore_ng_zone__}(ne))return v.invokeTask(A,k,W,ne);try{return es(u),v.invokeTask(A,k,W,ne)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===k.type||u.shouldCoalesceRunChangeDetection)&&g(),Il(u)}},onInvoke:(v,x,A,k,W,ne,me)=>{try{return es(u),v.invoke(A,k,W,ne,me)}finally{u.shouldCoalesceRunChangeDetection&&g(),Il(u)}},onHasTask:(v,x,A,k)=>{v.hasTask(A,k),x===A&&("microTask"==k.change?(u._hasPendingMicrotasks=k.microTask,ps(u),Gn(u)):"macroTask"==k.change&&(u.hasPendingMacrotasks=k.macroTask))},onHandleError:(v,x,A,k)=>(v.handleError(A,k),u.runOutsideAngular(()=>u.onError.emit(k)),!1)})}(A)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xn.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(xn.isInAngularZone())throw new q(909,!1)}run(g,v,x){return this._inner.run(g,v,x)}runTask(g,v,x,A){const k=this._inner,W=k.scheduleEventTask("NgZoneEvent: "+A,g,Nn,Vi,Vi);try{return k.runTask(W,v,x)}finally{k.cancelTask(W)}}runGuarded(g,v,x){return this._inner.runGuarded(g,v,x)}runOutsideAngular(g){return this._outer.run(g)}}const Nn={};function Gn(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function ps(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function es(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function Il(u){u._nesting--,Gn(u)}class $l{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wi,this.onMicrotaskEmpty=new Wi,this.onStable=new Wi,this.onError=new Wi}run(g,v,x){return g.apply(v,x)}runGuarded(g,v,x){return g.apply(v,x)}runOutsideAngular(g){return g()}runTask(g,v,x,A){return g.apply(v,x)}}const mh=new xe("",{providedIn:"root",factory:Vd});function Vd(){const u=Lt(xn);let g=!0;const v=new E.c(A=>{g=u.isStable&&!u.hasPendingMacrotasks&&!u.hasPendingMicrotasks,u.runOutsideAngular(()=>{A.next(g),A.complete()})}),x=new E.c(A=>{let k;u.runOutsideAngular(()=>{k=u.onStable.subscribe(()=>{xn.assertNotInAngularZone(),queueMicrotask(()=>{!g&&!u.hasPendingMacrotasks&&!u.hasPendingMicrotasks&&(g=!0,A.next(!0))})})});const W=u.onUnstable.subscribe(()=>{xn.assertInAngularZone(),g&&(g=!1,u.runOutsideAngular(()=>{A.next(!1)}))});return()=>{k.unsubscribe(),W.unsubscribe()}});return(0,ye.h)(v,x.pipe((0,j.u)()))}function Ob(u){return u.ownerDocument.defaultView}function Lb(u){return u.ownerDocument}function vh(u){return u instanceof Function?u():u}let Nb=(()=>{class u{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=ct({token:u,providedIn:"root",factory:()=>new u})}}return u})();function Xg(u){for(;u;){u[yr]|=64;const g=ba(u);if(Pl(u)&&!g)return u;u=g}return null}const Yg=new xe("",{providedIn:"root",factory:()=>!1});let Qg=null;function uD(u,g){return u[g]??B0()}function L0(u,g){const v=B0();v.producerNode?.length&&(u[g]=Qg,v.lView=u,Qg=N0())}const hD={...Ds,consumerIsAlwaysLive:!0,consumerMarkedDirty:u=>{Xg(u.lView)},lView:null};function N0(){return Object.create(hD)}function B0(){return Qg??=N0(),Qg}const co={};function V0(u){Bb(ar(),pn(),Jo()+u,!1)}function Bb(u,g,v,x){if(!x)if(3==(3&g[yr])){const k=u.preOrderCheckHooks;null!==k&&Ll(g,k,v)}else{const k=u.preOrderHooks;null!==k&&pu(g,k,0,v)}od(v)}function Lf(u,g=Ni.Default){const v=pn();return null===v?Di(u,g):Tm(Go(),v,Ct(u),g)}function Nf(){throw new Error("invalid")}function Gy(u,g,v,x,A,k,W,ne,me,He,Mt){const fi=g.blueprint.slice();return fi[Cr]=A,fi[yr]=140|x,(null!==He||u&&2048&u[yr])&&(fi[yr]|=2048),ht(fi),fi[Ur]=fi[No]=u,fi[Kr]=v,fi[gs]=W||u&&u[gs],fi[er]=ne||u&&u[er],fi[Do]=me||u&&u[Do]||null,fi[Xo]=k,fi[$s]=function si(){return Xt++}(),fi[ws]=Mt,fi[nl]=He,fi[io]=2==g.type?u[io]:fi,fi}function Bf(u,g,v,x,A){let k=u.data[g];if(null===k)k=function Hy(u,g,v,x,A){const k=ll(),W=Zn(),me=u.data[g]=function pl(u,g,v,x,A,k){let W=g?g.injectorIndex:-1,ne=0;return jo()&&(ne|=128),{type:v,index:x,insertBeforeIndex:null,injectorIndex:W,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:ne,providerIndexes:0,value:A,attrs:k,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:g,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,W?k:k&&k.parent,v,g,x,A);return null===u.firstChild&&(u.firstChild=me),null!==k&&(W?null==k.child&&null!==me.parent&&(k.child=me):null===k.next&&(k.next=me,me.prev=k)),me}(u,g,v,x,A),function pe(){return hn.lFrame.inI18n}()&&(k.flags|=32);else if(64&k.type){k.type=v,k.value=x,k.attrs=A;const W=function Ba(){const u=hn.lFrame,g=u.currentTNode;return u.isParent?g:g.parent}();k.injectorIndex=null===W?-1:W.injectorIndex}return Za(k,!0),k}function Uy(u,g,v,x){if(0===v)return-1;const A=g.length;for(let k=0;k<v;k++)g.push(x),u.blueprint.push(x),u.data.push(null);return A}function H0(u,g,v,x,A){const k=uD(g,ns),W=Jo(),ne=2&x;try{od(-1),ne&&g.length>Dr&&Bb(u,g,Dr,!1),Br(ne?2:0,A);const He=ne?k:null,Mt=ql(He);try{null!==He&&(He.dirty=!1),v(x,A)}finally{$a(He,Mt)}}finally{ne&&null===g[ns]&&L0(g,ns),od(W),Br(ne?3:1,A)}}function U0(u,g,v){if(Da(g)){const x=no(null);try{const k=g.directiveEnd;for(let W=g.directiveStart;W<k;W++){const ne=u.data[W];ne.contentQueries&&ne.contentQueries(1,v[W],W)}}finally{no(x)}}}function z0(u,g,v){jr()&&(function CM(u,g,v,x){const A=v.directiveStart,k=v.directiveEnd;ks(v)&&function ov(u,g,v){const x=rs(g,u),A=zy(v);let W=16;v.signals?W=4096:v.onPush&&(W=64);const ne=Ky(u,Gy(u,A,null,W,x,g,null,u[gs].rendererFactory.createRenderer(x,v),null,null,null));u[g.index]=ne}(g,v,u.data[A+v.componentOffset]),u.firstCreatePass||cf(v,g),or(x,g);const W=v.initialInputs;for(let ne=A;ne<k;ne++){const me=u.data[ne],He=Sd(g,u,ne,v);or(He,g),null!==W&&wM(0,ne-A,He,me,0,W),zo(me)&&(Ne(v.index,g)[Kr]=Sd(g,u,ne,v))}}(u,g,v,rs(v,g)),64==(64&v.flags)&&$0(u,g,v))}function $p(u,g,v=rs){const x=g.localNames;if(null!==x){let A=g.index+1;for(let k=0;k<x.length;k+=2){const W=x[k+1],ne=-1===W?v(g,u):u[W];u[A++]=ne}}}function zy(u){const g=u.tView;return null===g||g.incompleteFirstPass?u.tView=nv(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts,u.id):g}function nv(u,g,v,x,A,k,W,ne,me,He,Mt){const fi=Dr+x,Gi=fi+A,Ki=function pD(u,g){const v=[];for(let x=0;x<g;x++)v.push(x<u?null:co);return v}(fi,Gi),yn="function"==typeof He?He():He;return Ki[An]={type:u,blueprint:Ki,template:v,queries:null,viewQuery:ne,declTNode:g,data:Ki.slice().fill(null,fi),bindingStartIndex:fi,expandoStartIndex:Gi,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof k?k():k,pipeRegistry:"function"==typeof W?W():W,firstChild:null,schemas:me,consts:yn,incompleteFirstPass:!1,ssrId:Mt}}let Vf=u=>null;function Wy(u,g,v,x){for(let A in u)if(u.hasOwnProperty(A)){v=null===v?{}:v;const k=u[A];null===x?fD(v,g,A,k):x.hasOwnProperty(A)&&fD(v,g,x[A],k)}return v}function fD(u,g,v,x){u.hasOwnProperty(v)?u[v].push(g,x):u[v]=[g,x]}function hc(u,g,v,x,A,k,W,ne){const me=rs(g,v);let Mt,He=g.inputs;!ne&&null!=He&&(Mt=He[x])?(Xy(u,v,Mt,x,A),ks(g)&&function gD(u,g){const v=Ne(g,u);16&v[yr]||(v[yr]|=64)}(v,g.index)):3&g.type&&(x=function Gf(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(x),A=null!=W?W(A,g.value||"",x):A,k.setProperty(me,x,A))}function j0(u,g,v,x){if(jr()){const A=null===x?null:{"":-1},k=function Jc(u,g){const v=u.directiveRegistry;let x=null,A=null;if(v)for(let k=0;k<v.length;k++){const W=v[k];if(ua(g,W.selectors,!1))if(x||(x=[]),zo(W))if(null!==W.findHostDirectiveDefs){const ne=[];A=A||new Map,W.findHostDirectiveDefs(W,ne,A),x.unshift(...ne,W),Gd(u,g,ne.length)}else x.unshift(W),Gd(u,g,0);else A=A||new Map,W.findHostDirectiveDefs?.(W,x,A),x.push(W)}return null===x?null:[x,A]}(u,v);let W,ne;null===k?W=ne=null:[W,ne]=k,null!==W&&go(u,g,v,W,A,ne),A&&function Qh(u,g,v){if(g){const x=u.localNames=[];for(let A=0;A<g.length;A+=2){const k=v[g[A+1]];if(null==k)throw new q(-301,!1);x.push(g[A],k)}}}(v,x,A)}v.mergedAttrs=ae(v.mergedAttrs,v.attrs)}function go(u,g,v,x,A,k){for(let He=0;He<x.length;He++)sg(cf(v,g),u,x[He].type);!function vD(u,g,v){u.flags|=1,u.directiveStart=g,u.directiveEnd=g+v,u.providerIndexes=g}(v,u.data.length,x.length);for(let He=0;He<x.length;He++){const Mt=x[He];Mt.providersResolver&&Mt.providersResolver(Mt)}let W=!1,ne=!1,me=Uy(u,g,x.length,null);for(let He=0;He<x.length;He++){const Mt=x[He];v.mergedAttrs=ae(v.mergedAttrs,Mt.hostAttrs),Zh(u,v,g,me,Mt),Kp(me,Mt,A),null!==Mt.contentQueries&&(v.flags|=4),(null!==Mt.hostBindings||null!==Mt.hostAttrs||0!==Mt.hostVars)&&(v.flags|=64);const fi=Mt.type.prototype;!W&&(fi.ngOnChanges||fi.ngOnInit||fi.ngDoCheck)&&((u.preOrderHooks??=[]).push(v.index),W=!0),!ne&&(fi.ngOnChanges||fi.ngDoCheck)&&((u.preOrderCheckHooks??=[]).push(v.index),ne=!0),me++}!function jy(u,g,v){const A=g.directiveEnd,k=u.data,W=g.attrs,ne=[];let me=null,He=null;for(let Mt=g.directiveStart;Mt<A;Mt++){const fi=k[Mt],Gi=v?v.get(fi):null,yn=Gi?Gi.outputs:null;me=Wy(fi.inputs,Mt,me,Gi?Gi.inputs:null),He=Wy(fi.outputs,Mt,He,yn);const Ln=null===me||null===W||et(g)?null:X0(me,Mt,W);ne.push(Ln)}null!==me&&(me.hasOwnProperty("class")&&(g.flags|=8),me.hasOwnProperty("style")&&(g.flags|=16)),g.initialInputs=ne,g.inputs=me,g.outputs=He}(u,v,k)}function $0(u,g,v){const x=v.directiveStart,A=v.directiveEnd,k=v.index,W=function ke(){return hn.lFrame.currentDirectiveIndex}();try{od(k);for(let ne=x;ne<A;ne++){const me=u.data[ne],He=g[ne];At(ne),(null!==me.hostBindings||0!==me.hostVars||null!==me.hostAttrs)&&Vu(me,He)}}finally{od(-1),At(W)}}function Vu(u,g){null!==u.hostBindings&&u.hostBindings(1,g)}function Gd(u,g,v){g.componentOffset=v,(u.components??=[]).push(g.index)}function Kp(u,g,v){if(v){if(g.exportAs)for(let x=0;x<g.exportAs.length;x++)v[g.exportAs[x]]=u;zo(g)&&(v[""]=u)}}function Zh(u,g,v,x,A){u.data[x]=A;const k=A.factory||(A.factory=Zs(A.type)),W=new th(k,zo(A),Lf);u.blueprint[x]=W,v[x]=W,function mD(u,g,v,x,A){const k=A.hostBindings;if(k){let W=u.hostBindingOpCodes;null===W&&(W=u.hostBindingOpCodes=[]);const ne=~g.index;(function rv(u){let g=u.length;for(;g>0;){const v=u[--g];if("number"==typeof v&&v<0)return v}return 0})(W)!=ne&&W.push(ne),W.push(v,x,k)}}(u,g,x,Uy(u,v,A.hostVars,co),A)}function ca(u,g,v,x,A,k){const W=rs(u,g);!function Vb(u,g,v,x,A,k,W){if(null==k)u.removeAttribute(g,A,v);else{const ne=null==W?Oe(k):W(k,x||"",A);u.setAttribute(g,A,ne,v)}}(g[er],W,k,u.value,v,x,A)}function wM(u,g,v,x,A,k){const W=k[g];if(null!==W)for(let ne=0;ne<W.length;)K0(x,v,W[ne++],W[ne++],W[ne++])}function K0(u,g,v,x,A){const k=no(null);try{const W=u.inputTransforms;null!==W&&W.hasOwnProperty(x)&&(A=W[x].call(g,A)),null!==u.setInput?u.setInput(g,A,v,x):g[x]=A}finally{no(k)}}function X0(u,g,v){let x=null,A=0;for(;A<v.length;){const k=v[A];if(0!==k)if(5!==k){if("number"==typeof k)break;if(u.hasOwnProperty(k)){null===x&&(x=[]);const W=u[k];for(let ne=0;ne<W.length;ne+=2)if(W[ne]===g){x.push(k,W[ne+1],v[A+1]);break}}A+=2}else A+=2;else A+=4}return x}function Gb(u,g,v,x){return[u,!0,!1,g,null,0,x,v,null,null,null]}function yD(u,g){const v=u.contentQueries;if(null!==v)for(let x=0;x<v.length;x+=2){const k=v[x+1];if(-1!==k){const W=u.data[k];$i(v[x]),W.contentQueries(2,g[k],k)}}}function Ky(u,g){return u[ta]?u[is][ts]=g:u[ta]=g,u[is]=g,g}function Hb(u,g,v){$i(0);const x=no(null);try{g(u,v)}finally{no(x)}}function bD(u){return u[Mo]||(u[Mo]=[])}function CD(u){return u.cleanup||(u.cleanup=[])}function Y0(u,g,v){return(null===u||zo(u))&&(v=function Ya(u){for(;Array.isArray(u);){if("object"==typeof u[Qs])return u;u=u[Cr]}return null}(v[g.index])),v[er]}function wD(u,g){const v=u[Do],x=v?v.get(be,null):null;x&&x.handleError(g)}function Xy(u,g,v,x,A){for(let k=0;k<v.length;){const W=v[k++],ne=v[k++];K0(u.data[W],g[W],x,ne,A)}}function yh(u,g,v){const x=Ol(g,u);!function Wc(u,g,v){u.setValue(g,v)}(u[er],x,v)}function xM(u,g){const v=Ne(g,u),x=v[An];!function xD(u,g){for(let v=g.length;v<u.blueprint.length;v++)g.push(u.blueprint[v])}(x,v);const A=v[Cr];null!==A&&null===v[ws]&&(v[ws]=ou(A,v[Do])),Q0(x,v,v[Kr])}function Q0(u,g,v){Qo(g);try{const x=u.viewQuery;null!==x&&Hb(1,x,v);const A=u.template;null!==A&&H0(u,g,A,1,v),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&yD(u,g),u.staticViewQueries&&Hb(2,u.viewQuery,v);const k=u.components;null!==k&&function Ub(u,g){for(let v=0;v<g.length;v++)xM(u,g[v])}(g,k)}catch(x){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),x}finally{g[yr]&=-5,_d()}}let sv=(()=>{class u{constructor(){this.all=new Set,this.queue=new Map}create(v,x,A){const k=typeof Zone>"u"?null:Zone.current,W=function un(u,g,v){const x=Object.create(ro);v&&(x.consumerAllowSignalWrites=!0),x.fn=u,x.schedule=g;const A=W=>{x.cleanupFn=W};return x.ref={notify:()=>Cl(x),run:()=>{if(x.dirty=!1,x.hasRun&&!wl(x))return;x.hasRun=!0;const W=ql(x);try{x.cleanupFn(),x.cleanupFn=Bn,x.fn(A)}finally{$a(x,W)}},cleanup:()=>x.cleanupFn()},x.ref}(v,He=>{this.all.has(He)&&this.queue.set(He,k)},A);let ne;this.all.add(W),W.notify();const me=()=>{W.cleanup(),ne?.(),this.all.delete(W),this.queue.delete(W)};return ne=x?.onDestroy(me),{destroy:me}}flush(){if(0!==this.queue.size)for(const[v,x]of this.queue)this.queue.delete(v),x?x.run(()=>v.run()):v.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=ct({token:u,providedIn:"root",factory:()=>new u})}}return u})();function Yy(u,g,v){let x=v?u.styles:null,A=v?u.classes:null,k=0;if(null!==g)for(let W=0;W<g.length;W++){const ne=g[W];"number"==typeof ne?k=ne:1==k?A=ue(A,ne):2==k&&(x=ue(x,ne+": "+g[++W]+";"))}v?u.styles=x:u.stylesWithoutHost=x,v?u.classes=A:u.classesWithoutHost=A}function Qy(u,g,v,x,A=!1){for(;null!==v;){const k=g[v.index];null!==k&&x.push(Vo(k)),so(k)&&DD(k,x);const W=v.type;if(8&W)Qy(u,g,v.child,x);else if(32&W){const ne=_c(v,g);let me;for(;me=ne();)x.push(me)}else if(16&W){const ne=Ag(g,v);if(Array.isArray(ne))x.push(...ne);else{const me=ba(g[io]);Qy(me[An],me,ne,x,!0)}}v=A?v.projectionNext:v.next}return x}function DD(u,g){for(let v=Ps;v<u.length;v++){const x=u[v],A=x[An].firstChild;null!==A&&Qy(x[An],x,A,g)}u[Is]!==u[Cr]&&g.push(u[Is])}function Z0(u,g,v,x=!0){const A=g[gs],k=A.rendererFactory,W=A.afterRenderEventManager;k.begin?.(),W?.begin();try{q0(u,g,u.template,v)}catch(me){throw x&&wD(g,me),me}finally{k.end?.(),A.effectManager?.flush(),W?.end()}}function q0(u,g,v,x){const A=g[yr];if(256!=(256&A)){g[gs].effectManager?.flush(),Qo(g);try{ht(g),function Bi(u){return hn.lFrame.bindingIndex=u}(u.bindingStartIndex),null!==v&&H0(u,g,v,2,x);const W=3==(3&A);if(W){const He=u.preOrderCheckHooks;null!==He&&Ll(g,He,null)}else{const He=u.preOrderHooks;null!==He&&pu(g,He,0,null),Oc(g,0)}if(function DM(u){for(let g=Cu(u);null!==g;g=Rd(g)){if(!g[Uo])continue;const v=g[Fa];for(let x=0;x<v.length;x++){Jt(v[x])}}}(g),ED(g,2),null!==u.contentQueries&&yD(u,g),W){const He=u.contentCheckHooks;null!==He&&Ll(g,He)}else{const He=u.contentHooks;null!==He&&pu(g,He,1),Oc(g,1)}!function G0(u,g){const v=u.hostBindingOpCodes;if(null===v)return;const x=uD(g,ka);try{for(let A=0;A<v.length;A++){const k=v[A];if(k<0)od(~k);else{const W=k,ne=v[++A],me=v[++A];he(ne,W),x.dirty=!1;const He=ql(x);try{me(2,g[W])}finally{$a(x,He)}}}}finally{null===g[ka]&&L0(g,ka),od(-1)}}(u,g);const ne=u.components;null!==ne&&ew(g,ne,0);const me=u.viewQuery;if(null!==me&&Hb(2,me,x),W){const He=u.viewCheckHooks;null!==He&&Ll(g,He)}else{const He=u.viewHooks;null!==He&&pu(g,He,2),Oc(g,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),g[yr]&=-73,_i(g)}finally{_d()}}}function ED(u,g){for(let v=Cu(u);null!==v;v=Rd(v))for(let x=Ps;x<v.length;x++)J0(v[x],g)}function AD(u,g,v){J0(Ne(g,u),v)}function J0(u,g){if(!function G(u){return 128==(128&u[yr])}(u))return;const v=u[An],x=u[yr];if(80&x&&0===g||1024&x||2===g)q0(v,u,v.template,u[Kr]);else if(u[fa]>0){ED(u,1);const A=v.components;null!==A&&ew(u,A,1)}}function ew(u,g,v){for(let x=0;x<g.length;x++)AD(u,g[x],v)}class av{get rootNodes(){const g=this._lView,v=g[An];return Qy(v,g,v.firstChild,[])}constructor(g,v){this._lView=g,this._cdRefInjectingView=v,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kr]}set context(g){this._lView[Kr]=g}get destroyed(){return 256==(256&this._lView[yr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const g=this._lView[Ur];if(so(g)){const v=g[8],x=v?v.indexOf(this):-1;x>-1&&(Vh(g,x),dl(v,x))}this._attachedToViewContainer=!1}sc(this._lView[An],this._lView)}onDestroy(g){!function on(u,g){if(256==(256&u[yr]))throw new q(911,!1);null===u[Pa]&&(u[Pa]=[]),u[Pa].push(g)}(this._lView,g)}markForCheck(){Xg(this._cdRefInjectingView||this._lView)}detach(){this._lView[yr]&=-129}reattach(){this._lView[yr]|=128}detectChanges(){Z0(this._lView[An],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lD(u,g){xf(u,g,g[er],2,null,null)}(this._lView[An],this._lView)}attachToAppRef(g){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=g}}class EM extends av{constructor(g){super(g),this._view=g}detectChanges(){const g=this._view;Z0(g[An],g,g[Kr],!1)}checkNoChanges(){}get context(){return null}}class TD extends as{constructor(g){super(),this.ngModule=g}resolveComponentFactory(g){const v=vr(g);return new qh(v,this.ngModule)}}function tw(u){const g=[];for(let v in u)u.hasOwnProperty(v)&&g.push({propName:u[v],templateName:v});return g}class AM{constructor(g,v){this.injector=g,this.parentInjector=v}get(g,v,x){x=ai(x);const A=this.injector.get(g,za,x);return A!==za||v===za?A:this.parentInjector.get(g,v,x)}}class qh extends Ib{get inputs(){const g=this.componentDef,v=g.inputTransforms,x=tw(g.inputs);if(null!==v)for(const A of x)v.hasOwnProperty(A.propName)&&(A.transform=v[A.propName]);return x}get outputs(){return tw(this.componentDef.outputs)}constructor(g,v){super(),this.componentDef=g,this.ngModule=v,this.componentType=g.type,this.selector=function Ao(u){return u.map(Rc).join(",")}(g.selectors),this.ngContentSelectors=g.ngContentSelectors?g.ngContentSelectors:[],this.isBoundToModule=!!v}create(g,v,x,A){let k=(A=A||this.ngModule)instanceof cc?A:A?.injector;k&&null!==this.componentDef.getStandaloneInjector&&(k=this.componentDef.getStandaloneInjector(k)||k);const W=k?new AM(g,k):g,ne=W.get(Bd,null);if(null===ne)throw new q(407,!1);const fi={rendererFactory:ne,sanitizer:W.get(kb,null),effectManager:W.get(sv,null),afterRenderEventManager:W.get(Nb,null)},Gi=ne.createRenderer(null,this.componentDef),Ki=this.componentDef.selectors[0][0]||"div",yn=x?function Zg(u,g,v,x){const k=x.get(Yg,!1)||v===fn.ShadowDom,W=u.selectRootElement(g,k);return function W0(u){Vf(u)}(W),W}(Gi,x,this.componentDef.encapsulation,W):Id(Gi,Ki,function iw(u){const g=u.toLowerCase();return"svg"===g?sa:"math"===g?"math":null}(Ki)),tr=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Mn=null;null!==yn&&(Mn=ou(yn,W,!0));const Zr=nv(0,null,null,1,0,null,null,null,null,null,null),yo=Gy(null,Zr,null,tr,null,null,fi,Gi,W,null,Mn);let bs,$d;Qo(yo);try{const lf=this.componentDef;let Zf,XC=null;lf.findHostDirectiveDefs?(Zf=[],XC=new Map,lf.findHostDirectiveDefs(lf,Zf,XC),Zf.push(lf)):Zf=[lf];const sT=function MM(u,g){const v=u[An],x=Dr;return u[x]=g,Bf(v,x,2,"#host",null)}(yo,yn),JR=function RM(u,g,v,x,A,k,W){const ne=A[An];!function IM(u,g,v,x){for(const A of u)g.mergedAttrs=ae(g.mergedAttrs,A.hostAttrs);null!==g.mergedAttrs&&(Yy(g,g.mergedAttrs,!0),null!==v&&iu(x,v,g))}(x,u,g,W);let me=null;null!==g&&(me=ou(g,A[Do]));const He=k.rendererFactory.createRenderer(g,v);let Mt=16;v.signals?Mt=4096:v.onPush&&(Mt=64);const fi=Gy(A,zy(v),null,Mt,A[u.index],u,k,He,null,null,me);return ne.firstCreatePass&&Gd(ne,u,x.length-1),Ky(A,fi),A[u.index]=fi}(sT,yn,lf,Zf,yo,fi,Gi);$d=kc(Zr,Dr),yn&&function kM(u,g,v,x){if(x)to(u,v,["ng-version",Rl.full]);else{const{attrs:A,classes:k}=function Er(u){const g=[],v=[];let x=1,A=2;for(;x<u.length;){let k=u[x];if("string"==typeof k)2===A?""!==k&&g.push(k,u[++x]):8===A&&v.push(k);else{if(!Un(A))break;A=k}x++}return{attrs:g,classes:v}}(g.selectors[0]);A&&to(u,v,A),k&&k.length>0&&dd(u,v,k.join(" "))}}(Gi,lf,yn,x),void 0!==v&&function FM(u,g,v){const x=u.projection=[];for(let A=0;A<g.length;A++){const k=v[A];x.push(null!=k?Array.from(k):null)}}($d,this.ngContentSelectors,v),bs=function PM(u,g,v,x,A,k){const W=Go(),ne=A[An],me=rs(W,A);go(ne,A,W,v,null,x);for(let Mt=0;Mt<v.length;Mt++)or(Sd(A,ne,W.directiveStart+Mt,W),A);$0(ne,A,W),me&&or(me,A);const He=Sd(A,ne,W.directiveStart+W.componentOffset,W);if(u[Kr]=A[Kr]=He,null!==k)for(const Mt of k)Mt(He,g);return U0(ne,W,u),He}(JR,lf,Zf,XC,yo,[_h]),Q0(Zr,yo,null)}finally{_d()}return new TM(this.componentType,bs,Zc($d,yo),yo,$d)}}class TM extends su{constructor(g,v,x,A,k){super(),this.location=x,this._rootLView=A,this._tNode=k,this.previousInputValues=null,this.instance=v,this.hostView=this.changeDetectorRef=new EM(A),this.componentType=g}setInput(g,v){const x=this._tNode.inputs;let A;if(null!==x&&(A=x[g])){if(this.previousInputValues??=new Map,this.previousInputValues.has(g)&&Object.is(this.previousInputValues.get(g),v))return;const k=this._rootLView;Xy(k[An],k,A,g,v),this.previousInputValues.set(g,v),Xg(Ne(this._tNode.index,k))}}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(g){this.hostView.onDestroy(g)}}function _h(){const u=Go();ec(pn()[An],u)}function zb(u){let g=function lv(u){return Object.getPrototypeOf(u.prototype).constructor}(u.type),v=!0;const x=[u];for(;g;){let A;if(zo(u))A=g.\u0275cmp||g.\u0275dir;else{if(g.\u0275cmp)throw new q(903,!1);A=g.\u0275dir}if(A){if(v){x.push(A);const W=u;W.inputs=Kl(u.inputs),W.inputTransforms=Kl(u.inputTransforms),W.declaredInputs=Kl(u.declaredInputs),W.outputs=Kl(u.outputs);const ne=A.hostBindings;ne&&Gu(u,ne);const me=A.viewQuery,He=A.contentQueries;if(me&&Zy(u,me),He&&fl(u,He),Ce(u.inputs,A.inputs),Ce(u.declaredInputs,A.declaredInputs),Ce(u.outputs,A.outputs),null!==A.inputTransforms&&(null===W.inputTransforms&&(W.inputTransforms={}),Ce(W.inputTransforms,A.inputTransforms)),zo(A)&&A.data.animation){const Mt=u.data;Mt.animation=(Mt.animation||[]).concat(A.data.animation)}}const k=A.features;if(k)for(let W=0;W<k.length;W++){const ne=k[W];ne&&ne.ngInherit&&ne(u),ne===zb&&(v=!1)}}g=Object.getPrototypeOf(g)}!function nw(u){let g=0,v=null;for(let x=u.length-1;x>=0;x--){const A=u[x];A.hostVars=g+=A.hostVars,A.hostAttrs=ae(A.hostAttrs,v=ae(v,A.hostAttrs))}}(x)}function Kl(u){return u===Yn?{}:u===Fn?[]:u}function Zy(u,g){const v=u.viewQuery;u.viewQuery=v?(x,A)=>{g(x,A),v(x,A)}:g}function fl(u,g){const v=u.contentQueries;u.contentQueries=v?(x,A,k)=>{g(x,A,k),v(x,A,k)}:g}function Gu(u,g){const v=u.hostBindings;u.hostBindings=v?(x,A)=>{g(x,A),v(x,A)}:g}function Wb(u){const g=u.inputConfig,v={};for(const x in g)if(g.hasOwnProperty(x)){const A=g[x];Array.isArray(A)&&A[2]&&(v[x]=A[2])}u.inputTransforms=v}function qy(u){return!!$b(u)&&(Array.isArray(u)||!(u instanceof Map)&&Symbol.iterator in u)}function $b(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function Jh(u,g,v){return u[g]=v}function Xl(u,g,v){return!Object.is(u[g],v)&&(u[g]=v,!0)}function Yp(u,g,v,x){const A=Xl(u,g,v);return Xl(u,g+1,x)||A}function rw(u,g,v,x){const A=pn();return Xl(A,mn(),g)&&(ar(),ca(Co(),A,u,g,v,x)),rw}function dv(u,g,v,x){return Xl(u,mn(),v)?g+Oe(v)+x:co}function uv(u,g,v,x,A,k){const ne=Yp(u,function ei(){return hn.lFrame.bindingIndex}(),v,A);return J(2),ne?g+Oe(v)+x+Oe(A)+k:co}function HD(u,g,v,x,A,k,W,ne){const me=pn(),He=ar(),Mt=u+Dr,fi=He.firstCreatePass?function QM(u,g,v,x,A,k,W,ne,me){const He=g.consts,Mt=Bf(g,u,4,W||null,Fe(He,ne));j0(g,v,Mt,Fe(He,me)),ec(g,Mt);const fi=Mt.tView=nv(2,Mt,x,A,k,g.directiveRegistry,g.pipeRegistry,null,g.schemas,He,null);return null!==g.queries&&(g.queries.template(g,Mt),fi.queries=g.queries.embeddedTView(Mt)),Mt}(Mt,He,me,g,v,x,A,k,W):He.data[Mt];Za(fi,!1);const Gi=gw(He,me,fi,u);vc()&&Su(He,me,Gi,fi),or(Gi,me),Ky(me,me[Mt]=Gb(Gi,me,Gi,fi)),ia(fi)&&z0(He,me,fi),null!=W&&$p(me,fi,ne)}let gw=function UD(u,g,v,x){return Sl(!0),g[er].createComment("")};function r_(u){return mc(function Ft(){return hn.lFrame.contextLView}(),Dr+u)}function vw(u,g,v){const x=pn();return Xl(x,mn(),g)&&hc(ar(),Co(),x,u,g,x[er],v,!1),vw}function yw(u,g,v,x,A){const W=A?"class":"style";Xy(u,v,g.inputs[W],W,x)}function o_(u,g,v,x){const A=pn(),k=ar(),W=Dr+u,ne=A[er],me=k.firstCreatePass?function zD(u,g,v,x,A,k){const W=g.consts,me=Bf(g,u,2,x,Fe(W,A));return j0(g,v,me,Fe(W,k)),null!==me.attrs&&Yy(me,me.attrs,!1),null!==me.mergedAttrs&&Yy(me,me.mergedAttrs,!0),null!==g.queries&&g.queries.elementStart(g,me),me}(W,k,A,g,v,x):k.data[W],He=gv(k,A,me,ne,g,u);A[W]=He;const Mt=ia(me);return Za(me,!0),iu(ne,He,me),32!=(32&me.flags)&&vc()&&Su(k,A,He,me),0===function cr(){return hn.lFrame.elementDepthCount}()&&or(He,A),function sn(){hn.lFrame.elementDepthCount++}(),Mt&&(z0(k,A,me),U0(k,me,A)),null!==x&&$p(A,me),o_}function s_(){let u=Go();Zn()?se():(u=u.parent,Za(u,!1));const g=u;(function os(u){return hn.skipHydrationRootTNode===u})(g)&&function Es(){hn.skipHydrationRootTNode=null}(),function Eo(){hn.lFrame.elementDepthCount--}();const v=ar();return v.firstCreatePass&&(ec(v,u),Da(u)&&v.queries.elementEnd(u)),null!=g.classesWithoutHost&&function Em(u){return 0!=(8&u.flags)}(g)&&yw(v,g,pn(),g.classesWithoutHost,!0),null!=g.stylesWithoutHost&&function Ls(u){return 0!=(16&u.flags)}(g)&&yw(v,g,pn(),g.stylesWithoutHost,!1),s_}function a_(u,g,v,x){return o_(u,g,v,x),s_(),a_}let gv=(u,g,v,x,A,k)=>(Sl(!0),Id(x,A,function hu(){return hn.lFrame.currentNamespace}()));function Zb(u,g,v){const x=pn(),A=ar(),k=u+Dr,W=A.firstCreatePass?function WD(u,g,v,x,A){const k=g.consts,W=Fe(k,x),ne=Bf(g,u,8,"ng-container",W);return null!==W&&Yy(ne,W,!0),j0(g,v,ne,Fe(k,A)),null!==g.queries&&g.queries.elementStart(g,ne),ne}(k,A,x,g,v):A.data[k];Za(W,!0);const ne=_w(A,x,W,u);return x[k]=ne,vc()&&Su(A,x,ne,W),or(ne,x),ia(W)&&(z0(A,x,W),U0(A,W,x)),null!=v&&$p(x,W),Zb}function vv(){let u=Go();const g=ar();return Zn()?se():(u=u.parent,Za(u,!1)),g.firstCreatePass&&(ec(g,u),Da(u)&&g.queries.elementEnd(u)),vv}function qb(u,g,v){return Zb(u,g,v),vv(),qb}let _w=(u,g,v,x)=>(Sl(!0),Pp(g[er],""));function bw(){return pn()}function eC(u){return!!u&&"function"==typeof u.then}function $D(u){return!!u&&"function"==typeof u.subscribe}function Cw(u,g,v,x){const A=pn(),k=ar(),W=Go();return xw(k,A,A[er],W,u,g,x),Cw}function gl(u,g){const v=Go(),x=pn(),A=ar();return xw(A,x,Y0(pi(A.data),v,x),v,u,g),gl}function xw(u,g,v,x,A,k,W){const ne=ia(x),He=u.firstCreatePass&&CD(u),Mt=g[Kr],fi=bD(g);let Gi=!0;if(3&x.type||W){const Ln=rs(x,g),Kn=W?W(Ln):Ln,tr=fi.length,Mn=W?yo=>W(Vo(yo[x.index])):x.index;let Zr=null;if(!W&&ne&&(Zr=function ww(u,g,v,x){const A=u.cleanup;if(null!=A)for(let k=0;k<A.length-1;k+=2){const W=A[k];if(W===v&&A[k+1]===x){const ne=g[Mo],me=A[k+2];return ne.length>me?ne[me]:null}"string"==typeof W&&(k+=2)}return null}(u,g,A,x.index)),null!==Zr)(Zr.__ngLastListenerFn__||Zr).__ngNextListenerFn__=k,Zr.__ngLastListenerFn__=k,Gi=!1;else{k=KD(x,g,Mt,k,!1);const yo=v.listen(Kn,A,k);fi.push(k,yo),He&&He.push(A,Mn,tr,tr+1)}}else k=KD(x,g,Mt,k,!1);const Ki=x.outputs;let yn;if(Gi&&null!==Ki&&(yn=Ki[A])){const Ln=yn.length;if(Ln)for(let Kn=0;Kn<Ln;Kn+=2){const bs=g[yn[Kn]][yn[Kn+1]].subscribe(k),$d=fi.length;fi.push(k,bs),He&&He.push(A,x.index,$d,-($d+1))}}}function Sw(u,g,v,x){try{return Br(6,g,v),!1!==v(x)}catch(A){return wD(u,A),!1}finally{Br(7,g,v)}}function KD(u,g,v,x,A){return function k(W){if(W===Function)return x;Xg(u.componentOffset>-1?Ne(u.index,g):g);let me=Sw(g,v,x,W),He=k.__ngNextListenerFn__;for(;He;)me=Sw(g,v,He,W)&&me,He=He.__ngNextListenerFn__;return A&&!1===me&&W.preventDefault(),me}}function XD(u=1){return function bd(u){return(hn.lFrame.contextLView=function Sh(u,g){for(;u>0;)g=g[No],u--;return g}(u,hn.lFrame.contextLView))[Kr]}(u)}function YD(u,g){let v=null;const x=function ho(u){const g=u.attrs;if(null!=g){const v=g.indexOf(5);if(!(1&v))return g[v+1]}return null}(u);for(let A=0;A<g.length;A++){const k=g[A];if("*"!==k){if(null===x?ua(u,k,!0):il(x,k))return A}else v=A}return v}function QD(u){const g=pn()[io][Xo];if(!g.projection){const x=g.projection=ul(u?u.length:1,null),A=x.slice();let k=g.child;for(;null!==k;){const W=u?YD(k,u):0;null!==W&&(A[W]?A[W].projectionNext=k:x[W]=k,A[W]=k),k=k.next}}}function tC(u,g=0,v){const x=pn(),A=ar(),k=Bf(A,Dr+u,16,null,v||null);null===k.projection&&(k.projection=g),se(),(!x[ws]||jo())&&32!=(32&k.flags)&&function Lm(u,g,v){Fp(g[er],0,g,v,Om(u,v,g),_y(v.parent||g[Xo],v,g))}(A,x,k)}function Dw(u,g,v){return Ew(u,"",g,"",v),Dw}function Ew(u,g,v,x,A){const k=pn(),W=dv(k,g,v,x);return W!==co&&hc(ar(),Co(),k,u,W,k[er],A,!1),Ew}function im(u,g){return u<<17|g<<2}function bh(u){return u>>17&32767}function Iw(u){return 2|u}function nm(u){return(131068&u)>>2}function Pw(u,g){return-131069&u|g<<2}function rC(u){return 1|u}function Ks(u,g,v,x,A){const k=u[v+1],W=null===g;let ne=x?bh(k):nm(k),me=!1;for(;0!==ne&&(!1===me||W);){const Mt=u[ne+1];yv(u[ne],g)&&(me=!0,u[ne+1]=x?rC(Mt):Iw(Mt)),ne=x?bh(Mt):nm(Mt)}me&&(u[v+1]=x?Iw(k):rC(k))}function yv(u,g){return null===u||null==g||(Array.isArray(u)?u[1]:u)===g||!(!Array.isArray(u)||"string"!=typeof g)&&nc(u,g)>=0}const Ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tE(u){return u.substring(Ta.key,Ta.keyEnd)}function iE(u){return u.substring(Ta.value,Ta.valueEnd)}function Fw(u,g){const v=Ta.textEnd;return v===g?-1:(g=Ta.keyEnd=function nE(u,g,v){for(;g<v&&u.charCodeAt(g)>32;)g++;return g}(u,Ta.key=g,v),ep(u,g,v))}function l_(u,g){const v=Ta.textEnd;let x=Ta.key=ep(u,g,v);return v===x?-1:(x=Ta.keyEnd=function Lw(u,g,v){let x;for(;g<v&&(45===(x=u.charCodeAt(g))||95===x||(-33&x)>=65&&(-33&x)<=90||x>=48&&x<=57);)g++;return g}(u,x,v),x=Nw(u,x,v),x=Ta.value=ep(u,x,v),x=Ta.valueEnd=function rE(u,g,v){let x=-1,A=-1,k=-1,W=g,ne=W;for(;W<v;){const me=u.charCodeAt(W++);if(59===me)return ne;34===me||39===me?ne=W=oE(u,me,W,v):g===W-4&&85===k&&82===A&&76===x&&40===me?ne=W=oE(u,41,W,v):me>32&&(ne=W),k=A,A=x,x=-33&me}return ne}(u,x,v),Nw(u,x,v))}function c_(u){Ta.key=0,Ta.keyEnd=0,Ta.value=0,Ta.valueEnd=0,Ta.textEnd=u.length}function ep(u,g,v){for(;g<v&&u.charCodeAt(g)<=32;)g++;return g}function Nw(u,g,v,x){return(g=ep(u,g,v))<v&&g++,g}function oE(u,g,v,x){let A=-1,k=v;for(;k<x;){const W=u.charCodeAt(k++);if(W==g&&92!==A)return k;A=92==W&&92===A?0:W}throw new Error}function Bw(u,g,v){return Ch(u,g,v,!1),Bw}function oC(u,g){return Ch(u,g,null,!0),oC}function Wu(u){au(sm,sE,u,!1)}function sE(u,g){for(let v=function Ow(u){return c_(u),l_(u,ep(u,0,Ta.textEnd))}(g);v>=0;v=l_(g,v))sm(u,tE(g),iE(g))}function Vw(u){au(r1,tp,u,!0)}function tp(u,g){for(let v=function t1(u){return c_(u),Fw(u,ep(u,0,Ta.textEnd))}(g);v>=0;v=Fw(g,v))Ha(u,tE(g),!0)}function Ch(u,g,v,x){const A=pn(),k=ar(),W=J(2);k.firstUpdatePass&&Gw(k,u,W,x),g!==co&&Xl(A,W,g)&&Hw(k,k.data[Jo()],A,A[er],u,A[W+1]=function ip(u,g){return null==u||""===u||("string"==typeof g?u+=g:"object"==typeof u&&(u=ve(la(u)))),u}(g,v),x,W)}function au(u,g,v,x){const A=ar(),k=J(2);A.firstUpdatePass&&Gw(A,null,k,x);const W=pn();if(v!==co&&Xl(W,k,v)){const ne=A.data[Jo()];if(ju(ne,x)&&!aE(A,k)){let me=x?ne.classesWithoutHost:ne.stylesWithoutHost;null!==me&&(v=ue(me,v||"")),yw(A,ne,W,v,x)}else!function ed(u,g,v,x,A,k,W,ne){A===co&&(A=Fn);let me=0,He=0,Mt=0<A.length?A[0]:null,fi=0<k.length?k[0]:null;for(;null!==Mt||null!==fi;){const Gi=me<A.length?A[me+1]:void 0,Ki=He<k.length?k[He+1]:void 0;let Ln,yn=null;Mt===fi?(me+=2,He+=2,Gi!==Ki&&(yn=fi,Ln=Ki)):null===fi||null!==Mt&&Mt<fi?(me+=2,yn=Mt):(He+=2,yn=fi,Ln=Ki),null!==yn&&Hw(u,g,v,x,yn,Ln,W,ne),Mt=me<A.length?A[me]:null,fi=He<k.length?k[He]:null}}(A,ne,W,W[er],W[k+1],W[k+1]=function om(u,g,v){if(null==v||""===v)return Fn;const x=[],A=la(v);if(Array.isArray(A))for(let k=0;k<A.length;k++)u(x,A[k],!0);else if("object"==typeof A)for(const k in A)A.hasOwnProperty(k)&&u(x,k,A[k]);else"string"==typeof A&&g(x,A);return x}(u,g,v),x,k)}}function aE(u,g){return g>=u.expandoStartIndex}function Gw(u,g,v,x){const A=u.data;if(null===A[v+1]){const k=A[Jo()],W=aE(u,v);ju(k,x)&&null===g&&!W&&(g=!1),g=function Zp(u,g,v,x){const A=pi(u);let k=x?g.residualClasses:g.residualStyles;if(null===A)0===(x?g.classBindings:g.styleBindings)&&(v=rm(v=aC(null,u,g,v,x),g.attrs,x),k=null);else{const W=g.directiveStylingLast;if(-1===W||u[W]!==A)if(v=aC(A,u,g,v,x),null===k){let me=function n1(u,g,v){const x=v?g.classBindings:g.styleBindings;if(0!==nm(x))return u[bh(x)]}(u,g,x);void 0!==me&&Array.isArray(me)&&(me=aC(null,u,g,me[1],x),me=rm(me,g.attrs,x),function lE(u,g,v,x){u[bh(v?g.classBindings:g.styleBindings)]=x}(u,g,x,me))}else k=function sC(u,g,v){let x;const A=g.directiveEnd;for(let k=1+g.directiveStylingLast;k<A;k++)x=rm(x,u[k].hostAttrs,v);return rm(x,g.attrs,v)}(u,g,x)}return void 0!==k&&(x?g.residualClasses=k:g.residualStyles=k),v}(A,k,g,x),function Us(u,g,v,x,A,k){let W=k?g.classBindings:g.styleBindings,ne=bh(W),me=nm(W);u[x]=v;let Mt,He=!1;if(Array.isArray(v)?(Mt=v[1],(null===Mt||nc(v,Mt)>0)&&(He=!0)):Mt=v,A)if(0!==me){const Gi=bh(u[ne+1]);u[x+1]=im(Gi,ne),0!==Gi&&(u[Gi+1]=Pw(u[Gi+1],x)),u[ne+1]=function JD(u,g){return 131071&u|g<<17}(u[ne+1],x)}else u[x+1]=im(ne,0),0!==ne&&(u[ne+1]=Pw(u[ne+1],x)),ne=x;else u[x+1]=im(me,0),0===ne?ne=x:u[me+1]=Pw(u[me+1],x),me=x;He&&(u[x+1]=Iw(u[x+1])),Ks(u,Mt,x,!0),Ks(u,Mt,x,!1),function kw(u,g,v,x,A){const k=A?u.residualClasses:u.residualStyles;null!=k&&"string"==typeof g&&nc(k,g)>=0&&(v[x+1]=rC(v[x+1]))}(g,Mt,u,x,k),W=im(ne,me),k?g.classBindings=W:g.styleBindings=W}(A,k,g,v,W,x)}}function aC(u,g,v,x,A){let k=null;const W=v.directiveEnd;let ne=v.directiveStylingLast;for(-1===ne?ne=v.directiveStart:ne++;ne<W&&(k=g[ne],x=rm(x,k.hostAttrs,A),k!==u);)ne++;return null!==u&&(v.directiveStylingLast=ne),x}function rm(u,g,v){const x=v?1:2;let A=-1;if(null!==g)for(let k=0;k<g.length;k++){const W=g[k];"number"==typeof W?A=W:A===x&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),Ha(u,W,!!v||g[++k]))}return void 0===u?null:u}function sm(u,g,v){Ha(u,g,la(v))}function r1(u,g,v){const x=String(g);""!==x&&!x.includes(" ")&&Ha(u,x,v)}function Hw(u,g,v,x,A,k,W,ne){if(!(3&g.type))return;const me=u.data,He=me[ne+1],Mt=function e1(u){return 1==(1&u)}(He)?_v(me,g,v,A,nm(He),W):void 0;Uf(Mt)||(Uf(k)||function nC(u){return 2==(2&u)}(He)&&(k=_v(me,null,v,A,ne,W)),function by(u,g,v,x,A){if(g)A?u.addClass(v,x):u.removeClass(v,x);else{let k=-1===x.indexOf("-")?void 0:B.DashCase;null==A?u.removeStyle(v,x,k):("string"==typeof A&&A.endsWith("!important")&&(A=A.slice(0,-10),k|=B.Important),u.setStyle(v,x,A,k))}}(x,W,Ol(Jo(),v),A,k))}function _v(u,g,v,x,A,k){const W=null===g;let ne;for(;A>0;){const me=u[A],He=Array.isArray(me),Mt=He?me[1]:me,fi=null===Mt;let Gi=v[A+1];Gi===co&&(Gi=fi?Fn:void 0);let Ki=fi?Ph(Gi,x):Mt===x?Gi:void 0;if(He&&!Uf(Ki)&&(Ki=Ph(me,x)),Uf(Ki)&&(ne=Ki,W))return ne;const yn=u[A+1];A=W?bh(yn):nm(yn)}if(null!==g){let me=k?g.residualClasses:g.residualStyles;null!=me&&(ne=Ph(me,x))}return ne}function Uf(u){return void 0!==u}function ju(u,g){return 0!=(u.flags&(g?8:16))}function cE(u,g=""){const v=pn(),x=ar(),A=u+Dr,k=x.firstCreatePass?Bf(x,A,1,g,null):x.data[A],W=d_(x,v,k,g,u);v[A]=W,vc()&&Su(x,v,W,k),Za(k,!1)}let d_=(u,g,v,x,A)=>(Sl(!0),function eu(u,g){return u.createText(g)}(g[er],x));function Uw(u){return u_("",u,""),Uw}function u_(u,g,v){const x=pn(),A=dv(x,u,g,v);return A!==co&&yh(x,Jo(),A),u_}function xc(u,g,v,x,A){const k=pn(),W=uv(k,u,g,v,x,A);return W!==co&&yh(k,Jo(),W),xc}function td(u,g,v){au(Ha,tp,dv(pn(),u,g,v),!0)}function pE(u,g,v,x,A){au(Ha,tp,uv(pn(),u,g,v,x,A),!0)}function Cv(u,g,v){const x=pn();return Xl(x,mn(),g)&&hc(ar(),Co(),x,u,g,x[er],v,!0),Cv}function Kw(u,g,v){const x=pn();if(Xl(x,mn(),g)){const k=ar(),W=Co();hc(k,W,x,u,g,Y0(pi(k.data),W,x),v,!0)}return Kw}const np=void 0;var p1=["en",[["a","p"],["AM","PM"],np],[["AM","PM"],np,np],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],np,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],np,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",np,"{1} 'at' {0}",np],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function h1(u){const v=Math.floor(Math.abs(u)),x=u.toString().replace(/^[^.]*\.?/,"").length;return 1===v&&0===x?1:5}];let lm={};function wv(u){const g=function uC(u){return u.toLowerCase().replace(/_/g,"-")}(u);let v=xE(g);if(v)return v;const x=g.split("-")[0];if(v=xE(x),v)return v;if("en"===x)return p1;throw new q(701,!1)}function Yw(u){return wv(u)[Sc.PluralCase]}function xE(u){return u in lm||(lm[u]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[u]),lm[u]}var Sc=function(u){return u[u.LocaleId=0]="LocaleId",u[u.DayPeriodsFormat=1]="DayPeriodsFormat",u[u.DayPeriodsStandalone=2]="DayPeriodsStandalone",u[u.DaysFormat=3]="DaysFormat",u[u.DaysStandalone=4]="DaysStandalone",u[u.MonthsFormat=5]="MonthsFormat",u[u.MonthsStandalone=6]="MonthsStandalone",u[u.Eras=7]="Eras",u[u.FirstDayOfWeek=8]="FirstDayOfWeek",u[u.WeekendRange=9]="WeekendRange",u[u.DateFormat=10]="DateFormat",u[u.TimeFormat=11]="TimeFormat",u[u.DateTimeFormat=12]="DateTimeFormat",u[u.NumberSymbols=13]="NumberSymbols",u[u.NumberFormats=14]="NumberFormats",u[u.CurrencyCode=15]="CurrencyCode",u[u.CurrencySymbol=16]="CurrencySymbol",u[u.CurrencyName=17]="CurrencyName",u[u.Currencies=18]="Currencies",u[u.Directionality=19]="Directionality",u[u.PluralCase=20]="PluralCase",u[u.ExtraData=21]="ExtraData",u}(Sc||{});const cm="en-US";let Jp=cm;function cx(u,g,v,x,A){if(u=Ct(u),Array.isArray(u))for(let k=0;k<u.length;k++)cx(u[k],g,v,x,A);else{const k=ar(),W=pn(),ne=Go();let me=Fd(u)?u:Ct(u.provide);const He=Bg(u),Mt=1048575&ne.providerIndexes,fi=ne.directiveStart,Gi=ne.providerIndexes>>20;if(Fd(u)||!u.multi){const Ki=new th(He,A,Lf),yn=kv(me,g,A?Mt:Mt+Gi,fi);-1===yn?(sg(cf(ne,W),k,me),dx(k,u,g.length),g.push(me),ne.directiveStart++,ne.directiveEnd++,A&&(ne.providerIndexes+=1048576),v.push(Ki),W.push(Ki)):(v[yn]=Ki,W[yn]=Ki)}else{const Ki=kv(me,g,Mt+Gi,fi),yn=kv(me,g,Mt,Mt+Gi),Kn=yn>=0&&v[yn];if(A&&!Kn||!A&&!(Ki>=0&&v[Ki])){sg(cf(ne,W),k,me);const tr=function Fv(u,g,v,x,A){const k=new th(u,v,Lf);return k.multi=[],k.index=g,k.componentProviders=0,VE(k,A,x&&!v),k}(A?U1:H1,v.length,A,x,He);!A&&Kn&&(v[yn].providerFactory=tr),dx(k,u,g.length,0),g.push(me),ne.directiveStart++,ne.directiveEnd++,A&&(ne.providerIndexes+=1048576),v.push(tr),W.push(tr)}else dx(k,u,Ki>-1?Ki:yn,VE(v[A?yn:Ki],He,!A&&x));!A&&x&&Kn&&v[yn].componentProviders++}}}function dx(u,g,v,x){const A=Fd(g),k=function Lg(u){return!!u.useClass}(g);if(A||k){const me=(k?Ct(g.useClass):g).prototype.ngOnDestroy;if(me){const He=u.destroyHooks||(u.destroyHooks=[]);if(!A&&g.multi){const Mt=He.indexOf(v);-1===Mt?He.push(v,[x,me]):He[Mt+1].push(x,me)}else He.push(v,me)}}}function VE(u,g,v){return v&&u.componentProviders++,u.multi.push(g)-1}function kv(u,g,v,x){for(let A=v;A<x;A++)if(g[A]===u)return A;return-1}function H1(u,g,v,x){return Ma(this.multi,[])}function U1(u,g,v,x){const A=this.multi;let k;if(this.providerFactory){const W=this.providerFactory.componentProviders,ne=Sd(v,v[An],this.providerFactory.index,x);k=ne.slice(0,W),Ma(A,k);for(let me=W;me<ne.length;me++)k.push(ne[me])}else k=[],Ma(A,k);return k}function Ma(u,g){for(let v=0;v<u.length;v++)g.push((0,u[v])());return g}function Kf(u,g=[]){return v=>{v.providersResolver=(x,A)=>function G1(u,g,v){const x=ar();if(x.firstCreatePass){const A=zo(u);cx(v,x.data,x.blueprint,A,!0),cx(g,x.data,x.blueprint,A,!1)}}(x,A?A(u):u,g)}}class cu{}class GE{}function z1(u,g){return new ux(u,g??null,[])}class ux extends cu{constructor(g,v,x){super(),this._parent=v,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TD(this);const A=fo(g);this._bootstrapComponents=vh(A.bootstrap),this._r3Injector=y(g,v,[{provide:cu,useValue:this},{provide:as,useValue:this.componentFactoryResolver},...x],ve(g),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(g)}get injector(){return this._r3Injector}destroy(){const g=this._r3Injector;!g.destroyed&&g.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(g){this.destroyCbs.push(g)}}class Ov extends GE{constructor(g){super(),this.moduleType=g}create(g){return new ux(this.moduleType,g,[])}}class UE extends cu{constructor(g){super(),this.componentFactoryResolver=new TD(this),this.instance=null;const v=new Ld([...g.providers,{provide:cu,useValue:this},{provide:as,useValue:this.componentFactoryResolver}],g.parent||Yc(),g.debugName,new Set(["environment"]));this.injector=v,g.runEnvironmentInitializers&&v.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(g){this.injector.onDestroy(g)}}function _C(u,g,v=null){return new UE({providers:u,parent:g,debugName:v,runEnvironmentInitializers:!0}).injector}let W1=(()=>{class u{constructor(v){this._injector=v,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(v){if(!v.standalone)return null;if(!this.cachedInjectors.has(v)){const x=fh(0,v.type),A=x.length>0?_C([x],this._injector,`Standalone[${v.type.name}]`):null;this.cachedInjectors.set(v,A)}return this.cachedInjectors.get(v)}ngOnDestroy(){try{for(const v of this.cachedInjectors.values())null!==v&&v.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ct({token:u,providedIn:"environment",factory:()=>new u(Di(cc))})}}return u})();function x_(u){u.getStandaloneInjector=g=>g.get(W1).getOrCreateStandaloneInjector(u)}function mx(u,g,v){const x=$e()+u,A=pn();return A[x]===co?Jh(A,x,v?g.call(v):g()):function Jy(u,g){return u[g]}(A,x)}function vx(u,g,v,x){return Cx(pn(),$e(),u,g,v,x)}function yx(u,g,v,x,A){return um(pn(),$e(),u,g,v,x,A)}function $E(u,g,v,x,A,k){return function xx(u,g,v,x,A,k,W,ne){const me=g+v;return function cv(u,g,v,x,A){const k=Yp(u,g,v,x);return Xl(u,g+2,A)||k}(u,me,A,k,W)?Jh(u,me+3,ne?x.call(ne,A,k,W):x(A,k,W)):Nv(u,me+3)}(pn(),$e(),u,g,v,x,A,k)}function Nv(u,g){const v=u[g];return v===co?void 0:v}function Cx(u,g,v,x,A,k){const W=g+v;return Xl(u,W,A)?Jh(u,W+1,k?x.call(k,A):x(A)):Nv(u,W+1)}function um(u,g,v,x,A,k,W){const ne=g+v;return Yp(u,ne,A,k)?Jh(u,ne+2,W?x.call(W,A,k):x(A,k)):Nv(u,ne+2)}function XE(u,g){const v=ar();let x;const A=u+Dr;v.firstCreatePass?(x=function YE(u,g){if(g)for(let v=g.length-1;v>=0;v--){const x=g[v];if(u===x.name)return x}}(g,v.pipeRegistry),v.data[A]=x,x.onDestroy&&(v.destroyHooks??=[]).push(A,x.onDestroy)):x=v.data[A];const k=x.factory||(x.factory=Zs(x.type)),ne=jt(Lf);try{const me=Eh(!1),He=k();return Eh(me),function mw(u,g,v,x){v>=u.data.length&&(u.data[v]=null,u.blueprint[v]=null),g[v]=x}(v,pn(),A,He),He}finally{jt(ne)}}function Ku(u,g,v){const x=u+Dr,A=pn(),k=mc(A,x);return E_(A,x)?Cx(A,$e(),g,k.transform,v,k):k.transform(v)}function Dx(u,g,v,x){const A=u+Dr,k=pn(),W=mc(k,A);return E_(k,A)?um(k,$e(),g,W.transform,v,x,W):W.transform(v,x)}function E_(u,g){return u[An].data[g].pure}function eR(){return this._results[Symbol.iterator]()}class wC{get changes(){return this._changes||(this._changes=new Wi)}constructor(g=!1){this._emitDistinctChangesOnly=g,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const v=wC.prototype;v[Symbol.iterator]||(v[Symbol.iterator]=eR)}get(g){return this._results[g]}map(g){return this._results.map(g)}filter(g){return this._results.filter(g)}find(g){return this._results.find(g)}reduce(g,v){return this._results.reduce(g,v)}forEach(g){this._results.forEach(g)}some(g){return this._results.some(g)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(g,v){const x=this;x.dirty=!1;const A=function yc(u){return u.flat(Number.POSITIVE_INFINITY)}(g);(this._changesDetected=!function ff(u,g,v){if(u.length!==g.length)return!1;for(let x=0;x<u.length;x++){let A=u[x],k=g[x];if(v&&(A=v(A),k=v(k)),k!==A)return!1}return!0}(x._results,A,v))&&(x._results=A,x.length=A.length,x.last=A[this.length-1],x.first=A[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function iR(u,g,v,x=!0){const A=g[An];if(function vy(u,g,v,x){const A=Ps+x,k=v.length;x>0&&(v[A-1][ts]=g),x<k-Ps?(g[ts]=v[A],Pr(v,Ps+x,g)):(v.push(g),g[ts]=null),g[Ur]=v;const W=g[mo];null!==W&&v!==W&&function kp(u,g){const v=u[Fa];g[io]!==g[Ur][Ur][io]&&(u[Uo]=!0),null===v?u[Fa]=[g]:v.push(g)}(W,g);const ne=g[Ho];null!==ne&&ne.insertView(u),g[yr]|=128}(A,g,u,v),x){const k=dh(v,u),W=g[er],ne=xu(W,u[Is]);null!==ne&&function Dg(u,g,v,x,A,k){x[Cr]=A,x[Xo]=g,xf(u,x,v,1,A,k)}(A,u[Xo],W,g,ne,k)}}let Bv=(()=>{class u{static{this.__NG_ELEMENT_ID__=ZE}}return u})();const nR=Bv,Ex=class extends nR{constructor(g,v,x){super(),this._declarationLView=g,this._declarationTContainer=v,this.elementRef=x}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(g,v){return this.createEmbeddedViewImpl(g,v)}createEmbeddedViewImpl(g,v,x){const A=function tR(u,g,v,x){const A=g.tView,ne=Gy(u,A,v,4096&u[yr]?4096:16,null,g,null,null,null,x?.injector??null,x?.hydrationInfo??null);ne[mo]=u[g.index];const He=u[Ho];return null!==He&&(ne[Ho]=He.createEmbeddedView(A)),Q0(A,ne,v),ne}(this._declarationLView,this._declarationTContainer,g,{injector:v,hydrationInfo:x});return new av(A)}};function ZE(){return xC(Go(),pn())}function xC(u,g){return 4&u.type?new Ex(g,u,Zc(u,g)):null}let Vv=(()=>{class u{static{this.__NG_ELEMENT_ID__=tA}}return u})();function tA(){return Rx(Go(),pn())}const oR=Vv,iA=class extends oR{constructor(g,v,x){super(),this._lContainer=g,this._hostTNode=v,this._hostLView=x}get element(){return Zc(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const g=Cp(this._hostTNode,this._hostLView);if(og(g)){const v=wr(g,this._hostLView),x=wd(g);return new Ga(v[An].data[x+8],v)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(g){const v=Mx(this._lContainer);return null!==v&&v[g]||null}get length(){return this._lContainer.length-Ps}createEmbeddedView(g,v,x){let A,k;"number"==typeof x?A=x:null!=x&&(A=x.index,k=x.injector);const ne=g.createEmbeddedViewImpl(v||{},k,null);return this.insertImpl(ne,A,false),ne}createComponent(g,v,x,A,k){const W=g&&!function Bc(u){return"function"==typeof u}(g);let ne;if(W)ne=v;else{const Ln=v||{};ne=Ln.index,x=Ln.injector,A=Ln.projectableNodes,k=Ln.environmentInjector||Ln.ngModuleRef}const me=W?g:new qh(vr(g)),He=x||this.parentInjector;if(!k&&null==me.ngModule){const Kn=(W?He:this.parentInjector).get(cc,null);Kn&&(k=Kn)}vr(me.componentType??{});const Ki=me.create(He,A,null,k);return this.insertImpl(Ki.hostView,ne,false),Ki}insert(g,v){return this.insertImpl(g,v,!1)}insertImpl(g,v,x){const A=g._lView;if(function ce(u){return so(u[Ur])}(A)){const me=this.indexOf(g);if(-1!==me)this.detach(me);else{const He=A[Ur],Mt=new iA(He,He[Xo],He[Ur]);Mt.detach(Mt.indexOf(g))}}const W=this._adjustIndex(v),ne=this._lContainer;return iR(ne,A,W,!x),g.attachToViewContainerRef(),Pr(DC(ne),W,g),g}move(g,v){return this.insert(g,v)}indexOf(g){const v=Mx(this._lContainer);return null!==v?v.indexOf(g):-1}remove(g){const v=this._adjustIndex(g,-1),x=Vh(this._lContainer,v);x&&(dl(DC(this._lContainer),v),sc(x[An],x))}detach(g){const v=this._adjustIndex(g,-1),x=Vh(this._lContainer,v);return x&&null!=dl(DC(this._lContainer),v)?new av(x):null}_adjustIndex(g,v=0){return g??this.length+v}};function Mx(u){return u[8]}function DC(u){return u[8]||(u[8]=[])}function Rx(u,g){let v;const x=g[u.index];return so(x)?v=x:(v=Gb(x,g,null,u),g[u.index]=v,Ky(g,v)),Ix(v,g,u,x),new iA(v,u,g)}let Ix=function hm(u,g,v,x){if(u[Is])return;let A;A=8&v.type?Vo(x):function nA(u,g){const v=u[er],x=v.createComment(""),A=rs(g,u);return ld(v,xu(v,A),x,function Cf(u,g){return u.nextSibling(g)}(v,A),!1),x}(g,v),u[Is]=A};class rp{constructor(g){this.queryList=g,this.matches=null}clone(){return new rp(this.queryList)}setDirty(){this.queryList.setDirty()}}class T_{constructor(g=[]){this.queries=g}createEmbeddedView(g){const v=g.queries;if(null!==v){const x=null!==g.contentQueries?g.contentQueries[0]:v.length,A=[];for(let k=0;k<x;k++){const W=v.getByIndex(k);A.push(this.queries[W.indexInDeclarationView].clone())}return new T_(A)}return null}insertView(g){this.dirtyQueriesWithMatches(g)}detachView(g){this.dirtyQueriesWithMatches(g)}dirtyQueriesWithMatches(g){for(let v=0;v<this.queries.length;v++)null!==I_(g,v).matches&&this.queries[v].setDirty()}}class AC{constructor(g,v,x=null){this.predicate=g,this.flags=v,this.read=x}}class M_{constructor(g=[]){this.queries=g}elementStart(g,v){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(g,v)}elementEnd(g){for(let v=0;v<this.queries.length;v++)this.queries[v].elementEnd(g)}embeddedTView(g){let v=null;for(let x=0;x<this.length;x++){const A=null!==v?v.length:0,k=this.getByIndex(x).embeddedTView(g,A);k&&(k.indexInDeclarationView=x,null!==v?v.push(k):v=[k])}return null!==v?new M_(v):null}template(g,v){for(let x=0;x<this.queries.length;x++)this.queries[x].template(g,v)}getByIndex(g){return this.queries[g]}get length(){return this.queries.length}track(g){this.queries.push(g)}}class pm{constructor(g,v=-1){this.metadata=g,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=v}elementStart(g,v){this.isApplyingToNode(v)&&this.matchTNode(g,v)}elementEnd(g){this._declarationNodeIndex===g.index&&(this._appliesToNextNode=!1)}template(g,v){this.elementStart(g,v)}embeddedTView(g,v){return this.isApplyingToNode(g)?(this.crossesNgTemplate=!0,this.addMatch(-g.index,v),new pm(this.metadata)):null}isApplyingToNode(g){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const v=this._declarationNodeIndex;let x=g.parent;for(;null!==x&&8&x.type&&x.index!==v;)x=x.parent;return v===(null!==x?x.index:-1)}return this._appliesToNextNode}matchTNode(g,v){const x=this.metadata.predicate;if(Array.isArray(x))for(let A=0;A<x.length;A++){const k=x[A];this.matchTNodeWithReadOption(g,v,R_(v,k)),this.matchTNodeWithReadOption(g,v,lg(v,g,k,!1,!1))}else x===Bv?4&v.type&&this.matchTNodeWithReadOption(g,v,-1):this.matchTNodeWithReadOption(g,v,lg(v,g,x,!1,!1))}matchTNodeWithReadOption(g,v,x){if(null!==x){const A=this.metadata.read;if(null!==A)if(A===Wp||A===Vv||A===Bv&&4&v.type)this.addMatch(v.index,-2);else{const k=lg(v,g,A,!1,!1);null!==k&&this.addMatch(v.index,k)}else this.addMatch(v.index,x)}}addMatch(g,v){null===this.matches?this.matches=[g,v]:this.matches.push(g,v)}}function R_(u,g){const v=u.localNames;if(null!==v)for(let x=0;x<v.length;x+=2)if(v[x]===g)return v[x+1];return null}function oA(u,g,v,x){return-1===v?function rA(u,g){return 11&u.type?Zc(u,g):4&u.type?xC(u,g):null}(g,u):-2===v?function kx(u,g,v){return v===Wp?Zc(g,u):v===Bv?xC(g,u):v===Vv?Rx(g,u):void 0}(u,g,x):Sd(u,u[An],v,g)}function Fx(u,g,v,x){const A=g[Ho].queries[x];if(null===A.matches){const k=u.data,W=v.matches,ne=[];for(let me=0;me<W.length;me+=2){const He=W[me];ne.push(He<0?null:oA(g,k[He],W[me+1],v.metadata.read))}A.matches=ne}return A.matches}function Gv(u,g,v,x){const A=u.queries.getByIndex(v),k=A.matches;if(null!==k){const W=Fx(u,g,A,v);for(let ne=0;ne<k.length;ne+=2){const me=k[ne];if(me>0)x.push(W[ne/2]);else{const He=k[ne+1],Mt=g[-me];for(let fi=Ps;fi<Mt.length;fi++){const Gi=Mt[fi];Gi[mo]===Gi[Ur]&&Gv(Gi[An],Gi,He,x)}if(null!==Mt[Fa]){const fi=Mt[Fa];for(let Gi=0;Gi<fi.length;Gi++){const Ki=fi[Gi];Gv(Ki[An],Ki,He,x)}}}}}return x}function Ox(u){const g=pn(),v=ar(),x=Ji();$i(x+1);const A=I_(v,x);if(u.dirty&&function Z(u){return 4==(4&u[yr])}(g)===(2==(2&A.metadata.flags))){if(null===A.matches)u.reset([]);else{const k=A.crossesNgTemplate?Gv(v,g,x,[]):Fx(v,g,A,x);u.reset(k,Kg),u.notifyOnChanges()}return!0}return!1}function Lx(u,g,v){const x=ar();x.firstCreatePass&&(sA(x,new AC(u,g,v),-1),2==(2&g)&&(x.staticViewQueries=!0)),MC(x,pn(),g)}function du(u,g,v,x){const A=ar();if(A.firstCreatePass){const k=Go();sA(A,new AC(g,v,x),k.index),function DF(u,g){const v=u.contentQueries||(u.contentQueries=[]);g!==(v.length?v[v.length-1]:-1)&&v.push(u.queries.length-1,g)}(A,u),2==(2&v)&&(A.staticContentQueries=!0)}MC(A,pn(),v)}function Nx(){return function TC(u,g){return u[Ho].queries[g].queryList}(pn(),Ji())}function MC(u,g,v){const x=new wC(4==(4&v));(function _M(u,g,v,x){const A=bD(g);A.push(v),u.firstCreatePass&&CD(u).push(x,A.length-1)})(u,g,x,x.destroy),null===g[Ho]&&(g[Ho]=new T_),g[Ho].queries.push(new rp(x))}function sA(u,g,v){null===u.queries&&(u.queries=new M_),u.queries.track(new pm(g,v))}function I_(u,g){return u.queries.getByIndex(g)}function Hv(u,g){return xC(u,g)}function Bx(u){return!!fo(u)}const $x=new xe("Application Initializer");let Wv=(()=>{class u{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,x)=>{this.resolve=v,this.reject=x}),this.appInits=Lt($x,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const v=[];for(const A of this.appInits){const k=A();if(eC(k))v.push(k);else if($D(k)){const W=new Promise((ne,me)=>{k.subscribe({complete:ne,error:me})});v.push(W)}}const x=()=>{this.done=!0,this.resolve()};Promise.all(v).then(()=>{x()}).catch(A=>{this.reject(A)}),0===v.length&&x(),this.initialized=!0}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),jv=(()=>{class u{log(v){console.log(v)}warn(v){console.warn(v)}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"platform"})}}return u})();const $v=new xe("LocaleId",{providedIn:"root",factory:()=>Lt($v,Ni.Optional|Ni.SkipSelf)||function L_(){return typeof $localize<"u"&&$localize.locale||cm}()}),LC=new xe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let wA=(()=>{class u{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K.t(!1)}add(){this.hasPendingTasks.next(!0);const v=this.taskId++;return this.pendingTasks.add(v),v}remove(v){this.pendingTasks.delete(v),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();class Kv{constructor(g,v){this.ngModuleFactory=g,this.componentFactories=v}}let CR=(()=>{class u{compileModuleSync(v){return new Ov(v)}compileModuleAsync(v){return Promise.resolve(this.compileModuleSync(v))}compileModuleAndAllComponentsSync(v){const x=this.compileModuleSync(v),k=vh(fo(v).declarations).reduce((W,ne)=>{const me=vr(ne);return me&&W.push(new qh(me)),W},[]);return new Kv(x,k)}compileModuleAndAllComponentsAsync(v){return Promise.resolve(this.compileModuleAndAllComponentsSync(v))}clearCache(){}clearCacheFor(v){}getModuleId(v){}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();const B_=new xe(""),eS=new xe("");let ap,tS=(()=>{class u{constructor(v,x,A){this._ngZone=v,this.registry=x,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ap||(function AA(u){ap=u}(A),A.addToWindow(x)),this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb(this._didWork)}this._didWork=!1});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(v)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,x,A){let k=-1;x&&x>0&&(k=setTimeout(()=>{this._callbacks=this._callbacks.filter(W=>W.timeoutId!==k),v(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:v,timeoutId:k,updateCb:A})}whenStable(v,x,A){if(A&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,x,A),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(v){this.registry.registerApplication(v,this)}unregisterApplication(v){this.registry.unregisterApplication(v)}findProviders(v,x,A){return[]}static{this.\u0275fac=function(x){return new(x||u)(Di(xn),Di(Yf),Di(eS))}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac})}}return u})(),Yf=(()=>{class u{constructor(){this._applications=new Map}registerApplication(v,x){this._applications.set(v,x)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,x=!0){return ap?.findTestabilityInTree(this,v,x)??null}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"platform"})}}return u})(),sf=null;const TA=new xe("AllowMultipleToken"),Xu=new xe("PlatformDestroyListeners"),V_=new xe("appBootstrapListener");class PR{constructor(g,v){this.name=g,this.token=v}}function nS(u,g,v=[]){const x=`Platform: ${g}`,A=new xe(x);return(k=[])=>{let W=oS();if(!W||W.injector.get(TA,!1)){const ne=[...v,...k,{provide:A,useValue:!0}];u?u(ne):function PA(u){if(sf&&!sf.get(TA,!1))throw new q(400,!1);(function RA(){!function Jn(u){Fl=u}(()=>{throw new q(600,!1)})})(),sf=u;const g=u.get(sS);(function FA(u){u.get(Nd,null)?.forEach(v=>v())})(u)}(function rS(u=[],g){return S.create({name:g,providers:[{provide:Ca,useValue:"platform"},{provide:Xu,useValue:new Set([()=>sf=null])},...u]})}(ne,x))}return function OA(u){const g=oS();if(!g)throw new q(401,!1);return g}()}}function oS(){return sf?.get(sS)??null}let sS=(()=>{class u{constructor(v){this._injector=v,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(v,x){const A=function FR(u="zone.js",g){return"noop"===u?new $l:"zone.js"===u?new xn(g):u}(x?.ngZone,function G_(u){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:u?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:u?.runCoalescing??!1}}({eventCoalescing:x?.ngZoneEventCoalescing,runCoalescing:x?.ngZoneRunCoalescing}));return A.run(()=>{const k=function Lv(u,g,v){return new ux(u,g,v)}(v.moduleType,this.injector,function Qv(u){return[{provide:xn,useFactory:u},{provide:Iu,multi:!0,useFactory:()=>{const g=Lt(GA,{optional:!0});return()=>g.initialize()}},{provide:VA,useFactory:OR},{provide:mh,useFactory:Vd}]}(()=>A)),W=k.injector.get(be,null);return A.runOutsideAngular(()=>{const ne=A.onError.subscribe({next:me=>{W.handleError(me)}});k.onDestroy(()=>{H_(this._modules,k),ne.unsubscribe()})}),function LA(u,g,v){try{const x=v();return eC(x)?x.catch(A=>{throw g.runOutsideAngular(()=>u.handleError(A)),A}):x}catch(x){throw g.runOutsideAngular(()=>u.handleError(x)),x}}(W,A,()=>{const ne=k.injector.get(Wv);return ne.runInitializers(),ne.donePromise.then(()=>(function $u(u){Zt(u,"Expected localeId to be defined"),"string"==typeof u&&(Jp=u.toLowerCase().replace(/_/g,"-"))}(k.injector.get($v,cm)||cm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(v,x=[]){const A=NA({},x);return function iS(u,g,v){const x=new Ov(v);return Promise.resolve(x)}(0,0,v).then(k=>this.bootstrapModuleFactory(k,A))}_moduleDoBootstrap(v){const x=v.injector.get(Yv);if(v._bootstrapComponents.length>0)v._bootstrapComponents.forEach(A=>x.bootstrap(A));else{if(!v.instance.ngDoBootstrap)throw new q(-403,!1);v.instance.ngDoBootstrap(x)}this._modules.push(v)}onDestroy(v){this._destroyListeners.push(v)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(x=>x.destroy()),this._destroyListeners.forEach(x=>x());const v=this._injector.get(Xu,null);v&&(v.forEach(x=>x()),v.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(x){return new(x||u)(Di(S))}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"platform"})}}return u})();function NA(u,g){return Array.isArray(g)?g.reduce(NA,u):{...u,...g}}let Yv=(()=>{class u{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Lt(VA),this.zoneIsStable=Lt(mh),this.componentTypes=[],this.components=[],this.isStable=Lt(wA).hasPendingTasks.pipe((0,rt.n)(v=>v?(0,Ke.of)(!1):this.zoneIsStable),(0,ie.F)(),(0,j.u)()),this._injector=Lt(cc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(v,x){const A=v instanceof Ib;if(!this._injector.get(Wv).done)throw!A&&ha(v),new q(405,!1);let W;W=A?v:this._injector.get(as).resolveComponentFactory(v),this.componentTypes.push(W.componentType);const ne=function IA(u){return u.isBoundToModule}(W)?void 0:this._injector.get(cu),He=W.create(S.NULL,[],x||W.selector,ne),Mt=He.location.nativeElement,fi=He.injector.get(B_,null);return fi?.registerApplication(Mt),He.onDestroy(()=>{this.detachView(He.hostView),H_(this.components,He),fi?.unregisterApplication(Mt)}),this._loadComponent(He),He}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let v of this._views)v.detectChanges()}catch(v){this.internalErrorHandler(v)}finally{this._runningTick=!1}}attachView(v){const x=v;this._views.push(x),x.attachToAppRef(this)}detachView(v){const x=v;H_(this._views,x),x.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v);const x=this._injector.get(V_,[]);x.push(...this._bootstrapListeners),x.forEach(A=>A(v))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(v=>v()),this._views.slice().forEach(v=>v.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(v){return this._destroyListeners.push(v),()=>H_(this._destroyListeners,v)}destroy(){if(this._destroyed)throw new q(406,!1);const v=this._injector;v.destroy&&!v.destroyed&&v.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();function H_(u,g){const v=u.indexOf(g);v>-1&&u.splice(v,1)}const VA=new xe("",{providedIn:"root",factory:()=>Lt(be).handleError.bind(void 0)});function OR(){const u=Lt(xn),g=Lt(be);return v=>u.runOutsideAngular(()=>g.handleError(v))}let GA=(()=>{class u{constructor(){this.zone=Lt(xn),this.applicationRef=Lt(Yv)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(x){return new(x||u)}}static{this.\u0275prov=ct({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();let HA=(()=>{class u{static{this.__NG_ELEMENT_ID__=GC}}return u})();function GC(u){return function BR(u,g,v){if(ks(u)&&!v){const x=Ne(u.index,g);return new av(x,x)}return 47&u.type?new av(g[io],g):null}(Go(),pn(),16==(16&u))}class zA{constructor(){}supports(g){return qy(g)}create(g){return new HR(g)}}const GR=(u,g)=>g;class HR{constructor(g){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=g||GR}forEachItem(g){let v;for(v=this._itHead;null!==v;v=v._next)g(v)}forEachOperation(g){let v=this._itHead,x=this._removalsHead,A=0,k=null;for(;v||x;){const W=!x||v&&v.currentIndex<jA(x,A,k)?v:x,ne=jA(W,A,k),me=W.currentIndex;if(W===x)A--,x=x._nextRemoved;else if(v=v._next,null==W.previousIndex)A++;else{k||(k=[]);const He=ne-A,Mt=me-A;if(He!=Mt){for(let Gi=0;Gi<He;Gi++){const Ki=Gi<k.length?k[Gi]:k[Gi]=0,yn=Ki+Gi;Mt<=yn&&yn<He&&(k[Gi]=Ki+1)}k[W.previousIndex]=Mt-He}}ne!==me&&g(W,ne,me)}}forEachPreviousItem(g){let v;for(v=this._previousItHead;null!==v;v=v._nextPrevious)g(v)}forEachAddedItem(g){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)g(v)}forEachMovedItem(g){let v;for(v=this._movesHead;null!==v;v=v._nextMoved)g(v)}forEachRemovedItem(g){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)g(v)}forEachIdentityChange(g){let v;for(v=this._identityChangesHead;null!==v;v=v._nextIdentityChange)g(v)}diff(g){if(null==g&&(g=[]),!qy(g))throw new q(900,!1);return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let A,k,W,v=this._itHead,x=!1;if(Array.isArray(g)){this.length=g.length;for(let ne=0;ne<this.length;ne++)k=g[ne],W=this._trackByFn(ne,k),null!==v&&Object.is(v.trackById,W)?(x&&(v=this._verifyReinsertion(v,k,W,ne)),Object.is(v.item,k)||this._addIdentityChange(v,k)):(v=this._mismatch(v,k,W,ne),x=!0),v=v._next}else A=0,function NM(u,g){if(Array.isArray(u))for(let v=0;v<u.length;v++)g(u[v]);else{const v=u[Symbol.iterator]();let x;for(;!(x=v.next()).done;)g(x.value)}}(g,ne=>{W=this._trackByFn(A,ne),null!==v&&Object.is(v.trackById,W)?(x&&(v=this._verifyReinsertion(v,ne,W,A)),Object.is(v.item,ne)||this._addIdentityChange(v,ne)):(v=this._mismatch(v,ne,W,A),x=!0),v=v._next,A++}),this.length=A;return this._truncate(v),this.collection=g,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let g;for(g=this._previousItHead=this._itHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._additionsHead;null!==g;g=g._nextAdded)g.previousIndex=g.currentIndex;for(this._additionsHead=this._additionsTail=null,g=this._movesHead;null!==g;g=g._nextMoved)g.previousIndex=g.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(g,v,x,A){let k;return null===g?k=this._itTail:(k=g._prev,this._remove(g)),null!==(g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null))?(Object.is(g.item,v)||this._addIdentityChange(g,v),this._reinsertAfter(g,k,A)):null!==(g=null===this._linkedRecords?null:this._linkedRecords.get(x,A))?(Object.is(g.item,v)||this._addIdentityChange(g,v),this._moveAfter(g,k,A)):g=this._addAfter(new UR(v,x),k,A),g}_verifyReinsertion(g,v,x,A){let k=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null);return null!==k?g=this._reinsertAfter(k,g._prev,A):g.currentIndex!=A&&(g.currentIndex=A,this._addToMoves(g,A)),g}_truncate(g){for(;null!==g;){const v=g._next;this._addToRemovals(this._unlink(g)),g=v}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(g,v,x){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(g);const A=g._prevRemoved,k=g._nextRemoved;return null===A?this._removalsHead=k:A._nextRemoved=k,null===k?this._removalsTail=A:k._prevRemoved=A,this._insertAfter(g,v,x),this._addToMoves(g,x),g}_moveAfter(g,v,x){return this._unlink(g),this._insertAfter(g,v,x),this._addToMoves(g,x),g}_addAfter(g,v,x){return this._insertAfter(g,v,x),this._additionsTail=null===this._additionsTail?this._additionsHead=g:this._additionsTail._nextAdded=g,g}_insertAfter(g,v,x){const A=null===v?this._itHead:v._next;return g._next=A,g._prev=v,null===A?this._itTail=g:A._prev=g,null===v?this._itHead=g:v._next=g,null===this._linkedRecords&&(this._linkedRecords=new Qf),this._linkedRecords.put(g),g.currentIndex=x,g}_remove(g){return this._addToRemovals(this._unlink(g))}_unlink(g){null!==this._linkedRecords&&this._linkedRecords.remove(g);const v=g._prev,x=g._next;return null===v?this._itHead=x:v._next=x,null===x?this._itTail=v:x._prev=v,g}_addToMoves(g,v){return g.previousIndex===v||(this._movesTail=null===this._movesTail?this._movesHead=g:this._movesTail._nextMoved=g),g}_addToRemovals(g){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qf),this._unlinkedRecords.put(g),g.currentIndex=null,g._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=g,g._prevRemoved=null):(g._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=g),g}_addIdentityChange(g,v){return g.item=v,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=g:this._identityChangesTail._nextIdentityChange=g,g}}class UR{constructor(g,v){this.item=g,this.trackById=v,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WA{constructor(){this._head=null,this._tail=null}add(g){null===this._head?(this._head=this._tail=g,g._nextDup=null,g._prevDup=null):(this._tail._nextDup=g,g._prevDup=this._tail,g._nextDup=null,this._tail=g)}get(g,v){let x;for(x=this._head;null!==x;x=x._nextDup)if((null===v||v<=x.currentIndex)&&Object.is(x.trackById,g))return x;return null}remove(g){const v=g._prevDup,x=g._nextDup;return null===v?this._head=x:v._nextDup=x,null===x?this._tail=v:x._prevDup=v,null===this._head}}class Qf{constructor(){this.map=new Map}put(g){const v=g.trackById;let x=this.map.get(v);x||(x=new WA,this.map.set(v,x)),x.add(g)}get(g,v){const A=this.map.get(g);return A?A.get(g,v):null}remove(g){const v=g.trackById;return this.map.get(v).remove(g)&&this.map.delete(v),g}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jA(u,g,v){const x=u.previousIndex;if(null===x)return x;let A=0;return v&&x<v.length&&(A=v[x]),x+g+A}class jC{constructor(){}supports(g){return g instanceof Map||$b(g)}create(){return new $A}}class $A{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(g){let v;for(v=this._mapHead;null!==v;v=v._next)g(v)}forEachPreviousItem(g){let v;for(v=this._previousMapHead;null!==v;v=v._nextPrevious)g(v)}forEachChangedItem(g){let v;for(v=this._changesHead;null!==v;v=v._nextChanged)g(v)}forEachAddedItem(g){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)g(v)}forEachRemovedItem(g){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)g(v)}diff(g){if(g){if(!(g instanceof Map||$b(g)))throw new q(900,!1)}else g=new Map;return this.check(g)?this:null}onDestroy(){}check(g){this._reset();let v=this._mapHead;if(this._appendAfter=null,this._forEach(g,(x,A)=>{if(v&&v.key===A)this._maybeAddToChanges(v,x),this._appendAfter=v,v=v._next;else{const k=this._getOrCreateRecordForKey(A,x);v=this._insertBeforeOrAppend(v,k)}}),v){v._prev&&(v._prev._next=null),this._removalsHead=v;for(let x=v;null!==x;x=x._nextRemoved)x===this._mapHead&&(this._mapHead=null),this._records.delete(x.key),x._nextRemoved=x._next,x.previousValue=x.currentValue,x.currentValue=null,x._prev=null,x._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(g,v){if(g){const x=g._prev;return v._next=g,v._prev=x,g._prev=v,x&&(x._next=v),g===this._mapHead&&(this._mapHead=v),this._appendAfter=g,g}return this._appendAfter?(this._appendAfter._next=v,v._prev=this._appendAfter):this._mapHead=v,this._appendAfter=v,null}_getOrCreateRecordForKey(g,v){if(this._records.has(g)){const A=this._records.get(g);this._maybeAddToChanges(A,v);const k=A._prev,W=A._next;return k&&(k._next=W),W&&(W._prev=k),A._next=null,A._prev=null,A}const x=new zR(g);return this._records.set(g,x),x.currentValue=v,this._addToAdditions(x),x}_reset(){if(this.isDirty){let g;for(this._previousMapHead=this._mapHead,g=this._previousMapHead;null!==g;g=g._next)g._nextPrevious=g._next;for(g=this._changesHead;null!==g;g=g._nextChanged)g.previousValue=g.currentValue;for(g=this._additionsHead;null!=g;g=g._nextAdded)g.previousValue=g.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(g,v){Object.is(v,g.currentValue)||(g.previousValue=g.currentValue,g.currentValue=v,this._addToChanges(g))}_addToAdditions(g){null===this._additionsHead?this._additionsHead=this._additionsTail=g:(this._additionsTail._nextAdded=g,this._additionsTail=g)}_addToChanges(g){null===this._changesHead?this._changesHead=this._changesTail=g:(this._changesTail._nextChanged=g,this._changesTail=g)}_forEach(g,v){g instanceof Map?g.forEach(v):Object.keys(g).forEach(x=>v(g[x],x))}}class zR{constructor(g){this.key=g,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pS(){return new $C([new zA])}let $C=(()=>{class u{static{this.\u0275prov=ct({token:u,providedIn:"root",factory:pS})}constructor(v){this.factories=v}static create(v,x){if(null!=x){const A=x.factories.slice();v=v.concat(A)}return new u(v)}static extend(v){return{provide:u,useFactory:x=>u.create(v,x||pS()),deps:[[u,new gr,new Mp]]}}find(v){const x=this.factories.find(A=>A.supports(v));if(null!=x)return x;throw new q(901,!1)}}return u})();function fS(){return new gS([new jC])}let gS=(()=>{class u{static{this.\u0275prov=ct({token:u,providedIn:"root",factory:fS})}constructor(v){this.factories=v}static create(v,x){if(x){const A=x.factories.slice();v=v.concat(A)}return new u(v)}static extend(v){return{provide:u,useFactory:x=>u.create(v,x||fS()),deps:[[u,new gr,new Mp]]}}find(v){const x=this.factories.find(A=>A.supports(v));if(x)return x;throw new q(901,!1)}}return u})();const KR=nS(null,"core",[]);let W_=(()=>{class u{constructor(v){}static{this.\u0275fac=function(x){return new(x||u)(Di(Yv))}}static{this.\u0275mod=So({type:u})}static{this.\u0275inj=ft({})}}return u})();function ym(u){return"boolean"==typeof u?u:null!=u&&"false"!==u}function dp(u){const g=vr(u);if(!g)return null;const v=new qh(g);return{get selector(){return v.selector},get type(){return v.componentType},get inputs(){return v.inputs},get outputs(){return v.outputs},get ngContentSelectors(){return v.ngContentSelectors},get isStandalone(){return g.standalone},get isSignal(){return g.signals}}}},4545:(Ui,ni,N)=>{"use strict";function b(ee){for(let Ce in ee){let ve=ee[Ce]??"";switch(Ce){case"display":ee.display="flex"===ve?["-webkit-flex","flex"]:"inline-flex"===ve?["-webkit-inline-flex","inline-flex"]:ve;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":ee["-webkit-"+Ce]=ve;break;case"flex-direction":ee["-webkit-flex-direction"]=ve,ee["flex-direction"]=ve;break;case"order":ee.order=ee["-webkit-"+Ce]=isNaN(+ve)?"0":ve}}return ee}N.d(ni,{C5:()=>ie,O5:()=>b,Uo:()=>E,Vc:()=>Ke,uG:()=>ye});const O="inline",E=["row","column","row-reverse","column-reverse"];function ye(ee){let[Ce,ve,ue]=K(ee);return function rt(ee,Ce=null,ve=!1){return{display:ve?"inline-flex":"flex","box-sizing":"border-box","flex-direction":ee,"flex-wrap":Ce||null}}(Ce,ve,ue)}function K(ee){ee=ee?.toLowerCase()??"";let[Ce,ve,ue]=ee.split(" ");return E.find(P=>P===Ce)||(Ce=E[0]),ve===O&&(ve=ue!==O?ue:"",ue=O),[Ce,j(ve),!!ue]}function Ke(ee){let[Ce]=K(ee);return Ce.indexOf("row")>-1}function j(ee){if(ee)switch(ee.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":ee="wrap-reverse";break;case"no":case"none":case"nowrap":ee="nowrap";break;default:ee="wrap"}return ee}function ie(ee,...Ce){if(null==ee)throw TypeError("Cannot convert undefined or null to object");for(let ve of Ce)if(null!=ve)for(let ue in ve)ve.hasOwnProperty(ue)&&(ee[ue]=ve[ue]);return ee}},9340:(Ui,ni,N)=>{"use strict";N.d(ni,{Ce:()=>pt,DJ:()=>gn,EA:()=>qt,PV:()=>Ct,SL:()=>Ai,Ui:()=>ue,ZH:()=>Ot,cL:()=>Pt,hN:()=>Qe,qH:()=>tn,r3:()=>q});var b=N(7705),O=N(177),E=N(4412),ye=N(1985),K=N(7786),Ke=N(1413),j=N(4545),rt=N(5964),ie=N(8141);const Ce={provide:b.iLQ,useFactory:function ee(qe,Dt){return()=>{if((0,O.UE)(Dt)){const je=Array.from(qe.querySelectorAll(`[class*=${ve}]`)),Rt=/\bflex-layout-.+?\b/g;je.forEach(Te=>{Te.classList.contains(`${ve}ssr`)&&Te.parentNode?Te.parentNode.removeChild(Te):Te.className.replace(Rt,"")})}}},deps:[O.qQ,b.Agw],multi:!0},ve="flex-layout-";let ue=(()=>{class qe{}return qe.\u0275fac=function(je){return new(je||qe)},qe.\u0275mod=b.$C({type:qe}),qe.\u0275inj=b.G2t({providers:[Ce]}),qe})();class P{constructor(Dt=!1,je="all",Rt="",Te="",bt=0){this.matches=Dt,this.mediaQuery=je,this.mqAlias=Rt,this.suffix=Te,this.priority=bt,this.property=""}clone(){return new P(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Be=(()=>{class qe{constructor(){this.stylesheet=new Map}addStyleToElement(je,Rt,Te){const bt=this.stylesheet.get(je);bt?bt.set(Rt,Te):this.stylesheet.set(je,new Map([[Rt,Te]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(je,Rt){const Te=this.stylesheet.get(je);let bt="";if(Te){const Gt=Te.get(Rt);("number"==typeof Gt||"string"==typeof Gt)&&(bt=Gt+"")}return bt}}return qe.\u0275fac=function(je){return new(je||qe)},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();const Ct={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},qt=new b.nKC("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ct}),pt=new b.nKC("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Ai=new b.nKC("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function oi(qe,Dt){return qe=qe?.clone()??new P,Dt&&(qe.mqAlias=Dt.alias,qe.mediaQuery=Dt.mediaQuery,qe.suffix=Dt.suffix,qe.priority=Dt.priority),qe}class q{constructor(){this.shouldCache=!0}sideEffect(Dt,je,Rt){}}let Ot=(()=>{class qe{constructor(je,Rt,Te,bt){this._serverStylesheet=je,this._serverModuleLoaded=Rt,this._platformId=Te,this.layoutConfig=bt}applyStyleToElement(je,Rt,Te=null){let bt={};"string"==typeof Rt&&(bt[Rt]=Te,Rt=bt),bt=this.layoutConfig.disableVendorPrefixes?Rt:(0,j.O5)(Rt),this._applyMultiValueStyleToElement(bt,je)}applyStyleToElements(je,Rt=[]){const Te=this.layoutConfig.disableVendorPrefixes?je:(0,j.O5)(je);Rt.forEach(bt=>{this._applyMultiValueStyleToElement(Te,bt)})}getFlowDirection(je){const Rt="flex-direction";let Te=this.lookupStyle(je,Rt);return[Te||"row",this.lookupInlineStyle(je,Rt)||(0,O.Vy)(this._platformId)&&this._serverModuleLoaded?Te:""]}hasWrap(je){return"wrap"===this.lookupStyle(je,"flex-wrap")}lookupAttributeValue(je,Rt){return je.getAttribute(Rt)??""}lookupInlineStyle(je,Rt){return(0,O.UE)(this._platformId)?je.style.getPropertyValue(Rt):function Oe(qe,Dt){return Ye(qe)[Dt]??""}(je,Rt)}lookupStyle(je,Rt,Te=!1){let bt="";return je&&((bt=this.lookupInlineStyle(je,Rt))||((0,O.UE)(this._platformId)?Te||(bt=getComputedStyle(je).getPropertyValue(Rt)):this._serverModuleLoaded&&(bt=this._serverStylesheet.getStyleForElement(je,Rt)))),bt?bt.trim():""}_applyMultiValueStyleToElement(je,Rt){Object.keys(je).sort().forEach(Te=>{const bt=je[Te],Gt=Array.isArray(bt)?bt:[bt];Gt.sort();for(let Pe of Gt)Pe=Pe?Pe+"":"",(0,O.UE)(this._platformId)||!this._serverModuleLoaded?(0,O.UE)(this._platformId)?Rt.style.setProperty(Te,Pe):Le(Rt,Te,Pe):this._serverStylesheet.addStyleToElement(Rt,Te,Pe)})}}return qe.\u0275fac=function(je){return new(je||qe)(b.KVO(Be),b.KVO(pt),b.KVO(b.Agw),b.KVO(qt))},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();function Le(qe,Dt,je){Dt=Dt.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const Rt=Ye(qe);Rt[Dt]=je??"",function We(qe,Dt){let je="";for(const Rt in Dt)Dt[Rt]&&(je+=`${Rt}:${Dt[Rt]};`);qe.setAttribute("style",je)}(qe,Rt)}function Ye(qe){const Dt={},je=qe.getAttribute("style");if(je){const Rt=je.split(/;+/g);for(let Te=0;Te<Rt.length;Te++){const bt=Rt[Te].trim();if(bt.length>0){const Gt=bt.indexOf(":");if(-1===Gt)throw new Error(`Invalid CSS style: ${bt}`);Dt[bt.substr(0,Gt).trim()]=bt.substr(Gt+1).trim()}}}return Dt}function Ht(qe,Dt){return(Dt&&Dt.priority||0)-(qe&&qe.priority||0)}function vi(qe,Dt){return(qe.priority||0)-(Dt.priority||0)}let Et=(()=>{class qe{constructor(je,Rt,Te){this._zone=je,this._platformId=Rt,this._document=Te,this.source=new E.t(new P(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const je=[];return this.registry.forEach((Rt,Te)=>{Rt.matches&&je.push(Te)}),je}isActive(je){return this.registry.get(je)?.matches??this.registerQuery(je).some(Te=>Te.matches)}observe(je,Rt=!1){if(je&&je.length){const Te=this._observable$.pipe((0,rt.p)(Gt=>!Rt||je.indexOf(Gt.mediaQuery)>-1)),bt=new ye.c(Gt=>{const Pe=this.registerQuery(je);if(Pe.length){const te=Pe.pop();Pe.forEach(ge=>{Gt.next(ge)}),this.source.next(te)}Gt.complete()});return(0,K.h)(bt,Te)}return this._observable$}registerQuery(je){const Rt=Array.isArray(je)?je:[je],Te=[];return function bi(qe,Dt){const je=qe.filter(Rt=>!wi[Rt]);if(je.length>0){const Rt=je.join(", ");try{const Te=Dt.createElement("style");Te.setAttribute("type","text/css"),Te.styleSheet||Te.appendChild(Dt.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${Rt} {.fx-query-test{ }}\n`)),Dt.head.appendChild(Te),je.forEach(bt=>wi[bt]=Te)}catch(Te){console.error(Te)}}}(Rt,this._document),Rt.forEach(bt=>{const Gt=te=>{this._zone.run(()=>this.source.next(new P(te.matches,bt)))};let Pe=this.registry.get(bt);Pe||(Pe=this.buildMQL(bt),Pe.addListener(Gt),this.pendingRemoveListenerFns.push(()=>Pe.removeListener(Gt)),this.registry.set(bt,Pe)),Pe.matches&&Te.push(new P(!0,bt))}),Te}ngOnDestroy(){let je;for(;je=this.pendingRemoveListenerFns.pop();)je()}buildMQL(je){return function an(qe,Dt){return Dt&&window.matchMedia("all").addListener?window.matchMedia(qe):function Ci(qe){const Dt=new EventTarget;return Dt.matches="all"===qe||""===qe,Dt.media=qe,Dt.addListener=()=>{},Dt.removeListener=()=>{},Dt.addEventListener=()=>{},Dt.dispatchEvent=()=>!1,Dt.onchange=null,Dt}(qe)}(je,(0,O.UE)(this._platformId))}}return qe.\u0275fac=function(je){return new(je||qe)(b.KVO(b.SKi),b.KVO(b.Agw),b.KVO(O.qQ))},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();const wi={},Oi=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Cn="(orientation: portrait) and (max-width: 599.98px)",Qt="(orientation: landscape) and (max-width: 959.98px)",lt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",wt="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",ii="(orientation: portrait) and (min-width: 840px)",ut="(orientation: landscape) and (min-width: 1280px)",yt={HANDSET:`${Cn}, ${Qt}`,TABLET:`${lt} , ${wt}`,WEB:`${ii}, ${ut} `,HANDSET_PORTRAIT:`${Cn}`,TABLET_PORTRAIT:`${lt} `,WEB_PORTRAIT:`${ii}`,HANDSET_LANDSCAPE:`${Qt}`,TABLET_LANDSCAPE:`${wt}`,WEB_LANDSCAPE:`${ut}`},Zt=[{alias:"handset",priority:2e3,mediaQuery:yt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:yt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:yt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:yt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:yt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:yt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:yt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:yt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:yt.WEB_PORTRAIT,overlapping:!0}],Tt=/(\.|-|_)/g;function di(qe){let Dt=qe.length>0?qe.charAt(0):"",je=qe.length>1?qe.slice(1):"";return Dt.toUpperCase()+je}const Ut=new b.nKC("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const qe=(0,b.WQX)(Ai),Dt=(0,b.WQX)(qt),je=[].concat.apply([],(qe||[]).map(Te=>Array.isArray(Te)?Te:[Te]));return function ct(qe,Dt=[]){const je={};return qe.forEach(Rt=>{je[Rt.alias]=Rt}),Dt.forEach(Rt=>{je[Rt.alias]?(0,j.C5)(je[Rt.alias],Rt):je[Rt.alias]=Rt}),function ri(qe){return qe.forEach(Dt=>{Dt.suffix||(Dt.suffix=function st(qe){return qe.replace(Tt,"|").split("|").map(di).join("")}(Dt.alias),Dt.overlapping=!!Dt.overlapping)}),qe}(Object.keys(je).map(Rt=>je[Rt]))}((Dt.disableDefaultBps?[]:Oi).concat(Dt.addOrientationBps?Zt:[]),je)}});let ft=(()=>{class qe{constructor(je){this.findByMap=new Map,this.items=[...je].sort(vi)}findByAlias(je){return je?this.findWithPredicate(je,Rt=>Rt.alias===je):null}findByQuery(je){return this.findWithPredicate(je,Rt=>Rt.mediaQuery===je)}get overlappings(){return this.items.filter(je=>je.overlapping)}get aliases(){return this.items.map(je=>je.alias)}get suffixes(){return this.items.map(je=>je?.suffix??"")}findWithPredicate(je,Rt){let Te=this.findByMap.get(je);return Te||(Te=this.items.find(Rt)??null,this.findByMap.set(je,Te)),Te??null}}return qe.\u0275fac=function(je){return new(je||qe)(b.KVO(Ut))},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();const Wt="print",tt={alias:Wt,mediaQuery:Wt,priority:1e3};let Yt=(()=>{class qe{constructor(je,Rt,Te){this.breakpoints=je,this.layoutConfig=Rt,this._document=Te,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Mi,this.deactivations=[]}withPrintQuery(je){return[...je,Wt]}isPrintEvent(je){return je.mediaQuery.startsWith(Wt)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(je=>this.breakpoints.findByAlias(je)).filter(je=>null!==je)}getEventBreakpoints({mediaQuery:je}){const Rt=this.breakpoints.findByQuery(je);return(Rt?[...this.printBreakPoints,Rt]:this.printBreakPoints).sort(Ht)}updateEvent(je){let Rt=this.breakpoints.findByQuery(je.mediaQuery);return this.isPrintEvent(je)&&(Rt=this.getEventBreakpoints(je)[0],je.mediaQuery=Rt?.mediaQuery??""),oi(je,Rt)}registerBeforeAfterPrintHooks(je){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const Rt=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(je,this.getEventBreakpoints(new P(!0,Wt))),je.updateStyles())},Te=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(je),je.updateStyles())};this._document.defaultView.addEventListener("beforeprint",Rt),this._document.defaultView.addEventListener("afterprint",Te),this.beforePrintEventListeners.push(Rt),this.afterPrintEventListeners.push(Te)}interceptEvents(je){return Rt=>{this.isPrintEvent(Rt)?Rt.matches&&!this.isPrinting?(this.startPrinting(je,this.getEventBreakpoints(Rt)),je.updateStyles()):!Rt.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(je),je.updateStyles()):this.collectActivations(je,Rt)}}blockPropagation(){return je=>!(this.isPrinting||this.isPrintEvent(je))}startPrinting(je,Rt){this.isPrinting=!0,this.formerActivations=je.activatedBreakpoints,je.activatedBreakpoints=this.queue.addPrintBreakpoints(Rt)}stopPrinting(je){je.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(je,Rt){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!Rt.matches){const Te=this.breakpoints.findByQuery(Rt.mediaQuery);if(Te){const bt=this.formerActivations&&this.formerActivations.includes(Te),Gt=!this.formerActivations&&je.activatedBreakpoints.includes(Te);(bt||Gt)&&(this.deactivations.push(Te),this.deactivations.sort(Ht))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(je=>this._document.defaultView.removeEventListener("beforeprint",je)),this.afterPrintEventListeners.forEach(je=>this._document.defaultView.removeEventListener("afterprint",je)))}}return qe.\u0275fac=function(je){return new(je||qe)(b.KVO(ft),b.KVO(qt),b.KVO(O.qQ))},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();class Mi{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Dt){return Dt.push(tt),Dt.sort(Ht),Dt.forEach(je=>this.addBreakpoint(je)),this.printBreakpoints}addBreakpoint(Dt){Dt&&void 0===this.printBreakpoints.find(Rt=>Rt.mediaQuery===Dt.mediaQuery)&&(this.printBreakpoints=function Qi(qe){return qe?.mediaQuery.startsWith(Wt)??!1}(Dt)?[Dt,...this.printBreakpoints]:[...this.printBreakpoints,Dt])}clear(){this.printBreakpoints=[]}}let tn=(()=>{class qe{constructor(je,Rt,Te){this.matchMedia=je,this.breakpoints=Rt,this.hook=Te,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ke.B,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(je){this._activatedBreakpoints=[...je]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(je){this._useFallbacks=je}onMediaChange(je){const Rt=this.findByQuery(je.mediaQuery);if(Rt){je=oi(je,Rt);const Te=this.activatedBreakpoints.indexOf(Rt);je.matches&&-1===Te?(this._activatedBreakpoints.push(Rt),this._activatedBreakpoints.sort(Ht),this.updateStyles()):!je.matches&&-1!==Te&&(this._activatedBreakpoints.splice(Te,1),this._activatedBreakpoints.sort(Ht),this.updateStyles())}}init(je,Rt,Te,bt,Gt=[]){dn(this.updateMap,je,Rt,Te),dn(this.clearMap,je,Rt,bt),this.buildElementKeyMap(je,Rt),this.watchExtraTriggers(je,Rt,Gt)}getValue(je,Rt,Te){const bt=this.elementMap.get(je);if(bt){const Gt=void 0!==Te?bt.get(Te):this.getActivatedValues(bt,Rt);if(Gt)return Gt.get(Rt)}}hasValue(je,Rt){const Te=this.elementMap.get(je);if(Te){const bt=this.getActivatedValues(Te,Rt);if(bt)return void 0!==bt.get(Rt)||!1}return!1}setValue(je,Rt,Te,bt){let Gt=this.elementMap.get(je);if(Gt){const te=(Gt.get(bt)??new Map).set(Rt,Te);Gt.set(bt,te),this.elementMap.set(je,Gt)}else Gt=(new Map).set(bt,(new Map).set(Rt,Te)),this.elementMap.set(je,Gt);const Pe=this.getValue(je,Rt);void 0!==Pe&&this.updateElement(je,Rt,Pe)}trackValue(je,Rt){return this.subject.asObservable().pipe((0,rt.p)(Te=>Te.element===je&&Te.key===Rt))}updateStyles(){this.elementMap.forEach((je,Rt)=>{const Te=new Set(this.elementKeyMap.get(Rt));let bt=this.getActivatedValues(je);bt&&bt.forEach((Gt,Pe)=>{this.updateElement(Rt,Pe,Gt),Te.delete(Pe)}),Te.forEach(Gt=>{if(bt=this.getActivatedValues(je,Gt),bt){const Pe=bt.get(Gt);this.updateElement(Rt,Gt,Pe)}else this.clearElement(Rt,Gt)})})}clearElement(je,Rt){const Te=this.clearMap.get(je);if(Te){const bt=Te.get(Rt);bt&&(bt(),this.subject.next({element:je,key:Rt,value:""}))}}updateElement(je,Rt,Te){const bt=this.updateMap.get(je);if(bt){const Gt=bt.get(Rt);Gt&&(Gt(Te),this.subject.next({element:je,key:Rt,value:Te}))}}releaseElement(je){const Rt=this.watcherMap.get(je);Rt&&(Rt.forEach(bt=>bt.unsubscribe()),this.watcherMap.delete(je));const Te=this.elementMap.get(je);Te&&(Te.forEach((bt,Gt)=>Te.delete(Gt)),this.elementMap.delete(je))}triggerUpdate(je,Rt){const Te=this.elementMap.get(je);if(Te){const bt=this.getActivatedValues(Te,Rt);bt&&(Rt?this.updateElement(je,Rt,bt.get(Rt)):bt.forEach((Gt,Pe)=>this.updateElement(je,Pe,Gt)))}}buildElementKeyMap(je,Rt){let Te=this.elementKeyMap.get(je);Te||(Te=new Set,this.elementKeyMap.set(je,Te)),Te.add(Rt)}watchExtraTriggers(je,Rt,Te){if(Te&&Te.length){let bt=this.watcherMap.get(je);if(bt||(bt=new Map,this.watcherMap.set(je,bt)),!bt.get(Rt)){const Pe=(0,K.h)(...Te).subscribe(()=>{const te=this.getValue(je,Rt);this.updateElement(je,Rt,te)});bt.set(Rt,Pe)}}}findByQuery(je){return this.breakpoints.findByQuery(je)}getActivatedValues(je,Rt){for(let bt=0;bt<this.activatedBreakpoints.length;bt++){const Pe=je.get(this.activatedBreakpoints[bt].alias);if(Pe&&(void 0===Rt||Pe.has(Rt)&&null!=Pe.get(Rt)))return Pe}if(!this._useFallbacks)return;const Te=je.get("");return void 0===Rt||Te&&Te.has(Rt)?Te:void 0}observeActivations(){const je=this.breakpoints.items.map(Rt=>Rt.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(je)).pipe((0,ie.M)(this.hook.interceptEvents(this)),(0,rt.p)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return qe.\u0275fac=function(je){return new(je||qe)(b.KVO(Et),b.KVO(ft),b.KVO(Yt))},qe.\u0275prov=b.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();function dn(qe,Dt,je,Rt){if(void 0!==Rt){const Te=qe.get(Dt)??new Map;Te.set(je,Rt),qe.set(Dt,Te)}}let gn=(()=>{class qe{constructor(je,Rt,Te,bt){this.elementRef=je,this.styleBuilder=Rt,this.styler=Te,this.marshal=bt,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ke.B,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(je){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,je,this.marshal.activatedAlias)}ngOnChanges(je){Object.keys(je).forEach(Rt=>{if(-1!==this.inputs.indexOf(Rt)){const Te=Rt.split(".").slice(1).join(".");this.setValue(je[Rt].currentValue,Te)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(je=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),je)}addStyles(je,Rt){const Te=this.styleBuilder,bt=Te.shouldCache;let Gt=this.styleCache.get(je);(!Gt||!bt)&&(Gt=Te.buildStyles(je,Rt),bt&&this.styleCache.set(je,Gt)),this.mru={...Gt},this.applyStyleToElement(Gt),Te.sideEffect(je,Gt,Rt)}clearStyles(){Object.keys(this.mru).forEach(je=>{this.mru[je]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(je,Rt=!1){if(je){const[Te,bt]=this.styler.getFlowDirection(je);if(!bt&&Rt){const Gt=(0,j.uG)(Te);this.styler.applyStyleToElements(Gt,[je])}return Te.trim()}return"row"}hasWrap(je){return this.styler.hasWrap(je)}applyStyleToElement(je,Rt,Te=this.nativeElement){this.styler.applyStyleToElement(Te,je,Rt)}setValue(je,Rt){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,je,Rt)}updateWithValue(je){this.currentValue!==je&&(this.addStyles(je),this.currentValue=je)}}return qe.\u0275fac=function(je){return new(je||qe)(b.rXU(b.aKT),b.rXU(q),b.rXU(Ot),b.rXU(tn))},qe.\u0275dir=b.FsC({type:qe,features:[b.OA$]}),qe})();function Qe(qe,Dt="1",je="1"){let Rt=[Dt,je,qe],Te=qe.indexOf("calc");if(Te>0){Rt[2]=ui(qe.substring(Te).trim());let bt=qe.substr(0,Te).trim().split(" ");2==bt.length&&(Rt[0]=bt[0],Rt[1]=bt[1])}else if(0==Te)Rt[2]=ui(qe.trim());else{let bt=qe.split(" ");Rt=3===bt.length?bt:[Dt,je,qe]}return Rt}function ui(qe){return qe.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;const xe="x";function Pt(qe,Dt){if(void 0===Dt)return qe;const je=Rt=>{const Te=+Rt.slice(0,-xe.length);return qe.endsWith(xe)&&!isNaN(Te)?`${Te*Dt.value}${Dt.unit}`:qe};return qe.includes(" ")?qe.split(" ").map(je).join(" "):je(qe)}},6038:(Ui,ni,N)=>{"use strict";N.d(ni,{Cc:()=>Qt,PW:()=>Ct});var b=N(7705),O=N(9340),E=N(177);N(4085),N(6977),N(345);let ue=(()=>{class lt extends O.DJ{constructor(ii,ut,yt,Zt,Tt,di,st){super(ii,null,ut,yt),this.ngClassInstance=st,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new E.YU(Zt,Tt,ii,di)),this.init(),this.setValue("","")}set klass(ii){this.ngClassInstance.klass=ii,this.setValue(ii,"")}updateWithValue(ii){this.ngClassInstance.ngClass=ii,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return lt.\u0275fac=function(ii){return new(ii||lt)(b.rXU(b.aKT),b.rXU(O.ZH),b.rXU(O.qH),b.rXU(b._q3),b.rXU(b.MKu),b.rXU(b.sFG),b.rXU(E.YU,10))},lt.\u0275dir=b.FsC({type:lt,inputs:{klass:["class","klass"]},features:[b.Vt3]}),lt})();const P=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let Ct=(()=>{class lt extends ue{constructor(){super(...arguments),this.inputs=P}}return lt.\u0275fac=function(){let wt;return function(ut){return(wt||(wt=b.xGo(lt)))(ut||lt)}}(),lt.\u0275dir=b.FsC({type:lt,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[b.Vt3]}),lt})(),Qt=(()=>{class lt{}return lt.\u0275fac=function(ii){return new(ii||lt)},lt.\u0275mod=b.$C({type:lt}),lt.\u0275inj=b.G2t({imports:[O.Ui]}),lt})()},2920:(Ui,ni,N)=>{"use strict";N.d(ni,{DJ:()=>Ce,UI:()=>Ci,w2:()=>Gt});var b=N(7705),O=N(8203),E=N(9340),ye=N(4545),Ke=(N(1413),N(6977));let j=(()=>{class Pe extends E.r3{buildStyles(ge,{display:Re}){const Ve=(0,ye.uG)(ge);return{...Ve,display:"none"===Re?Re:Ve.display}}}return Pe.\u0275fac=function(){let te;return function(Re){return(te||(te=b.xGo(Pe)))(Re||Pe)}}(),Pe.\u0275prov=b.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();const rt=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ee=(()=>{class Pe extends E.DJ{constructor(ge,Re,Ve,zt,Ri){super(ge,Ve,Re,zt),this._config=Ri,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(ge){const Ve=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=ve.get(Ve)??new Map,ve.set(Ve,this.styleCache),this.currentValue!==ge&&(this.addStyles(ge,{display:Ve}),this.currentValue=ge)}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(b.rXU(b.aKT),b.rXU(E.ZH),b.rXU(j),b.rXU(E.qH),b.rXU(E.EA))},Pe.\u0275dir=b.FsC({type:Pe,features:[b.Vt3]}),Pe})(),Ce=(()=>{class Pe extends ee{constructor(){super(...arguments),this.inputs=rt}}return Pe.\u0275fac=function(){let te;return function(Re){return(te||(te=b.xGo(Pe)))(Re||Pe)}}(),Pe.\u0275dir=b.FsC({type:Pe,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[b.Vt3]}),Pe})();const ve=new Map;let vi=(()=>{class Pe extends E.r3{constructor(ge){super(),this.layoutConfig=ge}buildStyles(ge,Re){let[Ve,zt,...Ri]=ge.split(" "),_t=Ri.join(" ");const at=Re.direction.indexOf("column")>-1?"column":"row",Se=(0,ye.Vc)(at)?"max-width":"max-height",Me=(0,ye.Vc)(at)?"min-width":"min-height",Nt=String(_t).indexOf("calc")>-1,Ii=Nt||"auto"===_t,On=String(_t).indexOf("%")>-1&&!Nt,Di=String(_t).indexOf("px")>-1||String(_t).indexOf("rem")>-1||String(_t).indexOf("em")>-1||String(_t).indexOf("vw")>-1||String(_t).indexOf("vh")>-1;let Zi=Nt||Di;Ve="0"==Ve?0:Ve,zt="0"==zt?0:zt;const Lt=!Ve&&!zt;let ai={};const ki={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(_t||""){case"":_t="row"===at?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":Ve=0,_t="auto";break;case"grow":_t="100%";break;case"noshrink":zt=0,_t="auto";break;case"auto":break;case"none":Ve=0,zt=0,_t="auto";break;default:!Zi&&!On&&!isNaN(_t)&&(_t+="%"),"0%"===_t&&(Zi=!0),"0px"===_t&&(_t="0%"),ai=(0,ye.C5)(ki,Nt?{"flex-grow":Ve,"flex-shrink":zt,"flex-basis":Zi?_t:"100%"}:{flex:`${Ve} ${zt} ${Zi?_t:"100%"}`})}return ai.flex||ai["flex-grow"]||(ai=(0,ye.C5)(ki,Nt?{"flex-grow":Ve,"flex-shrink":zt,"flex-basis":_t}:{flex:`${Ve} ${zt} ${_t}`})),"0%"!==_t&&"0px"!==_t&&"0.000000001px"!==_t&&"auto"!==_t&&(ai[Me]=Lt||Zi&&Ve?_t:null,ai[Se]=Lt||!Ii&&zt?_t:null),ai[Me]||ai[Se]?Re.hasWrap&&(ai[Nt?"flex-basis":"flex"]=ai[Se]?Nt?ai[Se]:`${Ve} ${zt} ${ai[Se]}`:Nt?ai[Me]:`${Ve} ${zt} ${ai[Me]}`):ai=(0,ye.C5)(ki,Nt?{"flex-grow":Ve,"flex-shrink":zt,"flex-basis":_t}:{flex:`${Ve} ${zt} ${_t}`}),(0,ye.C5)(ai,{"box-sizing":"border-box"})}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(b.KVO(E.EA))},Pe.\u0275prov=b.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();const Et=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let bi=(()=>{class Pe extends E.DJ{constructor(ge,Re,Ve,zt,Ri){super(ge,zt,Re,Ri),this.layoutConfig=Ve,this.marshal=Ri,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(ge){this.flexShrink=ge||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(ge){this.flexGrow=ge||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Ke.Q)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Ke.Q)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(ge){const Ve=ge.value.split(" ");this.direction=Ve[0],this.wrap=void 0!==Ve[1]&&"wrap"===Ve[1],this.triggerUpdate()}updateWithValue(ge){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Ve=this.direction,zt=Ve.startsWith("row"),Ri=this.wrap;zt&&Ri?this.styleCache=Cn:zt&&!Ri?this.styleCache=an:!zt&&Ri?this.styleCache=Qt:!zt&&!Ri&&(this.styleCache=Oi);const _t=String(ge).replace(";",""),at=(0,E.hN)(_t,this.flexGrow,this.flexShrink);this.addStyles(at.join(" "),{direction:Ve,hasWrap:Ri})}triggerReflow(){const ge=this.activatedValue;if(void 0!==ge){const Re=(0,E.hN)(ge+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Re.join(" "))}}}return Pe.\u0275fac=function(ge){return new(ge||Pe)(b.rXU(b.aKT),b.rXU(E.ZH),b.rXU(E.EA),b.rXU(vi),b.rXU(E.qH))},Pe.\u0275dir=b.FsC({type:Pe,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[b.Vt3]}),Pe})(),Ci=(()=>{class Pe extends bi{constructor(){super(...arguments),this.inputs=Et}}return Pe.\u0275fac=function(){let te;return function(Re){return(te||(te=b.xGo(Pe)))(Re||Pe)}}(),Pe.\u0275dir=b.FsC({type:Pe,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[b.Vt3]}),Pe})();const an=new Map,Oi=new Map,Cn=new Map,Qt=new Map;let Gt=(()=>{class Pe{}return Pe.\u0275fac=function(ge){return new(ge||Pe)},Pe.\u0275mod=b.$C({type:Pe}),Pe.\u0275inj=b.G2t({imports:[E.Ui,O.jI]}),Pe})()},9417:(Ui,ni,N)=>{"use strict";N.d(ni,{$R:()=>ls,BC:()=>Mi,JD:()=>An,MJ:()=>et,X1:()=>bl,YN:()=>pc,YS:()=>ws,cV:()=>En,cb:()=>Qi,cz:()=>qt,j4:()=>fo,k0:()=>oi,kq:()=>rt,l_:()=>Hr,me:()=>P,ok:()=>zo,qT:()=>Er,vO:()=>ft,vS:()=>Ao,wz:()=>fa,xH:()=>Xo,xq:()=>ns,y7:()=>ta});var b=N(7705),O=N(177),E=N(6648),ye=N(7468),K=N(6354);let Ke=(()=>{class Ze{constructor(De,kt){this._renderer=De,this._elementRef=kt,this.onChange=Si=>{},this.onTouched=()=>{}}setProperty(De,kt){this._renderer.setProperty(this._elementRef.nativeElement,De,kt)}registerOnTouched(De){this.onTouched=De}registerOnChange(De){this.onChange=De}setDisabledState(De){this.setProperty("disabled",De)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(b.sFG),b.rXU(b.aKT))}}static{this.\u0275dir=b.FsC({type:Ze})}}return Ze})(),j=(()=>{class Ze extends Ke{static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,features:[b.Vt3]})}}return Ze})();const rt=new b.nKC("NgValueAccessor"),Ce={provide:rt,useExisting:(0,b.Rfq)(()=>P),multi:!0},ue=new b.nKC("CompositionEventMode");let P=(()=>{class Ze extends Ke{constructor(De,kt,Si){super(De,kt),this._compositionMode=Si,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ve(){const Ze=(0,O.QT)()?(0,O.QT)().getUserAgent():"";return/android (\d+)/.test(Ze.toLowerCase())}())}writeValue(De){this.setProperty("value",De??"")}_handleInput(De){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(De)}_compositionStart(){this._composing=!0}_compositionEnd(De){this._composing=!1,this._compositionMode&&this.onChange(De)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(b.sFG),b.rXU(b.aKT),b.rXU(ue,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(kt,Si){1&kt&&b.bIt("input",function(Ar){return Si._handleInput(Ar.target.value)})("blur",function(){return Si.onTouched()})("compositionstart",function(){return Si._compositionStart()})("compositionend",function(Ar){return Si._compositionEnd(Ar.target.value)})},features:[b.Jv_([Ce]),b.Vt3]})}}return Ze})();function Be(Ze){return null==Ze||("string"==typeof Ze||Array.isArray(Ze))&&0===Ze.length}function Ct(Ze){return null!=Ze&&"number"==typeof Ze.length}const qt=new b.nKC("NgValidators"),pt=new b.nKC("NgAsyncValidators"),Ai=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oi{static min(ot){return function q(Ze){return ot=>{if(Be(ot.value)||Be(Ze))return null;const De=parseFloat(ot.value);return!isNaN(De)&&De<Ze?{min:{min:Ze,actual:ot.value}}:null}}(ot)}static max(ot){return function Ot(Ze){return ot=>{if(Be(ot.value)||Be(Ze))return null;const De=parseFloat(ot.value);return!isNaN(De)&&De>Ze?{max:{max:Ze,actual:ot.value}}:null}}(ot)}static required(ot){return Oe(ot)}static requiredTrue(ot){return Le(ot)}static email(ot){return function We(Ze){return Be(Ze.value)||Ai.test(Ze.value)?null:{email:!0}}(ot)}static minLength(ot){return function Ye(Ze){return ot=>Be(ot.value)||!Ct(ot.value)?null:ot.value.length<Ze?{minlength:{requiredLength:Ze,actualLength:ot.value.length}}:null}(ot)}static maxLength(ot){return function Ht(Ze){return ot=>Ct(ot.value)&&ot.value.length>Ze?{maxlength:{requiredLength:Ze,actualLength:ot.value.length}}:null}(ot)}static pattern(ot){return function vi(Ze){if(!Ze)return Et;let ot,De;return"string"==typeof Ze?(De="","^"!==Ze.charAt(0)&&(De+="^"),De+=Ze,"$"!==Ze.charAt(Ze.length-1)&&(De+="$"),ot=new RegExp(De)):(De=Ze.toString(),ot=Ze),kt=>{if(Be(kt.value))return null;const Si=kt.value;return ot.test(Si)?null:{pattern:{requiredPattern:De,actualValue:Si}}}}(ot)}static nullValidator(ot){return null}static compose(ot){return Qt(ot)}static composeAsync(ot){return wt(ot)}}function Oe(Ze){return Be(Ze.value)?{required:!0}:null}function Le(Ze){return!0===Ze.value?null:{required:!0}}function Et(Ze){return null}function wi(Ze){return null!=Ze}function bi(Ze){return(0,b.jNT)(Ze)?(0,E.H)(Ze):Ze}function Ci(Ze){let ot={};return Ze.forEach(De=>{ot=null!=De?{...ot,...De}:ot}),0===Object.keys(ot).length?null:ot}function an(Ze,ot){return ot.map(De=>De(Ze))}function Cn(Ze){return Ze.map(ot=>function Oi(Ze){return!Ze.validate}(ot)?ot:De=>ot.validate(De))}function Qt(Ze){if(!Ze)return null;const ot=Ze.filter(wi);return 0==ot.length?null:function(De){return Ci(an(De,ot))}}function lt(Ze){return null!=Ze?Qt(Cn(Ze)):null}function wt(Ze){if(!Ze)return null;const ot=Ze.filter(wi);return 0==ot.length?null:function(De){const kt=an(De,ot).map(bi);return(0,ye.p)(kt).pipe((0,K.T)(Ci))}}function ii(Ze){return null!=Ze?wt(Cn(Ze)):null}function ut(Ze,ot){return null===Ze?[ot]:Array.isArray(Ze)?[...Ze,ot]:[Ze,ot]}function yt(Ze){return Ze._rawValidators}function Zt(Ze){return Ze._rawAsyncValidators}function Tt(Ze){return Ze?Array.isArray(Ze)?Ze:[Ze]:[]}function di(Ze,ot){return Array.isArray(Ze)?Ze.includes(ot):Ze===ot}function st(Ze,ot){const De=Tt(ot);return Tt(Ze).forEach(Si=>{di(De,Si)||De.push(Si)}),De}function ri(Ze,ot){return Tt(ot).filter(De=>!di(Ze,De))}class ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ot){this._rawValidators=ot||[],this._composedValidatorFn=lt(this._rawValidators)}_setAsyncValidators(ot){this._rawAsyncValidators=ot||[],this._composedAsyncValidatorFn=ii(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ot){this._onDestroyCallbacks.push(ot)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ot=>ot()),this._onDestroyCallbacks=[]}reset(ot=void 0){this.control&&this.control.reset(ot)}hasError(ot,De){return!!this.control&&this.control.hasError(ot,De)}getError(ot,De){return this.control?this.control.getError(ot,De):null}}class Ut extends ct{get formDirective(){return null}get path(){return null}}class ft extends ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wt{constructor(ot){this._cd=ot}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mi=(()=>{class Ze extends Wt{constructor(De){super(De)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(ft,2))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(kt,Si){2&kt&&b.AVh("ng-untouched",Si.isUntouched)("ng-touched",Si.isTouched)("ng-pristine",Si.isPristine)("ng-dirty",Si.isDirty)("ng-valid",Si.isValid)("ng-invalid",Si.isInvalid)("ng-pending",Si.isPending)},features:[b.Vt3]})}}return Ze})(),Qi=(()=>{class Ze extends Wt{constructor(De){super(De)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(Ut,10))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(kt,Si){2&kt&&b.AVh("ng-untouched",Si.isUntouched)("ng-touched",Si.isTouched)("ng-pristine",Si.isPristine)("ng-dirty",Si.isDirty)("ng-valid",Si.isValid)("ng-invalid",Si.isInvalid)("ng-pending",Si.isPending)("ng-submitted",Si.isSubmitted)},features:[b.Vt3]})}}return Ze})();const je="VALID",Rt="INVALID",Te="PENDING",bt="DISABLED";function Gt(Ze){return(Re(Ze)?Ze.validators:Ze)||null}function te(Ze,ot){return(Re(ot)?ot.asyncValidators:Ze)||null}function Re(Ze){return null!=Ze&&!Array.isArray(Ze)&&"object"==typeof Ze}function Ve(Ze,ot,De){const kt=Ze.controls;if(!(ot?Object.keys(kt):kt).length)throw new b.wOt(1e3,"");if(!kt[De])throw new b.wOt(1001,"")}function zt(Ze,ot,De){Ze._forEachChild((kt,Si)=>{if(void 0===De[Si])throw new b.wOt(1002,"")})}class Ri{constructor(ot,De){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ot),this._assignAsyncValidators(De)}get validator(){return this._composedValidatorFn}set validator(ot){this._rawValidators=this._composedValidatorFn=ot}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ot){this._rawAsyncValidators=this._composedAsyncValidatorFn=ot}get parent(){return this._parent}get valid(){return this.status===je}get invalid(){return this.status===Rt}get pending(){return this.status==Te}get disabled(){return this.status===bt}get enabled(){return this.status!==bt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ot){this._assignValidators(ot)}setAsyncValidators(ot){this._assignAsyncValidators(ot)}addValidators(ot){this.setValidators(st(ot,this._rawValidators))}addAsyncValidators(ot){this.setAsyncValidators(st(ot,this._rawAsyncValidators))}removeValidators(ot){this.setValidators(ri(ot,this._rawValidators))}removeAsyncValidators(ot){this.setAsyncValidators(ri(ot,this._rawAsyncValidators))}hasValidator(ot){return di(this._rawValidators,ot)}hasAsyncValidator(ot){return di(this._rawAsyncValidators,ot)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ot={}){this.touched=!0,this._parent&&!ot.onlySelf&&this._parent.markAsTouched(ot)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ot=>ot.markAllAsTouched())}markAsUntouched(ot={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(De=>{De.markAsUntouched({onlySelf:!0})}),this._parent&&!ot.onlySelf&&this._parent._updateTouched(ot)}markAsDirty(ot={}){this.pristine=!1,this._parent&&!ot.onlySelf&&this._parent.markAsDirty(ot)}markAsPristine(ot={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(De=>{De.markAsPristine({onlySelf:!0})}),this._parent&&!ot.onlySelf&&this._parent._updatePristine(ot)}markAsPending(ot={}){this.status=Te,!1!==ot.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ot.onlySelf&&this._parent.markAsPending(ot)}disable(ot={}){const De=this._parentMarkedDirty(ot.onlySelf);this.status=bt,this.errors=null,this._forEachChild(kt=>{kt.disable({...ot,onlySelf:!0})}),this._updateValue(),!1!==ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ot,skipPristineCheck:De}),this._onDisabledChange.forEach(kt=>kt(!0))}enable(ot={}){const De=this._parentMarkedDirty(ot.onlySelf);this.status=je,this._forEachChild(kt=>{kt.enable({...ot,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ot.emitEvent}),this._updateAncestors({...ot,skipPristineCheck:De}),this._onDisabledChange.forEach(kt=>kt(!1))}_updateAncestors(ot){this._parent&&!ot.onlySelf&&(this._parent.updateValueAndValidity(ot),ot.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ot){this._parent=ot}getRawValue(){return this.value}updateValueAndValidity(ot={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===je||this.status===Te)&&this._runAsyncValidator(ot.emitEvent)),!1!==ot.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ot.onlySelf&&this._parent.updateValueAndValidity(ot)}_updateTreeValidity(ot={emitEvent:!0}){this._forEachChild(De=>De._updateTreeValidity(ot)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ot.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bt:je}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ot){if(this.asyncValidator){this.status=Te,this._hasOwnPendingAsyncValidator=!0;const De=bi(this.asyncValidator(this));this._asyncValidationSubscription=De.subscribe(kt=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(kt,{emitEvent:ot})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ot,De={}){this.errors=ot,this._updateControlsErrors(!1!==De.emitEvent)}get(ot){let De=ot;return null==De||(Array.isArray(De)||(De=De.split(".")),0===De.length)?null:De.reduce((kt,Si)=>kt&&kt._find(Si),this)}getError(ot,De){const kt=De?this.get(De):this;return kt&&kt.errors?kt.errors[ot]:null}hasError(ot,De){return!!this.getError(ot,De)}get root(){let ot=this;for(;ot._parent;)ot=ot._parent;return ot}_updateControlsErrors(ot){this.status=this._calculateStatus(),ot&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ot)}_initObservables(){this.valueChanges=new b.bkB,this.statusChanges=new b.bkB}_calculateStatus(){return this._allControlsDisabled()?bt:this.errors?Rt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Te)?Te:this._anyControlsHaveStatus(Rt)?Rt:je}_anyControlsHaveStatus(ot){return this._anyControls(De=>De.status===ot)}_anyControlsDirty(){return this._anyControls(ot=>ot.dirty)}_anyControlsTouched(){return this._anyControls(ot=>ot.touched)}_updatePristine(ot={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ot.onlySelf&&this._parent._updatePristine(ot)}_updateTouched(ot={}){this.touched=this._anyControlsTouched(),this._parent&&!ot.onlySelf&&this._parent._updateTouched(ot)}_registerOnCollectionChange(ot){this._onCollectionChange=ot}_setUpdateStrategy(ot){Re(ot)&&null!=ot.updateOn&&(this._updateOn=ot.updateOn)}_parentMarkedDirty(ot){return!ot&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ot){return null}_assignValidators(ot){this._rawValidators=Array.isArray(ot)?ot.slice():ot,this._composedValidatorFn=function Pe(Ze){return Array.isArray(Ze)?lt(Ze):Ze||null}(this._rawValidators)}_assignAsyncValidators(ot){this._rawAsyncValidators=Array.isArray(ot)?ot.slice():ot,this._composedAsyncValidatorFn=function ge(Ze){return Array.isArray(Ze)?ii(Ze):Ze||null}(this._rawAsyncValidators)}}class _t extends Ri{constructor(ot,De,kt){super(Gt(De),te(kt,De)),this.controls=ot,this._initObservables(),this._setUpdateStrategy(De),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ot,De){return this.controls[ot]?this.controls[ot]:(this.controls[ot]=De,De.setParent(this),De._registerOnCollectionChange(this._onCollectionChange),De)}addControl(ot,De,kt={}){this.registerControl(ot,De),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}removeControl(ot,De={}){this.controls[ot]&&this.controls[ot]._registerOnCollectionChange(()=>{}),delete this.controls[ot],this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}setControl(ot,De,kt={}){this.controls[ot]&&this.controls[ot]._registerOnCollectionChange(()=>{}),delete this.controls[ot],De&&this.registerControl(ot,De),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}contains(ot){return this.controls.hasOwnProperty(ot)&&this.controls[ot].enabled}setValue(ot,De={}){zt(this,0,ot),Object.keys(ot).forEach(kt=>{Ve(this,!0,kt),this.controls[kt].setValue(ot[kt],{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De)}patchValue(ot,De={}){null!=ot&&(Object.keys(ot).forEach(kt=>{const Si=this.controls[kt];Si&&Si.patchValue(ot[kt],{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De))}reset(ot={},De={}){this._forEachChild((kt,Si)=>{kt.reset(ot?ot[Si]:null,{onlySelf:!0,emitEvent:De.emitEvent})}),this._updatePristine(De),this._updateTouched(De),this.updateValueAndValidity(De)}getRawValue(){return this._reduceChildren({},(ot,De,kt)=>(ot[kt]=De.getRawValue(),ot))}_syncPendingControls(){let ot=this._reduceChildren(!1,(De,kt)=>!!kt._syncPendingControls()||De);return ot&&this.updateValueAndValidity({onlySelf:!0}),ot}_forEachChild(ot){Object.keys(this.controls).forEach(De=>{const kt=this.controls[De];kt&&ot(kt,De)})}_setUpControls(){this._forEachChild(ot=>{ot.setParent(this),ot._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ot){for(const[De,kt]of Object.entries(this.controls))if(this.contains(De)&&ot(kt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(De,kt,Si)=>((kt.enabled||this.disabled)&&(De[Si]=kt.value),De))}_reduceChildren(ot,De){let kt=ot;return this._forEachChild((Si,$n)=>{kt=De(kt,Si,$n)}),kt}_allControlsDisabled(){for(const ot of Object.keys(this.controls))if(this.controls[ot].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ot){return this.controls.hasOwnProperty(ot)?this.controls[ot]:null}}class Me extends _t{}const Ii=new b.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>On}),On="always";function Di(Ze,ot){return[...ot.path,Ze]}function Zi(Ze,ot,De=On){li(Ze,ot),ot.valueAccessor.writeValue(Ze.value),(Ze.disabled||"always"===De)&&ot.valueAccessor.setDisabledState?.(Ze.disabled),function Ti(Ze,ot){ot.valueAccessor.registerOnChange(De=>{Ze._pendingValue=De,Ze._pendingChange=!0,Ze._pendingDirty=!0,"change"===Ze.updateOn&&ln(Ze,ot)})}(Ze,ot),function en(Ze,ot){const De=(kt,Si)=>{ot.valueAccessor.writeValue(kt),Si&&ot.viewToModelUpdate(kt)};Ze.registerOnChange(De),ot._registerOnDestroy(()=>{Ze._unregisterOnChange(De)})}(Ze,ot),function Xi(Ze,ot){ot.valueAccessor.registerOnTouched(()=>{Ze._pendingTouched=!0,"blur"===Ze.updateOn&&Ze._pendingChange&&ln(Ze,ot),"submit"!==Ze.updateOn&&Ze.markAsTouched()})}(Ze,ot),function ki(Ze,ot){if(ot.valueAccessor.setDisabledState){const De=kt=>{ot.valueAccessor.setDisabledState(kt)};Ze.registerOnDisabledChange(De),ot._registerOnDestroy(()=>{Ze._unregisterOnDisabledChange(De)})}}(Ze,ot)}function Lt(Ze,ot,De=!0){const kt=()=>{};ot.valueAccessor&&(ot.valueAccessor.registerOnChange(kt),ot.valueAccessor.registerOnTouched(kt)),ci(Ze,ot),Ze&&(ot._invokeOnDestroyCallbacks(),Ze._registerOnCollectionChange(()=>{}))}function ai(Ze,ot){Ze.forEach(De=>{De.registerOnValidatorChange&&De.registerOnValidatorChange(ot)})}function li(Ze,ot){const De=yt(Ze);null!==ot.validator?Ze.setValidators(ut(De,ot.validator)):"function"==typeof De&&Ze.setValidators([De]);const kt=Zt(Ze);null!==ot.asyncValidator?Ze.setAsyncValidators(ut(kt,ot.asyncValidator)):"function"==typeof kt&&Ze.setAsyncValidators([kt]);const Si=()=>Ze.updateValueAndValidity();ai(ot._rawValidators,Si),ai(ot._rawAsyncValidators,Si)}function ci(Ze,ot){let De=!1;if(null!==Ze){if(null!==ot.validator){const Si=yt(Ze);if(Array.isArray(Si)&&Si.length>0){const $n=Si.filter(Ar=>Ar!==ot.validator);$n.length!==Si.length&&(De=!0,Ze.setValidators($n))}}if(null!==ot.asyncValidator){const Si=Zt(Ze);if(Array.isArray(Si)&&Si.length>0){const $n=Si.filter(Ar=>Ar!==ot.asyncValidator);$n.length!==Si.length&&(De=!0,Ze.setAsyncValidators($n))}}}const kt=()=>{};return ai(ot._rawValidators,kt),ai(ot._rawAsyncValidators,kt),De}function ln(Ze,ot){Ze._pendingDirty&&Ze.markAsDirty(),Ze.setValue(Ze._pendingValue,{emitModelToViewChange:!1}),ot.viewToModelUpdate(Ze._pendingValue),Ze._pendingChange=!1}function fn(Ze,ot){li(Ze,ot)}function Po(Ze,ot){if(!Ze.hasOwnProperty("model"))return!1;const De=Ze.model;return!!De.isFirstChange()||!Object.is(ot,De.currentValue)}function nn(Ze,ot){Ze._syncPendingControls(),ot.forEach(De=>{const kt=De.control;"submit"===kt.updateOn&&kt._pendingChange&&(De.viewToModelUpdate(kt._pendingValue),kt._pendingChange=!1)})}function Mr(Ze,ot){if(!ot)return null;let De,kt,Si;return Array.isArray(ot),ot.forEach($n=>{$n.constructor===P?De=$n:function oo(Ze){return Object.getPrototypeOf(Ze.constructor)===j}($n)?kt=$n:Si=$n}),Si||kt||De||null}const pr={provide:Ut,useExisting:(0,b.Rfq)(()=>En)},ae=(()=>Promise.resolve())();let En=(()=>{class Ze extends Ut{constructor(De,kt,Si){super(),this.callSetDisabledState=Si,this.submitted=!1,this._directives=new Set,this.ngSubmit=new b.bkB,this.form=new _t({},lt(De),ii(kt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(De){ae.then(()=>{const kt=this._findContainer(De.path);De.control=kt.registerControl(De.name,De.control),Zi(De.control,De,this.callSetDisabledState),De.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(De)})}getControl(De){return this.form.get(De.path)}removeControl(De){ae.then(()=>{const kt=this._findContainer(De.path);kt&&kt.removeControl(De.name),this._directives.delete(De)})}addFormGroup(De){ae.then(()=>{const kt=this._findContainer(De.path),Si=new _t({});fn(Si,De),kt.registerControl(De.name,Si),Si.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(De){ae.then(()=>{const kt=this._findContainer(De.path);kt&&kt.removeControl(De.name)})}getFormGroup(De){return this.form.get(De.path)}updateModel(De,kt){ae.then(()=>{this.form.get(De.path).setValue(kt)})}setValue(De){this.control.setValue(De)}onSubmit(De){return this.submitted=!0,nn(this.form,this._directives),this.ngSubmit.emit(De),"dialog"===De?.target?.method}onReset(){this.resetForm()}resetForm(De=void 0){this.form.reset(De),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(De){return De.pop(),De.length?this.form.get(De):this.form}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(qt,10),b.rXU(pt,10),b.rXU(Ii,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(kt,Si){1&kt&&b.bIt("submit",function(Ar){return Si.onSubmit(Ar)})("reset",function(){return Si.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b.Jv_([pr]),b.Vt3]})}}return Ze})();function oe(Ze,ot){const De=Ze.indexOf(ot);De>-1&&Ze.splice(De,1)}function dt(Ze){return"object"==typeof Ze&&null!==Ze&&2===Object.keys(Ze).length&&"value"in Ze&&"disabled"in Ze}const et=class extends Ri{constructor(ot=null,De,kt){super(Gt(De),te(kt,De)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ot),this._setUpdateStrategy(De),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Re(De)&&(De.nonNullable||De.initialValueIsDefault)&&(this.defaultValue=dt(ot)?ot.value:ot)}setValue(ot,De={}){this.value=this._pendingValue=ot,this._onChange.length&&!1!==De.emitModelToViewChange&&this._onChange.forEach(kt=>kt(this.value,!1!==De.emitViewToModelChange)),this.updateValueAndValidity(De)}patchValue(ot,De={}){this.setValue(ot,De)}reset(ot=this.defaultValue,De={}){this._applyFormState(ot),this.markAsPristine(De),this.markAsUntouched(De),this.setValue(this.value,De),this._pendingChange=!1}_updateValue(){}_anyControls(ot){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ot){this._onChange.push(ot)}_unregisterOnChange(ot){oe(this._onChange,ot)}registerOnDisabledChange(ot){this._onDisabledChange.push(ot)}_unregisterOnDisabledChange(ot){oe(this._onDisabledChange,ot)}_forEachChild(ot){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ot){dt(ot)?(this.value=this._pendingValue=ot.value,ot.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ot}};let Un=(()=>{class Ze extends Ut{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Di(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,features:[b.Vt3]})}}return Ze})();const Rs={provide:ft,useExisting:(0,b.Rfq)(()=>Ao)},Rc=(()=>Promise.resolve())();let Ao=(()=>{class Ze extends ft{constructor(De,kt,Si,$n,Ar,Bo){super(),this._changeDetectorRef=Ar,this.callSetDisabledState=Bo,this.control=new et,this._registered=!1,this.name="",this.update=new b.bkB,this._parent=De,this._setValidators(kt),this._setAsyncValidators(Si),this.valueAccessor=Mr(0,$n)}ngOnChanges(De){if(this._checkForErrors(),!this._registered||"name"in De){if(this._registered&&(this._checkName(),this.formDirective)){const kt=De.name.previousValue;this.formDirective.removeControl({name:kt,path:this._getPath(kt)})}this._setUpControl()}"isDisabled"in De&&this._updateDisabled(De),Po(De,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(De){Rc.then(()=>{this.control.setValue(De,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(De){const kt=De.isDisabled.currentValue,Si=0!==kt&&(0,b.L39)(kt);Rc.then(()=>{Si&&!this.control.disabled?this.control.disable():!Si&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(De){return this._parent?Di(De,this._parent):[De]}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(Ut,9),b.rXU(qt,10),b.rXU(pt,10),b.rXU(rt,10),b.rXU(b.gRc,8),b.rXU(Ii,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[b.Jv_([Rs]),b.Vt3,b.OA$]})}}return Ze})(),Er=(()=>{class Ze{static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ze})(),So=(()=>{class Ze{static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275mod=b.$C({type:Ze})}static{this.\u0275inj=b.G2t({})}}return Ze})();const vr=new b.nKC("NgModelWithFormControlWarning"),Gr={provide:ft,useExisting:(0,b.Rfq)(()=>Hr)};let Hr=(()=>{class Ze extends ft{set isDisabled(De){}static{this._ngModelWarningSentOnce=!1}constructor(De,kt,Si,$n,Ar){super(),this._ngModelWarningConfig=$n,this.callSetDisabledState=Ar,this.update=new b.bkB,this._ngModelWarningSent=!1,this._setValidators(De),this._setAsyncValidators(kt),this.valueAccessor=Mr(0,Si)}ngOnChanges(De){if(this._isControlChanged(De)){const kt=De.form.previousValue;kt&&Lt(kt,this,!1),Zi(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Po(De,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Lt(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}_isControlChanged(De){return De.hasOwnProperty("form")}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(qt,10),b.rXU(pt,10),b.rXU(rt,10),b.rXU(vr,8),b.rXU(Ii,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[b.Jv_([Gr]),b.Vt3,b.OA$]})}}return Ze})();const ha={provide:Ut,useExisting:(0,b.Rfq)(()=>fo)};let fo=(()=>{class Ze extends Ut{constructor(De,kt,Si){super(),this.callSetDisabledState=Si,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new b.bkB,this._setValidators(De),this._setAsyncValidators(kt)}ngOnChanges(De){this._checkFormPresent(),De.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ci(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(De){const kt=this.form.get(De.path);return Zi(kt,De,this.callSetDisabledState),kt.updateValueAndValidity({emitEvent:!1}),this.directives.push(De),kt}getControl(De){return this.form.get(De.path)}removeControl(De){Lt(De.control||null,De,!1),function to(Ze,ot){const De=Ze.indexOf(ot);De>-1&&Ze.splice(De,1)}(this.directives,De)}addFormGroup(De){this._setUpFormContainer(De)}removeFormGroup(De){this._cleanUpFormContainer(De)}getFormGroup(De){return this.form.get(De.path)}addFormArray(De){this._setUpFormContainer(De)}removeFormArray(De){this._cleanUpFormContainer(De)}getFormArray(De){return this.form.get(De.path)}updateModel(De,kt){this.form.get(De.path).setValue(kt)}onSubmit(De){return this.submitted=!0,nn(this.form,this.directives),this.ngSubmit.emit(De),"dialog"===De?.target?.method}onReset(){this.resetForm()}resetForm(De=void 0){this.form.reset(De),this.submitted=!1}_updateDomValue(){this.directives.forEach(De=>{const kt=De.control,Si=this.form.get(De.path);kt!==Si&&(Lt(kt||null,De),(Ze=>Ze instanceof et)(Si)&&(Zi(Si,De,this.callSetDisabledState),De.control=Si))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(De){const kt=this.form.get(De.path);fn(kt,De),kt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(De){if(this.form){const kt=this.form.get(De.path);kt&&function Yn(Ze,ot){return ci(Ze,ot)}(kt,De)&&kt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){li(this.form,this),this._oldForm&&ci(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(qt,10),b.rXU(pt,10),b.rXU(Ii,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formGroup",""]],hostBindings:function(kt,Si){1&kt&&b.bIt("submit",function(Ar){return Si.onSubmit(Ar)})("reset",function(){return Si.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[b.Jv_([ha]),b.Vt3,b.OA$]})}}return Ze})();const fr={provide:Ut,useExisting:(0,b.Rfq)(()=>ls)};let ls=(()=>{class Ze extends Un{constructor(De,kt,Si){super(),this.name=null,this._parent=De,this._setValidators(kt),this._setAsyncValidators(Si)}_checkParentType(){xa(this._parent)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(Ut,13),b.rXU(qt,10),b.rXU(pt,10))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[b.Jv_([fr]),b.Vt3]})}}return Ze})();const pa={provide:Ut,useExisting:(0,b.Rfq)(()=>Ia)};let Ia=(()=>{class Ze extends Ut{constructor(De,kt,Si){super(),this.name=null,this._parent=De,this._setValidators(kt),this._setAsyncValidators(Si)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Di(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){xa(this._parent)}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(Ut,13),b.rXU(qt,10),b.rXU(pt,10))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[b.Jv_([pa]),b.Vt3]})}}return Ze})();function xa(Ze){return!(Ze instanceof ls||Ze instanceof fo||Ze instanceof Ia)}const Cr={provide:ft,useExisting:(0,b.Rfq)(()=>An)};let An=(()=>{class Ze extends ft{set isDisabled(De){}static{this._ngModelWarningSentOnce=!1}constructor(De,kt,Si,$n,Ar){super(),this._ngModelWarningConfig=Ar,this._added=!1,this.name=null,this.update=new b.bkB,this._ngModelWarningSent=!1,this._parent=De,this._setValidators(kt),this._setAsyncValidators(Si),this.valueAccessor=Mr(0,$n)}ngOnChanges(De){this._added||this._setUpControl(),Po(De,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(De){this.viewModel=De,this.update.emit(De)}get path(){return Di(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(Ut,13),b.rXU(qt,10),b.rXU(pt,10),b.rXU(rt,10),b.rXU(vr,8))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[b.Jv_([Cr]),b.Vt3,b.OA$]})}}return Ze})();const yr={provide:rt,useExisting:(0,b.Rfq)(()=>fa),multi:!0};function Ur(Ze,ot){return null==Ze?`${ot}`:(ot&&"object"==typeof ot&&(ot="Object"),`${Ze}: ${ot}`.slice(0,50))}let fa=(()=>{class Ze extends j{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(De){this._compareWith=De}writeValue(De){this.value=De;const Si=Ur(this._getOptionId(De),De);this.setProperty("value",Si)}registerOnChange(De){this.onChange=kt=>{this.value=this._getOptionValue(kt),De(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(De){for(const kt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(kt),De))return kt;return null}_getOptionValue(De){const kt=function ts(Ze){return Ze.split(":")[0]}(De);return this._optionMap.has(kt)?this._optionMap.get(kt):De}static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(kt,Si){1&kt&&b.bIt("change",function(Ar){return Si.onChange(Ar.target.value)})("blur",function(){return Si.onTouched()})},inputs:{compareWith:"compareWith"},features:[b.Jv_([yr]),b.Vt3]})}}return Ze})(),Xo=(()=>{class Ze{constructor(De,kt,Si){this._element=De,this._renderer=kt,this._select=Si,this._select&&(this.id=this._select._registerOption())}set ngValue(De){null!=this._select&&(this._select._optionMap.set(this.id,De),this._setElementValue(Ur(this.id,De)),this._select.writeValue(this._select.value))}set value(De){this._setElementValue(De),this._select&&this._select.writeValue(this._select.value)}_setElementValue(De){this._renderer.setProperty(this._element.nativeElement,"value",De)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(b.aKT),b.rXU(b.sFG),b.rXU(fa,9))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ze})();const Mo={provide:rt,useExisting:(0,b.Rfq)(()=>er),multi:!0};function Kr(Ze,ot){return null==Ze?`${ot}`:("string"==typeof ot&&(ot=`'${ot}'`),ot&&"object"==typeof ot&&(ot="Object"),`${Ze}: ${ot}`.slice(0,50))}let er=(()=>{class Ze extends j{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(De){this._compareWith=De}writeValue(De){let kt;if(this.value=De,Array.isArray(De)){const Si=De.map($n=>this._getOptionId($n));kt=($n,Ar)=>{$n._setSelected(Si.indexOf(Ar.toString())>-1)}}else kt=(Si,$n)=>{Si._setSelected(!1)};this._optionMap.forEach(kt)}registerOnChange(De){this.onChange=kt=>{const Si=[],$n=kt.selectedOptions;if(void 0!==$n){const Ar=$n;for(let Bo=0;Bo<Ar.length;Bo++){const Ql=this._getOptionValue(Ar[Bo].value);Si.push(Ql)}}else{const Ar=kt.options;for(let Bo=0;Bo<Ar.length;Bo++){const na=Ar[Bo];if(na.selected){const Ql=this._getOptionValue(na.value);Si.push(Ql)}}}this.value=Si,De(Si)}}_registerOption(De){const kt=(this._idCounter++).toString();return this._optionMap.set(kt,De),kt}_getOptionId(De){for(const kt of this._optionMap.keys())if(this._compareWith(this._optionMap.get(kt)._value,De))return kt;return null}_getOptionValue(De){const kt=function Do(Ze){return Ze.split(":")[0]}(De);return this._optionMap.has(kt)?this._optionMap.get(kt)._value:De}static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(kt,Si){1&kt&&b.bIt("change",function(Ar){return Si.onChange(Ar.target)})("blur",function(){return Si.onTouched()})},inputs:{compareWith:"compareWith"},features:[b.Jv_([Mo]),b.Vt3]})}}return Ze})(),ta=(()=>{class Ze{constructor(De,kt,Si){this._element=De,this._renderer=kt,this._select=Si,this._select&&(this.id=this._select._registerOption(this))}set ngValue(De){null!=this._select&&(this._value=De,this._setElementValue(Kr(this.id,De)),this._select.writeValue(this._select.value))}set value(De){this._select?(this._value=De,this._setElementValue(Kr(this.id,De)),this._select.writeValue(this._select.value)):this._setElementValue(De)}_setElementValue(De){this._renderer.setProperty(this._element.nativeElement,"value",De)}_setSelected(De){this._renderer.setProperty(this._element.nativeElement,"selected",De)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(kt){return new(kt||Ze)(b.rXU(b.aKT),b.rXU(b.sFG),b.rXU(er,9))}}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ze})(),io=(()=>{class Ze{constructor(){this._validator=Et}ngOnChanges(De){if(this.inputName in De){const kt=this.normalizeInput(De[this.inputName].currentValue);this._enabled=this.enabled(kt),this._validator=this._enabled?this.createValidator(kt):Et,this._onChange&&this._onChange()}}validate(De){return this._validator(De)}registerOnValidatorChange(De){this._onChange=De}enabled(De){return null!=De}static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275dir=b.FsC({type:Ze,features:[b.OA$]})}}return Ze})();const nl={provide:qt,useExisting:(0,b.Rfq)(()=>ws),multi:!0},Pa={provide:qt,useExisting:(0,b.Rfq)(()=>ns),multi:!0};let ws=(()=>{class Ze extends io{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=b.L39,this.createValidator=De=>Oe}enabled(De){return De}static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(kt,Si){2&kt&&b.BMQ("required",Si._enabled?"":null)},inputs:{required:"required"},features:[b.Jv_([nl]),b.Vt3]})}}return Ze})(),ns=(()=>{class Ze extends ws{constructor(){super(...arguments),this.createValidator=De=>Le}static{this.\u0275fac=function(){let De;return function(Si){return(De||(De=b.xGo(Ze)))(Si||Ze)}}()}static{this.\u0275dir=b.FsC({type:Ze,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(kt,Si){2&kt&&b.BMQ("required",Si._enabled?"":null)},features:[b.Jv_([Pa]),b.Vt3]})}}return Ze})(),_o=(()=>{class Ze{static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275mod=b.$C({type:Ze})}static{this.\u0275inj=b.G2t({imports:[So]})}}return Ze})();class so extends Ri{constructor(ot,De,kt){super(Gt(De),te(kt,De)),this.controls=ot,this._initObservables(),this._setUpdateStrategy(De),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(ot){return this.controls[this._adjustIndex(ot)]}push(ot,De={}){this.controls.push(ot),this._registerControl(ot),this.updateValueAndValidity({emitEvent:De.emitEvent}),this._onCollectionChange()}insert(ot,De,kt={}){this.controls.splice(ot,0,De),this._registerControl(De),this.updateValueAndValidity({emitEvent:kt.emitEvent})}removeAt(ot,De={}){let kt=this._adjustIndex(ot);kt<0&&(kt=0),this.controls[kt]&&this.controls[kt]._registerOnCollectionChange(()=>{}),this.controls.splice(kt,1),this.updateValueAndValidity({emitEvent:De.emitEvent})}setControl(ot,De,kt={}){let Si=this._adjustIndex(ot);Si<0&&(Si=0),this.controls[Si]&&this.controls[Si]._registerOnCollectionChange(()=>{}),this.controls.splice(Si,1),De&&(this.controls.splice(Si,0,De),this._registerControl(De)),this.updateValueAndValidity({emitEvent:kt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(ot,De={}){zt(this,0,ot),ot.forEach((kt,Si)=>{Ve(this,!1,Si),this.at(Si).setValue(kt,{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De)}patchValue(ot,De={}){null!=ot&&(ot.forEach((kt,Si)=>{this.at(Si)&&this.at(Si).patchValue(kt,{onlySelf:!0,emitEvent:De.emitEvent})}),this.updateValueAndValidity(De))}reset(ot=[],De={}){this._forEachChild((kt,Si)=>{kt.reset(ot[Si],{onlySelf:!0,emitEvent:De.emitEvent})}),this._updatePristine(De),this._updateTouched(De),this.updateValueAndValidity(De)}getRawValue(){return this.controls.map(ot=>ot.getRawValue())}clear(ot={}){this.controls.length<1||(this._forEachChild(De=>De._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:ot.emitEvent}))}_adjustIndex(ot){return ot<0?ot+this.length:ot}_syncPendingControls(){let ot=this.controls.reduce((De,kt)=>!!kt._syncPendingControls()||De,!1);return ot&&this.updateValueAndValidity({onlySelf:!0}),ot}_forEachChild(ot){this.controls.forEach((De,kt)=>{ot(De,kt)})}_updateValue(){this.value=this.controls.filter(ot=>ot.enabled||this.disabled).map(ot=>ot.value)}_anyControls(ot){return this.controls.some(De=>De.enabled&&ot(De))}_setUpControls(){this._forEachChild(ot=>this._registerControl(ot))}_allControlsDisabled(){for(const ot of this.controls)if(ot.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(ot){ot.setParent(this),ot._registerOnCollectionChange(this._onCollectionChange)}_find(ot){return this.at(ot)??null}}function ia(Ze){return!!Ze&&(void 0!==Ze.asyncValidators||void 0!==Ze.validators||void 0!==Ze.updateOn)}let zo=(()=>{class Ze{constructor(){this.useNonNullable=!1}get nonNullable(){const De=new Ze;return De.useNonNullable=!0,De}group(De,kt=null){const Si=this._reduceControls(De);let $n={};return ia(kt)?$n=kt:null!==kt&&($n.validators=kt.validator,$n.asyncValidators=kt.asyncValidator),new _t(Si,$n)}record(De,kt=null){const Si=this._reduceControls(De);return new Me(Si,kt)}control(De,kt,Si){let $n={};return this.useNonNullable?(ia(kt)?$n=kt:($n.validators=kt,$n.asyncValidators=Si),new et(De,{...$n,nonNullable:!0})):new et(De,kt,Si)}array(De,kt,Si){const $n=De.map(Ar=>this._createControl(Ar));return new so($n,kt,Si)}_reduceControls(De){const kt={};return Object.keys(De).forEach(Si=>{kt[Si]=this._createControl(De[Si])}),kt}_createControl(De){return De instanceof et||De instanceof Ri?De:Array.isArray(De)?this.control(De[0],De.length>1?De[1]:null,De.length>2?De[2]:null):this.control(De)}static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275prov=b.jDH({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}}return Ze})(),pc=(()=>{class Ze{static withConfig(De){return{ngModule:Ze,providers:[{provide:Ii,useValue:De.callSetDisabledState??On}]}}static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275mod=b.$C({type:Ze})}static{this.\u0275inj=b.G2t({imports:[_o]})}}return Ze})(),bl=(()=>{class Ze{static withConfig(De){return{ngModule:Ze,providers:[{provide:vr,useValue:De.warnOnNgModelWithFormControl??"always"},{provide:Ii,useValue:De.callSetDisabledState??On}]}}static{this.\u0275fac=function(kt){return new(kt||Ze)}}static{this.\u0275mod=b.$C({type:Ze})}static{this.\u0275inj=b.G2t({imports:[_o]})}}return Ze})()},8834:(Ui,ni,N)=>{"use strict";N.d(ni,{$z:()=>We,Hl:()=>lt,iY:()=>Cn});var b=N(6860),O=N(7705),E=N(8617),ye=N(4085),K=N(6600);const Ke=["mat-button",""],j=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],rt=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],P=["mat-icon-button",""],Be=["*"],Ai=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],oi=(0,K.Zc)((0,K.Ob)((0,K.GG)(class{constructor(wt){this._elementRef=wt}})));let q=(()=>{class wt extends oi{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(ut){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,ut)}get disableRipple(){return this._disableRipple}set disableRipple(ut){this._disableRipple=(0,ye.he)(ut),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(ut){this._disabled=(0,ye.he)(ut),this._updateRippleDisabled()}constructor(ut,yt,Zt,Tt){super(ut),this._platform=yt,this._ngZone=Zt,this._animationMode=Tt,this._focusMonitor=(0,O.WQX)(E.FN),this._rippleLoader=(0,O.WQX)(K.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const di=ut.nativeElement.classList;for(const st of Ai)this._hasHostAttributes(st.selector)&&st.mdcClasses.forEach(ri=>{di.add(ri)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(ut="program",yt){ut?this._focusMonitor.focusVia(this._elementRef.nativeElement,ut,yt):this._elementRef.nativeElement.focus(yt)}_hasHostAttributes(...ut){return ut.some(yt=>this._elementRef.nativeElement.hasAttribute(yt))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(yt){O.QTQ()}}static{this.\u0275dir=O.FsC({type:wt,features:[O.Vt3]})}}return wt})(),We=(()=>{class wt extends q{constructor(ut,yt,Zt,Tt){super(ut,yt,Zt,Tt)}static{this.\u0275fac=function(yt){return new(yt||wt)(O.rXU(O.aKT),O.rXU(b.OD),O.rXU(O.SKi),O.rXU(O.bc$,8))}}static{this.\u0275cmp=O.VBU({type:wt,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(yt,Zt){2&yt&&(O.BMQ("disabled",Zt.disabled||null),O.AVh("_mat-animation-noopable","NoopAnimations"===Zt._animationMode)("mat-unthemed",!Zt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[O.Vt3],attrs:Ke,ngContentSelectors:rt,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,Zt){1&yt&&(O.NAR(j),O.nrm(0,"span",0),O.SdG(1),O.j41(2,"span",1),O.SdG(3,1),O.k0s(),O.SdG(4,2),O.nrm(5,"span",2)(6,"span",3)),2&yt&&O.AVh("mdc-button__ripple",!Zt._isFab)("mdc-fab__ripple",Zt._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return wt})(),Cn=(()=>{class wt extends q{constructor(ut,yt,Zt,Tt){super(ut,yt,Zt,Tt),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(yt){return new(yt||wt)(O.rXU(O.aKT),O.rXU(b.OD),O.rXU(O.SKi),O.rXU(O.bc$,8))}}static{this.\u0275cmp=O.VBU({type:wt,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(yt,Zt){2&yt&&(O.BMQ("disabled",Zt.disabled||null),O.AVh("_mat-animation-noopable","NoopAnimations"===Zt._animationMode)("mat-unthemed",!Zt.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[O.Vt3],attrs:P,ngContentSelectors:Be,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(yt,Zt){1&yt&&(O.NAR(),O.nrm(0,"span",0),O.SdG(1),O.nrm(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return wt})(),lt=(()=>{class wt{static{this.\u0275fac=function(yt){return new(yt||wt)}}static{this.\u0275mod=O.$C({type:wt})}static{this.\u0275inj=O.G2t({imports:[K.yE,K.pZ,K.yE]})}}return wt})()},5596:(Ui,ni,N)=>{"use strict";N.d(ni,{Hu:()=>We,RN:()=>ee,dh:()=>Ce,kF:()=>pt});var b=N(7705),O=N(177),E=N(6600);const ye=["*"],ie=new b.nKC("MAT_CARD_CONFIG");let ee=(()=>{class Ye{constructor(vi){this.appearance=vi?.appearance||"raised"}static{this.\u0275fac=function(Et){return new(Et||Ye)(b.rXU(ie,8))}}static{this.\u0275cmp=b.VBU({type:Ye,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(Et,wi){2&Et&&b.AVh("mat-mdc-card-outlined","outlined"===wi.appearance)("mdc-card--outlined","outlined"===wi.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:ye,decls:1,vars:0,template:function(Et,wi){1&Et&&(b.NAR(),b.SdG(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return Ye})(),Ce=(()=>{class Ye{static{this.\u0275fac=function(Et){return new(Et||Ye)}}static{this.\u0275dir=b.FsC({type:Ye,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}}return Ye})(),pt=(()=>{class Ye{static{this.\u0275fac=function(Et){return new(Et||Ye)}}static{this.\u0275dir=b.FsC({type:Ye,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}}return Ye})(),We=(()=>{class Ye{static{this.\u0275fac=function(Et){return new(Et||Ye)}}static{this.\u0275mod=b.$C({type:Ye})}static{this.\u0275inj=b.G2t({imports:[E.yE,O.MD,E.yE]})}}return Ye})()},6471:(Ui,ni,N)=>{"use strict";N.d(ni,{YN:()=>Kt,gq:()=>ft,uI:()=>gn});var b=N(4085),O=N(7705),E=N(177),ye=N(6600),K=N(8617),Ke=N(1413),j=N(7786),rt=N(6697),ie=N(6977),ee=N(9172),Ce=N(5558),ve=N(7336),ue=N(8203),P=N(9417);function Ct(Qe,ui){1&Qe&&(O.j41(0,"span",7),O.SdG(1,1),O.k0s())}function qt(Qe,ui){1&Qe&&(O.j41(0,"span",8),O.SdG(1,2),O.k0s())}N(6467);const pt=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Ai=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function oi(Qe,ui){1&Qe&&(O.j41(0,"span",8),O.SdG(1,1),O.j41(2,"span",9),O.qSk(),O.j41(3,"svg",10),O.nrm(4,"path",11),O.k0s()()())}function q(Qe,ui){1&Qe&&(O.j41(0,"span",12),O.SdG(1,2),O.k0s())}const Ci=["*"],Oi=new O.nKC("mat-chips-default-options"),Cn=new O.nKC("MatChipAvatar"),Qt=new O.nKC("MatChipTrailingIcon"),lt=new O.nKC("MatChipRemove"),wt=new O.nKC("MatChip");class ii{}const ut=(0,ye.BF)(ii,-1);let yt=(()=>{class Qe extends ut{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(xe){this._disabled=(0,b.he)(xe)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(xe,Pt){super(),this._elementRef=xe,this._parentChip=Pt,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===xe.nativeElement.nodeName&&xe.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(xe){!this.disabled&&this.isInteractive&&this._isPrimary&&(xe.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(xe){(xe.keyCode===ve.Fm||xe.keyCode===ve.t6)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(xe.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static{this.\u0275fac=function(Pt){return new(Pt||Qe)(O.rXU(O.aKT),O.rXU(wt))}}static{this.\u0275dir=O.FsC({type:Qe,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(Pt,qe){1&Pt&&O.bIt("click",function(je){return qe._handleClick(je)})("keydown",function(je){return qe._handleKeydown(je)}),2&Pt&&(O.BMQ("tabindex",qe._getTabindex())("disabled",qe._getDisabledAttribute())("aria-disabled",qe.disabled),O.AVh("mdc-evolution-chip__action--primary",qe._isPrimary)("mdc-evolution-chip__action--presentational",!qe.isInteractive)("mdc-evolution-chip__action--trailing",!qe._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[O.Vt3]})}}return Qe})(),st=0;const ri=(0,ye.BF)((0,ye.Zc)((0,ye.GG)((0,ye.Ob)(class{constructor(Qe){this._elementRef=Qe}})),"primary"),-1);let ct=(()=>{class Qe extends ri{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(xe){this._value=xe}get removable(){return this._removable}set removable(xe){this._removable=(0,b.he)(xe)}get highlighted(){return this._highlighted}set highlighted(xe){this._highlighted=(0,b.he)(xe)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(xe){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,xe)}constructor(xe,Pt,qe,Dt,je,Rt,Te,bt){super(Pt),this._changeDetectorRef=xe,this._ngZone=qe,this._focusMonitor=Dt,this._globalRippleOptions=Te,this._onFocus=new Ke.B,this._onBlur=new Ke.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+st++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new O.bkB,this.destroyed=new O.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,O.WQX)(ye.Ej),this._document=je,this._animationsDisabled="NoopAnimations"===Rt,null!=bt&&(this.tabIndex=parseInt(bt)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const xe=this._elementRef.nativeElement;this._isBasicChip=xe.hasAttribute(this.basicChipAttrName)||xe.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,j.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(xe){(xe.keyCode===ve.G_||xe.keyCode===ve.SJ)&&(xe.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(xe){return this._getActions().find(Pt=>{const qe=Pt._elementRef.nativeElement;return qe===xe||qe.contains(xe)})}_getActions(){const xe=[];return this.primaryAction&&xe.push(this.primaryAction),this.removeIcon&&xe.push(this.removeIcon),this.trailingIcon&&xe.push(this.trailingIcon),xe}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(xe=>{const Pt=null!==xe;Pt!==this._hasFocusInternal&&(this._hasFocusInternal=Pt,Pt?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe((0,rt.s)(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static{this.\u0275fac=function(Pt){return new(Pt||Qe)(O.rXU(O.gRc),O.rXU(O.aKT),O.rXU(O.SKi),O.rXU(K.FN),O.rXU(E.qQ),O.rXU(O.bc$,8),O.rXU(ye.$E,8),O.kS0("tabindex"))}}static{this.\u0275cmp=O.VBU({type:Qe,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(Pt,qe,Dt){if(1&Pt&&(O.wni(Dt,Cn,5),O.wni(Dt,Qt,5),O.wni(Dt,lt,5),O.wni(Dt,Cn,5),O.wni(Dt,Qt,5),O.wni(Dt,lt,5)),2&Pt){let je;O.mGM(je=O.lsd())&&(qe.leadingIcon=je.first),O.mGM(je=O.lsd())&&(qe.trailingIcon=je.first),O.mGM(je=O.lsd())&&(qe.removeIcon=je.first),O.mGM(je=O.lsd())&&(qe._allLeadingIcons=je),O.mGM(je=O.lsd())&&(qe._allTrailingIcons=je),O.mGM(je=O.lsd())&&(qe._allRemoveIcons=je)}},viewQuery:function(Pt,qe){if(1&Pt&&O.GBs(yt,5),2&Pt){let Dt;O.mGM(Dt=O.lsd())&&(qe.primaryAction=Dt.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(Pt,qe){1&Pt&&O.bIt("keydown",function(je){return qe._handleKeydown(je)}),2&Pt&&(O.Mr5("id",qe.id),O.BMQ("role",qe.role)("tabindex",qe.role?qe.tabIndex:null)("aria-label",qe.ariaLabel),O.AVh("mdc-evolution-chip",!qe._isBasicChip)("mdc-evolution-chip--disabled",qe.disabled)("mdc-evolution-chip--with-trailing-action",qe._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",qe.leadingIcon)("mdc-evolution-chip--with-primary-icon",qe.leadingIcon)("mdc-evolution-chip--with-avatar",qe.leadingIcon)("mat-mdc-chip-with-avatar",qe.leadingIcon)("mat-mdc-chip-highlighted",qe.highlighted)("mat-mdc-chip-disabled",qe.disabled)("mat-mdc-basic-chip",qe._isBasicChip)("mat-mdc-standard-chip",!qe._isBasicChip)("mat-mdc-chip-with-trailing-icon",qe._hasTrailingIcon())("_mat-animation-noopable",qe._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[O.Jv_([{provide:wt,useExisting:Qe}]),O.Vt3],ngContentSelectors:Ai,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Pt,qe){1&Pt&&(O.NAR(pt),O.nrm(0,"span",0),O.j41(1,"span",1)(2,"span",2),O.DNE(3,Ct,2,0,"span",3),O.j41(4,"span",4),O.SdG(5),O.nrm(6,"span",5),O.k0s()()(),O.DNE(7,qt,2,0,"span",6)),2&Pt&&(O.R7$(2),O.Y8G("isInteractive",!1),O.R7$(1),O.Y8G("ngIf",qe.leadingIcon),O.R7$(4),O.Y8G("ngIf",qe._hasTrailingIcon()))},dependencies:[E.bT,yt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return Qe})(),ft=(()=>{class Qe extends ct{constructor(){super(...arguments),this._defaultOptions=(0,O.WQX)(Oi,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new O.bkB}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(xe){this._selectable=(0,b.he)(xe),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(xe){this._setSelectedState((0,b.he)(xe),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(xe=!1){return this._setSelectedState(!this.selected,xe,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(xe,Pt,qe){xe!==this.selected&&(this._selected=xe,qe&&this.selectionChange.emit({source:this,isUserInput:Pt,selected:this.selected}),this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(){let xe;return function(qe){return(xe||(xe=O.xGo(Qe)))(qe||Qe)}}()}static{this.\u0275cmp=O.VBU({type:Qe,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(Pt,qe){2&Pt&&(O.Mr5("id",qe.id),O.BMQ("tabindex",null)("aria-label",null)("aria-description",null)("role",qe.role),O.AVh("mdc-evolution-chip",!qe._isBasicChip)("mdc-evolution-chip--filter",!qe._isBasicChip)("mdc-evolution-chip--selectable",!qe._isBasicChip)("mat-mdc-chip-selected",qe.selected)("mat-mdc-chip-multiple",qe._chipListMultiple)("mat-mdc-chip-disabled",qe.disabled)("mat-mdc-chip-with-avatar",qe.leadingIcon)("mdc-evolution-chip--disabled",qe.disabled)("mdc-evolution-chip--selected",qe.selected)("mdc-evolution-chip--selecting",!qe._animationsDisabled)("mdc-evolution-chip--with-trailing-action",qe._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",qe.leadingIcon)("mdc-evolution-chip--with-primary-graphic",qe._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",qe.leadingIcon)("mat-mdc-chip-highlighted",qe.highlighted)("mat-mdc-chip-with-trailing-icon",qe._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[O.Jv_([{provide:ct,useExisting:Qe},{provide:wt,useExisting:Qe}]),O.Vt3],ngContentSelectors:Ai,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(Pt,qe){1&Pt&&(O.NAR(pt),O.nrm(0,"span",0),O.j41(1,"span",1)(2,"button",2),O.DNE(3,oi,5,0,"span",3),O.j41(4,"span",4),O.SdG(5),O.nrm(6,"span",5),O.k0s()()(),O.DNE(7,q,2,0,"span",6),O.j41(8,"span",7),O.EFF(9),O.k0s()),2&Pt&&(O.R7$(2),O.Y8G("tabIndex",qe.tabIndex)("_allowFocusWhenDisabled",!0),O.BMQ("aria-selected",qe.ariaSelected)("aria-label",qe.ariaLabel)("aria-describedby",qe._ariaDescriptionId),O.R7$(1),O.Y8G("ngIf",qe._hasLeadingGraphic()),O.R7$(4),O.Y8G("ngIf",qe._hasTrailingIcon()),O.R7$(1),O.Y8G("id",qe._ariaDescriptionId),O.R7$(1),O.JRh(qe.ariaDescription))},dependencies:[E.bT,yt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height);--mdc-chip-container-shape-family:rounded;--mdc-chip-container-shape-radius:16px 16px 16px 16px;--mdc-chip-with-avatar-avatar-shape-family:rounded;--mdc-chip-with-avatar-avatar-shape-radius:14px 14px 14px 14px;--mdc-chip-with-avatar-avatar-size:28px;--mdc-chip-with-icon-icon-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return Qe})();class Yt{constructor(ui){}}const Mi=(0,ye.BF)(Yt);let Qi=(()=>{class Qe extends Mi{get chipFocusChanges(){return this._getChipStream(xe=>xe._onFocus)}get chipDestroyedChanges(){return this._getChipStream(xe=>xe.destroyed)}get disabled(){return this._disabled}set disabled(xe){this._disabled=(0,b.he)(xe),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(xe){this._explicitRole=xe}get focused(){return this._hasFocusedChip()}constructor(xe,Pt,qe){super(xe),this._elementRef=xe,this._changeDetectorRef=Pt,this._dir=qe,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Ke.B,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new O.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(xe=>xe._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(xe=>{xe.disabled=this._disabled,xe._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(xe){this._originatesFromChip(xe)&&this._keyManager.onKeydown(xe)}_isValidIndex(xe){return xe>=0&&xe<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const xe=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=xe)}}_getChipStream(xe){return this._chips.changes.pipe((0,ee.Z)(null),(0,Ce.n)(()=>(0,j.h)(...this._chips.map(xe))))}_originatesFromChip(xe){let Pt=xe.target;for(;Pt&&Pt!==this._elementRef.nativeElement;){if(Pt.classList.contains("mat-mdc-chip"))return!0;Pt=Pt.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,ee.Z)(this._chips)).subscribe(xe=>{const Pt=[];xe.forEach(qe=>qe._getActions().forEach(Dt=>Pt.push(Dt))),this._chipActions.reset(Pt),this._chipActions.notifyOnChanges()}),this._keyManager=new K.Bu(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(xe=>this._skipPredicate(xe)),this.chipFocusChanges.pipe((0,ie.Q)(this._destroyed)).subscribe(({chip:xe})=>{const Pt=xe._getSourceAction(document.activeElement);Pt&&this._keyManager.updateActiveItem(Pt)}),this._dir?.change.pipe((0,ie.Q)(this._destroyed)).subscribe(xe=>this._keyManager.withHorizontalOrientation(xe))}_skipPredicate(xe){return!xe.isInteractive||xe.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,ee.Z)(null),(0,ie.Q)(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe((0,ie.Q)(this._destroyed)).subscribe(xe=>{const qe=this._chips.toArray().indexOf(xe.chip);this._isValidIndex(qe)&&xe.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=qe)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const xe=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),Pt=this._chips.toArray()[xe];Pt.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():Pt.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static{this.\u0275fac=function(Pt){return new(Pt||Qe)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(ue.dS,8))}}static{this.\u0275cmp=O.VBU({type:Qe,selectors:[["mat-chip-set"]],contentQueries:function(Pt,qe,Dt){if(1&Pt&&O.wni(Dt,ct,5),2&Pt){let je;O.mGM(je=O.lsd())&&(qe._chips=je)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(Pt,qe){1&Pt&&O.bIt("keydown",function(je){return qe._handleKeydown(je)}),2&Pt&&O.BMQ("role",qe.role)},inputs:{disabled:"disabled",role:"role"},features:[O.Vt3],ngContentSelectors:Ci,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Pt,qe){1&Pt&&(O.NAR(),O.j41(0,"div",0),O.SdG(1),O.k0s())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return Qe})();class tn{constructor(ui,xe){this.source=ui,this.value=xe}}const dn={provide:P.kq,useExisting:(0,O.Rfq)(()=>gn),multi:!0};let gn=(()=>{class Qe extends Qi{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=(0,O.WQX)(Oi,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(xe,Pt)=>xe===Pt,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new O.bkB,this._chips=void 0}get multiple(){return this._multiple}set multiple(xe){this._multiple=(0,b.he)(xe),this._syncListboxProperties()}get selected(){const xe=this._chips.toArray().filter(Pt=>Pt.selected);return this.multiple?xe:xe[0]}get selectable(){return this._selectable}set selectable(xe){this._selectable=(0,b.he)(xe),this._syncListboxProperties()}get required(){return this._required}set required(xe){this._required=(0,b.he)(xe)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(xe){this._hideSingleSelectionIndicator=(0,b.he)(xe),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(xe=>xe.selectionChange)}get chipBlurChanges(){return this._getChipStream(xe=>xe._onBlur)}get value(){return this._value}set value(xe){this.writeValue(xe),this._value=xe}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe((0,ee.Z)(null),(0,ie.Q)(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe((0,ie.Q)(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe((0,ie.Q)(this._destroyed)).subscribe(xe=>{this.multiple||this._chips.forEach(Pt=>{Pt!==xe.source&&Pt._setSelectedState(!1,!1,!1)}),xe.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const xe=this._getFirstSelectedChip();xe&&!xe.disabled?xe.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(xe){this._chips?this._setSelectionByValue(xe,!1):null!=xe&&(this._pendingInitialValue=xe)}registerOnChange(xe){this._onChange=xe}registerOnTouched(xe){this._onTouched=xe}setDisabledState(xe){this.disabled=xe}_setSelectionByValue(xe,Pt=!0){this._clearSelection(),Array.isArray(xe)?xe.forEach(qe=>this._selectValue(qe,Pt)):this._selectValue(xe,Pt)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(xe){xe.keyCode===ve.wn&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let xe=null;xe=Array.isArray(this.selected)?this.selected.map(Pt=>Pt.value):this.selected?this.selected.value:void 0,this._value=xe,this.change.emit(new tn(this,xe)),this._onChange(xe),this._changeDetectorRef.markForCheck()}_clearSelection(xe){this._chips.forEach(Pt=>{Pt!==xe&&Pt.deselect()})}_selectValue(xe,Pt){const qe=this._chips.find(Dt=>null!=Dt.value&&this.compareWith(Dt.value,xe));return qe&&(Pt?qe.selectViaInteraction():qe.select()),qe}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(xe=>{xe._chipListMultiple=this.multiple,xe.chipListSelectable=this._selectable,xe._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,xe._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(xe){return!xe.isInteractive}static{this.\u0275fac=function(){let xe;return function(qe){return(xe||(xe=O.xGo(Qe)))(qe||Qe)}}()}static{this.\u0275cmp=O.VBU({type:Qe,selectors:[["mat-chip-listbox"]],contentQueries:function(Pt,qe,Dt){if(1&Pt&&O.wni(Dt,ft,5),2&Pt){let je;O.mGM(je=O.lsd())&&(qe._chips=je)}},hostAttrs:["ngSkipHydration","",1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(Pt,qe){1&Pt&&O.bIt("focus",function(){return qe.focus()})("blur",function(){return qe._blur()})("keydown",function(je){return qe._keydown(je)}),2&Pt&&(O.Mr5("tabIndex",qe.empty?-1:qe.tabIndex),O.BMQ("role",qe.role)("aria-describedby",qe._ariaDescribedby||null)("aria-required",qe.role?qe.required:null)("aria-disabled",qe.disabled.toString())("aria-multiselectable",qe.multiple)("aria-orientation",qe.ariaOrientation),O.AVh("mat-mdc-chip-list-disabled",qe.disabled)("mat-mdc-chip-list-required",qe.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[O.Jv_([dn]),O.Vt3],ngContentSelectors:Ci,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(Pt,qe){1&Pt&&(O.NAR(),O.j41(0,"div",0),O.SdG(1),O.k0s())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}}return Qe})(),Kt=(()=>{class Qe{static{this.\u0275fac=function(Pt){return new(Pt||Qe)}}static{this.\u0275mod=O.$C({type:Qe})}static{this.\u0275inj=O.G2t({providers:[ye.es,{provide:Oi,useValue:{separatorKeyCodes:[ve.Fm]}}],imports:[ye.yE,E.MD,ye.pZ,ye.yE]})}}return Qe})()},6600:(Ui,ni,N)=>{"use strict";N.d(ni,{MJ:()=>Cn,es:()=>di,de:()=>Qt,QC:()=>xe,is:()=>$,$E:()=>Ni,yE:()=>Oe,WX:()=>Zt,wT:()=>Rt,Sy:()=>Gt,O5:()=>It,r6:()=>St,Ej:()=>Ri,pZ:()=>mt,xW:()=>ii,ug:()=>gn,jb:()=>Te,TL:()=>bt,Zc:()=>vi,GG:()=>Et,Ob:()=>Ht,J8:()=>bi,BF:()=>wi});var b=N(7705),O=N(8617),E=N(8203),K=N(177),Ke=N(6860),j=N(4085),rt=N(1413),ie=N(7336);const ve=["text"];function ue(_t,at){if(1&_t&&b.nrm(0,"mat-pseudo-checkbox",6),2&_t){const Se=b.XpG();b.Y8G("disabled",Se.disabled)("state",Se.selected?"checked":"unchecked")}}function P(_t,at){if(1&_t&&b.nrm(0,"mat-pseudo-checkbox",7),2&_t){const Se=b.XpG();b.Y8G("disabled",Se.disabled)}}function Be(_t,at){if(1&_t&&(b.j41(0,"span",8),b.EFF(1),b.k0s()),2&_t){const Se=b.XpG();b.R7$(1),b.SpI("(",Se.group.label,")")}}const Ct=[[["mat-icon"]],"*"],qt=["mat-icon","*"],Ot=new b.nKC("mat-sanity-checks",{providedIn:"root",factory:function q(){return!0}});let Oe=(()=>{class _t{constructor(Se,Me,Nt){this._sanityChecks=Me,this._document=Nt,this._hasDoneGlobalChecks=!1,Se._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Se){return!(0,Ke.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Se])}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.Q_),b.KVO(Ot,8),b.KVO(K.qQ))}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({imports:[E.jI,E.jI]})}}return _t})();function Ht(_t){return class extends _t{get disabled(){return this._disabled}set disabled(at){this._disabled=(0,j.he)(at)}constructor(...at){super(...at),this._disabled=!1}}}function vi(_t,at){return class extends _t{get color(){return this._color}set color(Se){const Me=Se||this.defaultColor;Me!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Me&&this._elementRef.nativeElement.classList.add(`mat-${Me}`),this._color=Me)}constructor(...Se){super(...Se),this.defaultColor=at,this.color=at}}}function Et(_t){return class extends _t{get disableRipple(){return this._disableRipple}set disableRipple(at){this._disableRipple=(0,j.he)(at)}constructor(...at){super(...at),this._disableRipple=!1}}}function wi(_t,at=0){return class extends _t{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(Se){this._tabIndex=null!=Se?(0,j.OE)(Se):this.defaultTabIndex}constructor(...Se){super(...Se),this._tabIndex=at,this.defaultTabIndex=at}}}function bi(_t){return class extends _t{updateErrorState(){const at=this.errorState,Ii=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Ii!==at&&(this.errorState=Ii,this.stateChanges.next())}constructor(...at){super(...at),this.errorState=!1}}}const an=new b.nKC("MAT_DATE_LOCALE",{providedIn:"root",factory:function Oi(){return(0,b.WQX)(b.xe9)}});class Cn{constructor(){this._localeChanges=new rt.B,this.localeChanges=this._localeChanges}getValidDateOrNull(at){return this.isDateInstance(at)&&this.isValid(at)?at:null}deserialize(at){return null==at||this.isDateInstance(at)&&this.isValid(at)?at:this.invalid()}setLocale(at){this.locale=at,this._localeChanges.next()}compareDate(at,Se){return this.getYear(at)-this.getYear(Se)||this.getMonth(at)-this.getMonth(Se)||this.getDate(at)-this.getDate(Se)}sameDate(at,Se){if(at&&Se){let Me=this.isValid(at),Nt=this.isValid(Se);return Me&&Nt?!this.compareDate(at,Se):Me==Nt}return at==Se}clampDate(at,Se,Me){return Se&&this.compareDate(at,Se)<0?Se:Me&&this.compareDate(at,Me)>0?Me:at}}const Qt=new b.nKC("mat-date-formats"),lt=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function wt(_t,at){const Se=Array(_t);for(let Me=0;Me<_t;Me++)Se[Me]=at(Me);return Se}let ii=(()=>{class _t extends Cn{constructor(Se,Me){super(),this.useUtcForDisplay=!1,super.setLocale(Se)}getYear(Se){return Se.getFullYear()}getMonth(Se){return Se.getMonth()}getDate(Se){return Se.getDate()}getDayOfWeek(Se){return Se.getDay()}getMonthNames(Se){const Me=new Intl.DateTimeFormat(this.locale,{month:Se,timeZone:"utc"});return wt(12,Nt=>this._format(Me,new Date(2017,Nt,1)))}getDateNames(){const Se=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return wt(31,Me=>this._format(Se,new Date(2017,0,Me+1)))}getDayOfWeekNames(Se){const Me=new Intl.DateTimeFormat(this.locale,{weekday:Se,timeZone:"utc"});return wt(7,Nt=>this._format(Me,new Date(2017,0,Nt+1)))}getYearName(Se){const Me=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Me,Se)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(Se){return this.getDate(this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se)+1,0))}clone(Se){return new Date(Se.getTime())}createDate(Se,Me,Nt){let Ii=this._createDateWithOverflow(Se,Me,Nt);return Ii.getMonth(),Ii}today(){return new Date}parse(Se,Me){return"number"==typeof Se?new Date(Se):Se?new Date(Date.parse(Se)):null}format(Se,Me){if(!this.isValid(Se))throw Error("NativeDateAdapter: Cannot format invalid date.");const Nt=new Intl.DateTimeFormat(this.locale,{...Me,timeZone:"utc"});return this._format(Nt,Se)}addCalendarYears(Se,Me){return this.addCalendarMonths(Se,12*Me)}addCalendarMonths(Se,Me){let Nt=this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se)+Me,this.getDate(Se));return this.getMonth(Nt)!=((this.getMonth(Se)+Me)%12+12)%12&&(Nt=this._createDateWithOverflow(this.getYear(Nt),this.getMonth(Nt),0)),Nt}addCalendarDays(Se,Me){return this._createDateWithOverflow(this.getYear(Se),this.getMonth(Se),this.getDate(Se)+Me)}toIso8601(Se){return[Se.getUTCFullYear(),this._2digit(Se.getUTCMonth()+1),this._2digit(Se.getUTCDate())].join("-")}deserialize(Se){if("string"==typeof Se){if(!Se)return null;if(lt.test(Se)){let Me=new Date(Se);if(this.isValid(Me))return Me}}return super.deserialize(Se)}isDateInstance(Se){return Se instanceof Date}isValid(Se){return!isNaN(Se.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(Se,Me,Nt){const Ii=new Date;return Ii.setFullYear(Se,Me,Nt),Ii.setHours(0,0,0,0),Ii}_2digit(Se){return("00"+Se).slice(-2)}_format(Se,Me){const Nt=new Date;return Nt.setUTCFullYear(Me.getFullYear(),Me.getMonth(),Me.getDate()),Nt.setUTCHours(Me.getHours(),Me.getMinutes(),Me.getSeconds(),Me.getMilliseconds()),Se.format(Nt)}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(an,8),b.KVO(Ke.OD))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const ut={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let yt=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({providers:[{provide:Cn,useClass:ii}]})}}return _t})(),Zt=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({providers:[{provide:Qt,useValue:ut}],imports:[yt]})}}return _t})(),di=(()=>{class _t{isErrorState(Se,Me){return!!(Se&&Se.invalid&&(Se.touched||Me&&Me.submitted))}static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac,providedIn:"root"})}}return _t})();class ft{constructor(at,Se,Me,Nt=!1){this._renderer=at,this.element=Se,this.config=Me,this._animationForciblyDisabledThroughCss=Nt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wt=(0,Ke.BQ)({passive:!0,capture:!0});class tt{constructor(){this._events=new Map,this._delegateEventHandler=at=>{const Se=(0,Ke.Fb)(at);Se&&this._events.get(at.type)?.forEach((Me,Nt)=>{(Nt===Se||Nt.contains(Se))&&Me.forEach(Ii=>Ii.handleEvent(at))})}}addHandler(at,Se,Me,Nt){const Ii=this._events.get(Se);if(Ii){const On=Ii.get(Me);On?On.add(Nt):Ii.set(Me,new Set([Nt]))}else this._events.set(Se,new Map([[Me,new Set([Nt])]])),at.runOutsideAngular(()=>{document.addEventListener(Se,this._delegateEventHandler,Wt)})}removeHandler(at,Se,Me){const Nt=this._events.get(at);if(!Nt)return;const Ii=Nt.get(Se);Ii&&(Ii.delete(Me),0===Ii.size&&Nt.delete(Se),0===Nt.size&&(this._events.delete(at),document.removeEventListener(at,this._delegateEventHandler,Wt)))}}const Yt={enterDuration:225,exitDuration:150},Qi=(0,Ke.BQ)({passive:!0,capture:!0}),tn=["mousedown","touchstart"],dn=["mouseup","mouseleave","touchend","touchcancel"];class gn{static{this._eventManager=new tt}constructor(at,Se,Me,Nt){this._target=at,this._ngZone=Se,this._platform=Nt,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Nt.isBrowser&&(this._containerElement=(0,j.i8)(Me))}fadeInRipple(at,Se,Me={}){const Nt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Ii={...Yt,...Me.animation};Me.centered&&(at=Nt.left+Nt.width/2,Se=Nt.top+Nt.height/2);const On=Me.radius||function Sn(_t,at,Se){const Me=Math.max(Math.abs(_t-Se.left),Math.abs(_t-Se.right)),Nt=Math.max(Math.abs(at-Se.top),Math.abs(at-Se.bottom));return Math.sqrt(Me*Me+Nt*Nt)}(at,Se,Nt),Di=at-Nt.left,Zi=Se-Nt.top,Lt=Ii.enterDuration,ai=document.createElement("div");ai.classList.add("mat-ripple-element"),ai.style.left=Di-On+"px",ai.style.top=Zi-On+"px",ai.style.height=2*On+"px",ai.style.width=2*On+"px",null!=Me.color&&(ai.style.backgroundColor=Me.color),ai.style.transitionDuration=`${Lt}ms`,this._containerElement.appendChild(ai);const ki=window.getComputedStyle(ai),ci=ki.transitionDuration,Ti="none"===ki.transitionProperty||"0s"===ci||"0s, 0s"===ci||0===Nt.width&&0===Nt.height,Xi=new ft(this,ai,Me,Ti);ai.style.transform="scale3d(1, 1, 1)",Xi.state=0,Me.persistent||(this._mostRecentTransientRipple=Xi);let ln=null;return!Ti&&(Lt||Ii.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const en=()=>this._finishRippleTransition(Xi),fn=()=>this._destroyRipple(Xi);ai.addEventListener("transitionend",en),ai.addEventListener("transitioncancel",fn),ln={onTransitionEnd:en,onTransitionCancel:fn}}),this._activeRipples.set(Xi,ln),(Ti||!Lt)&&this._finishRippleTransition(Xi),Xi}fadeOutRipple(at){if(2===at.state||3===at.state)return;const Se=at.element,Me={...Yt,...at.config.animation};Se.style.transitionDuration=`${Me.exitDuration}ms`,Se.style.opacity="0",at.state=2,(at._animationForciblyDisabledThroughCss||!Me.exitDuration)&&this._finishRippleTransition(at)}fadeOutAll(){this._getActiveRipples().forEach(at=>at.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(at=>{at.config.persistent||at.fadeOut()})}setupTriggerEvents(at){const Se=(0,j.i8)(at);!this._platform.isBrowser||!Se||Se===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Se,tn.forEach(Me=>{gn._eventManager.addHandler(this._ngZone,Me,Se,this)}))}handleEvent(at){"mousedown"===at.type?this._onMousedown(at):"touchstart"===at.type?this._onTouchStart(at):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dn.forEach(Se=>{this._triggerElement.addEventListener(Se,this,Qi)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(at){0===at.state?this._startFadeOutTransition(at):2===at.state&&this._destroyRipple(at)}_startFadeOutTransition(at){const Se=at===this._mostRecentTransientRipple,{persistent:Me}=at.config;at.state=1,!Me&&(!Se||!this._isPointerDown)&&at.fadeOut()}_destroyRipple(at){const Se=this._activeRipples.get(at)??null;this._activeRipples.delete(at),this._activeRipples.size||(this._containerRect=null),at===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),at.state=3,null!==Se&&(at.element.removeEventListener("transitionend",Se.onTransitionEnd),at.element.removeEventListener("transitioncancel",Se.onTransitionCancel)),at.element.remove()}_onMousedown(at){const Se=(0,O._G)(at),Me=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Se&&!Me&&(this._isPointerDown=!0,this.fadeInRipple(at.clientX,at.clientY,this._target.rippleConfig))}_onTouchStart(at){if(!this._target.rippleDisabled&&!(0,O.w6)(at)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Se=at.changedTouches;if(Se)for(let Me=0;Me<Se.length;Me++)this.fadeInRipple(Se[Me].clientX,Se[Me].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(at=>{!at.config.persistent&&(1===at.state||at.config.terminateOnPointerUp&&0===at.state)&&at.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const at=this._triggerElement;at&&(tn.forEach(Se=>gn._eventManager.removeHandler(Se,at,this)),this._pointerUpEventsRegistered&&dn.forEach(Se=>at.removeEventListener(Se,this,Qi)))}}const Ni=new b.nKC("mat-ripple-global-options");let St=(()=>{class _t{get disabled(){return this._disabled}set disabled(Se){Se&&this.fadeOutAllNonPersistent(),this._disabled=Se,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Se){this._trigger=Se,this._setupTriggerEventsIfEnabled()}constructor(Se,Me,Nt,Ii,On){this._elementRef=Se,this._animationMode=On,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Ii||{},this._rippleRenderer=new gn(this,Me,Se,Nt)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Se,Me=0,Nt){return"number"==typeof Se?this._rippleRenderer.fadeInRipple(Se,Me,{...this.rippleConfig,...Nt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Se})}static{this.\u0275fac=function(Me){return new(Me||_t)(b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(Ke.OD),b.rXU(Ni,8),b.rXU(b.bc$,8))}}static{this.\u0275dir=b.FsC({type:_t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Me,Nt){2&Me&&b.AVh("mat-ripple-unbounded",Nt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}}return _t})(),mt=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({imports:[Oe,Oe]})}}return _t})(),jt=(()=>{class _t{constructor(Se){this._animationMode=Se,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(Me){return new(Me||_t)(b.rXU(b.bc$,8))}}static{this.\u0275cmp=b.VBU({type:_t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Me,Nt){2&Me&&b.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Nt.state)("mat-pseudo-checkbox-checked","checked"===Nt.state)("mat-pseudo-checkbox-disabled",Nt.disabled)("mat-pseudo-checkbox-minimal","minimal"===Nt.appearance)("mat-pseudo-checkbox-full","full"===Nt.appearance)("_mat-animation-noopable","NoopAnimations"===Nt._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(Me,Nt){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return _t})(),It=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({imports:[Oe]})}}return _t})();const $=new b.nKC("MAT_OPTION_PARENT_COMPONENT"),xe=new b.nKC("MatOptgroup");let qe=0;class Dt{constructor(at,Se=!1){this.source=at,this.isUserInput=Se}}let je=(()=>{class _t{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Se){this._disabled=(0,j.he)(Se)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Se,Me,Nt,Ii){this._element=Se,this._changeDetectorRef=Me,this._parent=Nt,this.group=Ii,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+qe++,this.onSelectionChange=new b.bkB,this._stateChanges=new rt.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Se=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Se&&this._emitSelectionChangeEvent())}deselect(Se=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Se&&this._emitSelectionChangeEvent())}focus(Se,Me){const Nt=this._getHostElement();"function"==typeof Nt.focus&&Nt.focus(Me)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Se){(Se.keyCode===ie.Fm||Se.keyCode===ie.t6)&&!(0,ie.rp)(Se)&&(this._selectViaInteraction(),Se.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Se=this.viewValue;Se!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Se)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Se=!1){this.onSelectionChange.emit(new Dt(this,Se))}static{this.\u0275fac=function(Me){b.QTQ()}}static{this.\u0275dir=b.FsC({type:_t,viewQuery:function(Me,Nt){if(1&Me&&b.GBs(ve,7),2&Me){let Ii;b.mGM(Ii=b.lsd())&&(Nt._text=Ii.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}}return _t})(),Rt=(()=>{class _t extends je{constructor(Se,Me,Nt,Ii){super(Se,Me,Nt,Ii)}static{this.\u0275fac=function(Me){return new(Me||_t)(b.rXU(b.aKT),b.rXU(b.gRc),b.rXU($,8),b.rXU(xe,8))}}static{this.\u0275cmp=b.VBU({type:_t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Me,Nt){1&Me&&b.bIt("click",function(){return Nt._selectViaInteraction()})("keydown",function(On){return Nt._handleKeydown(On)}),2&Me&&(b.Mr5("id",Nt.id),b.BMQ("aria-selected",Nt.selected)("aria-disabled",Nt.disabled.toString()),b.AVh("mdc-list-item--selected",Nt.selected)("mat-mdc-option-multiple",Nt.multiple)("mat-mdc-option-active",Nt.active)("mdc-list-item--disabled",Nt.disabled))},exportAs:["matOption"],features:[b.Vt3],ngContentSelectors:qt,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(Me,Nt){1&Me&&(b.NAR(Ct),b.DNE(0,ue,1,2,"mat-pseudo-checkbox",0),b.SdG(1),b.j41(2,"span",1,2),b.SdG(4,1),b.k0s(),b.DNE(5,P,1,1,"mat-pseudo-checkbox",3),b.DNE(6,Be,2,1,"span",4),b.nrm(7,"div",5)),2&Me&&(b.Y8G("ngIf",Nt.multiple),b.R7$(5),b.Y8G("ngIf",!Nt.multiple&&Nt.selected&&!Nt.hideSingleSelectionIndicator),b.R7$(1),b.Y8G("ngIf",Nt.group&&Nt.group._inert),b.R7$(1),b.Y8G("matRippleTrigger",Nt._getHostElement())("matRippleDisabled",Nt.disabled||Nt.disableRipple))},dependencies:[St,K.bT,jt],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return _t})();function Te(_t,at,Se){if(Se.length){let Me=at.toArray(),Nt=Se.toArray(),Ii=0;for(let On=0;On<_t+1;On++)Me[On].group&&Me[On].group===Nt[Ii]&&Ii++;return Ii}return 0}function bt(_t,at,Se,Me){return _t<Se?_t:_t+at>Se+Me?Math.max(0,_t-Me+at):Se}let Gt=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({imports:[mt,K.MD,Oe,It]})}}return _t})();const Pe={capture:!0},te=["focus","click","mouseenter","touchstart"],ge="mat-ripple-loader-uninitialized",Re="mat-ripple-loader-class-name",Ve="mat-ripple-loader-centered",zt="mat-ripple-loader-disabled";let Ri=(()=>{class _t{constructor(){this._document=(0,b.WQX)(K.qQ,{optional:!0}),this._animationMode=(0,b.WQX)(b.bc$,{optional:!0}),this._globalRippleOptions=(0,b.WQX)(Ni,{optional:!0}),this._platform=(0,b.WQX)(Ke.OD),this._ngZone=(0,b.WQX)(b.SKi),this._hosts=new Map,this._onInteraction=Se=>{if(!(Se.target instanceof HTMLElement))return;const Nt=Se.target.closest(`[${ge}]`);Nt&&this._createRipple(Nt)},this._ngZone.runOutsideAngular(()=>{for(const Se of te)this._document?.addEventListener(Se,this._onInteraction,Pe)})}ngOnDestroy(){const Se=this._hosts.keys();for(const Me of Se)this.destroyRipple(Me);for(const Me of te)this._document?.removeEventListener(Me,this._onInteraction,Pe)}configureRipple(Se,Me){Se.setAttribute(ge,""),(Me.className||!Se.hasAttribute(Re))&&Se.setAttribute(Re,Me.className||""),Me.centered&&Se.setAttribute(Ve,""),Me.disabled&&Se.setAttribute(zt,"")}getRipple(Se){return this._hosts.get(Se)||this._createRipple(Se)}setDisabled(Se,Me){const Nt=this._hosts.get(Se);Nt?Nt.disabled=Me:Me?Se.setAttribute(zt,""):Se.removeAttribute(zt)}_createRipple(Se){if(!this._document)return;const Me=this._hosts.get(Se);if(Me)return Me;Se.querySelector(".mat-ripple")?.remove();const Nt=this._document.createElement("span");Nt.classList.add("mat-ripple",Se.getAttribute(Re)),Se.append(Nt);const Ii=new St(new b.aKT(Nt),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Ii._isInitialized=!0,Ii.trigger=Se,Ii.centered=Se.hasAttribute(Ve),Ii.disabled=Se.hasAttribute(zt),this.attachRipple(Se,Ii),Ii}attachRipple(Se,Me){Se.removeAttribute(ge),this._hosts.set(Se,Me)}destroyRipple(Se){const Me=this._hosts.get(Se);Me&&(Me.ngOnDestroy(),this._hosts.delete(Se))}static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac,providedIn:"root"})}}return _t})()},5084:(Ui,ni,N)=>{"use strict";N.d(ni,{Vh:()=>On,X6:()=>pr,bU:()=>Ti,bZ:()=>li});var b=N(8617),O=N(6969),E=N(6939),ye=N(177),K=N(7705),Ke=N(8834),j=N(3980),rt=N(6600),ie=N(1413),ee=N(8359),Ce=N(7786),ve=N(7673),ue=N(7336),P=N(8203),Be=N(6860),Ct=N(6697),qt=N(9172),pt=N(5964),Ai=N(4085),oi=N(9969),q=N(9417),Ot=N(6467),Oe=N(9631);const Le=["mat-calendar-body",""];function We(ae,En){if(1&ae&&(K.j41(0,"tr",3)(1,"td",4),K.EFF(2),K.k0s()()),2&ae){const oe=K.XpG();K.R7$(1),K.xc7("padding-top",oe._cellPadding)("padding-bottom",oe._cellPadding),K.BMQ("colspan",oe.numCols),K.R7$(1),K.SpI(" ",oe.label," ")}}function Ye(ae,En){if(1&ae&&(K.j41(0,"td",4),K.EFF(1),K.k0s()),2&ae){const oe=K.XpG(2);K.xc7("padding-top",oe._cellPadding)("padding-bottom",oe._cellPadding),K.BMQ("colspan",oe._firstRowOffset),K.R7$(1),K.SpI(" ",oe._firstRowOffset>=oe.labelMinRequiredCells?oe.label:""," ")}}function Ht(ae,En){if(1&ae){const oe=K.RV6();K.j41(0,"td",8)(1,"button",9),K.bIt("click",function(et){const Fi=K.eBV(oe).$implicit,Un=K.XpG(2);return K.Njj(Un._cellClicked(Fi,et))})("focus",function(et){const Fi=K.eBV(oe).$implicit,Un=K.XpG(2);return K.Njj(Un._emitActiveDateChange(Fi,et))}),K.j41(2,"span",10),K.EFF(3),K.k0s(),K.nrm(4,"span",11),K.k0s()()}if(2&ae){const oe=En.$implicit,dt=En.index,et=K.XpG().index,ti=K.XpG();K.xc7("width",ti._cellWidth)("padding-top",ti._cellPadding)("padding-bottom",ti._cellPadding),K.BMQ("data-mat-row",et)("data-mat-col",dt),K.R7$(1),K.AVh("mat-calendar-body-disabled",!oe.enabled)("mat-calendar-body-active",ti._isActiveCell(et,dt))("mat-calendar-body-range-start",ti._isRangeStart(oe.compareValue))("mat-calendar-body-range-end",ti._isRangeEnd(oe.compareValue))("mat-calendar-body-in-range",ti._isInRange(oe.compareValue))("mat-calendar-body-comparison-bridge-start",ti._isComparisonBridgeStart(oe.compareValue,et,dt))("mat-calendar-body-comparison-bridge-end",ti._isComparisonBridgeEnd(oe.compareValue,et,dt))("mat-calendar-body-comparison-start",ti._isComparisonStart(oe.compareValue))("mat-calendar-body-comparison-end",ti._isComparisonEnd(oe.compareValue))("mat-calendar-body-in-comparison-range",ti._isInComparisonRange(oe.compareValue))("mat-calendar-body-preview-start",ti._isPreviewStart(oe.compareValue))("mat-calendar-body-preview-end",ti._isPreviewEnd(oe.compareValue))("mat-calendar-body-in-preview",ti._isInPreview(oe.compareValue)),K.Y8G("ngClass",oe.cssClasses)("tabindex",ti._isActiveCell(et,dt)?0:-1),K.BMQ("aria-label",oe.ariaLabel)("aria-disabled",!oe.enabled||null)("aria-pressed",ti._isSelected(oe.compareValue))("aria-current",ti.todayValue===oe.compareValue?"date":null)("aria-describedby",ti._getDescribedby(oe.compareValue)),K.R7$(1),K.AVh("mat-calendar-body-selected",ti._isSelected(oe.compareValue))("mat-calendar-body-comparison-identical",ti._isComparisonIdentical(oe.compareValue))("mat-calendar-body-today",ti.todayValue===oe.compareValue),K.R7$(1),K.SpI(" ",oe.displayValue," ")}}function vi(ae,En){if(1&ae&&(K.j41(0,"tr",5),K.DNE(1,Ye,2,6,"td",6),K.DNE(2,Ht,5,48,"td",7),K.k0s()),2&ae){const oe=En.$implicit,dt=En.index,et=K.XpG();K.R7$(1),K.Y8G("ngIf",0===dt&&et._firstRowOffset),K.R7$(1),K.Y8G("ngForOf",oe)}}function Et(ae,En){if(1&ae&&(K.j41(0,"th",5)(1,"span",6),K.EFF(2),K.k0s(),K.j41(3,"span",7),K.EFF(4),K.k0s()()),2&ae){const oe=En.$implicit;K.R7$(2),K.JRh(oe.long),K.R7$(2),K.JRh(oe.narrow)}}const wi=["*"];function bi(ae,En){}function Ci(ae,En){if(1&ae){const oe=K.RV6();K.j41(0,"mat-month-view",5),K.bIt("activeDateChange",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti.activeDate=et)})("_userSelection",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._dateSelected(et))})("dragStarted",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._dragStarted(et))})("dragEnded",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._dragEnded(et))}),K.k0s()}if(2&ae){const oe=K.XpG();K.Y8G("activeDate",oe.activeDate)("selected",oe.selected)("dateFilter",oe.dateFilter)("maxDate",oe.maxDate)("minDate",oe.minDate)("dateClass",oe.dateClass)("comparisonStart",oe.comparisonStart)("comparisonEnd",oe.comparisonEnd)("startDateAccessibleName",oe.startDateAccessibleName)("endDateAccessibleName",oe.endDateAccessibleName)("activeDrag",oe._activeDrag)}}function an(ae,En){if(1&ae){const oe=K.RV6();K.j41(0,"mat-year-view",6),K.bIt("activeDateChange",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti.activeDate=et)})("monthSelected",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._monthSelectedInYearView(et))})("selectedChange",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._goToDateInView(et,"month"))}),K.k0s()}if(2&ae){const oe=K.XpG();K.Y8G("activeDate",oe.activeDate)("selected",oe.selected)("dateFilter",oe.dateFilter)("maxDate",oe.maxDate)("minDate",oe.minDate)("dateClass",oe.dateClass)}}function Oi(ae,En){if(1&ae){const oe=K.RV6();K.j41(0,"mat-multi-year-view",7),K.bIt("activeDateChange",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti.activeDate=et)})("yearSelected",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._yearSelectedInMultiYearView(et))})("selectedChange",function(et){K.eBV(oe);const ti=K.XpG();return K.Njj(ti._goToDateInView(et,"year"))}),K.k0s()}if(2&ae){const oe=K.XpG();K.Y8G("activeDate",oe.activeDate)("selected",oe.selected)("dateFilter",oe.dateFilter)("maxDate",oe.maxDate)("minDate",oe.minDate)("dateClass",oe.dateClass)}}function Cn(ae,En){}const Qt=["button"];function lt(ae,En){1&ae&&(K.qSk(),K.j41(0,"svg",3),K.nrm(1,"path",4),K.k0s())}const wt=[[["","matDatepickerToggleIcon",""]]],ii=["[matDatepickerToggleIcon]"];let di=(()=>{class ae{constructor(){this.changes=new ie.B,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(oe,dt){return`${oe} \u2013 ${dt}`}formatYearRangeLabel(oe,dt){return`${oe} to ${dt}`}static{this.\u0275fac=function(dt){return new(dt||ae)}}static{this.\u0275prov=K.jDH({token:ae,factory:ae.\u0275fac,providedIn:"root"})}}return ae})();class st{constructor(En,oe,dt,et,ti={},Fi=En,Un){this.value=En,this.displayValue=oe,this.ariaLabel=dt,this.enabled=et,this.cssClasses=ti,this.compareValue=Fi,this.rawValue=Un}}let ri=1;const ct=(0,Be.BQ)({passive:!1,capture:!0}),Ut=(0,Be.BQ)({passive:!0,capture:!0}),ft=(0,Be.BQ)({passive:!0});let Wt=(()=>{class ae{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(oe,dt){this._elementRef=oe,this._ngZone=dt,this._platform=(0,K.WQX)(Be.OD),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new K.bkB,this.previewChange=new K.bkB,this.activeDateChange=new K.bkB,this.dragStarted=new K.bkB,this.dragEnded=new K.bkB,this._didDragSinceMouseDown=!1,this._enterHandler=et=>{if(this._skipNextFocus&&"focus"===et.type)this._skipNextFocus=!1;else if(et.target&&this.isRange){const ti=this._getCellFromElement(et.target);ti&&this._ngZone.run(()=>this.previewChange.emit({value:ti.enabled?ti:null,event:et}))}},this._touchmoveHandler=et=>{if(!this.isRange)return;const ti=dn(et),Fi=ti?this._getCellFromElement(ti):null;ti!==et.target&&(this._didDragSinceMouseDown=!0),Yt(et.target)&&et.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:Fi?.enabled?Fi:null,event:et}))},this._leaveHandler=et=>{null!==this.previewEnd&&this.isRange&&("blur"!==et.type&&(this._didDragSinceMouseDown=!0),et.target&&this._getCellFromElement(et.target)&&(!et.relatedTarget||!this._getCellFromElement(et.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:et})))},this._mousedownHandler=et=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;const ti=et.target&&this._getCellFromElement(et.target);!ti||!this._isInRange(ti.rawValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:ti.rawValue,event:et})})},this._mouseupHandler=et=>{if(!this.isRange)return;const ti=Yt(et.target);ti?ti.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{const Fi=this._getCellFromElement(ti);this.dragEnded.emit({value:Fi?.rawValue??null,event:et})}):this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:et})})},this._touchendHandler=et=>{const ti=dn(et);ti&&this._mouseupHandler({target:ti})},this._id="mat-calendar-body-"+ri++,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,dt.runOutsideAngular(()=>{const et=oe.nativeElement;et.addEventListener("touchmove",this._touchmoveHandler,ct),et.addEventListener("mouseenter",this._enterHandler,Ut),et.addEventListener("focus",this._enterHandler,Ut),et.addEventListener("mouseleave",this._leaveHandler,Ut),et.addEventListener("blur",this._leaveHandler,Ut),et.addEventListener("mousedown",this._mousedownHandler,ft),et.addEventListener("touchstart",this._mousedownHandler,ft),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(oe,dt){this._didDragSinceMouseDown||oe.enabled&&this.selectedValueChange.emit({value:oe.value,event:dt})}_emitActiveDateChange(oe,dt){oe.enabled&&this.activeDateChange.emit({value:oe.value,event:dt})}_isSelected(oe){return this.startValue===oe||this.endValue===oe}ngOnChanges(oe){const dt=oe.numCols,{rows:et,numCols:ti}=this;(oe.rows||dt)&&(this._firstRowOffset=et&&et.length&&et[0].length?ti-et[0].length:0),(oe.cellAspectRatio||dt||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/ti+"%"),(dt||!this._cellWidth)&&(this._cellWidth=100/ti+"%")}ngOnDestroy(){const oe=this._elementRef.nativeElement;oe.removeEventListener("touchmove",this._touchmoveHandler,ct),oe.removeEventListener("mouseenter",this._enterHandler,Ut),oe.removeEventListener("focus",this._enterHandler,Ut),oe.removeEventListener("mouseleave",this._leaveHandler,Ut),oe.removeEventListener("blur",this._leaveHandler,Ut),oe.removeEventListener("mousedown",this._mousedownHandler,ft),oe.removeEventListener("touchstart",this._mousedownHandler,ft),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(oe,dt){let et=oe*this.numCols+dt;return oe&&(et-=this._firstRowOffset),et==this.activeCell}_focusActiveCell(oe=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Ct.s)(1)).subscribe(()=>{setTimeout(()=>{const dt=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");dt&&(oe||(this._skipNextFocus=!0),dt.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(oe){return Mi(oe,this.startValue,this.endValue)}_isRangeEnd(oe){return Qi(oe,this.startValue,this.endValue)}_isInRange(oe){return tn(oe,this.startValue,this.endValue,this.isRange)}_isComparisonStart(oe){return Mi(oe,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(oe,dt,et){if(!this._isComparisonStart(oe)||this._isRangeStart(oe)||!this._isInRange(oe))return!1;let ti=this.rows[dt][et-1];if(!ti){const Fi=this.rows[dt-1];ti=Fi&&Fi[Fi.length-1]}return ti&&!this._isRangeEnd(ti.compareValue)}_isComparisonBridgeEnd(oe,dt,et){if(!this._isComparisonEnd(oe)||this._isRangeEnd(oe)||!this._isInRange(oe))return!1;let ti=this.rows[dt][et+1];if(!ti){const Fi=this.rows[dt+1];ti=Fi&&Fi[0]}return ti&&!this._isRangeStart(ti.compareValue)}_isComparisonEnd(oe){return Qi(oe,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(oe){return tn(oe,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(oe){return this.comparisonStart===this.comparisonEnd&&oe===this.comparisonStart}_isPreviewStart(oe){return Mi(oe,this.previewStart,this.previewEnd)}_isPreviewEnd(oe){return Qi(oe,this.previewStart,this.previewEnd)}_isInPreview(oe){return tn(oe,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(oe){return this.isRange?this.startValue===oe&&this.endValue===oe?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===oe?this._startDateLabelId:this.endValue===oe?this._endDateLabelId:null:null}_getCellFromElement(oe){const dt=Yt(oe);if(dt){const et=dt.getAttribute("data-mat-row"),ti=dt.getAttribute("data-mat-col");if(et&&ti)return this.rows[parseInt(et)][parseInt(ti)]}return null}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.aKT),K.rXU(K.SKi))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[K.OA$],attrs:Le,decls:6,vars:6,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],[1,"mat-calendar-body-hidden-label",3,"id"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(dt,et){1&dt&&(K.DNE(0,We,3,6,"tr",0),K.DNE(1,vi,3,2,"tr",1),K.j41(2,"label",2),K.EFF(3),K.k0s(),K.j41(4,"label",2),K.EFF(5),K.k0s()),2&dt&&(K.Y8G("ngIf",et._firstRowOffset<et.labelMinRequiredCells),K.R7$(1),K.Y8G("ngForOf",et.rows),K.R7$(1),K.Y8G("id",et._startDateLabelId),K.R7$(1),K.SpI(" ",et.startDateAccessibleName,"\n"),K.R7$(1),K.Y8G("id",et._endDateLabelId),K.R7$(1),K.SpI(" ",et.endDateAccessibleName,"\n"))},dependencies:[ye.YU,ye.Sq,ye.bT],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0})}}return ae})();function tt(ae){return"TD"===ae?.nodeName}function Yt(ae){let En;return tt(ae)?En=ae:tt(ae.parentNode)?En=ae.parentNode:tt(ae.parentNode?.parentNode)&&(En=ae.parentNode.parentNode),null!=En?.getAttribute("data-mat-row")?En:null}function Mi(ae,En,oe){return null!==oe&&En!==oe&&ae<oe&&ae===En}function Qi(ae,En,oe){return null!==En&&En!==oe&&ae>=En&&ae===oe}function tn(ae,En,oe,dt){return dt&&null!==En&&null!==oe&&En!==oe&&ae>=En&&ae<=oe}function dn(ae){const En=ae.changedTouches[0];return document.elementFromPoint(En.clientX,En.clientY)}class gn{constructor(En,oe){this.start=En,this.end=oe}}let Sn=(()=>{class ae{constructor(oe,dt){this.selection=oe,this._adapter=dt,this._selectionChanged=new ie.B,this.selectionChanged=this._selectionChanged,this.selection=oe}updateSelection(oe,dt){const et=this.selection;this.selection=oe,this._selectionChanged.next({selection:oe,source:dt,oldValue:et})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(oe){return this._adapter.isDateInstance(oe)&&this._adapter.isValid(oe)}static{this.\u0275fac=function(dt){K.QTQ()}}static{this.\u0275prov=K.jDH({token:ae,factory:ae.\u0275fac})}}return ae})(),Ni=(()=>{class ae extends Sn{constructor(oe){super(null,oe)}add(oe){super.updateSelection(oe,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const oe=new ae(this._adapter);return oe.updateSelection(this.selection,this),oe}static{this.\u0275fac=function(dt){return new(dt||ae)(K.KVO(rt.MJ))}}static{this.\u0275prov=K.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();const jt={provide:Sn,deps:[[new K.Xx1,new K.kdw,Sn],rt.MJ],useFactory:function mt(ae,En){return ae||new Ni(En)}},Kt=new K.nKC("MAT_DATE_RANGE_SELECTION_STRATEGY");let qe=(()=>{class ae{get activeDate(){return this._activeDate}set activeDate(oe){const dt=this._activeDate,et=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(et,this.minDate,this.maxDate),this._hasSameMonthAndYear(dt,this._activeDate)||this._init()}get selected(){return this._selected}set selected(oe){this._selected=oe instanceof gn?oe:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(oe){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get maxDate(){return this._maxDate}set maxDate(oe){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}constructor(oe,dt,et,ti,Fi){this._changeDetectorRef=oe,this._dateFormats=dt,this._dateAdapter=et,this._dir=ti,this._rangeStrategy=Fi,this._rerenderSubscription=ee.yU.EMPTY,this.activeDrag=null,this.selectedChange=new K.bkB,this._userSelection=new K.bkB,this.dragStarted=new K.bkB,this.dragEnded=new K.bkB,this.activeDateChange=new K.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,qt.Z)(null)).subscribe(()=>this._init())}ngOnChanges(oe){const dt=oe.comparisonStart||oe.comparisonEnd;dt&&!dt.firstChange&&this._setRanges(this.selected),oe.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(oe){const dt=oe.value,et=this._getDateFromDayOfMonth(dt);let ti,Fi;this._selected instanceof gn?(ti=this._getDateInCurrentMonth(this._selected.start),Fi=this._getDateInCurrentMonth(this._selected.end)):ti=Fi=this._getDateInCurrentMonth(this._selected),(ti!==dt||Fi!==dt)&&this.selectedChange.emit(et),this._userSelection.emit({value:et,event:oe.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(oe){const et=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(oe.value),this._dateAdapter.compareDate(et,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(oe){const dt=this._activeDate,et=this._isRtl();switch(oe.keyCode){case ue.UQ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,et?1:-1);break;case ue.LE:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,et?-1:1);break;case ue.i7:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case ue.n6:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case ue.yZ:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case ue.Kp:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case ue.w_:this.activeDate=oe.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case ue.dB:this.activeDate=oe.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case ue.Fm:case ue.t6:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&oe.preventDefault());case ue._f:return void(null!=this._previewEnd&&!(0,ue.rp)(oe)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:oe}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:oe})),oe.preventDefault(),oe.stopPropagation()));default:return}this._dateAdapter.compareDate(dt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),oe.preventDefault()}_handleCalendarBodyKeyup(oe){(oe.keyCode===ue.t6||oe.keyCode===ue.Fm)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:oe}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let oe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(oe)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(oe){this._matCalendarBody._focusActiveCell(oe)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:oe,value:dt}){if(this._rangeStrategy){const et=dt?dt.rawValue:null,ti=this._rangeStrategy.createPreview(et,this.selected,oe);if(this._previewStart=this._getCellCompareValue(ti.start),this._previewEnd=this._getCellCompareValue(ti.end),this.activeDrag&&et){const Fi=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,et,oe);Fi&&(this._previewStart=this._getCellCompareValue(Fi.start),this._previewEnd=this._getCellCompareValue(Fi.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(oe){if(this.activeDrag)if(oe.value){const dt=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,oe.value,oe.event);this.dragEnded.emit({value:dt??null,event:oe.event})}else this.dragEnded.emit({value:null,event:oe.event})}_getDateFromDayOfMonth(oe){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),oe)}_initWeekdays(){const oe=this._dateAdapter.getFirstDayOfWeek(),dt=this._dateAdapter.getDayOfWeekNames("narrow");let ti=this._dateAdapter.getDayOfWeekNames("long").map((Fi,Un)=>({long:Fi,narrow:dt[Un]}));this._weekdays=ti.slice(oe).concat(ti.slice(0,oe))}_createWeekCells(){const oe=this._dateAdapter.getNumDaysInMonth(this.activeDate),dt=this._dateAdapter.getDateNames();this._weeks=[[]];for(let et=0,ti=this._firstWeekOffset;et<oe;et++,ti++){7==ti&&(this._weeks.push([]),ti=0);const Fi=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),et+1),Un=this._shouldEnableDate(Fi),Rr=this._dateAdapter.format(Fi,this._dateFormats.display.dateA11yLabel),ua=this.dateClass?this.dateClass(Fi,"month"):void 0;this._weeks[this._weeks.length-1].push(new st(et+1,dt[et],Rr,Un,ua,this._getCellCompareValue(Fi),Fi))}}_shouldEnableDate(oe){return!!oe&&(!this.minDate||this._dateAdapter.compareDate(oe,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(oe,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(oe))}_getDateInCurrentMonth(oe){return oe&&this._hasSameMonthAndYear(oe,this.activeDate)?this._dateAdapter.getDate(oe):null}_hasSameMonthAndYear(oe,dt){return!(!oe||!dt||this._dateAdapter.getMonth(oe)!=this._dateAdapter.getMonth(dt)||this._dateAdapter.getYear(oe)!=this._dateAdapter.getYear(dt))}_getCellCompareValue(oe){if(oe){const dt=this._dateAdapter.getYear(oe),et=this._dateAdapter.getMonth(oe),ti=this._dateAdapter.getDate(oe);return new Date(dt,et,ti).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(oe){oe instanceof gn?(this._rangeStart=this._getCellCompareValue(oe.start),this._rangeEnd=this._getCellCompareValue(oe.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(oe),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(oe){return!this.dateFilter||this.dateFilter(oe)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.gRc),K.rXU(rt.de,8),K.rXU(rt.MJ,8),K.rXU(P.dS,8),K.rXU(Kt,8))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-month-view"]],viewQuery:function(dt,et){if(1&dt&&K.GBs(Wt,5),2&dt){let ti;K.mGM(ti=K.lsd())&&(et._matCalendarBody=ti.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[K.OA$],decls:7,vars:15,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName","selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(dt,et){1&dt&&(K.j41(0,"table",0)(1,"thead",1)(2,"tr"),K.DNE(3,Et,5,2,"th",2),K.k0s(),K.j41(4,"tr"),K.nrm(5,"th",3),K.k0s()(),K.j41(6,"tbody",4),K.bIt("selectedValueChange",function(Fi){return et._dateSelected(Fi)})("activeDateChange",function(Fi){return et._updateActiveDate(Fi)})("previewChange",function(Fi){return et._previewChanged(Fi)})("dragStarted",function(Fi){return et.dragStarted.emit(Fi)})("dragEnded",function(Fi){return et._dragEnded(Fi)})("keyup",function(Fi){return et._handleCalendarBodyKeyup(Fi)})("keydown",function(Fi){return et._handleCalendarBodyKeydown(Fi)}),K.k0s()()),2&dt&&(K.R7$(3),K.Y8G("ngForOf",et._weekdays),K.R7$(3),K.Y8G("label",et._monthLabel)("rows",et._weeks)("todayValue",et._todayDate)("startValue",et._rangeStart)("endValue",et._rangeEnd)("comparisonStart",et._comparisonRangeStart)("comparisonEnd",et._comparisonRangeEnd)("previewStart",et._previewStart)("previewEnd",et._previewEnd)("isRange",et._isRange)("labelMinRequiredCells",3)("activeCell",et._dateAdapter.getDate(et.activeDate)-1)("startDateAccessibleName",et.startDateAccessibleName)("endDateAccessibleName",et.endDateAccessibleName))},dependencies:[ye.Sq,Wt],encapsulation:2,changeDetection:0})}}return ae})();const Dt=24;let Rt=(()=>{class ae{get activeDate(){return this._activeDate}set activeDate(oe){let dt=this._activeDate;const et=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(et,this.minDate,this.maxDate),Te(this._dateAdapter,dt,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(oe){this._selected=oe instanceof gn?oe:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe)),this._setSelectedYear(oe)}get minDate(){return this._minDate}set minDate(oe){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get maxDate(){return this._maxDate}set maxDate(oe){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}constructor(oe,dt,et){this._changeDetectorRef=oe,this._dateAdapter=dt,this._dir=et,this._rerenderSubscription=ee.yU.EMPTY,this.selectedChange=new K.bkB,this.yearSelected=new K.bkB,this.activeDateChange=new K.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,qt.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const dt=this._dateAdapter.getYear(this._activeDate)-bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let et=0,ti=[];et<Dt;et++)ti.push(dt+et),4==ti.length&&(this._years.push(ti.map(Fi=>this._createCellForYear(Fi))),ti=[]);this._changeDetectorRef.markForCheck()}_yearSelected(oe){const dt=oe.value,et=this._dateAdapter.createDate(dt,0,1),ti=this._getDateFromYear(dt);this.yearSelected.emit(et),this.selectedChange.emit(ti)}_updateActiveDate(oe){const et=this._activeDate;this.activeDate=this._getDateFromYear(oe.value),this._dateAdapter.compareDate(et,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(oe){const dt=this._activeDate,et=this._isRtl();switch(oe.keyCode){case ue.UQ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,et?1:-1);break;case ue.LE:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,et?-1:1);break;case ue.i7:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case ue.n6:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case ue.yZ:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case ue.Kp:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Dt-bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case ue.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,oe.altKey?10*-Dt:-Dt);break;case ue.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,oe.altKey?10*Dt:Dt);break;case ue.Fm:case ue.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(dt,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),oe.preventDefault()}_handleCalendarBodyKeyup(oe){(oe.keyCode===ue.t6||oe.keyCode===ue.Fm)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:oe}),this._selectionKeyPressed=!1)}_getActiveCell(){return bt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(oe){const dt=this._dateAdapter.getMonth(this.activeDate),et=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(oe,dt,1));return this._dateAdapter.createDate(oe,dt,Math.min(this._dateAdapter.getDate(this.activeDate),et))}_createCellForYear(oe){const dt=this._dateAdapter.createDate(oe,0,1),et=this._dateAdapter.getYearName(dt),ti=this.dateClass?this.dateClass(dt,"multi-year"):void 0;return new st(oe,et,et,this._shouldEnableYear(oe),ti)}_shouldEnableYear(oe){if(null==oe||this.maxDate&&oe>this._dateAdapter.getYear(this.maxDate)||this.minDate&&oe<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let et=this._dateAdapter.createDate(oe,0,1);this._dateAdapter.getYear(et)==oe;et=this._dateAdapter.addCalendarDays(et,1))if(this.dateFilter(et))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(oe){if(this._selectedYear=null,oe instanceof gn){const dt=oe.start||oe.end;dt&&(this._selectedYear=this._dateAdapter.getYear(dt))}else oe&&(this._selectedYear=this._dateAdapter.getYear(oe))}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.gRc),K.rXU(rt.MJ,8),K.rXU(P.dS,8))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-multi-year-view"]],viewQuery:function(dt,et){if(1&dt&&K.GBs(Wt,5),2&dt){let ti;K.mGM(ti=K.lsd())&&(et._matCalendarBody=ti.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(dt,et){1&dt&&(K.j41(0,"table",0)(1,"thead",1)(2,"tr"),K.nrm(3,"th",2),K.k0s()(),K.j41(4,"tbody",3),K.bIt("selectedValueChange",function(Fi){return et._yearSelected(Fi)})("activeDateChange",function(Fi){return et._updateActiveDate(Fi)})("keyup",function(Fi){return et._handleCalendarBodyKeyup(Fi)})("keydown",function(Fi){return et._handleCalendarBodyKeydown(Fi)}),K.k0s()()),2&dt&&(K.R7$(4),K.Y8G("rows",et._years)("todayValue",et._todayYear)("startValue",et._selectedYear)("endValue",et._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",et._getActiveCell()))},dependencies:[Wt],encapsulation:2,changeDetection:0})}}return ae})();function Te(ae,En,oe,dt,et){const ti=ae.getYear(En),Fi=ae.getYear(oe),Un=Gt(ae,dt,et);return Math.floor((ti-Un)/Dt)===Math.floor((Fi-Un)/Dt)}function bt(ae,En,oe,dt){return function Pe(ae,En){return(ae%En+En)%En}(ae.getYear(En)-Gt(ae,oe,dt),Dt)}function Gt(ae,En,oe){let dt=0;return oe?dt=ae.getYear(oe)-Dt+1:En&&(dt=ae.getYear(En)),dt}let te=(()=>{class ae{get activeDate(){return this._activeDate}set activeDate(oe){let dt=this._activeDate;const et=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(et,this.minDate,this.maxDate),this._dateAdapter.getYear(dt)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(oe){this._selected=oe instanceof gn?oe:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe)),this._setSelectedMonth(oe)}get minDate(){return this._minDate}set minDate(oe){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get maxDate(){return this._maxDate}set maxDate(oe){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}constructor(oe,dt,et,ti){this._changeDetectorRef=oe,this._dateFormats=dt,this._dateAdapter=et,this._dir=ti,this._rerenderSubscription=ee.yU.EMPTY,this.selectedChange=new K.bkB,this.monthSelected=new K.bkB,this.activeDateChange=new K.bkB,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,qt.Z)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(oe){const dt=oe.value,et=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),dt,1);this.monthSelected.emit(et);const ti=this._getDateFromMonth(dt);this.selectedChange.emit(ti)}_updateActiveDate(oe){const et=this._activeDate;this.activeDate=this._getDateFromMonth(oe.value),this._dateAdapter.compareDate(et,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(oe){const dt=this._activeDate,et=this._isRtl();switch(oe.keyCode){case ue.UQ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,et?1:-1);break;case ue.LE:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,et?-1:1);break;case ue.i7:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case ue.n6:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case ue.yZ:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case ue.Kp:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case ue.w_:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,oe.altKey?-10:-1);break;case ue.dB:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,oe.altKey?10:1);break;case ue.Fm:case ue.t6:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(dt,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),oe.preventDefault()}_handleCalendarBodyKeyup(oe){(oe.keyCode===ue.t6||oe.keyCode===ue.Fm)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:oe}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let oe=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(dt=>dt.map(et=>this._createCellForMonth(et,oe[et]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(oe){return oe&&this._dateAdapter.getYear(oe)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(oe):null}_getDateFromMonth(oe){const dt=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),oe,1),et=this._dateAdapter.getNumDaysInMonth(dt);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),oe,Math.min(this._dateAdapter.getDate(this.activeDate),et))}_createCellForMonth(oe,dt){const et=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),oe,1),ti=this._dateAdapter.format(et,this._dateFormats.display.monthYearA11yLabel),Fi=this.dateClass?this.dateClass(et,"year"):void 0;return new st(oe,dt.toLocaleUpperCase(),ti,this._shouldEnableMonth(oe),Fi)}_shouldEnableMonth(oe){const dt=this._dateAdapter.getYear(this.activeDate);if(null==oe||this._isYearAndMonthAfterMaxDate(dt,oe)||this._isYearAndMonthBeforeMinDate(dt,oe))return!1;if(!this.dateFilter)return!0;for(let ti=this._dateAdapter.createDate(dt,oe,1);this._dateAdapter.getMonth(ti)==oe;ti=this._dateAdapter.addCalendarDays(ti,1))if(this.dateFilter(ti))return!0;return!1}_isYearAndMonthAfterMaxDate(oe,dt){if(this.maxDate){const et=this._dateAdapter.getYear(this.maxDate),ti=this._dateAdapter.getMonth(this.maxDate);return oe>et||oe===et&&dt>ti}return!1}_isYearAndMonthBeforeMinDate(oe,dt){if(this.minDate){const et=this._dateAdapter.getYear(this.minDate),ti=this._dateAdapter.getMonth(this.minDate);return oe<et||oe===et&&dt<ti}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(oe){this._selectedMonth=oe instanceof gn?this._getMonthInCurrentYear(oe.start)||this._getMonthInCurrentYear(oe.end):this._getMonthInCurrentYear(oe)}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.gRc),K.rXU(rt.de,8),K.rXU(rt.MJ,8),K.rXU(P.dS,8))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-year-view"]],viewQuery:function(dt,et){if(1&dt&&K.GBs(Wt,5),2&dt){let ti;K.mGM(ti=K.lsd())&&(et._matCalendarBody=ti.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(dt,et){1&dt&&(K.j41(0,"table",0)(1,"thead",1)(2,"tr"),K.nrm(3,"th",2),K.k0s()(),K.j41(4,"tbody",3),K.bIt("selectedValueChange",function(Fi){return et._monthSelected(Fi)})("activeDateChange",function(Fi){return et._updateActiveDate(Fi)})("keyup",function(Fi){return et._handleCalendarBodyKeyup(Fi)})("keydown",function(Fi){return et._handleCalendarBodyKeydown(Fi)}),K.k0s()()),2&dt&&(K.R7$(4),K.Y8G("label",et._yearLabel)("rows",et._months)("todayValue",et._todayMonth)("startValue",et._selectedMonth)("endValue",et._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",et._dateAdapter.getMonth(et.activeDate)))},dependencies:[Wt],encapsulation:2,changeDetection:0})}}return ae})(),ge=1,Re=(()=>{class ae{constructor(oe,dt,et,ti,Fi){this._intl=oe,this.calendar=dt,this._dateAdapter=et,this._dateFormats=ti,this._id="mat-calendar-header-"+ge++,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>Fi.markForCheck())}get periodButtonText(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return"month"==this.calendar.currentView?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():"year"==this.calendar.currentView?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-Dt)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:Dt)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(oe,dt){return"month"==this.calendar.currentView?this._dateAdapter.getYear(oe)==this._dateAdapter.getYear(dt)&&this._dateAdapter.getMonth(oe)==this._dateAdapter.getMonth(dt):"year"==this.calendar.currentView?this._dateAdapter.getYear(oe)==this._dateAdapter.getYear(dt):Te(this._dateAdapter,oe,dt,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){const dt=this._dateAdapter.getYear(this.calendar.activeDate)-bt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),et=dt+Dt-1;return[this._dateAdapter.getYearName(this._dateAdapter.createDate(dt,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(et,0,1))]}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(di),K.rXU((0,K.Rfq)(()=>Ve)),K.rXU(rt.MJ,8),K.rXU(rt.de,8),K.rXU(K.gRc))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:wi,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"],[1,"mat-calendar-hidden-label",3,"id"]],template:function(dt,et){1&dt&&(K.NAR(),K.j41(0,"div",0)(1,"div",1)(2,"button",2),K.bIt("click",function(){return et.currentPeriodClicked()}),K.j41(3,"span",3),K.EFF(4),K.k0s(),K.qSk(),K.j41(5,"svg",4),K.nrm(6,"polygon",5),K.k0s()(),K.joV(),K.nrm(7,"div",6),K.SdG(8),K.j41(9,"button",7),K.bIt("click",function(){return et.previousClicked()}),K.k0s(),K.j41(10,"button",8),K.bIt("click",function(){return et.nextClicked()}),K.k0s()()(),K.j41(11,"label",9),K.EFF(12),K.k0s()),2&dt&&(K.R7$(2),K.BMQ("aria-label",et.periodButtonLabel)("aria-describedby",et._periodButtonLabelId),K.R7$(2),K.JRh(et.periodButtonText),K.R7$(1),K.AVh("mat-calendar-invert","month"!==et.calendar.currentView),K.R7$(4),K.Y8G("disabled",!et.previousEnabled()),K.BMQ("aria-label",et.prevButtonLabel),K.R7$(1),K.Y8G("disabled",!et.nextEnabled()),K.BMQ("aria-label",et.nextButtonLabel),K.R7$(1),K.Y8G("id",et._periodButtonLabelId),K.R7$(1),K.JRh(et.periodButtonDescription))},dependencies:[Ke.$z,Ke.iY],encapsulation:2,changeDetection:0})}}return ae})(),Ve=(()=>{class ae{get startAt(){return this._startAt}set startAt(oe){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get selected(){return this._selected}set selected(oe){this._selected=oe instanceof gn?oe:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get minDate(){return this._minDate}set minDate(oe){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get maxDate(){return this._maxDate}set maxDate(oe){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get activeDate(){return this._clampedActiveDate}set activeDate(oe){this._clampedActiveDate=this._dateAdapter.clampDate(oe,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(oe){const dt=this._currentView!==oe?oe:null;this._currentView=oe,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),dt&&this.viewChanged.emit(dt)}constructor(oe,dt,et,ti){this._dateAdapter=dt,this._dateFormats=et,this._changeDetectorRef=ti,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new K.bkB,this.yearSelected=new K.bkB,this.monthSelected=new K.bkB,this.viewChanged=new K.bkB(!0),this._userSelection=new K.bkB,this._userDragDrop=new K.bkB,this._activeDrag=null,this.stateChanges=new ie.B,this._intlChanges=oe.changes.subscribe(()=>{ti.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new E.A8(this.headerComponent||Re),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(oe){const dt=oe.minDate&&!this._dateAdapter.sameDate(oe.minDate.previousValue,oe.minDate.currentValue)?oe.minDate:void 0,et=oe.maxDate&&!this._dateAdapter.sameDate(oe.maxDate.previousValue,oe.maxDate.currentValue)?oe.maxDate:void 0,ti=dt||et||oe.dateFilter;if(ti&&!ti.firstChange){const Fi=this._getCurrentViewComponent();Fi&&(this._changeDetectorRef.detectChanges(),Fi._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(oe){const dt=oe.value;(this.selected instanceof gn||dt&&!this._dateAdapter.sameDate(dt,this.selected))&&this.selectedChange.emit(dt),this._userSelection.emit(oe)}_yearSelectedInMultiYearView(oe){this.yearSelected.emit(oe)}_monthSelectedInYearView(oe){this.monthSelected.emit(oe)}_goToDateInView(oe,dt){this.activeDate=oe,this.currentView=dt}_dragStarted(oe){this._activeDrag=oe}_dragEnded(oe){this._activeDrag&&(oe.value&&this._userDragDrop.emit(oe),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(di),K.rXU(rt.MJ,8),K.rXU(rt.de,8),K.rXU(K.gRc))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-calendar"]],viewQuery:function(dt,et){if(1&dt&&(K.GBs(qe,5),K.GBs(te,5),K.GBs(Rt,5)),2&dt){let ti;K.mGM(ti=K.lsd())&&(et.monthView=ti.first),K.mGM(ti=K.lsd())&&(et.yearView=ti.first),K.mGM(ti=K.lsd())&&(et.multiYearView=ti.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[K.Jv_([jt]),K.OA$],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag","activeDateChange","_userSelection","dragStarted","dragEnded"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(dt,et){1&dt&&(K.DNE(0,bi,0,0,"ng-template",0),K.j41(1,"div",1),K.DNE(2,Ci,1,11,"mat-month-view",2),K.DNE(3,an,1,6,"mat-year-view",3),K.DNE(4,Oi,1,6,"mat-multi-year-view",4),K.k0s()),2&dt&&(K.Y8G("cdkPortalOutlet",et._calendarHeaderPortal),K.R7$(1),K.Y8G("ngSwitch",et.currentView),K.R7$(1),K.Y8G("ngSwitchCase","month"),K.R7$(1),K.Y8G("ngSwitchCase","year"),K.R7$(1),K.Y8G("ngSwitchCase","multi-year"))},dependencies:[ye.ux,ye.e1,b.vR,E.I3,qe,te,Rt],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button,.mat-datepicker-content .mat-calendar-next-button{color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}.mat-calendar-hidden-label{display:none}'],encapsulation:2,changeDetection:0})}}return ae})();const zt={transformPanel:(0,oi.hZ)("transformPanel",[(0,oi.kY)("void => enter-dropdown",(0,oi.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,oi.i7)([(0,oi.iF)({opacity:0,transform:"scale(1, 0.8)"}),(0,oi.iF)({opacity:1,transform:"scale(1, 1)"})]))),(0,oi.kY)("void => enter-dialog",(0,oi.i0)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,oi.i7)([(0,oi.iF)({opacity:0,transform:"scale(0.7)"}),(0,oi.iF)({transform:"none",opacity:1})]))),(0,oi.kY)("* => void",(0,oi.i0)("100ms linear",(0,oi.iF)({opacity:0})))]),fadeInCalendar:(0,oi.hZ)("fadeInCalendar",[(0,oi.wk)("void",(0,oi.iF)({opacity:0})),(0,oi.wk)("enter",(0,oi.iF)({opacity:1})),(0,oi.kY)("void => *",(0,oi.i0)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Ri=0;const _t=new K.nKC("mat-datepicker-scroll-strategy"),Se={provide:_t,deps:[O.hJ],useFactory:function at(ae){return()=>ae.scrollStrategies.reposition()}},Me=(0,rt.Zc)(class{constructor(ae){this._elementRef=ae}});let Nt=(()=>{class ae extends Me{constructor(oe,dt,et,ti,Fi,Un){super(oe),this._changeDetectorRef=dt,this._globalModel=et,this._dateAdapter=ti,this._rangeSelectionStrategy=Fi,this._subscriptions=new ee.yU,this._animationDone=new ie.B,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=Un.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(oe){const dt=this._model.selection,et=oe.value,ti=dt instanceof gn;if(ti&&this._rangeSelectionStrategy){const Fi=this._rangeSelectionStrategy.selectionFinished(et,dt,oe.event);this._model.updateSelection(Fi,this)}else et&&(ti||!this._dateAdapter.sameDate(et,dt))&&this._model.add(et);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(oe){this._model.updateSelection(oe.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(oe){this._isAnimating="start"===oe.phaseName,this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(oe,dt){this._model=oe?this._globalModel.clone():this._globalModel,this._actionsPortal=oe,dt&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.aKT),K.rXU(K.gRc),K.rXU(Sn),K.rXU(rt.MJ),K.rXU(Kt,8),K.rXU(di))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-datepicker-content"]],viewQuery:function(dt,et){if(1&dt&&K.GBs(Ve,5),2&dt){let ti;K.mGM(ti=K.lsd())&&(et._calendar=ti.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(dt,et){1&dt&&K.Kam("@transformPanel.start",function(Fi){return et._handleAnimationEvent(Fi)})("@transformPanel.done",function(Fi){return et._handleAnimationEvent(Fi)}),2&dt&&(K.zvX("@transformPanel",et._animationState),K.AVh("mat-datepicker-content-touch",et.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[K.Vt3],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(dt,et){if(1&dt&&(K.j41(0,"div",0)(1,"mat-calendar",1),K.bIt("yearSelected",function(Fi){return et.datepicker._selectYear(Fi)})("monthSelected",function(Fi){return et.datepicker._selectMonth(Fi)})("viewChanged",function(Fi){return et.datepicker._viewChanged(Fi)})("_userSelection",function(Fi){return et._handleUserSelection(Fi)})("_userDragDrop",function(Fi){return et._handleUserDragDrop(Fi)}),K.k0s(),K.DNE(2,Cn,0,0,"ng-template",2),K.j41(3,"button",3),K.bIt("focus",function(){return et._closeButtonFocused=!0})("blur",function(){return et._closeButtonFocused=!1})("click",function(){return et.datepicker.close()}),K.EFF(4),K.k0s()()),2&dt){let ti;K.AVh("mat-datepicker-content-container-with-custom-header",et.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",et._actionsPortal),K.BMQ("aria-modal",!0)("aria-labelledby",null!==(ti=et._dialogLabelId)&&void 0!==ti?ti:void 0),K.R7$(1),K.Y8G("id",et.datepicker.id)("ngClass",et.datepicker.panelClass)("startAt",et.datepicker.startAt)("startView",et.datepicker.startView)("minDate",et.datepicker._getMinDate())("maxDate",et.datepicker._getMaxDate())("dateFilter",et.datepicker._getDateFilter())("headerComponent",et.datepicker.calendarHeaderComponent)("selected",et._getSelected())("dateClass",et.datepicker.dateClass)("comparisonStart",et.comparisonStart)("comparisonEnd",et.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",et.startDateAccessibleName)("endDateAccessibleName",et.endDateAccessibleName),K.R7$(1),K.Y8G("cdkPortalOutlet",et._actionsPortal),K.R7$(1),K.AVh("cdk-visually-hidden",!et._closeButtonFocused),K.Y8G("color",et.color||"primary"),K.R7$(1),K.JRh(et._closeButtonText)}},dependencies:[ye.YU,Ke.$z,b.kB,E.I3,Ve],styles:[".mat-datepicker-content{box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{box-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[zt.transformPanel,zt.fadeInCalendar]},changeDetection:0})}}return ae})(),Ii=(()=>{class ae{get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(oe){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(oe){this._color=oe}get touchUi(){return this._touchUi}set touchUi(oe){this._touchUi=(0,Ai.he)(oe)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(oe){const dt=(0,Ai.he)(oe);dt!==this._disabled&&(this._disabled=dt,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(oe){this._restoreFocus=(0,Ai.he)(oe)}get panelClass(){return this._panelClass}set panelClass(oe){this._panelClass=(0,Ai.cc)(oe)}get opened(){return this._opened}set opened(oe){(0,Ai.he)(oe)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}constructor(oe,dt,et,ti,Fi,Un,Rr){this._overlay=oe,this._ngZone=dt,this._viewContainerRef=et,this._dateAdapter=Fi,this._dir=Un,this._model=Rr,this._inputStateChanges=ee.yU.EMPTY,this._document=(0,K.WQX)(ye.qQ),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new K.bkB,this.monthSelected=new K.bkB,this.viewChanged=new K.bkB(!0),this.openedStream=new K.bkB,this.closedStream=new K.bkB,this._opened=!1,this.id="mat-datepicker-"+Ri++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ie.B,this._scrollStrategy=ti}ngOnChanges(oe){const dt=oe.xPosition||oe.yPosition;if(dt&&!dt.firstChange&&this._overlayRef){const et=this._overlayRef.getConfig().positionStrategy;et instanceof O.rW&&(this._setConnectedPositions(et),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(oe){this._model.add(oe)}_selectYear(oe){this.yearSelected.emit(oe)}_selectMonth(oe){this.monthSelected.emit(oe)}_viewChanged(oe){this.viewChanged.emit(oe)}registerInput(oe){return this._inputStateChanges.unsubscribe(),this.datepickerInput=oe,this._inputStateChanges=oe.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(oe){this._actionsPortal=oe,this._componentRef?.instance._assignActions(oe,!0)}removeActions(oe){oe===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this._focusedElementBeforeOpen=(0,Be.vc)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;const oe=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,dt=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:et,location:ti}=this._componentRef;et._startExitAnimation(),et._animationDone.pipe((0,Ct.s)(1)).subscribe(()=>{const Fi=this._document.activeElement;oe&&(!Fi||Fi===this._document.activeElement||ti.nativeElement.contains(Fi))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}oe?setTimeout(dt):dt()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(oe){oe.datepicker=this,oe.color=this.color,oe._dialogLabelId=this.datepickerInput.getOverlayLabelId(),oe._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const oe=this.touchUi,dt=new E.A8(Nt,this._viewContainerRef),et=this._overlayRef=this._overlay.create(new O.rR({positionStrategy:oe?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[oe?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:oe?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(oe?"dialog":"popup")}));this._getCloseStream(et).subscribe(ti=>{ti&&ti.preventDefault(),this.close()}),et.keydownEvents().subscribe(ti=>{const Fi=ti.keyCode;(Fi===ue.i7||Fi===ue.n6||Fi===ue.UQ||Fi===ue.LE||Fi===ue.w_||Fi===ue.dB)&&ti.preventDefault()}),this._componentRef=et.attach(dt),this._forwardContentValues(this._componentRef.instance),oe||this._ngZone.onStable.pipe((0,Ct.s)(1)).subscribe(()=>et.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const oe=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(oe)}_setConnectedPositions(oe){const dt="end"===this.xPosition?"end":"start",et="start"===dt?"end":"start",ti="above"===this.yPosition?"bottom":"top",Fi="top"===ti?"bottom":"top";return oe.withPositions([{originX:dt,originY:Fi,overlayX:dt,overlayY:ti},{originX:dt,originY:ti,overlayX:dt,overlayY:Fi},{originX:et,originY:Fi,overlayX:et,overlayY:ti},{originX:et,originY:ti,overlayX:et,overlayY:Fi}])}_getCloseStream(oe){const dt=["ctrlKey","shiftKey","metaKey"];return(0,Ce.h)(oe.backdropClick(),oe.detachments(),oe.keydownEvents().pipe((0,pt.p)(et=>et.keyCode===ue._f&&!(0,ue.rp)(et)||this.datepickerInput&&(0,ue.rp)(et,"altKey")&&et.keyCode===ue.i7&&dt.every(ti=>!(0,ue.rp)(et,ti)))))}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(O.hJ),K.rXU(K.SKi),K.rXU(K.c1b),K.rXU(_t),K.rXU(rt.MJ,8),K.rXU(P.dS,8),K.rXU(Sn))}}static{this.\u0275dir=K.FsC({type:ae,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[K.OA$]})}}return ae})(),On=(()=>{class ae extends Ii{static{this.\u0275fac=function(){let oe;return function(et){return(oe||(oe=K.xGo(ae)))(et||ae)}}()}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[K.Jv_([jt,{provide:Ii,useExisting:ae}]),K.Vt3],decls:0,vars:0,template:function(dt,et){},encapsulation:2,changeDetection:0})}}return ae})();class Di{constructor(En,oe){this.target=En,this.targetElement=oe,this.value=this.target.value}}let Zi=(()=>{class ae{get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(oe){this._assignValueProgrammatically(oe)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(oe){const dt=(0,Ai.he)(oe),et=this._elementRef.nativeElement;this._disabled!==dt&&(this._disabled=dt,this.stateChanges.next(void 0)),dt&&this._isInitialized&&et.blur&&et.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(oe){this._model=oe,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(dt=>{if(this._shouldHandleChangeEvent(dt)){const et=this._getValueFromModel(dt.selection);this._lastValueValid=this._isValidValue(et),this._cvaOnChange(et),this._onTouched(),this._formatValue(et),this.dateInput.emit(new Di(this,this._elementRef.nativeElement)),this.dateChange.emit(new Di(this,this._elementRef.nativeElement))}})}constructor(oe,dt,et){this._elementRef=oe,this._dateAdapter=dt,this._dateFormats=et,this.dateChange=new K.bkB,this.dateInput=new K.bkB,this.stateChanges=new ie.B,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ee.yU.EMPTY,this._localeSubscription=ee.yU.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=ti=>{const Fi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ti.value));return!Fi||this._matchesFilter(Fi)?null:{matDatepickerFilter:!0}},this._minValidator=ti=>{const Fi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ti.value)),Un=this._getMinDate();return!Un||!Fi||this._dateAdapter.compareDate(Un,Fi)<=0?null:{matDatepickerMin:{min:Un,actual:Fi}}},this._maxValidator=ti=>{const Fi=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(ti.value)),Un=this._getMaxDate();return!Un||!Fi||this._dateAdapter.compareDate(Un,Fi)>=0?null:{matDatepickerMax:{max:Un,actual:Fi}}},this._lastValueValid=!1,this._localeSubscription=dt.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(oe){(function Lt(ae,En){const oe=Object.keys(ae);for(let dt of oe){const{previousValue:et,currentValue:ti}=ae[dt];if(!En.isDateInstance(et)||!En.isDateInstance(ti))return!0;if(!En.sameDate(et,ti))return!0}return!1})(oe,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(oe){this._validatorOnChange=oe}validate(oe){return this._validator?this._validator(oe):null}writeValue(oe){this._assignValueProgrammatically(oe)}registerOnChange(oe){this._cvaOnChange=oe}registerOnTouched(oe){this._onTouched=oe}setDisabledState(oe){this.disabled=oe}_onKeydown(oe){(0,ue.rp)(oe,"altKey")&&oe.keyCode===ue.n6&&["ctrlKey","shiftKey","metaKey"].every(ti=>!(0,ue.rp)(oe,ti))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),oe.preventDefault())}_onInput(oe){const dt=this._lastValueValid;let et=this._dateAdapter.parse(oe,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(et),et=this._dateAdapter.getValidDateOrNull(et);const ti=!this._dateAdapter.sameDate(et,this.value);!et||ti?this._cvaOnChange(et):(oe&&!this.value&&this._cvaOnChange(et),dt!==this._lastValueValid&&this._validatorOnChange()),ti&&(this._assignValue(et),this.dateInput.emit(new Di(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Di(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(oe){this._elementRef.nativeElement.value=null!=oe?this._dateAdapter.format(oe,this._dateFormats.display.dateInput):""}_assignValue(oe){this._model?(this._assignValueToModel(oe),this._pendingValue=null):this._pendingValue=oe}_isValidValue(oe){return!oe||this._dateAdapter.isValid(oe)}_parentDisabled(){return!1}_assignValueProgrammatically(oe){oe=this._dateAdapter.deserialize(oe),this._lastValueValid=this._isValidValue(oe),oe=this._dateAdapter.getValidDateOrNull(oe),this._assignValue(oe),this._formatValue(oe)}_matchesFilter(oe){const dt=this._getDateFilter();return!dt||dt(oe)}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.aKT),K.rXU(rt.MJ,8),K.rXU(rt.de,8))}}static{this.\u0275dir=K.FsC({type:ae,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[K.OA$]})}}return ae})();const ai={provide:q.kq,useExisting:(0,K.Rfq)(()=>li),multi:!0},ki={provide:q.cz,useExisting:(0,K.Rfq)(()=>li),multi:!0};let li=(()=>{class ae extends Zi{set matDatepicker(oe){oe&&(this._datepicker=oe,this._closedSubscription=oe.closedStream.subscribe(()=>this._onTouched()),this._registerModel(oe.registerInput(this)))}get min(){return this._min}set min(oe){const dt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe));this._dateAdapter.sameDate(dt,this._min)||(this._min=dt,this._validatorOnChange())}get max(){return this._max}set max(oe){const dt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(oe));this._dateAdapter.sameDate(dt,this._max)||(this._max=dt,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(oe){const dt=this._matchesFilter(this.value);this._dateFilter=oe,this._matchesFilter(this.value)!==dt&&this._validatorOnChange()}constructor(oe,dt,et,ti){super(oe,dt,et),this._formField=ti,this._closedSubscription=ee.yU.EMPTY,this._validator=q.k0.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(oe){return oe}_assignValueToModel(oe){this._model&&this._model.updateSelection(oe,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(oe){return oe.source!==this}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(K.aKT),K.rXU(rt.MJ,8),K.rXU(rt.de,8),K.rXU(Ot.xb,8))}}static{this.\u0275dir=K.FsC({type:ae,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(dt,et){1&dt&&K.bIt("input",function(Fi){return et._onInput(Fi.target.value)})("change",function(){return et._onChange()})("blur",function(){return et._onBlur()})("keydown",function(Fi){return et._onKeydown(Fi)}),2&dt&&(K.Mr5("disabled",et.disabled),K.BMQ("aria-haspopup",et._datepicker?"dialog":null)("aria-owns",(null==et._datepicker?null:et._datepicker.opened)&&et._datepicker.id||null)("min",et.min?et._dateAdapter.toIso8601(et.min):null)("max",et.max?et._dateAdapter.toIso8601(et.max):null)("data-mat-calendar",et._datepicker?et._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[K.Jv_([ai,ki,{provide:Oe.Oh,useExisting:ae}]),K.Vt3]})}}return ae})(),ci=(()=>{class ae{static{this.\u0275fac=function(dt){return new(dt||ae)}}static{this.\u0275dir=K.FsC({type:ae,selectors:[["","matDatepickerToggleIcon",""]]})}}return ae})(),Ti=(()=>{class ae{get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(oe){this._disabled=(0,Ai.he)(oe)}constructor(oe,dt,et){this._intl=oe,this._changeDetectorRef=dt,this._stateChanges=ee.yU.EMPTY;const ti=Number(et);this.tabIndex=ti||0===ti?ti:null}ngOnChanges(oe){oe.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(oe){this.datepicker&&!this.disabled&&(this.datepicker.open(),oe.stopPropagation())}_watchStateChanges(){const oe=this.datepicker?this.datepicker.stateChanges:(0,ve.of)(),dt=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,ve.of)(),et=this.datepicker?(0,Ce.h)(this.datepicker.openedStream,this.datepicker.closedStream):(0,ve.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ce.h)(this._intl.changes,oe,dt,et).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(dt){return new(dt||ae)(K.rXU(di),K.rXU(K.gRc),K.kS0("tabindex"))}}static{this.\u0275cmp=K.VBU({type:ae,selectors:[["mat-datepicker-toggle"]],contentQueries:function(dt,et,ti){if(1&dt&&K.wni(ti,ci,5),2&dt){let Fi;K.mGM(Fi=K.lsd())&&(et._customIcon=Fi.first)}},viewQuery:function(dt,et){if(1&dt&&K.GBs(Qt,5),2&dt){let ti;K.mGM(ti=K.lsd())&&(et._button=ti.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(dt,et){1&dt&&K.bIt("click",function(Fi){return et._open(Fi)}),2&dt&&(K.BMQ("tabindex",null)("data-mat-calendar",et.datepicker?et.datepicker.id:null),K.AVh("mat-datepicker-toggle-active",et.datepicker&&et.datepicker.opened)("mat-accent",et.datepicker&&"accent"===et.datepicker.color)("mat-warn",et.datepicker&&"warn"===et.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[K.OA$],ngContentSelectors:ii,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(dt,et){1&dt&&(K.NAR(wt),K.j41(0,"button",0,1),K.DNE(2,lt,2,0,"svg",2),K.SdG(3),K.k0s()),2&dt&&(K.Y8G("disabled",et.disabled)("disableRipple",et.disableRipple),K.BMQ("aria-haspopup",et.datepicker?"dialog":null)("aria-label",et.ariaLabel||et._intl.openCalendarLabel)("tabindex",et.disabled?-1:et.tabIndex),K.R7$(2),K.Y8G("ngIf",!et._customIcon))},dependencies:[ye.bT,Ke.iY],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return ae})(),pr=(()=>{class ae{static{this.\u0275fac=function(dt){return new(dt||ae)}}static{this.\u0275mod=K.$C({type:ae})}static{this.\u0275inj=K.G2t({providers:[di,Se],imports:[ye.MD,Ke.Hl,O.z_,b.Pd,E.jc,rt.yE,j.Gj]})}}return ae})()},4006:(Ui,ni,N)=>{"use strict";N.d(ni,{BI:()=>yt,CP:()=>vi,E7:()=>Tt,Vh:()=>wi,Yi:()=>Zt,bZ:()=>wt,hM:()=>st,ru:()=>pt});var b=N(6969),O=N(177),E=N(7705),ye=N(8617),K=N(2529),Ke=N(4085),j=N(6939),rt=N(1413),ie=N(7786),ee=N(9030),Ce=N(5964),ve=N(6697),ue=N(9172),P=N(7336),Be=N(6600);function qt(Ut,ft){}N(9969);class pt{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ai="mdc-dialog--open",oi="mdc-dialog--opening",q="mdc-dialog--closing";let Le=(()=>{class Ut extends K.sU{constructor(Wt,tt,Yt,Mi,Qi,tn,dn,gn){super(Wt,tt,Yt,Mi,Qi,tn,dn,gn),this._animationStateChanged=new E.bkB}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Wt){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Wt})}static{this.\u0275fac=function(tt){return new(tt||Ut)(E.rXU(E.aKT),E.rXU(ye.GX),E.rXU(O.qQ,8),E.rXU(pt),E.rXU(ye.Z7),E.rXU(E.SKi),E.rXU(b.yY),E.rXU(ye.FN))}}static{this.\u0275cmp=E.VBU({type:Ut,selectors:[["ng-component"]],features:[E.Vt3],decls:0,vars:0,template:function(tt,Yt){},encapsulation:2})}}return Ut})();const We="--mat-dialog-transition-duration";function Ye(Ut){return null==Ut?null:"number"==typeof Ut?Ut:Ut.endsWith("ms")?(0,Ke.OE)(Ut.substring(0,Ut.length-2)):Ut.endsWith("s")?1e3*(0,Ke.OE)(Ut.substring(0,Ut.length-1)):"0"===Ut?0:null}let Ht=(()=>{class Ut extends Le{constructor(Wt,tt,Yt,Mi,Qi,tn,dn,gn,Sn){super(Wt,tt,Yt,Mi,Qi,tn,dn,Sn),this._animationMode=gn,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ye(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Ye(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(We,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(oi,Ai)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ai),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ai),this._animationsEnabled?(this._hostElement.style.setProperty(We,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(q)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(oi,q)}_waitForAnimationToComplete(Wt,tt){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(tt,Wt)}_requestAnimationFrame(Wt){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(Wt):Wt()})}static{this.\u0275fac=function(tt){return new(tt||Ut)(E.rXU(E.aKT),E.rXU(ye.GX),E.rXU(O.qQ,8),E.rXU(pt),E.rXU(ye.Z7),E.rXU(E.SKi),E.rXU(b.yY),E.rXU(E.bc$,8),E.rXU(ye.FN))}}static{this.\u0275cmp=E.VBU({type:Ut,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(tt,Yt){2&tt&&(E.Mr5("id",Yt._config.id),E.BMQ("aria-modal",Yt._config.ariaModal)("role",Yt._config.role)("aria-labelledby",Yt._config.ariaLabel?null:Yt._ariaLabelledByQueue[0])("aria-label",Yt._config.ariaLabel)("aria-describedby",Yt._config.ariaDescribedBy||null),E.AVh("_mat-animation-noopable",!Yt._animationsEnabled))},features:[E.Vt3],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(tt,Yt){1&tt&&(E.j41(0,"div",0)(1,"div",1),E.DNE(2,qt,0,0,"ng-template",2),E.k0s()())},dependencies:[j.I3],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}}return Ut})();class vi{constructor(ft,Wt,tt){this._ref=ft,this._containerInstance=tt,this._afterOpened=new rt.B,this._beforeClosed=new rt.B,this._state=0,this.disableClose=Wt.disableClose,this.id=ft.id,tt._animationStateChanged.pipe((0,Ce.p)(Yt=>"opened"===Yt.state),(0,ve.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),tt._animationStateChanged.pipe((0,Ce.p)(Yt=>"closed"===Yt.state),(0,ve.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ft.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ie.h)(this.backdropClick(),this.keydownEvents().pipe((0,Ce.p)(Yt=>Yt.keyCode===P._f&&!this.disableClose&&!(0,P.rp)(Yt)))).subscribe(Yt=>{this.disableClose||(Yt.preventDefault(),function Et(Ut,ft,Wt){Ut._closeInteractionType=ft,Ut.close(Wt)}(this,"keydown"===Yt.type?"keyboard":"mouse"))})}close(ft){this._result=ft,this._containerInstance._animationStateChanged.pipe((0,Ce.p)(Wt=>"closing"===Wt.state),(0,ve.s)(1)).subscribe(Wt=>{this._beforeClosed.next(ft),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Wt.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ft){let Wt=this._ref.config.positionStrategy;return ft&&(ft.left||ft.right)?ft.left?Wt.left(ft.left):Wt.right(ft.right):Wt.centerHorizontally(),ft&&(ft.top||ft.bottom)?ft.top?Wt.top(ft.top):Wt.bottom(ft.bottom):Wt.centerVertically(),this._ref.updatePosition(),this}updateSize(ft="",Wt=""){return this._ref.updateSize(ft,Wt),this}addPanelClass(ft){return this._ref.addPanelClass(ft),this}removePanelClass(ft){return this._ref.removePanelClass(ft),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const wi=new E.nKC("MatMdcDialogData"),bi=new E.nKC("mat-mdc-dialog-default-options"),Ci=new E.nKC("mat-mdc-dialog-scroll-strategy"),Oi={provide:Ci,deps:[b.hJ],useFactory:function an(Ut){return()=>Ut.scrollStrategies.block()}};let Qt=0,lt=(()=>{class Ut{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Wt=this._parentDialog;return Wt?Wt._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(Wt,tt,Yt,Mi,Qi,tn,dn,gn,Sn,Ni){this._overlay=Wt,this._defaultOptions=Yt,this._parentDialog=Mi,this._dialogRefConstructor=dn,this._dialogContainerType=gn,this._dialogDataToken=Sn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rt.B,this._afterOpenedAtThisLevel=new rt.B,this._idPrefix="mat-dialog-",this.dialogConfigClass=pt,this.afterAllClosed=(0,ee.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ue.Z)(void 0))),this._scrollStrategy=tn,this._dialog=tt.get(K.lG)}open(Wt,tt){let Yt;(tt={...this._defaultOptions||new pt,...tt}).id=tt.id||`${this._idPrefix}${Qt++}`,tt.scrollStrategy=tt.scrollStrategy||this._scrollStrategy();const Mi=this._dialog.open(Wt,{...tt,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:tt},{provide:K.Pe,useValue:tt}]},templateContext:()=>({dialogRef:Yt}),providers:(Qi,tn,dn)=>(Yt=new this._dialogRefConstructor(Qi,tt,dn),Yt.updatePosition(tt?.position),[{provide:this._dialogContainerType,useValue:dn},{provide:this._dialogDataToken,useValue:tn.data},{provide:this._dialogRefConstructor,useValue:Yt}])});return Yt.componentRef=Mi.componentRef,Yt.componentInstance=Mi.componentInstance,this.openDialogs.push(Yt),this.afterOpened.next(Yt),Yt.afterClosed().subscribe(()=>{const Qi=this.openDialogs.indexOf(Yt);Qi>-1&&(this.openDialogs.splice(Qi,1),this.openDialogs.length||this._getAfterAllClosed().next())}),Yt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Wt){return this.openDialogs.find(tt=>tt.id===Wt)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Wt){let tt=Wt.length;for(;tt--;)Wt[tt].close()}static{this.\u0275fac=function(tt){E.QTQ()}}static{this.\u0275prov=E.jDH({token:Ut,factory:Ut.\u0275fac})}}return Ut})(),wt=(()=>{class Ut extends lt{constructor(Wt,tt,Yt,Mi,Qi,tn,dn,gn){super(Wt,tt,Mi,tn,dn,Qi,vi,Ht,wi,gn),this._idPrefix="mat-mdc-dialog-"}static{this.\u0275fac=function(tt){return new(tt||Ut)(E.KVO(b.hJ),E.KVO(E.zZn),E.KVO(O.aZ,8),E.KVO(bi,8),E.KVO(Ci),E.KVO(Ut,12),E.KVO(b.Sf),E.KVO(E.bc$,8))}}static{this.\u0275prov=E.jDH({token:Ut,factory:Ut.\u0275fac})}}return Ut})(),ii=0,yt=(()=>{class Ut{constructor(Wt,tt,Yt){this._dialogRef=Wt,this._elementRef=tt,this._dialog=Yt,this.id="mat-mdc-dialog-title-"+ii++}ngOnInit(){this._dialogRef||(this._dialogRef=function di(Ut,ft){let Wt=Ut.nativeElement.parentElement;for(;Wt&&!Wt.classList.contains("mat-mdc-dialog-container");)Wt=Wt.parentElement;return Wt?ft.find(tt=>tt.id===Wt.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const Wt=this._dialogRef?._containerInstance?._ariaLabelledByQueue;Wt&&Promise.resolve().then(()=>{const tt=Wt.indexOf(this.id);tt>-1&&Wt.splice(tt,1)})}static{this.\u0275fac=function(tt){return new(tt||Ut)(E.rXU(vi,8),E.rXU(E.aKT),E.rXU(wt))}}static{this.\u0275dir=E.FsC({type:Ut,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(tt,Yt){2&tt&&E.Mr5("id",Yt.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}}return Ut})(),Zt=(()=>{class Ut{static{this.\u0275fac=function(tt){return new(tt||Ut)}}static{this.\u0275dir=E.FsC({type:Ut,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}}return Ut})(),Tt=(()=>{class Ut{constructor(){this.align="start"}static{this.\u0275fac=function(tt){return new(tt||Ut)}}static{this.\u0275dir=E.FsC({type:Ut,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(tt,Yt){2&tt&&E.AVh("mat-mdc-dialog-actions-align-center","center"===Yt.align)("mat-mdc-dialog-actions-align-end","end"===Yt.align)},inputs:{align:"align"}})}}return Ut})(),st=(()=>{class Ut{static{this.\u0275fac=function(tt){return new(tt||Ut)}}static{this.\u0275mod=E.$C({type:Ut})}static{this.\u0275inj=E.G2t({providers:[wt,Oi],imports:[K.Ph,b.z_,j.jc,Be.yE,Be.yE]})}}return Ut})()},9454:(Ui,ni,N)=>{"use strict";N.d(ni,{BS:()=>st,MY:()=>ri,GK:()=>wt,Q6:()=>Tt,Z2:()=>Zt,WN:()=>di});var b=N(7705),O=N(5024),E=N(4085),ye=N(1413),K=N(8359);let Ke=0;const j=new b.nKC("CdkAccordion");let rt=(()=>{class ct{constructor(){this._stateChanges=new ye.B,this._openCloseAllActions=new ye.B,this.id="cdk-accordion-"+Ke++,this._multi=!1}get multi(){return this._multi}set multi(ft){this._multi=(0,E.he)(ft)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(ft){this._stateChanges.next(ft)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static{this.\u0275fac=function(Wt){return new(Wt||ct)}}static{this.\u0275dir=b.FsC({type:ct,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[b.Jv_([{provide:j,useExisting:ct}]),b.OA$]})}}return ct})(),ie=0,ee=(()=>{class ct{get expanded(){return this._expanded}set expanded(ft){ft=(0,E.he)(ft),this._expanded!==ft&&(this._expanded=ft,this.expandedChange.emit(ft),ft?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(ft){this._disabled=(0,E.he)(ft)}constructor(ft,Wt,tt){this.accordion=ft,this._changeDetectorRef=Wt,this._expansionDispatcher=tt,this._openCloseAllSubscription=K.yU.EMPTY,this.closed=new b.bkB,this.opened=new b.bkB,this.destroyed=new b.bkB,this.expandedChange=new b.bkB,this.id="cdk-accordion-child-"+ie++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=tt.listen((Yt,Mi)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Mi&&this.id!==Yt&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(ft=>{this.disabled||(this.expanded=ft)})}static{this.\u0275fac=function(Wt){return new(Wt||ct)(b.rXU(j,12),b.rXU(b.gRc),b.rXU(O.zP))}}static{this.\u0275dir=b.FsC({type:ct,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[b.Jv_([{provide:j,useValue:void 0}])]})}}return ct})(),Ce=(()=>{class ct{static{this.\u0275fac=function(Wt){return new(Wt||ct)}}static{this.\u0275mod=b.$C({type:ct})}static{this.\u0275inj=b.G2t({})}}return ct})();var ve=N(6939),ue=N(177),P=N(6600),Be=N(8617),Ct=N(3294),qt=N(9172),pt=N(5964),Ai=N(6697),oi=N(7336),q=N(983),Ot=N(7786),Oe=N(9969);const Le=["body"];function We(ct,Ut){}const Ye=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ht=["mat-expansion-panel-header","*","mat-action-row"];function vi(ct,Ut){if(1&ct&&b.nrm(0,"span",2),2&ct){const ft=b.XpG();b.Y8G("@indicatorRotate",ft._getExpandedState())}}const Et=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],wi=["mat-panel-title","mat-panel-description","*"],bi=new b.nKC("MAT_ACCORDION"),Ci="225ms cubic-bezier(0.4,0.0,0.2,1)",an={indicatorRotate:(0,Oe.hZ)("indicatorRotate",[(0,Oe.wk)("collapsed, void",(0,Oe.iF)({transform:"rotate(0deg)"})),(0,Oe.wk)("expanded",(0,Oe.iF)({transform:"rotate(180deg)"})),(0,Oe.kY)("expanded <=> collapsed, void => collapsed",(0,Oe.i0)(Ci))]),bodyExpansion:(0,Oe.hZ)("bodyExpansion",[(0,Oe.wk)("collapsed, void",(0,Oe.iF)({height:"0px",visibility:"hidden"})),(0,Oe.wk)("expanded",(0,Oe.iF)({height:"*",visibility:""})),(0,Oe.kY)("expanded <=> collapsed, void => collapsed",(0,Oe.i0)(Ci))])},Oi=new b.nKC("MAT_EXPANSION_PANEL");let Cn=(()=>{class ct{constructor(ft,Wt){this._template=ft,this._expansionPanel=Wt}static{this.\u0275fac=function(Wt){return new(Wt||ct)(b.rXU(b.C4Q),b.rXU(Oi,8))}}static{this.\u0275dir=b.FsC({type:ct,selectors:[["ng-template","matExpansionPanelContent",""]]})}}return ct})(),Qt=0;const lt=new b.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let wt=(()=>{class ct extends ee{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(ft){this._hideToggle=(0,E.he)(ft)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(ft){this._togglePosition=ft}constructor(ft,Wt,tt,Yt,Mi,Qi,tn){super(ft,Wt,tt),this._viewContainerRef=Yt,this._animationMode=Qi,this._hideToggle=!1,this.afterExpand=new b.bkB,this.afterCollapse=new b.bkB,this._inputChanges=new ye.B,this._headerId="mat-expansion-panel-header-"+Qt++,this._bodyAnimationDone=new ye.B,this.accordion=ft,this._document=Mi,this._bodyAnimationDone.pipe((0,Ct.F)((dn,gn)=>dn.fromState===gn.fromState&&dn.toState===gn.toState)).subscribe(dn=>{"void"!==dn.fromState&&("expanded"===dn.toState?this.afterExpand.emit():"collapsed"===dn.toState&&this.afterCollapse.emit())}),tn&&(this.hideToggle=tn.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,qt.Z)(null),(0,pt.p)(()=>this.expanded&&!this._portal),(0,Ai.s)(1)).subscribe(()=>{this._portal=new ve.VA(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(ft){this._inputChanges.next(ft)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const ft=this._document.activeElement,Wt=this._body.nativeElement;return ft===Wt||Wt.contains(ft)}return!1}static{this.\u0275fac=function(Wt){return new(Wt||ct)(b.rXU(bi,12),b.rXU(b.gRc),b.rXU(O.zP),b.rXU(b.c1b),b.rXU(ue.qQ),b.rXU(b.bc$,8),b.rXU(lt,8))}}static{this.\u0275cmp=b.VBU({type:ct,selectors:[["mat-expansion-panel"]],contentQueries:function(Wt,tt,Yt){if(1&Wt&&b.wni(Yt,Cn,5),2&Wt){let Mi;b.mGM(Mi=b.lsd())&&(tt._lazyContent=Mi.first)}},viewQuery:function(Wt,tt){if(1&Wt&&b.GBs(Le,5),2&Wt){let Yt;b.mGM(Yt=b.lsd())&&(tt._body=Yt.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(Wt,tt){2&Wt&&b.AVh("mat-expanded",tt.expanded)("_mat-animation-noopable","NoopAnimations"===tt._animationMode)("mat-expansion-panel-spacing",tt._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[b.Jv_([{provide:bi,useValue:void 0},{provide:Oi,useExisting:ct}]),b.Vt3,b.OA$],ngContentSelectors:Ht,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(Wt,tt){1&Wt&&(b.NAR(Ye),b.SdG(0),b.j41(1,"div",0,1),b.bIt("@bodyExpansion.done",function(Mi){return tt._bodyAnimationDone.next(Mi)}),b.j41(3,"div",2),b.SdG(4,1),b.DNE(5,We,0,0,"ng-template",3),b.k0s(),b.SdG(6,2),b.k0s()),2&Wt&&(b.R7$(1),b.Y8G("@bodyExpansion",tt._getExpandedState())("id",tt.id),b.BMQ("aria-labelledby",tt._headerId),b.R7$(4),b.Y8G("cdkPortalOutlet",tt._portal))},dependencies:[ve.I3],styles:['.mat-expansion-panel{--mat-expansion-container-shape:4px;box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[an.bodyExpansion]},changeDetection:0})}}return ct})();class ut{}const yt=(0,P.BF)(ut);let Zt=(()=>{class ct extends yt{constructor(ft,Wt,tt,Yt,Mi,Qi,tn){super(),this.panel=ft,this._element=Wt,this._focusMonitor=tt,this._changeDetectorRef=Yt,this._animationMode=Qi,this._parentChangeSubscription=K.yU.EMPTY;const dn=ft.accordion?ft.accordion._stateChanges.pipe((0,pt.p)(gn=>!(!gn.hideToggle&&!gn.togglePosition))):q.w;this.tabIndex=parseInt(tn||"")||0,this._parentChangeSubscription=(0,Ot.h)(ft.opened,ft.closed,dn,ft._inputChanges.pipe((0,pt.p)(gn=>!!(gn.hideToggle||gn.disabled||gn.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),ft.closed.pipe((0,pt.p)(()=>ft._containsFocus())).subscribe(()=>tt.focusVia(Wt,"program")),Mi&&(this.expandedHeight=Mi.expandedHeight,this.collapsedHeight=Mi.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const ft=this._isExpanded();return ft&&this.expandedHeight?this.expandedHeight:!ft&&this.collapsedHeight?this.collapsedHeight:null}_keydown(ft){switch(ft.keyCode){case oi.t6:case oi.Fm:(0,oi.rp)(ft)||(ft.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(ft))}}focus(ft,Wt){ft?this._focusMonitor.focusVia(this._element,ft,Wt):this._element.nativeElement.focus(Wt)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(ft=>{ft&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static{this.\u0275fac=function(Wt){return new(Wt||ct)(b.rXU(wt,1),b.rXU(b.aKT),b.rXU(Be.FN),b.rXU(b.gRc),b.rXU(lt,8),b.rXU(b.bc$,8),b.kS0("tabindex"))}}static{this.\u0275cmp=b.VBU({type:ct,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(Wt,tt){1&Wt&&b.bIt("click",function(){return tt._toggle()})("keydown",function(Mi){return tt._keydown(Mi)}),2&Wt&&(b.BMQ("id",tt.panel._headerId)("tabindex",tt.tabIndex)("aria-controls",tt._getPanelId())("aria-expanded",tt._isExpanded())("aria-disabled",tt.panel.disabled),b.xc7("height",tt._getHeaderHeight()),b.AVh("mat-expanded",tt._isExpanded())("mat-expansion-toggle-indicator-after","after"===tt._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===tt._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===tt._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[b.Vt3],ngContentSelectors:wi,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(Wt,tt){1&Wt&&(b.NAR(Et),b.j41(0,"span",0),b.SdG(1),b.SdG(2,1),b.SdG(3,2),b.k0s(),b.DNE(4,vi,1,1,"span",1)),2&Wt&&(b.AVh("mat-content-hide-toggle",!tt._showToggle()),b.R7$(4),b.Y8G("ngIf",tt._showToggle()))},dependencies:[ue.bT],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[an.indicatorRotate]},changeDetection:0})}}return ct})(),Tt=(()=>{class ct{static{this.\u0275fac=function(Wt){return new(Wt||ct)}}static{this.\u0275dir=b.FsC({type:ct,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]})}}return ct})(),di=(()=>{class ct{static{this.\u0275fac=function(Wt){return new(Wt||ct)}}static{this.\u0275dir=b.FsC({type:ct,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}}return ct})(),st=(()=>{class ct extends rt{constructor(){super(...arguments),this._ownHeaders=new b.rOR,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(ft){this._hideToggle=(0,E.he)(ft)}ngAfterContentInit(){this._headers.changes.pipe((0,qt.Z)(this._headers)).subscribe(ft=>{this._ownHeaders.reset(ft.filter(Wt=>Wt.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Be.Bu(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(ft){this._keyManager.onKeydown(ft)}_handleHeaderFocus(ft){this._keyManager.updateActiveItem(ft)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static{this.\u0275fac=function(){let ft;return function(tt){return(ft||(ft=b.xGo(ct)))(tt||ct)}}()}static{this.\u0275dir=b.FsC({type:ct,selectors:[["mat-accordion"]],contentQueries:function(Wt,tt,Yt){if(1&Wt&&b.wni(Yt,Zt,5),2&Wt){let Mi;b.mGM(Mi=b.lsd())&&(tt._headers=Mi)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(Wt,tt){2&Wt&&b.AVh("mat-accordion-multi",tt.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[b.Jv_([{provide:bi,useExisting:ct}]),b.Vt3]})}}return ct})(),ri=(()=>{class ct{static{this.\u0275fac=function(Wt){return new(Wt||ct)}}static{this.\u0275mod=b.$C({type:ct})}static{this.\u0275inj=b.G2t({imports:[ue.MD,P.yE,Ce,ve.jc]})}}return ct})()},6467:(Ui,ni,N)=>{"use strict";N.d(ni,{xb:()=>xe,TL:()=>ft,rl:()=>bt,qT:()=>$,RG:()=>Gt,nJ:()=>ri,yw:()=>tn});var b=N(7705),O=N(8203),E=N(6860),ye=N(8359),K=N(1413),Ke=N(7786),j=N(6977),rt=N(1985),ie=N(5964),ee=N(2771),Ce=N(7647);class P{constructor(te){this._box=te,this._destroyed=new K.B,this._resizeSubject=new K.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(ge=>this._resizeSubject.next(ge)))}observe(te){return this._elementObservables.has(te)||this._elementObservables.set(te,new rt.c(ge=>{const Re=this._resizeSubject.subscribe(ge);return this._resizeObserver?.observe(te,{box:this._box}),()=>{this._resizeObserver?.unobserve(te),Re.unsubscribe(),this._elementObservables.delete(te)}}).pipe((0,ie.p)(ge=>ge.some(Re=>Re.target===te)),function ve(Pe,te,ge){let Re,Ve=!1;return Pe&&"object"==typeof Pe?({bufferSize:Re=1/0,windowTime:te=1/0,refCount:Ve=!1,scheduler:ge}=Pe):Re=Pe??1/0,(0,Ce.u)({connector:()=>new ee.m(Re,te,ge),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ve})}({bufferSize:1,refCount:!0}),(0,j.Q)(this._destroyed))),this._elementObservables.get(te)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Be=(()=>{class Pe{constructor(){this._observers=new Map,this._ngZone=(0,b.WQX)(b.SKi)}ngOnDestroy(){for(const[,ge]of this._observers)ge.destroy();this._observers.clear()}observe(ge,Re){const Ve=Re?.box||"content-box";return this._observers.has(Ve)||this._observers.set(Ve,new P(Ve)),this._observers.get(Ve).observe(ge)}static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275prov=b.jDH({token:Pe,factory:Pe.\u0275fac,providedIn:"root"})}}return Pe})();var Ct=N(4085),qt=N(9969),pt=N(177),Ai=N(2318),oi=N(6600);const q=["notch"],Ot=["matFormFieldNotchedOutline",""],Oe=["*"],Le=["textField"],We=["iconPrefixContainer"],Ye=["textPrefixContainer"];function Ht(Pe,te){1&Pe&&b.nrm(0,"span",19)}function vi(Pe,te){if(1&Pe&&(b.j41(0,"label",17),b.SdG(1,1),b.DNE(2,Ht,1,0,"span",18),b.k0s()),2&Pe){const ge=b.XpG(2);b.Y8G("floating",ge._shouldLabelFloat())("monitorResize",ge._hasOutline())("id",ge._labelId),b.BMQ("for",ge._control.id),b.R7$(2),b.Y8G("ngIf",!ge.hideRequiredMarker&&ge._control.required)}}function Et(Pe,te){if(1&Pe&&b.DNE(0,vi,3,5,"label",16),2&Pe){const ge=b.XpG();b.Y8G("ngIf",ge._hasFloatingLabel())}}function wi(Pe,te){1&Pe&&b.nrm(0,"div",20)}function bi(Pe,te){}function Ci(Pe,te){if(1&Pe&&b.DNE(0,bi,0,0,"ng-template",22),2&Pe){b.XpG(2);const ge=b.sdS(1);b.Y8G("ngTemplateOutlet",ge)}}function an(Pe,te){if(1&Pe&&(b.j41(0,"div",21),b.DNE(1,Ci,1,1,"ng-template",9),b.k0s()),2&Pe){const ge=b.XpG();b.Y8G("matFormFieldNotchedOutlineOpen",ge._shouldLabelFloat()),b.R7$(1),b.Y8G("ngIf",!ge._forceDisplayInfixLabel())}}function Oi(Pe,te){1&Pe&&(b.j41(0,"div",23,24),b.SdG(2,2),b.k0s())}function Cn(Pe,te){1&Pe&&(b.j41(0,"div",25,26),b.SdG(2,3),b.k0s())}function Qt(Pe,te){}function lt(Pe,te){if(1&Pe&&b.DNE(0,Qt,0,0,"ng-template",22),2&Pe){b.XpG();const ge=b.sdS(1);b.Y8G("ngTemplateOutlet",ge)}}function wt(Pe,te){1&Pe&&(b.j41(0,"div",27),b.SdG(1,4),b.k0s())}function ii(Pe,te){1&Pe&&(b.j41(0,"div",28),b.SdG(1,5),b.k0s())}function ut(Pe,te){1&Pe&&b.nrm(0,"div",29)}function yt(Pe,te){if(1&Pe&&(b.j41(0,"div",30),b.SdG(1,6),b.k0s()),2&Pe){const ge=b.XpG();b.Y8G("@transitionMessages",ge._subscriptAnimationState)}}function Zt(Pe,te){if(1&Pe&&(b.j41(0,"mat-hint",34),b.EFF(1),b.k0s()),2&Pe){const ge=b.XpG(2);b.Y8G("id",ge._hintLabelId),b.R7$(1),b.JRh(ge.hintLabel)}}function Tt(Pe,te){if(1&Pe&&(b.j41(0,"div",31),b.DNE(1,Zt,2,2,"mat-hint",32),b.SdG(2,7),b.nrm(3,"div",33),b.SdG(4,8),b.k0s()),2&Pe){const ge=b.XpG();b.Y8G("@transitionMessages",ge._subscriptAnimationState),b.R7$(1),b.Y8G("ngIf",ge.hintLabel)}}const di=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],st=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let ri=(()=>{class Pe{static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["mat-label"]]})}}return Pe})(),ct=0;const Ut=new b.nKC("MatError");let ft=(()=>{class Pe{constructor(ge,Re){this.id="mat-mdc-error-"+ct++,ge||Re.nativeElement.setAttribute("aria-live","polite")}static{this.\u0275fac=function(Re){return new(Re||Pe)(b.kS0("aria-live"),b.rXU(b.aKT))}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Re,Ve){2&Re&&b.Mr5("id",Ve.id)},inputs:{id:"id"},features:[b.Jv_([{provide:Ut,useExisting:Pe}])]})}}return Pe})(),Wt=0,tt=(()=>{class Pe{constructor(){this.align="start",this.id="mat-mdc-hint-"+Wt++}static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Re,Ve){2&Re&&(b.Mr5("id",Ve.id),b.BMQ("align",null),b.AVh("mat-mdc-form-field-hint-end","end"===Ve.align))},inputs:{align:"align",id:"id"}})}}return Pe})();const Yt=new b.nKC("MatPrefix"),Qi=new b.nKC("MatSuffix");let tn=(()=>{class Pe{constructor(){this._isText=!1}set _isTextSelector(ge){this._isText=!0}static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[b.Jv_([{provide:Qi,useExisting:Pe}])]})}}return Pe})();const dn=new b.nKC("FloatingLabelParent");let gn=(()=>{class Pe{get floating(){return this._floating}set floating(ge){this._floating=ge,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(ge){this._monitorResize=ge,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(ge){this._elementRef=ge,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,b.WQX)(Be),this._ngZone=(0,b.WQX)(b.SKi),this._parent=(0,b.WQX)(dn),this._resizeSubscription=new ye.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Sn(Pe){if(null!==Pe.offsetParent)return Pe.scrollWidth;const ge=Pe.cloneNode(!0);ge.style.setProperty("position","absolute"),ge.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(ge);const Re=ge.scrollWidth;return ge.remove(),Re}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(Re){return new(Re||Pe)(b.rXU(b.aKT))}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Re,Ve){2&Re&&b.AVh("mdc-floating-label--float-above",Ve.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}}return Pe})();const Ni="mdc-line-ripple--active",St="mdc-line-ripple--deactivating";let mt=(()=>{class Pe{constructor(ge,Re){this._elementRef=ge,this._handleTransitionEnd=Ve=>{const zt=this._elementRef.nativeElement.classList,Ri=zt.contains(St);"opacity"===Ve.propertyName&&Ri&&zt.remove(Ni,St)},Re.runOutsideAngular(()=>{ge.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const ge=this._elementRef.nativeElement.classList;ge.remove(St),ge.add(Ni)}deactivate(){this._elementRef.nativeElement.classList.add(St)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(Re){return new(Re||Pe)(b.rXU(b.aKT),b.rXU(b.SKi))}}static{this.\u0275dir=b.FsC({type:Pe,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}}return Pe})(),jt=(()=>{class Pe{constructor(ge,Re){this._elementRef=ge,this._ngZone=Re,this.open=!1}ngAfterViewInit(){const ge=this._elementRef.nativeElement.querySelector(".mdc-floating-label");ge?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(ge.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>ge.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(ge){this._notch.nativeElement.style.width=this.open&&ge?`calc(${ge}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(Re){return new(Re||Pe)(b.rXU(b.aKT),b.rXU(b.SKi))}}static{this.\u0275cmp=b.VBU({type:Pe,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Re,Ve){if(1&Re&&b.GBs(q,5),2&Re){let zt;b.mGM(zt=b.lsd())&&(Ve._notch=zt.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Re,Ve){2&Re&&b.AVh("mdc-notched-outline--notched",Ve.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Ot,ngContentSelectors:Oe,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(Re,Ve){1&Re&&(b.NAR(),b.nrm(0,"div",0),b.j41(1,"div",1,2),b.SdG(3),b.k0s(),b.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}}return Pe})();const It={transitionMessages:(0,qt.hZ)("transitionMessages",[(0,qt.wk)("enter",(0,qt.iF)({opacity:1,transform:"translateY(0%)"})),(0,qt.kY)("void => enter",[(0,qt.iF)({opacity:0,transform:"translateY(-5px)"}),(0,qt.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let $=(()=>{class Pe{static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275dir=b.FsC({type:Pe})}}return Pe})();const xe=new b.nKC("MatFormField"),Pt=new b.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let qe=0,bt=(()=>{class Pe{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ge){this._hideRequiredMarker=(0,Ct.he)(ge)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(ge){ge!==this._floatLabel&&(this._floatLabel=ge,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(ge){const Re=this._appearance;this._appearance=ge||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==Re&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(ge){this._subscriptSizing=ge||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(ge){this._hintLabel=ge,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(ge){this._explicitFormFieldControl=ge}constructor(ge,Re,Ve,zt,Ri,_t,at,Se){this._elementRef=ge,this._changeDetectorRef=Re,this._ngZone=Ve,this._dir=zt,this._platform=Ri,this._defaults=_t,this._animationMode=at,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+qe++,this._hintLabelId="mat-mdc-hint-"+qe++,this._subscriptAnimationState="",this._destroyed=new K.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,_t&&(_t.appearance&&(this.appearance=_t.appearance),this._hideRequiredMarker=!!_t?.hideRequiredMarker,_t.color&&(this.color=_t.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const ge=this._control;ge.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${ge.controlType}`),ge.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ge.ngControl&&ge.ngControl.valueChanges&&ge.ngControl.valueChanges.pipe((0,j.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(ge=>!ge._isText),this._hasTextPrefix=!!this._prefixChildren.find(ge=>ge._isText),this._hasIconSuffix=!!this._suffixChildren.find(ge=>!ge._isText),this._hasTextSuffix=!!this._suffixChildren.find(ge=>ge._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ke.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,j.Q)(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe((0,j.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(ge){const Re=this._control?this._control.ngControl:null;return Re&&Re[ge]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let ge=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ge.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Re=this._hintChildren?this._hintChildren.find(zt=>"start"===zt.align):null,Ve=this._hintChildren?this._hintChildren.find(zt=>"end"===zt.align):null;Re?ge.push(Re.id):this._hintLabel&&ge.push(this._hintLabelId),Ve&&ge.push(Ve.id)}else this._errorChildren&&ge.push(...this._errorChildren.map(Re=>Re.id));this._control.setDescribedByIds(ge)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const ge=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(ge.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const Re=this._iconPrefixContainer?.nativeElement,Ve=this._textPrefixContainer?.nativeElement,zt=Re?.getBoundingClientRect().width??0,Ri=Ve?.getBoundingClientRect().width??0;ge.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${zt+Ri}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const ge=this._elementRef.nativeElement;if(ge.getRootNode){const Re=ge.getRootNode();return Re&&Re!==ge}return document.documentElement.contains(ge)}static{this.\u0275fac=function(Re){return new(Re||Pe)(b.rXU(b.aKT),b.rXU(b.gRc),b.rXU(b.SKi),b.rXU(O.dS),b.rXU(E.OD),b.rXU(Pt,8),b.rXU(b.bc$,8),b.rXU(pt.qQ))}}static{this.\u0275cmp=b.VBU({type:Pe,selectors:[["mat-form-field"]],contentQueries:function(Re,Ve,zt){if(1&Re&&(b.wni(zt,ri,5),b.wni(zt,ri,7),b.wni(zt,$,5),b.wni(zt,Yt,5),b.wni(zt,Qi,5),b.wni(zt,Ut,5),b.wni(zt,tt,5)),2&Re){let Ri;b.mGM(Ri=b.lsd())&&(Ve._labelChildNonStatic=Ri.first),b.mGM(Ri=b.lsd())&&(Ve._labelChildStatic=Ri.first),b.mGM(Ri=b.lsd())&&(Ve._formFieldControl=Ri.first),b.mGM(Ri=b.lsd())&&(Ve._prefixChildren=Ri),b.mGM(Ri=b.lsd())&&(Ve._suffixChildren=Ri),b.mGM(Ri=b.lsd())&&(Ve._errorChildren=Ri),b.mGM(Ri=b.lsd())&&(Ve._hintChildren=Ri)}},viewQuery:function(Re,Ve){if(1&Re&&(b.GBs(Le,5),b.GBs(We,5),b.GBs(Ye,5),b.GBs(gn,5),b.GBs(jt,5),b.GBs(mt,5)),2&Re){let zt;b.mGM(zt=b.lsd())&&(Ve._textField=zt.first),b.mGM(zt=b.lsd())&&(Ve._iconPrefixContainer=zt.first),b.mGM(zt=b.lsd())&&(Ve._textPrefixContainer=zt.first),b.mGM(zt=b.lsd())&&(Ve._floatingLabel=zt.first),b.mGM(zt=b.lsd())&&(Ve._notchedOutline=zt.first),b.mGM(zt=b.lsd())&&(Ve._lineRipple=zt.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Re,Ve){2&Re&&b.AVh("mat-mdc-form-field-label-always-float",Ve._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Ve._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Ve._hasIconSuffix)("mat-form-field-invalid",Ve._control.errorState)("mat-form-field-disabled",Ve._control.disabled)("mat-form-field-autofilled",Ve._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Ve._animationMode)("mat-form-field-appearance-fill","fill"==Ve.appearance)("mat-form-field-appearance-outline","outline"==Ve.appearance)("mat-form-field-hide-placeholder",Ve._hasFloatingLabel()&&!Ve._shouldLabelFloat())("mat-focused",Ve._control.focused)("mat-primary","accent"!==Ve.color&&"warn"!==Ve.color)("mat-accent","accent"===Ve.color)("mat-warn","warn"===Ve.color)("ng-untouched",Ve._shouldForward("untouched"))("ng-touched",Ve._shouldForward("touched"))("ng-pristine",Ve._shouldForward("pristine"))("ng-dirty",Ve._shouldForward("dirty"))("ng-valid",Ve._shouldForward("valid"))("ng-invalid",Ve._shouldForward("invalid"))("ng-pending",Ve._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[b.Jv_([{provide:xe,useExisting:Pe},{provide:dn,useExisting:Pe}])],ngContentSelectors:st,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(Re,Ve){1&Re&&(b.NAR(di),b.DNE(0,Et,1,1,"ng-template",null,0,b.C5r),b.j41(2,"div",1,2),b.bIt("click",function(Ri){return Ve._control.onContainerClick(Ri)}),b.DNE(4,wi,1,0,"div",3),b.j41(5,"div",4),b.DNE(6,an,2,2,"div",5),b.DNE(7,Oi,3,0,"div",6),b.DNE(8,Cn,3,0,"div",7),b.j41(9,"div",8),b.DNE(10,lt,1,1,"ng-template",9),b.SdG(11),b.k0s(),b.DNE(12,wt,2,0,"div",10),b.DNE(13,ii,2,0,"div",11),b.k0s(),b.DNE(14,ut,1,0,"div",12),b.k0s(),b.j41(15,"div",13),b.DNE(16,yt,2,1,"div",14),b.DNE(17,Tt,5,2,"div",15),b.k0s()),2&Re&&(b.R7$(2),b.AVh("mdc-text-field--filled",!Ve._hasOutline())("mdc-text-field--outlined",Ve._hasOutline())("mdc-text-field--no-label",!Ve._hasFloatingLabel())("mdc-text-field--disabled",Ve._control.disabled)("mdc-text-field--invalid",Ve._control.errorState),b.R7$(2),b.Y8G("ngIf",!Ve._hasOutline()&&!Ve._control.disabled),b.R7$(2),b.Y8G("ngIf",Ve._hasOutline()),b.R7$(1),b.Y8G("ngIf",Ve._hasIconPrefix),b.R7$(1),b.Y8G("ngIf",Ve._hasTextPrefix),b.R7$(2),b.Y8G("ngIf",!Ve._hasOutline()||Ve._forceDisplayInfixLabel()),b.R7$(2),b.Y8G("ngIf",Ve._hasTextSuffix),b.R7$(1),b.Y8G("ngIf",Ve._hasIconSuffix),b.R7$(1),b.Y8G("ngIf",!Ve._hasOutline()),b.R7$(1),b.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Ve.subscriptSizing),b.Y8G("ngSwitch",Ve._getDisplayedMessages()),b.R7$(1),b.Y8G("ngSwitchCase","error"),b.R7$(1),b.Y8G("ngSwitchCase","hint"))},dependencies:[pt.bT,pt.T3,pt.ux,pt.e1,tt,gn,jt,mt],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[It.transitionMessages]},changeDetection:0})}}return Pe})(),Gt=(()=>{class Pe{static{this.\u0275fac=function(Re){return new(Re||Pe)}}static{this.\u0275mod=b.$C({type:Pe})}static{this.\u0275inj=b.G2t({imports:[oi.yE,pt.MD,Ai.w5,oi.yE]})}}return Pe})()},9213:(Ui,ni,N)=>{"use strict";N.d(ni,{An:()=>ii,m_:()=>ut});var b=N(7705),O=N(6600),E=N(4085),ye=N(177),K=N(7673),Ke=N(8810),j=N(7468),rt=N(8359),ie=N(8141),ee=N(6354),Ce=N(9437),ve=N(980),ue=N(7647),P=N(6697),Be=N(1626),Ct=N(345);const qt=["*"];let pt;function oi(yt){return function Ai(){if(void 0===pt&&(pt=null,typeof window<"u")){const yt=window;void 0!==yt.trustedTypes&&(pt=yt.trustedTypes.createPolicy("angular#components",{createHTML:Zt=>Zt}))}return pt}()?.createHTML(yt)||yt}function q(yt){return Error(`Unable to find icon with the name "${yt}"`)}function Oe(yt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${yt}".`)}function Le(yt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${yt}".`)}class We{constructor(Zt,Tt,di){this.url=Zt,this.svgText=Tt,this.options=di}}let Ye=(()=>{class yt{constructor(Tt,di,st,ri){this._httpClient=Tt,this._sanitizer=di,this._errorHandler=ri,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=st}addSvgIcon(Tt,di,st){return this.addSvgIconInNamespace("",Tt,di,st)}addSvgIconLiteral(Tt,di,st){return this.addSvgIconLiteralInNamespace("",Tt,di,st)}addSvgIconInNamespace(Tt,di,st,ri){return this._addSvgIconConfig(Tt,di,new We(st,null,ri))}addSvgIconResolver(Tt){return this._resolvers.push(Tt),this}addSvgIconLiteralInNamespace(Tt,di,st,ri){const ct=this._sanitizer.sanitize(b.WPN.HTML,st);if(!ct)throw Le(st);const Ut=oi(ct);return this._addSvgIconConfig(Tt,di,new We("",Ut,ri))}addSvgIconSet(Tt,di){return this.addSvgIconSetInNamespace("",Tt,di)}addSvgIconSetLiteral(Tt,di){return this.addSvgIconSetLiteralInNamespace("",Tt,di)}addSvgIconSetInNamespace(Tt,di,st){return this._addSvgIconSetConfig(Tt,new We(di,null,st))}addSvgIconSetLiteralInNamespace(Tt,di,st){const ri=this._sanitizer.sanitize(b.WPN.HTML,di);if(!ri)throw Le(di);const ct=oi(ri);return this._addSvgIconSetConfig(Tt,new We("",ct,st))}registerFontClassAlias(Tt,di=Tt){return this._fontCssClassesByAlias.set(Tt,di),this}classNameForFontAlias(Tt){return this._fontCssClassesByAlias.get(Tt)||Tt}setDefaultFontSetClass(...Tt){return this._defaultFontSetClass=Tt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Tt){const di=this._sanitizer.sanitize(b.WPN.RESOURCE_URL,Tt);if(!di)throw Oe(Tt);const st=this._cachedIconsByUrl.get(di);return st?(0,K.of)(Et(st)):this._loadSvgIconFromConfig(new We(Tt,null)).pipe((0,ie.M)(ri=>this._cachedIconsByUrl.set(di,ri)),(0,ee.T)(ri=>Et(ri)))}getNamedSvgIcon(Tt,di=""){const st=wi(di,Tt);let ri=this._svgIconConfigs.get(st);if(ri)return this._getSvgFromConfig(ri);if(ri=this._getIconConfigFromResolvers(di,Tt),ri)return this._svgIconConfigs.set(st,ri),this._getSvgFromConfig(ri);const ct=this._iconSetConfigs.get(di);return ct?this._getSvgFromIconSetConfigs(Tt,ct):(0,Ke.$)(q(st))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Tt){return Tt.svgText?(0,K.of)(Et(this._svgElementFromConfig(Tt))):this._loadSvgIconFromConfig(Tt).pipe((0,ee.T)(di=>Et(di)))}_getSvgFromIconSetConfigs(Tt,di){const st=this._extractIconWithNameFromAnySet(Tt,di);if(st)return(0,K.of)(st);const ri=di.filter(ct=>!ct.svgText).map(ct=>this._loadSvgIconSetFromConfig(ct).pipe((0,Ce.W)(Ut=>{const Wt=`Loading icon set URL: ${this._sanitizer.sanitize(b.WPN.RESOURCE_URL,ct.url)} failed: ${Ut.message}`;return this._errorHandler.handleError(new Error(Wt)),(0,K.of)(null)})));return(0,j.p)(ri).pipe((0,ee.T)(()=>{const ct=this._extractIconWithNameFromAnySet(Tt,di);if(!ct)throw q(Tt);return ct}))}_extractIconWithNameFromAnySet(Tt,di){for(let st=di.length-1;st>=0;st--){const ri=di[st];if(ri.svgText&&ri.svgText.toString().indexOf(Tt)>-1){const ct=this._svgElementFromConfig(ri),Ut=this._extractSvgIconFromSet(ct,Tt,ri.options);if(Ut)return Ut}}return null}_loadSvgIconFromConfig(Tt){return this._fetchIcon(Tt).pipe((0,ie.M)(di=>Tt.svgText=di),(0,ee.T)(()=>this._svgElementFromConfig(Tt)))}_loadSvgIconSetFromConfig(Tt){return Tt.svgText?(0,K.of)(null):this._fetchIcon(Tt).pipe((0,ie.M)(di=>Tt.svgText=di))}_extractSvgIconFromSet(Tt,di,st){const ri=Tt.querySelector(`[id="${di}"]`);if(!ri)return null;const ct=ri.cloneNode(!0);if(ct.removeAttribute("id"),"svg"===ct.nodeName.toLowerCase())return this._setSvgAttributes(ct,st);if("symbol"===ct.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ct),st);const Ut=this._svgElementFromString(oi("<svg></svg>"));return Ut.appendChild(ct),this._setSvgAttributes(Ut,st)}_svgElementFromString(Tt){const di=this._document.createElement("DIV");di.innerHTML=Tt;const st=di.querySelector("svg");if(!st)throw Error("<svg> tag not found");return st}_toSvgElement(Tt){const di=this._svgElementFromString(oi("<svg></svg>")),st=Tt.attributes;for(let ri=0;ri<st.length;ri++){const{name:ct,value:Ut}=st[ri];"id"!==ct&&di.setAttribute(ct,Ut)}for(let ri=0;ri<Tt.childNodes.length;ri++)Tt.childNodes[ri].nodeType===this._document.ELEMENT_NODE&&di.appendChild(Tt.childNodes[ri].cloneNode(!0));return di}_setSvgAttributes(Tt,di){return Tt.setAttribute("fit",""),Tt.setAttribute("height","100%"),Tt.setAttribute("width","100%"),Tt.setAttribute("preserveAspectRatio","xMidYMid meet"),Tt.setAttribute("focusable","false"),di&&di.viewBox&&Tt.setAttribute("viewBox",di.viewBox),Tt}_fetchIcon(Tt){const{url:di,options:st}=Tt,ri=st?.withCredentials??!1;if(!this._httpClient)throw function Ot(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==di)throw Error(`Cannot fetch icon from URL "${di}".`);const ct=this._sanitizer.sanitize(b.WPN.RESOURCE_URL,di);if(!ct)throw Oe(di);const Ut=this._inProgressUrlFetches.get(ct);if(Ut)return Ut;const ft=this._httpClient.get(ct,{responseType:"text",withCredentials:ri}).pipe((0,ee.T)(Wt=>oi(Wt)),(0,ve.j)(()=>this._inProgressUrlFetches.delete(ct)),(0,ue.u)());return this._inProgressUrlFetches.set(ct,ft),ft}_addSvgIconConfig(Tt,di,st){return this._svgIconConfigs.set(wi(Tt,di),st),this}_addSvgIconSetConfig(Tt,di){const st=this._iconSetConfigs.get(Tt);return st?st.push(di):this._iconSetConfigs.set(Tt,[di]),this}_svgElementFromConfig(Tt){if(!Tt.svgElement){const di=this._svgElementFromString(Tt.svgText);this._setSvgAttributes(di,Tt.options),Tt.svgElement=di}return Tt.svgElement}_getIconConfigFromResolvers(Tt,di){for(let st=0;st<this._resolvers.length;st++){const ri=this._resolvers[st](di,Tt);if(ri)return bi(ri)?new We(ri.url,null,ri.options):new We(ri,null)}}static{this.\u0275fac=function(di){return new(di||yt)(b.KVO(Be.Qq,8),b.KVO(Ct.up),b.KVO(ye.qQ,8),b.KVO(b.zcH))}}static{this.\u0275prov=b.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}}return yt})();function Et(yt){return yt.cloneNode(!0)}function wi(yt,Zt){return yt+":"+Zt}function bi(yt){return!(!yt.url||!yt.options)}const Ci=(0,O.Zc)(class{constructor(yt){this._elementRef=yt}}),an=new b.nKC("MAT_ICON_DEFAULT_OPTIONS"),Oi=new b.nKC("mat-icon-location",{providedIn:"root",factory:function Cn(){const yt=(0,b.WQX)(ye.qQ),Zt=yt?yt.location:null;return{getPathname:()=>Zt?Zt.pathname+Zt.search:""}}}),Qt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lt=Qt.map(yt=>`[${yt}]`).join(", "),wt=/^url\(['"]?#(.*?)['"]?\)$/;let ii=(()=>{class yt extends Ci{get inline(){return this._inline}set inline(Tt){this._inline=(0,E.he)(Tt)}get svgIcon(){return this._svgIcon}set svgIcon(Tt){Tt!==this._svgIcon&&(Tt?this._updateSvgIcon(Tt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Tt)}get fontSet(){return this._fontSet}set fontSet(Tt){const di=this._cleanupFontValue(Tt);di!==this._fontSet&&(this._fontSet=di,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Tt){const di=this._cleanupFontValue(Tt);di!==this._fontIcon&&(this._fontIcon=di,this._updateFontIconClasses())}constructor(Tt,di,st,ri,ct,Ut){super(Tt),this._iconRegistry=di,this._location=ri,this._errorHandler=ct,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rt.yU.EMPTY,Ut&&(Ut.color&&(this.color=this.defaultColor=Ut.color),Ut.fontSet&&(this.fontSet=Ut.fontSet)),st||Tt.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Tt){if(!Tt)return["",""];const di=Tt.split(":");switch(di.length){case 1:return["",di[0]];case 2:return di;default:throw Error(`Invalid icon name: "${Tt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Tt=this._elementsWithExternalReferences;if(Tt&&Tt.size){const di=this._location.getPathname();di!==this._previousPath&&(this._previousPath=di,this._prependPathToReferences(di))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Tt){this._clearSvgElement();const di=this._location.getPathname();this._previousPath=di,this._cacheChildrenWithExternalReferences(Tt),this._prependPathToReferences(di),this._elementRef.nativeElement.appendChild(Tt)}_clearSvgElement(){const Tt=this._elementRef.nativeElement;let di=Tt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();di--;){const st=Tt.childNodes[di];(1!==st.nodeType||"svg"===st.nodeName.toLowerCase())&&st.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Tt=this._elementRef.nativeElement,di=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(st=>st.length>0);this._previousFontSetClass.forEach(st=>Tt.classList.remove(st)),di.forEach(st=>Tt.classList.add(st)),this._previousFontSetClass=di,this.fontIcon!==this._previousFontIconClass&&!di.includes("mat-ligature-font")&&(this._previousFontIconClass&&Tt.classList.remove(this._previousFontIconClass),this.fontIcon&&Tt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Tt){return"string"==typeof Tt?Tt.trim().split(" ")[0]:Tt}_prependPathToReferences(Tt){const di=this._elementsWithExternalReferences;di&&di.forEach((st,ri)=>{st.forEach(ct=>{ri.setAttribute(ct.name,`url('${Tt}#${ct.value}')`)})})}_cacheChildrenWithExternalReferences(Tt){const di=Tt.querySelectorAll(lt),st=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ri=0;ri<di.length;ri++)Qt.forEach(ct=>{const Ut=di[ri],ft=Ut.getAttribute(ct),Wt=ft?ft.match(wt):null;if(Wt){let tt=st.get(Ut);tt||(tt=[],st.set(Ut,tt)),tt.push({name:ct,value:Wt[1]})}})}_updateSvgIcon(Tt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Tt){const[di,st]=this._splitIconName(Tt);di&&(this._svgNamespace=di),st&&(this._svgName=st),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(st,di).pipe((0,P.s)(1)).subscribe(ri=>this._setSvgElement(ri),ri=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${di}:${st}! ${ri.message}`))})}}static{this.\u0275fac=function(di){return new(di||yt)(b.rXU(b.aKT),b.rXU(Ye),b.kS0("aria-hidden"),b.rXU(Oi),b.rXU(b.zcH),b.rXU(an,8))}}static{this.\u0275cmp=b.VBU({type:yt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(di,st){2&di&&(b.BMQ("data-mat-icon-type",st._usingFontIcon()?"font":"svg")("data-mat-icon-name",st._svgName||st.fontIcon)("data-mat-icon-namespace",st._svgNamespace||st.fontSet)("fontIcon",st._usingFontIcon()?st.fontIcon:null),b.AVh("mat-icon-inline",st.inline)("mat-icon-no-color","primary"!==st.color&&"accent"!==st.color&&"warn"!==st.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[b.Vt3],ngContentSelectors:qt,decls:1,vars:0,template:function(di,st){1&di&&(b.NAR(),b.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return yt})(),ut=(()=>{class yt{static{this.\u0275fac=function(di){return new(di||yt)}}static{this.\u0275mod=b.$C({type:yt})}static{this.\u0275inj=b.G2t({imports:[O.yE,O.yE]})}}return yt})()},9631:(Ui,ni,N)=>{"use strict";N.d(ni,{Oh:()=>Be,fg:()=>Ai,fS:()=>oi});var b=N(4085),O=N(6860),E=N(7705),ye=N(983),K=N(1413);const Ke=(0,O.BQ)({passive:!0});let j=(()=>{class q{constructor(Oe,Le){this._platform=Oe,this._ngZone=Le,this._monitoredElements=new Map}monitor(Oe){if(!this._platform.isBrowser)return ye.w;const Le=(0,b.i8)(Oe),We=this._monitoredElements.get(Le);if(We)return We.subject;const Ye=new K.B,Ht="cdk-text-field-autofilled",vi=Et=>{"cdk-text-field-autofill-start"!==Et.animationName||Le.classList.contains(Ht)?"cdk-text-field-autofill-end"===Et.animationName&&Le.classList.contains(Ht)&&(Le.classList.remove(Ht),this._ngZone.run(()=>Ye.next({target:Et.target,isAutofilled:!1}))):(Le.classList.add(Ht),this._ngZone.run(()=>Ye.next({target:Et.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{Le.addEventListener("animationstart",vi,Ke),Le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(Le,{subject:Ye,unlisten:()=>{Le.removeEventListener("animationstart",vi,Ke)}}),Ye}stopMonitoring(Oe){const Le=(0,b.i8)(Oe),We=this._monitoredElements.get(Le);We&&(We.unlisten(),We.subject.complete(),Le.classList.remove("cdk-text-field-autofill-monitored"),Le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(Le))}ngOnDestroy(){this._monitoredElements.forEach((Oe,Le)=>this.stopMonitoring(Le))}static{this.\u0275fac=function(Le){return new(Le||q)(E.KVO(O.OD),E.KVO(E.SKi))}}static{this.\u0275prov=E.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),ee=(()=>{class q{static{this.\u0275fac=function(Le){return new(Le||q)}}static{this.\u0275mod=E.$C({type:q})}static{this.\u0275inj=E.G2t({})}}return q})();var Ce=N(9417),ve=N(6600),ue=N(6467);const Be=new E.nKC("MAT_INPUT_VALUE_ACCESSOR"),Ct=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qt=0;const pt=(0,ve.J8)(class{constructor(q,Ot,Oe,Le){this._defaultErrorStateMatcher=q,this._parentForm=Ot,this._parentFormGroup=Oe,this.ngControl=Le,this.stateChanges=new K.B}});let Ai=(()=>{class q extends pt{get disabled(){return this._disabled}set disabled(Oe){this._disabled=(0,b.he)(Oe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(Oe){this._id=Oe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ce.k0.required)??!1}set required(Oe){this._required=(0,b.he)(Oe)}get type(){return this._type}set type(Oe){this._type=Oe||"text",this._validateType(),!this._isTextarea&&(0,O.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(Oe){Oe!==this.value&&(this._inputValueAccessor.value=Oe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(Oe){this._readonly=(0,b.he)(Oe)}constructor(Oe,Le,We,Ye,Ht,vi,Et,wi,bi,Ci){super(vi,Ye,Ht,We),this._elementRef=Oe,this._platform=Le,this._autofillMonitor=wi,this._formField=Ci,this._uid="mat-input-"+qt++,this.focused=!1,this.stateChanges=new K.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Cn=>(0,O.MU)().has(Cn)),this._iOSKeyupListener=Cn=>{const Qt=Cn.target;!Qt.value&&0===Qt.selectionStart&&0===Qt.selectionEnd&&(Qt.setSelectionRange(1,1),Qt.setSelectionRange(0,0))};const an=this._elementRef.nativeElement,Oi=an.nodeName.toLowerCase();this._inputValueAccessor=Et||an,this._previousNativeValue=this.value,this.id=this.id,Le.IOS&&bi.runOutsideAngular(()=>{Oe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Oi,this._isTextarea="textarea"===Oi,this._isInFormField=!!Ci,this._isNativeSelect&&(this.controlType=an.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(Oe=>{this.autofilled=Oe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(Oe){this._elementRef.nativeElement.focus(Oe)}_focusChanged(Oe){Oe!==this.focused&&(this.focused=Oe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const Oe=this._elementRef.nativeElement.value;this._previousNativeValue!==Oe&&(this._previousNativeValue=Oe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const Oe=this._getPlaceholder();if(Oe!==this._previousPlaceholder){const Le=this._elementRef.nativeElement;this._previousPlaceholder=Oe,Oe?Le.setAttribute("placeholder",Oe):Le.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Ct.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let Oe=this._elementRef.nativeElement.validity;return Oe&&Oe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const Oe=this._elementRef.nativeElement,Le=Oe.options[0];return this.focused||Oe.multiple||!this.empty||!!(Oe.selectedIndex>-1&&Le&&Le.label)}return this.focused||!this.empty}setDescribedByIds(Oe){Oe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",Oe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const Oe=this._elementRef.nativeElement;return this._isNativeSelect&&(Oe.multiple||Oe.size>1)}static{this.\u0275fac=function(Le){return new(Le||q)(E.rXU(E.aKT),E.rXU(O.OD),E.rXU(Ce.vO,10),E.rXU(Ce.cV,8),E.rXU(Ce.j4,8),E.rXU(ve.es),E.rXU(Be,10),E.rXU(j),E.rXU(E.SKi),E.rXU(ue.xb,8))}}static{this.\u0275dir=E.FsC({type:q,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(Le,We){1&Le&&E.bIt("focus",function(){return We._focusChanged(!0)})("blur",function(){return We._focusChanged(!1)})("input",function(){return We._onInput()}),2&Le&&(E.Mr5("id",We.id)("disabled",We.disabled)("required",We.required),E.BMQ("name",We.name||null)("readonly",We.readonly&&!We._isNativeSelect||null)("aria-invalid",We.empty&&We.required?null:We.errorState)("aria-required",We.required)("id",We.id),E.AVh("mat-input-server",We._isServer)("mat-mdc-form-field-textarea-control",We._isInFormField&&We._isTextarea)("mat-mdc-form-field-input-control",We._isInFormField)("mdc-text-field__input",We._isInFormField)("mat-mdc-native-select-inline",We._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[E.Jv_([{provide:ue.qT,useExisting:q}]),E.Vt3,E.OA$]})}}return q})(),oi=(()=>{class q{static{this.\u0275fac=function(Le){return new(Le||q)}}static{this.\u0275mod=E.$C({type:q})}static{this.\u0275inj=E.G2t({imports:[ve.yE,ue.RG,ue.RG,ee,ve.yE]})}}return q})()},105:(Ui,ni,N)=>{"use strict";N.d(ni,{YE:()=>Qi,Fg:()=>It,_L:()=>Ni});var b=N(7705),O=N(4085),E=N(6860),ye=N(6600),K=N(8359),Ke=N(7786),rt=(N(1413),N(2318)),ie=N(177);let Ce=(()=>{class ${static{this.\u0275fac=function(ui){return new(ui||$)}}static{this.\u0275mod=b.$C({type:$})}static{this.\u0275inj=b.G2t({imports:[ye.yE,ye.yE]})}}return $})();N(8617),N(5024),N(7336),N(9417),N(6977);const qt=["*"],Ai=["unscopedContent"],oi=["text"],q=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],Ot=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],ut=new b.nKC("ListOption");let yt=(()=>{class ${constructor(Qe){this._elementRef=Qe}static{this.\u0275fac=function(ui){return new(ui||$)(b.rXU(b.aKT))}}static{this.\u0275dir=b.FsC({type:$,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]})}}return $})(),Zt=(()=>{class ${constructor(Qe){this._elementRef=Qe}static{this.\u0275fac=function(ui){return new(ui||$)(b.rXU(b.aKT))}}static{this.\u0275dir=b.FsC({type:$,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]})}}return $})(),Tt=(()=>{class ${static{this.\u0275fac=function(ui){return new(ui||$)}}static{this.\u0275dir=b.FsC({type:$,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]})}}return $})(),di=(()=>{class ${constructor(Qe){this._listOption=Qe}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static{this.\u0275fac=function(ui){return new(ui||$)(b.rXU(ut,8))}}static{this.\u0275dir=b.FsC({type:$,hostVars:4,hostBindings:function(ui,xe){2&ui&&b.AVh("mdc-list-item__start",xe._isAlignedAtStart())("mdc-list-item__end",!xe._isAlignedAtStart())}})}}return $})(),st=(()=>{class $ extends di{static{this.\u0275fac=function(){let Qe;return function(xe){return(Qe||(Qe=b.xGo($)))(xe||$)}}()}static{this.\u0275dir=b.FsC({type:$,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[b.Vt3]})}}return $})(),ri=(()=>{class $ extends di{static{this.\u0275fac=function(){let Qe;return function(xe){return(Qe||(Qe=b.xGo($)))(xe||$)}}()}static{this.\u0275dir=b.FsC({type:$,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[b.Vt3]})}}return $})();const ct=new b.nKC("MAT_LIST_CONFIG");let Ut=(()=>{class ${constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,b.WQX)(ct,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(Qe){this._disableRipple=(0,O.he)(Qe)}get disabled(){return this._disabled}set disabled(Qe){this._disabled=(0,O.he)(Qe)}static{this.\u0275fac=function(ui){return new(ui||$)}}static{this.\u0275dir=b.FsC({type:$,hostVars:1,hostBindings:function(ui,xe){2&ui&&b.BMQ("aria-disabled",xe.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}})}}return $})(),ft=(()=>{class ${set lines(Qe){this._explicitLines=(0,O.OE)(Qe,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(Qe){this._disableRipple=(0,O.he)(Qe)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(Qe){this._disabled=(0,O.he)(Qe)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(Qe,ui,xe,Pt,qe,Dt){this._elementRef=Qe,this._ngZone=ui,this._listBase=xe,this._platform=Pt,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new K.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=qe||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===Dt,xe&&!xe._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new ye.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Ke.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(Qe){if(!this._lines||!this._titles||!this._unscopedContent)return;Qe&&this._checkDomForUnscopedTextContent();const ui=this._explicitLines??this._inferLinesFromContent(),xe=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",ui<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",ui<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===ui),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===ui),this._hasUnscopedTextContent){const Pt=0===this._titles.length&&1===ui;xe.classList.toggle("mdc-list-item__primary-text",Pt),xe.classList.toggle("mdc-list-item__secondary-text",!Pt)}else xe.classList.remove("mdc-list-item__primary-text"),xe.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let Qe=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(Qe+=1),Qe}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(Qe=>Qe.nodeType!==Qe.COMMENT_NODE).some(Qe=>!(!Qe.textContent||!Qe.textContent.trim()))}static{this.\u0275fac=function(ui){return new(ui||$)(b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(Ut,8),b.rXU(E.OD),b.rXU(ye.$E,8),b.rXU(b.bc$,8))}}static{this.\u0275dir=b.FsC({type:$,contentQueries:function(ui,xe,Pt){if(1&ui&&(b.wni(Pt,st,4),b.wni(Pt,ri,4)),2&ui){let qe;b.mGM(qe=b.lsd())&&(xe._avatars=qe),b.mGM(qe=b.lsd())&&(xe._icons=qe)}},hostVars:4,hostBindings:function(ui,xe){2&ui&&(b.BMQ("aria-disabled",xe.disabled)("disabled",xe._isButtonElement&&xe.disabled||null),b.AVh("mdc-list-item--disabled",xe.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}})}}return $})(),Qi=(()=>{class $ extends ft{get activated(){return this._activated}set activated(Qe){this._activated=(0,O.he)(Qe)}constructor(Qe,ui,xe,Pt,qe,Dt){super(Qe,ui,xe,Pt,qe,Dt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static{this.\u0275fac=function(ui){return new(ui||$)(b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(Ut,8),b.rXU(E.OD),b.rXU(ye.$E,8),b.rXU(b.bc$,8))}}static{this.\u0275cmp=b.VBU({type:$,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(ui,xe,Pt){if(1&ui&&(b.wni(Pt,Zt,5),b.wni(Pt,yt,5),b.wni(Pt,Tt,5)),2&ui){let qe;b.mGM(qe=b.lsd())&&(xe._lines=qe),b.mGM(qe=b.lsd())&&(xe._titles=qe),b.mGM(qe=b.lsd())&&(xe._meta=qe)}},viewQuery:function(ui,xe){if(1&ui&&(b.GBs(Ai,5),b.GBs(oi,5)),2&ui){let Pt;b.mGM(Pt=b.lsd())&&(xe._unscopedContent=Pt.first),b.mGM(Pt=b.lsd())&&(xe._itemText=Pt.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(ui,xe){2&ui&&(b.BMQ("aria-current",xe._getAriaCurrent()),b.AVh("mdc-list-item--activated",xe.activated)("mdc-list-item--with-leading-avatar",0!==xe._avatars.length)("mdc-list-item--with-leading-icon",0!==xe._icons.length)("mdc-list-item--with-trailing-meta",0!==xe._meta.length)("_mat-animation-noopable",xe._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[b.Vt3],ngContentSelectors:Ot,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(ui,xe){1&ui&&(b.NAR(q),b.SdG(0),b.j41(1,"span",0),b.SdG(2,1),b.SdG(3,2),b.j41(4,"span",1,2),b.bIt("cdkObserveContent",function(){return xe._updateItemLines(!0)}),b.SdG(6,3),b.k0s()(),b.SdG(7,4),b.SdG(8,5),b.nrm(9,"div",3))},dependencies:[rt.Wv],encapsulation:2,changeDetection:0})}}return $})(),Ni=(()=>{class $ extends Ut{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=function(){let Qe;return function(xe){return(Qe||(Qe=b.xGo($)))(xe||$)}}()}static{this.\u0275cmp=b.VBU({type:$,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[b.Jv_([{provide:Ut,useExisting:$}]),b.Vt3],ngContentSelectors:qt,decls:1,vars:0,template:function(ui,xe){1&ui&&(b.NAR(),b.SdG(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0})}}return $})(),It=(()=>{class ${static{this.\u0275fac=function(ui){return new(ui||$)}}static{this.\u0275mod=b.$C({type:$})}static{this.\u0275inj=b.G2t({imports:[rt.w5,ie.MD,ye.yE,ye.pZ,ye.O5,Ce]})}}return $})()},5951:(Ui,ni,N)=>{"use strict";N.d(ni,{VT:()=>oi,Wk:()=>Ot,_g:()=>q});var b=N(7705),O=N(6600),E=N(8617),ye=N(4085),K=N(5024),Ke=N(9417),j=N(177);const rt=["input"],ie=["*"];let ee=0;class Ce{constructor(Le,We){this.source=Le,this.value=We}}const ve={provide:Ke.kq,useExisting:(0,b.Rfq)(()=>oi),multi:!0},ue=new b.nKC("MatRadioGroup"),P=new b.nKC("mat-radio-default-options",{providedIn:"root",factory:function Be(){return{color:"accent"}}});let Ct=(()=>{class Oe{get name(){return this._name}set name(We){this._name=We,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(We){this._labelPosition="before"===We?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(We){this._value!==We&&(this._value=We,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(We){this._selected=We,this.value=We?We.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(We){this._disabled=(0,ye.he)(We),this._markRadiosForCheck()}get required(){return this._required}set required(We){this._required=(0,ye.he)(We),this._markRadiosForCheck()}constructor(We){this._changeDetector=We,this._value=null,this._name="mat-radio-group-"+ee++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new b.bkB}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(We=>We===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(We=>{We.name=this.name,We._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(Ye=>{Ye.checked=this.value===Ye.value,Ye.checked&&(this._selected=Ye)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Ce(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(We=>We._markForCheck())}writeValue(We){this.value=We,this._changeDetector.markForCheck()}registerOnChange(We){this._controlValueAccessorChangeFn=We}registerOnTouched(We){this.onTouched=We}setDisabledState(We){this.disabled=We,this._changeDetector.markForCheck()}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.rXU(b.gRc))}}static{this.\u0275dir=b.FsC({type:Oe,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}})}}return Oe})();class qt{constructor(Le){this._elementRef=Le}}const pt=(0,O.GG)((0,O.BF)(qt));let Ai=(()=>{class Oe extends pt{get checked(){return this._checked}set checked(We){const Ye=(0,ye.he)(We);this._checked!==Ye&&(this._checked=Ye,Ye&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!Ye&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),Ye&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(We){this._value!==We&&(this._value=We,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===We),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(We){this._labelPosition=We}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(We){this._setDisabled((0,ye.he)(We))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(We){this._required=(0,ye.he)(We)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(We){this._color=We}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(We,Ye,Ht,vi,Et,wi,bi,Ci){super(Ye),this._changeDetector=Ht,this._focusMonitor=vi,this._radioDispatcher=Et,this._providerOverride=bi,this._uniqueId="mat-radio-"+ ++ee,this.id=this._uniqueId,this.change=new b.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=We,this._noopAnimations="NoopAnimations"===wi,Ci&&(this.tabIndex=(0,ye.OE)(Ci,0))}focus(We,Ye){Ye?this._focusMonitor.focusVia(this._inputElement,Ye,We):this._inputElement.nativeElement.focus(We)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((We,Ye)=>{We!==this.id&&Ye===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(We=>{!We&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Ce(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(We){We.stopPropagation()}_onInputInteraction(We){if(We.stopPropagation(),!this.checked&&!this.disabled){const Ye=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),Ye&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(We){this._onInputInteraction(We),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(We){this._disabled!==We&&(this._disabled=We,this._changeDetector.markForCheck())}_updateTabIndex(){const We=this.radioGroup;let Ye;if(Ye=We&&We.selected&&!this.disabled?We.selected===this?this.tabIndex:-1:this.tabIndex,Ye!==this._previousTabIndex){const Ht=this._inputElement?.nativeElement;Ht&&(Ht.setAttribute("tabindex",Ye+""),this._previousTabIndex=Ye)}}static{this.\u0275fac=function(Ye){b.QTQ()}}static{this.\u0275dir=b.FsC({type:Oe,viewQuery:function(Ye,Ht){if(1&Ye&&b.GBs(rt,5),2&Ye){let vi;b.mGM(vi=b.lsd())&&(Ht._inputElement=vi.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[b.Vt3]})}}return Oe})(),oi=(()=>{class Oe extends Ct{static{this.\u0275fac=function(){let We;return function(Ht){return(We||(We=b.xGo(Oe)))(Ht||Oe)}}()}static{this.\u0275dir=b.FsC({type:Oe,selectors:[["mat-radio-group"]],contentQueries:function(Ye,Ht,vi){if(1&Ye&&b.wni(vi,q,5),2&Ye){let Et;b.mGM(Et=b.lsd())&&(Ht._radios=Et)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[b.Jv_([ve,{provide:ue,useExisting:Oe}]),b.Vt3]})}}return Oe})(),q=(()=>{class Oe extends Ai{constructor(We,Ye,Ht,vi,Et,wi,bi,Ci){super(We,Ye,Ht,vi,Et,wi,bi,Ci)}static{this.\u0275fac=function(Ye){return new(Ye||Oe)(b.rXU(ue,8),b.rXU(b.aKT),b.rXU(b.gRc),b.rXU(E.FN),b.rXU(K.zP),b.rXU(b.bc$,8),b.rXU(P,8),b.kS0("tabindex"))}}static{this.\u0275cmp=b.VBU({type:Oe,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(Ye,Ht){1&Ye&&b.bIt("focus",function(){return Ht._inputElement.nativeElement.focus()}),2&Ye&&(b.BMQ("id",Ht.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),b.AVh("mat-primary","primary"===Ht.color)("mat-accent","accent"===Ht.color)("mat-warn","warn"===Ht.color)("mat-mdc-radio-checked",Ht.checked)("_mat-animation-noopable",Ht._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[b.Vt3],ngContentSelectors:ie,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(Ye,Ht){if(1&Ye&&(b.NAR(),b.j41(0,"div",0,1)(2,"div",2)(3,"div",3),b.bIt("click",function(Et){return Ht._onTouchTargetClick(Et)}),b.k0s(),b.j41(4,"input",4,5),b.bIt("change",function(Et){return Ht._onInputInteraction(Et)}),b.k0s(),b.j41(6,"div",6),b.nrm(7,"div",7)(8,"div",8),b.k0s(),b.j41(9,"div",9),b.nrm(10,"div",10),b.k0s()(),b.j41(11,"label",11),b.SdG(12),b.k0s()()),2&Ye){const vi=b.sdS(1);b.AVh("mdc-form-field--align-end","before"==Ht.labelPosition),b.R7$(2),b.AVh("mdc-radio--disabled",Ht.disabled),b.R7$(2),b.Y8G("id",Ht.inputId)("checked",Ht.checked)("disabled",Ht.disabled)("required",Ht.required),b.BMQ("name",Ht.name)("value",Ht.value)("aria-label",Ht.ariaLabel)("aria-labelledby",Ht.ariaLabelledby)("aria-describedby",Ht.ariaDescribedby),b.R7$(5),b.Y8G("matRippleTrigger",vi)("matRippleDisabled",Ht._isRippleDisabled())("matRippleCentered",!0),b.R7$(2),b.Y8G("for",Ht.inputId)}},dependencies:[O.r6],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{--mdc-radio-disabled-selected-icon-opacity:0.38;--mdc-radio-disabled-unselected-icon-opacity:0.38;--mdc-radio-state-layer-size:40px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}}return Oe})(),Ot=(()=>{class Oe{static{this.\u0275fac=function(Ye){return new(Ye||Oe)}}static{this.\u0275mod=b.$C({type:Oe})}static{this.\u0275inj=b.G2t({imports:[O.yE,j.MD,O.pZ,O.yE]})}}return Oe})()},2798:(Ui,ni,N)=>{"use strict";N.d(ni,{VO:()=>ct,Ve:()=>Ut});var b=N(6969),O=N(177),E=N(7705),ye=N(6600),K=N(6467),Ke=N(3980),j=N(8617),rt=N(8203),ie=N(4085),ee=N(5024),Ce=N(7336),ve=N(9417),ue=N(1413),P=N(9030),Be=N(7786),Ct=N(9172),qt=N(5558),pt=N(6697),Ai=N(5964),oi=N(6354),q=N(3294),Ot=N(6977),Oe=N(9969);const Le=["trigger"],We=["panel"];function Ye(ft,Wt){if(1&ft&&(E.j41(0,"span",10),E.EFF(1),E.k0s()),2&ft){const tt=E.XpG();E.R7$(1),E.JRh(tt.placeholder)}}function Ht(ft,Wt){if(1&ft&&(E.j41(0,"span",14),E.EFF(1),E.k0s()),2&ft){const tt=E.XpG(2);E.R7$(1),E.JRh(tt.triggerValue)}}function vi(ft,Wt){1&ft&&E.SdG(0,0,["*ngSwitchCase","true"])}function Et(ft,Wt){if(1&ft&&(E.j41(0,"span",11),E.DNE(1,Ht,2,1,"span",12),E.DNE(2,vi,1,0,"ng-content",13),E.k0s()),2&ft){const tt=E.XpG();E.Y8G("ngSwitch",!!tt.customTrigger),E.R7$(2),E.Y8G("ngSwitchCase",!0)}}function wi(ft,Wt){if(1&ft){const tt=E.RV6();E.qSk(),E.joV(),E.j41(0,"div",15,16),E.bIt("@transformPanel.done",function(Mi){E.eBV(tt);const Qi=E.XpG();return E.Njj(Qi._panelDoneAnimatingStream.next(Mi.toState))})("keydown",function(Mi){E.eBV(tt);const Qi=E.XpG();return E.Njj(Qi._handleKeydown(Mi))}),E.SdG(2,1),E.k0s()}if(2&ft){const tt=E.XpG();E.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",tt._getPanelTheme(),""),E.Y8G("ngClass",tt.panelClass)("@transformPanel","showing"),E.BMQ("id",tt.id+"-panel")("aria-multiselectable",tt.multiple)("aria-label",tt.ariaLabel||null)("aria-labelledby",tt._getPanelAriaLabelledby())}}const bi=[[["mat-select-trigger"]],"*"],Ci=["mat-select-trigger","*"],an={transformPanelWrap:(0,Oe.hZ)("transformPanelWrap",[(0,Oe.kY)("* => void",(0,Oe.P)("@transformPanel",[(0,Oe.MA)()],{optional:!0}))]),transformPanel:(0,Oe.hZ)("transformPanel",[(0,Oe.wk)("void",(0,Oe.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,Oe.kY)("void => showing",(0,Oe.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Oe.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,Oe.kY)("* => void",(0,Oe.i0)("100ms linear",(0,Oe.iF)({opacity:0})))])};let lt=0;const wt=new E.nKC("mat-select-scroll-strategy"),ut=new E.nKC("MAT_SELECT_CONFIG"),yt={provide:wt,deps:[b.hJ],useFactory:function ii(ft){return()=>ft.scrollStrategies.reposition()}},Zt=new E.nKC("MatSelectTrigger");class Tt{constructor(Wt,tt){this.source=Wt,this.value=tt}}const di=(0,ye.GG)((0,ye.BF)((0,ye.Ob)((0,ye.J8)(class{constructor(ft,Wt,tt,Yt,Mi){this._elementRef=ft,this._defaultErrorStateMatcher=Wt,this._parentForm=tt,this._parentFormGroup=Yt,this.ngControl=Mi,this.stateChanges=new ue.B}}))));let st=(()=>{class ft extends di{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(tt){this._placeholder=tt,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(ve.k0.required)??!1}set required(tt){this._required=(0,ie.he)(tt),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(tt){this._multiple=(0,ie.he)(tt)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(tt){this._disableOptionCentering=(0,ie.he)(tt)}get compareWith(){return this._compareWith}set compareWith(tt){this._compareWith=tt,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(tt){this._assignValue(tt)&&this._onChange(tt)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(tt){this._typeaheadDebounceInterval=(0,ie.OE)(tt)}get id(){return this._id}set id(tt){this._id=tt||this._uid,this.stateChanges.next()}constructor(tt,Yt,Mi,Qi,tn,dn,gn,Sn,Ni,St,mt,jt,It,$){super(tn,Qi,gn,Sn,St),this._viewportRuler=tt,this._changeDetectorRef=Yt,this._ngZone=Mi,this._dir=dn,this._parentFormField=Ni,this._liveAnnouncer=It,this._defaultOptions=$,this._panelOpen=!1,this._compareWith=(Kt,Qe)=>Kt===Qe,this._uid="mat-select-"+lt++,this._triggerAriaLabelledBy=null,this._destroy=new ue.B,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+lt++,this._panelDoneAnimatingStream=new ue.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,P.v)(()=>{const Kt=this.options;return Kt?Kt.changes.pipe((0,Ct.Z)(Kt),(0,qt.n)(()=>(0,Be.h)(...Kt.map(Qe=>Qe.onSelectionChange)))):this._ngZone.onStable.pipe((0,pt.s)(1),(0,qt.n)(()=>this.optionSelectionChanges))}),this.openedChange=new E.bkB,this._openedStream=this.openedChange.pipe((0,Ai.p)(Kt=>Kt),(0,oi.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Ai.p)(Kt=>!Kt),(0,oi.T)(()=>{})),this.selectionChange=new E.bkB,this.valueChange=new E.bkB,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=$?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=$.typeaheadDebounceInterval),this._scrollStrategyFactory=jt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(mt)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ee.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,q.F)(),(0,Ot.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,Ot.Q)(this._destroy)).subscribe(tt=>{tt.added.forEach(Yt=>Yt.select()),tt.removed.forEach(Yt=>Yt.deselect())}),this.options.changes.pipe((0,Ct.Z)(null),(0,Ot.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const tt=this._getTriggerAriaLabelledby(),Yt=this.ngControl;if(tt!==this._triggerAriaLabelledBy){const Mi=this._elementRef.nativeElement;this._triggerAriaLabelledBy=tt,tt?Mi.setAttribute("aria-labelledby",tt):Mi.removeAttribute("aria-labelledby")}Yt&&(this._previousControl!==Yt.control&&(void 0!==this._previousControl&&null!==Yt.disabled&&Yt.disabled!==this.disabled&&(this.disabled=Yt.disabled),this._previousControl=Yt.control),this.updateErrorState())}ngOnChanges(tt){(tt.disabled||tt.userAriaDescribedBy)&&this.stateChanges.next(),tt.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const tt=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!tt)return;const Yt=`${this.id}-panel`;this._trackedModal&&(0,j.Ae)(this._trackedModal,"aria-owns",Yt),(0,j.px)(tt,"aria-owns",Yt),this._trackedModal=tt}_clearFromModal(){this._trackedModal&&((0,j.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(tt){this._assignValue(tt)}registerOnChange(tt){this._onChange=tt}registerOnTouched(tt){this._onTouched=tt}setDisabledState(tt){this.disabled=tt,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const tt=this._selectionModel.selected.map(Yt=>Yt.viewValue);return this._isRtl()&&tt.reverse(),tt.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(tt){this.disabled||(this.panelOpen?this._handleOpenKeydown(tt):this._handleClosedKeydown(tt))}_handleClosedKeydown(tt){const Yt=tt.keyCode,Mi=Yt===Ce.n6||Yt===Ce.i7||Yt===Ce.UQ||Yt===Ce.LE,Qi=Yt===Ce.Fm||Yt===Ce.t6,tn=this._keyManager;if(!tn.isTyping()&&Qi&&!(0,Ce.rp)(tt)||(this.multiple||tt.altKey)&&Mi)tt.preventDefault(),this.open();else if(!this.multiple){const dn=this.selected;tn.onKeydown(tt);const gn=this.selected;gn&&dn!==gn&&this._liveAnnouncer.announce(gn.viewValue,1e4)}}_handleOpenKeydown(tt){const Yt=this._keyManager,Mi=tt.keyCode,Qi=Mi===Ce.n6||Mi===Ce.i7,tn=Yt.isTyping();if(Qi&&tt.altKey)tt.preventDefault(),this.close();else if(tn||Mi!==Ce.Fm&&Mi!==Ce.t6||!Yt.activeItem||(0,Ce.rp)(tt))if(!tn&&this._multiple&&Mi===Ce.A&&tt.ctrlKey){tt.preventDefault();const dn=this.options.some(gn=>!gn.disabled&&!gn.selected);this.options.forEach(gn=>{gn.disabled||(dn?gn.select():gn.deselect())})}else{const dn=Yt.activeItemIndex;Yt.onKeydown(tt),this._multiple&&Qi&&tt.shiftKey&&Yt.activeItem&&Yt.activeItemIndex!==dn&&Yt.activeItem._selectViaInteraction()}else tt.preventDefault(),Yt.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,pt.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(tt){if(this.options.forEach(Yt=>Yt.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&tt)Array.isArray(tt),tt.forEach(Yt=>this._selectOptionByValue(Yt)),this._sortValues();else{const Yt=this._selectOptionByValue(tt);Yt?this._keyManager.updateActiveItem(Yt):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(tt){const Yt=this.options.find(Mi=>{if(this._selectionModel.isSelected(Mi))return!1;try{return null!=Mi.value&&this._compareWith(Mi.value,tt)}catch{return!1}});return Yt&&this._selectionModel.select(Yt),Yt}_assignValue(tt){return!!(tt!==this._value||this._multiple&&Array.isArray(tt))&&(this.options&&this._setSelectionByValue(tt),this._value=tt,!0)}_skipPredicate(tt){return tt.disabled}_initKeyManager(){this._keyManager=new j.Au(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const tt=(0,Be.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,Ot.Q)(tt)).subscribe(Yt=>{this._onSelect(Yt.source,Yt.isUserInput),Yt.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Be.h)(...this.options.map(Yt=>Yt._stateChanges)).pipe((0,Ot.Q)(tt)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(tt,Yt){const Mi=this._selectionModel.isSelected(tt);null!=tt.value||this._multiple?(Mi!==tt.selected&&(tt.selected?this._selectionModel.select(tt):this._selectionModel.deselect(tt)),Yt&&this._keyManager.setActiveItem(tt),this.multiple&&(this._sortValues(),Yt&&this.focus())):(tt.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(tt.value)),Mi!==this._selectionModel.isSelected(tt)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const tt=this.options.toArray();this._selectionModel.sort((Yt,Mi)=>this.sortComparator?this.sortComparator(Yt,Mi,tt):tt.indexOf(Yt)-tt.indexOf(Mi)),this.stateChanges.next()}}_propagateChanges(tt){let Yt=null;Yt=this.multiple?this.selected.map(Mi=>Mi.value):this.selected?this.selected.value:tt,this._value=Yt,this.valueChange.emit(Yt),this._onChange(Yt),this.selectionChange.emit(this._getChangeEvent(Yt)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let tt=-1;for(let Yt=0;Yt<this.options.length;Yt++)if(!this.options.get(Yt).disabled){tt=Yt;break}this._keyManager.setActiveItem(tt)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(tt){this._elementRef.nativeElement.focus(tt)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const tt=this._parentFormField?.getLabelId();return this.ariaLabelledby?(tt?tt+" ":"")+this.ariaLabelledby:tt}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const tt=this._parentFormField?.getLabelId();let Yt=(tt?tt+" ":"")+this._valueId;return this.ariaLabelledby&&(Yt+=" "+this.ariaLabelledby),Yt}_panelDoneAnimating(tt){this.openedChange.emit(tt)}setDescribedByIds(tt){tt.length?this._elementRef.nativeElement.setAttribute("aria-describedby",tt.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static{this.\u0275fac=function(Yt){return new(Yt||ft)(E.rXU(Ke.Xj),E.rXU(E.gRc),E.rXU(E.SKi),E.rXU(ye.es),E.rXU(E.aKT),E.rXU(rt.dS,8),E.rXU(ve.cV,8),E.rXU(ve.j4,8),E.rXU(K.xb,8),E.rXU(ve.vO,10),E.kS0("tabindex"),E.rXU(wt),E.rXU(j.Ai),E.rXU(ut,8))}}static{this.\u0275dir=E.FsC({type:ft,viewQuery:function(Yt,Mi){if(1&Yt&&(E.GBs(Le,5),E.GBs(We,5),E.GBs(b.WB,5)),2&Yt){let Qi;E.mGM(Qi=E.lsd())&&(Mi.trigger=Qi.first),E.mGM(Qi=E.lsd())&&(Mi.panel=Qi.first),E.mGM(Qi=E.lsd())&&(Mi._overlayDir=Qi.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[E.Vt3,E.OA$]})}}return ft})(),ct=(()=>{class ft extends st{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=tt=>!this.panelOpen&&tt.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,Ot.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(tt){const Yt=this.options.toArray()[tt];if(Yt){const Mi=this.panel.nativeElement,Qi=(0,ye.jb)(tt,this.options,this.optionGroups),tn=Yt._getHostElement();Mi.scrollTop=0===tt&&1===Qi?0:(0,ye.TL)(tn.offsetTop,tn.offsetHeight,Mi.scrollTop,Mi.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(tt){return new Tt(this,tt)}_getOverlayWidth(tt){return"auto"===this.panelWidth?(tt instanceof b.$Q?tt.elementRef:tt||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(tt){this._hideSingleSelectionIndicator=(0,ie.he)(tt),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const tt of this.options)tt._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(){let tt;return function(Mi){return(tt||(tt=E.xGo(ft)))(Mi||ft)}}()}static{this.\u0275cmp=E.VBU({type:ft,selectors:[["mat-select"]],contentQueries:function(Yt,Mi,Qi){if(1&Yt&&(E.wni(Qi,Zt,5),E.wni(Qi,ye.wT,5),E.wni(Qi,ye.QC,5)),2&Yt){let tn;E.mGM(tn=E.lsd())&&(Mi.customTrigger=tn.first),E.mGM(tn=E.lsd())&&(Mi.options=tn),E.mGM(tn=E.lsd())&&(Mi.optionGroups=tn)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Yt,Mi){1&Yt&&E.bIt("keydown",function(tn){return Mi._handleKeydown(tn)})("focus",function(){return Mi._onFocus()})("blur",function(){return Mi._onBlur()}),2&Yt&&(E.BMQ("id",Mi.id)("tabindex",Mi.tabIndex)("aria-controls",Mi.panelOpen?Mi.id+"-panel":null)("aria-expanded",Mi.panelOpen)("aria-label",Mi.ariaLabel||null)("aria-required",Mi.required.toString())("aria-disabled",Mi.disabled.toString())("aria-invalid",Mi.errorState)("aria-activedescendant",Mi._getAriaActiveDescendant()),E.AVh("mat-mdc-select-disabled",Mi.disabled)("mat-mdc-select-invalid",Mi.errorState)("mat-mdc-select-required",Mi.required)("mat-mdc-select-empty",Mi.empty)("mat-mdc-select-multiple",Mi.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[E.Jv_([{provide:K.qT,useExisting:ft},{provide:ye.is,useExisting:ft}]),E.Vt3],ngContentSelectors:Ci,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(Yt,Mi){if(1&Yt&&(E.NAR(bi),E.j41(0,"div",0,1),E.bIt("click",function(){return Mi.toggle()}),E.j41(3,"div",2),E.DNE(4,Ye,2,1,"span",3),E.DNE(5,Et,3,2,"span",4),E.k0s(),E.j41(6,"div",5)(7,"div",6),E.qSk(),E.j41(8,"svg",7),E.nrm(9,"path",8),E.k0s()()()(),E.DNE(10,wi,3,9,"ng-template",9),E.bIt("backdropClick",function(){return Mi.close()})("attach",function(){return Mi._onAttached()})("detach",function(){return Mi.close()})),2&Yt){const Qi=E.sdS(1);E.R7$(3),E.Y8G("ngSwitch",Mi.empty),E.BMQ("id",Mi._valueId),E.R7$(1),E.Y8G("ngSwitchCase",!0),E.R7$(1),E.Y8G("ngSwitchCase",!1),E.R7$(5),E.Y8G("cdkConnectedOverlayPanelClass",Mi._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",Mi._scrollStrategy)("cdkConnectedOverlayOrigin",Mi._preferredOverlayOrigin||Qi)("cdkConnectedOverlayOpen",Mi.panelOpen)("cdkConnectedOverlayPositions",Mi._positions)("cdkConnectedOverlayWidth",Mi._overlayWidth)}},dependencies:[O.YU,O.ux,O.e1,O.fG,b.WB,b.$Q],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[an.transformPanel]},changeDetection:0})}}return ft})(),Ut=(()=>{class ft{static{this.\u0275fac=function(Yt){return new(Yt||ft)}}static{this.\u0275mod=E.$C({type:ft})}static{this.\u0275inj=E.G2t({providers:[yt],imports:[O.MD,b.z_,ye.Sy,ye.yE,Ke.Gj,K.RG,ye.Sy,ye.yE]})}}return ft})()},882:(Ui,ni,N)=>{"use strict";N.d(ni,{$C:()=>ut,qe:()=>ii,vg:()=>di});var b=N(3980),O=N(177),E=N(7705),ye=N(6600),K=N(8617),Ke=N(8203),j=N(4085),rt=N(7336),ie=N(6860),ee=N(1413),Ce=N(3726),ve=N(7786),ue=N(5964),P=N(6354),Be=N(3703),Ct=N(6977),qt=N(3294),pt=N(6697),Ai=N(9172),oi=N(152),q=N(9969);const Ot=["*"],Oe=["content"];function Le(st,ri){if(1&st){const ct=E.RV6();E.j41(0,"div",2),E.bIt("click",function(){E.eBV(ct);const ft=E.XpG();return E.Njj(ft._onBackdropClicked())}),E.k0s()}if(2&st){const ct=E.XpG();E.AVh("mat-drawer-shown",ct._isShowingBackdrop())}}function We(st,ri){1&st&&(E.j41(0,"mat-drawer-content"),E.SdG(1,2),E.k0s())}const Ye=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ht=["mat-drawer","mat-drawer-content","*"],an={transformDrawer:(0,q.hZ)("transform",[(0,q.wk)("open, open-instant",(0,q.iF)({transform:"none",visibility:"visible"})),(0,q.wk)("void",(0,q.iF)({"box-shadow":"none",visibility:"hidden"})),(0,q.kY)("void => open-instant",(0,q.i0)("0ms")),(0,q.kY)("void <=> open, open-instant => void",(0,q.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Cn=new E.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function lt(){return!1}}),Qt=new E.nKC("MAT_DRAWER_CONTAINER");let wt=(()=>{class st extends b.uv{constructor(ct,Ut,ft,Wt,tt){super(ft,Wt,tt),this._changeDetectorRef=ct,this._container=Ut}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(Ut){return new(Ut||st)(E.rXU(E.gRc),E.rXU((0,E.Rfq)(()=>ut)),E.rXU(E.aKT),E.rXU(b.R),E.rXU(E.SKi))}}static{this.\u0275cmp=E.VBU({type:st,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(Ut,ft){2&Ut&&E.xc7("margin-left",ft._container._contentMargins.left,"px")("margin-right",ft._container._contentMargins.right,"px")},features:[E.Jv_([{provide:b.uv,useExisting:st}]),E.Vt3],ngContentSelectors:Ot,decls:1,vars:0,template:function(Ut,ft){1&Ut&&(E.NAR(),E.SdG(0))},encapsulation:2,changeDetection:0})}}return st})(),ii=(()=>{class st{get position(){return this._position}set position(ct){(ct="end"===ct?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(ct),this._position=ct,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(ct){this._mode=ct,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(ct){this._disableClose=(0,j.he)(ct)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(ct){("true"===ct||"false"===ct||null==ct)&&(ct=(0,j.he)(ct)),this._autoFocus=ct}get opened(){return this._opened}set opened(ct){this.toggle((0,j.he)(ct))}constructor(ct,Ut,ft,Wt,tt,Yt,Mi,Qi){this._elementRef=ct,this._focusTrapFactory=Ut,this._focusMonitor=ft,this._platform=Wt,this._ngZone=tt,this._interactivityChecker=Yt,this._doc=Mi,this._container=Qi,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ee.B,this._animationEnd=new ee.B,this._animationState="void",this.openedChange=new E.bkB(!0),this._openedStream=this.openedChange.pipe((0,ue.p)(tn=>tn),(0,P.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,ue.p)(tn=>tn.fromState!==tn.toState&&0===tn.toState.indexOf("open")),(0,Be.u)(void 0)),this._closedStream=this.openedChange.pipe((0,ue.p)(tn=>!tn),(0,P.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,ue.p)(tn=>tn.fromState!==tn.toState&&"void"===tn.toState),(0,Be.u)(void 0)),this._destroyed=new ee.B,this.onPositionChanged=new E.bkB,this._modeChanged=new ee.B,this.openedChange.subscribe(tn=>{tn?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ce.R)(this._elementRef.nativeElement,"keydown").pipe((0,ue.p)(tn=>tn.keyCode===rt._f&&!this.disableClose&&!(0,rt.rp)(tn)),(0,Ct.Q)(this._destroyed)).subscribe(tn=>this._ngZone.run(()=>{this.close(),tn.stopPropagation(),tn.preventDefault()}))}),this._animationEnd.pipe((0,qt.F)((tn,dn)=>tn.fromState===dn.fromState&&tn.toState===dn.toState)).subscribe(tn=>{const{fromState:dn,toState:gn}=tn;(0===gn.indexOf("open")&&"void"===dn||"void"===gn&&0===dn.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(ct,Ut){this._interactivityChecker.isFocusable(ct)||(ct.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ft=()=>{ct.removeEventListener("blur",ft),ct.removeEventListener("mousedown",ft),ct.removeAttribute("tabindex")};ct.addEventListener("blur",ft),ct.addEventListener("mousedown",ft)})),ct.focus(Ut)}_focusByCssSelector(ct,Ut){let ft=this._elementRef.nativeElement.querySelector(ct);ft&&this._forceFocus(ft,Ut)}_takeFocus(){if(!this._focusTrap)return;const ct=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ut=>{!Ut&&"function"==typeof this._elementRef.nativeElement.focus&&ct.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(ct){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,ct):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const ct=this._doc.activeElement;return!!ct&&this._elementRef.nativeElement.contains(ct)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(ct){return this.toggle(!0,ct)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(ct=!this.opened,Ut){ct&&Ut&&(this._openedVia=Ut);const ft=this._setOpen(ct,!ct&&this._isFocusWithinDrawer(),this._openedVia||"program");return ct||(this._openedVia=null),ft}_setOpen(ct,Ut,ft){return this._opened=ct,ct?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Ut&&this._restoreFocus(ft)),this._updateFocusTrapState(),new Promise(Wt=>{this.openedChange.pipe((0,pt.s)(1)).subscribe(tt=>Wt(tt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(ct){const Ut=this._elementRef.nativeElement,ft=Ut.parentNode;"end"===ct?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),ft.insertBefore(this._anchor,Ut)),ft.appendChild(Ut)):this._anchor&&this._anchor.parentNode.insertBefore(Ut,this._anchor)}static{this.\u0275fac=function(Ut){return new(Ut||st)(E.rXU(E.aKT),E.rXU(K.GX),E.rXU(K.FN),E.rXU(ie.OD),E.rXU(E.SKi),E.rXU(K.Z7),E.rXU(O.qQ,8),E.rXU(Qt,8))}}static{this.\u0275cmp=E.VBU({type:st,selectors:[["mat-drawer"]],viewQuery:function(Ut,ft){if(1&Ut&&E.GBs(Oe,5),2&Ut){let Wt;E.mGM(Wt=E.lsd())&&(ft._content=Wt.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(Ut,ft){1&Ut&&E.Kam("@transform.start",function(tt){return ft._animationStarted.next(tt)})("@transform.done",function(tt){return ft._animationEnd.next(tt)}),2&Ut&&(E.BMQ("align",null),E.zvX("@transform",ft._animationState),E.AVh("mat-drawer-end","end"===ft.position)("mat-drawer-over","over"===ft.mode)("mat-drawer-push","push"===ft.mode)("mat-drawer-side","side"===ft.mode)("mat-drawer-opened",ft.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ot,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(Ut,ft){1&Ut&&(E.NAR(),E.j41(0,"div",0,1),E.SdG(2),E.k0s())},dependencies:[b.uv],encapsulation:2,data:{animation:[an.transformDrawer]},changeDetection:0})}}return st})(),ut=(()=>{class st{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(ct){this._autosize=(0,j.he)(ct)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(ct){this._backdropOverride=null==ct?null:(0,j.he)(ct)}get scrollable(){return this._userContent||this._content}constructor(ct,Ut,ft,Wt,tt,Yt=!1,Mi){this._dir=ct,this._element=Ut,this._ngZone=ft,this._changeDetectorRef=Wt,this._animationMode=Mi,this._drawers=new E.rOR,this.backdropClick=new E.bkB,this._destroyed=new ee.B,this._doCheckSubject=new ee.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ee.B,ct&&ct.change.pipe((0,Ct.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),tt.change().pipe((0,Ct.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Yt}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ai.Z)(this._allDrawers),(0,Ct.Q)(this._destroyed)).subscribe(ct=>{this._drawers.reset(ct.filter(Ut=>!Ut._container||Ut._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ai.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(ct=>{this._watchDrawerToggle(ct),this._watchDrawerPosition(ct),this._watchDrawerMode(ct)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,oi.B)(10),(0,Ct.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(ct=>ct.open())}close(){this._drawers.forEach(ct=>ct.close())}updateContentMargins(){let ct=0,Ut=0;if(this._left&&this._left.opened)if("side"==this._left.mode)ct+=this._left._getWidth();else if("push"==this._left.mode){const ft=this._left._getWidth();ct+=ft,Ut-=ft}if(this._right&&this._right.opened)if("side"==this._right.mode)Ut+=this._right._getWidth();else if("push"==this._right.mode){const ft=this._right._getWidth();Ut+=ft,ct-=ft}ct=ct||null,Ut=Ut||null,(ct!==this._contentMargins.left||Ut!==this._contentMargins.right)&&(this._contentMargins={left:ct,right:Ut},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(ct){ct._animationStarted.pipe((0,ue.p)(Ut=>Ut.fromState!==Ut.toState),(0,Ct.Q)(this._drawers.changes)).subscribe(Ut=>{"open-instant"!==Ut.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==ct.mode&&ct.openedChange.pipe((0,Ct.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(ct.opened))}_watchDrawerPosition(ct){ct&&ct.onPositionChanged.pipe((0,Ct.Q)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,pt.s)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(ct){ct&&ct._modeChanged.pipe((0,Ct.Q)((0,ve.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(ct){const Ut=this._element.nativeElement.classList,ft="mat-drawer-container-has-open";ct?Ut.add(ft):Ut.remove(ft)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(ct=>{"end"==ct.position?this._end=ct:this._start=ct}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(ct=>ct&&!ct.disableClose&&this._drawerHasBackdrop(ct)).forEach(ct=>ct._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(ct){return null!=ct&&ct.opened}_drawerHasBackdrop(ct){return null==this._backdropOverride?!!ct&&"side"!==ct.mode:this._backdropOverride}static{this.\u0275fac=function(Ut){return new(Ut||st)(E.rXU(Ke.dS,8),E.rXU(E.aKT),E.rXU(E.SKi),E.rXU(E.gRc),E.rXU(b.Xj),E.rXU(Cn),E.rXU(E.bc$,8))}}static{this.\u0275cmp=E.VBU({type:st,selectors:[["mat-drawer-container"]],contentQueries:function(Ut,ft,Wt){if(1&Ut&&(E.wni(Wt,wt,5),E.wni(Wt,ii,5)),2&Ut){let tt;E.mGM(tt=E.lsd())&&(ft._content=tt.first),E.mGM(tt=E.lsd())&&(ft._allDrawers=tt)}},viewQuery:function(Ut,ft){if(1&Ut&&E.GBs(wt,5),2&Ut){let Wt;E.mGM(Wt=E.lsd())&&(ft._userContent=Wt.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(Ut,ft){2&Ut&&E.AVh("mat-drawer-container-explicit-backdrop",ft._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[E.Jv_([{provide:Qt,useExisting:st}])],ngContentSelectors:Ht,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Ut,ft){1&Ut&&(E.NAR(Ye),E.DNE(0,Le,1,2,"div",0),E.SdG(1),E.SdG(2,1),E.DNE(3,We,2,0,"mat-drawer-content",1)),2&Ut&&(E.Y8G("ngIf",ft.hasBackdrop),E.R7$(3),E.Y8G("ngIf",!ft._content))},dependencies:[O.bT,wt],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return st})(),di=(()=>{class st{static{this.\u0275fac=function(Ut){return new(Ut||st)}}static{this.\u0275mod=E.$C({type:st})}static{this.\u0275inj=E.G2t({imports:[O.MD,ye.yE,b.Gj,b.Gj,ye.yE]})}}return st})()},5416:(Ui,ni,N)=>{"use strict";N.d(ni,{UG:()=>an,_T:()=>Et});var b=N(7705),O=N(1413),E=N(177),ye=N(8834),K=N(9969),Ke=N(6939),j=N(6860),rt=N(6697),ie=N(6977),ee=N(8617),Ce=N(9327),ve=N(6969),ue=N(6600);function P(Oi,Cn){if(1&Oi){const Qt=b.RV6();b.j41(0,"div",2)(1,"button",3),b.bIt("click",function(){b.eBV(Qt);const wt=b.XpG();return b.Njj(wt.action())}),b.EFF(2),b.k0s()()}if(2&Oi){const Qt=b.XpG();b.R7$(2),b.SpI(" ",Qt.data.action," ")}}const Be=["label"];function Ct(Oi,Cn){}const qt=Math.pow(2,31)-1;class pt{constructor(Cn,Qt){this._overlayRef=Qt,this._afterDismissed=new O.B,this._afterOpened=new O.B,this._onAction=new O.B,this._dismissedByAction=!1,this.containerInstance=Cn,Cn._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Cn){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Cn,qt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Ai=new b.nKC("MatSnackBarData");class oi{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let q=(()=>{class Oi{static{this.\u0275fac=function(lt){return new(lt||Oi)}}static{this.\u0275dir=b.FsC({type:Oi,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}}return Oi})(),Ot=(()=>{class Oi{static{this.\u0275fac=function(lt){return new(lt||Oi)}}static{this.\u0275dir=b.FsC({type:Oi,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}}return Oi})(),Oe=(()=>{class Oi{static{this.\u0275fac=function(lt){return new(lt||Oi)}}static{this.\u0275dir=b.FsC({type:Oi,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}}return Oi})(),Le=(()=>{class Oi{constructor(Qt,lt){this.snackBarRef=Qt,this.data=lt}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static{this.\u0275fac=function(lt){return new(lt||Oi)(b.rXU(pt),b.rXU(Ai))}}static{this.\u0275cmp=b.VBU({type:Oi,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(lt,wt){1&lt&&(b.j41(0,"div",0),b.EFF(1),b.k0s(),b.DNE(2,P,3,1,"div",1)),2&lt&&(b.R7$(1),b.SpI(" ",wt.data.message,"\n"),b.R7$(1),b.Y8G("ngIf",wt.hasAction))},dependencies:[E.bT,ye.$z,q,Ot,Oe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}}return Oi})();const We={snackBarState:(0,K.hZ)("state",[(0,K.wk)("void, hidden",(0,K.iF)({transform:"scale(0.8)",opacity:0})),(0,K.wk)("visible",(0,K.iF)({transform:"scale(1)",opacity:1})),(0,K.kY)("* => visible",(0,K.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,K.kY)("* => void, * => hidden",(0,K.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,K.iF)({opacity:0})))])};let Ye=0,Ht=(()=>{class Oi extends Ke.lb{constructor(Qt,lt,wt,ii,ut){super(),this._ngZone=Qt,this._elementRef=lt,this._changeDetectorRef=wt,this._platform=ii,this.snackBarConfig=ut,this._document=(0,b.WQX)(E.qQ),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new O.B,this._onExit=new O.B,this._onEnter=new O.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Ye++,this.attachDomPortal=yt=>{this._assertNotAttached();const Zt=this._portalOutlet.attachDomPortal(yt);return this._afterPortalAttached(),Zt},this._live="assertive"!==ut.politeness||ut.announcementMessage?"off"===ut.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(Qt){this._assertNotAttached();const lt=this._portalOutlet.attachComponentPortal(Qt);return this._afterPortalAttached(),lt}attachTemplatePortal(Qt){this._assertNotAttached();const lt=this._portalOutlet.attachTemplatePortal(Qt);return this._afterPortalAttached(),lt}onAnimationEnd(Qt){const{fromState:lt,toState:wt}=Qt;if(("void"===wt&&"void"!==lt||"hidden"===wt)&&this._completeExit(),"visible"===wt){const ii=this._onEnter;this._ngZone.run(()=>{ii.next(),ii.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,rt.s)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const Qt=this._elementRef.nativeElement,lt=this.snackBarConfig.panelClass;lt&&(Array.isArray(lt)?lt.forEach(wt=>Qt.classList.add(wt)):Qt.classList.add(lt)),this._exposeToModals()}_exposeToModals(){const Qt=this._liveElementId,lt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let wt=0;wt<lt.length;wt++){const ii=lt[wt],ut=ii.getAttribute("aria-owns");this._trackedModals.add(ii),ut?-1===ut.indexOf(Qt)&&ii.setAttribute("aria-owns",ut+" "+Qt):ii.setAttribute("aria-owns",Qt)}}_clearFromModals(){this._trackedModals.forEach(Qt=>{const lt=Qt.getAttribute("aria-owns");if(lt){const wt=lt.replace(this._liveElementId,"").trim();wt.length>0?Qt.setAttribute("aria-owns",wt):Qt.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const Qt=this._elementRef.nativeElement.querySelector("[aria-hidden]"),lt=this._elementRef.nativeElement.querySelector("[aria-live]");if(Qt&&lt){let wt=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&Qt.contains(document.activeElement)&&(wt=document.activeElement),Qt.removeAttribute("aria-hidden"),lt.appendChild(Qt),wt?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static{this.\u0275fac=function(lt){return new(lt||Oi)(b.rXU(b.SKi),b.rXU(b.aKT),b.rXU(b.gRc),b.rXU(j.OD),b.rXU(oi))}}static{this.\u0275dir=b.FsC({type:Oi,viewQuery:function(lt,wt){if(1&lt&&b.GBs(Ke.I3,7),2&lt){let ii;b.mGM(ii=b.lsd())&&(wt._portalOutlet=ii.first)}},features:[b.Vt3]})}}return Oi})(),vi=(()=>{class Oi extends Ht{_afterPortalAttached(){super._afterPortalAttached();const Qt=this._label.nativeElement,lt="mdc-snackbar__label";Qt.classList.toggle(lt,!Qt.querySelector(`.${lt}`))}static{this.\u0275fac=function(){let Qt;return function(wt){return(Qt||(Qt=b.xGo(Oi)))(wt||Oi)}}()}static{this.\u0275cmp=b.VBU({type:Oi,selectors:[["mat-snack-bar-container"]],viewQuery:function(lt,wt){if(1&lt&&b.GBs(Be,7),2&lt){let ii;b.mGM(ii=b.lsd())&&(wt._label=ii.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(lt,wt){1&lt&&b.Kam("@state.done",function(ut){return wt.onAnimationEnd(ut)}),2&lt&&b.zvX("@state",wt._animationState)},features:[b.Vt3],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(lt,wt){1&lt&&(b.j41(0,"div",0)(1,"div",1,2)(3,"div",3),b.DNE(4,Ct,0,0,"ng-template",4),b.k0s(),b.nrm(5,"div"),b.k0s()()),2&lt&&(b.R7$(5),b.BMQ("aria-live",wt._live)("role",wt._role)("id",wt._liveElementId))},dependencies:[Ke.I3],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[We.snackBarState]}})}}return Oi})(),Et=(()=>{class Oi{static{this.\u0275fac=function(lt){return new(lt||Oi)}}static{this.\u0275mod=b.$C({type:Oi})}static{this.\u0275inj=b.G2t({imports:[ve.z_,Ke.jc,E.MD,ye.Hl,ue.yE,ue.yE]})}}return Oi})();const bi=new b.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function wi(){return new oi}});let Ci=(()=>{class Oi{get _openedSnackBarRef(){const Qt=this._parentSnackBar;return Qt?Qt._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(Qt){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=Qt:this._snackBarRefAtThisLevel=Qt}constructor(Qt,lt,wt,ii,ut,yt){this._overlay=Qt,this._live=lt,this._injector=wt,this._breakpointObserver=ii,this._parentSnackBar=ut,this._defaultConfig=yt,this._snackBarRefAtThisLevel=null}openFromComponent(Qt,lt){return this._attach(Qt,lt)}openFromTemplate(Qt,lt){return this._attach(Qt,lt)}open(Qt,lt="",wt){const ii={...this._defaultConfig,...wt};return ii.data={message:Qt,action:lt},ii.announcementMessage===Qt&&(ii.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ii)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(Qt,lt){const ii=b.zZn.create({parent:lt&&lt.viewContainerRef&&lt.viewContainerRef.injector||this._injector,providers:[{provide:oi,useValue:lt}]}),ut=new Ke.A8(this.snackBarContainerComponent,lt.viewContainerRef,ii),yt=Qt.attach(ut);return yt.instance.snackBarConfig=lt,yt.instance}_attach(Qt,lt){const wt={...new oi,...this._defaultConfig,...lt},ii=this._createOverlay(wt),ut=this._attachSnackBarContainer(ii,wt),yt=new pt(ut,ii);if(Qt instanceof b.C4Q){const Zt=new Ke.VA(Qt,null,{$implicit:wt.data,snackBarRef:yt});yt.instance=ut.attachTemplatePortal(Zt)}else{const Zt=this._createInjector(wt,yt),Tt=new Ke.A8(Qt,void 0,Zt),di=ut.attachComponentPortal(Tt);yt.instance=di.instance}return this._breakpointObserver.observe(Ce.Rp.HandsetPortrait).pipe((0,ie.Q)(ii.detachments())).subscribe(Zt=>{ii.overlayElement.classList.toggle(this.handsetCssClass,Zt.matches)}),wt.announcementMessage&&ut._onAnnounce.subscribe(()=>{this._live.announce(wt.announcementMessage,wt.politeness)}),this._animateSnackBar(yt,wt),this._openedSnackBarRef=yt,this._openedSnackBarRef}_animateSnackBar(Qt,lt){Qt.afterDismissed().subscribe(()=>{this._openedSnackBarRef==Qt&&(this._openedSnackBarRef=null),lt.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{Qt.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):Qt.containerInstance.enter(),lt.duration&&lt.duration>0&&Qt.afterOpened().subscribe(()=>Qt._dismissAfter(lt.duration))}_createOverlay(Qt){const lt=new ve.rR;lt.direction=Qt.direction;let wt=this._overlay.position().global();const ii="rtl"===Qt.direction,ut="left"===Qt.horizontalPosition||"start"===Qt.horizontalPosition&&!ii||"end"===Qt.horizontalPosition&&ii,yt=!ut&&"center"!==Qt.horizontalPosition;return ut?wt.left("0"):yt?wt.right("0"):wt.centerHorizontally(),"top"===Qt.verticalPosition?wt.top("0"):wt.bottom("0"),lt.positionStrategy=wt,this._overlay.create(lt)}_createInjector(Qt,lt){return b.zZn.create({parent:Qt&&Qt.viewContainerRef&&Qt.viewContainerRef.injector||this._injector,providers:[{provide:pt,useValue:lt},{provide:Ai,useValue:Qt.data}]})}static{this.\u0275fac=function(lt){return new(lt||Oi)(b.KVO(ve.hJ),b.KVO(ee.Ai),b.KVO(b.zZn),b.KVO(Ce.QP),b.KVO(Oi,12),b.KVO(bi))}}static{this.\u0275prov=b.jDH({token:Oi,factory:Oi.\u0275fac})}}return Oi})(),an=(()=>{class Oi extends Ci{constructor(Qt,lt,wt,ii,ut,yt){super(Qt,lt,wt,ii,ut,yt),this.simpleSnackBarComponent=Le,this.snackBarContainerComponent=vi,this.handsetCssClass="mat-mdc-snack-bar-handset"}static{this.\u0275fac=function(lt){return new(lt||Oi)(b.KVO(ve.hJ),b.KVO(ee.Ai),b.KVO(b.zZn),b.KVO(Ce.QP),b.KVO(Oi,12),b.KVO(bi))}}static{this.\u0275prov=b.jDH({token:Oi,factory:Oi.\u0275fac,providedIn:Et})}}return Oi})()},6850:(Ui,ni,N)=>{"use strict";N.d(ni,{RI:()=>On,T8:()=>Re,mq:()=>Pt});var b=N(177),O=N(7705),E=N(6600),ye=N(6939),K=N(2318),Ke=N(8617),j=N(8203),rt=N(8359),ie=N(1413),ee=N(3726),Ce=N(7673),ve=N(7786),ue=N(983),P=N(1985),Be=N(1584),Ct=N(9172),qt=N(3294),pt=N(6977),Ai=N(6697),oi=N(5558),q=N(5245),Ot=N(5964),Oe=N(9969),Le=N(4085),We=N(3980),Ye=N(6860),Ht=N(7336);function vi(Di,Zi){}const Et=function(Di){return{animationDuration:Di}},wi=function(Di,Zi){return{value:Di,params:Zi}};function bi(Di,Zi){1&Di&&O.SdG(0)}const Ci=["*"],an=["tabListContainer"],Oi=["tabList"],Cn=["tabListInner"],Qt=["nextPaginator"],lt=["previousPaginator"],wt=["tabBodyWrapper"],ii=["tabHeader"];function ut(Di,Zi){}function yt(Di,Zi){if(1&Di&&O.DNE(0,ut,0,0,"ng-template",14),2&Di){const Lt=O.XpG().$implicit;O.Y8G("cdkPortalOutlet",Lt.templateLabel)}}function Zt(Di,Zi){if(1&Di&&O.EFF(0),2&Di){const Lt=O.XpG().$implicit;O.JRh(Lt.textLabel)}}function Tt(Di,Zi){if(1&Di){const Lt=O.RV6();O.j41(0,"div",6,7),O.bIt("click",function(){const ki=O.eBV(Lt),li=ki.$implicit,ci=ki.index,Ti=O.XpG(),Xi=O.sdS(1);return O.Njj(Ti._handleClick(li,Xi,ci))})("cdkFocusChange",function(ki){const ci=O.eBV(Lt).index,Ti=O.XpG();return O.Njj(Ti._tabFocusChanged(ki,ci))}),O.nrm(2,"span",8)(3,"div",9),O.j41(4,"span",10)(5,"span",11),O.DNE(6,yt,1,1,"ng-template",12),O.DNE(7,Zt,1,1,"ng-template",null,13,O.C5r),O.k0s()()()}if(2&Di){const Lt=Zi.$implicit,ai=Zi.index,ki=O.sdS(1),li=O.sdS(8),ci=O.XpG();O.AVh("mdc-tab--active",ci.selectedIndex===ai),O.Y8G("id",ci._getTabLabelId(ai))("ngClass",Lt.labelClass)("disabled",Lt.disabled)("fitInkBarToContent",ci.fitInkBarToContent),O.BMQ("tabIndex",ci._getTabIndex(ai))("aria-posinset",ai+1)("aria-setsize",ci._tabs.length)("aria-controls",ci._getTabContentId(ai))("aria-selected",ci.selectedIndex===ai)("aria-label",Lt.ariaLabel||null)("aria-labelledby",!Lt.ariaLabel&&Lt.ariaLabelledby?Lt.ariaLabelledby:null),O.R7$(3),O.Y8G("matRippleTrigger",ki)("matRippleDisabled",Lt.disabled||ci.disableRipple),O.R7$(3),O.Y8G("ngIf",Lt.templateLabel)("ngIfElse",li)}}function di(Di,Zi){if(1&Di){const Lt=O.RV6();O.j41(0,"mat-tab-body",15),O.bIt("_onCentered",function(){O.eBV(Lt);const ki=O.XpG();return O.Njj(ki._removeTabBodyWrapperHeight())})("_onCentering",function(ki){O.eBV(Lt);const li=O.XpG();return O.Njj(li._setTabBodyWrapperHeight(ki))}),O.k0s()}if(2&Di){const Lt=Zi.$implicit,ai=Zi.index,ki=O.XpG();O.AVh("mat-mdc-tab-body-active",ki.selectedIndex===ai),O.Y8G("id",ki._getTabContentId(ai))("ngClass",Lt.bodyClass)("content",Lt.content)("position",Lt.position)("origin",Lt.origin)("animationDuration",ki.animationDuration)("preserveContent",ki.preserveContent),O.BMQ("tabindex",null!=ki.contentTabIndex&&ki.selectedIndex===ai?ki.contentTabIndex:null)("aria-labelledby",ki._getTabLabelId(ai))("aria-hidden",ki.selectedIndex!==ai)}}const ct={translateTab:(0,Oe.hZ)("translateTab",[(0,Oe.wk)("center, void, left-origin-center, right-origin-center",(0,Oe.iF)({transform:"none"})),(0,Oe.wk)("left",(0,Oe.iF)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Oe.wk)("right",(0,Oe.iF)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Oe.kY)("* => left, * => right, left => center, right => center",(0,Oe.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Oe.kY)("void => left-origin-center",[(0,Oe.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Oe.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Oe.kY)("void => right-origin-center",[(0,Oe.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Oe.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ut=(()=>{class Di extends ye.I3{constructor(Lt,ai,ki,li){super(Lt,ai,li),this._host=ki,this._centeringSub=rt.yU.EMPTY,this._leavingSub=rt.yU.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Ct.Z)(this._host._isCenterPosition(this._host._position))).subscribe(Lt=>{Lt&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.OM3),O.rXU(O.c1b),O.rXU((0,O.Rfq)(()=>Wt)),O.rXU(b.qQ))}}static{this.\u0275dir=O.FsC({type:Di,selectors:[["","matTabBodyHost",""]],features:[O.Vt3]})}}return Di})(),ft=(()=>{class Di{set position(Lt){this._positionIndex=Lt,this._computePositionAnimationState()}constructor(Lt,ai,ki){this._elementRef=Lt,this._dir=ai,this._dirChangeSubscription=rt.yU.EMPTY,this._translateTabComplete=new ie.B,this._onCentering=new O.bkB,this._beforeCentering=new O.bkB,this._afterLeavingCenter=new O.bkB,this._onCentered=new O.bkB(!0),this.animationDuration="500ms",this.preserveContent=!1,ai&&(this._dirChangeSubscription=ai.change.subscribe(li=>{this._computePositionAnimationState(li),ki.markForCheck()})),this._translateTabComplete.pipe((0,qt.F)((li,ci)=>li.fromState===ci.fromState&&li.toState===ci.toState)).subscribe(li=>{this._isCenterPosition(li.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(li.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Lt){const ai=this._isCenterPosition(Lt.toState);this._beforeCentering.emit(ai),ai&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Lt){return"center"==Lt||"left-origin-center"==Lt||"right-origin-center"==Lt}_computePositionAnimationState(Lt=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Lt?"left":"right":this._positionIndex>0?"ltr"==Lt?"right":"left":"center"}_computePositionFromOrigin(Lt){const ai=this._getLayoutDirection();return"ltr"==ai&&Lt<=0||"rtl"==ai&&Lt>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(j.dS,8),O.rXU(O.gRc))}}static{this.\u0275dir=O.FsC({type:Di,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}}return Di})(),Wt=(()=>{class Di extends ft{constructor(Lt,ai,ki){super(Lt,ai,ki)}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(j.dS,8),O.rXU(O.gRc))}}static{this.\u0275cmp=O.VBU({type:Di,selectors:[["mat-tab-body"]],viewQuery:function(ai,ki){if(1&ai&&O.GBs(ye.I3,5),2&ai){let li;O.mGM(li=O.lsd())&&(ki._portalHost=li.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[O.Vt3],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(ai,ki){1&ai&&(O.j41(0,"div",0,1),O.bIt("@translateTab.start",function(ci){return ki._onTranslateTabStarted(ci)})("@translateTab.done",function(ci){return ki._translateTabComplete.next(ci)}),O.DNE(2,vi,0,0,"ng-template",2),O.k0s()),2&ai&&O.Y8G("@translateTab",O.l_i(3,wi,ki._position,O.eq3(1,Et,ki.animationDuration)))},dependencies:[Ut],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[ct.translateTab]}})}}return Di})();const tt=new O.nKC("MatTabContent");let Yt=(()=>{class Di{constructor(Lt){this.template=Lt}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.C4Q))}}static{this.\u0275dir=O.FsC({type:Di,selectors:[["","matTabContent",""]],features:[O.Jv_([{provide:tt,useExisting:Di}])]})}}return Di})();const Mi=new O.nKC("MatTabLabel"),Qi=new O.nKC("MAT_TAB");let tn=(()=>{class Di extends ye.bV{constructor(Lt,ai,ki){super(Lt,ai),this._closestTab=ki}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.C4Q),O.rXU(O.c1b),O.rXU(Qi,8))}}static{this.\u0275dir=O.FsC({type:Di,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[O.Jv_([{provide:Mi,useExisting:Di}]),O.Vt3]})}}return Di})();const dn="mdc-tab-indicator--active",gn="mdc-tab-indicator--no-transition";class Sn{constructor(Zi){this._items=Zi}hide(){this._items.forEach(Zi=>Zi.deactivateInkBar())}alignToElement(Zi){const Lt=this._items.find(ki=>ki.elementRef.nativeElement===Zi),ai=this._currentItem;if(Lt!==ai&&(ai?.deactivateInkBar(),Lt)){const ki=ai?.elementRef.nativeElement.getBoundingClientRect?.();Lt.activateInkBar(ki),this._currentItem=Lt}}}function Ni(Di){return class extends Di{constructor(...Zi){super(...Zi),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(Zi){const Lt=(0,Le.he)(Zi);this._fitToContent!==Lt&&(this._fitToContent=Lt,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(Zi){const Lt=this.elementRef.nativeElement;if(!Zi||!Lt.getBoundingClientRect||!this._inkBarContentElement)return void Lt.classList.add(dn);const ai=Lt.getBoundingClientRect(),ki=Zi.width/ai.width,li=Zi.left-ai.left;Lt.classList.add(gn),this._inkBarContentElement.style.setProperty("transform",`translateX(${li}px) scaleX(${ki})`),Lt.getBoundingClientRect(),Lt.classList.remove(gn),Lt.classList.add(dn),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(dn)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const Zi=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=Zi.createElement("span"),this._inkBarContentElement=Zi.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const jt=(0,E.Ob)(class{}),$=Ni((()=>{class Di extends jt{constructor(Lt){super(),this.elementRef=Lt}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT))}}static{this.\u0275dir=O.FsC({type:Di,features:[O.Vt3]})}}return Di})());let Kt=(()=>{class Di extends ${static{this.\u0275fac=function(){let Lt;return function(ki){return(Lt||(Lt=O.xGo(Di)))(ki||Di)}}()}static{this.\u0275dir=O.FsC({type:Di,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(ai,ki){2&ai&&(O.BMQ("aria-disabled",!!ki.disabled),O.AVh("mat-mdc-tab-disabled",ki.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[O.Vt3]})}}return Di})();const Qe=(0,E.Ob)(class{}),ui=new O.nKC("MAT_TAB_GROUP");let xe=(()=>{class Di extends Qe{get content(){return this._contentPortal}constructor(Lt,ai){super(),this._viewContainerRef=Lt,this._closestTabGroup=ai,this.textLabel="",this._contentPortal=null,this._stateChanges=new ie.B,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(Lt){(Lt.hasOwnProperty("textLabel")||Lt.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ye.VA(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Lt){Lt&&Lt._closestTab===this&&(this._templateLabel=Lt)}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.c1b),O.rXU(ui,8))}}static{this.\u0275dir=O.FsC({type:Di,viewQuery:function(ai,ki){if(1&ai&&O.GBs(O.C4Q,7),2&ai){let li;O.mGM(li=O.lsd())&&(ki._implicitContent=li.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[O.Vt3,O.OA$]})}}return Di})(),Pt=(()=>{class Di extends xe{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(Lt){this._setTemplateLabelInput(Lt)}static{this.\u0275fac=function(){let Lt;return function(ki){return(Lt||(Lt=O.xGo(Di)))(ki||Di)}}()}static{this.\u0275cmp=O.VBU({type:Di,selectors:[["mat-tab"]],contentQueries:function(ai,ki,li){if(1&ai&&(O.wni(li,Yt,7,O.C4Q),O.wni(li,tn,5)),2&ai){let ci;O.mGM(ci=O.lsd())&&(ki._explicitContent=ci.first),O.mGM(ci=O.lsd())&&(ki.templateLabel=ci.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[O.Jv_([{provide:Qi,useExisting:Di}]),O.Vt3],ngContentSelectors:Ci,decls:1,vars:0,template:function(ai,ki){1&ai&&(O.NAR(),O.DNE(0,bi,1,0,"ng-template"))},encapsulation:2})}}return Di})();const qe=(0,Ye.BQ)({passive:!0});let Rt=(()=>{class Di{get disablePagination(){return this._disablePagination}set disablePagination(Lt){this._disablePagination=(0,Le.he)(Lt)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Lt){Lt=(0,Le.OE)(Lt),this._selectedIndex!=Lt&&(this._selectedIndexChanged=!0,this._selectedIndex=Lt,this._keyManager&&this._keyManager.updateActiveItem(Lt))}constructor(Lt,ai,ki,li,ci,Ti,Xi){this._elementRef=Lt,this._changeDetectorRef=ai,this._viewportRuler=ki,this._dir=li,this._ngZone=ci,this._platform=Ti,this._animationMode=Xi,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ie.B,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ie.B,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new O.bkB,this.indexFocused=new O.bkB,ci.runOutsideAngular(()=>{(0,ee.R)(Lt.nativeElement,"mouseleave").pipe((0,pt.Q)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){(0,ee.R)(this._previousPaginator.nativeElement,"touchstart",qe).pipe((0,pt.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,ee.R)(this._nextPaginator.nativeElement,"touchstart",qe).pipe((0,pt.Q)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Lt=this._dir?this._dir.change:(0,Ce.of)("ltr"),ai=this._viewportRuler.change(150),ki=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Ke.Bu(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Ai.s)(1)).subscribe(ki),(0,ve.h)(Lt,ai,this._items.changes,this._itemsResized()).pipe((0,pt.Q)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),ki()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(li=>{this.indexFocused.emit(li),this._setTabFocus(li)})}_itemsResized(){return"function"!=typeof ResizeObserver?ue.w:this._items.changes.pipe((0,Ct.Z)(this._items),(0,oi.n)(Lt=>new P.c(ai=>this._ngZone.runOutsideAngular(()=>{const ki=new ResizeObserver(li=>ai.next(li));return Lt.forEach(li=>ki.observe(li.elementRef.nativeElement)),()=>{ki.disconnect()}}))),(0,q.i)(1),(0,Ot.p)(Lt=>Lt.some(ai=>ai.contentRect.width>0&&ai.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Lt){if(!(0,Ht.rp)(Lt))switch(Lt.keyCode){case Ht.Fm:case Ht.t6:if(this.focusIndex!==this.selectedIndex){const ai=this._items.get(this.focusIndex);ai&&!ai.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Lt))}break;default:this._keyManager.onKeydown(Lt)}}_onContentChanges(){const Lt=this._elementRef.nativeElement.textContent;Lt!==this._currentTextContent&&(this._currentTextContent=Lt||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Lt){!this._isValidIndex(Lt)||this.focusIndex===Lt||!this._keyManager||this._keyManager.setActiveItem(Lt)}_isValidIndex(Lt){return!this._items||!!this._items.toArray()[Lt]}_setTabFocus(Lt){if(this._showPaginationControls&&this._scrollToLabel(Lt),this._items&&this._items.length){this._items.toArray()[Lt].focus();const ai=this._tabListContainer.nativeElement;ai.scrollLeft="ltr"==this._getLayoutDirection()?0:ai.scrollWidth-ai.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Lt=this.scrollDistance,ai="ltr"===this._getLayoutDirection()?-Lt:Lt;this._tabList.nativeElement.style.transform=`translateX(${Math.round(ai)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Lt){this._scrollTo(Lt)}_scrollHeader(Lt){return this._scrollTo(this._scrollDistance+("before"==Lt?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Lt){this._stopInterval(),this._scrollHeader(Lt)}_scrollToLabel(Lt){if(this.disablePagination)return;const ai=this._items?this._items.toArray()[Lt]:null;if(!ai)return;const ki=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:li,offsetWidth:ci}=ai.elementRef.nativeElement;let Ti,Xi;"ltr"==this._getLayoutDirection()?(Ti=li,Xi=Ti+ci):(Xi=this._tabListInner.nativeElement.offsetWidth-li,Ti=Xi-ci);const ln=this.scrollDistance,en=this.scrollDistance+ki;Ti<ln?this.scrollDistance-=ln-Ti:Xi>en&&(this.scrollDistance+=Math.min(Xi-en,Ti-ln))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Lt=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Lt||(this.scrollDistance=0),Lt!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Lt}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Lt=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,ai=Lt?Lt.elementRef.nativeElement:null;ai?this._inkBar.alignToElement(ai):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Lt,ai){ai&&null!=ai.button&&0!==ai.button||(this._stopInterval(),(0,Be.O)(650,100).pipe((0,pt.Q)((0,ve.h)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:ki,distance:li}=this._scrollHeader(Lt);(0===li||li>=ki)&&this._stopInterval()}))}_scrollTo(Lt){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const ai=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(ai,Lt)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:ai,distance:this._scrollDistance}}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(We.Xj),O.rXU(j.dS,8),O.rXU(O.SKi),O.rXU(Ye.OD),O.rXU(O.bc$,8))}}static{this.\u0275dir=O.FsC({type:Di,inputs:{disablePagination:"disablePagination"}})}}return Di})(),Te=(()=>{class Di extends Rt{get disableRipple(){return this._disableRipple}set disableRipple(Lt){this._disableRipple=(0,Le.he)(Lt)}constructor(Lt,ai,ki,li,ci,Ti,Xi){super(Lt,ai,ki,li,ci,Ti,Xi),this._disableRipple=!1}_itemSelected(Lt){Lt.preventDefault()}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(We.Xj),O.rXU(j.dS,8),O.rXU(O.SKi),O.rXU(Ye.OD),O.rXU(O.bc$,8))}}static{this.\u0275dir=O.FsC({type:Di,inputs:{disableRipple:"disableRipple"},features:[O.Vt3]})}}return Di})(),bt=(()=>{class Di extends Te{constructor(Lt,ai,ki,li,ci,Ti,Xi){super(Lt,ai,ki,li,ci,Ti,Xi)}ngAfterContentInit(){this._inkBar=new Sn(this._items),super.ngAfterContentInit()}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(We.Xj),O.rXU(j.dS,8),O.rXU(O.SKi),O.rXU(Ye.OD),O.rXU(O.bc$,8))}}static{this.\u0275cmp=O.VBU({type:Di,selectors:[["mat-tab-header"]],contentQueries:function(ai,ki,li){if(1&ai&&O.wni(li,Kt,4),2&ai){let ci;O.mGM(ci=O.lsd())&&(ki._items=ci)}},viewQuery:function(ai,ki){if(1&ai&&(O.GBs(an,7),O.GBs(Oi,7),O.GBs(Cn,7),O.GBs(Qt,5),O.GBs(lt,5)),2&ai){let li;O.mGM(li=O.lsd())&&(ki._tabListContainer=li.first),O.mGM(li=O.lsd())&&(ki._tabList=li.first),O.mGM(li=O.lsd())&&(ki._tabListInner=li.first),O.mGM(li=O.lsd())&&(ki._nextPaginator=li.first),O.mGM(li=O.lsd())&&(ki._previousPaginator=li.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(ai,ki){2&ai&&O.AVh("mat-mdc-tab-header-pagination-controls-enabled",ki._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==ki._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[O.Vt3],ngContentSelectors:Ci,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(ai,ki){1&ai&&(O.NAR(),O.j41(0,"button",0,1),O.bIt("click",function(){return ki._handlePaginatorClick("before")})("mousedown",function(ci){return ki._handlePaginatorPress("before",ci)})("touchend",function(){return ki._stopInterval()}),O.nrm(2,"div",2),O.k0s(),O.j41(3,"div",3,4),O.bIt("keydown",function(ci){return ki._handleKeydown(ci)}),O.j41(5,"div",5,6),O.bIt("cdkObserveContent",function(){return ki._onContentChanges()}),O.j41(7,"div",7,8),O.SdG(9),O.k0s()()(),O.j41(10,"button",9,10),O.bIt("mousedown",function(ci){return ki._handlePaginatorPress("after",ci)})("click",function(){return ki._handlePaginatorClick("after")})("touchend",function(){return ki._stopInterval()}),O.nrm(12,"div",2),O.k0s()),2&ai&&(O.AVh("mat-mdc-tab-header-pagination-disabled",ki._disableScrollBefore),O.Y8G("matRippleDisabled",ki._disableScrollBefore||ki.disableRipple)("disabled",ki._disableScrollBefore||null),O.R7$(3),O.AVh("_mat-animation-noopable","NoopAnimations"===ki._animationMode),O.R7$(7),O.AVh("mat-mdc-tab-header-pagination-disabled",ki._disableScrollAfter),O.Y8G("matRippleDisabled",ki._disableScrollAfter||ki.disableRipple)("disabled",ki._disableScrollAfter||null))},dependencies:[E.r6,K.Wv],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return Di})();const Gt=new O.nKC("MAT_TABS_CONFIG");let Pe=0;const te=(0,E.Zc)((0,E.GG)(class{constructor(Di){this._elementRef=Di}}),"primary");let ge=(()=>{class Di extends te{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Lt){this._dynamicHeight=(0,Le.he)(Lt)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Lt){this._indexToSelect=(0,Le.OE)(Lt,null)}get animationDuration(){return this._animationDuration}set animationDuration(Lt){this._animationDuration=/^\d+$/.test(Lt+"")?Lt+"ms":Lt}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Lt){this._contentTabIndex=(0,Le.OE)(Lt,null)}get disablePagination(){return this._disablePagination}set disablePagination(Lt){this._disablePagination=(0,Le.he)(Lt)}get preserveContent(){return this._preserveContent}set preserveContent(Lt){this._preserveContent=(0,Le.he)(Lt)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Lt){const ai=this._elementRef.nativeElement.classList;ai.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),Lt&&ai.add("mat-tabs-with-background",`mat-background-${Lt}`),this._backgroundColor=Lt}constructor(Lt,ai,ki,li){super(Lt),this._changeDetectorRef=ai,this._animationMode=li,this._tabs=new O.rOR,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=rt.yU.EMPTY,this._tabLabelSubscription=rt.yU.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new O.bkB,this.focusChange=new O.bkB,this.animationDone=new O.bkB,this.selectedTabChange=new O.bkB(!0),this._groupId=Pe++,this.animationDuration=ki&&ki.animationDuration?ki.animationDuration:"500ms",this.disablePagination=!(!ki||null==ki.disablePagination)&&ki.disablePagination,this.dynamicHeight=!(!ki||null==ki.dynamicHeight)&&ki.dynamicHeight,this.contentTabIndex=ki?.contentTabIndex??null,this.preserveContent=!!ki?.preserveContent}ngAfterContentChecked(){const Lt=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Lt){const ai=null==this._selectedIndex;if(!ai){this.selectedTabChange.emit(this._createChangeEvent(Lt));const ki=this._tabBodyWrapper.nativeElement;ki.style.minHeight=ki.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((ki,li)=>ki.isActive=li===Lt),ai||(this.selectedIndexChange.emit(Lt),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((ai,ki)=>{ai.position=ki-Lt,null!=this._selectedIndex&&0==ai.position&&!ai.origin&&(ai.origin=Lt-this._selectedIndex)}),this._selectedIndex!==Lt&&(this._selectedIndex=Lt,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const Lt=this._clampTabIndex(this._indexToSelect);if(Lt===this._selectedIndex){const ai=this._tabs.toArray();let ki;for(let li=0;li<ai.length;li++)if(ai[li].isActive){this._indexToSelect=this._selectedIndex=li,this._lastFocusedTabIndex=null,ki=ai[li];break}!ki&&ai[Lt]&&Promise.resolve().then(()=>{ai[Lt].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(Lt))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Ct.Z)(this._allTabs)).subscribe(Lt=>{this._tabs.reset(Lt.filter(ai=>ai._closestTabGroup===this||!ai._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(Lt){const ai=this._tabHeader;ai&&(ai.focusIndex=Lt)}_focusChanged(Lt){this._lastFocusedTabIndex=Lt,this.focusChange.emit(this._createChangeEvent(Lt))}_createChangeEvent(Lt){const ai=new Ve;return ai.index=Lt,this._tabs&&this._tabs.length&&(ai.tab=this._tabs.toArray()[Lt]),ai}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,ve.h)(...this._tabs.map(Lt=>Lt._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Lt){return Math.min(this._tabs.length-1,Math.max(Lt||0,0))}_getTabLabelId(Lt){return`mat-tab-label-${this._groupId}-${Lt}`}_getTabContentId(Lt){return`mat-tab-content-${this._groupId}-${Lt}`}_setTabBodyWrapperHeight(Lt){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const ai=this._tabBodyWrapper.nativeElement;ai.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(ai.style.height=Lt+"px")}_removeTabBodyWrapperHeight(){const Lt=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Lt.clientHeight,Lt.style.height="",this.animationDone.emit()}_handleClick(Lt,ai,ki){ai.focusIndex=ki,Lt.disabled||(this.selectedIndex=ki)}_getTabIndex(Lt){return Lt===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(Lt,ai){Lt&&"mouse"!==Lt&&"touch"!==Lt&&(this._tabHeader.focusIndex=ai)}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(Gt,8),O.rXU(O.bc$,8))}}static{this.\u0275dir=O.FsC({type:Di,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[O.Vt3]})}}return Di})(),Re=(()=>{class Di extends ge{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(Lt){this._fitInkBarToContent=(0,Le.he)(Lt),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(Lt){this._stretchTabs=(0,Le.he)(Lt)}constructor(Lt,ai,ki,li){super(Lt,ai,ki,li),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!ki||null==ki.fitInkBarToContent)&&ki.fitInkBarToContent,this.stretchTabs=!ki||null==ki.stretchTabs||ki.stretchTabs}static{this.\u0275fac=function(ai){return new(ai||Di)(O.rXU(O.aKT),O.rXU(O.gRc),O.rXU(Gt,8),O.rXU(O.bc$,8))}}static{this.\u0275cmp=O.VBU({type:Di,selectors:[["mat-tab-group"]],contentQueries:function(ai,ki,li){if(1&ai&&O.wni(li,Pt,5),2&ai){let ci;O.mGM(ci=O.lsd())&&(ki._allTabs=ci)}},viewQuery:function(ai,ki){if(1&ai&&(O.GBs(wt,5),O.GBs(ii,5)),2&ai){let li;O.mGM(li=O.lsd())&&(ki._tabBodyWrapper=li.first),O.mGM(li=O.lsd())&&(ki._tabHeader=li.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(ai,ki){2&ai&&(O.xc7("--mat-tab-animation-duration",ki.animationDuration),O.AVh("mat-mdc-tab-group-dynamic-height",ki.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===ki.headerPosition)("mat-mdc-tab-group-stretch-tabs",ki.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[O.Jv_([{provide:ui,useExisting:Di}]),O.Vt3],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(ai,ki){1&ai&&(O.j41(0,"mat-tab-header",0,1),O.bIt("indexFocused",function(ci){return ki._focusChanged(ci)})("selectFocusedIndex",function(ci){return ki.selectedIndex=ci}),O.DNE(2,Tt,9,17,"div",2),O.k0s(),O.j41(3,"div",3,4),O.DNE(5,di,1,12,"mat-tab-body",5),O.k0s()),2&ai&&(O.Y8G("selectedIndex",ki.selectedIndex||0)("disableRipple",ki.disableRipple)("disablePagination",ki.disablePagination),O.R7$(2),O.Y8G("ngForOf",ki._tabs),O.R7$(1),O.AVh("_mat-animation-noopable","NoopAnimations"===ki._animationMode),O.R7$(2),O.Y8G("ngForOf",ki._tabs))},dependencies:[b.YU,b.Sq,b.bT,ye.I3,E.r6,Ke.vR,Wt,Kt,bt],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return Di})();class Ve{}let On=(()=>{class Di{static{this.\u0275fac=function(ai){return new(ai||Di)}}static{this.\u0275mod=O.$C({type:Di})}static{this.\u0275inj=O.G2t({imports:[b.MD,E.yE,ye.jc,E.pZ,K.w5,Ke.Pd,E.yE]})}}return Di})()},5911:(Ui,ni,N)=>{"use strict";N.d(ni,{KQ:()=>ie,s5:()=>Ce});var b=N(7705),O=N(6600),E=N(6860),ye=N(177);const K=["*",[["mat-toolbar-row"]]],Ke=["*","mat-toolbar-row"],j=(0,O.Zc)(class{constructor(ve){this._elementRef=ve}});let rt=(()=>{class ve{static{this.\u0275fac=function(Be){return new(Be||ve)}}static{this.\u0275dir=b.FsC({type:ve,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}}return ve})(),ie=(()=>{class ve extends j{constructor(P,Be,Ct){super(P),this._platform=Be,this._document=Ct}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static{this.\u0275fac=function(Be){return new(Be||ve)(b.rXU(b.aKT),b.rXU(E.OD),b.rXU(ye.qQ))}}static{this.\u0275cmp=b.VBU({type:ve,selectors:[["mat-toolbar"]],contentQueries:function(Be,Ct,qt){if(1&Be&&b.wni(qt,rt,5),2&Be){let pt;b.mGM(pt=b.lsd())&&(Ct._toolbarRows=pt)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(Be,Ct){2&Be&&b.AVh("mat-toolbar-multiple-rows",Ct._toolbarRows.length>0)("mat-toolbar-single-row",0===Ct._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[b.Vt3],ngContentSelectors:Ke,decls:2,vars:0,template:function(Be,Ct){1&Be&&(b.NAR(K),b.SdG(0),b.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return ve})(),Ce=(()=>{class ve{static{this.\u0275fac=function(Be){return new(Be||ve)}}static{this.\u0275mod=b.$C({type:ve})}static{this.\u0275inj=b.G2t({imports:[O.yE,O.yE]})}}return ve})()},4823:(Ui,ni,N)=>{"use strict";N.d(ni,{oV:()=>an,uc:()=>lt});var b=N(6977),O=N(6697),E=N(4085),ye=N(7336),K=N(7705),Ke=N(177),j=N(6860),rt=N(8617),ie=N(8203),ee=N(6969),Ce=N(3980),ve=N(6939),ue=N(1413),Be=(N(9969),N(6600));const Ct=["tooltip"],Ai=new K.nKC("mat-tooltip-scroll-strategy"),q={provide:Ai,deps:[ee.hJ],useFactory:function oi(wt){return()=>wt.scrollStrategies.reposition({scrollThrottle:20})}},Oe=new K.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function Ot(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),We="tooltip-panel",Ye=(0,j.BQ)({passive:!0});let Ci=(()=>{class wt{get position(){return this._position}set position(ut){ut!==this._position&&(this._position=ut,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(ut){this._positionAtOrigin=(0,E.he)(ut),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(ut){this._disabled=(0,E.he)(ut),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(ut){this._showDelay=(0,E.OE)(ut)}get hideDelay(){return this._hideDelay}set hideDelay(ut){this._hideDelay=(0,E.OE)(ut),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(ut){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=ut?String(ut).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(ut){this._tooltipClass=ut,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(ut,yt,Zt,Tt,di,st,ri,ct,Ut,ft,Wt,tt){this._overlay=ut,this._elementRef=yt,this._scrollDispatcher=Zt,this._viewContainerRef=Tt,this._ngZone=di,this._platform=st,this._ariaDescriber=ri,this._focusMonitor=ct,this._dir=ft,this._defaultOptions=Wt,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new ue.B,this._scrollStrategy=Ut,this._document=tt,Wt&&(this._showDelay=Wt.showDelay,this._hideDelay=Wt.hideDelay,Wt.position&&(this.position=Wt.position),Wt.positionAtOrigin&&(this.positionAtOrigin=Wt.positionAtOrigin),Wt.touchGestures&&(this.touchGestures=Wt.touchGestures)),ft.change.pipe((0,b.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,b.Q)(this._destroyed)).subscribe(ut=>{ut?"keyboard"===ut&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const ut=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([yt,Zt])=>{ut.removeEventListener(yt,Zt,Ye)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(ut,this.message,"tooltip"),this._focusMonitor.stopMonitoring(ut)}show(ut=this.showDelay,yt){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const Zt=this._createOverlay(yt);this._detach(),this._portal=this._portal||new ve.A8(this._tooltipComponent,this._viewContainerRef);const Tt=this._tooltipInstance=Zt.attach(this._portal).instance;Tt._triggerElement=this._elementRef.nativeElement,Tt._mouseLeaveHideDelay=this._hideDelay,Tt.afterHidden().pipe((0,b.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),Tt.show(ut)}hide(ut=this.hideDelay){const yt=this._tooltipInstance;yt&&(yt.isVisible()?yt.hide(ut):(yt._cancelPendingAnimations(),this._detach()))}toggle(ut){this._isTooltipVisible()?this.hide():this.show(void 0,ut)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(ut){if(this._overlayRef){const Tt=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!ut)&&Tt._origin instanceof K.aKT)return this._overlayRef;this._detach()}const yt=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),Zt=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&ut||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(yt);return Zt.positionChanges.pipe((0,b.Q)(this._destroyed)).subscribe(Tt=>{this._updateCurrentPositionClass(Tt.connectionPair),this._tooltipInstance&&Tt.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:Zt,panelClass:`${this._cssClassPrefix}-${We}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,b.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,b.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,b.Q)(this._destroyed)).subscribe(Tt=>{this._isTooltipVisible()&&Tt.keyCode===ye._f&&!(0,ye.rp)(Tt)&&(Tt.preventDefault(),Tt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(ut){const yt=ut.getConfig().positionStrategy,Zt=this._getOrigin(),Tt=this._getOverlayPosition();yt.withPositions([this._addOffset({...Zt.main,...Tt.main}),this._addOffset({...Zt.fallback,...Tt.fallback})])}_addOffset(ut){return ut}_getOrigin(){const ut=!this._dir||"ltr"==this._dir.value,yt=this.position;let Zt;"above"==yt||"below"==yt?Zt={originX:"center",originY:"above"==yt?"top":"bottom"}:"before"==yt||"left"==yt&&ut||"right"==yt&&!ut?Zt={originX:"start",originY:"center"}:("after"==yt||"right"==yt&&ut||"left"==yt&&!ut)&&(Zt={originX:"end",originY:"center"});const{x:Tt,y:di}=this._invertPosition(Zt.originX,Zt.originY);return{main:Zt,fallback:{originX:Tt,originY:di}}}_getOverlayPosition(){const ut=!this._dir||"ltr"==this._dir.value,yt=this.position;let Zt;"above"==yt?Zt={overlayX:"center",overlayY:"bottom"}:"below"==yt?Zt={overlayX:"center",overlayY:"top"}:"before"==yt||"left"==yt&&ut||"right"==yt&&!ut?Zt={overlayX:"end",overlayY:"center"}:("after"==yt||"right"==yt&&ut||"left"==yt&&!ut)&&(Zt={overlayX:"start",overlayY:"center"});const{x:Tt,y:di}=this._invertPosition(Zt.overlayX,Zt.overlayY);return{main:Zt,fallback:{overlayX:Tt,overlayY:di}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,O.s)(1),(0,b.Q)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(ut){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=ut,this._tooltipInstance._markForCheck())}_invertPosition(ut,yt){return"above"===this.position||"below"===this.position?"top"===yt?yt="bottom":"bottom"===yt&&(yt="top"):"end"===ut?ut="start":"start"===ut&&(ut="end"),{x:ut,y:yt}}_updateCurrentPositionClass(ut){const{overlayY:yt,originX:Zt,originY:Tt}=ut;let di;if(di="center"===yt?this._dir&&"rtl"===this._dir.value?"end"===Zt?"left":"right":"start"===Zt?"left":"right":"bottom"===yt&&"top"===Tt?"above":"below",di!==this._currentPosition){const st=this._overlayRef;if(st){const ri=`${this._cssClassPrefix}-${We}-`;st.removePanelClass(ri+this._currentPosition),st.addPanelClass(ri+di)}this._currentPosition=di}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",ut=>{let yt;this._setupPointerExitEventsIfNeeded(),void 0!==ut.x&&void 0!==ut.y&&(yt=ut),this.show(void 0,yt)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",ut=>{const yt=ut.targetTouches?.[0],Zt=yt?{x:yt.clientX,y:yt.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,Zt),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const ut=[];if(this._platformSupportsMouseEvents())ut.push(["mouseleave",yt=>{const Zt=yt.relatedTarget;(!Zt||!this._overlayRef?.overlayElement.contains(Zt))&&this.hide()}],["wheel",yt=>this._wheelListener(yt)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const yt=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};ut.push(["touchend",yt],["touchcancel",yt])}this._addListeners(ut),this._passiveListeners.push(...ut)}_addListeners(ut){ut.forEach(([yt,Zt])=>{this._elementRef.nativeElement.addEventListener(yt,Zt,Ye)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(ut){if(this._isTooltipVisible()){const yt=this._document.elementFromPoint(ut.clientX,ut.clientY),Zt=this._elementRef.nativeElement;yt!==Zt&&!Zt.contains(yt)&&this.hide()}}_disableNativeGesturesIfNecessary(){const ut=this.touchGestures;if("off"!==ut){const yt=this._elementRef.nativeElement,Zt=yt.style;("on"===ut||"INPUT"!==yt.nodeName&&"TEXTAREA"!==yt.nodeName)&&(Zt.userSelect=Zt.msUserSelect=Zt.webkitUserSelect=Zt.MozUserSelect="none"),("on"===ut||!yt.draggable)&&(Zt.webkitUserDrag="none"),Zt.touchAction="none",Zt.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(yt){K.QTQ()}}static{this.\u0275dir=K.FsC({type:wt,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}}return wt})(),an=(()=>{class wt extends Ci{constructor(ut,yt,Zt,Tt,di,st,ri,ct,Ut,ft,Wt,tt){super(ut,yt,Zt,Tt,di,st,ri,ct,Ut,ft,Wt,tt),this._tooltipComponent=Cn,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(ut){const Zt=!this._dir||"ltr"==this._dir.value;return"top"===ut.originY?ut.offsetY=-8:"bottom"===ut.originY?ut.offsetY=8:"start"===ut.originX?ut.offsetX=Zt?-8:8:"end"===ut.originX&&(ut.offsetX=Zt?8:-8),ut}static{this.\u0275fac=function(yt){return new(yt||wt)(K.rXU(ee.hJ),K.rXU(K.aKT),K.rXU(Ce.R),K.rXU(K.c1b),K.rXU(K.SKi),K.rXU(j.OD),K.rXU(rt.vr),K.rXU(rt.FN),K.rXU(Ai),K.rXU(ie.dS,8),K.rXU(Oe,8),K.rXU(Ke.qQ))}}static{this.\u0275dir=K.FsC({type:wt,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(yt,Zt){2&yt&&K.AVh("mat-mdc-tooltip-disabled",Zt.disabled)},exportAs:["matTooltip"],features:[K.Vt3]})}}return wt})(),Oi=(()=>{class wt{constructor(ut,yt){this._changeDetectorRef=ut,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new ue.B,this._animationsDisabled="NoopAnimations"===yt}show(ut){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},ut)}hide(ut){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},ut)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:ut}){(!ut||!this._triggerElement.contains(ut))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:ut}){(ut===this._showAnimation||ut===this._hideAnimation)&&this._finalizeAnimation(ut===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(ut){ut?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(ut){const yt=this._tooltip.nativeElement,Zt=this._showAnimation,Tt=this._hideAnimation;if(yt.classList.remove(ut?Tt:Zt),yt.classList.add(ut?Zt:Tt),this._isVisible=ut,ut&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const di=getComputedStyle(yt);("0s"===di.getPropertyValue("animation-duration")||"none"===di.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}ut&&this._onShow(),this._animationsDisabled&&(yt.classList.add("_mat-animation-noopable"),this._finalizeAnimation(ut))}static{this.\u0275fac=function(yt){return new(yt||wt)(K.rXU(K.gRc),K.rXU(K.bc$,8))}}static{this.\u0275dir=K.FsC({type:wt})}}return wt})(),Cn=(()=>{class wt extends Oi{constructor(ut,yt,Zt){super(ut,Zt),this._elementRef=yt,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const ut=this._elementRef.nativeElement.getBoundingClientRect();return ut.height>24&&ut.width>=200}static{this.\u0275fac=function(yt){return new(yt||wt)(K.rXU(K.gRc),K.rXU(K.aKT),K.rXU(K.bc$,8))}}static{this.\u0275cmp=K.VBU({type:wt,selectors:[["mat-tooltip-component"]],viewQuery:function(yt,Zt){if(1&yt&&K.GBs(Ct,7),2&yt){let Tt;K.mGM(Tt=K.lsd())&&(Zt._tooltip=Tt.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(yt,Zt){1&yt&&K.bIt("mouseleave",function(di){return Zt._handleMouseLeave(di)}),2&yt&&K.xc7("zoom",Zt.isVisible()?1:null)},features:[K.Vt3],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(yt,Zt){1&yt&&(K.j41(0,"div",0,1),K.bIt("animationend",function(di){return Zt._handleAnimationEnd(di)}),K.j41(2,"div",2),K.EFF(3),K.k0s()()),2&yt&&(K.AVh("mdc-tooltip--multiline",Zt._isMultiline),K.Y8G("ngClass",Zt.tooltipClass),K.R7$(3),K.JRh(Zt.message))},dependencies:[Ke.YU],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return wt})(),lt=(()=>{class wt{static{this.\u0275fac=function(yt){return new(yt||wt)}}static{this.\u0275mod=K.$C({type:wt})}static{this.\u0275inj=K.G2t({providers:[q],imports:[rt.Pd,Ke.MD,ee.z_,Be.yE,Be.yE,Ce.Gj]})}}return wt})()},345:(Ui,ni,N)=>{"use strict";N.d(ni,{B7:()=>Ye,Bb:()=>tt,hE:()=>dn,sG:()=>ct,up:()=>Rt});var b=N(7705),O=N(177);class E extends O.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends E{static makeCurrent(){(0,O.ZD)(new ye)}onAndCancel(at,Se,Me){return at.addEventListener(Se,Me),()=>{at.removeEventListener(Se,Me)}}dispatchEvent(at,Se){at.dispatchEvent(Se)}remove(at){at.parentNode&&at.parentNode.removeChild(at)}createElement(at,Se){return(Se=Se||this.getDefaultDocument()).createElement(at)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(at){return at.nodeType===Node.ELEMENT_NODE}isShadowRoot(at){return at instanceof DocumentFragment}getGlobalEventTarget(at,Se){return"window"===Se?window:"document"===Se?at:"body"===Se?at.body:null}getBaseHref(at){const Se=function Ke(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==Se?null:function rt(_t){j=j||document.createElement("a"),j.setAttribute("href",_t);const at=j.pathname;return"/"===at.charAt(0)?at:`/${at}`}(Se)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(at){return(0,O._b)(document.cookie,at)}}let j,K=null,ee=(()=>{class _t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const Ce=new b.nKC("EventManagerPlugins");let ve=(()=>{class _t{constructor(Se,Me){this._zone=Me,this._eventNameToPlugin=new Map,Se.forEach(Nt=>{Nt.manager=this}),this._plugins=Se.slice().reverse()}addEventListener(Se,Me,Nt){return this._findPluginFor(Me).addEventListener(Se,Me,Nt)}getZone(){return this._zone}_findPluginFor(Se){let Me=this._eventNameToPlugin.get(Se);if(Me)return Me;if(Me=this._plugins.find(Ii=>Ii.supports(Se)),!Me)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(Se,Me),Me}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(Ce),b.KVO(b.SKi))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();class ue{constructor(at){this._doc=at}}const P="ng-app-id";let Be=(()=>{class _t{constructor(Se,Me,Nt,Ii={}){this.doc=Se,this.appId=Me,this.nonce=Nt,this.platformId=Ii,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,O.Vy)(Ii),this.resetHostNodes()}addStyles(Se){for(const Me of Se)1===this.changeUsageCount(Me,1)&&this.onStyleAdded(Me)}removeStyles(Se){for(const Me of Se)this.changeUsageCount(Me,-1)<=0&&this.onStyleRemoved(Me)}ngOnDestroy(){const Se=this.styleNodesInDOM;Se&&(Se.forEach(Me=>Me.remove()),Se.clear());for(const Me of this.getAllStyles())this.onStyleRemoved(Me);this.resetHostNodes()}addHost(Se){this.hostNodes.add(Se);for(const Me of this.getAllStyles())this.addStyleToHost(Se,Me)}removeHost(Se){this.hostNodes.delete(Se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Se){for(const Me of this.hostNodes)this.addStyleToHost(Me,Se)}onStyleRemoved(Se){const Me=this.styleRef;Me.get(Se)?.elements?.forEach(Nt=>Nt.remove()),Me.delete(Se)}collectServerRenderedStyles(){const Se=this.doc.head?.querySelectorAll(`style[${P}="${this.appId}"]`);if(Se?.length){const Me=new Map;return Se.forEach(Nt=>{null!=Nt.textContent&&Me.set(Nt.textContent,Nt)}),Me}return null}changeUsageCount(Se,Me){const Nt=this.styleRef;if(Nt.has(Se)){const Ii=Nt.get(Se);return Ii.usage+=Me,Ii.usage}return Nt.set(Se,{usage:Me,elements:[]}),Me}getStyleElement(Se,Me){const Nt=this.styleNodesInDOM,Ii=Nt?.get(Me);if(Ii?.parentNode===Se)return Nt.delete(Me),Ii.removeAttribute(P),Ii;{const On=this.doc.createElement("style");return this.nonce&&On.setAttribute("nonce",this.nonce),On.textContent=Me,this.platformIsServer&&On.setAttribute(P,this.appId),On}}addStyleToHost(Se,Me){const Nt=this.getStyleElement(Se,Me);Se.appendChild(Nt);const Ii=this.styleRef,On=Ii.get(Me)?.elements;On?On.push(Nt):Ii.set(Me,{elements:[Nt],usage:1})}resetHostNodes(){const Se=this.hostNodes;Se.clear(),Se.add(this.doc.head)}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qt=/%COMP%/g,Ot=new b.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function We(_t,at){return at.map(Se=>Se.replace(qt,_t))}let Ye=(()=>{class _t{constructor(Se,Me,Nt,Ii,On,Di,Zi,Lt=null){this.eventManager=Se,this.sharedStylesHost=Me,this.appId=Nt,this.removeStylesOnCompDestroy=Ii,this.doc=On,this.platformId=Di,this.ngZone=Zi,this.nonce=Lt,this.rendererByCompId=new Map,this.platformIsServer=(0,O.Vy)(Di),this.defaultRenderer=new Ht(Se,On,Zi,this.platformIsServer)}createRenderer(Se,Me){if(!Se||!Me)return this.defaultRenderer;this.platformIsServer&&Me.encapsulation===b.gXe.ShadowDom&&(Me={...Me,encapsulation:b.gXe.Emulated});const Nt=this.getOrCreateRenderer(Se,Me);return Nt instanceof an?Nt.applyToHost(Se):Nt instanceof Ci&&Nt.applyStyles(),Nt}getOrCreateRenderer(Se,Me){const Nt=this.rendererByCompId;let Ii=Nt.get(Me.id);if(!Ii){const On=this.doc,Di=this.ngZone,Zi=this.eventManager,Lt=this.sharedStylesHost,ai=this.removeStylesOnCompDestroy,ki=this.platformIsServer;switch(Me.encapsulation){case b.gXe.Emulated:Ii=new an(Zi,Lt,Me,this.appId,ai,On,Di,ki);break;case b.gXe.ShadowDom:return new bi(Zi,Lt,Se,Me,On,Di,this.nonce,ki);default:Ii=new Ci(Zi,Lt,Me,ai,On,Di,ki)}Nt.set(Me.id,Ii)}return Ii}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(ve),b.KVO(Be),b.KVO(b.sZ2),b.KVO(Ot),b.KVO(O.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();class Ht{constructor(at,Se,Me,Nt){this.eventManager=at,this.doc=Se,this.ngZone=Me,this.platformIsServer=Nt,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(at,Se){return Se?this.doc.createElementNS(Ct[Se]||Se,at):this.doc.createElement(at)}createComment(at){return this.doc.createComment(at)}createText(at){return this.doc.createTextNode(at)}appendChild(at,Se){(wi(at)?at.content:at).appendChild(Se)}insertBefore(at,Se,Me){at&&(wi(at)?at.content:at).insertBefore(Se,Me)}removeChild(at,Se){at&&at.removeChild(Se)}selectRootElement(at,Se){let Me="string"==typeof at?this.doc.querySelector(at):at;if(!Me)throw new b.wOt(-5104,!1);return Se||(Me.textContent=""),Me}parentNode(at){return at.parentNode}nextSibling(at){return at.nextSibling}setAttribute(at,Se,Me,Nt){if(Nt){Se=Nt+":"+Se;const Ii=Ct[Nt];Ii?at.setAttributeNS(Ii,Se,Me):at.setAttribute(Se,Me)}else at.setAttribute(Se,Me)}removeAttribute(at,Se,Me){if(Me){const Nt=Ct[Me];Nt?at.removeAttributeNS(Nt,Se):at.removeAttribute(`${Me}:${Se}`)}else at.removeAttribute(Se)}addClass(at,Se){at.classList.add(Se)}removeClass(at,Se){at.classList.remove(Se)}setStyle(at,Se,Me,Nt){Nt&(b.czy.DashCase|b.czy.Important)?at.style.setProperty(Se,Me,Nt&b.czy.Important?"important":""):at.style[Se]=Me}removeStyle(at,Se,Me){Me&b.czy.DashCase?at.style.removeProperty(Se):at.style[Se]=""}setProperty(at,Se,Me){at[Se]=Me}setValue(at,Se){at.nodeValue=Se}listen(at,Se,Me){if("string"==typeof at&&!(at=(0,O.QT)().getGlobalEventTarget(this.doc,at)))throw new Error(`Unsupported event target ${at} for event ${Se}`);return this.eventManager.addEventListener(at,Se,this.decoratePreventDefault(Me))}decoratePreventDefault(at){return Se=>{if("__ngUnwrap__"===Se)return at;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>at(Se)):at(Se))&&Se.preventDefault()}}}function wi(_t){return"TEMPLATE"===_t.tagName&&void 0!==_t.content}class bi extends Ht{constructor(at,Se,Me,Nt,Ii,On,Di,Zi){super(at,Ii,On,Zi),this.sharedStylesHost=Se,this.hostEl=Me,this.shadowRoot=Me.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Lt=We(Nt.id,Nt.styles);for(const ai of Lt){const ki=document.createElement("style");Di&&ki.setAttribute("nonce",Di),ki.textContent=ai,this.shadowRoot.appendChild(ki)}}nodeOrShadowRoot(at){return at===this.hostEl?this.shadowRoot:at}appendChild(at,Se){return super.appendChild(this.nodeOrShadowRoot(at),Se)}insertBefore(at,Se,Me){return super.insertBefore(this.nodeOrShadowRoot(at),Se,Me)}removeChild(at,Se){return super.removeChild(this.nodeOrShadowRoot(at),Se)}parentNode(at){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(at)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ci extends Ht{constructor(at,Se,Me,Nt,Ii,On,Di,Zi){super(at,Ii,On,Di),this.sharedStylesHost=Se,this.removeStylesOnCompDestroy=Nt,this.styles=Zi?We(Zi,Me.styles):Me.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class an extends Ci{constructor(at,Se,Me,Nt,Ii,On,Di,Zi){const Lt=Nt+"-"+Me.id;super(at,Se,Me,Ii,On,Di,Zi,Lt),this.contentAttr=function Oe(_t){return"_ngcontent-%COMP%".replace(qt,_t)}(Lt),this.hostAttr=function Le(_t){return"_nghost-%COMP%".replace(qt,_t)}(Lt)}applyToHost(at){this.applyStyles(),this.setAttribute(at,this.hostAttr,"")}createElement(at,Se){const Me=super.createElement(at,Se);return super.setAttribute(Me,this.contentAttr,""),Me}}let Oi=(()=>{class _t extends ue{constructor(Se){super(Se)}supports(Se){return!0}addEventListener(Se,Me,Nt){return Se.addEventListener(Me,Nt,!1),()=>this.removeEventListener(Se,Me,Nt)}removeEventListener(Se,Me,Nt){return Se.removeEventListener(Me,Nt)}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.qQ))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const Cn=["alt","control","meta","shift"],Qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={alt:_t=>_t.altKey,control:_t=>_t.ctrlKey,meta:_t=>_t.metaKey,shift:_t=>_t.shiftKey};let wt=(()=>{class _t extends ue{constructor(Se){super(Se)}supports(Se){return null!=_t.parseEventName(Se)}addEventListener(Se,Me,Nt){const Ii=_t.parseEventName(Me),On=_t.eventCallback(Ii.fullKey,Nt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,O.QT)().onAndCancel(Se,Ii.domEventName,On))}static parseEventName(Se){const Me=Se.toLowerCase().split("."),Nt=Me.shift();if(0===Me.length||"keydown"!==Nt&&"keyup"!==Nt)return null;const Ii=_t._normalizeKey(Me.pop());let On="",Di=Me.indexOf("code");if(Di>-1&&(Me.splice(Di,1),On="code."),Cn.forEach(Lt=>{const ai=Me.indexOf(Lt);ai>-1&&(Me.splice(ai,1),On+=Lt+".")}),On+=Ii,0!=Me.length||0===Ii.length)return null;const Zi={};return Zi.domEventName=Nt,Zi.fullKey=On,Zi}static matchEventFullKeyCode(Se,Me){let Nt=Qt[Se.key]||Se.key,Ii="";return Me.indexOf("code.")>-1&&(Nt=Se.code,Ii="code."),!(null==Nt||!Nt)&&(Nt=Nt.toLowerCase()," "===Nt?Nt="space":"."===Nt&&(Nt="dot"),Cn.forEach(On=>{On!==Nt&&(0,lt[On])(Se)&&(Ii+=On+".")}),Ii+=Nt,Ii===Me)}static eventCallback(Se,Me,Nt){return Ii=>{_t.matchEventFullKeyCode(Ii,Se)&&Nt.runGuarded(()=>Me(Ii))}}static _normalizeKey(Se){return"esc"===Se?"escape":Se}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.qQ))}}static{this.\u0275prov=b.jDH({token:_t,factory:_t.\u0275fac})}}return _t})();const ct=(0,b.oH4)(b.fpN,"browser",[{provide:b.Agw,useValue:O.AJ},{provide:b.PLl,useValue:function Tt(){ye.makeCurrent()},multi:!0},{provide:O.qQ,useFactory:function st(){return(0,b.TL$)(document),document},deps:[]}]),Ut=new b.nKC(""),ft=[{provide:b.e01,useClass:class ie{addToWindow(at){b.JZv.getAngularTestability=(Me,Nt=!0)=>{const Ii=at.findTestabilityInTree(Me,Nt);if(null==Ii)throw new b.wOt(5103,!1);return Ii},b.JZv.getAllAngularTestabilities=()=>at.getAllTestabilities(),b.JZv.getAllAngularRootElements=()=>at.getAllRootElements(),b.JZv.frameworkStabilizers||(b.JZv.frameworkStabilizers=[]),b.JZv.frameworkStabilizers.push(Me=>{const Nt=b.JZv.getAllAngularTestabilities();let Ii=Nt.length,On=!1;const Di=function(Zi){On=On||Zi,Ii--,0==Ii&&Me(On)};Nt.forEach(Zi=>{Zi.whenStable(Di)})})}findTestabilityInTree(at,Se,Me){return null==Se?null:at.getTestability(Se)??(Me?(0,O.QT)().isShadowRoot(Se)?this.findTestabilityInTree(at,Se.host,!0):this.findTestabilityInTree(at,Se.parentElement,!0):null)}},deps:[]},{provide:b.WHO,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]},{provide:b.NYb,useClass:b.NYb,deps:[b.SKi,b.giA,b.e01]}],Wt=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function di(){return new b.zcH},deps:[]},{provide:Ce,useClass:Oi,multi:!0,deps:[O.qQ,b.SKi,b.Agw]},{provide:Ce,useClass:wt,multi:!0,deps:[O.qQ]},Ye,Be,ve,{provide:b._9s,useExisting:Ye},{provide:O.N0,useClass:ee,deps:[]},[]];let tt=(()=>{class _t{constructor(Se){}static withServerTransition(Se){return{ngModule:_t,providers:[{provide:b.sZ2,useValue:Se.appId}]}}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(Ut,12))}}static{this.\u0275mod=b.$C({type:_t})}static{this.\u0275inj=b.G2t({providers:[...Wt,...ft],imports:[O.MD,b.Hbi]})}}return _t})(),dn=(()=>{class _t{constructor(Se){this._doc=Se}getTitle(){return this._doc.title}setTitle(Se){this._doc.title=Se||""}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.qQ))}}static{this.\u0275prov=b.jDH({token:_t,factory:function(Me){let Nt=null;return Nt=Me?new Me:function tn(){return new dn((0,b.KVO)(O.qQ))}(),Nt},providedIn:"root"})}}return _t})();typeof window<"u"&&window;let Rt=(()=>{class _t{static{this.\u0275fac=function(Me){return new(Me||_t)}}static{this.\u0275prov=b.jDH({token:_t,factory:function(Me){let Nt=null;return Nt=Me?new(Me||_t):b.KVO(bt),Nt},providedIn:"root"})}}return _t})(),bt=(()=>{class _t extends Rt{constructor(Se){super(),this._doc=Se}sanitize(Se,Me){if(null==Me)return null;switch(Se){case b.WPN.NONE:return Me;case b.WPN.HTML:return(0,b.ZF7)(Me,"HTML")?(0,b.rcV)(Me):(0,b.h9k)(this._doc,String(Me)).toString();case b.WPN.STYLE:return(0,b.ZF7)(Me,"Style")?(0,b.rcV)(Me):Me;case b.WPN.SCRIPT:if((0,b.ZF7)(Me,"Script"))return(0,b.rcV)(Me);throw new b.wOt(5200,!1);case b.WPN.URL:return(0,b.ZF7)(Me,"URL")?(0,b.rcV)(Me):(0,b.$MX)(String(Me));case b.WPN.RESOURCE_URL:if((0,b.ZF7)(Me,"ResourceURL"))return(0,b.rcV)(Me);throw new b.wOt(5201,!1);default:throw new b.wOt(5202,!1)}}bypassSecurityTrustHtml(Se){return(0,b.Kcf)(Se)}bypassSecurityTrustStyle(Se){return(0,b.cWb)(Se)}bypassSecurityTrustScript(Se){return(0,b.UyX)(Se)}bypassSecurityTrustUrl(Se){return(0,b.osQ)(Se)}bypassSecurityTrustResourceUrl(Se){return(0,b.e5t)(Se)}static{this.\u0275fac=function(Me){return new(Me||_t)(b.KVO(O.qQ))}}static{this.\u0275prov=b.jDH({token:_t,factory:function(Me){let Nt=null;return Nt=Me?new Me:function Te(_t){return new bt(_t.get(O.qQ))}(b.KVO(b.zZn)),Nt},providedIn:"root"})}}return _t})()},8498:(Ui,ni,N)=>{"use strict";N.d(ni,{nX:()=>fr,wF:()=>dt,Ix:()=>Hs,Wk:()=>Ol,iI:()=>al,n3:()=>ts});var b=N(7705),O=N(4402),E=N(6648),ye=N(7673),K=N(4412),Ke=N(4572);const rt=(0,N(1853).L)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"});var ie=N(8793),ee=N(9030),Ce=N(1203),ve=N(8810),ue=N(983),P=N(17),Be=N(1413),Ct=N(8359),qt=N(177),pt=N(6354),Ai=N(5558),oi=N(6697),q=N(9172),Ot=N(5964),Oe=N(1397),Le=N(9974),We=N(4360);function Ye(J){return(0,Le.N)((pe,X)=>{let he=!1;pe.subscribe((0,We._)(X,ke=>{he=!0,X.next(ke)},()=>{he||X.next(J),X.complete()}))})}function Ht(J=vi){return(0,Le.N)((pe,X)=>{let he=!1;pe.subscribe((0,We._)(X,ke=>{he=!0,X.next(ke)},()=>he?X.complete():X.error(J())))})}function vi(){return new rt}var Et=N(3669);function wi(J,pe){const X=arguments.length>=2;return he=>he.pipe(J?(0,Ot.p)((ke,At)=>J(ke,At,he)):Et.D,(0,oi.s)(1),X?Ye(pe):Ht(()=>new rt))}var bi=N(274),Ci=N(8141),an=N(9437);function Qt(J){return J<=0?()=>ue.w:(0,Le.N)((pe,X)=>{let he=[];pe.subscribe((0,We._)(X,ke=>{he.push(ke),J<he.length&&he.shift()},()=>{for(const ke of he)X.next(ke);X.complete()},void 0,()=>{he=null}))})}var wt=N(3703),ii=N(980),ut=N(9898),yt=N(6977),Zt=N(6365),Tt=N(345);const di="primary",st=Symbol("RouteTitle");class ri{constructor(pe){this.params=pe||{}}has(pe){return Object.prototype.hasOwnProperty.call(this.params,pe)}get(pe){if(this.has(pe)){const X=this.params[pe];return Array.isArray(X)?X[0]:X}return null}getAll(pe){if(this.has(pe)){const X=this.params[pe];return Array.isArray(X)?X:[X]}return[]}get keys(){return Object.keys(this.params)}}function ct(J){return new ri(J)}function Ut(J,pe,X){const he=X.path.split("/");if(he.length>J.length||"full"===X.pathMatch&&(pe.hasChildren()||he.length<J.length))return null;const ke={};for(let At=0;At<he.length;At++){const pi=he[At],Ji=J[At];if(pi.startsWith(":"))ke[pi.substring(1)]=Ji;else if(pi!==Ji.path)return null}return{consumed:J.slice(0,he.length),posParams:ke}}function Wt(J,pe){const X=J?Object.keys(J):void 0,he=pe?Object.keys(pe):void 0;if(!X||!he||X.length!=he.length)return!1;let ke;for(let At=0;At<X.length;At++)if(ke=X[At],!tt(J[ke],pe[ke]))return!1;return!0}function tt(J,pe){if(Array.isArray(J)&&Array.isArray(pe)){if(J.length!==pe.length)return!1;const X=[...J].sort(),he=[...pe].sort();return X.every((ke,At)=>he[At]===ke)}return J===pe}function Yt(J){return J.length>0?J[J.length-1]:null}function Mi(J){return(0,O.A)(J)?J:(0,b.jNT)(J)?(0,E.H)(Promise.resolve(J)):(0,ye.of)(J)}const Qi={exact:function Sn(J,pe,X){if(!ui(J.segments,pe.segments)||!jt(J.segments,pe.segments,X)||J.numberOfChildren!==pe.numberOfChildren)return!1;for(const he in pe.children)if(!J.children[he]||!Sn(J.children[he],pe.children[he],X))return!1;return!0},subset:St},tn={exact:function gn(J,pe){return Wt(J,pe)},subset:function Ni(J,pe){return Object.keys(pe).length<=Object.keys(J).length&&Object.keys(pe).every(X=>tt(J[X],pe[X]))},ignored:()=>!0};function dn(J,pe,X){return Qi[X.paths](J.root,pe.root,X.matrixParams)&&tn[X.queryParams](J.queryParams,pe.queryParams)&&!("exact"===X.fragment&&J.fragment!==pe.fragment)}function St(J,pe,X){return mt(J,pe,pe.segments,X)}function mt(J,pe,X,he){if(J.segments.length>X.length){const ke=J.segments.slice(0,X.length);return!(!ui(ke,X)||pe.hasChildren()||!jt(ke,X,he))}if(J.segments.length===X.length){if(!ui(J.segments,X)||!jt(J.segments,X,he))return!1;for(const ke in pe.children)if(!J.children[ke]||!St(J.children[ke],pe.children[ke],he))return!1;return!0}{const ke=X.slice(0,J.segments.length),At=X.slice(J.segments.length);return!!(ui(J.segments,ke)&&jt(J.segments,ke,he)&&J.children[di])&&mt(J.children[di],pe,At,he)}}function jt(J,pe,X){return pe.every((he,ke)=>tn[X](J[ke].parameters,he.parameters))}class It{constructor(pe=new $([],{}),X={},he=null){this.root=pe,this.queryParams=X,this.fragment=he}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return Dt.serialize(this)}}class ${constructor(pe,X){this.segments=pe,this.children=X,this.parent=null,Object.values(X).forEach(he=>he.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return je(this)}}class Kt{constructor(pe,X){this.path=pe,this.parameters=X}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return Re(this)}}function ui(J,pe){return J.length===pe.length&&J.every((X,he)=>X.path===pe[he].path)}let Pt=(()=>{class J{static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:function(){return new qe},providedIn:"root"})}}return J})();class qe{parse(pe){const X=new Di(pe);return new It(X.parseRootSegment(),X.parseQueryParams(),X.parseFragment())}serialize(pe){const X=`/${Rt(pe.root,!0)}`,he=function zt(J){const pe=Object.keys(J).map(X=>{const he=J[X];return Array.isArray(he)?he.map(ke=>`${bt(X)}=${bt(ke)}`).join("&"):`${bt(X)}=${bt(he)}`}).filter(X=>!!X);return pe.length?`?${pe.join("&")}`:""}(pe.queryParams);return`${X}${he}${"string"==typeof pe.fragment?`#${function Gt(J){return encodeURI(J)}(pe.fragment)}`:""}`}}const Dt=new qe;function je(J){return J.segments.map(pe=>Re(pe)).join("/")}function Rt(J,pe){if(!J.hasChildren())return je(J);if(pe){const X=J.children[di]?Rt(J.children[di],!1):"",he=[];return Object.entries(J.children).forEach(([ke,At])=>{ke!==di&&he.push(`${ke}:${Rt(At,!1)}`)}),he.length>0?`${X}(${he.join("//")})`:X}{const X=function xe(J,pe){let X=[];return Object.entries(J.children).forEach(([he,ke])=>{he===di&&(X=X.concat(pe(ke,he)))}),Object.entries(J.children).forEach(([he,ke])=>{he!==di&&(X=X.concat(pe(ke,he)))}),X}(J,(he,ke)=>ke===di?[Rt(J.children[di],!1)]:[`${ke}:${Rt(he,!1)}`]);return 1===Object.keys(J.children).length&&null!=J.children[di]?`${je(J)}/${X[0]}`:`${je(J)}/(${X.join("//")})`}}function Te(J){return encodeURIComponent(J).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bt(J){return Te(J).replace(/%3B/gi,";")}function Pe(J){return Te(J).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function te(J){return decodeURIComponent(J)}function ge(J){return te(J.replace(/\+/g,"%20"))}function Re(J){return`${Pe(J.path)}${function Ve(J){return Object.keys(J).map(pe=>`;${Pe(pe)}=${Pe(J[pe])}`).join("")}(J.parameters)}`}const Ri=/^[^\/()?;#]+/;function _t(J){const pe=J.match(Ri);return pe?pe[0]:""}const at=/^[^\/()?;=#]+/,Me=/^[^=?&#]+/,Ii=/^[^&#]+/;class Di{constructor(pe){this.url=pe,this.remaining=pe}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $([],{}):new $([],this.parseChildren())}parseQueryParams(){const pe={};if(this.consumeOptional("?"))do{this.parseQueryParam(pe)}while(this.consumeOptional("&"));return pe}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const pe=[];for(this.peekStartsWith("(")||pe.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),pe.push(this.parseSegment());let X={};this.peekStartsWith("/(")&&(this.capture("/"),X=this.parseParens(!0));let he={};return this.peekStartsWith("(")&&(he=this.parseParens(!1)),(pe.length>0||Object.keys(X).length>0)&&(he[di]=new $(pe,X)),he}parseSegment(){const pe=_t(this.remaining);if(""===pe&&this.peekStartsWith(";"))throw new b.wOt(4009,!1);return this.capture(pe),new Kt(te(pe),this.parseMatrixParams())}parseMatrixParams(){const pe={};for(;this.consumeOptional(";");)this.parseParam(pe);return pe}parseParam(pe){const X=function Se(J){const pe=J.match(at);return pe?pe[0]:""}(this.remaining);if(!X)return;this.capture(X);let he="";if(this.consumeOptional("=")){const ke=_t(this.remaining);ke&&(he=ke,this.capture(he))}pe[te(X)]=te(he)}parseQueryParam(pe){const X=function Nt(J){const pe=J.match(Me);return pe?pe[0]:""}(this.remaining);if(!X)return;this.capture(X);let he="";if(this.consumeOptional("=")){const pi=function On(J){const pe=J.match(Ii);return pe?pe[0]:""}(this.remaining);pi&&(he=pi,this.capture(he))}const ke=ge(X),At=ge(he);if(pe.hasOwnProperty(ke)){let pi=pe[ke];Array.isArray(pi)||(pi=[pi],pe[ke]=pi),pi.push(At)}else pe[ke]=At}parseParens(pe){const X={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const he=_t(this.remaining),ke=this.remaining[he.length];if("/"!==ke&&")"!==ke&&";"!==ke)throw new b.wOt(4010,!1);let At;he.indexOf(":")>-1?(At=he.slice(0,he.indexOf(":")),this.capture(At),this.capture(":")):pe&&(At=di);const pi=this.parseChildren();X[At]=1===Object.keys(pi).length?pi[di]:new $([],pi),this.consumeOptional("//")}return X}peekStartsWith(pe){return this.remaining.startsWith(pe)}consumeOptional(pe){return!!this.peekStartsWith(pe)&&(this.remaining=this.remaining.substring(pe.length),!0)}capture(pe){if(!this.consumeOptional(pe))throw new b.wOt(4011,!1)}}function Zi(J){return J.segments.length>0?new $([],{[di]:J}):J}function Lt(J){const pe={};for(const he of Object.keys(J.children)){const At=Lt(J.children[he]);if(he===di&&0===At.segments.length&&At.hasChildren())for(const[pi,Ji]of Object.entries(At.children))pe[pi]=Ji;else(At.segments.length>0||At.hasChildren())&&(pe[he]=At)}return function ai(J){if(1===J.numberOfChildren&&J.children[di]){const pe=J.children[di];return new $(J.segments.concat(pe.segments),pe.children)}return J}(new $(J.segments,pe))}function ki(J){return J instanceof It}function ci(J){let pe;const ke=Zi(function X(At){const pi={};for(const $i of At.children){const Hn=X($i);pi[$i.outlet]=Hn}const Ji=new $(At.url,pi);return At===J&&(pe=Ji),Ji}(J.root));return pe??ke}function Ti(J,pe,X,he){let ke=J;for(;ke.parent;)ke=ke.parent;if(0===pe.length)return en(ke,ke,ke,X,he);const At=function Fn(J){if("string"==typeof J[0]&&1===J.length&&"/"===J[0])return new Yn(!0,0,J);let pe=0,X=!1;const he=J.reduce((ke,At,pi)=>{if("object"==typeof At&&null!=At){if(At.outlets){const Ji={};return Object.entries(At.outlets).forEach(([$i,Hn])=>{Ji[$i]="string"==typeof Hn?Hn.split("/"):Hn}),[...ke,{outlets:Ji}]}if(At.segmentPath)return[...ke,At.segmentPath]}return"string"!=typeof At?[...ke,At]:0===pi?(At.split("/").forEach((Ji,$i)=>{0==$i&&"."===Ji||(0==$i&&""===Ji?X=!0:".."===Ji?pe++:""!=Ji&&ke.push(Ji))}),ke):[...ke,At]},[]);return new Yn(X,pe,he)}(pe);if(At.toRoot())return en(ke,ke,new $([],{}),X,he);const pi=function uo(J,pe,X){if(J.isAbsolute)return new mr(pe,!0,0);if(!X)return new mr(pe,!1,NaN);if(null===X.parent)return new mr(X,!0,0);const he=Xi(J.commands[0])?0:1;return function Lo(J,pe,X){let he=J,ke=pe,At=X;for(;At>ke;){if(At-=ke,he=he.parent,!he)throw new b.wOt(4005,!1);ke=he.segments.length}return new mr(he,!1,ke-At)}(X,X.segments.length-1+he,J.numberOfDoubleDots)}(At,ke,J),Ji=pi.processChildren?oo(pi.segmentGroup,pi.index,At.commands):Po(pi.segmentGroup,pi.index,At.commands);return en(ke,pi.segmentGroup,Ji,X,he)}function Xi(J){return"object"==typeof J&&null!=J&&!J.outlets&&!J.segmentPath}function ln(J){return"object"==typeof J&&null!=J&&J.outlets}function en(J,pe,X,he,ke){let pi,At={};he&&Object.entries(he).forEach(([$i,Hn])=>{At[$i]=Array.isArray(Hn)?Hn.map(Ir=>`${Ir}`):`${Hn}`}),pi=J===pe?X:fn(J,pe,X);const Ji=Zi(Lt(pi));return new It(Ji,At,ke)}function fn(J,pe,X){const he={};return Object.entries(J.children).forEach(([ke,At])=>{he[ke]=At===pe?X:fn(At,pe,X)}),new $(J.segments,he)}class Yn{constructor(pe,X,he){if(this.isAbsolute=pe,this.numberOfDoubleDots=X,this.commands=he,pe&&he.length>0&&Xi(he[0]))throw new b.wOt(4003,!1);const ke=he.find(ln);if(ke&&ke!==Yt(he))throw new b.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class mr{constructor(pe,X,he){this.segmentGroup=pe,this.processChildren=X,this.index=he}}function Po(J,pe,X){if(J||(J=new $([],{})),0===J.segments.length&&J.hasChildren())return oo(J,pe,X);const he=function nn(J,pe,X){let he=0,ke=pe;const At={match:!1,pathIndex:0,commandIndex:0};for(;ke<J.segments.length;){if(he>=X.length)return At;const pi=J.segments[ke],Ji=X[he];if(ln(Ji))break;const $i=`${Ji}`,Hn=he<X.length-1?X[he+1]:null;if(ke>0&&void 0===$i)break;if($i&&Hn&&"object"==typeof Hn&&void 0===Hn.outlets){if(!pr($i,Hn,pi))return At;he+=2}else{if(!pr($i,{},pi))return At;he++}ke++}return{match:!0,pathIndex:ke,commandIndex:he}}(J,pe,X),ke=X.slice(he.commandIndex);if(he.match&&he.pathIndex<J.segments.length){const At=new $(J.segments.slice(0,he.pathIndex),{});return At.children[di]=new $(J.segments.slice(he.pathIndex),J.children),oo(At,0,ke)}return he.match&&0===ke.length?new $(J.segments,{}):he.match&&!J.hasChildren()?Mr(J,pe,X):he.match?oo(J,0,ke):Mr(J,pe,X)}function oo(J,pe,X){if(0===X.length)return new $(J.segments,{});{const he=function eo(J){return ln(J[0])?J[0].outlets:{[di]:J}}(X),ke={};if(Object.keys(he).some(At=>At!==di)&&J.children[di]&&1===J.numberOfChildren&&0===J.children[di].segments.length){const At=oo(J.children[di],pe,X);return new $(J.segments,At.children)}return Object.entries(he).forEach(([At,pi])=>{"string"==typeof pi&&(pi=[pi]),null!==pi&&(ke[At]=Po(J.children[At],pe,pi))}),Object.entries(J.children).forEach(([At,pi])=>{void 0===he[At]&&(ke[At]=pi)}),new $(J.segments,ke)}}function Mr(J,pe,X){const he=J.segments.slice(0,pe);let ke=0;for(;ke<X.length;){const At=X[ke];if(ln(At)){const $i=to(At.outlets);return new $(he,$i)}if(0===ke&&Xi(X[0])){he.push(new Kt(J.segments[pe].path,Rn(X[0]))),ke++;continue}const pi=ln(At)?At.outlets[di]:`${At}`,Ji=ke<X.length-1?X[ke+1]:null;pi&&Ji&&Xi(Ji)?(he.push(new Kt(pi,Rn(Ji))),ke+=2):(he.push(new Kt(pi,{})),ke++)}return new $(he,{})}function to(J){const pe={};return Object.entries(J).forEach(([X,he])=>{"string"==typeof he&&(he=[he]),null!==he&&(pe[X]=Mr(new $([],{}),0,he))}),pe}function Rn(J){const pe={};return Object.entries(J).forEach(([X,he])=>pe[X]=`${he}`),pe}function pr(J,pe,X){return J==X.path&&Wt(pe,X.parameters)}const ae="imperative";class En{constructor(pe,X){this.id=pe,this.url=X}}class oe extends En{constructor(pe,X,he="imperative",ke=null){super(pe,X),this.type=0,this.navigationTrigger=he,this.restoredState=ke}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class dt extends En{constructor(pe,X,he){super(pe,X),this.urlAfterRedirects=he,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class et extends En{constructor(pe,X,he,ke){super(pe,X),this.reason=he,this.code=ke,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ti extends En{constructor(pe,X,he,ke){super(pe,X),this.reason=he,this.code=ke,this.type=16}}class Fi extends En{constructor(pe,X,he,ke){super(pe,X),this.error=he,this.target=ke,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Un extends En{constructor(pe,X,he,ke){super(pe,X),this.urlAfterRedirects=he,this.state=ke,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends En{constructor(pe,X,he,ke){super(pe,X),this.urlAfterRedirects=he,this.state=ke,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ua extends En{constructor(pe,X,he,ke,At){super(pe,X),this.urlAfterRedirects=he,this.state=ke,this.shouldActivate=At,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ho extends En{constructor(pe,X,he,ke){super(pe,X),this.urlAfterRedirects=he,this.state=ke,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wa extends En{constructor(pe,X,he,ke){super(pe,X),this.urlAfterRedirects=he,this.state=ke,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yl{constructor(pe){this.route=pe,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class il{constructor(pe){this.route=pe,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rs{constructor(pe){this.snapshot=pe,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(pe){this.snapshot=pe,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(pe){this.snapshot=pe,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(pe){this.snapshot=pe,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(pe,X,he){this.routerEvent=pe,this.position=X,this.anchor=he,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Bs{}class Wa{constructor(pe){this.url=pe}}class So{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new js,this.attachRef=null}}let js=(()=>{class J{constructor(){this.contexts=new Map}onChildOutletCreated(X,he){const ke=this.getOrCreateContext(X);ke.outlet=he,this.contexts.set(X,ke)}onChildOutletDestroyed(X){const he=this.getContext(X);he&&(he.outlet=null,he.attachRef=null)}onOutletDeactivated(){const X=this.contexts;return this.contexts=new Map,X}onOutletReAttached(X){this.contexts=X}getOrCreateContext(X){let he=this.getContext(X);return he||(he=new So,this.contexts.set(X,he)),he}getContext(X){return this.contexts.get(X)||null}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();class po{constructor(pe){this._root=pe}get root(){return this._root.value}parent(pe){const X=this.pathFromRoot(pe);return X.length>1?X[X.length-2]:null}children(pe){const X=To(pe,this._root);return X?X.children.map(he=>he.value):[]}firstChild(pe){const X=To(pe,this._root);return X&&X.children.length>0?X.children[0].value:null}siblings(pe){const X=Cs(pe,this._root);return X.length<2?[]:X[X.length-2].children.map(ke=>ke.value).filter(ke=>ke!==pe)}pathFromRoot(pe){return Cs(pe,this._root).map(X=>X.value)}}function To(J,pe){if(J===pe.value)return pe;for(const X of pe.children){const he=To(J,X);if(he)return he}return null}function Cs(J,pe){if(J===pe.value)return[pe];for(const X of pe.children){const he=Cs(J,X);if(he.length)return he.unshift(pe),he}return[]}class vr{constructor(pe,X){this.value=pe,this.children=X}toString(){return`TreeNode(${this.value})`}}function Gr(J){const pe={};return J&&J.children.forEach(X=>pe[X.value.outlet]=X),pe}class Hr extends po{constructor(pe,X){super(pe),this.snapshot=X,Cr(this,pe)}toString(){return this.snapshot.toString()}}function ha(J,pe){const X=function fo(J,pe){const pi=new Ia([],{},{},"",{},di,pe,null,{});return new xa("",new vr(pi,[]))}(0,pe),he=new K.t([new Kt("",{})]),ke=new K.t({}),At=new K.t({}),pi=new K.t({}),Ji=new K.t(""),$i=new fr(he,ke,pi,Ji,At,di,pe,X.root);return $i.snapshot=X.root,new Hr(new vr($i,[]),X)}class fr{constructor(pe,X,he,ke,At,pi,Ji,$i){this.urlSubject=pe,this.paramsSubject=X,this.queryParamsSubject=he,this.fragmentSubject=ke,this.dataSubject=At,this.outlet=pi,this.component=Ji,this._futureSnapshot=$i,this.title=this.dataSubject?.pipe((0,pt.T)(Hn=>Hn[st]))??(0,ye.of)(void 0),this.url=pe,this.params=X,this.queryParams=he,this.fragment=ke,this.data=At}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.T)(pe=>ct(pe)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.T)(pe=>ct(pe)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ls(J,pe="emptyOnly"){const X=J.pathFromRoot;let he=0;if("always"!==pe)for(he=X.length-1;he>=1;){const ke=X[he],At=X[he-1];if(ke.routeConfig&&""===ke.routeConfig.path)he--;else{if(At.component)break;he--}}return function pa(J){return J.reduce((pe,X)=>({params:{...pe.params,...X.params},data:{...pe.data,...X.data},resolve:{...X.data,...pe.resolve,...X.routeConfig?.data,...X._resolvedData}}),{params:{},data:{},resolve:{}})}(X.slice(he))}class Ia{get title(){return this.data?.[st]}constructor(pe,X,he,ke,At,pi,Ji,$i,Hn){this.url=pe,this.params=X,this.queryParams=he,this.fragment=ke,this.data=At,this.outlet=pi,this.component=Ji,this.routeConfig=$i,this._resolve=Hn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(he=>he.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xa extends po{constructor(pe,X){super(X),this.url=pe,Cr(this,X)}toString(){return An(this._root)}}function Cr(J,pe){pe.value._routerState=J,pe.children.forEach(X=>Cr(J,X))}function An(J){const pe=J.children.length>0?` { ${J.children.map(An).join(", ")} } `:"";return`${J.value}${pe}`}function yr(J){if(J.snapshot){const pe=J.snapshot,X=J._futureSnapshot;J.snapshot=X,Wt(pe.queryParams,X.queryParams)||J.queryParamsSubject.next(X.queryParams),pe.fragment!==X.fragment&&J.fragmentSubject.next(X.fragment),Wt(pe.params,X.params)||J.paramsSubject.next(X.params),function ft(J,pe){if(J.length!==pe.length)return!1;for(let X=0;X<J.length;++X)if(!Wt(J[X],pe[X]))return!1;return!0}(pe.url,X.url)||J.urlSubject.next(X.url),Wt(pe.data,X.data)||J.dataSubject.next(X.data)}else J.snapshot=J._futureSnapshot,J.dataSubject.next(J._futureSnapshot.data)}function Ur(J,pe){const X=Wt(J.params,pe.params)&&function Qe(J,pe){return ui(J,pe)&&J.every((X,he)=>Wt(X.parameters,pe[he].parameters))}(J.url,pe.url);return X&&!(!J.parent!=!pe.parent)&&(!J.parent||Ur(J.parent,pe.parent))}let ts=(()=>{class J{constructor(){this.activated=null,this._activatedRoute=null,this.name=di,this.activateEvents=new b.bkB,this.deactivateEvents=new b.bkB,this.attachEvents=new b.bkB,this.detachEvents=new b.bkB,this.parentContexts=(0,b.WQX)(js),this.location=(0,b.WQX)(b.c1b),this.changeDetector=(0,b.WQX)(b.gRc),this.environmentInjector=(0,b.WQX)(b.uvJ),this.inputBinder=(0,b.WQX)(Xo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(X){if(X.name){const{firstChange:he,previousValue:ke}=X.name;if(he)return;this.isTrackedInParentContexts(ke)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ke)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(X){return this.parentContexts.getContext(X)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const X=this.parentContexts.getContext(this.name);X?.route&&(X.attachRef?this.attach(X.attachRef,X.route):this.activateWith(X.route,X.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.wOt(4012,!1);this.location.detach();const X=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(X.instance),X}attach(X,he){this.activated=X,this._activatedRoute=he,this.location.insert(X.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(X.instance)}deactivate(){if(this.activated){const X=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(X)}}activateWith(X,he){if(this.isActivated)throw new b.wOt(4013,!1);this._activatedRoute=X;const ke=this.location,pi=X.snapshot.component,Ji=this.parentContexts.getOrCreateContext(this.name).children,$i=new fa(X,Ji,ke.injector);this.activated=ke.createComponent(pi,{index:ke.length,injector:$i,environmentInjector:he??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275dir=b.FsC({type:J,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.OA$]})}}return J})();class fa{constructor(pe,X,he){this.route=pe,this.childContexts=X,this.parent=he}get(pe,X){return pe===fr?this.route:pe===js?this.childContexts:this.parent.get(pe,X)}}const Xo=new b.nKC("");let Mo=(()=>{class J{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(X){this.unsubscribeFromRouteData(X),this.subscribeToRouteData(X)}unsubscribeFromRouteData(X){this.outletDataSubscriptions.get(X)?.unsubscribe(),this.outletDataSubscriptions.delete(X)}subscribeToRouteData(X){const{activatedRoute:he}=X,ke=(0,Ke.z)([he.queryParams,he.params,he.data]).pipe((0,Ai.n)(([At,pi,Ji],$i)=>(Ji={...At,...pi,...Ji},0===$i?(0,ye.of)(Ji):Promise.resolve(Ji)))).subscribe(At=>{if(!X.isActivated||!X.activatedComponentRef||X.activatedRoute!==he||null===he.component)return void this.unsubscribeFromRouteData(X);const pi=(0,b.HJs)(he.component);if(pi)for(const{templateName:Ji}of pi.inputs)X.activatedComponentRef.setInput(Ji,At[Ji]);else this.unsubscribeFromRouteData(X)});this.outletDataSubscriptions.set(X,ke)}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac})}}return J})();function Do(J,pe,X){if(X&&J.shouldReuseRoute(pe.value,X.value.snapshot)){const he=X.value;he._futureSnapshot=pe.value;const ke=function gs(J,pe,X){return pe.children.map(he=>{for(const ke of X.children)if(J.shouldReuseRoute(he.value,ke.value.snapshot))return Do(J,he,ke);return Do(J,he)})}(J,pe,X);return new vr(he,ke)}{if(J.shouldAttach(pe.value)){const At=J.retrieve(pe.value);if(null!==At){const pi=At.route;return pi.value._futureSnapshot=pe.value,pi.children=pe.children.map(Ji=>Do(J,Ji)),pi}}const he=function er(J){return new fr(new K.t(J.url),new K.t(J.params),new K.t(J.queryParams),new K.t(J.fragment),new K.t(J.data),J.outlet,J.component,J)}(pe.value),ke=pe.children.map(At=>Do(J,At));return new vr(he,ke)}}const ta="ngNavigationCancelingError";function is(J,pe){const{redirectTo:X,navigationBehaviorOptions:he}=ki(pe)?{redirectTo:pe,navigationBehaviorOptions:void 0}:pe,ke=No(!1,0,pe);return ke.url=X,ke.navigationBehaviorOptions=he,ke}function No(J,pe,X){const he=new Error("NavigationCancelingError: "+(J||""));return he[ta]=!0,he.cancellationCode=pe,X&&(he.url=X),he}function mo(J){return J&&J[ta]}let ms=(()=>{class J{static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275cmp=b.VBU({type:J,selectors:[["ng-component"]],standalone:!0,features:[b.aNF],decls:1,vars:0,template:function(he,ke){1&he&&b.nrm(0,"router-outlet")},dependencies:[ts],encapsulation:2})}}return J})();function Qs(J){const pe=J.children&&J.children.map(Qs),X=pe?{...J,children:pe}:{...J};return!X.component&&!X.loadComponent&&(pe||X.loadChildren)&&X.outlet&&X.outlet!==di&&(X.component=ms),X}function Uo(J){return J.outlet||di}function Sa(J){if(!J)return null;if(J.routeConfig?._injector)return J.routeConfig._injector;for(let pe=J.parent;pe;pe=pe.parent){const X=pe.routeConfig;if(X?._loadedInjector)return X._loadedInjector;if(X?._injector)return X._injector}return null}class Ps{constructor(pe,X,he,ke,At){this.routeReuseStrategy=pe,this.futureState=X,this.currState=he,this.forwardEvent=ke,this.inputBindingEnabled=At}activate(pe){const X=this.futureState._root,he=this.currState?this.currState._root:null;this.deactivateChildRoutes(X,he,pe),yr(this.futureState.root),this.activateChildRoutes(X,he,pe)}deactivateChildRoutes(pe,X,he){const ke=Gr(X);pe.children.forEach(At=>{const pi=At.value.outlet;this.deactivateRoutes(At,ke[pi],he),delete ke[pi]}),Object.values(ke).forEach(At=>{this.deactivateRouteAndItsChildren(At,he)})}deactivateRoutes(pe,X,he){const ke=pe.value,At=X?X.value:null;if(ke===At)if(ke.component){const pi=he.getContext(ke.outlet);pi&&this.deactivateChildRoutes(pe,X,pi.children)}else this.deactivateChildRoutes(pe,X,he);else At&&this.deactivateRouteAndItsChildren(X,he)}deactivateRouteAndItsChildren(pe,X){pe.value.component&&this.routeReuseStrategy.shouldDetach(pe.value.snapshot)?this.detachAndStoreRouteSubtree(pe,X):this.deactivateRouteAndOutlet(pe,X)}detachAndStoreRouteSubtree(pe,X){const he=X.getContext(pe.value.outlet),ke=he&&pe.value.component?he.children:X,At=Gr(pe);for(const pi of Object.keys(At))this.deactivateRouteAndItsChildren(At[pi],ke);if(he&&he.outlet){const pi=he.outlet.detach(),Ji=he.children.onOutletDeactivated();this.routeReuseStrategy.store(pe.value.snapshot,{componentRef:pi,route:pe,contexts:Ji})}}deactivateRouteAndOutlet(pe,X){const he=X.getContext(pe.value.outlet),ke=he&&pe.value.component?he.children:X,At=Gr(pe);for(const pi of Object.keys(At))this.deactivateRouteAndItsChildren(At[pi],ke);he&&(he.outlet&&(he.outlet.deactivate(),he.children.onOutletDeactivated()),he.attachRef=null,he.route=null)}activateChildRoutes(pe,X,he){const ke=Gr(X);pe.children.forEach(At=>{this.activateRoutes(At,ke[At.value.outlet],he),this.forwardEvent(new Er(At.value.snapshot))}),pe.children.length&&this.forwardEvent(new Rc(pe.value.snapshot))}activateRoutes(pe,X,he){const ke=pe.value,At=X?X.value:null;if(yr(ke),ke===At)if(ke.component){const pi=he.getOrCreateContext(ke.outlet);this.activateChildRoutes(pe,X,pi.children)}else this.activateChildRoutes(pe,X,he);else if(ke.component){const pi=he.getOrCreateContext(ke.outlet);if(this.routeReuseStrategy.shouldAttach(ke.snapshot)){const Ji=this.routeReuseStrategy.retrieve(ke.snapshot);this.routeReuseStrategy.store(ke.snapshot,null),pi.children.onOutletReAttached(Ji.contexts),pi.attachRef=Ji.componentRef,pi.route=Ji.route.value,pi.outlet&&pi.outlet.attach(Ji.componentRef,Ji.route.value),yr(Ji.route.value),this.activateChildRoutes(pe,null,pi.children)}else{const Ji=Sa(ke.snapshot);pi.attachRef=null,pi.route=ke,pi.injector=Ji,pi.outlet&&pi.outlet.activateWith(ke,pi.injector),this.activateChildRoutes(pe,null,pi.children)}}else this.activateChildRoutes(pe,null,he)}}class Ic{constructor(pe){this.path=pe,this.route=this.path[this.path.length-1]}}class _o{constructor(pe,X){this.component=pe,this.route=X}}function so(J,pe,X){const he=J._root;return ia(he,pe?pe._root:null,X,[he.value])}function ks(J,pe){const X=Symbol(),he=pe.get(J,X);return he===X?"function"!=typeof J||(0,b.LfX)(J)?pe.get(J):J:he}function ia(J,pe,X,he,ke={canDeactivateChecks:[],canActivateChecks:[]}){const At=Gr(pe);return J.children.forEach(pi=>{(function zo(J,pe,X,he,ke={canDeactivateChecks:[],canActivateChecks:[]}){const At=J.value,pi=pe?pe.value:null,Ji=X?X.getContext(J.value.outlet):null;if(pi&&At.routeConfig===pi.routeConfig){const $i=function Pl(J,pe,X){if("function"==typeof X)return X(J,pe);switch(X){case"pathParamsChange":return!ui(J.url,pe.url);case"pathParamsOrQueryParamsChange":return!ui(J.url,pe.url)||!Wt(J.queryParams,pe.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ur(J,pe)||!Wt(J.queryParams,pe.queryParams);default:return!Ur(J,pe)}}(pi,At,At.routeConfig.runGuardsAndResolvers);$i?ke.canActivateChecks.push(new Ic(he)):(At.data=pi.data,At._resolvedData=pi._resolvedData),ia(J,pe,At.component?Ji?Ji.children:null:X,he,ke),$i&&Ji&&Ji.outlet&&Ji.outlet.isActivated&&ke.canDeactivateChecks.push(new _o(Ji.outlet.component,pi))}else pi&&Xn(pe,Ji,ke),ke.canActivateChecks.push(new Ic(he)),ia(J,null,At.component?Ji?Ji.children:null:X,he,ke)})(pi,At[pi.value.outlet],X,he.concat([pi.value]),ke),delete At[pi.value.outlet]}),Object.entries(At).forEach(([pi,Ji])=>Xn(Ji,X.getContext(pi),ke)),ke}function Xn(J,pe,X){const he=Gr(J),ke=J.value;Object.entries(he).forEach(([At,pi])=>{Xn(pi,ke.component?pe?pe.children.getContext(At):null:pe,X)}),X.canDeactivateChecks.push(new _o(ke.component&&pe&&pe.outlet&&pe.outlet.isActivated?pe.outlet.component:null,ke))}function Vs(J){return"function"==typeof J}function Ar(J){return J instanceof rt||"EmptyError"===J?.name}const Bo=Symbol("INITIAL_VALUE");function na(){return(0,Ai.n)(J=>(0,Ke.z)(J.map(pe=>pe.pipe((0,oi.s)(1),(0,q.Z)(Bo)))).pipe((0,pt.T)(pe=>{for(const X of pe)if(!0!==X){if(X===Bo)return Bo;if(!1===X||X instanceof It)return X}return!0}),(0,Ot.p)(pe=>pe!==Bo),(0,oi.s)(1)))}function Zs(J){return(0,Ce.F)((0,Ci.M)(pe=>{if(ki(pe))throw is(0,pe)}),(0,pt.T)(pe=>!0===pe))}class Ss{constructor(pe){this.segmentGroup=pe||null}}class Oa{constructor(pe){this.urlTree=pe}}function Wn(J){return(0,ve.$)(new Ss(J))}function Gs(J){return(0,ve.$)(new Oa(J))}class ra{constructor(pe,X){this.urlSerializer=pe,this.urlTree=X}noMatchError(pe){return new b.wOt(4002,!1)}lineralizeSegments(pe,X){let he=[],ke=X.root;for(;;){if(he=he.concat(ke.segments),0===ke.numberOfChildren)return(0,ye.of)(he);if(ke.numberOfChildren>1||!ke.children[di])return(0,ve.$)(new b.wOt(4e3,!1));ke=ke.children[di]}}applyRedirectCommands(pe,X,he){return this.applyRedirectCreateUrlTree(X,this.urlSerializer.parse(X),pe,he)}applyRedirectCreateUrlTree(pe,X,he,ke){const At=this.createSegmentGroup(pe,X.root,he,ke);return new It(At,this.createQueryParams(X.queryParams,this.urlTree.queryParams),X.fragment)}createQueryParams(pe,X){const he={};return Object.entries(pe).forEach(([ke,At])=>{if("string"==typeof At&&At.startsWith(":")){const Ji=At.substring(1);he[ke]=X[Ji]}else he[ke]=At}),he}createSegmentGroup(pe,X,he,ke){const At=this.createSegments(pe,X.segments,he,ke);let pi={};return Object.entries(X.children).forEach(([Ji,$i])=>{pi[Ji]=this.createSegmentGroup(pe,$i,he,ke)}),new $(At,pi)}createSegments(pe,X,he,ke){return X.map(At=>At.path.startsWith(":")?this.findPosParam(pe,At,ke):this.findOrReturn(At,he))}findPosParam(pe,X,he){const ke=he[X.path.substring(1)];if(!ke)throw new b.wOt(4001,!1);return ke}findOrReturn(pe,X){let he=0;for(const ke of X){if(ke.path===pe.path)return X.splice(he),ke;he++}return pe}}const Qn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function La(J,pe,X,he,ke){const At=kl(J,pe,X);return At.matched?(he=function Ho(J,pe){return J.providers&&!J._injector&&(J._injector=(0,b.Ol2)(J.providers,pe,`Route: ${J.path}`)),J._injector??pe}(pe,he),function vs(J,pe,X,he){const ke=pe.canMatch;if(!ke||0===ke.length)return(0,ye.of)(!0);const At=ke.map(pi=>{const Ji=ks(pi,J);return Mi(function kt(J){return J&&Vs(J.canMatch)}(Ji)?Ji.canMatch(pe,X):J.runInContext(()=>Ji(pe,X)))});return(0,ye.of)(At).pipe(na(),Zs())}(he,pe,X).pipe((0,pt.T)(pi=>!0===pi?At:{...Qn}))):(0,ye.of)(At)}function kl(J,pe,X){if(""===pe.path)return"full"===pe.pathMatch&&(J.hasChildren()||X.length>0)?{...Qn}:{matched:!0,consumedSegments:[],remainingSegments:X,parameters:{},positionalParamSegments:{}};const ke=(pe.matcher||Ut)(X,J,pe);if(!ke)return{...Qn};const At={};Object.entries(ke.posParams??{}).forEach(([Ji,$i])=>{At[Ji]=$i.path});const pi=ke.consumed.length>0?{...At,...ke.consumed[ke.consumed.length-1].parameters}:At;return{matched:!0,consumedSegments:ke.consumed,remainingSegments:X.slice(ke.consumed.length),parameters:pi,positionalParamSegments:ke.posParams??{}}}function Cl(J,pe,X,he){return X.length>0&&function wl(J,pe,X){return X.some(he=>ko(J,pe,he)&&Uo(he)!==di)}(J,X,he)?{segmentGroup:new $(pe,$a(he,new $(X,J.children))),slicedSegments:[]}:0===X.length&&function sl(J,pe,X){return X.some(he=>ko(J,pe,he))}(J,X,he)?{segmentGroup:new $(J.segments,ql(J,0,X,he,J.children)),slicedSegments:X}:{segmentGroup:new $(J.segments,J.children),slicedSegments:X}}function ql(J,pe,X,he,ke){const At={};for(const pi of he)if(ko(J,X,pi)&&!ke[Uo(pi)]){const Ji=new $([],{});At[Uo(pi)]=Ji}return{...ke,...At}}function $a(J,pe){const X={};X[di]=pe;for(const he of J)if(""===he.path&&Uo(he)!==di){const ke=new $([],{});X[Uo(he)]=ke}return X}function ko(J,pe,X){return(!(J.hasChildren()||pe.length>0)||"full"!==X.pathMatch)&&""===X.path}class cs{constructor(pe,X,he,ke,At,pi,Ji){this.injector=pe,this.configLoader=X,this.rootComponentType=he,this.config=ke,this.urlTree=At,this.paramsInheritanceStrategy=pi,this.urlSerializer=Ji,this.allowRedirects=!0,this.applyRedirects=new ra(this.urlSerializer,this.urlTree)}noMatchError(pe){return new b.wOt(4002,!1)}recognize(){const pe=Cl(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,pe,di).pipe((0,an.W)(X=>{if(X instanceof Oa)return this.allowRedirects=!1,this.urlTree=X.urlTree,this.match(X.urlTree);throw X instanceof Ss?this.noMatchError(X):X}),(0,pt.T)(X=>{const he=new Ia([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},di,this.rootComponentType,null,{}),ke=new vr(he,X),At=new xa("",ke),pi=function li(J,pe,X=null,he=null){return Ti(ci(J),pe,X,he)}(he,[],this.urlTree.queryParams,this.urlTree.fragment);return pi.queryParams=this.urlTree.queryParams,At.url=this.urlSerializer.serialize(pi),this.inheritParamsAndData(At._root),{state:At,tree:pi}}))}match(pe){return this.processSegmentGroup(this.injector,this.config,pe.root,di).pipe((0,an.W)(he=>{throw he instanceof Ss?this.noMatchError(he):he}))}inheritParamsAndData(pe){const X=pe.value,he=ls(X,this.paramsInheritanceStrategy);X.params=Object.freeze(he.params),X.data=Object.freeze(he.data),pe.children.forEach(ke=>this.inheritParamsAndData(ke))}processSegmentGroup(pe,X,he,ke){return 0===he.segments.length&&he.hasChildren()?this.processChildren(pe,X,he):this.processSegment(pe,X,he,he.segments,ke,!0)}processChildren(pe,X,he){const ke=[];for(const At of Object.keys(he.children))"primary"===At?ke.unshift(At):ke.push(At);return(0,E.H)(ke).pipe((0,bi.H)(At=>{const pi=he.children[At],Ji=function Is(J,pe){const X=J.filter(he=>Uo(he)===pe);return X.push(...J.filter(he=>Uo(he)!==pe)),X}(X,At);return this.processSegmentGroup(pe,Ji,pi,At)}),function Cn(J,pe){return(0,Le.N)(function Oi(J,pe,X,he,ke){return(At,pi)=>{let Ji=X,$i=pe,Hn=0;At.subscribe((0,We._)(pi,Ir=>{const Qo=Hn++;$i=Ji?J($i,Ir,Qo):(Ji=!0,Ir),he&&pi.next($i)},ke&&(()=>{Ji&&pi.next($i),pi.complete()})))}}(J,pe,arguments.length>=2,!0))}((At,pi)=>(At.push(...pi),At)),Ye(null),function lt(J,pe){const X=arguments.length>=2;return he=>he.pipe(J?(0,Ot.p)((ke,At)=>J(ke,At,he)):Et.D,Qt(1),X?Ye(pe):Ht(()=>new rt))}(),(0,Oe.Z)(At=>{if(null===At)return Wn(he);const pi=Xd(At);return function Pc(J){J.sort((pe,X)=>pe.value.outlet===di?-1:X.value.outlet===di?1:pe.value.outlet.localeCompare(X.value.outlet))}(pi),(0,ye.of)(pi)}))}processSegment(pe,X,he,ke,At,pi){return(0,E.H)(X).pipe((0,bi.H)(Ji=>this.processSegmentAgainstRoute(Ji._injector??pe,X,Ji,he,ke,At,pi).pipe((0,an.W)($i=>{if($i instanceof Ss)return(0,ye.of)(null);throw $i}))),wi(Ji=>!!Ji),(0,an.W)(Ji=>{if(Ar(Ji))return function Ka(J,pe,X){return 0===pe.length&&!J.children[X]}(he,ke,At)?(0,ye.of)([]):Wn(he);throw Ji}))}processSegmentAgainstRoute(pe,X,he,ke,At,pi,Ji){return function ma(J,pe,X,he){return!!(Uo(J)===he||he!==di&&ko(pe,X,J))&&("**"===J.path||kl(pe,J,X).matched)}(he,ke,At,pi)?void 0===he.redirectTo?this.matchSegmentAgainstRoute(pe,ke,he,At,pi,Ji):Ji&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(pe,ke,X,he,At,pi):Wn(ke):Wn(ke)}expandSegmentAgainstRouteUsingRedirect(pe,X,he,ke,At,pi){return"**"===ke.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(pe,he,ke,pi):this.expandRegularSegmentAgainstRouteUsingRedirect(pe,X,he,ke,At,pi)}expandWildCardWithParamsAgainstRouteUsingRedirect(pe,X,he,ke){const At=this.applyRedirects.applyRedirectCommands([],he.redirectTo,{});return he.redirectTo.startsWith("/")?Gs(At):this.applyRedirects.lineralizeSegments(he,At).pipe((0,Oe.Z)(pi=>{const Ji=new $(pi,{});return this.processSegment(pe,X,Ji,pi,ke,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(pe,X,he,ke,At,pi){const{matched:Ji,consumedSegments:$i,remainingSegments:Hn,positionalParamSegments:Ir}=kl(X,ke,At);if(!Ji)return Wn(X);const Qo=this.applyRedirects.applyRedirectCommands($i,ke.redirectTo,Ir);return ke.redirectTo.startsWith("/")?Gs(Qo):this.applyRedirects.lineralizeSegments(ke,Qo).pipe((0,Oe.Z)(ao=>this.processSegment(pe,he,X,ao.concat(Hn),pi,!1)))}matchSegmentAgainstRoute(pe,X,he,ke,At,pi){let Ji;if("**"===he.path){const $i=ke.length>0?Yt(ke).parameters:{},Hn=new Ia(ke,$i,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(he),Uo(he),he.component??he._loadedComponent??null,he,gc(he));Ji=(0,ye.of)({snapshot:Hn,consumedSegments:[],remainingSegments:[]}),X.children={}}else Ji=La(X,he,ke,pe).pipe((0,pt.T)(({matched:$i,consumedSegments:Hn,remainingSegments:Ir,parameters:Qo})=>$i?{snapshot:new Ia(Hn,Qo,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(he),Uo(he),he.component??he._loadedComponent??null,he,gc(he)),consumedSegments:Hn,remainingSegments:Ir}:null));return Ji.pipe((0,Ai.n)($i=>null===$i?Wn(X):this.getChildConfig(pe=he._injector??pe,he,ke).pipe((0,Ai.n)(({routes:Hn})=>{const Ir=he._loadedInjector??pe,{snapshot:Qo,consumedSegments:ao,remainingSegments:Va}=$i,{segmentGroup:yd,slicedSegments:Fc}=Cl(X,ao,Va,Hn);if(0===Fc.length&&yd.hasChildren())return this.processChildren(Ir,Hn,yd).pipe((0,pt.T)(bd=>null===bd?null:[new vr(Qo,bd)]));if(0===Hn.length&&0===Fc.length)return(0,ye.of)([new vr(Qo,[])]);const _d=Uo(he)===At;return this.processSegment(Ir,Hn,yd,Fc,_d?di:At,!0).pipe((0,pt.T)(bd=>[new vr(Qo,bd)]))}))))}getChildConfig(pe,X,he){return X.children?(0,ye.of)({routes:X.children,injector:pe}):X.loadChildren?void 0!==X._loadedRoutes?(0,ye.of)({routes:X._loadedRoutes,injector:X._loadedInjector}):function sr(J,pe,X,he){const ke=pe.canLoad;if(void 0===ke||0===ke.length)return(0,ye.of)(!0);const At=ke.map(pi=>{const Ji=ks(pi,J);return Mi(function bl(J){return J&&Vs(J.canLoad)}(Ji)?Ji.canLoad(pe,X):J.runInContext(()=>Ji(pe,X)))});return(0,ye.of)(At).pipe(na(),Zs())}(pe,X,he).pipe((0,Oe.Z)(ke=>ke?this.configLoader.loadChildren(pe,X).pipe((0,Ci.M)(At=>{X._loadedRoutes=At.routes,X._loadedInjector=At.injector})):function Ds(J){return(0,ve.$)(No(!1,3))}())):(0,ye.of)({routes:[],injector:pe})}}function fc(J){const pe=J.value.routeConfig;return pe&&""===pe.path}function Xd(J){const pe=[],X=new Set;for(const he of J){if(!fc(he)){pe.push(he);continue}const ke=pe.find(At=>he.value.routeConfig===At.value.routeConfig);void 0!==ke?(ke.children.push(...he.children),X.add(ke)):pe.push(he)}for(const he of X){const ke=Xd(he.children);pe.push(new vr(he.value,ke))}return pe.filter(he=>!X.has(he))}function Na(J){return J.data||{}}function gc(J){return J.resolve||{}}function oa(J){return"string"==typeof J.title||null===J.title}function le(J){return(0,Ai.n)(pe=>{const X=J(pe);return X?(0,E.H)(X).pipe((0,pt.T)(()=>pe)):(0,ye.of)(pe)})}const vt=new b.nKC("ROUTES");let Ae=(()=>{class J{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.WQX)(b.Ql9)}loadComponent(X){if(this.componentLoaders.get(X))return this.componentLoaders.get(X);if(X._loadedComponent)return(0,ye.of)(X._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(X);const he=Mi(X.loadComponent()).pipe((0,pt.T)(qi),(0,Ci.M)(At=>{this.onLoadEndListener&&this.onLoadEndListener(X),X._loadedComponent=At}),(0,ii.j)(()=>{this.componentLoaders.delete(X)})),ke=new P.G(he,()=>new Be.B).pipe((0,ut.B)());return this.componentLoaders.set(X,ke),ke}loadChildren(X,he){if(this.childrenLoaders.get(he))return this.childrenLoaders.get(he);if(he._loadedRoutes)return(0,ye.of)({routes:he._loadedRoutes,injector:he._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(he);const At=function it(J,pe,X,he){return Mi(J.loadChildren()).pipe((0,pt.T)(qi),(0,Oe.Z)(ke=>ke instanceof b.Co$||Array.isArray(ke)?(0,ye.of)(ke):(0,E.H)(pe.compileModuleAsync(ke))),(0,pt.T)(ke=>{he&&he(J);let At,pi,Ji=!1;return Array.isArray(ke)?(pi=ke,!0):(At=ke.create(X).injector,pi=At.get(vt,[],{optional:!0,self:!0}).flat()),{routes:pi.map(Qs),injector:At}}))}(he,this.compiler,X,this.onLoadEndListener).pipe((0,ii.j)(()=>{this.childrenLoaders.delete(he)})),pi=new P.G(At,()=>new Be.B).pipe((0,ut.B)());return this.childrenLoaders.set(he,pi),pi}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();function qi(J){return function yi(J){return J&&"object"==typeof J&&"default"in J}(J)?J.default:J}let un=(()=>{class J{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be.B,this.transitionAbortSubject=new Be.B,this.configLoader=(0,b.WQX)(Ae),this.environmentInjector=(0,b.WQX)(b.uvJ),this.urlSerializer=(0,b.WQX)(Pt),this.rootContexts=(0,b.WQX)(js),this.inputBindingEnabled=null!==(0,b.WQX)(Xo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ye.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ke=>this.events.next(new il(ke)),this.configLoader.onLoadStartListener=ke=>this.events.next(new yl(ke))}complete(){this.transitions?.complete()}handleNavigationRequest(X){const he=++this.navigationId;this.transitions?.next({...this.transitions.value,...X,id:he})}setupNavigations(X,he,ke){return this.transitions=new K.t({id:0,currentUrlTree:he,currentRawUrl:he,currentBrowserUrl:he,extractedUrl:X.urlHandlingStrategy.extract(he),urlAfterRedirects:X.urlHandlingStrategy.extract(he),rawUrl:he,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ae,restoredState:null,currentSnapshot:ke.snapshot,targetSnapshot:null,currentRouterState:ke,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ot.p)(At=>0!==At.id),(0,pt.T)(At=>({...At,extractedUrl:X.urlHandlingStrategy.extract(At.rawUrl)})),(0,Ai.n)(At=>{this.currentTransition=At;let pi=!1,Ji=!1;return(0,ye.of)(At).pipe((0,Ci.M)($i=>{this.currentNavigation={id:$i.id,initialUrl:$i.rawUrl,extractedUrl:$i.extractedUrl,trigger:$i.source,extras:$i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ai.n)($i=>{const Hn=$i.currentBrowserUrl.toString(),Ir=!X.navigated||$i.extractedUrl.toString()!==Hn||Hn!==$i.currentUrlTree.toString();if(!Ir&&"reload"!==($i.extras.onSameUrlNavigation??X.onSameUrlNavigation)){const ao="";return this.events.next(new ti($i.id,this.urlSerializer.serialize($i.rawUrl),ao,0)),$i.resolve(null),ue.w}if(X.urlHandlingStrategy.shouldProcessUrl($i.rawUrl))return(0,ye.of)($i).pipe((0,Ai.n)(ao=>{const Va=this.transitions?.getValue();return this.events.next(new oe(ao.id,this.urlSerializer.serialize(ao.extractedUrl),ao.source,ao.restoredState)),Va!==this.transitions?.getValue()?ue.w:Promise.resolve(ao)}),function Fl(J,pe,X,he,ke,At){return(0,Oe.Z)(pi=>function bo(J,pe,X,he,ke,At,pi="emptyOnly"){return new cs(J,pe,X,he,ke,pi,At).recognize()}(J,pe,X,he,pi.extractedUrl,ke,At).pipe((0,pt.T)(({state:Ji,tree:$i})=>({...pi,targetSnapshot:Ji,urlAfterRedirects:$i}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,X.config,this.urlSerializer,X.paramsInheritanceStrategy),(0,Ci.M)(ao=>{At.targetSnapshot=ao.targetSnapshot,At.urlAfterRedirects=ao.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ao.urlAfterRedirects};const Va=new Un(ao.id,this.urlSerializer.serialize(ao.extractedUrl),this.urlSerializer.serialize(ao.urlAfterRedirects),ao.targetSnapshot);this.events.next(Va)}));if(Ir&&X.urlHandlingStrategy.shouldProcessUrl($i.currentRawUrl)){const{id:ao,extractedUrl:Va,source:yd,restoredState:Fc,extras:_d}=$i,bd=new oe(ao,this.urlSerializer.serialize(Va),yd,Fc);this.events.next(bd);const Sh=ha(0,this.rootComponentType).snapshot;return this.currentTransition=At={...$i,targetSnapshot:Sh,urlAfterRedirects:Va,extras:{..._d,skipLocationChange:!1,replaceUrl:!1}},(0,ye.of)(At)}{const ao="";return this.events.next(new ti($i.id,this.urlSerializer.serialize($i.extractedUrl),ao,1)),$i.resolve(null),ue.w}}),(0,Ci.M)($i=>{const Hn=new Rr($i.id,this.urlSerializer.serialize($i.extractedUrl),this.urlSerializer.serialize($i.urlAfterRedirects),$i.targetSnapshot);this.events.next(Hn)}),(0,pt.T)($i=>(this.currentTransition=At={...$i,guards:so($i.targetSnapshot,$i.currentSnapshot,this.rootContexts)},At)),function Ql(J,pe){return(0,Oe.Z)(X=>{const{targetSnapshot:he,currentSnapshot:ke,guards:{canActivateChecks:At,canDeactivateChecks:pi}}=X;return 0===pi.length&&0===At.length?(0,ye.of)({...X,guardsResult:!0}):function ja(J,pe,X,he){return(0,E.H)(J).pipe((0,Oe.Z)(ke=>function rd(J,pe,X,he,ke){const At=pe&&pe.routeConfig?pe.routeConfig.canDeactivate:null;if(!At||0===At.length)return(0,ye.of)(!0);const pi=At.map(Ji=>{const $i=Sa(pe)??ke,Hn=ks(Ji,$i);return Mi(function De(J){return J&&Vs(J.canDeactivate)}(Hn)?Hn.canDeactivate(J,pe,X,he):$i.runInContext(()=>Hn(J,pe,X,he))).pipe(wi())});return(0,ye.of)(pi).pipe(na())}(ke.component,ke.route,X,pe,he)),wi(ke=>!0!==ke,!0))}(pi,he,ke,J).pipe((0,Oe.Z)(Ji=>Ji&&function pc(J){return"boolean"==typeof J}(Ji)?function ol(J,pe,X,he){return(0,E.H)(pe).pipe((0,bi.H)(ke=>(0,ie.x)(function Zl(J,pe){return null!==J&&pe&&pe(new Rs(J)),(0,ye.of)(!0)}(ke.route.parent,he),function xs(J,pe){return null!==J&&pe&&pe(new Ao(J)),(0,ye.of)(!0)}(ke.route,he),function ga(J,pe,X){const he=pe[pe.length-1],At=pe.slice(0,pe.length-1).reverse().map(pi=>function Da(J){const pe=J.routeConfig?J.routeConfig.canActivateChild:null;return pe&&0!==pe.length?{node:J,guards:pe}:null}(pi)).filter(pi=>null!==pi).map(pi=>(0,ee.v)(()=>{const Ji=pi.guards.map($i=>{const Hn=Sa(pi.node)??X,Ir=ks($i,Hn);return Mi(function ot(J){return J&&Vs(J.canActivateChild)}(Ir)?Ir.canActivateChild(he,J):Hn.runInContext(()=>Ir(he,J))).pipe(wi())});return(0,ye.of)(Ji).pipe(na())}));return(0,ye.of)(At).pipe(na())}(J,ke.path,X),function Ea(J,pe,X){const he=pe.routeConfig?pe.routeConfig.canActivate:null;if(!he||0===he.length)return(0,ye.of)(!0);const ke=he.map(At=>(0,ee.v)(()=>{const pi=Sa(pe)??X,Ji=ks(At,pi);return Mi(function Ze(J){return J&&Vs(J.canActivate)}(Ji)?Ji.canActivate(pe,J):pi.runInContext(()=>Ji(pe,J))).pipe(wi())}));return(0,ye.of)(ke).pipe(na())}(J,ke.route,X))),wi(ke=>!0!==ke,!0))}(he,At,J,pe):(0,ye.of)(Ji)),(0,pt.T)(Ji=>({...X,guardsResult:Ji})))})}(this.environmentInjector,$i=>this.events.next($i)),(0,Ci.M)($i=>{if(At.guardsResult=$i.guardsResult,ki($i.guardsResult))throw is(0,$i.guardsResult);const Hn=new ua($i.id,this.urlSerializer.serialize($i.extractedUrl),this.urlSerializer.serialize($i.urlAfterRedirects),$i.targetSnapshot,!!$i.guardsResult);this.events.next(Hn)}),(0,Ot.p)($i=>!!$i.guardsResult||(this.cancelNavigationTransition($i,"",3),!1)),le($i=>{if($i.guards.canActivateChecks.length)return(0,ye.of)($i).pipe((0,Ci.M)(Hn=>{const Ir=new ho(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Ir)}),(0,Ai.n)(Hn=>{let Ir=!1;return(0,ye.of)(Hn).pipe(function zr(J,pe){return(0,Oe.Z)(X=>{const{targetSnapshot:he,guards:{canActivateChecks:ke}}=X;if(!ke.length)return(0,ye.of)(X);let At=0;return(0,E.H)(ke).pipe((0,bi.H)(pi=>function Jn(J,pe,X,he){const ke=J.routeConfig,At=J._resolve;return void 0!==ke?.title&&!oa(ke)&&(At[st]=ke.title),function vo(J,pe,X,he){const ke=function Fs(J){return[...Object.keys(J),...Object.getOwnPropertySymbols(J)]}(J);if(0===ke.length)return(0,ye.of)({});const At={};return(0,E.H)(ke).pipe((0,Oe.Z)(pi=>function qs(J,pe,X,he){const ke=Sa(pe)??he,At=ks(J,ke);return Mi(At.resolve?At.resolve(pe,X):ke.runInContext(()=>At(pe,X)))}(J[pi],pe,X,he).pipe(wi(),(0,Ci.M)(Ji=>{At[pi]=Ji}))),Qt(1),(0,wt.u)(At),(0,an.W)(pi=>Ar(pi)?ue.w:(0,ve.$)(pi)))}(At,J,pe,he).pipe((0,pt.T)(pi=>(J._resolvedData=pi,J.data=ls(J,X).resolve,ke&&oa(ke)&&(J.data[st]=ke.title),null)))}(pi.route,he,J,pe)),(0,Ci.M)(()=>At++),Qt(1),(0,Oe.Z)(pi=>At===ke.length?(0,ye.of)(X):ue.w))})}(X.paramsInheritanceStrategy,this.environmentInjector),(0,Ci.M)({next:()=>Ir=!0,complete:()=>{Ir||this.cancelNavigationTransition(Hn,"",2)}}))}),(0,Ci.M)(Hn=>{const Ir=new wa(Hn.id,this.urlSerializer.serialize(Hn.extractedUrl),this.urlSerializer.serialize(Hn.urlAfterRedirects),Hn.targetSnapshot);this.events.next(Ir)}))}),le($i=>{const Hn=Ir=>{const Qo=[];Ir.routeConfig?.loadComponent&&!Ir.routeConfig._loadedComponent&&Qo.push(this.configLoader.loadComponent(Ir.routeConfig).pipe((0,Ci.M)(ao=>{Ir.component=ao}),(0,pt.T)(()=>{})));for(const ao of Ir.children)Qo.push(...Hn(ao));return Qo};return(0,Ke.z)(Hn($i.targetSnapshot.root)).pipe(Ye(),(0,oi.s)(1))}),le(()=>this.afterPreactivation()),(0,pt.T)($i=>{const Hn=function Kr(J,pe,X){const he=Do(J,pe._root,X?X._root:void 0);return new Hr(he,pe)}(X.routeReuseStrategy,$i.targetSnapshot,$i.currentRouterState);return this.currentTransition=At={...$i,targetRouterState:Hn},At}),(0,Ci.M)(()=>{this.events.next(new Bs)}),((J,pe,X,he)=>(0,pt.T)(ke=>(new Ps(pe,ke.targetRouterState,ke.currentRouterState,X,he).activate(J),ke)))(this.rootContexts,X.routeReuseStrategy,$i=>this.events.next($i),this.inputBindingEnabled),(0,oi.s)(1),(0,Ci.M)({next:$i=>{pi=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dt($i.id,this.urlSerializer.serialize($i.extractedUrl),this.urlSerializer.serialize($i.urlAfterRedirects))),X.titleStrategy?.updateTitle($i.targetRouterState.snapshot),$i.resolve(!0)},complete:()=>{pi=!0}}),(0,yt.Q)(this.transitionAbortSubject.pipe((0,Ci.M)($i=>{throw $i}))),(0,ii.j)(()=>{pi||Ji||this.cancelNavigationTransition(At,"",1),this.currentNavigation?.id===At.id&&(this.currentNavigation=null)}),(0,an.W)($i=>{if(Ji=!0,mo($i))this.events.next(new et(At.id,this.urlSerializer.serialize(At.extractedUrl),$i.message,$i.cancellationCode)),function io(J){return mo(J)&&ki(J.url)}($i)?this.events.next(new Wa($i.url)):At.resolve(!1);else{this.events.next(new Fi(At.id,this.urlSerializer.serialize(At.extractedUrl),$i,At.targetSnapshot??void 0));try{At.resolve(X.errorHandler($i))}catch(Hn){At.reject(Hn)}}return ue.w}))}))}cancelNavigationTransition(X,he,ke){const At=new et(X.id,this.urlSerializer.serialize(X.extractedUrl),he,ke);this.events.next(At),X.resolve(!1)}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();function Bn(J){return J!==ae}let ro=(()=>{class J{buildTitle(X){let he,ke=X.root;for(;void 0!==ke;)he=this.getResolvedTitleForRoute(ke)??he,ke=ke.children.find(At=>At.outlet===di);return he}getResolvedTitleForRoute(X){return X.data[st]}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:function(){return(0,b.WQX)(Wr)},providedIn:"root"})}}return J})(),Wr=(()=>{class J extends ro{constructor(X){super(),this.title=X}updateTitle(X){const he=this.buildTitle(X);void 0!==he&&this.title.setTitle(he)}static{this.\u0275fac=function(he){return new(he||J)(b.KVO(Tt.hE))}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})(),_r=(()=>{class J{static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:function(){return(0,b.WQX)(Wo)},providedIn:"root"})}}return J})();class jn{shouldDetach(pe){return!1}store(pe,X){}shouldAttach(pe){return!1}retrieve(pe){return null}shouldReuseRoute(pe,X){return pe.routeConfig===X.routeConfig}}let Wo=(()=>{class J extends jn{static{this.\u0275fac=function(){let X;return function(ke){return(X||(X=b.xGo(J)))(ke||J)}}()}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();const xi=new b.nKC("",{providedIn:"root",factory:()=>({})});let Yo=(()=>{class J{static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:function(){return(0,b.WQX)(ys)},providedIn:"root"})}}return J})(),ys=(()=>{class J{shouldProcessUrl(X){return!0}extract(X){return X}merge(X,he){return X}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();var Ro=function(J){return J[J.COMPLETE=0]="COMPLETE",J[J.FAILED=1]="FAILED",J[J.REDIRECTING=2]="REDIRECTING",J}(Ro||{});function va(J,pe){J.events.pipe((0,Ot.p)(X=>X instanceof dt||X instanceof et||X instanceof Fi||X instanceof ti),(0,pt.T)(X=>X instanceof dt||X instanceof ti?Ro.COMPLETE:X instanceof et&&(0===X.code||1===X.code)?Ro.REDIRECTING:Ro.FAILED),(0,Ot.p)(X=>X!==Ro.REDIRECTING),(0,oi.s)(1)).subscribe(()=>{pe()})}function ds(J){throw J}function Xa(J,pe,X){return pe.parse("/")}const Br={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hs=(()=>{class J{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,b.WQX)(b.H3F),this.isNgZoneEnabled=!1,this._events=new Be.B,this.options=(0,b.WQX)(xi,{optional:!0})||{},this.pendingTasks=(0,b.WQX)(b.$K3),this.errorHandler=this.options.errorHandler||ds,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Xa,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,b.WQX)(Yo),this.routeReuseStrategy=(0,b.WQX)(_r),this.titleStrategy=(0,b.WQX)(ro),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,b.WQX)(vt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,b.WQX)(un),this.urlSerializer=(0,b.WQX)(Pt),this.location=(0,b.WQX)(qt.aZ),this.componentInputBindingEnabled=!!(0,b.WQX)(Xo,{optional:!0}),this.eventsSubscription=new Ct.yU,this.isNgZoneEnabled=(0,b.WQX)(b.SKi)instanceof b.SKi&&b.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new It,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ha(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(X=>{this.lastSuccessfulId=X.id,this.currentPageId=this.browserPageId},X=>{this.console.warn(`Unhandled Navigation Error: ${X}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const X=this.navigationTransitions.events.subscribe(he=>{try{const{currentTransition:ke}=this.navigationTransitions;if(null===ke)return void(Ya(he)&&this._events.next(he));if(he instanceof oe)Bn(ke.source)&&(this.browserUrlTree=ke.extractedUrl);else if(he instanceof ti)this.rawUrlTree=ke.rawUrl;else if(he instanceof Un){if("eager"===this.urlUpdateStrategy){if(!ke.extras.skipLocationChange){const At=this.urlHandlingStrategy.merge(ke.urlAfterRedirects,ke.rawUrl);this.setBrowserUrl(At,ke)}this.browserUrlTree=ke.urlAfterRedirects}}else if(he instanceof Bs)this.currentUrlTree=ke.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ke.urlAfterRedirects,ke.rawUrl),this.routerState=ke.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ke.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ke),this.browserUrlTree=ke.urlAfterRedirects);else if(he instanceof et)0!==he.code&&1!==he.code&&(this.navigated=!0),(3===he.code||2===he.code)&&this.restoreHistory(ke);else if(he instanceof Wa){const At=this.urlHandlingStrategy.merge(he.url,ke.currentRawUrl),pi={skipLocationChange:ke.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bn(ke.source)};this.scheduleNavigation(At,ae,null,pi,{resolve:ke.resolve,reject:ke.reject,promise:ke.promise})}he instanceof Fi&&this.restoreHistory(ke,!0),he instanceof dt&&(this.navigated=!0),Ya(he)&&this._events.next(he)}catch(ke){this.navigationTransitions.transitionAbortSubject.next(ke)}});this.eventsSubscription.add(X)}resetRootComponentType(X){this.routerState.root.component=X,this.navigationTransitions.rootComponentType=X}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const X=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ae,X)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(X=>{const he="popstate"===X.type?"popstate":"hashchange";"popstate"===he&&setTimeout(()=>{this.navigateToSyncWithBrowser(X.url,he,X.state)},0)}))}navigateToSyncWithBrowser(X,he,ke){const At={replaceUrl:!0},pi=ke?.navigationId?ke:null;if(ke){const $i={...ke};delete $i.navigationId,delete $i.\u0275routerPageId,0!==Object.keys($i).length&&(At.state=$i)}const Ji=this.parseUrl(X);this.scheduleNavigation(Ji,he,pi,At)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(X){this.config=X.map(Qs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(X,he={}){const{relativeTo:ke,queryParams:At,fragment:pi,queryParamsHandling:Ji,preserveFragment:$i}=he,Hn=$i?this.currentUrlTree.fragment:pi;let Qo,Ir=null;switch(Ji){case"merge":Ir={...this.currentUrlTree.queryParams,...At};break;case"preserve":Ir=this.currentUrlTree.queryParams;break;default:Ir=At||null}null!==Ir&&(Ir=this.removeEmptyProps(Ir));try{Qo=ci(ke?ke.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof X[0]||!X[0].startsWith("/"))&&(X=[]),Qo=this.currentUrlTree.root}return Ti(Qo,X,Ir,Hn??null)}navigateByUrl(X,he={skipLocationChange:!1}){const ke=ki(X)?X:this.parseUrl(X),At=this.urlHandlingStrategy.merge(ke,this.rawUrlTree);return this.scheduleNavigation(At,ae,null,he)}navigate(X,he={skipLocationChange:!1}){return function Vo(J){for(let pe=0;pe<J.length;pe++)if(null==J[pe])throw new b.wOt(4008,!1)}(X),this.navigateByUrl(this.createUrlTree(X,he),he)}serializeUrl(X){return this.urlSerializer.serialize(X)}parseUrl(X){let he;try{he=this.urlSerializer.parse(X)}catch(ke){he=this.malformedUriErrorHandler(ke,this.urlSerializer,X)}return he}isActive(X,he){let ke;if(ke=!0===he?{...Br}:!1===he?{...sa}:he,ki(X))return dn(this.currentUrlTree,X,ke);const At=this.parseUrl(X);return dn(this.currentUrlTree,At,ke)}removeEmptyProps(X){return Object.keys(X).reduce((he,ke)=>{const At=X[ke];return null!=At&&(he[ke]=At),he},{})}scheduleNavigation(X,he,ke,At,pi){if(this.disposed)return Promise.resolve(!1);let Ji,$i,Hn;pi?(Ji=pi.resolve,$i=pi.reject,Hn=pi.promise):Hn=new Promise((Qo,ao)=>{Ji=Qo,$i=ao});const Ir=this.pendingTasks.add();return va(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ir))}),this.navigationTransitions.handleNavigationRequest({source:he,restoredState:ke,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:X,extras:At,resolve:Ji,reject:$i,promise:Hn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Hn.catch(Qo=>Promise.reject(Qo))}setBrowserUrl(X,he){const ke=this.urlSerializer.serialize(X);if(this.location.isCurrentPathEqualTo(ke)||he.extras.replaceUrl){const pi={...he.extras.state,...this.generateNgRouterState(he.id,this.browserPageId)};this.location.replaceState(ke,"",pi)}else{const At={...he.extras.state,...this.generateNgRouterState(he.id,this.browserPageId+1)};this.location.go(ke,"",At)}}restoreHistory(X,he=!1){if("computed"===this.canceledNavigationResolution){const At=this.currentPageId-this.browserPageId;0!==At?this.location.historyGo(At):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===At&&(this.resetState(X),this.browserUrlTree=X.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(he&&this.resetState(X),this.resetUrlToCurrentUrlTree())}resetState(X){this.routerState=X.currentRouterState,this.currentUrlTree=X.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,X.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(X,he){return"computed"===this.canceledNavigationResolution?{navigationId:X,\u0275routerPageId:he}:{navigationId:X}}static{this.\u0275fac=function(he){return new(he||J)}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();function Ya(J){return!(J instanceof Bs||J instanceof Wa)}let Ol=(()=>{class J{constructor(X,he,ke,At,pi,Ji){this.router=X,this.route=he,this.tabIndexAttribute=ke,this.renderer=At,this.el=pi,this.locationStrategy=Ji,this.href=null,this.commands=null,this.onChanges=new Be.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const $i=pi.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===$i||"area"===$i,this.isAnchorElement?this.subscription=X.events.subscribe(Hn=>{Hn instanceof dt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(X){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",X)}ngOnChanges(X){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(X){null!=X?(this.commands=Array.isArray(X)?X:[X],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(X,he,ke,At,pi){return!!(null===this.urlTree||this.isAnchorElement&&(0!==X||he||ke||At||pi||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const X=null===this.href?null:(0,b.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",X)}applyAttributeValue(X,he){const ke=this.renderer,At=this.el.nativeElement;null!==he?ke.setAttribute(At,X,he):ke.removeAttribute(At,X)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(he){return new(he||J)(b.rXU(Hs),b.rXU(fr),b.kS0("tabindex"),b.rXU(b.sFG),b.rXU(b.aKT),b.rXU(qt.hb))}}static{this.\u0275dir=b.FsC({type:J,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(he,ke){1&he&&b.bIt("click",function(pi){return ke.onClick(pi.button,pi.ctrlKey,pi.shiftKey,pi.altKey,pi.metaKey)}),2&he&&b.BMQ("target",ke.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",b.L39],skipLocationChange:["skipLocationChange","skipLocationChange",b.L39],replaceUrl:["replaceUrl","replaceUrl",b.L39],routerLink:"routerLink"},standalone:!0,features:[b.GFd,b.OA$]})}}return J})();class kc{}let Z=(()=>{class J{constructor(X,he,ke,At,pi){this.router=X,this.injector=ke,this.preloadingStrategy=At,this.loader=pi}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ot.p)(X=>X instanceof dt),(0,bi.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(X,he){const ke=[];for(const At of he){At.providers&&!At._injector&&(At._injector=(0,b.Ol2)(At.providers,X,`Route: ${At.path}`));const pi=At._injector??X,Ji=At._loadedInjector??pi;(At.loadChildren&&!At._loadedRoutes&&void 0===At.canLoad||At.loadComponent&&!At._loadedComponent)&&ke.push(this.preloadConfig(pi,At)),(At.children||At._loadedRoutes)&&ke.push(this.processRoutes(Ji,At.children??At._loadedRoutes))}return(0,E.H)(ke).pipe((0,Zt.U)())}preloadConfig(X,he){return this.preloadingStrategy.preload(he,()=>{let ke;ke=he.loadChildren&&void 0===he.canLoad?this.loader.loadChildren(X,he):(0,ye.of)(null);const At=ke.pipe((0,Oe.Z)(pi=>null===pi?(0,ye.of)(void 0):(he._loadedRoutes=pi.routes,he._loadedInjector=pi.injector,this.processRoutes(pi.injector??X,pi.routes))));if(he.loadComponent&&!he._loadedComponent){const pi=this.loader.loadComponent(he);return(0,E.H)([At,pi]).pipe((0,Zt.U)())}return At})}static{this.\u0275fac=function(he){return new(he||J)(b.KVO(Hs),b.KVO(b.Ql9),b.KVO(b.uvJ),b.KVO(kc),b.KVO(Ae))}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}}return J})();const G=new b.nKC("");let ce=(()=>{class J{constructor(X,he,ke,At,pi={}){this.urlSerializer=X,this.transitions=he,this.viewportScroller=ke,this.zone=At,this.options=pi,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},pi.scrollPositionRestoration=pi.scrollPositionRestoration||"disabled",pi.anchorScrolling=pi.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(X=>{X instanceof oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=X.navigationTrigger,this.restoredId=X.restoredState?X.restoredState.navigationId:0):X instanceof dt?(this.lastId=X.id,this.scheduleScrollEvent(X,this.urlSerializer.parse(X.urlAfterRedirects).fragment)):X instanceof ti&&0===X.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(X,this.urlSerializer.parse(X.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(X=>{X instanceof Ws&&(X.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(X.position):X.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(X.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(X,he){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ws(X,"popstate"===this.lastSource?this.store[this.restoredId]:null,he))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(he){b.QTQ()}}static{this.\u0275prov=b.jDH({token:J,factory:J.\u0275fac})}}return J})();function Jt(J,pe){return{\u0275kind:J,\u0275providers:pe}}function hn(){const J=(0,b.WQX)(b.zZn);return pe=>{const X=J.get(b.o8S);if(pe!==X.components[0])return;const he=J.get(Hs),ke=J.get(nr);1===J.get(_n)&&he.initialNavigation(),J.get(jr,null,b.$GK.Optional)?.setUpPreloading(),J.get(G,null,b.$GK.Optional)?.init(),he.resetRootComponentType(X.componentTypes[0]),ke.closed||(ke.next(),ke.complete(),ke.unsubscribe())}}const nr=new b.nKC("",{factory:()=>new Be.B}),_n=new b.nKC("",{providedIn:"root",factory:()=>1}),jr=new b.nKC("");function jo(J){return Jt(0,[{provide:jr,useExisting:Z},{provide:kc,useExisting:J}])}const pn=new b.nKC("ROUTER_FORROOT_GUARD"),ar=[qt.aZ,{provide:Pt,useClass:qe},Hs,js,{provide:fr,useFactory:function ht(J){return J.routerState.root},deps:[Hs]},Ae,[]];function Aa(){return new b.NEm("Router",Hs)}let al=(()=>{class J{constructor(X){}static forRoot(X,he){return{ngModule:J,providers:[ar,[],{provide:vt,multi:!0,useValue:X},{provide:pn,useFactory:Za,deps:[[Hs,new b.Xx1,new b.kdw]]},{provide:xi,useValue:he||{}},he?.useHash?{provide:qt.hb,useClass:qt.fw}:{provide:qt.hb,useClass:qt.Sm},{provide:G,useFactory:()=>{const J=(0,b.WQX)(qt.Xr),pe=(0,b.WQX)(b.SKi),X=(0,b.WQX)(xi),he=(0,b.WQX)(un),ke=(0,b.WQX)(Pt);return X.scrollOffset&&J.setOffset(X.scrollOffset),new ce(ke,he,J,pe,X)}},he?.preloadingStrategy?jo(he.preloadingStrategy).\u0275providers:[],{provide:b.NEm,multi:!0,useFactory:Aa},he?.initialNavigation?Zn(he):[],he?.bindToComponentInputs?Jt(8,[Mo,{provide:Xo,useExisting:Mo}]).\u0275providers:[],[{provide:se,useFactory:hn},{provide:b.iLQ,multi:!0,useExisting:se}]]}}static forChild(X){return{ngModule:J,providers:[{provide:vt,multi:!0,useValue:X}]}}static{this.\u0275fac=function(he){return new(he||J)(b.KVO(pn,8))}}static{this.\u0275mod=b.$C({type:J})}static{this.\u0275inj=b.G2t({})}}return J})();function Za(J){return"guarded"}function Zn(J){return["disabled"===J.initialNavigation?Jt(3,[{provide:b.hnV,multi:!0,useFactory:()=>{const pe=(0,b.WQX)(Hs);return()=>{pe.setUpLocationChangeListener()}}},{provide:_n,useValue:2}]).\u0275providers:[],"enabledBlocking"===J.initialNavigation?Jt(2,[{provide:_n,useValue:0},{provide:b.hnV,multi:!0,deps:[b.zZn],useFactory:pe=>{const X=pe.get(qt.hj,Promise.resolve());return()=>X.then(()=>new Promise(he=>{const ke=pe.get(Hs),At=pe.get(nr);va(ke,()=>{he(!0)}),pe.get(un).afterPreactivation=()=>(he(!0),At.closed?(0,ye.of)(void 0):At),ke.initialNavigation()}))}}]).\u0275providers:[]]}const se=new b.nKC("")},4073:(Ui,ni,N)=>{"use strict";N.d(ni,{rN:()=>Ns,CG:()=>Bh});var E,ye,K,j,rt,ie,ee,Ce,ve,ue,b=N(7705),O=N(467),Be={},Ct=[],qt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pt=Array.isArray;function Ai(U,M){for(var B in M)U[B]=M[B];return U}function oi(U){U&&U.parentNode&&U.parentNode.removeChild(U)}function q(U,M,B){var Y,_e,Ge,xt={};for(Ge in M)"key"==Ge?Y=M[Ge]:"ref"==Ge?_e=M[Ge]:xt[Ge]=M[Ge];if(arguments.length>2&&(xt.children=arguments.length>3?E.call(arguments,2):B),"function"==typeof U&&null!=U.defaultProps)for(Ge in U.defaultProps)void 0===xt[Ge]&&(xt[Ge]=U.defaultProps[Ge]);return Ot(U,xt,Y,_e,null)}function Ot(U,M,B,Y,_e){var Ge={type:U,props:M,key:B,ref:Y,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:_e??++K,__i:-1,__u:0};return null==_e&&null!=ye.vnode&&ye.vnode(Ge),Ge}function Le(U){return U.children}function We(U,M){this.props=U,this.context=M}function Ye(U,M){if(null==M)return U.__?Ye(U.__,U.__i+1):null;for(var B;M<U.__k.length;M++)if(null!=(B=U.__k[M])&&null!=B.__e)return B.__e;return"function"==typeof U.type?Ye(U):null}function Ht(U){var M,B;if(null!=(U=U.__)&&null!=U.__c){for(U.__e=U.__c.base=null,M=0;M<U.__k.length;M++)if(null!=(B=U.__k[M])&&null!=B.__e){U.__e=U.__c.base=B.__e;break}return Ht(U)}}function vi(U){(!U.__d&&(U.__d=!0)&&j.push(U)&&!Et.__r++||rt!==ye.debounceRendering)&&((rt=ye.debounceRendering)||ie)(Et)}function Et(){var U,M,B,Y,_e,Ge,xt,Xe;for(j.sort(ee);U=j.shift();)U.__d&&(M=j.length,Y=void 0,Ge=(_e=(B=U).__v).__e,xt=[],Xe=[],B.__P&&((Y=Ai({},_e)).__v=_e.__v+1,ye.vnode&&ye.vnode(Y),wt(B.__P,Y,_e,B.__n,B.__P.namespaceURI,32&_e.__u?[Ge]:null,xt,Ge??Ye(_e),!!(32&_e.__u),Xe),Y.__v=_e.__v,Y.__.__k[Y.__i]=Y,ii(xt,Y,Xe),Y.__e!=Ge&&Ht(Y)),j.length>M&&j.sort(ee));Et.__r=0}function wi(U,M,B,Y,_e,Ge,xt,Xe,Xt,si,Hi){var mi,Tn,vn,Pn,xr,Sr=Y&&Y.__k||Ct,rr=M.length;for(B.__d=Xt,function bi(U,M,B){var Y,_e,Ge,xt,Xe,Xt=M.length,si=B.length,Hi=si,mi=0;for(U.__k=[],Y=0;Y<Xt;Y++)null!=(_e=M[Y])&&"boolean"!=typeof _e&&"function"!=typeof _e?(xt=Y+mi,(_e=U.__k[Y]="string"==typeof _e||"number"==typeof _e||"bigint"==typeof _e||_e.constructor==String?Ot(null,_e,null,null,null):pt(_e)?Ot(Le,{children:_e},null,null,null):void 0===_e.constructor&&_e.__b>0?Ot(_e.type,_e.props,_e.key,_e.ref?_e.ref:null,_e.__v):_e).__=U,_e.__b=U.__b+1,Ge=null,-1!==(Xe=_e.__i=Oi(_e,B,xt,Hi))&&(Hi--,(Ge=B[Xe])&&(Ge.__u|=131072)),null==Ge||null===Ge.__v?(-1==Xe&&mi--,"function"!=typeof _e.type&&(_e.__u|=65536)):Xe!==xt&&(Xe==xt-1?mi--:Xe==xt+1?mi++:(Xe>xt?mi--:mi++,_e.__u|=65536))):_e=U.__k[Y]=null;if(Hi)for(Y=0;Y<si;Y++)null!=(Ge=B[Y])&&!(131072&Ge.__u)&&(Ge.__e==U.__d&&(U.__d=Ye(Ge)),Zt(Ge,Ge))}(B,M,Sr),Xt=B.__d,mi=0;mi<rr;mi++)null!=(vn=B.__k[mi])&&(Tn=-1===vn.__i?Be:Sr[vn.__i]||Be,vn.__i=mi,wt(U,vn,Tn,_e,Ge,xt,Xe,Xt,si,Hi),Pn=vn.__e,vn.ref&&Tn.ref!=vn.ref&&(Tn.ref&&yt(Tn.ref,null,vn),Hi.push(vn.ref,vn.__c||Pn,vn)),null==xr&&null!=Pn&&(xr=Pn),65536&vn.__u||Tn.__k===vn.__k?Xt=Ci(vn,Xt,U):"function"==typeof vn.type&&void 0!==vn.__d?Xt=vn.__d:Pn&&(Xt=Pn.nextSibling),vn.__d=void 0,vn.__u&=-196609);B.__d=Xt,B.__e=xr}function Ci(U,M,B){var Y,_e;if("function"==typeof U.type){for(Y=U.__k,_e=0;Y&&_e<Y.length;_e++)Y[_e]&&(Y[_e].__=U,M=Ci(Y[_e],M,B));return M}U.__e!=M&&(M&&U.type&&!B.contains(M)&&(M=Ye(U)),B.insertBefore(U.__e,M||null),M=U.__e);do{M=M&&M.nextSibling}while(null!=M&&8===M.nodeType);return M}function an(U,M){return M=M||[],null==U||"boolean"==typeof U||(pt(U)?U.some(function(B){an(B,M)}):M.push(U)),M}function Oi(U,M,B,Y){var _e=U.key,Ge=U.type,xt=B-1,Xe=B+1,Xt=M[B];if(null===Xt||Xt&&_e==Xt.key&&Ge===Xt.type&&!(131072&Xt.__u))return B;if(Y>(null==Xt||131072&Xt.__u?0:1))for(;xt>=0||Xe<M.length;){if(xt>=0){if((Xt=M[xt])&&!(131072&Xt.__u)&&_e==Xt.key&&Ge===Xt.type)return xt;xt--}if(Xe<M.length){if((Xt=M[Xe])&&!(131072&Xt.__u)&&_e==Xt.key&&Ge===Xt.type)return Xe;Xe++}}return-1}function Cn(U,M,B){"-"===M[0]?U.setProperty(M,B??""):U[M]=null==B?"":"number"!=typeof B||qt.test(M)?B:B+"px"}function Qt(U,M,B,Y,_e){var Ge;e:if("style"===M)if("string"==typeof B)U.style.cssText=B;else{if("string"==typeof Y&&(U.style.cssText=Y=""),Y)for(M in Y)B&&M in B||Cn(U.style,M,"");if(B)for(M in B)Y&&B[M]===Y[M]||Cn(U.style,M,B[M])}else if("o"===M[0]&&"n"===M[1])Ge=M!==(M=M.replace(/(PointerCapture)$|Capture$/i,"$1")),M=M.toLowerCase()in U||"onFocusOut"===M||"onFocusIn"===M?M.toLowerCase().slice(2):M.slice(2),U.l||(U.l={}),U.l[M+Ge]=B,B?Y?B.u=Y.u:(B.u=Ce,U.addEventListener(M,Ge?ue:ve,Ge)):U.removeEventListener(M,Ge?ue:ve,Ge);else{if("http://www.w3.org/2000/svg"==_e)M=M.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=M&&"height"!=M&&"href"!=M&&"list"!=M&&"form"!=M&&"tabIndex"!=M&&"download"!=M&&"rowSpan"!=M&&"colSpan"!=M&&"role"!=M&&"popover"!=M&&M in U)try{U[M]=B??"";break e}catch{}"function"==typeof B||(null==B||!1===B&&"-"!==M[4]?U.removeAttribute(M):U.setAttribute(M,"popover"==M&&1==B?"":B))}}function lt(U){return function(M){if(this.l){var B=this.l[M.type+U];if(null==M.t)M.t=Ce++;else if(M.t<B.u)return;return B(ye.event?ye.event(M):M)}}}function wt(U,M,B,Y,_e,Ge,xt,Xe,Xt,si){var Hi,mi,Tn,vn,Pn,xr,Sr,rr,or,Io,Qr,As,Ko,Ts,ss,aa,_a=M.type;if(void 0!==M.constructor)return null;128&B.__u&&(Xt=!!(32&B.__u),Ge=[Xe=M.__e=B.__e]),(Hi=ye.__b)&&Hi(M);e:if("function"==typeof _a)try{if(rr=M.props,or="prototype"in _a&&_a.prototype.render,Io=(Hi=_a.contextType)&&Y[Hi.__c],Qr=Hi?Io?Io.props.value:Hi.__:Y,B.__c?Sr=(mi=M.__c=B.__c).__=mi.__E:(or?M.__c=mi=new _a(rr,Qr):(M.__c=mi=new We(rr,Qr),mi.constructor=_a,mi.render=Tt),Io&&Io.sub(mi),mi.props=rr,mi.state||(mi.state={}),mi.context=Qr,mi.__n=Y,Tn=mi.__d=!0,mi.__h=[],mi._sb=[]),or&&null==mi.__s&&(mi.__s=mi.state),or&&null!=_a.getDerivedStateFromProps&&(mi.__s==mi.state&&(mi.__s=Ai({},mi.__s)),Ai(mi.__s,_a.getDerivedStateFromProps(rr,mi.__s))),vn=mi.props,Pn=mi.state,mi.__v=M,Tn)or&&null==_a.getDerivedStateFromProps&&null!=mi.componentWillMount&&mi.componentWillMount(),or&&null!=mi.componentDidMount&&mi.__h.push(mi.componentDidMount);else{if(or&&null==_a.getDerivedStateFromProps&&rr!==vn&&null!=mi.componentWillReceiveProps&&mi.componentWillReceiveProps(rr,Qr),!mi.__e&&(null!=mi.shouldComponentUpdate&&!1===mi.shouldComponentUpdate(rr,mi.__s,Qr)||M.__v===B.__v)){for(M.__v!==B.__v&&(mi.props=rr,mi.state=mi.__s,mi.__d=!1),M.__e=B.__e,M.__k=B.__k,M.__k.some(function(Al){Al&&(Al.__=M)}),As=0;As<mi._sb.length;As++)mi.__h.push(mi._sb[As]);mi._sb=[],mi.__h.length&&xt.push(mi);break e}null!=mi.componentWillUpdate&&mi.componentWillUpdate(rr,mi.__s,Qr),or&&null!=mi.componentDidUpdate&&mi.__h.push(function(){mi.componentDidUpdate(vn,Pn,xr)})}if(mi.context=Qr,mi.props=rr,mi.__P=U,mi.__e=!1,Ko=ye.__r,Ts=0,or){for(mi.state=mi.__s,mi.__d=!1,Ko&&Ko(M),Hi=mi.render(mi.props,mi.state,mi.context),ss=0;ss<mi._sb.length;ss++)mi.__h.push(mi._sb[ss]);mi._sb=[]}else do{mi.__d=!1,Ko&&Ko(M),Hi=mi.render(mi.props,mi.state,mi.context),mi.state=mi.__s}while(mi.__d&&++Ts<25);mi.state=mi.__s,null!=mi.getChildContext&&(Y=Ai(Ai({},Y),mi.getChildContext())),or&&!Tn&&null!=mi.getSnapshotBeforeUpdate&&(xr=mi.getSnapshotBeforeUpdate(vn,Pn)),wi(U,pt(aa=null!=Hi&&Hi.type===Le&&null==Hi.key?Hi.props.children:Hi)?aa:[aa],M,B,Y,_e,Ge,xt,Xe,Xt,si),mi.base=M.__e,M.__u&=-161,mi.__h.length&&xt.push(mi),Sr&&(mi.__E=mi.__=null)}catch(Al){if(M.__v=null,Xt||null!=Ge){for(M.__u|=Xt?160:32;Xe&&8===Xe.nodeType&&Xe.nextSibling;)Xe=Xe.nextSibling;Ge[Ge.indexOf(Xe)]=null,M.__e=Xe}else M.__e=B.__e,M.__k=B.__k;ye.__e(Al,M,B)}else null==Ge&&M.__v===B.__v?(M.__k=B.__k,M.__e=B.__e):M.__e=function ut(U,M,B,Y,_e,Ge,xt,Xe,Xt){var si,Hi,mi,Tn,vn,Pn,xr,Sr=B.props,rr=M.props,or=M.type;if("svg"===or?_e="http://www.w3.org/2000/svg":"math"===or?_e="http://www.w3.org/1998/Math/MathML":_e||(_e="http://www.w3.org/1999/xhtml"),null!=Ge)for(si=0;si<Ge.length;si++)if((vn=Ge[si])&&"setAttribute"in vn==!!or&&(or?vn.localName===or:3===vn.nodeType)){U=vn,Ge[si]=null;break}if(null==U){if(null===or)return document.createTextNode(rr);U=document.createElementNS(_e,or,rr.is&&rr),Xe&&(ye.__m&&ye.__m(M,Ge),Xe=!1),Ge=null}if(null===or)Sr===rr||Xe&&U.data===rr||(U.data=rr);else{if(Ge=Ge&&E.call(U.childNodes),Sr=B.props||Be,!Xe&&null!=Ge)for(Sr={},si=0;si<U.attributes.length;si++)Sr[(vn=U.attributes[si]).name]=vn.value;for(si in Sr)if(vn=Sr[si],"children"!=si)if("dangerouslySetInnerHTML"==si)mi=vn;else if(!(si in rr)){if("value"==si&&"defaultValue"in rr||"checked"==si&&"defaultChecked"in rr)continue;Qt(U,si,null,vn,_e)}for(si in rr)vn=rr[si],"children"==si?Tn=vn:"dangerouslySetInnerHTML"==si?Hi=vn:"value"==si?Pn=vn:"checked"==si?xr=vn:Xe&&"function"!=typeof vn||Sr[si]===vn||Qt(U,si,vn,Sr[si],_e);if(Hi)Xe||mi&&(Hi.__html===mi.__html||Hi.__html===U.innerHTML)||(U.innerHTML=Hi.__html),M.__k=[];else if(mi&&(U.innerHTML=""),wi(U,pt(Tn)?Tn:[Tn],M,B,Y,"foreignObject"===or?"http://www.w3.org/1999/xhtml":_e,Ge,xt,Ge?Ge[0]:B.__k&&Ye(B,0),Xe,Xt),null!=Ge)for(si=Ge.length;si--;)oi(Ge[si]);Xe||(si="value","progress"===or&&null==Pn?U.removeAttribute("value"):void 0!==Pn&&(Pn!==U[si]||"progress"===or&&!Pn||"option"===or&&Pn!==Sr[si])&&Qt(U,si,Pn,Sr[si],_e),si="checked",void 0!==xr&&xr!==U[si]&&Qt(U,si,xr,Sr[si],_e))}return U}(B.__e,M,B,Y,_e,Ge,xt,Xt,si);(Hi=ye.diffed)&&Hi(M)}function ii(U,M,B){M.__d=void 0;for(var Y=0;Y<B.length;Y++)yt(B[Y],B[++Y],B[++Y]);ye.__c&&ye.__c(M,U),U.some(function(_e){try{U=_e.__h,_e.__h=[],U.some(function(Ge){Ge.call(_e)})}catch(Ge){ye.__e(Ge,_e.__v)}})}function yt(U,M,B){try{if("function"==typeof U){var Y="function"==typeof U.__u;Y&&U.__u(),Y&&null==M||(U.__u=U(M))}else U.current=M}catch(_e){ye.__e(_e,B)}}function Zt(U,M,B){var Y,_e;if(ye.unmount&&ye.unmount(U),(Y=U.ref)&&(Y.current&&Y.current!==U.__e||yt(Y,null,M)),null!=(Y=U.__c)){if(Y.componentWillUnmount)try{Y.componentWillUnmount()}catch(Ge){ye.__e(Ge,M)}Y.base=Y.__P=null}if(Y=U.__k)for(_e=0;_e<Y.length;_e++)Y[_e]&&Zt(Y[_e],M,B||"function"!=typeof U.type);B||oi(U.__e),U.__c=U.__=U.__e=U.__d=void 0}function Tt(U,M,B){return this.constructor(U,B)}function di(U,M,B){var Y,_e,Ge,xt;ye.__&&ye.__(U,M),_e=(Y="function"==typeof B)?null:B&&B.__k||M.__k,Ge=[],xt=[],wt(M,U=(!Y&&B||M).__k=q(Le,null,[U]),_e||Be,Be,M.namespaceURI,!Y&&B?[B]:_e?null:M.firstChild?E.call(M.childNodes):null,Ge,!Y&&B?B:_e?_e.__e:M.firstChild,Y,xt),ii(Ge,U,xt)}function ri(U,M,B){var Y,_e,Ge,xt,Xe=Ai({},U.props);for(Ge in U.type&&U.type.defaultProps&&(xt=U.type.defaultProps),M)"key"==Ge?Y=M[Ge]:"ref"==Ge?_e=M[Ge]:Xe[Ge]=void 0===M[Ge]&&void 0!==xt?xt[Ge]:M[Ge];return arguments.length>2&&(Xe.children=arguments.length>3?E.call(arguments,2):B),Ot(U.type,Xe,Y||U.key,_e||U.ref,null)}function Ut(U){return"object"==typeof U&&null!==U&&"nodeType"in U&&U.nodeType===Node.ELEMENT_NODE}E=Ct.slice,ye={__e:function(U,M,B,Y){for(var _e,Ge,xt;M=M.__;)if((_e=M.__c)&&!_e.__)try{if((Ge=_e.constructor)&&null!=Ge.getDerivedStateFromError&&(_e.setState(Ge.getDerivedStateFromError(U)),xt=_e.__d),null!=_e.componentDidCatch&&(_e.componentDidCatch(U,Y||{}),xt=_e.__d),xt)return _e.__E=_e}catch(Xe){U=Xe}throw U}},K=0,We.prototype.setState=function(U,M){var B;B=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ai({},this.state),"function"==typeof U&&(U=U(Ai({},B),this.props)),U&&Ai(B,U),null!=U&&this.__v&&(M&&this._sb.push(M),vi(this))},We.prototype.forceUpdate=function(U){this.__v&&(this.__e=!0,U&&this.__h.push(U),vi(this))},We.prototype.render=Le,j=[],ie="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ee=function(U,M){return U.__v.__b-M.__v.__b},Et.__r=0,Ce=0,ve=lt(!1),ue=lt(!0);const Yt=function tt(U){for(var M;U&&!U.dir;)U=U.parentNode;return null==(M=U)?void 0:M.dir};var Mi=N(7677);function Qi(U,M){if(!Object.prototype.hasOwnProperty.call(U,M))throw new TypeError("attempted to use private field on non-instance");return U}var tn=0;function dn(U){return"__private_"+tn+++"_"+U}var Sn=dn("updateUI");class Ni extends Mi.A{constructor(){super(...arguments),Object.defineProperty(this,Sn,{writable:!0,value:void 0})}getTargetPlugin(M){let B;if("function"==typeof M?.addTarget)B=M,B instanceof Ni||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:B,UIPlugin:Ni}}));else if("function"==typeof M){const Y=M;this.uppy.iteratePlugins(_e=>{_e instanceof Y&&(B=_e)})}return B}mount(M,B){const Y=B.id,_e=function ft(U,M){return void 0===M&&(M=document),"string"==typeof U?M.querySelector(U):Ut(U)?U:null}(M);if(_e){this.isTargetDOMEl=!0;const Xe=document.createElement("div");return Xe.classList.add("uppy-Root"),Qi(this,Sn)[Sn]=function gn(U){let B,M=null;return function(){for(var Y=arguments.length,_e=new Array(Y),Ge=0;Ge<Y;Ge++)_e[Ge]=arguments[Ge];return B=_e,M||(M=Promise.resolve().then(()=>(M=null,U(...B)))),M}}(Xt=>{this.uppy.getPlugin(this.id)&&(di(this.render(Xt),Xe),this.afterUpdate())}),this.uppy.log(`Installing ${Y} to a DOM element '${M}'`),this.opts.replaceTargetContent&&(_e.innerHTML=""),di(this.render(this.uppy.getState()),Xe),this.el=Xe,_e.appendChild(Xe),Xe.dir=this.opts.direction||Yt(Xe)||"ltr",this.onMount(),this.el}const Ge=this.getTargetPlugin(M);if(Ge)return this.uppy.log(`Installing ${Y} to ${Ge.id}`),this.parent=Ge,this.el=Ge.addTarget(B),this.onMount(),this.el;this.uppy.log(`Not installing ${Y}`);let xt=`Invalid target option given to ${Y}.`;throw xt+="function"==typeof M?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(xt)}render(M){throw new Error("Extend the render method to add your plugin to a DOM element")}update(M){var B,Y;null!=this.el&&(null==(B=(Y=Qi(this,Sn))[Sn])||B.call(Y,M))}unmount(){var M;this.isTargetDOMEl&&(null==(M=this.el)||M.remove()),this.onUnmount()}onMount(){}onUnmount(){}}const St=Ni;function mt(U,M,B,Y){return 0===B||U===M?U:0===Y?M:U+(M-U)*2**(-Y/B)}const jt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var It=N(8709);function $(U){const M=[];let Y,B="indeterminate";for(const{progress:Ge}of Object.values(U)){const{preprocess:xt,postprocess:Xe}=Ge;null==Y&&(xt||Xe)&&({mode:B,message:Y}=xt||Xe),"determinate"===xt?.mode&&M.push(xt.value),"determinate"===Xe?.mode&&M.push(Xe.value)}return{mode:B,message:Y,value:M.reduce((Ge,xt)=>Ge+xt/M.length,0)}}var Kt=N(4936);function ui(U){const M=function Qe(U){return{hours:Math.floor(U/3600)%24,minutes:Math.floor(U/60)%60,seconds:Math.floor(U%60)}}(U);return`${0===M.hours?"":`${M.hours}h`}${0===M.minutes?"":`${0===M.hours?M.minutes:` ${M.minutes.toString(10).padStart(2,"0")}`}m`}${0!==M.hours?"":`${0===M.minutes?M.seconds:` ${M.seconds.toString(10).padStart(2,"0")}`}s`}`}const Pt=()=>" \xb7 ";function qe(U){const{newFiles:M,isUploadStarted:B,recoveredState:Y,i18n:_e,uploadState:Ge,isSomeGhost:xt,startUpload:Xe}=U,Xt=It("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":Ge===jt.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":xt}),si=_e(M&&B&&!Y?"uploadXNewFiles":"uploadXFiles",{smart_count:M});return q("button",{type:"button",className:Xt,"aria-label":_e("uploadXFiles",{smart_count:M}),onClick:Xe,disabled:xt,"data-uppy-super-focusable":!0},si)}function Dt(U){const{i18n:M,uppy:B}=U;return q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":M("retryUpload"),onClick:()=>B.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},q("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),M("retry"))}function je(U){const{i18n:M,uppy:B}=U;return q("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:M("cancel"),"aria-label":M("cancel"),onClick:()=>B.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},q("g",{fill:"none",fillRule:"evenodd"},q("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),q("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Rt(U){const{isAllPaused:M,i18n:B,isAllComplete:Y,resumableUploads:_e,uppy:Ge}=U,xt=B(M?"resume":"pause");return q("button",{title:xt,"aria-label":xt,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function Xe(){if(!Y){if(!_e)return void Ge.cancelAll();if(M)return void Ge.resumeAll();Ge.pauseAll()}},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},q("g",{fill:"none",fillRule:"evenodd"},q("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),q("path",{fill:"#FFF",d:M?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function Te(U){const{i18n:M,doneButtonHandler:B}=U;return q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:B,"data-uppy-super-focusable":!0},M("done"))}function bt(){return q("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},q("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Gt(U){const{progress:M}=U,{value:B,mode:Y,message:_e}=M;return q("div",{className:"uppy-StatusBar-content"},q(bt,null),"determinate"===Y?`${Math.round(100*B)}% \xb7 `:"",_e)}function Pe(U){const{numUploads:M,complete:B,totalUploadedSize:Y,totalSize:_e,totalETA:Ge,i18n:xt}=U,Xe=M>1;return q("div",{className:"uppy-StatusBar-statusSecondary"},Xe&&xt("filesUploadedOfTotal",{complete:B,smart_count:M}),q("span",{className:"uppy-StatusBar-additionalInfo"},Xe&&Pt(),xt("dataUploadedOfTotal",{complete:Kt(Y),total:Kt(_e)}),Pt(),xt("xTimeLeft",{time:ui(Ge)})))}function te(U){const{i18n:M,complete:B,numUploads:Y}=U;return q("div",{className:"uppy-StatusBar-statusSecondary"},M("filesUploadedOfTotal",{complete:B,smart_count:Y}))}function ge(U){const{i18n:M,newFiles:B,startUpload:Y}=U,_e=It("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return q("div",{className:"uppy-StatusBar-statusSecondary"},q("div",{className:"uppy-StatusBar-statusSecondaryHint"},M("xMoreFilesAdded",{smart_count:B})),q("button",{type:"button",className:_e,"aria-label":M("uploadXFiles",{smart_count:B}),onClick:Y},M("upload")))}function Re(U){const{i18n:M,supportsUploadProgress:B,totalProgress:Y,showProgressDetails:_e,isUploadStarted:Ge,isAllComplete:xt,isAllPaused:Xe,newFiles:Xt,numUploads:si,complete:Hi,totalUploadedSize:mi,totalSize:Tn,totalETA:vn,startUpload:Pn}=U,xr=Xt&&Ge;if(!Ge||xt)return null;const Sr=M(Xe?"paused":"uploading");return q("div",{className:"uppy-StatusBar-content","aria-label":Sr,title:Sr},Xe?null:q(bt,null),q("div",{className:"uppy-StatusBar-status"},q("div",{className:"uppy-StatusBar-statusPrimary"},B?`${Sr}: ${Y}%`:Sr),function rr(){return Xe||xr||!_e?null:B?q(Pe,{numUploads:si,complete:Hi,totalUploadedSize:mi,totalSize:Tn,totalETA:vn,i18n:M}):q(te,{i18n:M,complete:Hi,numUploads:si})}(),xr?q(ge,{i18n:M,newFiles:Xt,startUpload:Pn}):null))}function Ve(U){const{i18n:M}=U;return q("div",{className:"uppy-StatusBar-content",role:"status",title:M("complete")},q("div",{className:"uppy-StatusBar-status"},q("div",{className:"uppy-StatusBar-statusPrimary"},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},q("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),M("complete"))))}function zt(U){const{error:M,i18n:B,complete:Y,numUploads:_e}=U;return q("div",{className:"uppy-StatusBar-content",title:B("uploadFailed")},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},q("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),q("div",{className:"uppy-StatusBar-status"},q("div",{className:"uppy-StatusBar-statusPrimary"},B("uploadFailed"),q("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":B("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function Ge(){const xt=`${B("uploadFailed")} \n\n ${M}`;alert(xt)},type:"button"},"?")),q(te,{i18n:B,complete:Y,numUploads:_e})))}const{STATE_ERROR:Ri,STATE_WAITING:_t,STATE_PREPROCESSING:at,STATE_UPLOADING:Se,STATE_POSTPROCESSING:Me,STATE_COMPLETE:Nt}=jt;function Ii(U){const{newFiles:M,allowNewUpload:B,isUploadInProgress:Y,isAllPaused:_e,resumableUploads:Ge,error:xt,hideUploadButton:Xe,hidePauseResumeButton:Xt,hideCancelButton:si,hideRetryButton:Hi,recoveredState:mi,uploadState:Tn,totalProgress:vn,files:Pn,supportsUploadProgress:xr,hideAfterFinish:Sr,isSomeGhost:rr,doneButtonHandler:or,isUploadStarted:Io,i18n:Qr,startUpload:As,uppy:Ko,isAllComplete:Ts,showProgressDetails:ss,numUploads:aa,complete:_a,totalSize:Al,totalETA:bu,totalUploadedSize:ah}=U,ba=function Uc(){switch(Tn){case Me:case at:{const Id=$(Pn);return"determinate"===Id.mode?100*Id.value:vn}case Ri:return null;case Se:return xr?vn:null;default:return vn}}(),xg=function zc(){if(mi)return!1;switch(Tn){case _t:return Xe||0===M;case Nt:return Sr;default:return!1}}(),Sg=ba??100,Cu=!xt&&M&&!Y&&!_e&&B&&!Xe,Rd=!si&&Tn!==_t&&Tn!==Nt,_f=Ge&&!Xt&&Tn===Se,wu=xt&&!Ts&&!Hi,eu=or&&Tn===Nt,Wc=It("uppy-StatusBar-progress",{"is-indeterminate":function _c(){switch(Tn){case Me:case at:{const{mode:Id}=$(Pn);return"indeterminate"===Id}case Se:return!xr;default:return!1}}()});return q("div",{className:It("uppy-StatusBar",`is-${Tn}`,{"has-ghosts":rr}),"aria-hidden":xg},q("div",{className:Wc,style:{width:`${Sg}%`},role:"progressbar","aria-label":`${Sg}%`,"aria-valuetext":`${Sg}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ba}),(()=>{switch(Tn){case at:case Me:return q(Gt,{progress:$(Pn)});case Nt:return q(Ve,{i18n:Qr});case Ri:return q(zt,{error:xt,i18n:Qr,numUploads:aa,complete:_a});case Se:return q(Re,{i18n:Qr,supportsUploadProgress:xr,totalProgress:vn,showProgressDetails:ss,isUploadStarted:Io,isAllComplete:Ts,isAllPaused:_e,newFiles:M,numUploads:aa,complete:_a,totalUploadedSize:ah,totalSize:Al,totalETA:bu,startUpload:As});default:return null}})(),q("div",{className:"uppy-StatusBar-actions"},mi||Cu?q(qe,{newFiles:M,isUploadStarted:Io,recoveredState:mi,i18n:Qr,isSomeGhost:rr,startUpload:As,uploadState:Tn}):null,wu?q(Dt,{i18n:Qr,uppy:Ko}):null,_f?q(Rt,{isAllPaused:_e,i18n:Qr,isAllComplete:Ts,resumableUploads:Ge,uppy:Ko}):null,Rd?q(je,{i18n:Qr,uppy:Ko}):null,eu?q(Te,{i18n:Qr,doneButtonHandler:or}):null))}Ii.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const On={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Di(U,M){if(!Object.prototype.hasOwnProperty.call(U,M))throw new TypeError("attempted to use private field on non-instance");return U}var Zi=0;function Lt(U){return"__private_"+Zi+++"_"+U}function ci(U,M,B,Y){if(U)return jt.STATE_ERROR;if(M)return jt.STATE_COMPLETE;if(B)return jt.STATE_WAITING;let _e=jt.STATE_WAITING;const Ge=Object.keys(Y);for(let xt=0;xt<Ge.length;xt++){const{progress:Xe}=Y[Ge[xt]];if(Xe.uploadStarted&&!Xe.uploadComplete)return jt.STATE_UPLOADING;Xe.preprocess&&(_e=jt.STATE_PREPROCESSING),Xe.postprocess&&_e!==jt.STATE_PREPROCESSING&&(_e=jt.STATE_POSTPROCESSING)}return _e}const Ti={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Xi=Lt("lastUpdateTime"),ln=Lt("previousUploadedBytes"),en=Lt("previousSpeed"),fn=Lt("previousETA"),Yn=Lt("computeSmoothETA"),Fn=Lt("onUploadStart");class mr extends St{constructor(M,B){super(M,{...Ti,...B}),Object.defineProperty(this,Yn,{value:uo}),Object.defineProperty(this,Xi,{writable:!0,value:void 0}),Object.defineProperty(this,ln,{writable:!0,value:void 0}),Object.defineProperty(this,en,{writable:!0,value:void 0}),Object.defineProperty(this,fn,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,Fn,{writable:!0,value:()=>{const{recoveredState:Y}=this.uppy.getState();if(Di(this,en)[en]=null,Di(this,fn)[fn]=null,Y)return Di(this,ln)[ln]=Object.values(Y.files).reduce((_e,Ge)=>{let{progress:xt}=Ge;return _e+xt.bytesUploaded},0),void this.uppy.emit("restore-confirmed");Di(this,Xi)[Xi]=performance.now(),Di(this,ln)[ln]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=On,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(M){const{capabilities:B,files:Y,allowNewUpload:_e,totalProgress:Ge,error:xt,recoveredState:Xe}=M,{newFiles:Xt,startedFiles:si,completeFiles:Hi,isUploadStarted:mi,isAllComplete:Tn,isAllErrored:vn,isAllPaused:Pn,isUploadInProgress:xr,isSomeGhost:Sr}=this.uppy.getObjectOfFilesPerState(),rr=Xe?Object.values(Y):Xt,or=!!B.resumableUploads,Io=!1!==B.uploadProgress;let Qr=0,As=0;si.forEach(Ts=>{Qr+=Ts.progress.bytesTotal||0,As+=Ts.progress.bytesUploaded||0});const Ko=Di(this,Yn)[Yn]({uploaded:As,total:Qr,remaining:Qr-As});return Ii({error:xt,uploadState:ci(xt,Tn,Xe,M.files||{}),allowNewUpload:_e,totalProgress:Ge,totalSize:Qr,totalUploadedSize:As,isAllComplete:!1,isAllPaused:Pn,isAllErrored:vn,isUploadStarted:mi,isUploadInProgress:xr,isSomeGhost:Sr,recoveredState:Xe,complete:Hi.length,newFiles:rr.length,numUploads:si.length,totalETA:Ko,files:Y,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:or,supportsUploadProgress:Io,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const M=this.el;Yt(M)||(M.dir="ltr")}install(){const{target:M}=this.opts;M&&this.mount(M,this),this.uppy.on("upload",Di(this,Fn)[Fn]),Di(this,Xi)[Xi]=performance.now(),Di(this,ln)[ln]=this.uppy.getFiles().reduce((B,Y)=>B+Y.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",Di(this,Fn)[Fn])}}function uo(U){var M;if(0===U.total||0===U.remaining)return 0;null!=(M=Di(this,Xi))[Xi]||(M[Xi]=performance.now());const Y=performance.now()-Di(this,Xi)[Xi];var _e;if(0===Y)return Math.round((null!=(_e=Di(this,fn)[fn])?_e:0)/100)/10;const Ge=U.uploaded-Di(this,ln)[ln];var xt;if(Di(this,ln)[ln]=U.uploaded,Ge<=0)return Math.round((null!=(xt=Di(this,fn)[fn])?xt:0)/100)/10;const Xe=Ge/Y,Xt=null==Di(this,en)[en]?Xe:mt(Xe,Di(this,en)[en],2e3,Y);Di(this,en)[en]=Xt;const si=U.remaining/Xt,Hi=Math.max(Di(this,fn)[fn]-Y,0),mi=null==Di(this,fn)[fn]?si:mt(si,Hi,2e3,Y);return Di(this,fn)[fn]=mi,Di(this,Xi)[Xi]=performance.now(),Math.round(mi/100)/10}mr.VERSION="3.3.3";class eo extends We{constructor(){super(...arguments),this.ref={current:null}}componentWillEnter(M){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(M,300)}componentWillLeave(M){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(M,300)}render(){const{children:M}=this.props;return q("div",{className:"uppy-Informer-animated",ref:this.ref},M)}}function oo(U,M){var B;return null!=(B=U?.key)?B:M}function Mr(U){const M={};for(let B=0;B<U.length;B++)null!=U[B]&&(M[oo(U[B],B.toString(36))]=U[B]);return M}function to(U,M){U=U||{},M=M||{};const B=xt=>M.hasOwnProperty(xt)?M[xt]:U[xt],Y={};let _e=[];for(const xt in U)M.hasOwnProperty(xt)?_e.length&&(Y[xt]=_e,_e=[]):_e.push(xt);const Ge={};for(const xt in M){if(Y.hasOwnProperty(xt))for(let Xe=0;Xe<Y[xt].length;Xe++)Ge[Y[xt][Xe]]=B(Y[xt][Xe]);Ge[xt]=B(xt)}for(let xt=0;xt<_e.length;xt++)Ge[_e[xt]]=B(_e[xt]);return Ge}const Rn=U=>U,ae=(()=>{class U extends We{constructor(B,Y){super(B,Y),this.refs={},this.state={children:Mr(an(an(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const B=this.state.children;for(const Y in B)B[Y]&&this.performAppear(Y)}componentWillReceiveProps(B){const Y=Mr(an(B.children)||[]),_e=this.state.children;let Ge;for(Ge in this.setState(xt=>({children:to(xt.children,Y)})),Y)if(Y.hasOwnProperty(Ge)){const xt=_e&&_e.hasOwnProperty(Ge);Y[Ge]&&xt&&this.currentlyTransitioningKeys[Ge]?(this.keysToEnter.push(Ge),this.keysToAbortLeave.push(Ge)):Y[Ge]&&!xt&&!this.currentlyTransitioningKeys[Ge]&&this.keysToEnter.push(Ge)}for(Ge in _e)if(_e.hasOwnProperty(Ge)){const xt=Y&&Y.hasOwnProperty(Ge);_e[Ge]&&!xt&&!this.currentlyTransitioningKeys[Ge]&&this.keysToLeave.push(Ge)}}componentDidUpdate(){const{keysToEnter:B}=this;this.keysToEnter=[],B.forEach(this.performEnter);const{keysToLeave:Y}=this;this.keysToLeave=[],Y.forEach(this.performLeave)}_finishAbort(B){const Y=this.keysToAbortLeave.indexOf(B);-1!==Y&&this.keysToAbortLeave.splice(Y,1)}performAppear(B){this.currentlyTransitioningKeys[B]=!0;const Y=this.refs[B];null!=Y&&Y.componentWillAppear?Y.componentWillAppear(this._handleDoneAppearing.bind(this,B)):this._handleDoneAppearing(B)}_handleDoneAppearing(B){const Y=this.refs[B];null!=Y&&Y.componentDidAppear&&Y.componentDidAppear(),delete this.currentlyTransitioningKeys[B],this._finishAbort(B);const _e=Mr(an(this.props.children)||[]);(!_e||!_e.hasOwnProperty(B))&&this.performLeave(B)}performEnter(B){this.currentlyTransitioningKeys[B]=!0;const Y=this.refs[B];null!=Y&&Y.componentWillEnter?Y.componentWillEnter(this._handleDoneEntering.bind(this,B)):this._handleDoneEntering(B)}_handleDoneEntering(B){const Y=this.refs[B];null!=Y&&Y.componentDidEnter&&Y.componentDidEnter(),delete this.currentlyTransitioningKeys[B],this._finishAbort(B);const _e=Mr(an(this.props.children)||[]);(!_e||!_e.hasOwnProperty(B))&&this.performLeave(B)}performLeave(B){if(-1!==this.keysToAbortLeave.indexOf(B))return;this.currentlyTransitioningKeys[B]=!0;const _e=this.refs[B];null!=_e&&_e.componentWillLeave?_e.componentWillLeave(this._handleDoneLeaving.bind(this,B)):this._handleDoneLeaving(B)}_handleDoneLeaving(B){if(-1!==this.keysToAbortLeave.indexOf(B))return;const _e=this.refs[B];null!=_e&&_e.componentDidLeave&&_e.componentDidLeave(),delete this.currentlyTransitioningKeys[B];const Ge=Mr(an(this.props.children)||[]);if(Ge&&Ge.hasOwnProperty(B))this.performEnter(B);else{const xt=function Po(U,M){return Object.assign(U,M)}({},this.state.children);delete xt[B],this.setState({children:xt})}}render(B,Y){let{childFactory:_e,transitionLeave:Ge,transitionName:xt,transitionAppear:Xe,transitionEnter:Xt,transitionLeaveTimeout:si,transitionEnterTimeout:Hi,transitionAppearTimeout:mi,component:Tn,...vn}=B,{children:Pn}=Y;const xr=Object.entries(Pn).map(Sr=>{let[rr,or]=Sr;if(!or)return;const Io=function nn(U,M){const B=U._ptgLinkedRefs||(U._ptgLinkedRefs={});return B[M]||(B[M]=Y=>{U.refs[M]=Y})}(this,rr);return ri(_e(or),{ref:Io,key:rr})}).filter(Boolean);return q(Tn,vn,xr)}}return U.defaultProps={component:"span",childFactory:Rn},U})();class oe extends St{constructor(M,B){super(M,B),this.render=Y=>q("div",{className:"uppy uppy-Informer"},q(ae,null,Y.info.map(_e=>q(eo,{key:_e.message},q("p",{role:"alert"},_e.message," ",_e.details&&q("span",{"aria-label":_e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${_e.message} \n\n ${_e.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:M}=this.opts;M&&this.mount(M,this)}}oe.VERSION="3.1.0";const dt=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Fi(U){return U.startsWith("blob:")}function Un(U){return!!U&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(U)}function Rr(U,M,B){return M in U?Object.defineProperty(U,M,{value:B,enumerable:!0,configurable:!0,writable:!0}):U[M]=B,U}var ua=typeof self<"u"?self:global;const ho=typeof navigator<"u",wa=ho&&typeof HTMLImageElement>"u",yl=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),il=ua.Buffer,Rs=!!il,Rc=U=>void 0!==U;function Ao(U){return void 0===U||(U instanceof Map?0===U.size:0===Object.values(U).filter(Rc).length)}function Er(U){let M=new Error(U);throw delete M.stack,M}function Ws(U){let M=function(B){let Y=0;return B.ifd0.enabled&&(Y+=1024),B.exif.enabled&&(Y+=2048),B.makerNote&&(Y+=2048),B.userComment&&(Y+=1024),B.gps.enabled&&(Y+=512),B.interop.enabled&&(Y+=100),B.ifd1.enabled&&(Y+=1024),Y+2048}(U);return U.jfif.enabled&&(M+=50),U.xmp.enabled&&(M+=2e4),U.iptc.enabled&&(M+=14e3),U.icc.enabled&&(M+=6e3),M}const Bs=U=>String.fromCharCode.apply(null,U),Wa=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Ys{static from(M,B){return M instanceof this&&M.le===B?M:new Ys(M,void 0,void 0,B)}constructor(M,B=0,Y,_e){if("boolean"==typeof _e&&(this.le=_e),Array.isArray(M)&&(M=new Uint8Array(M)),0===M)this.byteOffset=0,this.byteLength=0;else if(M instanceof ArrayBuffer){void 0===Y&&(Y=M.byteLength-B);let Ge=new DataView(M,B,Y);this._swapDataView(Ge)}else if(M instanceof Uint8Array||M instanceof DataView||M instanceof Ys){void 0===Y&&(Y=M.byteLength-B),(B+=M.byteOffset)+Y>M.byteOffset+M.byteLength&&Er("Creating view outside of available memory in ArrayBuffer");let Ge=new DataView(M.buffer,B,Y);this._swapDataView(Ge)}else if("number"==typeof M){let Ge=new DataView(new ArrayBuffer(M));this._swapDataView(Ge)}else Er("Invalid input argument for BufferView: "+M)}_swapArrayBuffer(M){this._swapDataView(new DataView(M))}_swapBuffer(M){this._swapDataView(new DataView(M.buffer,M.byteOffset,M.byteLength))}_swapDataView(M){this.dataView=M,this.buffer=M.buffer,this.byteOffset=M.byteOffset,this.byteLength=M.byteLength}_lengthToEnd(M){return this.byteLength-M}set(M,B,Y=Ys){return M instanceof DataView||M instanceof Ys?M=new Uint8Array(M.buffer,M.byteOffset,M.byteLength):M instanceof ArrayBuffer&&(M=new Uint8Array(M)),M instanceof Uint8Array||Er("BufferView.set(): Invalid data argument."),this.toUint8().set(M,B),new Y(this,B,M.byteLength)}subarray(M,B){return B=B||this._lengthToEnd(M),new Ys(this,M,B)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(M,B){return new Uint8Array(this.buffer,this.byteOffset+M,B)}getString(M=0,B=this.byteLength){return _e=this.getUint8Array(M,B),Wa?Wa.decode(_e):Rs?Buffer.from(_e).toString("utf8"):decodeURIComponent(escape(Bs(_e)));var _e}getLatin1String(M=0,B=this.byteLength){let Y=this.getUint8Array(M,B);return Bs(Y)}getUnicodeString(M=0,B=this.byteLength){const Y=[];for(let _e=0;_e<B&&M+_e<this.byteLength;_e+=2)Y.push(this.getUint16(M+_e));return Bs(Y)}getInt8(M){return this.dataView.getInt8(M)}getUint8(M){return this.dataView.getUint8(M)}getInt16(M,B=this.le){return this.dataView.getInt16(M,B)}getInt32(M,B=this.le){return this.dataView.getInt32(M,B)}getUint16(M,B=this.le){return this.dataView.getUint16(M,B)}getUint32(M,B=this.le){return this.dataView.getUint32(M,B)}getFloat32(M,B=this.le){return this.dataView.getFloat32(M,B)}getFloat64(M,B=this.le){return this.dataView.getFloat64(M,B)}getFloat(M,B=this.le){return this.dataView.getFloat32(M,B)}getDouble(M,B=this.le){return this.dataView.getFloat64(M,B)}getUintBytes(M,B,Y){switch(B){case 1:return this.getUint8(M,Y);case 2:return this.getUint16(M,Y);case 4:return this.getUint32(M,Y);case 8:return this.getUint64&&this.getUint64(M,Y)}}getUint(M,B,Y){switch(B){case 8:return this.getUint8(M,Y);case 16:return this.getUint16(M,Y);case 32:return this.getUint32(M,Y);case 64:return this.getUint64&&this.getUint64(M,Y)}}toString(M){return this.dataView.toString(M,this.constructor.name)}ensureChunk(){}}function So(U,M){Er(`${U} '${M}' was not loaded, try using full build of exifr.`)}class js extends Map{constructor(M){super(),this.kind=M}get(M,B){return this.has(M)||So(this.kind,M),B&&(M in B||Er(`Unknown ${this.kind} '${M}'.`),B[M].enabled||So(this.kind,M)),super.get(M)}keyList(){return Array.from(this.keys())}}var po=new js("file parser"),To=new js("segment parser"),Cs=new js("file reader");let vr=ua.fetch;function Gr(U,M){return(B=U).startsWith("data:")||B.length>1e4?fo(U,M,"base64"):yl&&U.includes("://")?Hr(U,M,"url",ls):yl?fo(U,M,"fs"):ho?Hr(U,M,"url",ls):void Er("Invalid input argument");var B}function Hr(U,M,B,Y){return ha.apply(this,arguments)}function ha(){return ha=(0,O.A)(function*(U,M,B,Y){return Cs.has(B)?fo(U,M,B):Y?(_e=(0,O.A)(function*(Ge,xt){let Xe=yield xt(Ge);return new Ys(Xe)}),function(Ge,xt){return _e.apply(this,arguments)})(U,Y):void Er(`Parser ${B} is not loaded`);var _e}),ha.apply(this,arguments)}function fo(U,M,B){return fr.apply(this,arguments)}function fr(){return(fr=(0,O.A)(function*(U,M,B){let Y=new(Cs.get(B))(U,M);return yield Y.read(),Y})).apply(this,arguments)}const ls=U=>vr(U).then(M=>M.arrayBuffer()),pa=U=>new Promise((M,B)=>{let Y=new FileReader;Y.onloadend=()=>M(Y.result||new ArrayBuffer),Y.onerror=B,Y.readAsArrayBuffer(U)});class Ia extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function xa(U,M,B){let Y=new Ia;for(let[_e,Ge]of B)Y.set(_e,Ge);if(Array.isArray(M))for(let _e of M)U.set(_e,Y);else U.set(M,Y);return Y}function Cr(U,M,B){let Y,_e=U.get(M);for(Y of B)_e.set(Y[0],Y[1])}const An=new Map,yr=new Map,Ur=new Map,ts=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],fa=["jfif","xmp","icc","iptc","ihdr"],Xo=["tiff",...fa],Mo=["ifd0","ifd1","exif","gps","interop"],Kr=[...Xo,...Mo],Do=["makerNote","userComment"],gs=["translateKeys","translateValues","reviveValues","multiSegment"],er=[...gs,"sanitize","mergeOutput","silentErrors"];class ta{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class is extends ta{get needed(){return this.enabled||this.deps.size>0}constructor(M,B,Y,_e){if(super(),Rr(this,"enabled",!1),Rr(this,"skip",new Set),Rr(this,"pick",new Set),Rr(this,"deps",new Set),Rr(this,"translateKeys",!1),Rr(this,"translateValues",!1),Rr(this,"reviveValues",!1),this.key=M,this.enabled=B,this.parse=this.enabled,this.applyInheritables(_e),this.canBeFiltered=Mo.includes(M),this.canBeFiltered&&(this.dict=An.get(M)),void 0!==Y)if(Array.isArray(Y))this.parse=this.enabled=!0,this.canBeFiltered&&Y.length>0&&this.translateTagSet(Y,this.pick);else if("object"==typeof Y){if(this.enabled=!0,this.parse=!1!==Y.parse,this.canBeFiltered){let{pick:Ge,skip:xt}=Y;Ge&&Ge.length>0&&this.translateTagSet(Ge,this.pick),xt&&xt.length>0&&this.translateTagSet(xt,this.skip)}this.applyInheritables(Y)}else!0===Y||!1===Y?this.parse=this.enabled=Y:Er(`Invalid options argument: ${Y}`)}applyInheritables(M){let B,Y;for(B of gs)Y=M[B],void 0!==Y&&(this[B]=Y)}translateTagSet(M,B){if(this.dict){let Y,_e,{tagKeys:Ge,tagValues:xt}=this.dict;for(Y of M)"string"==typeof Y?(_e=xt.indexOf(Y),-1===_e&&(_e=Ge.indexOf(Number(Y))),-1!==_e&&B.add(Number(Ge[_e]))):B.add(Y)}else for(let Y of M)B.add(Y)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,$s(this.pick,this.deps)):this.enabled&&this.pick.size>0&&$s(this.pick,this.deps)}}var No={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},io=new Map;class mo extends ta{static useCached(M){let B=io.get(M);return void 0!==B||(B=new this(M),io.set(M,B)),B}constructor(M){super(),!0===M?this.setupFromTrue():void 0===M?this.setupFromUndefined():Array.isArray(M)?this.setupFromArray(M):"object"==typeof M?this.setupFromObject(M):Er(`Invalid options argument ${M}`),void 0===this.firstChunkSize&&(this.firstChunkSize=ho?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let M;for(M of ts)this[M]=No[M];for(M of er)this[M]=No[M];for(M of Do)this[M]=No[M];for(M of Kr)this[M]=new is(M,No[M],void 0,this)}setupFromTrue(){let M;for(M of ts)this[M]=No[M];for(M of er)this[M]=No[M];for(M of Do)this[M]=!0;for(M of Kr)this[M]=new is(M,!0,void 0,this)}setupFromArray(M){let B;for(B of ts)this[B]=No[B];for(B of er)this[B]=No[B];for(B of Do)this[B]=No[B];for(B of Kr)this[B]=new is(B,!1,void 0,this);this.setupGlobalFilters(M,void 0,Mo)}setupFromObject(M){let B;for(B of(Mo.ifd0=Mo.ifd0||Mo.image,Mo.ifd1=Mo.ifd1||Mo.thumbnail,Object.assign(this,M),ts))this[B]=Ho(M[B],No[B]);for(B of er)this[B]=Ho(M[B],No[B]);for(B of Do)this[B]=Ho(M[B],No[B]);for(B of Xo)this[B]=new is(B,No[B],M[B],this);for(B of Mo)this[B]=new is(B,No[B],M[B],this.tiff);this.setupGlobalFilters(M.pick,M.skip,Mo,Kr),!0===M.tiff?this.batchEnableWithBool(Mo,!0):!1===M.tiff?this.batchEnableWithUserValue(Mo,M):Array.isArray(M.tiff)?this.setupGlobalFilters(M.tiff,void 0,Mo):"object"==typeof M.tiff&&this.setupGlobalFilters(M.tiff.pick,M.tiff.skip,Mo)}batchEnableWithBool(M,B){for(let Y of M)this[Y].enabled=B}batchEnableWithUserValue(M,B){for(let Y of M){let _e=B[Y];this[Y].enabled=!1!==_e&&void 0!==_e}}setupGlobalFilters(M,B,Y,_e=Y){if(M&&M.length){for(let xt of _e)this[xt].enabled=!1;let Ge=ms(M,Y);for(let[xt,Xe]of Ge)$s(this[xt].pick,Xe),this[xt].enabled=!0}else if(B&&B.length){let Ge=ms(B,Y);for(let[xt,Xe]of Ge)$s(this[xt].skip,Xe)}}filterNestedSegmentTags(){let{ifd0:M,exif:B,xmp:Y,iptc:_e,icc:Ge}=this;this.makerNote?B.deps.add(37500):B.skip.add(37500),this.userComment?B.deps.add(37510):B.skip.add(37510),Y.enabled||M.skip.add(700),_e.enabled||M.skip.add(33723),Ge.enabled||M.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:M,exif:B,gps:Y,interop:_e}=this;_e.needed&&(B.deps.add(40965),M.deps.add(40965)),B.needed&&M.deps.add(34665),Y.needed&&M.deps.add(34853),this.tiff.enabled=Mo.some(Ge=>!0===this[Ge].enabled)||this.makerNote||this.userComment;for(let Ge of Mo)this[Ge].finalizeFilters()}get onlyTiff(){return!fa.map(M=>this[M].enabled).some(M=>!0===M)&&this.tiff.enabled}checkLoadedPlugins(){for(let M of Xo)this[M].enabled&&!To.has(M)&&So("segment parser",M)}}function ms(U,M){let B,Y,_e,Ge,xt=[];for(_e of M){for(Ge of(B=An.get(_e),Y=[],B))(U.includes(Ge[0])||U.includes(Ge[1]))&&Y.push(Ge[0]);Y.length&&xt.push([_e,Y])}return xt}function Ho(U,M){return void 0!==U?U:void 0!==M?M:void 0}function $s(U,M){for(let B of M)U.add(B)}Rr(mo,"default",No);class nl{constructor(M){Rr(this,"parsers",{}),Rr(this,"output",{}),Rr(this,"errors",[]),Rr(this,"pushToErrors",B=>this.errors.push(B)),this.options=mo.useCached(M)}read(M){var B=this;return(0,O.A)(function*(){var Y,_e;B.file=yield(Y=M,_e=B.options,"string"==typeof Y?Gr(Y,_e):ho&&!wa&&Y instanceof HTMLImageElement?Gr(Y.src,_e):Y instanceof Uint8Array||Y instanceof ArrayBuffer||Y instanceof DataView?new Ys(Y):ho&&Y instanceof Blob?Hr(Y,_e,"blob",pa):void Er("Invalid input argument"))})()}setup(){if(this.fileParser)return;let{file:M}=this,B=M.getUint16(0);for(let[Y,_e]of po)if(_e.canHandle(M,B))return this.fileParser=new _e(this.options,this.file,this.parsers),M[Y]=!0;this.file.close&&this.file.close(),Er("Unknown file format")}parse(){var M=this;return(0,O.A)(function*(){let{output:B,errors:Y}=M;return M.setup(),M.options.silentErrors?(yield M.executeParsers().catch(M.pushToErrors),Y.push(...M.fileParser.errors)):yield M.executeParsers(),M.file.close&&M.file.close(),M.options.silentErrors&&Y.length>0&&(B.errors=Y),Ao(_e=B)?void 0:_e;var _e})()}executeParsers(){var M=this;return(0,O.A)(function*(){let{output:B}=M;yield M.fileParser.parse();let Y=Object.values(M.parsers).map(function(){var _e=(0,O.A)(function*(Ge){let xt=yield Ge.parse();Ge.assignToOutput(B,xt)});return function(Ge){return _e.apply(this,arguments)}}());M.options.silentErrors&&(Y=Y.map(_e=>_e.catch(M.pushToErrors))),yield Promise.all(Y)})()}extractThumbnail(){var M=this;return(0,O.A)(function*(){M.setup();let{options:B,file:Y}=M,_e=To.get("tiff",B);var Ge;if(Y.tiff?Ge={start:0,type:"tiff"}:Y.jpeg&&(Ge=yield M.fileParser.getOrFindSegment("tiff")),void 0===Ge)return;let xt=yield M.fileParser.ensureSegmentChunk(Ge),Xe=M.parsers.tiff=new _e(xt,B,Y),Xt=yield Xe.extractThumbnail();return Y.close&&Y.close(),Xt})()}}function Pa(U,M){return ws.apply(this,arguments)}function ws(){return(ws=(0,O.A)(function*(U,M){let B=new nl(M);return yield B.read(U),B.parse()})).apply(this,arguments)}var ns=Object.freeze({__proto__:null,parse:Pa,Exifr:nl,fileParsers:po,segmentParsers:To,fileReaders:Cs,tagKeys:An,tagValues:yr,tagRevivers:Ur,createDictionary:xa,extendDictionary:Cr,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:pa,chunkedProps:ts,otherSegments:fa,segments:Xo,tiffBlocks:Mo,segmentsAndBlocks:Kr,tiffExtractables:Do,inheritables:gs,allFormatters:er,Options:mo});class ka{static findPosition(M,B){let Y=M.getUint16(B+2)+2,_e="function"==typeof this.headerLength?this.headerLength(M,B,Y):this.headerLength,Ge=B+_e,xt=Y-_e;return{offset:B,length:Y,headerLength:_e,start:Ge,size:xt,end:Ge+xt}}static parse(M,B={}){return new this(M,new mo({[this.type]:B}),M).parse()}normalizeInput(M){return M instanceof Ys?M:new Ys(M)}constructor(M,B={},Y){Rr(this,"errors",[]),Rr(this,"raw",new Map),Rr(this,"handleError",_e=>{if(!this.options.silentErrors)throw _e;this.errors.push(_e.message)}),this.chunk=this.normalizeInput(M),this.file=Y,this.type=this.constructor.type,this.globalOptions=this.options=B,this.localOptions=B[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(M,B){let Y=Ur.get(B),_e=yr.get(B),Ge=An.get(B),xt=this.options[B],Xe=xt.reviveValues&&!!Y,Xt=xt.translateValues&&!!_e,si=xt.translateKeys&&!!Ge,Hi={};for(let[mi,Tn]of M)Xe&&Y.has(mi)?Tn=Y.get(mi)(Tn):Xt&&_e.has(mi)&&(Tn=this.translateValue(Tn,_e.get(mi))),si&&Ge.has(mi)&&(mi=Ge.get(mi)||mi),Hi[mi]=Tn;return Hi}translateValue(M,B){return B[M]||B.DEFAULT||M}assignToOutput(M,B){this.assignObjectToOutput(M,this.constructor.type,B)}assignObjectToOutput(M,B,Y){if(this.globalOptions.mergeOutput)return Object.assign(M,Y);M[B]?Object.assign(M[B],Y):M[B]=Y}}function Dr(U){return 192===U||194===U||196===U||219===U||221===U||218===U||254===U}function Qs(U,M,B){for(let[Y,_e]of To)if(_e.canHandle(U,M,B))return Y}Rr(ka,"headerLength",4),Rr(ka,"type",void 0),Rr(ka,"multiSegment",!1),Rr(ka,"canHandle",()=>!1);class Uo extends class{constructor(M,B,Y){var _e=this;Rr(this,"errors",[]),Rr(this,"ensureSegmentChunk",function(){var Ge=(0,O.A)(function*(xt){let Xe=xt.start,Xt=xt.size||65536;if(_e.file.chunked)if(_e.file.available(Xe,Xt))xt.chunk=_e.file.subarray(Xe,Xt);else try{xt.chunk=yield _e.file.readChunk(Xe,Xt)}catch(si){Er(`Couldn't read segment: ${JSON.stringify(xt)}. ${si.message}`)}else _e.file.byteLength>Xe+Xt?xt.chunk=_e.file.subarray(Xe,Xt):void 0===xt.size?xt.chunk=_e.file.subarray(Xe):Er("Segment unreachable: "+JSON.stringify(xt));return xt.chunk});return function(xt){return Ge.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(M),this.options=M,this.file=B,this.parsers=Y}injectSegment(M,B){this.options[M].enabled&&this.createParser(M,B)}createParser(M,B){let Y=new(To.get(M))(B,this.options,this.file);return this.parsers[M]=Y}createParsers(M){for(let B of M){let{type:Y,chunk:_e}=B,Ge=this.options[Y];if(Ge&&Ge.enabled){let xt=this.parsers[Y];xt&&xt.append||xt||this.createParser(Y,_e)}}}readSegments(M){var B=this;return(0,O.A)(function*(){let Y=M.map(B.ensureSegmentChunk);yield Promise.all(Y)})()}}{constructor(...M){super(...M),Rr(this,"appSegments",[]),Rr(this,"jpegSegments",[]),Rr(this,"unknownSegments",[])}static canHandle(M,B){return 65496===B}parse(){var M=this;return(0,O.A)(function*(){yield M.findAppSegments(),yield M.readSegments(M.appSegments),M.mergeMultiSegments(),M.createParsers(M.mergedAppSegments||M.appSegments)})()}setupSegmentFinderArgs(M){!0===M?(this.findAll=!0,this.wanted=new Set(To.keyList())):(M=void 0===M?To.keyList().filter(B=>this.options[B].enabled):M.filter(B=>this.options[B].enabled&&To.has(B)),this.findAll=!1,this.remaining=new Set(M),this.wanted=new Set(M)),this.unfinishedMultiSegment=!1}findAppSegments(M=0,B){var Y=this;return(0,O.A)(function*(){Y.setupSegmentFinderArgs(B);let{file:_e,findAll:Ge,wanted:xt,remaining:Xe}=Y;if(!Ge&&Y.file.chunked&&(Ge=Array.from(xt).some(Xt=>To.get(Xt).multiSegment&&Y.options[Xt].multiSegment),Ge&&(yield Y.file.readWhole())),M=Y.findAppSegmentsInRange(M,_e.byteLength),!Y.options.onlyTiff&&_e.chunked){let Xt=!1;for(;Xe.size>0&&!Xt&&(_e.canReadNextChunk||Y.unfinishedMultiSegment);){let{nextChunkOffset:si}=_e,Hi=Y.appSegments.some(mi=>!Y.file.available(mi.offset||mi.start,mi.length||mi.size));if(Xt=M>si&&!Hi?!(yield _e.readNextChunk(M)):!(yield _e.readNextChunk(si)),void 0===(M=Y.findAppSegmentsInRange(M,_e.byteLength)))return}}})()}findAppSegmentsInRange(M,B){B-=2;let Y,_e,Ge,xt,Xe,Xt,{file:si,findAll:Hi,wanted:mi,remaining:Tn,options:vn}=this;for(;M<B;M++)if(255===si.getUint8(M))if(Y=si.getUint8(M+1),(U=Y)>=224&&U<=239){if(_e=si.getUint16(M+2),Ge=Qs(si,M,_e),Ge&&mi.has(Ge)&&(xt=To.get(Ge),Xe=xt.findPosition(si,M),Xt=vn[Ge],Xe.type=Ge,this.appSegments.push(Xe),!Hi&&(xt.multiSegment&&Xt.multiSegment?(this.unfinishedMultiSegment=Xe.chunkNumber<Xe.chunkCount,this.unfinishedMultiSegment||Tn.delete(Ge)):Tn.delete(Ge),0===Tn.size)))break;vn.recordUnknownSegments&&(Xe=ka.findPosition(si,M),Xe.marker=Y,this.unknownSegments.push(Xe)),M+=_e+1}else if(Dr(Y)){if(_e=si.getUint16(M+2),218===Y&&!1!==vn.stopAfterSos)return;vn.recordJpegSegments&&this.jpegSegments.push({offset:M,length:_e,marker:Y}),M+=_e+1}var U;return M}mergeMultiSegments(){if(!this.appSegments.some(B=>B.multiSegment))return;let M=function(B,Y){let _e,Ge,xt,Xe=new Map;for(let Xt=0;Xt<B.length;Xt++)_e=B[Xt],Ge=_e.type,Xe.has(Ge)?xt=Xe.get(Ge):Xe.set(Ge,xt=[]),xt.push(_e);return Array.from(Xe)}(this.appSegments);this.mergedAppSegments=M.map(([B,Y])=>{let _e=To.get(B,this.options);return _e.handleMultiSegments?{type:B,chunk:_e.handleMultiSegments(Y)}:Y[0]})}getSegment(M){return this.appSegments.find(B=>B.type===M)}getOrFindSegment(M){var B=this;return(0,O.A)(function*(){let Y=B.getSegment(M);return void 0===Y&&(yield B.findAppSegments(0,[M]),Y=B.getSegment(M)),Y})()}}Rr(Uo,"type","jpeg"),po.set("jpeg",Uo);const Is=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Sa extends ka{parseHeader(){var M=this.chunk.getUint16();18761===M?this.le=!0:19789===M&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(M,B,Y=new Map){let{pick:_e,skip:Ge}=this.options[B];_e=new Set(_e);let xt=_e.size>0,Xe=0===Ge.size,Xt=this.chunk.getUint16(M);M+=2;for(let si=0;si<Xt;si++){let Hi=this.chunk.getUint16(M);if(xt){if(_e.has(Hi)&&(Y.set(Hi,this.parseTag(M,Hi,B)),_e.delete(Hi),0===_e.size))break}else!Xe&&Ge.has(Hi)||Y.set(Hi,this.parseTag(M,Hi,B));M+=12}return Y}parseTag(M,B,Y){let{chunk:_e}=this,Ge=_e.getUint16(M+2),xt=_e.getUint32(M+4),Xe=Is[Ge];if(Xe*xt<=4?M+=8:M=_e.getUint32(M+8),(Ge<1||Ge>13)&&Er(`Invalid TIFF value type. block: ${Y.toUpperCase()}, tag: ${B.toString(16)}, type: ${Ge}, offset ${M}`),M>_e.byteLength&&Er(`Invalid TIFF value offset. block: ${Y.toUpperCase()}, tag: ${B.toString(16)}, type: ${Ge}, offset ${M} is outside of chunk size ${_e.byteLength}`),1===Ge)return _e.getUint8Array(M,xt);if(2===Ge)return""===(Xt=function(si){for(;si.endsWith("\0");)si=si.slice(0,-1);return si}(Xt=_e.getString(M,xt)).trim())?void 0:Xt;var Xt;if(7===Ge)return _e.getUint8Array(M,xt);if(1===xt)return this.parseTagValue(Ge,M);{let si=new(function(mi){switch(mi){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(Ge))(xt),Hi=Xe;for(let mi=0;mi<xt;mi++)si[mi]=this.parseTagValue(Ge,M),M+=Hi;return si}}parseTagValue(M,B){let{chunk:Y}=this;switch(M){case 1:return Y.getUint8(B);case 3:return Y.getUint16(B);case 4:case 13:return Y.getUint32(B);case 5:return Y.getUint32(B)/Y.getUint32(B+4);case 6:return Y.getInt8(B);case 8:return Y.getInt16(B);case 9:return Y.getInt32(B);case 10:return Y.getInt32(B)/Y.getInt32(B+4);case 11:return Y.getFloat(B);case 12:return Y.getDouble(B);default:Er(`Invalid tiff type ${M}`)}}}class Fa extends Sa{static canHandle(M,B){return 225===M.getUint8(B+1)&&1165519206===M.getUint32(B+4)&&0===M.getUint16(B+8)}parse(){var M=this;return(0,O.A)(function*(){M.parseHeader();let{options:B}=M;return B.ifd0.enabled&&(yield M.parseIfd0Block()),B.exif.enabled&&(yield M.safeParse("parseExifBlock")),B.gps.enabled&&(yield M.safeParse("parseGpsBlock")),B.interop.enabled&&(yield M.safeParse("parseInteropBlock")),B.ifd1.enabled&&(yield M.safeParse("parseThumbnailBlock")),M.createOutput()})()}safeParse(M){let B=this[M]();return void 0!==B.catch&&(B=B.catch(this.handleError)),B}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let M=this.chunk.getUint16(this.ifd0Offset);this.ifd1Offset=this.chunk.getUint32(this.ifd0Offset+2+12*M)}}parseBlock(M,B){let Y=new Map;return this[B]=Y,this.parseTags(M,B,Y),Y}parseIfd0Block(){var M=this;return(0,O.A)(function*(){if(M.ifd0)return;let{file:B}=M;M.findIfd0Offset(),M.ifd0Offset<8&&Er("Malformed EXIF data"),!B.chunked&&M.ifd0Offset>B.byteLength&&Er(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${M.ifd0Offset}, file.byteLength: ${B.byteLength}`),B.tiff&&(yield B.ensureChunk(M.ifd0Offset,Ws(M.options)));let Y=M.parseBlock(M.ifd0Offset,"ifd0");return 0!==Y.size?(M.exifOffset=Y.get(34665),M.interopOffset=Y.get(40965),M.gpsOffset=Y.get(34853),M.xmp=Y.get(700),M.iptc=Y.get(33723),M.icc=Y.get(34675),M.options.sanitize&&(Y.delete(34665),Y.delete(40965),Y.delete(34853),Y.delete(700),Y.delete(33723),Y.delete(34675)),Y):void 0})()}parseExifBlock(){var M=this;return(0,O.A)(function*(){if(M.exif||(M.ifd0||(yield M.parseIfd0Block()),void 0===M.exifOffset))return;M.file.tiff&&(yield M.file.ensureChunk(M.exifOffset,Ws(M.options)));let B=M.parseBlock(M.exifOffset,"exif");return M.interopOffset||(M.interopOffset=B.get(40965)),M.makerNote=B.get(37500),M.userComment=B.get(37510),M.options.sanitize&&(B.delete(40965),B.delete(37500),B.delete(37510)),M.unpack(B,41728),M.unpack(B,41729),B})()}unpack(M,B){let Y=M.get(B);Y&&1===Y.length&&M.set(B,Y[0])}parseGpsBlock(){var M=this;return(0,O.A)(function*(){if(M.gps||(M.ifd0||(yield M.parseIfd0Block()),void 0===M.gpsOffset))return;let B=M.parseBlock(M.gpsOffset,"gps");return B&&B.has(2)&&B.has(4)&&(B.set("latitude",_l(...B.get(2),B.get(1))),B.set("longitude",_l(...B.get(4),B.get(3)))),B})()}parseInteropBlock(){var M=this;return(0,O.A)(function*(){if(!M.interop&&(M.ifd0||(yield M.parseIfd0Block()),void 0!==M.interopOffset||M.exif||(yield M.parseExifBlock()),void 0!==M.interopOffset))return M.parseBlock(M.interopOffset,"interop")})()}parseThumbnailBlock(M=!1){var B=this;return(0,O.A)(function*(){if(!B.ifd1&&!B.ifd1Parsed&&(!B.options.mergeOutput||M))return B.findIfd1Offset(),B.ifd1Offset>0&&(B.parseBlock(B.ifd1Offset,"ifd1"),B.ifd1Parsed=!0),B.ifd1})()}extractThumbnail(){var M=this;return(0,O.A)(function*(){if(M.headerParsed||M.parseHeader(),M.ifd1Parsed||(yield M.parseThumbnailBlock(!0)),void 0===M.ifd1)return;let B=M.ifd1.get(513),Y=M.ifd1.get(514);return M.chunk.getUint8Array(B,Y)})()}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let M,B,Y,_e={};for(B of Mo)if(M=this[B],!Ao(M))if(Y=this.canTranslate?this.translateBlock(M,B):Object.fromEntries(M),this.options.mergeOutput){if("ifd1"===B)continue;Object.assign(_e,Y)}else _e[B]=Y;return this.makerNote&&(_e.makerNote=this.makerNote),this.userComment&&(_e.userComment=this.userComment),_e}assignToOutput(M,B){if(this.globalOptions.mergeOutput)Object.assign(M,B);else for(let[Y,_e]of Object.entries(B))this.assignObjectToOutput(M,Y,_e)}}function _l(U,M,B,Y){var _e=U+M/60+B/3600;return"S"!==Y&&"W"!==Y||(_e*=-1),_e}Rr(Fa,"type","tiff"),Rr(Fa,"headerLength",10),To.set("tiff",Fa),Object.freeze({__proto__:null,default:ns,Exifr:nl,fileParsers:po,segmentParsers:To,fileReaders:Cs,tagKeys:An,tagValues:yr,tagRevivers:Ur,createDictionary:xa,extendDictionary:Cr,fetchUrlAsArrayBuffer:ls,readBlobAsArrayBuffer:pa,chunkedProps:ts,otherSegments:fa,segments:Xo,tiffBlocks:Mo,segmentsAndBlocks:Kr,tiffExtractables:Do,inheritables:gs,allFormatters:er,Options:mo,parse:Pa});const Ic={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Ic,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},Ic,{tiff:!1,ifd1:!0,mergeOutput:!1});const Vs=Object.assign({},Ic,{firstChunkSize:4e4,ifd0:[274]});function bl(){return(bl=(0,O.A)(function*(U){let M=new nl(Vs);yield M.read(U);let B=yield M.parse();if(B&&B.ifd0)return B.ifd0[274]})).apply(this,arguments)}const Ze=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ot=!0,De=!0;if("object"==typeof navigator){let U=navigator.userAgent;if(U.includes("iPad")||U.includes("iPhone")){let M=U.match(/OS (\d+)_(\d+)/);if(M){let[,B,Y]=M;ot=Number(B)+.1*Number(Y)<13.4,De=!1}}else if(U.includes("OS X 10")){let[,M]=U.match(/OS X 10[_.](\d+)/);ot=De=Number(M)<15}if(U.includes("Chrome/")){let[,M]=U.match(/Chrome\/(\d+)/);ot=De=Number(M)<81}else if(U.includes("Firefox/")){let[,M]=U.match(/Firefox\/(\d+)/);ot=De=Number(M)<77}}function Si(){return Si=(0,O.A)(function*(U){let M=yield function pc(U){return bl.apply(this,arguments)}(U);return Object.assign({canvas:ot,css:De},Ze[M])}),Si.apply(this,arguments)}class $n extends Ys{constructor(...M){super(...M),Rr(this,"ranges",new Ar),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(M,B,Y){if(0===M&&0===this.byteLength&&Y){let _e=new DataView(Y.buffer||Y,Y.byteOffset,Y.byteLength);this._swapDataView(_e)}else{let _e=M+B;if(_e>this.byteLength){let{dataView:Ge}=this._extend(_e);this._swapDataView(Ge)}}}_extend(M){let B;B=Rs?il.allocUnsafe(M):new Uint8Array(M);let Y=new DataView(B.buffer,B.byteOffset,B.byteLength);return B.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:B,dataView:Y}}subarray(M,B,Y=!1){return B=B||this._lengthToEnd(M),Y&&this._tryExtend(M,B),this.ranges.add(M,B),super.subarray(M,B)}set(M,B,Y=!1){Y&&this._tryExtend(B,M.byteLength,M);let _e=super.set(M,B);return this.ranges.add(B,_e.byteLength),_e}ensureChunk(M,B){var Y=this;return(0,O.A)(function*(){Y.chunked&&(Y.ranges.available(M,B)||(yield Y.readChunk(M,B)))})()}available(M,B){return this.ranges.available(M,B)}}class Ar{constructor(){Rr(this,"list",[])}get length(){return this.list.length}add(M,B,Y=0){let _e=M+B,Ge=this.list.filter(xt=>Bo(M,xt.offset,_e)||Bo(M,xt.end,_e));if(Ge.length>0){M=Math.min(M,...Ge.map(Xe=>Xe.offset)),_e=Math.max(_e,...Ge.map(Xe=>Xe.end)),B=_e-M;let xt=Ge.shift();xt.offset=M,xt.length=B,xt.end=_e,this.list=this.list.filter(Xe=>!Ge.includes(Xe))}else this.list.push({offset:M,length:B,end:_e})}available(M,B){let Y=M+B;return this.list.some(_e=>_e.offset<=M&&Y<=_e.end)}}function Bo(U,M,B){return U<=M&&M<=B}class na extends $n{constructor(M,B){super(0),Rr(this,"chunksRead",0),this.input=M,this.options=B}readWhole(){var M=this;return(0,O.A)(function*(){M.chunked=!1,yield M.readChunk(M.nextChunkOffset)})()}readChunked(){var M=this;return(0,O.A)(function*(){M.chunked=!0,yield M.readChunk(0,M.options.firstChunkSize)})()}readNextChunk(M=this.nextChunkOffset){var B=this;return(0,O.A)(function*(){if(B.fullyRead)return B.chunksRead++,!1;let Y=B.options.chunkSize,_e=yield B.readChunk(M,Y);return!!_e&&_e.byteLength===Y})()}readChunk(M,B){var Y=this;return(0,O.A)(function*(){if(Y.chunksRead++,0!==(B=Y.safeWrapAddress(M,B)))return Y._readChunk(M,B)})()}safeWrapAddress(M,B){return void 0!==this.size&&M+B>this.size?Math.max(0,this.size-M):B}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Cs.set("blob",class extends na{readWhole(){var U=this;return(0,O.A)(function*(){U.chunked=!1;let M=yield pa(U.input);U._swapArrayBuffer(M)})()}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(U,M){var B=this;return(0,O.A)(function*(){let _e=B.input.slice(U,M?U+M:void 0),Ge=yield pa(_e);return B.set(Ge,U,!0)})()}});const ja={strings:{generatingThumbnails:"Generating thumbnails..."}},ga={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class rd extends St{constructor(M,B){if(super(M,{...ga,...B}),this.onFileAdded=Y=>{!Y.preview&&Y.data&&Un(Y.type)&&!Y.isRemote&&this.addToQueue(Y.id)},this.onCancelRequest=Y=>{const _e=this.queue.indexOf(Y.id);-1!==_e&&this.queue.splice(_e,1)},this.onFileRemoved=Y=>{const _e=this.queue.indexOf(Y.id);-1!==_e&&this.queue.splice(_e,1),Y.preview&&Fi(Y.preview)&&URL.revokeObjectURL(Y.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(_e=>_e.isRestored).forEach(_e=>{(!_e.preview||Fi(_e.preview))&&this.addToQueue(_e.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=Y=>{Y.forEach(Ge=>{const xt=this.uppy.getFile(Ge);this.uppy.emit("preprocess-progress",xt,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const _e=()=>{Y.forEach(Ge=>{const xt=this.uppy.getFile(Ge);this.uppy.emit("preprocess-complete",xt)})};return new Promise(Ge=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{_e(),Ge()}):(_e(),Ge())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=ja,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(M,B,Y){const _e=URL.createObjectURL(M.data),Ge=new Promise((Xe,Xt)=>{const si=new Image;si.src=_e,si.addEventListener("load",()=>{URL.revokeObjectURL(_e),Xe(si)}),si.addEventListener("error",Hi=>{URL.revokeObjectURL(_e),Xt(Hi.error||new Error("Could not create thumbnail"))})}),xt=function kt(U){return Si.apply(this,arguments)}(M.data).catch(()=>1);return Promise.all([Ge,xt]).then(Xe=>{let[Xt,si]=Xe;const Hi=this.getProportionalDimensions(Xt,B,Y,si.deg),mi=function Zl(U,M){let B=U.width,Y=U.height;(90===M.deg||270===M.deg)&&(B=U.height,Y=U.width);const _e=document.createElement("canvas");_e.width=B,_e.height=Y;const Ge=_e.getContext("2d");return Ge.translate(B/2,Y/2),M.canvas&&(Ge.rotate(M.rad),Ge.scale(M.scaleX,M.scaleY)),Ge.drawImage(U,-U.width/2,-U.height/2,U.width,U.height),_e}(Xt,si);return function xs(U,M,B){try{U.getContext("2d").getImageData(0,0,1,1)}catch(Y){if(18===Y.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return U.toBlob?new Promise(Y=>{U.toBlob(Y,M,B)}).then(Y=>{if(null===Y)throw new Error("cannot read image, probably an svg with external resources");return Y}):Promise.resolve().then(()=>function et(U,M,B){var Y,_e;const Ge=dt.exec(U),xt=null!=(Y=null!=(_e=M.mimeType)?_e:Ge?.[1])?Y:"plain/text";let Xe;if(null!=Ge?.[2]){const Xt=atob(decodeURIComponent(Ge[3])),si=new Uint8Array(Xt.length);for(let Hi=0;Hi<Xt.length;Hi++)si[Hi]=Xt.charCodeAt(Hi);Xe=[si]}else null!=Ge?.[3]&&(Xe=[decodeURIComponent(Ge[3])]);return B?new File(Xe,M.name||"",{type:xt}):new Blob(Xe,{type:xt})}(U.toDataURL(M,B),{})).then(Y=>{if(null===Y)throw new Error("could not extract blob, probably an old browser");return Y})}(this.resizeImage(mi,Hi.width,Hi.height),this.thumbnailType,80)}).then(Xe=>URL.createObjectURL(Xe))}getProportionalDimensions(M,B,Y,_e){let Ge=M.width/M.height;return(90===_e||270===_e)&&(Ge=M.height/M.width),null!=B?{width:B,height:Math.round(B/Ge)}:null!=Y?{width:Math.round(Y*Ge),height:Y}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/Ge)}}resizeImage(M,B,Y){let _e=function Ea(U){const M=U.width/U.height,B=5e6,Y=4096;let _e=Math.floor(Math.sqrt(B*M)),Ge=Math.floor(B/Math.sqrt(B*M));if(_e>Y&&(_e=Y,Ge=Math.round(_e/M)),Ge>Y&&(Ge=Y,_e=Math.round(M*Ge)),U.width>_e){const xt=document.createElement("canvas");return xt.width=_e,xt.height=Ge,xt.getContext("2d").drawImage(U,0,0,_e,Ge),xt}return U}(M),Ge=Math.ceil(Math.log2(_e.width/B));Ge<1&&(Ge=1);let xt=B*2**(Ge-1),Xe=Y*2**(Ge-1);for(;Ge--;){const si=document.createElement("canvas");si.width=xt,si.height=Xe,si.getContext("2d").drawImage(_e,0,0,xt,Xe),_e=si,xt=Math.round(xt/2),Xe=Math.round(Xe/2)}return _e}setPreviewURL(M,B){this.uppy.setFileState(M,{preview:B})}addToQueue(M){this.queue.push(M),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const M=this.uppy.getFile(this.queue.shift());return M?this.requestThumbnail(M).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(M){return Un(M.type)&&!M.isRemote?this.createThumbnail(M,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(B=>{this.setPreviewURL(M.id,B),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${M.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(M.id),B)}).catch(B=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${M.id}:`,"warning"),this.uppy.log(B,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(M.id),B)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}rd.VERSION="3.1.0";const Zs=function sr(U){if("string"==typeof U){const M=document.querySelectorAll(U);return 0===M.length?null:Array.from(M)}return"object"==typeof U&&Ut(U)?[U]:null},vs=Array.from;function Ss(U){var M,B,Y,_e=2;for(typeof Symbol<"u"&&(B=Symbol.asyncIterator,Y=Symbol.iterator);_e--;){if(B&&null!=(M=U[B]))return M.call(U);if(Y&&null!=(M=U[Y]))return new Oa(M.call(U));B="@@asyncIterator",Y="@@iterator"}throw new TypeError("Object is not async iterable")}function Oa(U){function M(B){if(Object(B)!==B)return Promise.reject(new TypeError(B+" is not an object."));var Y=B.done;return Promise.resolve(B.value).then(function(_e){return{value:_e,done:Y}})}return(Oa=function(Y){this.s=Y,this.n=Y.next}).prototype={s:null,n:null,next:function(){return M(this.n.apply(this.s,arguments))},return:function(Y){var _e=this.s.return;return void 0===_e?Promise.resolve({value:Y,done:!0}):M(_e.apply(this.s,arguments))},throw:function(Y){var _e=this.s.return;return void 0===_e?Promise.reject(Y):M(_e.apply(this.s,arguments))}},new Oa(U)}function Wn(U,M){this.v=U,this.k=M}function Gs(U){var M,B;function Y(Ge,xt){try{var Xe=U[Ge](xt),Xt=Xe.value,si=Xt instanceof Wn;Promise.resolve(si?Xt.v:Xt).then(function(Hi){if(si){var mi="return"===Ge?"return":"next";if(!Xt.k||Hi.done)return Y(mi,Hi);Hi=U[mi](Hi).value}_e(Xe.done?"return":"normal",Hi)},function(Hi){Y("throw",Hi)})}catch(Hi){_e("throw",Hi)}}function _e(Ge,xt){switch(Ge){case"return":M.resolve({value:xt,done:!0});break;case"throw":M.reject(xt);break;default:M.resolve({value:xt,done:!1})}(M=M.next)?Y(M.key,M.arg):B=null}this._invoke=function(Ge,xt){return new Promise(function(Xe,Xt){var si={key:Ge,arg:xt,resolve:Xe,reject:Xt,next:null};B?B=B.next=si:(M=B=si,Y(Ge,xt))})},"function"!=typeof U.return&&(this.return=void 0)}function no(U){return function(){return new Gs(U.apply(this,arguments))}}function Ds(U){return new Wn(U,0)}function ra(U){var M={},B=!1;function Y(_e,Ge){return B=!0,{done:!1,value:new Wn(Ge=new Promise(function(xt){xt(U[_e](Ge))}),1)}}return M[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},M.next=function(_e){return B?(B=!1,_e):Y("next",_e)},"function"==typeof U.throw&&(M.throw=function(_e){if(B)throw B=!1,_e;return Y("throw",_e)}),"function"==typeof U.return&&(M.return=function(_e){return B?(B=!1,_e):Y("return",_e)}),M}function Qn(U,M,B,Y){let{onSuccess:_e}=Y;U.readEntries(Ge=>{const xt=[...M,...Ge];Ge.length?queueMicrotask(()=>{Qn(U,xt,B,{onSuccess:_e})}):_e(xt)},Ge=>{B(Ge),_e(M)})}function La(U,M){return null==U?U:{kind:U.isFile?"file":U.isDirectory?"directory":void 0,name:U.name,getFile:()=>new Promise((B,Y)=>U.file(B,Y)),values:()=>no(function*(){const B=U.createReader(),Y=yield Ds(new Promise(_e=>{Qn(B,[],M,{onSuccess:Ge=>_e(Ge.map(xt=>La(xt,M)))})}));yield*ra(Ss(Y))})(),isSameEntry:void 0}}function kl(U,M,B){try{return void 0===B&&(B=void 0),no(function*(){const Y=()=>`${M}/${U.name}`;if("file"===U.kind){const si=yield Ds(U.getFile());null!=si?(si.relativePath=M?Y():null,yield si):null!=B&&(yield B)}else if("directory"===U.kind){var xt,_e=!1,Ge=!1;try{for(var Xt,Xe=Ss(U.values());_e=!(Xt=yield Ds(Xe.next())).done;_e=!1){const si=Xt.value;yield*ra(Ss(kl(si,M?Y():U.name)))}}catch(si){Ge=!0,xt=si}finally{try{_e&&null!=Xe.return&&(yield Ds(Xe.return()))}finally{if(Ge)throw xt}}}else null!=B&&(yield B)})()}catch(Y){return Promise.reject(Y)}}function ql(){return ql=no(function*(U,M){const B=yield Ds(Promise.all(Array.from(U.items,function(){var Y=(0,O.A)(function*(_e){let xt;return null!=xt||(xt=La("function"==typeof _e.getAsEntry?_e.getAsEntry():_e.webkitGetAsEntry(),M)),{fileSystemHandle:xt,lastResortFile:_e.getAsFile()}});return function(_e){return Y.apply(this,arguments)}}())));for(const{lastResortFile:Y,fileSystemHandle:_e}of B)if(null!=_e)try{yield*ra(Ss(kl(_e,"",Y)))}catch(Ge){null!=Y?yield Y:M(Ge)}else null!=Y&&(yield Y)}),ql.apply(this,arguments)}function wl(U,M){return sl.apply(this,arguments)}function sl(){return sl=(0,O.A)(function*(U,M){var B;const Y=null!=(B=M?.logDropError)?B:Function.prototype;try{const si=[];var xt,_e=!1,Ge=!1;try{for(var Xt,Xe=Ss(function Cl(U,M){return ql.apply(this,arguments)}(U,Y));_e=!(Xt=yield Xe.next()).done;_e=!1)si.push(Xt.value)}catch(Hi){Ge=!0,xt=Hi}finally{try{_e&&null!=Xe.return&&(yield Xe.return())}finally{if(Ge)throw xt}}return si}catch{return function $a(U){const M=vs(U.files);return Promise.resolve(M)}(U)}}),sl.apply(this,arguments)}Gs.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Gs.prototype.next=function(U){return this._invoke("next",U)},Gs.prototype.throw=function(U){return this._invoke("throw",U)},Gs.prototype.return=function(U){return this._invoke("return",U)};var ko=N(233);class Ka extends Error{constructor(M){super(M),this.name="TimeoutError"}}class bo extends Error{constructor(M){super(),this.name="AbortError",this.message=M}}const cs=U=>void 0===globalThis.DOMException?new bo(U):new DOMException(U),Pc=U=>{const M=void 0===U.reason?cs("This operation was aborted."):U.reason;return M instanceof Error?M:cs(M)};var Na,xl=function(U,M,B,Y){if("a"===B&&!Y)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof M?U!==M||!Y:!M.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===B?Y:"a"===B?Y.call(U):Y?Y.value:M.get(U)};Na=new WeakMap;const Fl=class gc{constructor(){Na.set(this,[])}enqueue(M,B){const Y={priority:(B={priority:0,...B}).priority,run:M};if(this.size&&xl(this,Na,"f")[this.size-1].priority>=B.priority)return void xl(this,Na,"f").push(Y);const _e=function Xd(U,M,B){let Y=0,_e=U.length;for(;_e>0;){const Ge=Math.trunc(_e/2);let xt=Y+Ge;B(U[xt],M)<=0?(Y=++xt,_e-=Ge+1):_e=Ge}return Y}(xl(this,Na,"f"),Y,(Ge,xt)=>xt.priority-Ge.priority);xl(this,Na,"f").splice(_e,0,Y)}dequeue(){const M=xl(this,Na,"f").shift();return M?.run}filter(M){return xl(this,Na,"f").filter(B=>B.priority===M.priority).map(B=>B.run)}get size(){return xl(this,Na,"f").length}};var vo,Fs,qs,oa,le,vt,Ae,it,yi,qi,un,Bn,ro,Wr,_r,jn,Wo,xi,Yo,ys,Ro,va,ds,Xa,Br,sa,zr=function(U,M,B,Y,_e){if("m"===Y)throw new TypeError("Private method is not writable");if("a"===Y&&!_e)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof M?U!==M||!_e:!M.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Y?_e.call(U,B):_e?_e.value=B:M.set(U,B),B},Jn=function(U,M,B,Y){if("a"===B&&!Y)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof M?U!==M||!Y:!M.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===B?Y:"a"===B?Y.call(U):Y?Y.value:M.get(U)};class Hs extends Error{}Fs=new WeakMap,qs=new WeakMap,oa=new WeakMap,le=new WeakMap,vt=new WeakMap,Ae=new WeakMap,it=new WeakMap,yi=new WeakMap,qi=new WeakMap,un=new WeakMap,Bn=new WeakMap,ro=new WeakMap,Wr=new WeakMap,_r=new WeakMap,vo=new WeakSet,jn=function(){return Jn(this,qs,"f")||Jn(this,oa,"f")<Jn(this,le,"f")},Wo=function(){return Jn(this,Bn,"f")<Jn(this,ro,"f")},xi=function(){var M;zr(this,Bn,(M=Jn(this,Bn,"f"),--M),"f"),Jn(this,vo,"m",Ro).call(this),this.emit("next")},Yo=function(){Jn(this,vo,"m",ds).call(this),Jn(this,vo,"m",va).call(this),zr(this,yi,void 0,"f")},ys=function(){const M=Date.now();if(void 0===Jn(this,it,"f")){const B=Jn(this,Ae,"f")-M;if(!(B<0))return void 0===Jn(this,yi,"f")&&zr(this,yi,setTimeout(()=>{Jn(this,vo,"m",Yo).call(this)},B),"f"),!0;zr(this,oa,Jn(this,Fs,"f")?Jn(this,Bn,"f"):0,"f")}return!1},Ro=function(){if(0===Jn(this,qi,"f").size)return Jn(this,it,"f")&&clearInterval(Jn(this,it,"f")),zr(this,it,void 0,"f"),this.emit("empty"),0===Jn(this,Bn,"f")&&this.emit("idle"),!1;if(!Jn(this,Wr,"f")){const M=!Jn(this,vo,"a",ys);if(Jn(this,vo,"a",jn)&&Jn(this,vo,"a",Wo)){const B=Jn(this,qi,"f").dequeue();return!!B&&(this.emit("active"),B(),M&&Jn(this,vo,"m",va).call(this),!0)}}return!1},va=function(){Jn(this,qs,"f")||void 0!==Jn(this,it,"f")||(zr(this,it,setInterval(()=>{Jn(this,vo,"m",ds).call(this)},Jn(this,vt,"f")),"f"),zr(this,Ae,Date.now()+Jn(this,vt,"f"),"f"))},ds=function(){0===Jn(this,oa,"f")&&0===Jn(this,Bn,"f")&&Jn(this,it,"f")&&(clearInterval(Jn(this,it,"f")),zr(this,it,void 0,"f")),zr(this,oa,Jn(this,Fs,"f")?Jn(this,Bn,"f"):0,"f"),Jn(this,vo,"m",Xa).call(this)},Xa=function(){for(;Jn(this,vo,"m",Ro).call(this););},Br=function(){var U=(0,O.A)(function*(B){return new Promise((Y,_e)=>{B.addEventListener("abort",()=>{_e(new Hs("The task was aborted."))},{once:!0})})});return function M(B){return U.apply(this,arguments)}}(),sa=function(){var U=(0,O.A)(function*(B,Y){return new Promise(_e=>{const Ge=()=>{Y&&!Y()||(this.off(B,Ge),_e())};this.on(B,Ge)})});return function M(B,Y){return U.apply(this,arguments)}}();const Ya=class Vo extends ko{constructor(M){var B,Y,_e,Ge;if(super(),vo.add(this),Fs.set(this,void 0),qs.set(this,void 0),oa.set(this,0),le.set(this,void 0),vt.set(this,void 0),Ae.set(this,0),it.set(this,void 0),yi.set(this,void 0),qi.set(this,void 0),un.set(this,void 0),Bn.set(this,0),ro.set(this,void 0),Wr.set(this,void 0),_r.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(M={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Fl,...M}).intervalCap&&M.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(Y=null===(B=M.intervalCap)||void 0===B?void 0:B.toString())&&void 0!==Y?Y:""}\` (${typeof M.intervalCap})`);if(void 0===M.interval||!(Number.isFinite(M.interval)&&M.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(Ge=null===(_e=M.interval)||void 0===_e?void 0:_e.toString())&&void 0!==Ge?Ge:""}\` (${typeof M.interval})`);zr(this,Fs,M.carryoverConcurrencyCount,"f"),zr(this,qs,M.intervalCap===Number.POSITIVE_INFINITY||0===M.interval,"f"),zr(this,le,M.intervalCap,"f"),zr(this,vt,M.interval,"f"),zr(this,qi,new M.queueClass,"f"),zr(this,un,M.queueClass,"f"),this.concurrency=M.concurrency,this.timeout=M.timeout,zr(this,_r,!0===M.throwOnTimeout,"f"),zr(this,Wr,!1===M.autoStart,"f")}get concurrency(){return Jn(this,ro,"f")}set concurrency(M){if(!("number"==typeof M&&M>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${M}\` (${typeof M})`);zr(this,ro,M,"f"),Jn(this,vo,"m",Xa).call(this)}add(M,B={}){var Y=this;return(0,O.A)(function*(){return B={timeout:Y.timeout,throwOnTimeout:Jn(Y,_r,"f"),...B},new Promise((_e,Ge)=>{Jn(Y,qi,"f").enqueue((0,O.A)(function*(){var xt,Xe,Xt;zr(Y,Bn,(Xe=Jn(Y,Bn,"f"),++Xe),"f"),zr(Y,oa,(Xt=Jn(Y,oa,"f"),++Xt),"f");try{if(null!==(xt=B.signal)&&void 0!==xt&&xt.aborted)throw new Hs("The task was aborted.");let si=M({signal:B.signal});B.timeout&&(si=function fc(U,M,B,Y){let _e;const Ge=new Promise((xt,Xe)=>{if("number"!=typeof M||1!==Math.sign(M))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${M}\``);if(M!==Number.POSITIVE_INFINITY){if((Y={customTimers:{setTimeout,clearTimeout},...Y}).signal){const{signal:Xt}=Y;Xt.aborted&&Xe(Pc(Xt)),Xt.addEventListener("abort",()=>{Xe(Pc(Xt))})}_e=Y.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof B){try{xt(B())}catch(Hi){Xe(Hi)}return}const si=B instanceof Error?B:new Ka("string"==typeof B?B:`Promise timed out after ${M} milliseconds`);"function"==typeof U.cancel&&U.cancel(),Xe(si)},M),(0,O.A)(function*(){try{xt(yield U)}catch(Xt){Xe(Xt)}finally{Y.customTimers.clearTimeout.call(void 0,_e)}})()}else xt(U)});return Ge.clear=()=>{clearTimeout(_e),_e=void 0},Ge}(Promise.resolve(si),B.timeout)),B.signal&&(si=Promise.race([si,Jn(Y,vo,"m",Br).call(Y,B.signal)]));const Hi=yield si;_e(Hi),Y.emit("completed",Hi)}catch(si){if(si instanceof Ka&&!B.throwOnTimeout)return void _e();Ge(si),Y.emit("error",si)}finally{Jn(Y,vo,"m",xi).call(Y)}}),B),Y.emit("add"),Jn(Y,vo,"m",Ro).call(Y)})})()}addAll(M,B){var Y=this;return(0,O.A)(function*(){return Promise.all(M.map(function(){var _e=(0,O.A)(function*(Ge){return Y.add(Ge,B)});return function(Ge){return _e.apply(this,arguments)}}()))})()}start(){return Jn(this,Wr,"f")?(zr(this,Wr,!1,"f"),Jn(this,vo,"m",Xa).call(this),this):this}pause(){zr(this,Wr,!0,"f")}clear(){zr(this,qi,new(Jn(this,un,"f")),"f")}onEmpty(){var M=this;return(0,O.A)(function*(){0!==Jn(M,qi,"f").size&&(yield Jn(M,vo,"m",sa).call(M,"empty"))})()}onSizeLessThan(M){var B=this;return(0,O.A)(function*(){Jn(B,qi,"f").size<M||(yield Jn(B,vo,"m",sa).call(B,"next",()=>Jn(B,qi,"f").size<M))})()}onIdle(){var M=this;return(0,O.A)(function*(){0===Jn(M,Bn,"f")&&0===Jn(M,qi,"f").size||(yield Jn(M,vo,"m",sa).call(M,"idle"))})()}get size(){return Jn(this,qi,"f").size}sizeBy(M){return Jn(this,qi,"f").filter(M).length}get pending(){return Jn(this,Bn,"f")}get isPaused(){return Jn(this,Wr,"f")}};var rs,Tr,kc,mc,Ol=N(2149),Ne=0,Z=[],G=ye,ce=G.__b,Fe=G.__r,ht=G.diffed,Jt=G.__c,_i=G.unmount,zi=G.__;function on(U,M){G.__h&&G.__h(Tr,U,Ne||M),Ne=0;var B=Tr.__H||(Tr.__H={__:[],__h:[]});return U>=B.__.length&&B.__.push({}),B.__[U]}function Dn(U){return Ne=1,function hn(U,M,B){var Y=on(rs++,2);if(Y.t=U,!Y.__c&&(Y.__=[B?B(M):Go(void 0,M),function(Xe){var Xt=Y.__N?Y.__N[0]:Y.__[0],si=Y.t(Xt,Xe);Xt!==si&&(Y.__N=[si,Y.__[1]],Y.__c.setState({}))}],Y.__c=Tr,!Tr.u)){var _e=function(Xe,Xt,si){if(!Y.__c.__H)return!0;var Hi=Y.__c.__H.__.filter(function(Tn){return!!Tn.__c});if(Hi.every(function(Tn){return!Tn.__N}))return!Ge||Ge.call(this,Xe,Xt,si);var mi=!1;return Hi.forEach(function(Tn){if(Tn.__N){var vn=Tn.__[0];Tn.__=Tn.__N,Tn.__N=void 0,vn!==Tn.__[0]&&(mi=!0)}}),!(!mi&&Y.__c.props===Xe)&&(!Ge||Ge.call(this,Xe,Xt,si))};Tr.u=!0;var Ge=Tr.shouldComponentUpdate,xt=Tr.componentWillUpdate;Tr.componentWillUpdate=function(Xe,Xt,si){if(this.__e){var Hi=Ge;Ge=void 0,_e(Xe,Xt,si),Ge=Hi}xt&&xt.call(this,Xe,Xt,si)},Tr.shouldComponentUpdate=_e}return Y.__N||Y.__}(Go,U)}function nr(U,M){var B=on(rs++,3);!G.__s&&al(B.__H,M)&&(B.__=U,B.i=M,Tr.__H.__h.push(B))}function cr(U){return Ne=5,Eo(function(){return{current:U}},[])}function Eo(U,M){var B=on(rs++,7);return al(B.__H,M)&&(B.__=U(),B.__H=M,B.__h=U),B.__}function jr(U,M){return Ne=8,Eo(function(){return U},M)}function Qa(){for(var U;U=Z.shift();)if(U.__P&&U.__H)try{U.__H.__h.forEach(ar),U.__H.__h.forEach(Aa),U.__H.__h=[]}catch(M){U.__H.__h=[],G.__e(M,U.__v)}}G.__b=function(U){Tr=null,ce&&ce(U)},G.__=function(U,M){U&&M.__k&&M.__k.__m&&(U.__m=M.__k.__m),zi&&zi(U,M)},G.__r=function(U){Fe&&Fe(U),rs=0;var M=(Tr=U.__c).__H;M&&(kc===Tr?(M.__h=[],Tr.__h=[],M.__.forEach(function(B){B.__N&&(B.__=B.__N),B.i=B.__N=void 0})):(M.__h.forEach(ar),M.__h.forEach(Aa),M.__h=[],rs=0)),kc=Tr},G.diffed=function(U){ht&&ht(U);var M=U.__c;M&&M.__H&&(M.__H.__h.length&&(1!==Z.push(M)&&mc===G.requestAnimationFrame||((mc=G.requestAnimationFrame)||pn)(Qa)),M.__H.__.forEach(function(B){B.i&&(B.__H=B.i),B.i=void 0})),kc=Tr=null},G.__c=function(U,M){M.some(function(B){try{B.__h.forEach(ar),B.__h=B.__h.filter(function(Y){return!Y.__||Aa(Y)})}catch(Y){M.some(function(_e){_e.__h&&(_e.__h=[])}),M=[],G.__e(Y,B.__v)}}),Jt&&Jt(U,M)},G.unmount=function(U){_i&&_i(U);var M,B=U.__c;B&&B.__H&&(B.__H.__.forEach(function(Y){try{ar(Y)}catch(_e){M=_e}}),B.__H=void 0,M&&G.__e(M,B.__v))};var Es="function"==typeof requestAnimationFrame;function pn(U){var M,B=function(){clearTimeout(Y),Es&&cancelAnimationFrame(M),setTimeout(U)},Y=setTimeout(B,100);Es&&(M=requestAnimationFrame(B))}function ar(U){var M=Tr,B=U.__c;"function"==typeof B&&(U.__c=void 0,B()),Tr=M}function Aa(U){var M=Tr;U.__c=U.__(),Tr=M}function al(U,M){return!U||U.length!==M.length||M.some(function(B,Y){return B!==U[Y]})}function Go(U,M){return"function"==typeof M?M(U):M}function ll(){return q("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},q("g",{fill:"none","fill-rule":"evenodd"},q("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),q("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),q("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),q("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),q("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),q("path",{d:"M4 4h18v18H4z"})))}function Ba(U){let{pluginName:M,i18n:B,onAuth:Y}=U;const _e="Google Drive"===M;return q("form",{onSubmit:jr(xt=>{xt.preventDefault(),Y()},[Y])},_e?q("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},q(ll,null),B("signInWithGoogle")):q("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},B("authenticateWith",{pluginName:M})))}const Za=U=>{let{pluginName:M,i18n:B,onAuth:Y}=U;return q(Ba,{pluginName:M,i18n:B,onAuth:Y})};function Zn(U){const{loading:M,pluginName:B,pluginIcon:Y,i18n:_e,handleAuth:Ge,renderForm:xt=Za}=U;return q("div",{className:"uppy-Provider-auth"},q("div",{className:"uppy-Provider-authIcon"},Y()),q("div",{className:"uppy-Provider-authTitle"},_e("authenticateWithTitle",{pluginName:B})),q("div",{className:"uppy-Provider-authForm"},xt({pluginName:B,i18n:_e,loading:M,onAuth:Ge})))}function se(U){let{i18n:M,logout:B,username:Y}=U;return q(Le,null,q("span",{className:"uppy-ProviderBrowser-user",key:"username"},Y),q("button",{type:"button",onClick:B,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},M("logOut")))}const Ft=U=>{const{getFolder:M,title:B,isLast:Y}=U;return q(Le,null,q("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:M},B),Y?"":" / ")};function z(U){const{getFolder:M,title:B,breadcrumbsIcon:Y,breadcrumbs:_e}=U;return q("div",{className:"uppy-Provider-breadcrumbs"},q("div",{className:"uppy-Provider-breadcrumbsIcon"},Y),_e.map((Ge,xt)=>q(Ft,{key:Ge.id,getFolder:()=>M(Ge.requestPath,Ge.name),title:0===xt?B:Ge.name,isLast:xt+1===_e.length})))}function we(U){return q(Le,null,U.showBreadcrumbs&&q(z,{getFolder:U.getFolder,breadcrumbs:U.breadcrumbs,breadcrumbsIcon:U.pluginIcon&&U.pluginIcon(),title:U.title}),q(se,{logout:U.logout,username:U.username,i18n:U.i18n}))}var $e=N(8214);function ei(U){return{...U,type:U.mimeType,extension:U.name?(0,$e.A)(U.name).extension:null}}function Bi(){return Bi=Object.assign?Object.assign.bind():function(U){for(var M=1;M<arguments.length;M++){var B=arguments[M];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(U[Y]=B[Y])}return U},Bi.apply(this,arguments)}const mn={position:"relative",width:"100%",minHeight:"100%"},J={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},X=class pe extends We{constructor(M){super(M),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:M}=this.state;M!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(M){let{data:B,rowHeight:Y,renderRow:_e,overscanCount:Ge=10,...xt}=M;const{offset:Xe,height:Xt}=this.state;let si=Math.floor(Xe/Y),Hi=Math.floor(Xt/Y);Ge&&(si=Math.max(0,si-si%Ge),Hi+=Ge);const Tn=B.slice(si,si+Hi+4),vn={...mn,height:B.length*Y},Pn={...J,top:si*Y};return q("div",Bi({onScroll:this.handleScroll},xt),q("div",{role:"presentation",style:vn},q("div",{role:"presentation",style:Pn},Tn.map(_e))))}};var he=N(5762);function ke(U){const{search:M,searchOnInput:B,searchTerm:Y,showButton:_e,inputLabel:Ge,clearSearchLabel:xt,buttonLabel:Xe,clearSearch:Xt,inputClassName:si,buttonCSSClassName:Hi}=U,[mi,Tn]=Dn(Y??""),vn=jr(rr=>{rr.preventDefault(),M(mi)},[M,mi]),Pn=jr(rr=>{const or=rr.target.value;Tn(or),B&&M(or)},[Tn,B,M]),[Sr]=Dn(()=>{const rr=document.createElement("form");return rr.setAttribute("tabindex","-1"),rr.id=(0,he.A)(),rr});return nr(()=>(document.body.appendChild(Sr),Sr.addEventListener("submit",vn),()=>{Sr.removeEventListener("submit",vn),document.body.removeChild(Sr)}),[Sr,vn]),q(Le,null,q("input",{className:`uppy-u-reset ${si}`,type:"search","aria-label":Ge,placeholder:Ge,value:mi,onInput:Pn,form:Sr.id,"data-uppy-super-focusable":!0}),!_e&&q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},q("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!_e&&mi&&q("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":xt,title:xt,onClick:()=>{Tn(""),Xt&&Xt()}},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},q("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),_e&&q("button",{className:`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${Hi}`,type:"submit",form:Sr.id},Xe))}function At(U){let{cancel:M,done:B,i18n:Y,selected:_e}=U;return q("div",{className:"uppy-ProviderBrowser-footer"},q("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:B,type:"button"},Y("selectX",{smart_count:_e})),q("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:M,type:"button"},Y("cancel")))}function pi(){return q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},q("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function Ji(){return q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},q("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function $i(){return q("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},q("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),q("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function Hn(U){const{itemIconString:M}=U;if(null===M)return null;switch(M){case"file":return q(pi,null);case"folder":return q(Ji,null);case"video":return q($i,null);default:{const{alt:B}=U;return q("img",{src:M,alt:B,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}}const Qo=function Ir(U){const{className:M,isDisabled:B,restrictionError:Y,isChecked:_e,title:Ge,itemIconEl:xt,showTitles:Xe,toggleCheckbox:Xt,recordShiftKeyPress:si,id:Hi,children:mi}=U,Tn=It("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":_e});return q("li",{className:M,title:B?Y?.message:void 0},q("input",{type:"checkbox",className:Tn,onChange:Xt,onKeyDown:si,onMouseDown:si,name:"listitem",id:Hi,checked:_e,disabled:B,"data-uppy-super-focusable":!0}),q("label",{htmlFor:Hi,"aria-label":Ge,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},xt,Xe&&Ge,mi))};function ao(U){const{className:M,isDisabled:B,restrictionError:Y,isCheckboxDisabled:_e,isChecked:Ge,toggleCheckbox:xt,recordShiftKeyPress:Xe,type:Xt,id:si,itemIconEl:Hi,title:mi,handleFolderClick:Tn,showTitles:vn,i18n:Pn}=U;return q("li",{className:M,title:B?Y?.message:void 0},_e?null:q("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox "+(Ge?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:xt,onKeyDown:Xe,onMouseDown:Xe,name:"listitem",id:si,checked:Ge,"aria-label":"file"===Xt?null:Pn("allFilesFromFolderNamed",{name:mi}),disabled:B,"data-uppy-super-focusable":!0}),"file"===Xt?q("label",{htmlFor:si,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},q("div",{className:"uppy-ProviderBrowserItem-iconWrap"},Hi),vn&&mi):q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:Tn,"aria-label":Pn("openFolderNamed",{name:mi})},q("div",{className:"uppy-ProviderBrowserItem-iconWrap"},Hi),vn&&mi?q("span",null,mi):Pn("unnamed")))}function Va(){return Va=Object.assign?Object.assign.bind():function(U){for(var M=1;M<arguments.length;M++){var B=arguments[M];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(U[Y]=B[Y])}return U},Va.apply(this,arguments)}function yd(U){const{author:M,getItemIcon:B,isChecked:Y,isDisabled:_e,viewType:Ge}=U,xt=B(),Xe=It("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":Y},{"uppy-ProviderBrowserItem--disabled":_e},{"uppy-ProviderBrowserItem--noPreview":"video"===xt}),Xt=q(Hn,{itemIconString:xt});switch(Ge){case"grid":return q(Qo,Va({},U,{className:Xe,itemIconEl:Xt}));case"list":return q(ao,Va({},U,{className:Xe,itemIconEl:Xt}));case"unsplash":return q(Qo,Va({},U,{className:Xe,itemIconEl:Xt}),q("a",{href:`${M.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},M.name));default:throw new Error(`There is no such type ${Ge}`)}}function _d(U){const{currentSelection:M,uppyFiles:B,viewType:Y,isChecked:_e,toggleCheckbox:Ge,recordShiftKeyPress:xt,showTitles:Xe,i18n:Xt,validateRestrictions:si,getNextFolder:Hi,f:mi}=U;if(mi.isFolder)return yd({showTitles:Xe,viewType:Y,i18n:Xt,id:mi.id,title:mi.name,getItemIcon:()=>mi.icon,isChecked:_e(mi),toggleCheckbox:vn=>Ge(vn,mi),recordShiftKeyPress:xt,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===mi.id,handleFolderClick:()=>Hi(mi)});const Tn=si(ei(mi),[...B,...M]);return yd({id:mi.id,title:mi.name,author:mi.author,getItemIcon:()=>"grid"===Y&&mi.thumbnail?mi.thumbnail:mi.icon,isChecked:_e(mi),toggleCheckbox:vn=>Ge(vn,mi),isCheckboxDisabled:!1,recordShiftKeyPress:xt,showTitles:Xe,viewType:Y,i18n:Xt,type:"file",isDisabled:!!Tn&&!_e(mi),restrictionError:Tn})}const Sh=function bd(U){const{currentSelection:M,folders:B,files:Y,uppyFiles:_e,viewType:Ge,headerComponent:xt,showBreadcrumbs:Xe,isChecked:Xt,toggleCheckbox:si,recordShiftKeyPress:Hi,handleScroll:mi,showTitles:Tn,i18n:vn,validateRestrictions:Pn,isLoading:xr,showSearchFilter:Sr,search:rr,searchTerm:or,clearSearch:Io,searchOnInput:Qr,searchInputLabel:As,clearSearchLabel:Ko,getNextFolder:Ts,cancel:ss,done:aa,noResultsLabel:_a,virtualList:Al}=U,bu=M.length,ah=Eo(()=>[...B,...Y],[B,Y]);return q("div",{className:It("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${Ge}`)},xt&&q("div",{className:"uppy-ProviderBrowser-header"},q("div",{className:It("uppy-ProviderBrowser-headerBar",!Xe&&"uppy-ProviderBrowser-headerBar--simple")},xt)),Sr&&q("div",{class:"uppy-ProviderBrowser-searchFilter"},q(ke,{search:rr,searchTerm:or,clearSearch:Io,inputLabel:As,clearSearchLabel:Ko,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:Qr})),xr?q("div",{className:"uppy-Provider-loading"},q("span",null,"string"==typeof xr?xr:vn("loading"))):B.length||Y.length?q("div",{className:"uppy-ProviderBrowser-body"},Al?q("ul",{className:"uppy-ProviderBrowser-list"},q(X,{data:ah,renderRow:Uc=>q(_d,{currentSelection:M,uppyFiles:_e,viewType:Ge,isChecked:Xt,toggleCheckbox:si,recordShiftKeyPress:Hi,showTitles:Tn,i18n:vn,validateRestrictions:Pn,getNextFolder:Ts,f:Uc}),rowHeight:31})):q("ul",{className:"uppy-ProviderBrowser-list",onScroll:mi,role:"listbox",tabIndex:-1},ah.map(Uc=>q(_d,{currentSelection:M,uppyFiles:_e,viewType:Ge,isChecked:Xt,toggleCheckbox:si,recordShiftKeyPress:Hi,showTitles:Tn,i18n:vn,validateRestrictions:Pn,getNextFolder:Ts,f:Uc})))):q("div",{className:"uppy-Provider-empty"},_a),bu>0&&q(At,{selected:bu,done:aa,cancel:ss,i18n:vn}))};class Jo extends We{componentWillUnmount(){const{onUnmount:M}=this.props;M()}render(){const{children:M}=this.props;return an(M)[0]}}class od{constructor(M,B){this.filterItems=Y=>{const _e=this.plugin.getPluginState();return _e.filterInput&&""!==_e.filterInput?Y.filter(Ge=>-1!==Ge.name.toLowerCase().indexOf(_e.filterInput.toLowerCase())):Y},this.recordShiftKeyPress=Y=>{this.isShiftKeyPressed=Y.shiftKey},this.isChecked=Y=>{const{currentSelection:_e}=this.plugin.getPluginState();return _e.some(Ge=>Ge.id===Y.id)},this.plugin=M,this.provider=B.provider,this.opts=B,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(M){const{scrollHeight:B,scrollTop:Y,offsetHeight:_e}=M.target;return B-(Y+_e)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();const M=this.plugin.uppy.getPlugin("Dashboard");M&&M.hideAllPanels()}handleError(M){var B;const{uppy:Y}=this.plugin,_e=Y.i18n("companionError");Y.log(M.toString()),!M.isAuthError&&"AbortError"!==(null==(B=M.cause)?void 0:B.name)&&Y.info({message:_e,details:M.toString()},"error",5e3)}registerRequestClient(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}getTagFile(M){const B={id:M.id,source:this.plugin.id,name:M.name||M.id,type:M.mimeType,isRemote:!0,data:M,meta:{},body:{fileId:M.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(M.requestPath)}`,body:{fileId:M.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return M.thumbnail&&(B.preview=M.thumbnail),M.author&&(null!=M.author.name&&(B.meta.authorName=String(M.author.name)),M.author.url&&(B.meta.authorUrl=M.author.url)),null!=M.relDirPath&&(B.meta.relativePath=M.relDirPath?`${M.relDirPath}/${B.name}`:null),null!=M.absDirPath&&(B.meta.absolutePath=M.absDirPath?`/${M.absDirPath}/${B.name}`:`/${B.name}`),B}toggleCheckbox(M,B){M.stopPropagation(),M.preventDefault(),M.currentTarget.focus();const{folders:Y,files:_e}=this.plugin.getPluginState(),Ge=this.filterItems(Y.concat(_e));if(this.lastCheckbox&&this.isShiftKeyPressed){const{currentSelection:Xe}=this.plugin.getPluginState(),Xt=Ge.indexOf(this.lastCheckbox),si=Ge.indexOf(B),Hi=Xt<si?Ge.slice(Xt,si+1):Ge.slice(si,Xt+1),mi=[];for(const Tn of Hi){const{uppy:vn}=this.plugin,Pn=vn.validateRestrictions(ei(Tn),[...vn.getFiles(),...mi]);Pn?vn.info({message:Pn.message},"error",vn.opts.infoTimeout):mi.push(Tn)}return void this.plugin.setPluginState({currentSelection:[...new Set([...Xe,...mi])]})}this.lastCheckbox=B;const{currentSelection:xt}=this.plugin.getPluginState();this.isChecked(B)?this.plugin.setPluginState({currentSelection:xt.filter(Xe=>Xe.id!==B.id)}):this.plugin.setPluginState({currentSelection:xt.concat([B])})}setLoading(M){this.plugin.setPluginState({loading:M})}}function Co(U,M){if(!Object.prototype.hasOwnProperty.call(U,M))throw new TypeError("attempted to use private field on non-instance");return U}var vp=0;function qu(U){return"__private_"+vp+++"_"+U}function hu(U,M){return U?`${U}/${M}`:M}function Js(){return q("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},q("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}const vc={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1};var Sl=qu("abortController"),Os=qu("withAbort"),ec=qu("list"),Ll=qu("listFilesAndFolders"),pu=qu("recursivelyListAllFiles");function Ju(U){return yp.apply(this,arguments)}function yp(){return(yp=(0,O.A)(function*(U){var M;null==(M=Co(this,Sl)[Sl])||M.abort();const B=new AbortController;Co(this,Sl)[Sl]=B;const Y=()=>{B.abort(),this.clearSelection()};try{this.plugin.uppy.on("dashboard:close-panel",Y),this.plugin.uppy.on("cancel-all",Y),yield U(B.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",Y),this.plugin.uppy.off("cancel-all",Y),Co(this,Sl)[Sl]=void 0}})).apply(this,arguments)}function eh(U){return tc.apply(this,arguments)}function tc(){return(tc=(0,O.A)(function*(U){let{requestPath:M,absDirPath:B,signal:Y}=U;const{username:_e,nextPagePath:Ge,items:xt}=yield this.provider.list(M,{signal:Y});return this.username=_e||this.username,{items:xt.map(Xe=>({...Xe,absDirPath:B})),nextPagePath:Ge}})).apply(this,arguments)}function th(U){return _p.apply(this,arguments)}function _p(){return(_p=(0,O.A)(function*(U){let{breadcrumbs:M,signal:B}=U;const Y=function rg(U){return U.slice(1).map(M=>M.name).join("/")}(M),{items:_e,nextPagePath:Ge}=yield Co(this,ec)[ec]({requestPath:this.nextPagePath,absDirPath:Y,signal:B});this.nextPagePath=Ge;const xt=[],Xe=[];return _e.forEach(Xt=>{Xt.isFolder?Xe.push(Xt):xt.push(Xt)}),{files:xt,folders:Xe}})).apply(this,arguments)}function uy(U){return fu.apply(this,arguments)}function fu(){return fu=(0,O.A)(function*(U){var M=this;let{requestPath:B,absDirPath:Y,relDirPath:_e,queue:Ge,onFiles:xt,signal:Xe}=U,Xt=B;for(;Xt;){const si=yield Co(this,ec)[ec]({requestPath:Xt,absDirPath:Y,signal:Xe});Xt=si.nextPagePath;const Hi=si.items.filter(vn=>!vn.isFolder),mi=si.items.filter(vn=>vn.isFolder);xt(Hi);const Tn=mi.map(function(){var vn=(0,O.A)(function*(Pn){return Ge.add((0,O.A)(function*(){return Co(M,pu)[pu]({requestPath:Pn.requestPath,absDirPath:hu(Y,Pn.name),relDirPath:hu(_e,Pn.name),queue:Ge,onFiles:xt,signal:Xe})}))});return function(Pn){return vn.apply(this,arguments)}}());yield Promise.all(Tn)}}),fu.apply(this,arguments)}function Dh(U,M){if(!Object.prototype.hasOwnProperty.call(U,M))throw new TypeError("attempted to use private field on non-instance");return U}(class Oc extends od{constructor(M,B){super(M,{...vc,...B}),Object.defineProperty(this,pu,{value:uy}),Object.defineProperty(this,Ll,{value:th}),Object.defineProperty(this,ec,{value:eh}),Object.defineProperty(this,Os,{value:Ju}),Object.defineProperty(this,Sl,{writable:!0,value:void 0}),this.filterQuery=this.filterQuery.bind(this),this.clearFilter=this.clearFilter.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),this.registerRequestClient()}tearDown(){}getFolder(M,B){var Y=this;return(0,O.A)(function*(){Y.setLoading(!0);try{yield Co(Y,Os)[Os](function(){var _e=(0,O.A)(function*(Ge){Y.lastCheckbox=void 0;let{breadcrumbs:xt}=Y.plugin.getPluginState();const Xe=xt.findIndex(Hi=>M===Hi.requestPath);xt=-1!==Xe?xt.slice(0,Xe+1):[...xt,{requestPath:M,name:B}],Y.nextPagePath=M;let Xt=[],si=[];do{const{files:Hi,folders:mi}=yield Co(Y,Ll)[Ll]({breadcrumbs:xt,signal:Ge});Xt=Xt.concat(Hi),si=si.concat(mi),Y.setLoading(Y.plugin.uppy.i18n("loadedXFiles",{numFiles:Xt.length+si.length}))}while(Y.opts.loadAllFiles&&Y.nextPagePath);Y.plugin.setPluginState({folders:si,files:Xt,breadcrumbs:xt,filterInput:""})});return function(Ge){return _e.apply(this,arguments)}}())}catch(_e){if("UserFacingApiError"===_e?.name)return void Y.plugin.uppy.info({message:Y.plugin.uppy.i18n(_e.message)},"warning",5e3);Y.handleError(_e)}finally{Y.setLoading(!1)}})()}getNextFolder(M){this.getFolder(M.requestPath,M.name),this.lastCheckbox=void 0}logout(){var M=this;return(0,O.A)(function*(){try{yield Co(M,Os)[Os](function(){var B=(0,O.A)(function*(Y){const _e=yield M.provider.logout({signal:Y});if(_e.ok){if(!_e.revoked){const xt=M.plugin.uppy.i18n("companionUnauthorizeHint",{provider:M.plugin.title,url:_e.manual_revoke_url});M.plugin.uppy.info(xt,"info",7e3)}M.plugin.setPluginState({authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""})}});return function(Y){return B.apply(this,arguments)}}())}catch(B){M.handleError(B)}})()}filterQuery(M){this.plugin.setPluginState({filterInput:M})}clearFilter(){this.plugin.setPluginState({filterInput:""})}handleAuth(M){var B=this;return(0,O.A)(function*(){try{yield Co(B,Os)[Os](function(){var Y=(0,O.A)(function*(_e){B.setLoading(!0),yield B.provider.login({authFormData:M,signal:_e}),B.plugin.setPluginState({authenticated:!0}),B.preFirstRender()});return function(_e){return Y.apply(this,arguments)}}())}catch(Y){if("UserFacingApiError"===Y.name)return void B.plugin.uppy.info({message:B.plugin.uppy.i18n(Y.message)},"warning",5e3);B.plugin.uppy.log(`login failed: ${Y.message}`)}finally{B.setLoading(!1)}})()}handleScroll(M){var B=this;return(0,O.A)(function*(){if(B.shouldHandleScroll(M)&&B.nextPagePath){B.isHandlingScroll=!0;try{yield Co(B,Os)[Os](function(){var Y=(0,O.A)(function*(_e){const{files:Ge,folders:xt,breadcrumbs:Xe}=B.plugin.getPluginState(),{files:Xt,folders:si}=yield Co(B,Ll)[Ll]({breadcrumbs:Xe,signal:_e}),Hi=Ge.concat(Xt),mi=xt.concat(si);B.plugin.setPluginState({folders:mi,files:Hi})});return function(_e){return Y.apply(this,arguments)}}())}catch(Y){B.handleError(Y)}finally{B.isHandlingScroll=!1}}})()}donePicking(){var M=this;return(0,O.A)(function*(){M.setLoading(!0);try{yield Co(M,Os)[Os](function(){var B=(0,O.A)(function*(Y){const{currentSelection:_e}=M.plugin.getPluginState(),Ge=[],xt=[];for(const Xe of _e){const{requestPath:Xt}=Xe,si=Hi=>({...Hi,relDirPath:Hi.absDirPath.replace(Xe.absDirPath,"").replace(/^\//,"")});if(Xe.isFolder){let Hi=!0,mi=0;const Tn=new Ya({concurrency:6}),vn=xr=>{for(const Sr of xr){const rr=M.getTagFile(Sr),or=(0,Ol.N)(rr,M.plugin.uppy.getID());M.plugin.uppy.checkIfFileAlreadyExists(or)||(xt.push(si(Sr)),mi++,M.setLoading(M.plugin.uppy.i18n("addedNumFiles",{numFiles:mi}))),Hi=!1}};let Pn;yield Co(M,pu)[pu]({requestPath:Xt,absDirPath:hu(Xe.absDirPath,Xe.name),relDirPath:Xe.name,queue:Tn,onFiles:vn,signal:Y}),yield Tn.onIdle(),Pn=Hi?M.plugin.uppy.i18n("emptyFolderAdded"):0===mi?M.plugin.uppy.i18n("folderAlreadyAdded",{folder:Xe.name}):M.plugin.uppy.i18n("folderAdded",{smart_count:mi,folder:Xe.name}),Ge.push(Pn)}else xt.push(si(Xe))}M.plugin.uppy.log("Adding files from a remote provider"),M.plugin.uppy.addFiles(xt.map(Xe=>M.getTagFile(Xe,M.requestClientId))),M.plugin.setPluginState({filterInput:""}),Ge.forEach(Xe=>M.plugin.uppy.info(Xe)),M.clearSelection()});return function(Y){return B.apply(this,arguments)}}())}catch(B){M.handleError(B)}finally{M.setLoading(!1)}})()}render(M,B){var Y=this;void 0===B&&(B={});const{authenticated:_e,didFirstRender:Ge}=this.plugin.getPluginState(),{i18n:xt}=this.plugin.uppy;Ge||this.preFirstRender();const Xe={...this.opts,...B},{files:Xt,folders:si,filterInput:Hi,loading:mi,currentSelection:Tn}=this.plugin.getPluginState(),{isChecked:vn,recordShiftKeyPress:Pn,filterItems:xr}=this,Sr=""!==Hi,rr=this.plugin.icon||Js,or={showBreadcrumbs:Xe.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:rr,title:this.plugin.title,logout:this.logout,username:this.username,i18n:xt},Io={isChecked:vn,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:Pn,currentSelection:Tn,files:Sr?xr(Xt):Xt,folders:Sr?xr(si):si,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:Xe.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:Hi,searchOnInput:!0,searchInputLabel:xt("filter"),clearSearchLabel:xt("resetFilter"),noResultsLabel:xt("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:q(we,or),title:this.plugin.title,viewType:Xe.viewType,showTitles:Xe.showTitles,showBreadcrumbs:Xe.showBreadcrumbs,pluginIcon:rr,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return Y.plugin.uppy.validateRestrictions(...arguments)},isLoading:mi};return q(Jo,{onUnmount:this.clearSelection},!1===_e?q(Zn,{pluginName:this.plugin.title,pluginIcon:rr,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:mi}):q(Sh,Io))}}).VERSION="3.13.0";var Em=0;function Ls(U){return"__private_"+Em+++"_"+U}const Yd={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},og={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};var wd=Ls("updateFilesAndInputMode");function wr(U,M){this.nextPageQuery=U.nextPageQuery,U.items.forEach(B=>{M.push(B)}),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:M,searchTerm:U.searchedFor})}(class hy extends od{constructor(M,B){super(M,{...og,...B}),Object.defineProperty(this,wd,{value:wr}),this.nextPageQuery=null,this.search=this.search.bind(this),this.clearSearch=this.clearSearch.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState(Yd),this.registerRequestClient()}tearDown(){}resetPluginState(){this.plugin.setPluginState(Yd)}search(M){var B=this;return(0,O.A)(function*(){const{searchTerm:Y}=B.plugin.getPluginState();if(!M||M!==Y){B.setLoading(!0);try{const _e=yield B.provider.search(M);Dh(B,wd)[wd](_e,[])}catch(_e){B.handleError(_e)}finally{B.setLoading(!1)}}})()}clearSearch(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}handleScroll(M){var B=this;return(0,O.A)(function*(){const Y=B.nextPageQuery||null;if(B.shouldHandleScroll(M)&&Y){B.isHandlingScroll=!0;try{const{files:_e,searchTerm:Ge}=B.plugin.getPluginState(),xt=yield B.provider.search(Ge,Y);Dh(B,wd)[wd](xt,_e)}catch(_e){B.handleError(_e)}finally{B.isHandlingScroll=!1}}})()}donePicking(){const{currentSelection:M}=this.plugin.getPluginState();this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(M.map(B=>this.getTagFile(B))),this.resetPluginState()}render(M,B){var Y=this;void 0===B&&(B={});const{didFirstRender:_e,isInputMode:Ge,searchTerm:xt}=this.plugin.getPluginState(),{i18n:Xe}=this.plugin.uppy;_e||this.preFirstRender();const Xt={...this.opts,...B},{files:si,folders:Hi,filterInput:mi,loading:Tn,currentSelection:vn}=this.plugin.getPluginState(),{isChecked:Pn,filterItems:xr,recordShiftKeyPress:Sr}=this,rr=""!==mi,or={isChecked:Pn,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:Sr,currentSelection:vn,files:rr?xr(si):si,folders:rr?xr(Hi):Hi,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:Xt.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:xt,searchOnInput:!1,searchInputLabel:Xe("search"),clearSearchLabel:Xe("resetSearch"),noResultsLabel:Xe("noSearchResults"),title:this.plugin.title,viewType:Xt.viewType,showTitles:Xt.showTitles,showFilter:Xt.showFilter,isLoading:Tn,showBreadcrumbs:Xt.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:Xe,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return Y.plugin.uppy.validateRestrictions(...arguments)}};return q(Jo,{onUnmount:this.resetPluginState},Ge?q("div",{className:"uppy-SearchProvider"},q(ke,{search:this.search,inputLabel:Xe("enterTextToSearch"),buttonLabel:Xe("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0})):q(Sh,or))}}).VERSION="3.13.0";var Lc=Number.isNaN||function(M){return"number"==typeof M&&M!=M};function Eh(U,M){return!!(U===M||Lc(U)&&Lc(M))}function Am(U,M){if(U.length!==M.length)return!1;for(var B=0;B<U.length;B++)if(!Eh(U[B],M[B]))return!1;return!0}function Ah(U,M){void 0===M&&(M=Am);var B=null;function Y(){for(var _e=[],Ge=0;Ge<arguments.length;Ge++)_e[Ge]=arguments[Ge];if(B&&B.lastThis===this&&M(_e,B.lastArgs))return B.lastResult;var xt=U.apply(this,_e);return B={lastResult:xt,lastArgs:_e,lastThis:this},xt}return Y.clear=function(){B=null},Y}const gu=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function xd(U,M){if(M){const B=U.querySelector(`[data-uppy-paneltype="${M}"]`);if(B)return B}return U}function Nc(U,M){const B=M[0];B&&(B.focus(),U.preventDefault())}function Nl(U,M,B){const Y=xd(B,M),_e=vs(Y.querySelectorAll(gu)),Ge=_e.indexOf(document.activeElement);!function cf(U){return U.contains(document.activeElement)}(Y)?Nc(U,_e):U.shiftKey&&0===Ge?function bp(U,M){const B=M[M.length-1];B&&(B.focus(),U.preventDefault())}(U,_e):!U.shiftKey&&Ge===_e.length-1&&Nc(U,_e)}var Cp=N(4270);function Th(){const U=document.body;return!!("draggable"in U&&"ondragstart"in U&&"ondrop"in U&&"FormData"in window&&"FileReader"in window)}var uf=N(5784);function mu(U){const M={color:"#838999",icon:q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},q("g",{fill:"#A7AFB7",fillRule:"nonzero"},q("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),q("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!U)return M;const B=U.split("/")[0],Y=U.split("/")[1];return"text"===B?{color:"#5a5e69",icon:q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},q("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}:"image"===B?{color:"#686de0",icon:q("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},q("g",{fill:"#686DE0",fillRule:"evenodd"},q("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),q("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),q("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}:"audio"===B?{color:"#068dbb",icon:q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},q("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}:"video"===B?{color:"#19af67",icon:q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},q("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}:"application"===B&&"pdf"===Y?{color:"#e25149",icon:q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},q("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}:"application"===B&&-1!==["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(Y)?{color:"#00C469",icon:q("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},q("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:M}function wp(U){const{file:M}=U;if(M.preview)return q("img",{className:"uppy-Dashboard-Item-previewImg",alt:M.name,src:M.preview});const{color:B,icon:Y}=mu(M.type);return q("div",{className:"uppy-Dashboard-Item-previewIconWrap"},q("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:B}},Y),q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},q("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const Mh=(U,M)=>("function"==typeof M?M():M).filter(_e=>_e.id===U)[0].name;function cg(U){const{file:M,toggleFileCard:B,i18n:Y,metaFields:_e}=U,{missingRequiredMetaFields:Ge}=M;if(null==Ge||!Ge.length)return null;const xt=Ge.map(Xe=>Mh(Xe,_e)).join(", ");return q("div",{className:"uppy-Dashboard-Item-errorMessage"},Y("missingRequiredMetaFields",{smart_count:Ge.length,fields:xt})," ",q("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>B(!0,M.id)},Y("editFile")))}function Ga(U){const{file:M,i18n:B,toggleFileCard:Y,metaFields:_e,showLinkToFileUploadResult:Ge}=U;return q("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:M.preview?"rgba(255, 255, 255, 0.5)":mu(M.type).color}},Ge&&M.uploadURL&&q("a",{className:"uppy-Dashboard-Item-previewLink",href:M.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":M.meta.name},q("span",{hidden:!0},M.meta.name)),q(wp,{file:M}),q(cg,{file:M,i18n:B,toggleFileCard:Y,metaFields:_e}))}function Qd(U){return U.isUploaded?U.i18n("uploadComplete"):U.error?U.i18n("retryUpload"):U.resumableUploads?U.i18n(U.file.isPaused?"resumeUpload":"pauseUpload"):U.individualCancellation?U.i18n("cancelUpload"):""}function Dd(U){return q("div",{className:"uppy-Dashboard-Item-progress"},q("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Qd(U),title:Qd(U),onClick:()=>function ih(U){if(!U.isUploaded){if(U.error&&!U.hideRetryButton)return void U.uppy.retryUpload(U.file.id);U.resumableUploads&&!U.hidePauseResumeButton?U.uppy.pauseResume(U.file.id):U.individualCancellation&&!U.hideCancelButton&&U.uppy.removeFile(U.file.id)}}(U)},U.children))}function nh(U){let{children:M}=U;return q("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},M)}function Rh(U){let{progress:M}=U;const B=2*Math.PI*15;return q("g",null,q("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),q("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":B,"stroke-dashoffset":B-B/100*M}))}function dg(U){return U.file.progress.uploadStarted?U.isUploaded?q("div",{className:"uppy-Dashboard-Item-progress"},q("div",{className:"uppy-Dashboard-Item-progressIndicator"},q(nh,null,q("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),q("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):U.recoveredState?void 0:U.error&&!U.hideRetryButton?q(Dd,U,q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},q("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),q("path",{d:"M7.9 3H10v2H7.9z"}),q("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),q("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):U.resumableUploads&&!U.hidePauseResumeButton?q(Dd,U,q(nh,null,q(Rh,{progress:U.file.progress.percentage}),U.file.isPaused?q("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):q("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},q("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),q("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):U.resumableUploads||!U.individualCancellation||U.hideCancelButton?q("div",{className:"uppy-Dashboard-Item-progress"},q("div",{className:"uppy-Dashboard-Item-progressIndicator"},q(nh,null,q(Rh,{progress:U.file.progress.percentage})))):q(Dd,U,q(nh,null,q(Rh,{progress:U.file.progress.percentage}),q("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}function vu(U,M){if(0===M)return"";if(U.length<=M)return U;if(M<=4)return`${U.slice(0,M-1)}\u2026`;const B=M-3,Y=Math.ceil(B/2),_e=Math.floor(B/2);return U.slice(0,Y)+"..."+U.slice(-_e)}const pf=U=>{let{file:M,onClick:B}=U;return M.error?q("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":M.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:B,type:"button"},"?"):null};function xp(U){const{file:M}=U;return q("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":M.source},q("div",{className:"uppy-Dashboard-Item-fileName"},(U=>{const{author:M,name:B}=U.file.meta;return q("div",{className:"uppy-Dashboard-Item-name",title:B},vu(B,function Y(){return U.isSingleFile&&U.containerHeight>=350?90:U.containerWidth<=352?35:U.containerWidth<=576?60:M?20:30}()))})(U),q(pf,{file:U.file,onClick:()=>alert(U.file.error)})),q("div",{className:"uppy-Dashboard-Item-status"},(U=>{var M;const{author:B}=U.file.meta,Y=null==(M=U.file.remote)?void 0:M.providerName;return B?q("div",{className:"uppy-Dashboard-Item-author"},q("a",{href:`${B.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},vu(B.name,13)),Y?q(Le,null," \xb7 ",Y," \xb7 "):null):null})(U),(U=>U.file.size&&q("div",{className:"uppy-Dashboard-Item-statusSize"},Kt(U.file.size)))(U),(U=>U.file.isGhost&&q("span",null," \u2022 ",q("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:U.toggleAddFilesPanel},U.i18n("reSelect"))))(U)),q(cg,{file:U.file,i18n:U.i18n,toggleFileCard:U.toggleFileCard,metaFields:U.metaFields}))}function hg(U){let{file:M,uploadInProgressOrComplete:B,metaFields:Y,canEditFile:_e,i18n:Ge,onClick:xt}=U;return!B&&Y&&Y.length>0||!B&&_e(M)?q("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":Ge("editFileWithFilename",{file:M.meta.name}),title:Ge("editFileWithFilename",{file:M.meta.name}),onClick:()=>xt()},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},q("g",{fillRule:"evenodd"},q("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),q("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),q("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function b0(U){let{i18n:M,onClick:B,file:Y}=U;return q("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":M("removeFile",{file:Y.meta.name}),title:M("removeFile",{file:Y.meta.name}),onClick:()=>B()},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},q("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),q("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const Ed=(U,M)=>{(function Sp(U,M){return void 0===M&&(M="Copy the URL below"),new Promise(B=>{const Y=document.createElement("textarea");Y.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),Y.value=U,document.body.appendChild(Y),Y.select();const _e=()=>{document.body.removeChild(Y),window.prompt(M,U),B()};try{return document.execCommand("copy")?(document.body.removeChild(Y),B()):_e()}catch{return document.body.removeChild(Y),_e()}})})(M.file.uploadURL,M.i18n("copyLinkToClipboardFallback")).then(()=>{M.uppy.log("Link copied to clipboard."),M.uppy.info(M.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(M.uppy.log).then(()=>U.target.focus({preventScroll:!0}))};function pg(U){const{i18n:M}=U;return q("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":M("copyLink"),title:M("copyLink"),onClick:B=>Ed(B,U)},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},q("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function fg(U){const{uppy:M,file:B,uploadInProgressOrComplete:Y,canEditFile:_e,metaFields:Ge,showLinkToFileUploadResult:xt,showRemoveButton:Xe,i18n:Xt,toggleFileCard:si,openFileEditor:Hi}=U;return q("div",{className:"uppy-Dashboard-Item-actionWrapper"},q(hg,{i18n:Xt,file:B,uploadInProgressOrComplete:Y,canEditFile:_e,metaFields:Ge,onClick:()=>{Ge&&Ge.length>0?si(!0,B.id):Hi(B)}}),xt&&B.uploadURL?q(pg,{file:B,uppy:M,i18n:Xt}):null,Xe?q(b0,{i18n:Xt,file:B,uppy:M,onClick:()=>M.removeFile(B.id,"removed-by-user")}):null)}class Bl extends We{componentDidMount(){const{file:M}=this.props;M.preview||this.props.handleRequestThumbnail(M)}shouldComponentUpdate(M){return!uf(this.props,M)}componentDidUpdate(){const{file:M}=this.props;M.preview||this.props.handleRequestThumbnail(M)}componentWillUnmount(){const{file:M}=this.props;M.preview||this.props.handleCancelThumbnail(M)}render(){const{file:M}=this.props,B=M.progress.preprocess||M.progress.postprocess,Y=M.progress.uploadComplete&&!B&&!M.error,_e=M.progress.uploadStarted||B,Ge=M.progress.uploadStarted&&!M.progress.uploadComplete||B,xt=M.error||!1,{isGhost:Xe}=M;let Xt=(this.props.individualCancellation||!Ge)&&!Y;return Y&&this.props.showRemoveButtonAfterComplete&&(Xt=!0),q("div",{className:It({"uppy-Dashboard-Item":!0,"is-inprogress":Ge&&!this.props.recoveredState,"is-processing":B,"is-complete":Y,"is-error":!!xt,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":Xe}),id:`uppy_${M.id}`,role:this.props.role},q("div",{className:"uppy-Dashboard-Item-preview"},q(Ga,{file:M,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),q(dg,{uppy:this.props.uppy,file:M,error:xt,isUploaded:Y,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),q("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},q(xp,{file:M,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),q(fg,{file:M,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:Xt,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:_e,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function Ih(U){let{id:M,error:B,i18n:Y,uppy:_e,files:Ge,acquirers:xt,resumableUploads:Xe,hideRetryButton:Xt,hidePauseResumeButton:si,hideCancelButton:Hi,showLinkToFileUploadResult:mi,showRemoveButtonAfterComplete:Tn,isWide:vn,metaFields:Pn,isSingleFile:xr,toggleFileCard:Sr,handleRequestThumbnail:rr,handleCancelThumbnail:or,recoveredState:Io,individualCancellation:Qr,itemsPerRow:As,openFileEditor:Ko,canEditFile:Ts,toggleAddFilesPanel:ss,containerWidth:aa,containerHeight:_a}=U;const Al=1===As?71:200,bu=Eo(()=>{const _c=Object.keys(Ge);return Io&&_c.sort((zc,ba)=>Ge[ba].isGhost-Ge[zc].isGhost),function py(U,M){const B=[];let Y=[];return U.forEach(_e=>{Y.length<M?Y.push(_e):(B.push(Y),Y=[_e])}),Y.length&&B.push(Y),B}(_c,As)},[Ge,As,Io]),ah=Uc=>q("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:Uc[0]},Uc.map(_c=>q(Bl,{key:_c,uppy:_e,id:M,error:B,i18n:Y,acquirers:xt,resumableUploads:Xe,individualCancellation:Qr,hideRetryButton:Xt,hidePauseResumeButton:si,hideCancelButton:Hi,showLinkToFileUploadResult:mi,showRemoveButtonAfterComplete:Tn,isWide:vn,metaFields:Pn,recoveredState:Io,isSingleFile:xr,containerWidth:aa,containerHeight:_a,toggleFileCard:Sr,handleRequestThumbnail:rr,handleCancelThumbnail:or,role:"listitem",openFileEditor:Ko,canEditFile:Ts,toggleAddFilesPanel:ss,file:Ge[_c]})));return xr?q("div",{class:"uppy-Dashboard-files"},ah(bu[0])):q(X,{class:"uppy-Dashboard-files",role:"list",data:bu,renderRow:ah,rowHeight:Al})}let ya;ya=Symbol.for("uppy test: disable unused locale key warning");const Bc=class Vl extends We{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=M=>{this.props.handleInputChange(M),M.target.value=null},this.renderHiddenInput=(M,B)=>q("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:M,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:B}),this.renderHiddenCameraInput=(M,B,Y)=>q("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${M}`,onChange:this.onFileInputChange,capture:B,accept:{photo:"image/*",video:"video/*"}[M],ref:Y}),this.renderMyDeviceAcquirer=()=>q("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},q("div",{className:"uppy-DashboardTab-inner"},q("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},q("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),q("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>q("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},q("div",{className:"uppy-DashboardTab-inner"},q("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},q("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),q("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>q("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},q("div",{className:"uppy-DashboardTab-inner"},q("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},q("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),q("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(M,B)=>q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:B,"data-uppy-super-focusable":0===this.props.acquirers.length},M),this.renderDropPasteBrowseTagline=M=>{const B=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),Y=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),_e=this.props.fileManagerSelectionType,Ge=_e.charAt(0).toUpperCase()+_e.slice(1);return q("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):this.props.i18nArray(M>0?`dropPasteImport${Ge}`:`dropPaste${Ge}`,{browseFiles:B,browseFolders:Y,browse:B}))},this.renderAcquirer=M=>{var B;return q("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":M.id},q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":M.id,"aria-controls":`uppy-DashboardContent-panel--${M.id}`,"aria-selected":(null==(B=this.props.activePickerPanel)?void 0:B.id)===M.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(M.id)},q("div",{className:"uppy-DashboardTab-inner"},M.icon()),q("div",{className:"uppy-DashboardTab-name"},M.name)))},this.renderAcquirers=M=>{const B=[...M],Y=B.splice(M.length-2,M.length);return q(Le,null,B.map(_e=>this.renderAcquirer(_e)),q("span",{role:"presentation",style:{"white-space":"nowrap"}},Y.map(_e=>this.renderAcquirer(_e))))},this.renderSourcesList=(M,B)=>{const{showNativePhotoCameraButton:Y,showNativeVideoCameraButton:_e}=this.props;let Ge=[];const xt="myDevice";B||Ge.push({key:xt,elements:this.renderMyDeviceAcquirer()}),Y&&Ge.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),_e&&Ge.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),Ge.push(...M.map(mi=>({key:mi.id,elements:this.renderAcquirer(mi)}))),1===Ge.length&&Ge[0].key===xt&&(Ge=[]);const Xt=[...Ge],si=Xt.splice(Ge.length-2,Ge.length),Hi=mi=>mi.map(Tn=>{let{key:vn,elements:Pn}=Tn;return q(Le,{key:vn},Pn)});return q(Le,null,this.renderDropPasteBrowseTagline(Ge.length),q("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},Hi(Xt),q("span",{role:"presentation",style:{"white-space":"nowrap"}},Hi(si))))}}[ya](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:M}=this.props,B=q("span",null,q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},q("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),q("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"));return q("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},M("poweredBy",{uppy:B}))}render(){const{showNativePhotoCameraButton:M,showNativeVideoCameraButton:B,nativeCameraFacingMode:Y}=this.props;return q("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,_e=>{this.fileInput=_e}),this.renderHiddenInput(!0,_e=>{this.folderInput=_e}),M&&this.renderHiddenCameraInput("photo",Y,_e=>{this.mobilePhotoFileInput=_e}),B&&this.renderHiddenCameraInput("video",Y,_e=>{this.mobileVideoFileInput=_e}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),q("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&q("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}},yc=U=>q("div",{className:It("uppy-Dashboard-AddFilesPanel",U.className),"data-uppy-panelType":"AddFiles","aria-hidden":!U.showAddFilesPanel},q("div",{className:"uppy-DashboardContent-bar"},q("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},U.i18n("addingMoreFiles")),q("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>U.toggleAddFilesPanel(!1)},U.i18n("back"))),q(Bc,U)),Pr=function Vc(U){const{tagName:M}=U.target;"INPUT"!==M&&"TEXTAREA"!==M?(U.preventDefault(),U.stopPropagation()):U.stopPropagation()},ul=function dl(U){let{activePickerPanel:M,className:B,hideAllPanels:Y,i18n:_e,state:Ge,uppy:xt}=U;return q("div",{className:It("uppy-DashboardContent-panel",B),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${M.id}`,onDragOver:Pr,onDragLeave:Pr,onDrop:Pr,onPaste:Pr},q("div",{className:"uppy-DashboardContent-bar"},q("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},_e("importFrom",{name:M.name})),q("button",{className:"uppy-DashboardContent-back",type:"button",onClick:Y},_e("cancel"))),q("div",{className:"uppy-DashboardContent-panelBody"},xt.getPlugin(M.id).render(Ge)))},gg=function Dp(U){const M=U.files[U.fileCardFor];return q("div",{className:It("uppy-DashboardContent-panel",U.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},q("div",{className:"uppy-DashboardContent-bar"},q("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},U.i18nArray("editing",{file:q("span",{className:"uppy-DashboardContent-titleFile"},M.meta?M.meta.name:M.name)})),q("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>{U.uppy.emit("file-editor:cancel",M),U.closeFileEditor()}},U.i18n("cancel")),q("button",{className:"uppy-DashboardContent-save",type:"button",onClick:U.saveFileEditor},U.i18n("save"))),q("div",{className:"uppy-DashboardContent-panelBody"},U.editors.map(Y=>U.uppy.getPlugin(Y.id).render(U.state))))},zn_STATE_ERROR="error",zn_STATE_WAITING="waiting",zn_STATE_PREPROCESSING="preprocessing",zn_STATE_UPLOADING="uploading",zn_STATE_POSTPROCESSING="postprocessing",zn_STATE_COMPLETE="complete",zn_STATE_PAUSED="paused";function Ha(U){let{files:M,i18n:B,isAllComplete:Y,isAllErrored:_e,isAllPaused:Ge,inProgressNotPausedFiles:xt,newFiles:Xe,processingFiles:Xt}=U;switch(function mg(U,M,B,Y){if(void 0===Y&&(Y={}),U)return zn_STATE_ERROR;if(M)return zn_STATE_COMPLETE;if(B)return zn_STATE_PAUSED;let _e=zn_STATE_WAITING;const Ge=Object.keys(Y);for(let xt=0;xt<Ge.length;xt++){const{progress:Xe}=Y[Ge[xt]];if(Xe.uploadStarted&&!Xe.uploadComplete)return zn_STATE_UPLOADING;Xe.preprocess&&_e!==zn_STATE_UPLOADING&&(_e=zn_STATE_PREPROCESSING),Xe.postprocess&&_e!==zn_STATE_UPLOADING&&_e!==zn_STATE_PREPROCESSING&&(_e=zn_STATE_POSTPROCESSING)}return _e}(_e,Y,Ge,M)){case"uploading":return B("uploadingXFiles",{smart_count:xt.length});case"preprocessing":case"postprocessing":return B("processingXFiles",{smart_count:Xt.length});case"paused":return B("uploadPaused");case"waiting":return B("xFilesSelected",{smart_count:Xe.length});case"complete":return B("uploadComplete");case"error":return B("error")}}const nc=function Ph(U){const{i18n:M,isAllComplete:B,hideCancelButton:Y,maxNumberOfFiles:_e,toggleAddFilesPanel:Ge,uppy:xt}=U;let{allowNewUpload:Xe}=U;return Xe&&_e&&(Xe=U.totalFileCount<U.maxNumberOfFiles),q("div",{className:"uppy-DashboardContent-bar"},B||Y?q("div",null):q("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>xt.cancelAll()},M("cancel")),q("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},q(Ha,U)),Xe?q("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":M("addMoreFiles"),title:M("addMoreFiles"),onClick:()=>Ge(!0)},q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},q("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),q("span",{className:"uppy-DashboardContent-addMoreCaption"},M("addMore"))):q("div",null))};function mb(U){const{computedMetaFields:M,requiredMetaFields:B,updateMeta:Y,form:_e,formState:Ge}=U,xt={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return M.map(Xe=>{const Xt=`uppy-Dashboard-FileCard-input-${Xe.id}`,si=B.includes(Xe.id);return q("fieldset",{key:Xe.id,className:"uppy-Dashboard-FileCard-fieldset"},q("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:Xt},Xe.name),void 0!==Xe.render?Xe.render({value:Ge[Xe.id],onChange:Hi=>Y(Hi,Xe.id),fieldCSSClasses:xt,required:si,form:_e.id},q):q("input",{className:xt.text,id:Xt,form:_e.id,type:Xe.type||"text",required:si,value:Ge[Xe.id],placeholder:Xe.placeholder,onInput:Hi=>Y(Hi.target.value,Xe.id),"data-uppy-super-focusable":!0}))})}function Ep(U){var M;const{files:B,fileCardFor:Y,toggleFileCard:_e,saveFileCard:Ge,metaFields:xt,requiredMetaFields:Xe,openFileEditor:Xt,i18n:si,i18nArray:Hi,className:mi,canEditFile:Tn}=U,Pn=B[Y],xr=null!=(M="function"==typeof xt?xt(B[Y]):xt)?M:[],Sr=Tn(Pn),rr={};xr.forEach(ss=>{var aa;rr[ss.id]=null!=(aa=Pn.meta[ss.id])?aa:""});const[or,Io]=Dn(rr),Qr=jr(ss=>{ss.preventDefault(),Ge(or,Y)},[Ge,or,Y]),Ko=()=>{_e(!1)},[Ts]=Dn(()=>{const ss=document.createElement("form");return ss.setAttribute("tabindex","-1"),ss.id=(0,he.A)(),ss});return nr(()=>(document.body.appendChild(Ts),Ts.addEventListener("submit",Qr),()=>{Ts.removeEventListener("submit",Qr),document.body.removeChild(Ts)}),[Ts,Qr]),q("div",{className:It("uppy-Dashboard-FileCard",mi),"data-uppy-panelType":"FileCard",onDragOver:Pr,onDragLeave:Pr,onDrop:Pr,onPaste:Pr},q("div",{className:"uppy-DashboardContent-bar"},q("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},Hi("editing",{file:q("span",{className:"uppy-DashboardContent-titleFile"},Pn.meta?Pn.meta.name:Pn.name)})),q("button",{className:"uppy-DashboardContent-back",type:"button",form:Ts.id,title:si("finishEditingFile"),onClick:Ko},si("cancel"))),q("div",{className:"uppy-Dashboard-FileCard-inner"},q("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:mu(Pn.type).color}},q(wp,{file:Pn}),Sr&&q("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:ss=>{Qr(ss),Xt(Pn)}},si("editImage"))),q("div",{className:"uppy-Dashboard-FileCard-info"},q(mb,{computedMetaFields:xr,requiredMetaFields:Xe,updateMeta:(ss,aa)=>{Io({...or,[aa]:ss})},form:Ts,formState:or})),q("div",{className:"uppy-Dashboard-FileCard-actions"},q("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:Ts.id},si("saveChanges")),q("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:Ko,form:Ts.id},si("cancel")))))}const kh="uppy-transition-slideDownUp",Ap=function Gl(U){let{children:M}=U;const[B,Y]=Dn(null),[_e,Ge]=Dn(""),xt=cr(),Xe=cr(),Xt=cr();return nr(()=>{const mi=an(M)[0];B!==mi&&(mi&&!B?(Ge(`${kh}-enter`),cancelAnimationFrame(Xt.current),clearTimeout(Xe.current),Xe.current=void 0,Xt.current=requestAnimationFrame(()=>{Ge(`${kh}-enter ${kh}-enter-active`),xt.current=setTimeout(()=>{Ge("")},250)})):B&&!mi&&!Xe.current&&(Ge(`${kh}-leave`),cancelAnimationFrame(Xt.current),clearTimeout(xt.current),xt.current=void 0,Xt.current=requestAnimationFrame(()=>{Ge(`${kh}-leave ${kh}-leave-active`),Xe.current=setTimeout(()=>{Y(null),Ge("")},250)})),Y(mi))},[M,B]),nr(()=>()=>{clearTimeout(xt.current),clearTimeout(Xe.current),cancelAnimationFrame(Xt.current)},[]),B?ri(B,{className:It(_e,B.props.className)}):null};function Zd(){return Zd=Object.assign?Object.assign.bind():function(U){for(var M=1;M<arguments.length;M++){var B=arguments[M];for(var Y in B)Object.prototype.hasOwnProperty.call(B,Y)&&(U[Y]=B[Y])}return U},Zd.apply(this,arguments)}const fy={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function gr(U,M){if(!Object.prototype.hasOwnProperty.call(U,M))throw new TypeError("attempted to use private field on non-instance");return U}var kn=0;function Fo(U){return"__private_"+kn+++"_"+U}const Dl=Ah.default||Ah;function Pm(){const U={};return U.promise=new Promise((M,B)=>{U.resolve=M,U.reject=B}),U}const sh={target:"body",metaFields:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Js,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,doneButtonHandler:void 0,onRequestCloseModal:null};var Gc=Fo("disabledNodes"),sd=Fo("generateLargeThumbnailIfSingleFile"),Oh=Fo("openFileEditorWhenFilesAdded"),El=Fo("attachRenderFunctionToTarget"),yg=Fo("isTargetSupported"),rc=Fo("getAcquirers"),mf=Fo("getProgressIndicators"),Hc=Fo("getEditors"),Rp=Fo("addSpecifiedPluginsFromOptions"),qd=Fo("autoDiscoverPlugins"),Ad=Fo("addSupportedPluginIfNoTarget");(class oc extends St{constructor(M,B){var Y,_e;let xt;xt=B?void 0===B.autoOpen?B.autoOpenFileEditor?"imageEditor":null:B.autoOpen:null,super(M,{...sh,...B,autoOpen:xt}),Y=this,Object.defineProperty(this,Gc,{writable:!0,value:void 0}),this.modalName=`uppy-Dashboard-${(0,he.A)()}`,this.superFocus=function sg(){let U=!1;return Cp((B,Y)=>{const _e=xd(B,Y),Ge=_e.contains(document.activeElement);if(Ge&&U)return;const xt=_e.querySelector("[data-uppy-super-focusable]");if(!Ge||xt)if(xt)xt.focus({preventScroll:!0}),U=!0;else{const Xe=_e.querySelector(gu);Xe?.focus({preventScroll:!0}),U=!1}},260)}(),this.ifFocusedOnUppyRecently=!1,this.removeTarget=Xe=>{const si=this.getPluginState().targets.filter(Hi=>Hi.id!==Xe.id);this.setPluginState({targets:si})},this.addTarget=Xe=>{const Xt=Xe.id||Xe.constructor.name,si=Xe.title||Xt,Hi=Xe.type;if("acquirer"!==Hi&&"progressindicator"!==Hi&&"editor"!==Hi)return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const mi={id:Xt,name:si,type:Hi},vn=this.getPluginState().targets.slice();return vn.push(mi),this.setPluginState({targets:vn}),this.el},this.hideAllPanels=()=>{var Xe;const Xt=this.getPluginState(),si={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};Xt.activePickerPanel===si.activePickerPanel&&Xt.showAddFilesPanel===si.showAddFilesPanel&&Xt.showFileEditor===si.showFileEditor&&Xt.activeOverlayType===si.activeOverlayType||(this.setPluginState(si),this.uppy.emit("dashboard:close-panel",null==(Xe=Xt.activePickerPanel)?void 0:Xe.id))},this.showPanel=Xe=>{const{targets:Xt}=this.getPluginState(),si=Xt.find(Hi=>"acquirer"===Hi.type&&Hi.id===Xe);this.setPluginState({activePickerPanel:si,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",Xe)},this.canEditFile=Xe=>{const{targets:Xt}=this.getPluginState();return gr(this,Hc)[Hc](Xt).some(Hi=>this.uppy.getPlugin(Hi.id).canEditFile(Xe))},this.openFileEditor=Xe=>{const{targets:Xt}=this.getPluginState(),si=gr(this,Hc)[Hc](Xt);this.setPluginState({showFileEditor:!0,fileCardFor:Xe.id||null,activeOverlayType:"FileEditor"}),si.forEach(Hi=>{this.uppy.getPlugin(Hi.id).selectFile(Xe)})},this.closeFileEditor=()=>{const{metaFields:Xe}=this.getPluginState();this.setPluginState(Xe&&Xe.length>0?{showFileEditor:!1,activeOverlayType:"FileCard"}:{showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},this.saveFileEditor=()=>{const{targets:Xe}=this.getPluginState();gr(this,Hc)[Hc](Xe).forEach(si=>{this.uppy.getPlugin(si.id).save()}),this.closeFileEditor()},this.openModal=()=>{const{promise:Xe,resolve:Xt}=Pm();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const si=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",si,!1),Xt()};this.el.addEventListener("animationend",si,!1)}else this.setPluginState({isHidden:!1}),Xt();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),Xe},this.closeModal=Xe=>{var Xt;const si=null==(Xt=Xe?.manualClose)||Xt,{isHidden:Hi,isClosing:mi}=this.getPluginState();if(Hi||mi)return;const{promise:Tn,resolve:vn}=Pm();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const xr=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",xr,!1),vn()};this.el.addEventListener("animationend",xr,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),vn();var Pn;return document.removeEventListener("keydown",this.handleKeyDownInModal),si&&this.opts.browserBackButtonClose&&null!=(Pn=history.state)&&Pn[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),Tn},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=Xe=>{const{capabilities:Xt}=this.uppy.getState();this.uppy.setState({capabilities:{...Xt,darkMode:Xe}})},this.handleSystemDarkModeChange=Xe=>{const Xt=Xe.matches;this.uppy.log("[Dashboard] Dark mode is "+(Xt?"on":"off")),this.setDarkModeCapability(Xt)},this.toggleFileCard=(Xe,Xt)=>{const si=this.uppy.getFile(Xt);this.uppy.emit(Xe?"dashboard:file-edit-start":"dashboard:file-edit-complete",si),this.setPluginState({fileCardFor:Xe?Xt:null,activeOverlayType:Xe?"FileCard":null})},this.toggleAddFilesPanel=Xe=>{this.setPluginState({showAddFilesPanel:Xe,activeOverlayType:Xe?"AddFiles":null})},this.addFiles=Xe=>{const Xt=Xe.map(si=>({source:this.id,name:si.name,type:si.type,data:si,meta:{relativePath:si.relativePath||si.webkitRelativePath||null}}));try{this.uppy.addFiles(Xt)}catch(si){this.uppy.log(si)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(Xe=>{const Xt=Xe[0],{width:si,height:Hi}=Xt.contentRect;this.setPluginState({containerWidth:si,containerHeight:Hi,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const Xe=this.getPluginState();!Xe.areInsidesReadyToBeVisible&&(this.opts.inline||!Xe.isHidden)&&(this.uppy.log("[Dashboard] resize event didn\u2019t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=Xe=>{this.el.contains(Xe.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=Xe=>{var Xt;const Hi=null!=(Xt=gr(this,Gc)[Gc])?Xt:vs(this.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter(mi=>!mi.classList.contains("uppy-Dashboard-close"));for(const mi of Hi)"A"===mi.tagName?mi.setAttribute("aria-disabled",Xe):mi.disabled=Xe;gr(this,Gc)[Gc]=Xe?Hi:null,this.dashboardIsDisabled=Xe},this.updateBrowserHistory=()=>{var Xe;null!=(Xe=history.state)&&Xe[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=Xe=>{var Xt;this.isModalOpen()&&(!Xe.state||!Xe.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(Xt=Xe.state)&&Xt[this.modalName]&&history.back()},this.handleKeyDownInModal=Xe=>{27===Xe.keyCode&&this.requestCloseModal(),9===Xe.keyCode&&Nl(Xe,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=Xe=>{this.uppy.iteratePlugins(si=>{"acquirer"===si.type&&(null==si.handleRootPaste||si.handleRootPaste(Xe))});const Xt=vs(Xe.clipboardData.files);Xt.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(Xt))},this.handleInputChange=Xe=>{Xe.preventDefault();const Xt=vs(Xe.target.files);Xt.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(Xt))},this.handleDragOver=Xe=>{var Xt,si;Xe.preventDefault(),Xe.stopPropagation();const Tn=(()=>{let Pn=!0;return this.uppy.iteratePlugins(xr=>{null!=xr.canHandleRootDrop&&xr.canHandleRootDrop(Xe)&&(Pn=!0)}),Pn})(),vn=(()=>{const{types:Pn}=Xe.dataTransfer;return Pn.some(xr=>"Files"===xr)})();if(!Tn&&!vn||this.opts.disabled||this.opts.disableLocalFiles&&(vn||!Tn)||!this.uppy.getState().allowNewUpload)return Xe.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);Xe.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(Xt=(si=this.opts).onDragOver)||Xt.call(si,Xe)},this.handleDragLeave=Xe=>{var Xt,si;Xe.preventDefault(),Xe.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),null==(Xt=(si=this.opts).onDragLeave)||Xt.call(si,Xe)},this.handleDrop=function(){var Xe=(0,O.A)(function*(Xt){var si,Hi;Xt.preventDefault(),Xt.stopPropagation(),clearTimeout(Y.removeDragOverClassTimeout),Y.setPluginState({isDraggingOver:!1}),Y.uppy.iteratePlugins(Pn=>{"acquirer"===Pn.type&&(null==Pn.handleRootDrop||Pn.handleRootDrop(Xt))});let mi=!1;Y.uppy.log("[Dashboard] Processing dropped files");const vn=yield wl(Xt.dataTransfer,{logDropError:Pn=>{Y.uppy.log(Pn,"error"),mi||(Y.uppy.info(Pn.message,"error"),mi=!0)}});vn.length>0&&(Y.uppy.log("[Dashboard] Files dropped"),Y.addFiles(vn)),null==(si=(Hi=Y.opts).onDrop)||si.call(Hi,Xt)});return function(Xt){return Xe.apply(this,arguments)}}(),this.handleRequestThumbnail=Xe=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",Xe)},this.handleCancelThumbnail=Xe=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",Xe)},this.handleKeyDownInInline=Xe=>{9===Xe.keyCode&&function df(U,M,B){null===M||Nl(U,M,B)}(Xe,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=Xe=>{this.el.contains(document.activeElement)&&this.handlePaste(Xe)},this.handleComplete=Xe=>{let{failed:Xt}=Xe;this.opts.closeAfterFinish&&(null==Xt||!Xt.length)&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,sd,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const Xt=this.uppy.getFiles();if(1===Xt.length){const si=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);si?.setOptions({thumbnailWidth:600});const Hi={...Xt[0],preview:void 0};si?.requestThumbnail(Hi).then(()=>{si?.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,Oh,{writable:!0,value:Xe=>{const Xt=Xe[0],{metaFields:si}=this.getPluginState(),Hi=si&&si.length>0,mi=this.canEditFile(Xt);Hi&&"metaEditor"===this.opts.autoOpen?this.toggleFileCard(!0,Xt.id):mi&&"imageEditor"===this.opts.autoOpen&&this.openFileEditor(Xt)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const Xe=Zs(this.opts.trigger);Xe?Xe.forEach(Xt=>Xt.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",gr(this,Ad)[Ad]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",gr(this,sd)[sd]),this.uppy.on("file-removed",gr(this,sd)[sd]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",gr(this,Oh)[Oh])},this.removeEvents=()=>{const Xe=Zs(this.opts.trigger);!this.opts.inline&&Xe&&Xe.forEach(Xt=>Xt.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",gr(this,Ad)[Ad]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",gr(this,sd)[sd]),this.uppy.off("file-removed",gr(this,sd)[sd]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",gr(this,Oh)[Oh])},this.superFocusOnEachUpdate=()=>{const Xe=this.el.contains(document.activeElement),Xt=document.activeElement===document.body||null===document.activeElement;0===this.uppy.getState().info.length&&(!this.opts.inline||Xe||Xt&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()):this.disableInteractiveElements(!0)},this.saveFileCard=(Xe,Xt)=>{this.uppy.setFileMeta(Xt,Xe),this.toggleFileCard(!1,Xt)},Object.defineProperty(this,El,{writable:!0,value:Xe=>{const Xt=this.uppy.getPlugin(Xe.id);return{...Xe,icon:Xt.icon||this.opts.defaultPickerIcon,render:Xt.render}}}),Object.defineProperty(this,yg,{writable:!0,value:Xe=>{const Xt=this.uppy.getPlugin(Xe.id);return"function"!=typeof Xt.isSupported||Xt.isSupported()}}),Object.defineProperty(this,rc,{writable:!0,value:Dl(Xe=>Xe.filter(Xt=>"acquirer"===Xt.type&&gr(this,yg)[yg](Xt)).map(gr(this,El)[El]))}),Object.defineProperty(this,mf,{writable:!0,value:Dl(Xe=>Xe.filter(Xt=>"progressindicator"===Xt.type).map(gr(this,El)[El]))}),Object.defineProperty(this,Hc,{writable:!0,value:Dl(Xe=>Xe.filter(Xt=>"editor"===Xt.type).map(gr(this,El)[El]))}),this.render=Xe=>{const Xt=this.getPluginState(),{files:si,capabilities:Hi,allowNewUpload:mi}=Xe,{newFiles:Tn,uploadStartedFiles:vn,completeFiles:Pn,erroredFiles:xr,inProgressFiles:Sr,inProgressNotPausedFiles:rr,processingFiles:or,isUploadStarted:Io,isAllComplete:Qr,isAllErrored:As,isAllPaused:Ko}=this.uppy.getObjectOfFilesPerState(),Ts=gr(this,rc)[rc](Xt.targets),ss=gr(this,mf)[mf](Xt.targets),aa=gr(this,Hc)[Hc](Xt.targets);let _a;return _a="auto"===this.opts.theme?Hi.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),function Mp(U){const M=0===U.totalFileCount,B=1===U.totalFileCount,Y=U.containerWidth>576,Ge=It({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":U.disabled,"uppy-Dashboard--animateOpenClose":U.animateOpenClose,"uppy-Dashboard--isClosing":U.isClosing,"uppy-Dashboard--isDraggingOver":U.isDraggingOver,"uppy-Dashboard--modal":!U.inline,"uppy-size--md":U.containerWidth>576,"uppy-size--lg":U.containerWidth>700,"uppy-size--xl":U.containerWidth>900,"uppy-size--height-md":U.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":U.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":U.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":U.singleFileFullScreen&&B&&U.containerHeight>330});let xt=1;U.containerWidth>900?xt=5:U.containerWidth>700?xt=4:U.containerWidth>576&&(xt=3);const Xe=U.showSelectedFiles&&!M,Xt=U.recoveredState?Object.keys(U.recoveredState.files).length:null,si=U.files?Object.keys(U.files).filter(Tn=>U.files[Tn].isGhost).length:null;return q("div",{className:Ge,"data-uppy-theme":U.theme,"data-uppy-num-acquirers":U.acquirers.length,"data-uppy-drag-drop-supported":!U.disableLocalFiles&&Th(),"aria-hidden":U.inline?"false":U.isHidden,"aria-disabled":U.disabled,"aria-label":U.i18n(U.inline?"dashboardTitle":"dashboardWindowTitle"),onPaste:U.handlePaste,onDragOver:U.handleDragOver,onDragLeave:U.handleDragLeave,onDrop:U.handleDrop},q("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:U.handleClickOutside}),q("div",{className:"uppy-Dashboard-inner","aria-modal":!U.inline&&"true",role:U.inline?void 0:"dialog",style:{width:U.inline&&U.width?U.width:"",height:U.inline&&U.height?U.height:""}},U.inline?null:q("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":U.i18n("closeModal"),title:U.i18n("closeModal"),onClick:U.closeModal},q("span",{"aria-hidden":"true"},"\xd7")),q("div",{className:"uppy-Dashboard-innerWrap"},q("div",{className:"uppy-Dashboard-dropFilesHereHint"},U.i18n("dropHint")),Xe&&q(nc,U),Xt&&q("div",{className:"uppy-Dashboard-serviceMsg"},q("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},q("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},q("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),q("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),q("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),q("strong",{className:"uppy-Dashboard-serviceMsg-title"},U.i18n("sessionRestored")),q("div",{className:"uppy-Dashboard-serviceMsg-text"},si>0?U.i18n("recoveredXFiles",{smart_count:si}):U.i18n("recoveredAllFiles"))),Xe?q(Ih,{id:U.id,error:U.error,i18n:U.i18n,uppy:U.uppy,files:U.files,acquirers:U.acquirers,resumableUploads:U.resumableUploads,hideRetryButton:U.hideRetryButton,hidePauseResumeButton:U.hidePauseResumeButton,hideCancelButton:U.hideCancelButton,showLinkToFileUploadResult:U.showLinkToFileUploadResult,showRemoveButtonAfterComplete:U.showRemoveButtonAfterComplete,isWide:U.isWide,metaFields:U.metaFields,toggleFileCard:U.toggleFileCard,handleRequestThumbnail:U.handleRequestThumbnail,handleCancelThumbnail:U.handleCancelThumbnail,recoveredState:U.recoveredState,individualCancellation:U.individualCancellation,openFileEditor:U.openFileEditor,canEditFile:U.canEditFile,toggleAddFilesPanel:U.toggleAddFilesPanel,isSingleFile:B,itemsPerRow:xt}):q(Bc,Zd({},U,{isSizeMD:Y})),q(Ap,null,U.showAddFilesPanel?q(yc,Zd({key:"AddFiles"},U,{isSizeMD:Y})):null),q(Ap,null,U.fileCardFor?q(Ep,Zd({key:"FileCard"},U)):null),q(Ap,null,U.activePickerPanel?q(ul,Zd({key:"Picker"},U)):null),q(Ap,null,U.showFileEditor?q(gg,Zd({key:"Editor"},U)):null),q("div",{className:"uppy-Dashboard-progressindicators"},U.progressindicators.map(Tn=>U.uppy.getPlugin(Tn.id).render(U.state))))))}({state:Xe,isHidden:Xt.isHidden,files:si,newFiles:Tn,uploadStartedFiles:vn,completeFiles:Pn,erroredFiles:xr,inProgressFiles:Sr,inProgressNotPausedFiles:rr,processingFiles:or,isUploadStarted:Io,isAllComplete:Qr,isAllErrored:As,isAllPaused:Ko,totalFileCount:Object.keys(si).length,totalProgress:Xe.totalProgress,allowNewUpload:mi,acquirers:Ts,theme:_a,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:Xt.activePickerPanel,showFileEditor:Xt.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:Xt.isClosing,progressindicators:ss,editors:aa,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:Xe.recoveredState,metaFields:Xt.metaFields,resumableUploads:Hi.resumableUploads||!1,individualCancellation:Hi.individualCancellation,isMobileDevice:Hi.isMobileDevice,fileCardFor:Xt.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:Xt.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:Xt.containerWidth,containerHeight:Xt.containerHeight,areInsidesReadyToBeVisible:Xt.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:Xt.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,Rp,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(Xt=>{const si=this.uppy.getPlugin(Xt);si?si.mount(this,si):this.uppy.log(`[Uppy] Dashboard could not find plugin '${Xt}', make sure to uppy.use() the plugins you are specifying`,"warning")})}}),Object.defineProperty(this,qd,{writable:!0,value:()=>{this.uppy.iteratePlugins(gr(this,Ad)[Ad])}}),Object.defineProperty(this,Ad,{writable:!0,value:Xe=>{var Xt;Xe&&(null==(Xt=Xe.opts)||!Xt.target)&&["acquirer","editor"].includes(Xe.type)&&(this.getPluginState().targets.some(mi=>Xe.id===mi.id)||Xe.mount(this,Xe))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:Xe,closeAfterFinish:Xt}=this.opts;if(Xe&&Xt)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:si,allowMultipleUploadBatches:Hi}=this.uppy.opts;(si||Hi)&&Xt&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:mi}=this.opts;mi&&this.mount(mi,this),this.opts.disableStatusBar||this.uppy.use(mr,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(oe,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(rd,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const Tn=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;var vn;this.uppy.log("[Dashboard] Dark mode is "+(Tn?"on":"off")),this.setDarkModeCapability(Tn),"auto"===this.opts.theme&&(null==(vn=this.darkModeMediaQuery)||vn.addListener(this.handleSystemDarkModeChange)),gr(this,Rp)[Rp](),gr(this,qd)[qd](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const si=this.uppy.getPlugin(`${this.id}:Informer`);si&&this.uppy.removePlugin(si)}if(!this.opts.disableStatusBar){const si=this.uppy.getPlugin(`${this.id}:StatusBar`);si&&this.uppy.removePlugin(si)}if(!this.opts.disableThumbnailGenerator){const si=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);si&&this.uppy.removePlugin(si)}var Xt;(this.opts.plugins||[]).forEach(si=>{const Hi=this.uppy.getPlugin(si);Hi&&Hi.unmount()}),"auto"===this.opts.theme&&(null==(Xt=this.darkModeMediaQuery)||Xt.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=fy,void 0===this.opts.doneButtonHandler&&(this.opts.doneButtonHandler=()=>{this.uppy.clearUploadedFiles(),this.requestCloseModal()}),null!=(_e=this.opts).onRequestCloseModal||(_e.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}}).VERSION="3.9.1";var yu=N(7769);const vf={target:"body",fixed:!1,hideAfterFinish:!0};(class Jd extends St{constructor(M,B){super(M,{...vf,...B}),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator",this.render=this.render.bind(this)}render(M){const B=M.totalProgress||0;return q("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":(0===B||100===B)&&this.opts.hideAfterFinish},q("div",{className:"uppy-ProgressBar-inner",style:{width:`${B}%`}}),q("div",{className:"uppy-ProgressBar-percentage"},B))}install(){const{target:M}=this.opts;M&&this.mount(M,this)}uninstall(){this.unmount()}}).VERSION="3.1.1";const km={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},Td={inputName:"files[]",width:"100%",height:"100%"};class Fr extends St{constructor(M,B){var Y;super(M,{...Td,...B}),Y=this,this.isDragDropSupported=Th(),this.addFiles=_e=>{const Ge=_e.map(xt=>({source:this.id,name:xt.name,type:xt.type,data:xt,meta:{relativePath:xt.relativePath||null}}));try{this.uppy.addFiles(Ge)}catch(xt){this.uppy.log(xt)}},this.onInputChange=_e=>{const Ge=vs(_e.target.files);Ge.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(Ge)),_e.target.value=null},this.handleDragOver=_e=>{var Ge,xt;_e.preventDefault(),_e.stopPropagation();const{types:Xe}=_e.dataTransfer,Xt=Xe.some(Hi=>"Files"===Hi),{allowNewUpload:si}=this.uppy.getState();if(!Xt||!si)return _e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);_e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(Ge=(xt=this.opts).onDragOver)||Ge.call(xt,_e)},this.handleDragLeave=_e=>{var Ge,xt;_e.preventDefault(),_e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),null==(Ge=(xt=this.opts).onDragLeave)||Ge.call(xt,_e)},this.handleDrop=function(){var _e=(0,O.A)(function*(Ge){var xt,Xe;Ge.preventDefault(),Ge.stopPropagation(),clearTimeout(Y.removeDragOverClassTimeout),Y.setPluginState({isDraggingOver:!1});const si=yield wl(Ge.dataTransfer,{logDropError:Hi=>{Y.uppy.log(Hi,"error")}});si.length>0&&(Y.uppy.log("[DragDrop] Files dropped"),Y.addFiles(si)),null==(xt=(Xe=Y.opts).onDrop)||xt.call(Xe,Ge)});return function(Ge){return _e.apply(this,arguments)}}(),this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=km,this.i18nInit()}renderHiddenFileInput(){const{restrictions:M}=this.uppy.opts;return q("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:B=>{this.fileInputRef=B},name:this.opts.inputName,multiple:1!==M.maxNumberOfFiles,accept:M.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return q("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},q("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return q("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:q("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return q("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){return q("button",{type:"button",className:`uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}\n      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}\n    `,style:{width:this.opts.width,height:this.opts.height},onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),q("div",{className:"uppy-DragDrop-inner"},Fr.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:M}=this.opts;this.setPluginState({isDraggingOver:!1}),M&&this.mount(M,this)}uninstall(){this.unmount()}}Fr.VERSION="3.1.1";class Ul{onMount(M,B){this.options={...M,...this.props},this.uppy.use(B,this.options),this.plugin=this.uppy.getPlugin(this.options.id)}handleChanges(M,B){M.uppy&&this.uppy!==M.uppy.previousValue&&void 0!==M.uppy.previousValue&&(this.uninstall(M.uppy.previousValue),this.uppy.use(B,this.options)),this.options={...this.options,...this.props},this.plugin=this.uppy.getPlugin(this.options.id),M.props&&this.props!==M.props.previousValue&&void 0!==M.props.previousValue&&this.plugin.setOptions({...this.options})}uninstall(M=this.uppy){M.removePlugin(this.plugin)}}let Ns=(()=>{class U extends Ul{constructor(B){super(),this.el=B,this.uppy=new yu.A,this.props={}}ngOnInit(){this.onMount({id:"angular:DragDrop",target:this.el.nativeElement},Fr)}ngOnChanges(B){this.handleChanges(B,Fr)}ngOnDestroy(){this.uninstall()}static{this.\u0275fac=function(Y){return new(Y||U)(b.rXU(b.aKT))}}static{this.\u0275cmp=b.VBU({type:U,selectors:[["uppy-drag-drop"]],inputs:{uppy:"uppy",props:"props"},features:[b.Vt3,b.OA$],decls:0,vars:0,template:function(Y,_e){},encapsulation:2,changeDetection:0})}}return U})(),Bh=(()=>{class U{static{this.\u0275fac=function(Y){return new(Y||U)}}static{this.\u0275mod=b.$C({type:U})}static{this.\u0275inj=b.G2t({})}}return U})()},7677:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>O});var b=N(4119);class O{constructor(ye,K){this.uppy=ye,this.opts=K??{}}getPluginState(){const{plugins:ye}=this.uppy.getState();return ye?.[this.id]||{}}setPluginState(ye){const{plugins:K}=this.uppy.getState();this.uppy.setState({plugins:{...K,[this.id]:{...K[this.id],...ye}}})}setOptions(ye){this.opts={...this.opts,...ye},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const ye=new b.A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=ye.translate.bind(ye),this.i18nArray=ye.translateArray.bind(ye),this.setPluginState(void 0)}addTarget(ye){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(ye){}afterUpdate(){}}},7769:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>je});var b=N(467),O=N(4119),E=N(6212),ye=N(5762),K=N(7569);function Ke(Rt,Te){if(!Object.prototype.hasOwnProperty.call(Rt,Te))throw new TypeError("attempted to use private field on non-instance");return Rt}var j=0;function rt(Rt){return"__private_"+j+++"_"+Rt}var ee=rt("callbacks"),Ce=rt("publish");class ve{constructor(){Object.defineProperty(this,Ce,{value:ue}),this.state={},Object.defineProperty(this,ee,{writable:!0,value:new Set})}getState(){return this.state}setState(Te){const bt={...this.state},Gt={...this.state,...Te};this.state=Gt,Ke(this,Ce)[Ce](bt,Gt,Te)}subscribe(Te){return Ke(this,ee)[ee].add(Te),()=>{Ke(this,ee)[ee].delete(Te)}}}function ue(){for(var Rt=arguments.length,Te=new Array(Rt),bt=0;bt<Rt;bt++)Te[bt]=arguments[bt];Ke(this,ee)[ee].forEach(Gt=>{Gt(...Te)})}ve.VERSION="3.2.2";const P=ve;var Be=N(8539),Ct=N(8214),qt=N(2149);function pt(Rt){if(null==Rt&&typeof navigator<"u"&&(Rt=navigator.userAgent),!Rt)return!0;const Te=/Edge\/(\d+\.\d+)/.exec(Rt);if(!Te)return!0;const Gt=Te[1].split(".",2),Pe=parseInt(Gt[0],10),te=parseInt(Gt[1],10);return Pe<15||15===Pe&&te<15063||Pe>18||18===Pe&&te>=18218}function oi(Rt){return Rt<10?`0${Rt}`:Rt.toString()}function q(){const Rt=new Date;return`${oi(Rt.getHours())}:${oi(Rt.getMinutes())}:${oi(Rt.getSeconds())}`}const Ot={debug:()=>{},warn:()=>{},error:function(){for(var Rt=arguments.length,Te=new Array(Rt),bt=0;bt<Rt;bt++)Te[bt]=arguments[bt];return console.error(`[Uppy] [${q()}]`,...Te)}},Oe={debug:function(){for(var Rt=arguments.length,Te=new Array(Rt),bt=0;bt<Rt;bt++)Te[bt]=arguments[bt];return console.debug(`[Uppy] [${q()}]`,...Te)},warn:function(){for(var Rt=arguments.length,Te=new Array(Rt),bt=0;bt<Rt;bt++)Te[bt]=arguments[bt];return console.warn(`[Uppy] [${q()}]`,...Te)},error:function(){for(var Rt=arguments.length,Te=new Array(Rt),bt=0;bt<Rt;bt++)Te[bt]=arguments[bt];return console.error(`[Uppy] [${q()}]`,...Te)}};var Le=N(4936),We=N(8224);const Ye={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Ht extends Error{constructor(Te,bt){var Gt;super(Te),this.isRestriction=!0,this.isUserFacing=null==(Gt=bt?.isUserFacing)||Gt,null!=bt&&bt.file&&(this.file=bt.file)}}class vi{constructor(Te,bt){this.getI18n=bt,this.getOpts=()=>{var Gt;const Pe=Te();if(null!=(null==(Gt=Pe.restrictions)?void 0:Gt.allowedFileTypes)&&!Array.isArray(Pe.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return Pe}}validateAggregateRestrictions(Te,bt){const{maxTotalFileSize:Gt,maxNumberOfFiles:Pe}=this.getOpts().restrictions;if(Pe&&Te.filter(ge=>!ge.isGhost).length+bt.length>Pe)throw new Ht(`${this.getI18n()("youCanOnlyUploadX",{smart_count:Pe})}`);if(Gt){const te=[...Te,...bt].reduce((ge,Re)=>{var Ve;return ge+(null!=(Ve=Re.size)?Ve:0)},0);if(te>Gt)throw new Ht(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Le(Gt),size:Le(te)}))}}validateSingleFile(Te){const{maxFileSize:bt,minFileSize:Gt,allowedFileTypes:Pe}=this.getOpts().restrictions;if(Pe&&!Pe.some(ge=>ge.includes("/")?!!Te.type&&We(Te.type.replace(/;.*?$/,""),ge):!("."!==ge[0]||!Te.extension)&&Te.extension.toLowerCase()===ge.slice(1).toLowerCase())){const ge=Pe.join(", ");throw new Ht(this.getI18n()("youCanOnlyUploadFileTypes",{types:ge}),{file:Te})}if(bt&&null!=Te.size&&Te.size>bt)throw new Ht(this.getI18n()("exceedsSize",{size:Le(bt),file:Te.name}),{file:Te});if(Gt&&null!=Te.size&&Te.size<Gt)throw new Ht(this.getI18n()("inferiorSize",{size:Le(Gt)}),{file:Te})}validate(Te,bt){bt.forEach(Gt=>{this.validateSingleFile(Gt)}),this.validateAggregateRestrictions(Te,bt)}validateMinNumberOfFiles(Te){const{minNumberOfFiles:bt}=this.getOpts().restrictions;if(bt&&Object.keys(Te).length<bt)throw new Ht(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:bt}))}getMissingRequiredMetaFields(Te){const bt=new Ht(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:Te.name})),{requiredMetaFields:Gt}=this.getOpts().restrictions,Pe=[];for(const te of Gt)(!Object.hasOwn(Te.meta,te)||""===Te.meta[te])&&Pe.push(te);return{missingFields:Pe,error:bt}}}const Et={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed"}};let wi,bi;function Ci(Rt,Te){if(!Object.prototype.hasOwnProperty.call(Rt,Te))throw new TypeError("attempted to use private field on non-instance");return Rt}var an=0;function Oi(Rt){return"__private_"+an+++"_"+Rt}const Qt={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var lt=Oi("plugins"),wt=Oi("restricter"),ii=Oi("storeUnsubscribe"),ut=Oi("emitter"),yt=Oi("preProcessors"),Zt=Oi("uploaders"),Tt=Oi("postProcessors"),di=Oi("informAndEmit"),st=Oi("checkRequiredMetaFieldsOnFile"),ri=Oi("checkRequiredMetaFields"),ct=Oi("assertNewUploadAllowed"),Ut=Oi("transformFile"),ft=Oi("startIfAutoProceed"),Wt=Oi("checkAndUpdateFileState"),tt=Oi("addListeners"),Yt=Oi("updateOnlineStatus"),Mi=Oi("requestClientById"),Qi=Oi("createUpload"),tn=Oi("getUpload"),dn=Oi("removeUpload"),gn=Oi("runUpload");wi=Symbol.for("uppy test: getPlugins"),bi=Symbol.for("uppy test: createUpload");class Sn{constructor(Te){Object.defineProperty(this,gn,{value:qe}),Object.defineProperty(this,dn,{value:Pt}),Object.defineProperty(this,tn,{value:xe}),Object.defineProperty(this,Qi,{value:ui}),Object.defineProperty(this,tt,{value:Qe}),Object.defineProperty(this,Wt,{value:Kt}),Object.defineProperty(this,ft,{value:$}),Object.defineProperty(this,Ut,{value:It}),Object.defineProperty(this,ct,{value:jt}),Object.defineProperty(this,ri,{value:mt}),Object.defineProperty(this,st,{value:St}),Object.defineProperty(this,di,{value:Ni}),Object.defineProperty(this,lt,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,wt,{writable:!0,value:void 0}),Object.defineProperty(this,ii,{writable:!0,value:void 0}),Object.defineProperty(this,ut,{writable:!0,value:E()}),Object.defineProperty(this,yt,{writable:!0,value:new Set}),Object.defineProperty(this,Zt,{writable:!0,value:new Set}),Object.defineProperty(this,Tt,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=K((Pe,te)=>{const ge=this.getFile(Pe?.id);if(null==Pe||!ge)return void this.log(`Not setting progress for a file that has been removed: ${Pe?.id}`);if(100===ge.progress.percentage)return void this.log(`Not setting progress for a file that has been already uploaded: ${Pe.id}`);const Re=Number.isFinite(te.bytesTotal)&&te.bytesTotal>0;this.setFileState(Pe.id,{progress:{...ge.progress,bytesUploaded:te.bytesUploaded,bytesTotal:te.bytesTotal,percentage:Re?Math.round(te.bytesUploaded/te.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,Yt,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,Mi,{writable:!0,value:new Map}),this.defaultLocale=Et;const bt={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Ye,meta:{},onBeforeFileAdded:(Pe,te)=>!Object.hasOwn(te,Pe.id),onBeforeUpload:Pe=>Pe,store:new P,logger:Ot,infoTimeout:5e3},Gt={...bt,...Te};this.opts={...Gt,restrictions:{...bt.restrictions,...Te&&Te.restrictions}},Te&&Te.logger&&Te.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):Te&&Te.debug&&(this.opts.logger=Oe),this.log(`Using Core v${Sn.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Qt,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:pt(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),Ci(this,wt)[wt]=new vi(()=>this.opts,()=>this.i18n),Ci(this,ii)[ii]=this.store.subscribe((Pe,te,ge)=>{this.emit("state-update",Pe,te,ge),this.updateAll(te)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),Ci(this,tt)[tt]()}emit(Te){for(var bt=arguments.length,Gt=new Array(bt>1?bt-1:0),Pe=1;Pe<bt;Pe++)Gt[Pe-1]=arguments[Pe];Ci(this,ut)[ut].emit(Te,...Gt)}on(Te,bt){return Ci(this,ut)[ut].on(Te,bt),this}once(Te,bt){return Ci(this,ut)[ut].once(Te,bt),this}off(Te,bt){return Ci(this,ut)[ut].off(Te,bt),this}updateAll(Te){this.iteratePlugins(bt=>{bt.update(Te)})}setState(Te){this.store.setState(Te)}getState(){return this.store.getState()}patchFilesState(Te){const bt=this.getState().files;this.setState({files:{...bt,...Object.fromEntries(Object.entries(Te).map(Gt=>{let[Pe,te]=Gt;return[Pe,{...bt[Pe],...te}]}))}})}setFileState(Te,bt){if(!this.getState().files[Te])throw new Error(`Can\u2019t set state for ${Te} (the file could have been removed)`);this.patchFilesState({[Te]:bt})}i18nInit(){const bt=new O.A([this.defaultLocale,this.opts.locale],{onMissingKey:Gt=>this.log(`Missing i18n string: ${Gt}`,"error")});this.i18n=bt.translate.bind(bt),this.i18nArray=bt.translateArray.bind(bt),this.locale=bt.locale}setOptions(Te){this.opts={...this.opts,...Te,restrictions:{...this.opts.restrictions,...Te?.restrictions}},Te.meta&&this.setMeta(Te.meta),this.i18nInit(),Te.locale&&this.iteratePlugins(bt=>{bt.setOptions(Te)}),this.setState(void 0)}resetProgress(){const Te={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},bt={...this.getState().files},Gt={};Object.keys(bt).forEach(Pe=>{Gt[Pe]={...bt[Pe],progress:{...bt[Pe].progress,...Te}}}),this.setState({files:Gt,...Qt}),this.emit("reset-progress")}clearUploadedFiles(){const{capabilities:Te,currentUploads:bt}=this.getState();if(Object.keys(bt).length>0&&!Te.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Qt,files:{}})}addPreProcessor(Te){Ci(this,yt)[yt].add(Te)}removePreProcessor(Te){return Ci(this,yt)[yt].delete(Te)}addPostProcessor(Te){Ci(this,Tt)[Tt].add(Te)}removePostProcessor(Te){return Ci(this,Tt)[Tt].delete(Te)}addUploader(Te){Ci(this,Zt)[Zt].add(Te)}removeUploader(Te){return Ci(this,Zt)[Zt].delete(Te)}setMeta(Te){const bt={...this.getState().meta,...Te},Gt={...this.getState().files};Object.keys(Gt).forEach(Pe=>{Gt[Pe]={...Gt[Pe],meta:{...Gt[Pe].meta,...Te}}}),this.log("Adding metadata:"),this.log(Te),this.setState({meta:bt,files:Gt})}setFileMeta(Te,bt){const Gt={...this.getState().files};if(!Gt[Te])return void this.log("Was trying to set metadata for a file that has been removed: ",Te);const Pe={...Gt[Te].meta,...bt};Gt[Te]={...Gt[Te],meta:Pe},this.setState({files:Gt})}getFile(Te){return this.getState().files[Te]}getFiles(){const{files:Te}=this.getState();return Object.values(Te)}getFilesByIds(Te){return Te.map(bt=>this.getFile(bt))}getObjectOfFilesPerState(){const{files:Te,totalProgress:bt,error:Gt}=this.getState(),Pe=Object.values(Te),te=[],ge=[],Re=[],Ve=[],zt=[],Ri=[],_t=[],at=[],Se=[];for(const Me of Pe){const{progress:Nt}=Me;!Nt.uploadComplete&&Nt.uploadStarted&&(te.push(Me),Me.isPaused||at.push(Me)),Nt.uploadStarted||ge.push(Me),(Nt.uploadStarted||Nt.preprocess||Nt.postprocess)&&Re.push(Me),Nt.uploadStarted&&Ve.push(Me),Me.isPaused&&zt.push(Me),Nt.uploadComplete&&Ri.push(Me),Me.error&&_t.push(Me),(Nt.preprocess||Nt.postprocess)&&Se.push(Me)}return{newFiles:ge,startedFiles:Re,uploadStartedFiles:Ve,pausedFiles:zt,completeFiles:Ri,erroredFiles:_t,inProgressFiles:te,inProgressNotPausedFiles:at,processingFiles:Se,isUploadStarted:Ve.length>0,isAllComplete:100===bt&&Ri.length===Pe.length&&0===Se.length,isAllErrored:!!Gt&&_t.length===Pe.length,isAllPaused:0!==te.length&&zt.length===te.length,isUploadInProgress:te.length>0,isSomeGhost:Pe.some(Me=>Me.isGhost)}}validateRestrictions(Te,bt){void 0===bt&&(bt=this.getFiles());try{Ci(this,wt)[wt].validate(bt,[Te])}catch(Gt){return Gt}return null}checkIfFileAlreadyExists(Te){const{files:bt}=this.getState();return!(!bt[Te]||bt[Te].isGhost)}addFile(Te){Ci(this,ct)[ct](Te);const{nextFilesState:bt,validFilesToAdd:Gt,errors:Pe}=Ci(this,Wt)[Wt]([Te]),te=Pe.filter(Re=>Re.isRestriction);if(Ci(this,di)[di](te),Pe.length>0)throw Pe[0];this.setState({files:bt});const[ge]=Gt;return this.emit("file-added",ge),this.emit("files-added",Gt),this.log(`Added file: ${ge.name}, ${ge.id}, mime type: ${ge.type}`),Ci(this,ft)[ft](),ge.id}addFiles(Te){Ci(this,ct)[ct]();const{nextFilesState:bt,validFilesToAdd:Gt,errors:Pe}=Ci(this,Wt)[Wt](Te),te=Pe.filter(Re=>Re.isRestriction);Ci(this,di)[di](te);const ge=Pe.filter(Re=>!Re.isRestriction);if(ge.length>0){let Re="Multiple errors occurred while adding files:\n";if(ge.forEach(Ve=>{Re+=`\n * ${Ve.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:ge.length}),details:Re},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(ge,Re);{const Ve=new Error(Re);throw Ve.errors=ge,Ve}}this.setState({files:bt}),Gt.forEach(Re=>{this.emit("file-added",Re)}),this.emit("files-added",Gt),Gt.length>5?this.log(`Added batch of ${Gt.length} files`):Object.values(Gt).forEach(Re=>{this.log(`Added file: ${Re.name}\n id: ${Re.id}\n type: ${Re.type}`)}),Gt.length>0&&Ci(this,ft)[ft]()}removeFiles(Te,bt){const{files:Gt,currentUploads:Pe}=this.getState(),te={...Gt},ge={...Pe},Re=Object.create(null);function Ve(_t){return void 0===Re[_t]}Te.forEach(_t=>{Gt[_t]&&(Re[_t]=Gt[_t],delete te[_t])}),Object.keys(ge).forEach(_t=>{const at=Pe[_t].fileIDs.filter(Ve);if(0===at.length)return void delete ge[_t];const{capabilities:Se}=this.getState();if(at.length!==Pe[_t].fileIDs.length&&!Se.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");ge[_t]={...Pe[_t],fileIDs:at}});const zt={currentUploads:ge,files:te};0===Object.keys(te).length&&(zt.allowNewUpload=!0,zt.error=null,zt.recoveredState=null),this.setState(zt),this.calculateTotalProgress();const Ri=Object.keys(Re);Ri.forEach(_t=>{this.emit("file-removed",Re[_t],bt)}),this.log(Ri.length>5?`Removed ${Ri.length} files`:`Removed files: ${Ri.join(", ")}`)}removeFile(Te,bt){this.removeFiles([Te],bt)}pauseResume(Te){if(!this.getState().capabilities.resumableUploads||this.getFile(Te).progress.uploadComplete)return;const Gt=!this.getFile(Te).isPaused;return this.setFileState(Te,{isPaused:Gt}),this.emit("upload-pause",Te,Gt),Gt}pauseAll(){const Te={...this.getState().files};Object.keys(Te).filter(Gt=>!Te[Gt].progress.uploadComplete&&Te[Gt].progress.uploadStarted).forEach(Gt=>{const Pe={...Te[Gt],isPaused:!0};Te[Gt]=Pe}),this.setState({files:Te}),this.emit("pause-all")}resumeAll(){const Te={...this.getState().files};Object.keys(Te).filter(Gt=>!Te[Gt].progress.uploadComplete&&Te[Gt].progress.uploadStarted).forEach(Gt=>{const Pe={...Te[Gt],isPaused:!1,error:null};Te[Gt]=Pe}),this.setState({files:Te}),this.emit("resume-all")}retryAll(){const Te={...this.getState().files},bt=Object.keys(Te).filter(Pe=>Te[Pe].error);if(bt.forEach(Pe=>{const te={...Te[Pe],isPaused:!1,error:null};Te[Pe]=te}),this.setState({files:Te,error:null}),this.emit("retry-all",bt),0===bt.length)return Promise.resolve({successful:[],failed:[]});const Gt=Ci(this,Qi)[Qi](bt,{forceAllowNewUpload:!0});return Ci(this,gn)[gn](Gt)}cancelAll(Te){let{reason:bt="user"}=void 0===Te?{}:Te;if(this.emit("cancel-all",{reason:bt}),"user"===bt){const{files:Gt}=this.getState(),Pe=Object.keys(Gt);Pe.length&&this.removeFiles(Pe,"cancel-all"),this.setState(Qt)}}retryUpload(Te){this.setFileState(Te,{error:null,isPaused:!1}),this.emit("upload-retry",Te);const bt=Ci(this,Qi)[Qi]([Te],{forceAllowNewUpload:!0});return Ci(this,gn)[gn](bt)}logout(){this.iteratePlugins(Te=>{var bt;null==(bt=Te.provider)||null==bt.logout||bt.logout()})}calculateTotalProgress(){const bt=this.getFiles().filter(zt=>zt.progress.uploadStarted||zt.progress.preprocess||zt.progress.postprocess);if(0===bt.length)return this.emit("progress",0),void this.setState({totalProgress:0});const Gt=bt.filter(zt=>null!=zt.progress.bytesTotal),Pe=bt.filter(zt=>null==zt.progress.bytesTotal);if(0===Gt.length){const zt=100*bt.length,Ri=Pe.reduce((at,Se)=>at+Se.progress.percentage,0),_t=Math.round(Ri/zt*100);return void this.setState({totalProgress:_t})}let te=Gt.reduce((zt,Ri)=>{var _t;return zt+(null!=(_t=Ri.progress.bytesTotal)?_t:0)},0);const ge=te/Gt.length;te+=ge*Pe.length;let Re=0;Gt.forEach(zt=>{Re+=zt.progress.bytesUploaded}),Pe.forEach(zt=>{Re+=ge*(zt.progress.percentage||0)/100});let Ve=0===te?0:Math.round(Re/te*100);Ve>100&&(Ve=100),this.setState({totalProgress:Ve}),this.emit("progress",Ve)}updateOnlineStatus(){var Te;null==(Te=window.navigator.onLine)||Te?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(Te,bt){if("function"!=typeof Te)throw new TypeError(`Expected a plugin class, but got ${null===Te?"null":typeof Te}. Please verify that the plugin was imported and spelled correctly.`);const Gt=new Te(this,bt),Pe=Gt.id;if(!Pe)throw new Error("Your plugin must have an id");if(!Gt.type)throw new Error("Your plugin must have a type");const te=this.getPlugin(Pe);if(te)throw new Error(`Already found a plugin named '${te.id}'. Tried to use: '${Pe}'.\nUppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`);return Te.VERSION&&this.log(`Using ${Pe} v${Te.VERSION}`),Gt.type in Ci(this,lt)[lt]?Ci(this,lt)[lt][Gt.type].push(Gt):Ci(this,lt)[lt][Gt.type]=[Gt],Gt.install(),this.emit("plugin-added",Gt),this}getPlugin(Te){for(const bt of Object.values(Ci(this,lt)[lt])){const Gt=bt.find(Pe=>Pe.id===Te);if(null!=Gt)return Gt}}[wi](Te){return Ci(this,lt)[lt][Te]}iteratePlugins(Te){Object.values(Ci(this,lt)[lt]).flat(1).forEach(Te)}removePlugin(Te){this.log(`Removing plugin ${Te.id}`),this.emit("plugin-remove",Te),Te.uninstall&&Te.uninstall();const bt=Ci(this,lt)[lt][Te.type],Gt=bt.findIndex(ge=>ge.id===Te.id);-1!==Gt&&bt.splice(Gt,1);const te={plugins:{...this.getState().plugins,[Te.id]:void 0}};this.setState(te)}close(Te){let{reason:bt}=void 0===Te?{}:Te;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:bt}),Ci(this,ii)[ii](),this.iteratePlugins(Gt=>{this.removePlugin(Gt)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",Ci(this,Yt)[Yt]),window.removeEventListener("offline",Ci(this,Yt)[Yt]))}hideInfo(){const{info:Te}=this.getState();this.setState({info:Te.slice(1)}),this.emit("info-hidden")}info(Te,bt,Gt){void 0===bt&&(bt="info"),void 0===Gt&&(Gt=3e3);const Pe="object"==typeof Te;this.setState({info:[...this.getState().info,{type:bt,message:Pe?Te.message:Te,details:Pe?Te.details:null}]}),setTimeout(()=>this.hideInfo(),Gt),this.emit("info-visible")}log(Te,bt){const{logger:Gt}=this.opts;switch(bt){case"error":Gt.error(Te);break;case"warning":Gt.warn(Te);break;default:Gt.debug(Te)}}registerRequestClient(Te,bt){Ci(this,Mi)[Mi].set(Te,bt)}getRequestClientForFile(Te){if(!Te.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${Te.id}`);const bt=Ci(this,Mi)[Mi].get(Te.remote.requestClientId);if(null==bt)throw new Error(`requestClientId "${Te.remote.requestClientId}" not registered for file "${Te.id}"`);return bt}restore(Te){return this.log(`Core: attempting to restore upload "${Te}"`),this.getState().currentUploads[Te]?Ci(this,gn)[gn](Te):(Ci(this,dn)[dn](Te),Promise.reject(new Error("Nonexistent upload")))}[bi](){return Ci(this,Qi)[Qi](...arguments)}addResultData(Te,bt){if(!Ci(this,tn)[tn](Te))return void this.log(`Not setting result for an upload that has been removed: ${Te}`);const{currentUploads:Gt}=this.getState(),Pe={...Gt[Te],result:{...Gt[Te].result,...bt}};this.setState({currentUploads:{...Gt,[Te]:Pe}})}upload(){var Te;null!=(Te=Ci(this,lt)[lt].uploader)&&Te.length||this.log("No uploader type plugins are used","warning");let{files:bt}=this.getState();const Gt=this.opts.onBeforeUpload(bt);return!1===Gt?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(Gt&&"object"==typeof Gt&&(bt=Gt,this.setState({files:bt})),Promise.resolve().then(()=>Ci(this,wt)[wt].validateMinNumberOfFiles(bt)).catch(Pe=>{throw Ci(this,di)[di]([Pe]),Pe}).then(()=>{if(!Ci(this,ri)[ri](bt))throw new Ht(this.i18n("missingRequiredMetaField"))}).catch(Pe=>{throw Pe}).then(()=>{const{currentUploads:Pe}=this.getState(),te=Object.values(Pe).flatMap(Ve=>Ve.fileIDs),ge=[];Object.keys(bt).forEach(Ve=>{const zt=this.getFile(Ve);!zt.progress.uploadStarted&&-1===te.indexOf(Ve)&&ge.push(zt.id)});const Re=Ci(this,Qi)[Qi](ge);return Ci(this,gn)[gn](Re)}).catch(Pe=>{throw this.emit("error",Pe),this.log(Pe,"error"),Pe}))}}function Ni(Rt){for(const te of Rt)te.isRestriction?this.emit("restriction-failed",te.file,te):this.emit("error",te,te.file),this.log(te,"warning");const Te=Rt.filter(te=>te.isUserFacing),Gt=Te.slice(0,4),Pe=Te.slice(4);Gt.forEach(te=>{let{message:ge,details:Re=""}=te;this.info({message:ge,details:Re},"error",this.opts.infoTimeout)}),Pe.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:Pe.length})})}function St(Rt){const{missingFields:Te,error:bt}=Ci(this,wt)[wt].getMissingRequiredMetaFields(Rt);return!(Te.length>0&&(this.setFileState(Rt.id,{missingRequiredMetaFields:Te}),this.log(bt.message),this.emit("restriction-failed",Rt,bt),1))}function mt(Rt){let Te=!0;for(const bt of Object.values(Rt))Ci(this,st)[st](bt)||(Te=!1);return Te}function jt(Rt){const{allowNewUpload:Te}=this.getState();if(!1===Te){const bt=new Ht(this.i18n("noMoreFilesAllowed"),{file:Rt});throw Ci(this,di)[di]([bt]),bt}}function It(Rt){const Te=Rt instanceof File?{name:Rt.name,type:Rt.type,size:Rt.size,data:Rt}:Rt,bt=(0,Be.A)(Te),Gt=function Ai(Rt,Te){return Te.name?Te.name:"image"===Rt.split("/")[0]?`${Rt.split("/")[0]}.${Rt.split("/")[1]}`:"noname"}(bt,Te),Pe=(0,Ct.A)(Gt).extension,te=(0,qt.N)(Te,this.getID()),ge=Te.meta||{};ge.name=Gt,ge.type=bt;const Re=Number.isFinite(Te.data.size)?Te.data.size:null;return{source:Te.source||"",id:te,name:Gt,extension:Pe||"",meta:{...this.getState().meta,...ge},type:bt,data:Te.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:Re,uploadComplete:!1,uploadStarted:null},size:Re,isGhost:!1,isRemote:Te.isRemote||!1,remote:Te.remote||"",preview:Te.preview}}function $(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(Rt=>{Rt.isRestriction||this.log(Rt.stack||Rt.message||Rt)})},4))}function Kt(Rt){const{files:Te}=this.getState(),bt={...Te},Gt=[],Pe=[];for(const ge of Rt)try{var te;let Re=Ci(this,Ut)[Ut](ge);const Ve=null==(te=Te[Re.id])?void 0:te.isGhost;Ve&&(Re={...Te[Re.id],isGhost:!1,data:ge.data},this.log(`Replaced the blob in the restored ghost file: ${Re.name}, ${Re.id}`));const zt=this.opts.onBeforeFileAdded(Re,bt);if(!zt&&this.checkIfFileAlreadyExists(Re.id))throw new Ht(this.i18n("noDuplicates",{fileName:Re.name}),{file:ge});if(!1===zt&&!Ve)throw new Ht("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:ge});"object"==typeof zt&&null!==zt&&(Re=zt),Ci(this,wt)[wt].validateSingleFile(Re),bt[Re.id]=Re,Gt.push(Re)}catch(Re){Pe.push(Re)}try{Ci(this,wt)[wt].validateAggregateRestrictions(Object.values(Te),Gt)}catch(ge){return Pe.push(ge),{nextFilesState:Te,validFilesToAdd:[],errors:Pe}}return{nextFilesState:bt,validFilesToAdd:Gt,errors:Pe}}function Qe(){const Rt=(Gt,Pe,te)=>{let ge=Gt.message||"Unknown error";Gt.details&&(ge+=` ${Gt.details}`),this.setState({error:ge}),null!=Pe&&Pe.id in this.getState().files&&this.setFileState(Pe.id,{error:ge,response:te})};this.on("error",Rt),this.on("upload-error",(Gt,Pe,te)=>{if(Rt(Pe,Gt,te),"object"==typeof Pe&&Pe.message){var ge;this.log(Pe.message,"error");const Re=new Error(this.i18n("failedToUpload",{file:null!=(ge=Gt?.name)?ge:""}));Re.isUserFacing=!0,Re.details=Pe.message,Pe.details&&(Re.details+=` ${Pe.details}`),Ci(this,di)[di]([Re])}else Ci(this,di)[di]([Pe])});let Te=null;this.on("upload-stalled",(Gt,Pe)=>{const{message:te}=Gt,ge=Pe.map(Re=>Re.meta.name).join(", ");Te||(this.info({message:te,details:ge},"warning",this.opts.infoTimeout),Te=setTimeout(()=>{Te=null},this.opts.infoTimeout)),this.log(`${te} ${ge}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const bt=Gt=>{const Pe=Gt.filter(ge=>{const Re=null!=ge&&this.getFile(ge.id);return Re||this.log(`Not setting progress for a file that has been removed: ${ge?.id}`),Re}),te=Object.fromEntries(Pe.map(ge=>[ge.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:ge.size}}]));this.patchFilesState(te)};this.on("upload-start",Gt=>{Gt.forEach(Pe=>{this.emit("upload-started",Pe)}),bt(Gt)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(Gt,Pe)=>{if(null==Gt||!this.getFile(Gt.id))return void this.log(`Not setting progress for a file that has been removed: ${Gt?.id}`);const te=this.getFile(Gt.id).progress;this.setFileState(Gt.id,{progress:{...te,postprocess:Ci(this,Tt)[Tt].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:te.bytesTotal},response:Pe,uploadURL:Pe.uploadURL,isPaused:!1}),null==Gt.size&&this.setFileState(Gt.id,{size:Pe.bytesUploaded||te.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(Gt,Pe)=>{null!=Gt&&this.getFile(Gt.id)?this.setFileState(Gt.id,{progress:{...this.getFile(Gt.id).progress,preprocess:Pe}}):this.log(`Not setting progress for a file that has been removed: ${Gt?.id}`)}),this.on("preprocess-complete",Gt=>{if(null==Gt||!this.getFile(Gt.id))return void this.log(`Not setting progress for a file that has been removed: ${Gt?.id}`);const Pe={...this.getState().files};Pe[Gt.id]={...Pe[Gt.id],progress:{...Pe[Gt.id].progress}},delete Pe[Gt.id].progress.preprocess,this.setState({files:Pe})}),this.on("postprocess-progress",(Gt,Pe)=>{null!=Gt&&this.getFile(Gt.id)?this.setFileState(Gt.id,{progress:{...this.getState().files[Gt.id].progress,postprocess:Pe}}):this.log(`Not setting progress for a file that has been removed: ${Gt?.id}`)}),this.on("postprocess-complete",Gt=>{if(null==Gt||!this.getFile(Gt.id))return void this.log(`Not setting progress for a file that has been removed: ${Gt?.id}`);const Pe={...this.getState().files};Pe[Gt.id]={...Pe[Gt.id],progress:{...Pe[Gt.id].progress}},delete Pe[Gt.id].progress.postprocess,this.setState({files:Pe})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",Gt=>{Gt&&Ci(this,st)[st](Gt)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",Ci(this,Yt)[Yt]),window.addEventListener("offline",Ci(this,Yt)[Yt]),setTimeout(Ci(this,Yt)[Yt],3e3))}function ui(Rt,Te){void 0===Te&&(Te={});const{forceAllowNewUpload:bt=!1}=Te,{allowNewUpload:Gt,currentUploads:Pe}=this.getState();if(!Gt&&!bt)throw new Error("Cannot create a new upload: already uploading.");const te=(0,ye.A)();return this.emit("upload",{id:te,fileIDs:Rt}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...Pe,[te]:{fileIDs:Rt,step:0,result:{}}}}),te}function xe(Rt){const{currentUploads:Te}=this.getState();return Te[Rt]}function Pt(Rt){const Te={...this.getState().currentUploads};delete Te[Rt],this.setState({currentUploads:Te})}function qe(Rt){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,b.A)(function*(Rt){const Te=()=>{const{currentUploads:te}=this.getState();return te[Rt]};let bt=Te();const Gt=[...Ci(this,yt)[yt],...Ci(this,Zt)[Zt],...Ci(this,Tt)[Tt]];try{for(let te=bt.step||0;te<Gt.length&&bt;te++){const ge=Gt[te];this.setState({currentUploads:{...this.getState().currentUploads,[Rt]:{...bt,step:te}}});const{fileIDs:Re}=bt;yield ge(Re,Rt),bt=Te()}}catch(te){throw Ci(this,dn)[dn](Rt),te}if(bt){bt.fileIDs.forEach(Ve=>{const zt=this.getFile(Ve);zt&&zt.progress.postprocess&&this.emit("postprocess-complete",zt)});const te=bt.fileIDs.map(Ve=>this.getFile(Ve)),ge=te.filter(Ve=>!Ve.error),Re=te.filter(Ve=>Ve.error);this.addResultData(Rt,{successful:ge,failed:Re,uploadID:Rt}),bt=Te()}let Pe;return bt&&(Pe=bt.result,this.emit("complete",Pe),Ci(this,dn)[dn](Rt)),null==Pe&&this.log(`Not setting result for an upload that has been removed: ${Rt}`),Pe})).apply(this,arguments)}Sn.VERSION="3.13.1";const je=Sn},4119:(Ui,ni,N)=>{"use strict";function b(Ce,ve){if(!Object.prototype.hasOwnProperty.call(Ce,ve))throw new TypeError("attempted to use private field on non-instance");return Ce}N.d(ni,{A:()=>ie});var O=0;function E(Ce){return"__private_"+O+++"_"+Ce}function ye(Ce,ve,ue){const P=[];return Ce.forEach(Be=>"string"!=typeof Be?P.push(Be):ve[Symbol.split](Be).forEach((Ct,qt,pt)=>{""!==Ct&&P.push(Ct),qt<pt.length-1&&P.push(ue)})),P}function K(Ce,ve){const ue=/\$/g;let Be=[Ce];if(null==ve)return Be;for(const Ct of Object.keys(ve))if("_"!==Ct){let qt=ve[Ct];"string"==typeof qt&&(qt=ue[Symbol.replace](qt,"$$$$")),Be=ye(Be,new RegExp(`%\\{${Ct}\\}`,"g"),qt)}return Be}const Ke=Ce=>{throw new Error(`missing string: ${Ce}`)};var j=E("onMissingKey"),rt=E("apply");class ie{constructor(ve,ue){let{onMissingKey:P=Ke}=void 0===ue?{}:ue;Object.defineProperty(this,rt,{value:ee}),Object.defineProperty(this,j,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:Be=>1===Be?0:1},Array.isArray(ve)?ve.forEach(b(this,rt)[rt],this):b(this,rt)[rt](ve),b(this,j)[j]=P}translate(ve,ue){return this.translateArray(ve,ue).join("")}translateArray(ve,ue){let P=this.locale.strings[ve];if(null==P&&(b(this,j)[j](ve),P=ve),"object"==typeof P){if(ue&&typeof ue.smart_count<"u")return K(P[this.locale.pluralize(ue.smart_count)],ue);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof P)throw new Error("string was not a string");return K(P,ue)}}function ee(Ce){if(null==Ce||!Ce.strings)return;const ve=this.locale;Object.assign(this.locale,{strings:{...ve.strings,...Ce.strings},pluralize:Ce.pluralize||ve.pluralize})}},2149:(Ui,ni,N)=>{"use strict";N.d(ni,{N:()=>Ke});var b=N(8539);function E(j){let rt="";return j.replace(/[^A-Z0-9]/gi,ie=>(rt+=`-${function O(j){return j.charCodeAt(0).toString(32)}(ie)}`,"/"))+rt}function Ke(j,rt){if(function K(j){return!(!j.isRemote||!j.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(j.remote.provider)}(j))return j.id;const ie=(0,b.A)(j);return function ye(j,rt){let ie=rt||"uppy";return"string"==typeof j.name&&(ie+=`-${E(j.name.toLowerCase())}`),void 0!==j.type&&(ie+=`-${j.type}`),j.meta&&"string"==typeof j.meta.relativePath&&(ie+=`-${E(j.meta.relativePath.toLowerCase())}`),void 0!==j.data.size&&(ie+=`-${j.data.size}`),void 0!==j.data.lastModified&&(ie+=`-${j.data.lastModified}`),ie}({...j,type:ie},rt)}},8214:(Ui,ni,N)=>{"use strict";function b(O){const E=O.lastIndexOf(".");return-1===E||E===O.length-1?{name:O,extension:void 0}:{name:O.slice(0,E),extension:O.slice(E+1)}}N.d(ni,{A:()=>b})},8539:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>E});var b=N(8214);const O={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function E(ye){var K;if(ye.type)return ye.type;const Ke=ye.name?null==(K=(0,b.A)(ye.name).extension)?void 0:K.toLowerCase():null;return Ke&&Ke in O?O[Ke]:"application/octet-stream"}},9371:(Ui,ni,N)=>{"use strict";N.d(ni,{xs:()=>ky,$V:()=>Fy});var b=N(7705),O=Object.defineProperty,E=Object.defineProperties,ye=Object.getOwnPropertyDescriptor,K=Object.getOwnPropertyDescriptors,Ke=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,ie=(r,o,c)=>o in r?O(r,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[o]=c,ee=(r,o)=>{for(var c in o||(o={}))j.call(o,c)&&ie(r,c,o[c]);if(Ke)for(var c of Ke(o))rt.call(o,c)&&ie(r,c,o[c]);return r},Ce=(r,o)=>E(r,K(o)),ue=(r,o)=>{for(var c in o)O(r,c,{get:o[c],enumerable:!0})},P=(r,o,c,p)=>{for(var R,y=p>1?void 0:p?ye(o,c):o,S=r.length-1;S>=0;S--)(R=r[S])&&(y=(p?R(o,c,y):R(y))||y);return p&&y&&O(o,c,y),y},Be=(r,o)=>(c,p)=>o(c,p,r),Ct={};function qt(r){return null==r||""===r?null:r}function pt(r,o=!1){return null!=r&&(""!==r||o)}function Ai(r){return!pt(r)}function oi(r){return null==r||0===r.length}function q(r){return null!=r&&"function"==typeof r.toString?r.toString():null}function Ot(r){if(void 0===r)return;if(null===r||""===r)return null;if("number"==typeof r)return isNaN(r)?void 0:r;const o=parseInt(r,10);return isNaN(o)?void 0:o}function Oe(r){if(void 0!==r)return null!==r&&""!==r&&("boolean"==typeof r?r:/true/i.test(r))}function Le(r){if(null!=r&&""!==r)return r}function We(r,o){return(r?JSON.stringify(r):null)===(o?JSON.stringify(o):null)}function Ye(r,o,c=!1){const p=null==r,y=null==o;if(r&&r.toNumber&&(r=r.toNumber()),o&&o.toNumber&&(o=o.toNumber()),p&&y)return 0;if(p)return-1;if(y)return 1;function S(R,L){return R>L?1:R<L?-1:0}if("string"!=typeof r||!c)return S(r,o);try{return r.localeCompare(o)}catch{return S(r,o)}}function Ht(r){if(r instanceof Set||r instanceof Map){const o=[];return r.forEach(c=>o.push(c)),o}return Object.values(r)}ue(Ct,{attrToBoolean:()=>Oe,attrToNumber:()=>Ot,attrToString:()=>Le,defaultComparator:()=>Ye,exists:()=>pt,jsonEquals:()=>We,makeNull:()=>qt,missing:()=>Ai,missingOrEmpty:()=>oi,toStringOrNull:()=>q,values:()=>Ht});var Et={};ue(Et,{SKIP_JS_BUILTINS:()=>wi,cloneObject:()=>Ci,deepCloneDefinition:()=>an,getAllValuesInObject:()=>Oi,getValueUsingField:()=>Qt,isNonNullObject:()=>wt,iterateObject:()=>bi,mergeDeep:()=>Cn,removeAllReferences:()=>lt});var wi=new Set(["__proto__","constructor","prototype"]);function bi(r,o){if(null!=r){if(Array.isArray(r)){for(let c=0;c<r.length;c++)o(c.toString(),r[c]);return}for(const[c,p]of Object.entries(r))o(c,p)}}function Ci(r){const o={},c=Object.keys(r);for(let p=0;p<c.length;p++){if(wi.has(c[p]))continue;const y=c[p];o[y]=r[y]}return o}function an(r,o){if(!r)return;const c=r,p={};return Object.keys(c).forEach(y=>{if(o&&o.indexOf(y)>=0||wi.has(y))return;const S=c[y];p[y]=wt(S)&&S.constructor===Object?an(S):S}),p}function Oi(r){if(!r)return[];const o=Object;if("function"==typeof o.values)return o.values(r);const c=[];for(const p in r)r.hasOwnProperty(p)&&r.propertyIsEnumerable(p)&&c.push(r[p]);return c}function Cn(r,o,c=!0,p=!1){pt(o)&&bi(o,(y,S)=>{if(wi.has(y))return;let R=r[y];R!==S&&(p&&null==R&&null!=S&&"object"==typeof S&&S.constructor===Object&&(R={},r[y]=R),wt(S)&&wt(R)&&!Array.isArray(R)?Cn(R,S,c,p):(c||void 0!==S)&&(r[y]=S))})}function Qt(r,o,c){if(!o||!r)return;if(!c)return r[o];const p=o.split(".");let y=r;for(let S=0;S<p.length;S++){if(null==y)return;y=y[p[S]]}return y}function lt(r,o=[],c){Object.keys(r).forEach(R=>{"object"==typeof r[R]&&!o.includes(R)&&(r[R]=void 0)});const p=Object.getPrototypeOf(r),y={};Object.getOwnPropertyNames(p).forEach(R=>{if("function"==typeof p[R]&&!o.includes(R)){const Q=()=>{console.warn((R=>`AG Grid: Grid API function ${R}() cannot be called as the grid has been destroyed.\n    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\n    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${c}`)(R))};y[R]={value:Q,writable:!0}}}),Object.defineProperties(r,y)}function wt(r){return"object"==typeof r&&null!==r}var ii={};ue(ii,{compose:()=>Qi,debounce:()=>tt,doOnce:()=>yt,errorOnce:()=>Tt,executeAfter:()=>Wt,executeInAWhile:()=>ri,executeNextVMTurn:()=>ft,getFunctionName:()=>di,isFunction:()=>st,noop:()=>tn,throttle:()=>Yt,waitUntil:()=>Mi,warnOnce:()=>Zt});var ut={};function yt(r,o){ut[o]||(r(),ut[o]=!0)}function Zt(r){yt(()=>console.warn("AG Grid: "+r),r)}function Tt(r){yt(()=>console.error("AG Grid: "+r),r)}function di(r){if(r.name)return r.name;const o=/function\s+([^\(]+)/.exec(r.toString());return o&&2===o.length?o[1].trim():null}function st(r){return!!(r&&r.constructor&&r.call&&r.apply)}function ri(r){Wt(r,400)}var ct=[],Ut=!1;function ft(r){ct.push(r),!Ut&&(Ut=!0,window.setTimeout(()=>{const o=ct.slice();ct.length=0,Ut=!1,o.forEach(c=>c())},0))}function Wt(r,o=0){r.length>0&&window.setTimeout(()=>r.forEach(c=>c()),o)}function tt(r,o){let c;return function(...p){const y=this;window.clearTimeout(c),c=window.setTimeout(function(){r.apply(y,p)},o)}}function Yt(r,o){let c=0;return function(...p){const S=(new Date).getTime();S-c<o||(c=S,r.apply(this,p))}}function Mi(r,o,c=100,p){const y=(new Date).getTime();let S=null,R=!1;const L=()=>{const Q=(new Date).getTime()-y>c;(r()||Q)&&(o(),R=!0,null!=S&&(window.clearInterval(S),S=null),Q&&p&&console.warn(p))};L(),R||(S=window.setInterval(L,10))}function Qi(...r){return o=>r.reduce((c,p)=>p(c),o)}var tn=()=>{},dn=(r=>(r.CommunityCoreModule="@ag-grid-community/core",r.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",r.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",r.CsvExportModule="@ag-grid-community/csv-export",r.EnterpriseCoreModule="@ag-grid-enterprise/core",r.RowGroupingModule="@ag-grid-enterprise/row-grouping",r.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",r.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",r.MenuModule="@ag-grid-enterprise/menu",r.SetFilterModule="@ag-grid-enterprise/set-filter",r.MultiFilterModule="@ag-grid-enterprise/multi-filter",r.StatusBarModule="@ag-grid-enterprise/status-bar",r.SideBarModule="@ag-grid-enterprise/side-bar",r.RangeSelectionModule="@ag-grid-enterprise/range-selection",r.MasterDetailModule="@ag-grid-enterprise/master-detail",r.RichSelectModule="@ag-grid-enterprise/rich-select",r.GridChartsModule="@ag-grid-enterprise/charts",r.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",r.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",r.ExcelExportModule="@ag-grid-enterprise/excel-export",r.ClipboardModule="@ag-grid-enterprise/clipboard",r.SparklinesModule="@ag-grid-enterprise/sparklines",r.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",r.AngularModule="@ag-grid-community/angular",r.ReactModule="@ag-grid-community/react",r.VueModule="@ag-grid-community/vue",r))(dn||{}),gn=class zs{static register(o){zs.__register(o,!0,void 0)}static registerModules(o){zs.__registerModules(o,!0,void 0)}static __register(o,c,p){zs.runVersionChecks(o),void 0!==p?(zs.areGridScopedModules=!0,void 0===zs.gridModulesMap[p]&&(zs.gridModulesMap[p]={}),zs.gridModulesMap[p][o.moduleName]=o):zs.globalModulesMap[o.moduleName]=o,zs.setModuleBased(c)}static __unRegisterGridModules(o){delete zs.gridModulesMap[o]}static __registerModules(o,c,p){zs.setModuleBased(c),o&&o.forEach(y=>zs.__register(y,c,p))}static isValidModuleVersion(o){const[c,p]=o.version.split(".")||[],[y,S]=zs.currentModuleVersion.split(".")||[];return c===y&&p===S}static runVersionChecks(o){if(zs.currentModuleVersion||(zs.currentModuleVersion=o.version),o.version?zs.isValidModuleVersion(o)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${o.moduleName}' is version ${o.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${o.moduleName}' is incompatible. Please update all modules to the same version.`),o.validate){const c=o.validate();c.isValid||console.error(`AG Grid: ${c.message}`)}}static setModuleBased(o){void 0===zs.moduleBased?zs.moduleBased=o:zs.moduleBased!==o&&yt(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){zs.isBundled=!0}static __assertRegistered(o,c,p){var y;if(this.__isRegistered(o,p))return!0;const S=c+o;let R;if(zs.isBundled)R=`AG Grid: unable to use ${c} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(zs.moduleBased||void 0===zs.moduleBased){let L=null==(y=Object.entries(dn).find(([Q,be])=>be===o))?void 0:y[0];R=`AG Grid: unable to use ${c} as the ${L} is not registered${zs.areGridScopedModules?` for gridId: ${p}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${L} } from '${o}';\n    \n    ModuleRegistry.registerModules([ ${L} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else R=`AG Grid: unable to use ${c} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return yt(()=>{console.warn(R)},S),!1}static __isRegistered(o,c){var p;return!!zs.globalModulesMap[o]||!(null==(p=zs.gridModulesMap[c])||!p[o])}static __getRegisteredModules(o){return[...Ht(zs.globalModulesMap),...Ht(zs.gridModulesMap[o]||{})]}static __getGridRegisteredModules(o){var c;return Ht(null!=(c=zs.gridModulesMap[o])?c:{})||[]}static __isPackageBased(){return!zs.moduleBased}};gn.globalModulesMap={},gn.gridModulesMap={},gn.areGridScopedModules=!1;var Sn=gn;function St(r,o,c){const p=xe(r.constructor);p.preConstructMethods||(p.preConstructMethods=[]),p.preConstructMethods.push(o)}function mt(r,o,c){const p=xe(r.constructor);p.postConstructMethods||(p.postConstructMethods=[]),p.postConstructMethods.push(o)}function jt(r,o,c){const p=xe(r.constructor);p.preDestroyMethods||(p.preDestroyMethods=[]),p.preDestroyMethods.push(o)}function It(r){return o=>{xe(o).beanName=r}}function $(r){return(o,c,p)=>{Qe(o,r,!1,0,c,null)}}function Kt(r){return(o,c,p)=>{Qe(o,r,!0,0,c,null)}}function Qe(r,o,c,p,y,S){if(null===o)return void console.error("AG Grid: Autowired name should not be null");if("number"==typeof S)return void console.error("AG Grid: Autowired should be on an attribute");const R=xe(r.constructor);R.agClassAttributes||(R.agClassAttributes=[]),R.agClassAttributes.push({attributeName:y,beanName:o,optional:c})}function ui(r){return(o,c,p)=>{const y="function"==typeof o?o:o.constructor;let S;if("number"==typeof p){let R;c?(S=xe(y),R=c):(S=xe(y),R="agConstructor"),S.autowireMethods||(S.autowireMethods={}),S.autowireMethods[R]||(S.autowireMethods[R]={}),S.autowireMethods[R][p]=r}}}function xe(r){return r.hasOwnProperty("__agBeanMetaData")||(r.__agBeanMetaData={}),r.__agBeanMetaData}var Pt=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(r,o,c=null,p=null){if(this.frameworkOverrides=o,this.gos=r,c){const y=r.useAsyncEvents();this.addGlobalListener(c,y)}p&&this.addGlobalListener(p,!1)}setFrameworkOverrides(r){this.frameworkOverrides=r}getListeners(r,o,c){const p=o?this.allAsyncListeners:this.allSyncListeners;let y=p.get(r);return!y&&c&&(y=new Set,p.set(r,y)),y}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(r,o,c=!1){this.getListeners(r,c,!0).add(o)}removeEventListener(r,o,c=!1){const p=this.getListeners(r,c,!1);p&&(p.delete(o),0===p.size&&(c?this.allAsyncListeners:this.allSyncListeners).delete(r))}addGlobalListener(r,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).add(r)}removeGlobalListener(r,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).delete(r)}dispatchEvent(r){let o=r;this.gos&&this.gos.addGridCommonParams(o),this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0}dispatchEventOnce(r){this.firedEvents[r.type]||this.dispatchEvent(r)}dispatchToListeners(r,o){var c;const p=r.type;if(o&&"event"in r){const Q=r.event;Q instanceof Event&&(r.eventPath=Q.composedPath())}const S=null!=(c=this.getListeners(p,o,!1))?c:new Set,R=new Set(S);R.size>0&&((Q,be)=>{Q.forEach(Ie=>{if(!be.has(Ie))return;const Je=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>Ie(r)):()=>Ie(r);o?this.dispatchAsync(Je):Je()})})(R,S),new Set(o?this.globalAsyncListeners:this.globalSyncListeners).forEach(Q=>{const be=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>Q(p,r)):()=>Q(p,r);o?this.dispatchAsync(be):be()})}dispatchAsync(r){this.asyncFunctionsQueue.push(r),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const r=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],r.forEach(o=>o())}};P([Be(0,ui("gridOptionsService")),Be(1,ui("frameworkOverrides")),Be(2,ui("globalEventListener")),Be(3,ui("globalSyncEventListener"))],Pt.prototype,"setBeans",1),Pt=P([It("eventService")],Pt);var qe=class{constructor(r){this.frameworkOverrides=r,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(r){let o=r;return this.frameworkOverrides.shouldWrapOutgoing&&(o=c=>{this.frameworkOverrides.wrapOutgoing(()=>r(c))},this.wrappedListeners.set(r,o)),o}wrapGlobal(r){let o=r;return this.frameworkOverrides.shouldWrapOutgoing&&(o=(c,p)=>{this.frameworkOverrides.wrapOutgoing(()=>r(c,p))},this.wrappedGlobalListeners.set(r,o)),o}unwrap(r){var o;return null!=(o=this.wrappedListeners.get(r))?o:r}unwrapGlobal(r){var o;return null!=(o=this.wrappedGlobalListeners.get(r))?o:r}},Dt={resizable:!0,sortable:!0},je=0;function Rt(){return je++}var Te=class _H{constructor(o,c,p,y){this.instanceId=Rt(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new Pt,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=o,this.userProvidedColDef=c,this.colId=p,this.primary=y,this.setState(o)}getInstanceId(){return this.instanceId}setState(o){void 0!==o.sort?("asc"===o.sort||"desc"===o.sort)&&(this.sort=o.sort):("asc"===o.initialSort||"desc"===o.initialSort)&&(this.sort=o.initialSort);const c=o.sortIndex,p=o.initialSortIndex;void 0!==c?null!==c&&(this.sortIndex=c):null!==p&&(this.sortIndex=p);const y=o.hide;this.visible=void 0!==y?!y:!o.initialHide,this.setPinned(void 0!==o.pinned?o.pinned:o.initialPinned);const R=o.flex,L=o.initialFlex;void 0!==R?this.flex=R:void 0!==L&&(this.flex=L)}setColDef(o,c,p){this.colDef=o,this.userProvidedColDef=c,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",p))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(o){this.parent=o}getParent(){return this.parent}setOriginalParent(o){this.originalParent=o}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const o=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=pt(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=pt(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o}initMinAndMaxWidths(){var o,c;const p=this.colDef;this.minWidth=null!=(o=p.minWidth)?o:this.environment.getMinColWidth(),this.maxWidth=null!=(c=p.maxWidth)?c:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=pt(this.colDef.tooltipField)||pt(this.colDef.tooltipValueGetter)||pt(this.colDef.tooltipComponent)}resetActualWidth(o){const c=this.calculateColInitialWidth(this.colDef);this.setActualWidth(c,o,!0)}calculateColInitialWidth(o){var c,p;const y=null!=(c=o.minWidth)?c:this.environment.getMinColWidth(),S=null!=(p=o.maxWidth)?p:Number.MAX_SAFE_INTEGER;let R;const L=Ot(o.width),Q=Ot(o.initialWidth);return R=null!=L?L:null!=Q?Q:200,Math.max(Math.min(R,S),y)}isEmptyGroup(){return!1}isRowGroupDisplayed(o){return!Ai(this.colDef)&&!Ai(this.colDef.showRowGroup)&&(!0===this.colDef.showRowGroup||this.colDef.showRowGroup===o)}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(o,c){var p,y;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new qe(this.frameworkOverrides));const S=null!=(y=null==(p=this.frameworkEventListenerService)?void 0:p.wrap(c))?y:c;this.eventService.addEventListener(o,S)}removeEventListener(o,c){var p,y;const S=null!=(y=null==(p=this.frameworkEventListenerService)?void 0:p.unwrap(c))?y:c;this.eventService.removeEventListener(o,S)}createColumnFunctionCallbackParams(o){return this.gos.addGridCommonParams({node:o,data:o.data,column:this,colDef:this.colDef})}isSuppressNavigable(o){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const c=this.createColumnFunctionCallbackParams(o);return(0,this.colDef.suppressNavigable)(c)}return!1}isCellEditable(o){return!(o.group&&!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(o,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(o){return this.isColumnFunc(o,this.colDef.rowDrag)}isDndSource(o){return this.isColumnFunc(o,this.colDef.dndSource)}isCellCheckboxSelection(o){return this.isColumnFunc(o,this.colDef.checkboxSelection)}isSuppressPaste(o){return this.isColumnFunc(o,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(o){var c;return null!=(c=this.colDef[o])?c:Dt[o]}isColumnFunc(o,c){return"boolean"==typeof c?c:"function"==typeof c&&c(this.createColumnFunctionCallbackParams(o))}setMoving(o,c){this.moving=o,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",c))}createColumnEvent(o,c){return this.gos.addGridCommonParams({type:o,column:this,columns:[this],source:c})}isMoving(){return this.moving}getSort(){return this.sort}setSort(o,c){this.sort!==o&&(this.sort=o,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",c))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(o,c){this.menuVisible!==o&&(this.menuVisible=o,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",c)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return Ai(this.sort)}isSorting(){return pt(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(o){this.sortIndex=o,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(o){this.aggFunc=o,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(o,c){this.oldLeft=this.left,this.left!==o&&(this.left=o,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",c)))}isFilterActive(){return this.filterActive}setFilterActive(o,c,p){this.filterActive!==o&&(this.filterActive=o,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",c)));const y=this.createColumnEvent("filterChanged",c);p&&Cn(y,p),this.eventService.dispatchEvent(y)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(o){this.pinned=!0===o||"left"===o?"left":"right"===o?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(o,c){this.firstRightPinned!==o&&(this.firstRightPinned=o,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",c)))}setLastLeftPinned(o,c){this.lastLeftPinned!==o&&(this.lastLeftPinned=o,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",c)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(o,c){const p=!0===o;this.visible!==p&&(this.visible=p,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",c))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const o=this.getColDef();return!o.suppressSpanHeaderHeight&&!o.autoHeaderHeight}getColumnGroupPaddingInfo(){let o=this.getParent();if(!o||!o.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const c=o.getPaddingLevel()+1;let p=!0;for(;o;){if(!o.isPadding()){p=!1;break}o=o.getParent()}return{numberOfParents:c,isSpanningTotal:p}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(o){const c=o!==this.autoHeaderHeight;return this.autoHeaderHeight=o,c}createBaseColDefParams(o){return this.gos.addGridCommonParams({node:o,data:o.data,colDef:this.colDef,column:this})}getColSpan(o){if(Ai(this.colDef.colSpan))return 1;const c=this.createBaseColDefParams(o),p=this.colDef.colSpan(c);return Math.max(p,1)}getRowSpan(o){if(Ai(this.colDef.rowSpan))return 1;const c=this.createBaseColDefParams(o),p=this.colDef.rowSpan(c);return Math.max(p,1)}setActualWidth(o,c,p=!1){null!=this.minWidth&&(o=Math.max(o,this.minWidth)),null!=this.maxWidth&&(o=Math.min(o,this.maxWidth)),this.actualWidth!==o&&(this.actualWidth=o,this.flex&&"flex"!==c&&"gridInitializing"!==c&&(this.flex=null),p||this.fireColumnWidthChangedEvent(c)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(o){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",o))}isGreaterThanMax(o){return null!=this.maxWidth&&o>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(o){this.flex!==o&&(this.flex=o),this.dispatchStateUpdatedEvent("flex")}setMinimum(o){pt(this.minWidth)&&this.setActualWidth(this.minWidth,o)}setRowGroupActive(o,c){this.rowGroupActive!==o&&(this.rowGroupActive=o,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",c))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(o,c){this.pivotActive!==o&&(this.pivotActive=o,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",c))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(o,c){this.aggregationActive!==o&&(this.aggregationActive=o,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",c)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}getMenuTabs(o){Zt("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let c=this.getColDef().menuTabs;return null==c&&(c=o),c}dispatchStateUpdatedEvent(o){this.eventService.dispatchEvent({type:_H.EVENT_STATE_UPDATED,key:o})}};Te.EVENT_MOVING_CHANGED="movingChanged",Te.EVENT_LEFT_CHANGED="leftChanged",Te.EVENT_WIDTH_CHANGED="widthChanged",Te.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",Te.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",Te.EVENT_VISIBLE_CHANGED="visibleChanged",Te.EVENT_FILTER_CHANGED="filterChanged",Te.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",Te.EVENT_SORT_CHANGED="sortChanged",Te.EVENT_COL_DEF_CHANGED="colDefChanged",Te.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",Te.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",Te.EVENT_PIVOT_CHANGED="columnPivotChanged",Te.EVENT_VALUE_CHANGED="columnValueChanged",Te.EVENT_STATE_UPDATED="columnStateUpdated",P([$("gridOptionsService")],Te.prototype,"gos",2),P([$("environment")],Te.prototype,"environment",2),P([$("columnHoverService")],Te.prototype,"columnHoverService",2),P([$("frameworkOverrides")],Te.prototype,"frameworkOverrides",2),P([mt],Te.prototype,"initialise",1);var bt=Te,Gt=class nD{constructor(o,c,p,y){this.localEventService=new Pt,this.expandable=!1,this.instanceId=Rt(),this.expandableListenerRemoveCallback=null,this.colGroupDef=o,this.groupId=c,this.expanded=!!o&&!!o.openByDefault,this.padding=p,this.level=y}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(o,c){this.colGroupDef=o,this.level=c,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(o){this.originalParent=o}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some(o=>o.isVisible())}isPadding(){return this.padding}setExpanded(o){this.expanded=void 0!==o&&o,this.localEventService.dispatchEvent({type:nD.EVENT_EXPANDED_CHANGED})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(o){this.children=o}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const o=[];return this.addLeafColumns(o),o}addLeafColumns(o){this.children&&this.children.forEach(c=>{c instanceof bt?o.push(c):c instanceof nD&&c.addLeafColumns(o)})}getColumnGroupShow(){const o=this.colGroupDef;if(o)return o.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const o=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(c=>c.addEventListener("visibleChanged",o)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(c=>c.removeEventListener("visibleChanged",o)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let o=!1,c=!1,p=!1;const y=this.findChildrenRemovingPadding();for(let R=0,L=y.length;R<L;R++){const Q=y[R];if(!Q.isVisible())continue;const be=Q.getColumnGroupShow();"open"===be?(o=!0,p=!0):"closed"===be?(c=!0,p=!0):(o=!0,c=!0)}const S=o&&c&&p;this.expandable!==S&&(this.expandable=S,this.localEventService.dispatchEvent({type:nD.EVENT_EXPANDABLE_CHANGED}))}findChildrenRemovingPadding(){const o=[],c=p=>{p.forEach(y=>{y instanceof nD&&y.isPadding()?c(y.children):o.push(y)})};return c(this.children),o}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(o,c){this.localEventService.addEventListener(o,c)}removeEventListener(o,c){this.localEventService.removeEventListener(o,c)}};Gt.EVENT_EXPANDED_CHANGED="expandedChanged",Gt.EVENT_EXPANDABLE_CHANGED="expandableChanged",P([jt],Gt.prototype,"destroy",1);var Pe=Gt,te={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ge={};ue(ge,{addSafePassiveEventListener:()=>Po,createEventPath:()=>Lo,getCtrlForEventTarget:()=>mr,getEventPath:()=>eo,isElementInEventPath:()=>uo,isEventSupported:()=>Fn,isStopPropagationForAgGrid:()=>Yn,stopPropagationForAgGrid:()=>fn});var Re={};function Ve(r){return null!=r&&r.length>0}function zt(r){if(r&&r.length)return r[r.length-1]}function Ri(r,o,c){return null==r&&null==o||null!=r&&null!=o&&r.length===o.length&&r.every((p,y)=>c?c(p,o[y]):o[y]===p)}function _t(r,o){return Ri(r,o)}function at(r){return r.sort((o,c)=>o-c)}function Se(r,o){if(r)for(let c=r.length-2;c>=0;c--)r[c]===o&&r[c+1]===o&&r.splice(c+1,1)}function Me(r,o){const c=r.indexOf(o);c>=0&&(r[c]=r[r.length-1],r.pop())}function Nt(r,o){const c=r.indexOf(o);c>=0&&r.splice(c,1)}function Ii(r,o){for(let c=0;c<o.length;c++)Me(r,o[c])}function On(r,o){for(let c=0;c<o.length;c++)Nt(r,o[c])}function Di(r,o,c){r.splice(c,0,o)}function Zi(r,o,c){if(null!=r&&null!=o)for(let p=o.length-1;p>=0;p--)Di(r,o[p],c)}function Lt(r,o,c){On(r,o),o.slice().reverse().forEach(p=>Di(r,p,c))}function ai(r,o){return r.indexOf(o)>-1}function ki(r){return[].concat.apply([],r)}function li(r,o){null==o||null==r||o.forEach(c=>r.push(c))}function ci(r){return r.map(q)}function Ti(r,o){if(null!=r)for(let c=r.length-1;c>=0;c--)o(r[c],c)}ue(Re,{areEqual:()=>Ri,existsAndNotEmpty:()=>Ve,flatten:()=>ki,forEachReverse:()=>Ti,includes:()=>ai,insertArrayIntoArray:()=>Zi,insertIntoArray:()=>Di,last:()=>zt,moveInArray:()=>Lt,pushAll:()=>li,removeAllFromArray:()=>On,removeAllFromUnorderedArray:()=>Ii,removeFromArray:()=>Nt,removeFromUnorderedArray:()=>Me,removeRepeatsFromArray:()=>Se,shallowCompare:()=>_t,sortNumerically:()=>at,toStrings:()=>ci});var Xi="__ag_Grid_Stop_Propagation",ln=["touchstart","touchend","touchmove","touchcancel","scroll"],en={};function fn(r){r[Xi]=!0}function Yn(r){return!0===r[Xi]}var Fn=(()=>{const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return c=>{if("boolean"==typeof en[c])return en[c];const p=document.createElement(r[c]||"div");return en[c="on"+c]=c in p}})();function mr(r,o,c){let p=o;for(;p;){const y=r.getDomData(p,c);if(y)return y;p=p.parentElement}return null}function uo(r,o){return!(!o||!r)&&eo(o).indexOf(r)>=0}function Lo(r){const o=[];let c=r.target;for(;c;)o.push(c),c=c.parentElement;return o}function eo(r){const o=r;return o.path?o.path:o.composedPath?o.composedPath():Lo(o)}function Po(r,o,c,p){const S=ai(ln,c)?{passive:!0}:void 0;r&&r.addEventListener&&r.addEventListener(o,c,p,S)}var oo=class bH{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){for(let o=0;o<this.destroyFunctions.length;o++)this.destroyFunctions[o]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:bH.EVENT_DESTROYED})}addEventListener(o,c){this.localEventService||(this.localEventService=new Pt),this.localEventService.addEventListener(o,c)}removeEventListener(o,c){this.localEventService&&this.localEventService.removeEventListener(o,c)}dispatchEvent(o){this.localEventService&&this.localEventService.dispatchEvent(o)}addManagedListener(o,c,p){if(this.destroyed)return;o instanceof HTMLElement?Po(this.getFrameworkOverrides(),o,c,p):o.addEventListener(c,p);const y=()=>(o.removeEventListener(c,p),null);return this.destroyFunctions.push(y),()=>(y(),this.destroyFunctions=this.destroyFunctions.filter(S=>S!==y),null)}setupGridOptionListener(o,c){this.gos.addEventListener(o,c);const p=()=>(this.gos.removeEventListener(o,c),null);return this.destroyFunctions.push(p),()=>(p(),this.destroyFunctions=this.destroyFunctions.filter(y=>y!==p),null)}addManagedPropertyListener(o,c){return this.destroyed?()=>null:this.setupGridOptionListener(o,c)}addManagedPropertyListeners(o,c){if(this.destroyed)return;const p=o.join("-")+this.propertyListenerId++,y=S=>{if(S.changeSet){if(S.changeSet&&S.changeSet.id===this.lastChangeSetIdLookup[p])return;this.lastChangeSetIdLookup[p]=S.changeSet.id}c({type:"gridPropertyChanged",changeSet:S.changeSet,source:S.source})};o.forEach(S=>this.setupGridOptionListener(S,y))}addDestroyFunc(o){this.isAlive()?this.destroyFunctions.push(o):o()}createManagedBean(o,c){const p=this.createBean(o,c);return this.addDestroyFunc(this.destroyBean.bind(this,o,c)),p}createBean(o,c,p){return(c||this.getContext()).createBean(o,p)}destroyBean(o,c){return(c||this.getContext()).destroyBean(o)}destroyBeans(o,c){if(o)for(let p=0;p<o.length;p++)this.destroyBean(o[p],c);return[]}};oo.EVENT_DESTROYED="destroyed",P([$("frameworkOverrides")],oo.prototype,"frameworkOverrides",2),P([$("context")],oo.prototype,"context",2),P([$("eventService")],oo.prototype,"eventService",2),P([$("gridOptionsService")],oo.prototype,"gos",2),P([$("localeService")],oo.prototype,"localeService",2),P([$("environment")],oo.prototype,"environment",2),P([jt],oo.prototype,"destroy",1);var nn=oo,Mr=class extends nn{setBeans(r){this.logger=r.create("ColumnFactory")}createColumnTree(r,o,c,p){const y=new class{constructor(){this.existingKeys={}}addExistingKeys(r){for(let o=0;o<r.length;o++)this.existingKeys[r[o]]=!0}getUniqueKey(r,o){r=q(r);let c=0;for(;;){let p;if(r?(p=r,0!==c&&(p+="_"+c)):o?(p=o,0!==c&&(p+="_"+c)):p=c,!this.existingKeys[p])return this.existingKeys[p]=!0,String(p);c++}}},{existingCols:S,existingGroups:R,existingColKeys:L}=this.extractExistingTreeData(c);y.addExistingKeys(L);const Q=this.recursivelyCreateColumns(r,0,o,S,y,R,p),be=this.findMaxDept(Q,0);this.logger.log("Number of levels for grouped columns is "+be);const Ie=this.balanceColumnTree(Q,0,be,y);return to(null,Ie,(Bt,Ei)=>{Bt instanceof Pe&&Bt.setupExpandable(),Bt.setOriginalParent(Ei)}),{columnTree:Ie,treeDept:be}}extractExistingTreeData(r){const o=[],c=[],p=[];return r&&to(null,r,y=>{if(y instanceof Pe)c.push(y);else{const S=y;p.push(S.getId()),o.push(S)}}),{existingCols:o,existingGroups:c,existingColKeys:p}}createForAutoGroups(r,o){return r.map(c=>this.createAutoGroupTreeItem(o,c))}createAutoGroupTreeItem(r,o){const c=this.findDepth(r);let p=o;for(let y=c-1;y>=0;y--){const S=new Pe(null,`FAKE_PATH_${o.getId()}}_${y}`,!0,y);this.createBean(S),S.setChildren([p]),p.setOriginalParent(S),p=S}return 0===c&&o.setOriginalParent(null),p}findDepth(r){let o=0,c=r;for(;c&&c[0]&&c[0]instanceof Pe;)o++,c=c[0].getChildren();return o}balanceColumnTree(r,o,c,p){const y=[];for(let S=0;S<r.length;S++){const R=r[S];if(R instanceof Pe){const L=R,Q=this.balanceColumnTree(L.getChildren(),o+1,c,p);L.setChildren(Q),y.push(L)}else{let L,Q;for(let be=c-1;be>=o;be--){const Ie=p.getUniqueKey(null,null),Je=this.createMergedColGroupDef(null),Bt=new Pe(Je,Ie,!0,o);this.createBean(Bt),Q&&Q.setChildren([Bt]),Q=Bt,L||(L=Q)}if(L&&Q){if(y.push(L),r.some(Ie=>Ie instanceof Pe)){Q.setChildren([R]);continue}Q.setChildren(r);break}y.push(R)}}return y}findMaxDept(r,o){let c=o;for(let p=0;p<r.length;p++){const y=r[p];if(y instanceof Pe){const R=this.findMaxDept(y.getChildren(),o+1);c<R&&(c=R)}}return c}recursivelyCreateColumns(r,o,c,p,y,S,R){if(!r)return[];const L=new Array(r.length);for(let Q=0;Q<L.length;Q++){const be=r[Q];L[Q]=this.isColumnGroup(be)?this.createColumnGroup(c,be,o,p,y,S,R):this.createColumn(c,be,p,y,R)}return L}createColumnGroup(r,o,c,p,y,S,R){const L=this.createMergedColGroupDef(o),Q=y.getUniqueKey(L.groupId||null,null),be=new Pe(L,Q,!1,c);this.createBean(be);const Ie=this.findExistingGroup(o,S);Ie&&S.splice(Ie.idx,1);let Je=Ie?.group;Je&&be.setExpanded(Je.isExpanded());const Bt=this.recursivelyCreateColumns(L.children,c+1,r,p,y,S,R);return be.setChildren(Bt),be}createMergedColGroupDef(r){const o={};return Object.assign(o,this.gos.get("defaultColGroupDef")),Object.assign(o,r),o}createColumn(r,o,c,p,y){const S=this.findExistingColumn(o,c);S&&c?.splice(S.idx,1);let R=S?.column;if(R){const L=this.addColumnDefaultAndTypes(o,R.getColId());R.setColDef(L,o,y),this.applyColumnState(R,L,y)}else{const L=p.getUniqueKey(o.colId,o.field),Q=this.addColumnDefaultAndTypes(o,L);R=new bt(Q,o,L,r),this.context.createBean(R)}return this.dataTypeService.addColumnListeners(R),R}applyColumnState(r,o,c){const p=Ot(o.flex);if(void 0!==p&&r.setFlex(p),r.getFlex()<=0){const L=Ot(o.width);if(null!=L)r.setActualWidth(L,c);else{const Q=r.getActualWidth();r.setActualWidth(Q,c)}}void 0!==o.sort&&r.setSort("asc"==o.sort||"desc"==o.sort?o.sort:void 0,c);const S=Ot(o.sortIndex);void 0!==S&&r.setSortIndex(S);const R=Oe(o.hide);void 0!==R&&r.setVisible(!R,c),void 0!==o.pinned&&r.setPinned(o.pinned)}findExistingColumn(r,o){if(o)for(let c=0;c<o.length;c++){const p=o[c].getUserProvidedColDef();if(p)if(null==r.colId){if(null==r.field){if(p===r)return{idx:c,column:o[c]}}else if(p.field===r.field)return{idx:c,column:o[c]}}else if(o[c].getId()===r.colId)return{idx:c,column:o[c]}}}findExistingGroup(r,o){if(null!=r.groupId)for(let p=0;p<o.length;p++){const y=o[p];if(y.getColGroupDef()&&y.getId()===r.groupId)return{idx:p,group:y}}}addColumnDefaultAndTypes(r,o){const c={};Cn(c,this.gos.get("defaultColDef"),!1,!0);const y=this.dataTypeService.updateColDefAndGetColumnType(c,r,o);y&&this.assignColumnTypes(y,c),Cn(c,r,!1,!0);const S=this.gos.get("autoGroupColumnDef"),R=this.gos.isColumnsSortingCoupledToGroup();return r.rowGroup&&S&&R&&Cn(c,{sort:S.sort,initialSort:S.initialSort},!1,!0),this.dataTypeService.validateColDef(c),c}assignColumnTypes(r,o){if(!r.length)return;const c=Object.assign({},te);bi(this.gos.get("columnTypes")||{},(y,S)=>{y in c?console.warn(`AG Grid: the column type '${y}' is a default column type and cannot be overridden.`):(S.type&&Zt("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),c[y]=S)}),r.forEach(y=>{const S=c[y.trim()];S?Cn(o,S,!1,!0):console.warn("AG Grid: colDef.type '"+y+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(r){return void 0!==r.children}};function to(r,o,c){if(o)for(let p=0;p<o.length;p++){const y=o[p];y instanceof Pe&&to(y,y.getChildren(),c),c(y,r)}}P([$("dataTypeService")],Mr.prototype,"dataTypeService",2),P([Be(0,ui("loggerFactory"))],Mr.prototype,"setBeans",1),Mr=P([It("columnFactory")],Mr);var Rn=class ig{constructor(o,c,p,y){this.displayedChildren=[],this.localEventService=new Pt,this.groupId=c,this.partId=p,this.providedColumnGroup=o,this.pinned=y}static createUniqueId(o,c){return o+"_"+c}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(o){this.parent=o}getUniqueId(){return ig.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const o=this.getProvidedColumnGroup().getLeafColumns();return!(!o||0===o.length)&&o.every(c=>c.isMoving())}checkLeft(){if(this.displayedChildren.forEach(o=>{o instanceof ig&&o.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const c=zt(this.displayedChildren).getLeft();this.setLeft(c)}else{const o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(o){this.oldLeft=this.left,this.left!==o&&(this.left=o,this.localEventService.dispatchEvent(this.createAgEvent(ig.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(o){return{type:o}}addEventListener(o,c){this.localEventService.addEventListener(o,c)}removeEventListener(o,c){this.localEventService.removeEventListener(o,c)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(o){let c=!1;return this.children.forEach(p=>{o===p&&(c=!0),p instanceof ig&&p.isChildInThisGroupDeepSearch(o)&&(c=!0)}),c}getActualWidth(){let o=0;return this.displayedChildren&&this.displayedChildren.forEach(c=>{o+=c.getActualWidth()}),o}isResizable(){if(!this.displayedChildren)return!1;let o=!1;return this.displayedChildren.forEach(c=>{c.isResizable()&&(o=!0)}),o}getMinWidth(){let o=0;return this.displayedChildren.forEach(c=>{o+=c.getMinWidth()||0}),o}addChild(o){this.children||(this.children=[]),this.children.push(o)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const o=[];return this.addLeafColumns(o),o}getDisplayedLeafColumns(){const o=[];return this.addDisplayedLeafColumns(o),o}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(o){this.providedColumnGroup.setExpanded(o)}addDisplayedLeafColumns(o){this.displayedChildren.forEach(c=>{c instanceof bt?o.push(c):c instanceof ig&&c.addDisplayedLeafColumns(o)})}addLeafColumns(o){this.children.forEach(c=>{c instanceof bt?o.push(c):c instanceof ig&&c.addLeafColumns(o)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const o=this.getParent();return this.isPadding()&&o&&o.isPadding()?1+o.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let o=this;for(;null!=o&&o.isPadding();)o=o.getParent();if(!o||!o.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(ig.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(p=>{if(!(p instanceof ig)||p.displayedChildren&&p.displayedChildren.length)switch(p.getColumnGroupShow()){case"open":o.providedColumnGroup.isExpanded()&&this.displayedChildren.push(p);break;case"closed":o.providedColumnGroup.isExpanded()||this.displayedChildren.push(p);break;default:this.displayedChildren.push(p)}}),this.localEventService.dispatchEvent(this.createAgEvent(ig.EVENT_DISPLAYED_CHILDREN_CHANGED))}};Rn.EVENT_LEFT_CHANGED="leftChanged",Rn.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",P([$("gridOptionsService")],Rn.prototype,"gos",2);var pr=Rn,ae=class{};ae.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",ae.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",ae.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",ae.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded",ae.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",ae.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",ae.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",ae.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",ae.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",ae.EVENT_COLUMN_MOVED="columnMoved",ae.EVENT_COLUMN_VISIBLE="columnVisible",ae.EVENT_COLUMN_PINNED="columnPinned",ae.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",ae.EVENT_COLUMN_RESIZED="columnResized",ae.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",ae.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns",ae.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide",ae.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation",ae.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",ae.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver",ae.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave",ae.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked",ae.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu",ae.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",ae.EVENT_ROW_GROUP_OPENED="rowGroupOpened",ae.EVENT_ROW_DATA_UPDATED="rowDataUpdated",ae.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",ae.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",ae.EVENT_CHART_CREATED="chartCreated",ae.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",ae.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",ae.EVENT_CHART_DESTROYED="chartDestroyed",ae.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",ae.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged",ae.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",ae.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",ae.EVENT_MODEL_UPDATED="modelUpdated",ae.EVENT_CUT_START="cutStart",ae.EVENT_CUT_END="cutEnd",ae.EVENT_PASTE_START="pasteStart",ae.EVENT_PASTE_END="pasteEnd",ae.EVENT_FILL_START="fillStart",ae.EVENT_FILL_END="fillEnd",ae.EVENT_RANGE_DELETE_START="rangeDeleteStart",ae.EVENT_RANGE_DELETE_END="rangeDeleteEnd",ae.EVENT_UNDO_STARTED="undoStarted",ae.EVENT_UNDO_ENDED="undoEnded",ae.EVENT_REDO_STARTED="redoStarted",ae.EVENT_REDO_ENDED="redoEnded",ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart",ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd",ae.EVENT_CELL_CLICKED="cellClicked",ae.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",ae.EVENT_CELL_MOUSE_DOWN="cellMouseDown",ae.EVENT_CELL_CONTEXT_MENU="cellContextMenu",ae.EVENT_CELL_VALUE_CHANGED="cellValueChanged",ae.EVENT_CELL_EDIT_REQUEST="cellEditRequest",ae.EVENT_ROW_VALUE_CHANGED="rowValueChanged",ae.EVENT_CELL_FOCUSED="cellFocused",ae.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared",ae.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused",ae.EVENT_ROW_SELECTED="rowSelected",ae.EVENT_SELECTION_CHANGED="selectionChanged",ae.EVENT_TOOLTIP_SHOW="tooltipShow",ae.EVENT_TOOLTIP_HIDE="tooltipHide",ae.EVENT_CELL_KEY_DOWN="cellKeyDown",ae.EVENT_CELL_MOUSE_OVER="cellMouseOver",ae.EVENT_CELL_MOUSE_OUT="cellMouseOut",ae.EVENT_FILTER_CHANGED="filterChanged",ae.EVENT_FILTER_MODIFIED="filterModified",ae.EVENT_FILTER_OPENED="filterOpened",ae.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged",ae.EVENT_SORT_CHANGED="sortChanged",ae.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",ae.EVENT_ROW_CLICKED="rowClicked",ae.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",ae.EVENT_GRID_READY="gridReady",ae.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed",ae.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",ae.EVENT_VIEWPORT_CHANGED="viewportChanged",ae.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",ae.EVENT_FIRST_DATA_RENDERED="firstDataRendered",ae.EVENT_DRAG_STARTED="dragStarted",ae.EVENT_DRAG_STOPPED="dragStopped",ae.EVENT_CHECKBOX_CHANGED="checkboxChanged",ae.EVENT_ROW_EDITING_STARTED="rowEditingStarted",ae.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",ae.EVENT_CELL_EDITING_STARTED="cellEditingStarted",ae.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",ae.EVENT_BODY_SCROLL="bodyScroll",ae.EVENT_BODY_SCROLL_END="bodyScrollEnd",ae.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",ae.EVENT_PAGINATION_CHANGED="paginationChanged",ae.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",ae.EVENT_STORE_REFRESHED="storeRefreshed",ae.EVENT_STATE_UPDATED="stateUpdated",ae.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged",ae.EVENT_CONTEXT_MENU_VISIBLE_CHANGED="contextMenuVisibleChanged",ae.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",ae.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged",ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",ae.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",ae.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",ae.EVENT_FLASH_CELLS="flashCells",ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",ae.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",ae.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",ae.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged",ae.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged",ae.EVENT_ROW_DRAG_ENTER="rowDragEnter",ae.EVENT_ROW_DRAG_MOVE="rowDragMove",ae.EVENT_ROW_DRAG_LEAVE="rowDragLeave",ae.EVENT_ROW_DRAG_END="rowDragEnd",ae.EVENT_GRID_STYLES_CHANGED="gridStylesChanged",ae.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",ae.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",ae.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",ae.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",ae.EVENT_STORE_UPDATED="storeUpdated",ae.EVENT_FILTER_DESTROYED="filterDestroyed",ae.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted",ae.EVENT_ROW_COUNT_READY="rowCountReady",ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged",ae.EVENT_DATA_TYPES_INFERRED="dataTypesInferred",ae.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged",ae.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected",ae.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var En=new Set([ae.EVENT_GRID_PRE_DESTROYED,ae.EVENT_FILL_START]),oe=class{constructor(){this.existingIds={}}getInstanceIdForKey(r){const o=this.existingIds[r];let c;return c="number"!=typeof o?0:o+1,this.existingIds[r]=c,c}},dt="ag-Grid-AutoColumn",et=class extends nn{createAutoGroupColumns(r){const o=[],c=this.gos.get("treeData");let p=this.gos.isGroupMultiAutoColumn();return c&&p&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),p=!1),p?r.forEach((y,S)=>{o.push(this.createOneAutoGroupColumn(y,S))}):o.push(this.createOneAutoGroupColumn()),o}updateAutoGroupColumns(r,o){r.forEach((c,p)=>this.updateOneAutoGroupColumn(c,p,o))}createOneAutoGroupColumn(r,o){let c;c=r?`${dt}-${r.getId()}`:dt;const p=this.createAutoGroupColDef(c,r,o);p.colId=c;const y=new bt(p,null,c,!0);return this.context.createBean(y),y}updateOneAutoGroupColumn(r,o,c){const p=r.getColDef(),y="string"==typeof p.showRowGroup?p.showRowGroup:void 0,S=null!=y?this.columnModel.getPrimaryColumn(y):void 0,R=this.createAutoGroupColDef(r.getId(),S??void 0,o);r.setColDef(R,null,c),this.columnFactory.applyColumnState(r,R,c)}createAutoGroupColDef(r,o,c){let p=this.createBaseColDef(o);return Cn(p,this.gos.get("autoGroupColumnDef")),p=this.columnFactory.addColumnDefaultAndTypes(p,r),this.gos.get("treeData")||Ai(p.field)&&Ai(p.valueGetter)&&Ai(p.filterValueGetter)&&"agGroupColumnFilter"!==p.filter&&(p.filter=!1),c&&c>0&&(p.headerCheckboxSelection=!1),this.gos.isColumnsSortingCoupledToGroup()&&!(p.valueGetter||null!=p.field)&&(p.sortIndex=void 0,p.initialSort=void 0),p}createBaseColDef(r){const o=this.gos.get("autoGroupColumnDef"),p={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(o&&(o.cellRenderer||o.cellRendererSelector)||(p.cellRenderer="agGroupCellRenderer"),r){const S=r.getColDef();Object.assign(p,{headerName:this.columnModel.getDisplayNameForColumn(r,"header"),headerValueGetter:S.headerValueGetter}),S.cellRenderer&&Object.assign(p,{cellRendererParams:{innerRenderer:S.cellRenderer,innerRendererParams:S.cellRendererParams}}),p.showRowGroup=r.getColId()}else p.showRowGroup=!0;return p}};P([$("columnModel")],et.prototype,"columnModel",2),P([$("columnFactory")],et.prototype,"columnFactory",2),et=P([It("autoGroupColService")],et);var ti={};ue(ti,{camelCaseToHumanText:()=>wa,camelCaseToHyphenated:()=>yl,capitalise:()=>ua,escapeString:()=>ho,utf8_encode:()=>Rr});var Fi=/[&<>"']/g,Un={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Rr(r){const o=String.fromCharCode;function y(Je,Bt){return o(Je>>Bt&63|128)}function S(Je){if(Je>=0&&Je<=31&&10!==Je)return`_x${Je.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(4294967168&Je))return o(Je);let Bt="";return 4294965248&Je?4294901760&Je?4292870144&Je||(Bt=o(Je>>18&7|240),Bt+=y(Je,12),Bt+=y(Je,6)):(function p(Je){if(Je>=55296&&Je<=57343)throw Error("Lone surrogate U+"+Je.toString(16).toUpperCase()+" is not a scalar value")}(Je),Bt=o(Je>>12&15|224),Bt+=y(Je,6)):Bt=o(Je>>6&31|192),Bt+=o(63&Je|128),Bt}const R=function c(Je){const Bt=[];if(!Je)return[];const Ei=Je.length;let Wi,Vi,Li=0;for(;Li<Ei;)Wi=Je.charCodeAt(Li++),Wi>=55296&&Wi<=56319&&Li<Ei?(Vi=Je.charCodeAt(Li++),56320==(64512&Vi)?Bt.push(((1023&Wi)<<10)+(1023&Vi)+65536):(Bt.push(Wi),Li--)):Bt.push(Wi);return Bt}(r),L=R.length;let be,Q=-1,Ie="";for(;++Q<L;)be=R[Q],Ie+=S(be);return Ie}function ua(r){return r[0].toUpperCase()+r.substring(1).toLowerCase()}function ho(r,o){if(null==r)return null;const c=r.toString().toString();return o?c:c.replace(Fi,p=>Un[p])}function wa(r){return r&&null!=r?r.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map(y=>y.substring(0,1).toUpperCase()+(y.length>1?y.substring(1,y.length):"")).join(" "):null}function yl(r){return r.replace(/[A-Z]/g,o=>`-${o.toLocaleLowerCase()}`)}var il={};function Rs(r){const o=new Map;return r.forEach(c=>o.set(c[0],c[1])),o}function Rc(r,o){const c=new Map;return r.forEach(p=>c.set(o(p),p)),c}function Ao(r){const o=[];return r.forEach((c,p)=>o.push(p)),o}ue(il,{convertToMap:()=>Rs,keys:()=>Ao,mapById:()=>Rc});var Er=class extends nn{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");const r=this.gos.get("pivotMode");this.isPivotSettingAllowed(r)&&(this.pivotMode=r),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],o=>this.buildAutoGroupColumns(Ws(o.source))),this.addManagedPropertyListener("autoGroupColumnDef",o=>this.onAutoGroupColumnDefChanged(Ws(o.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],o=>this.onSharedColDefChanged(Ws(o.source))),this.addManagedPropertyListener("pivotMode",o=>this.setPivotMode(this.gos.get("pivotMode"),Ws(o.source))),this.addManagedListener(this.eventService,ae.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(r){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(r))}onAutoGroupColumnDefChanged(r){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,r)}onSharedColDefChanged(r){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,r),this.createColumnsFromColumnDefs(!0,r))}setColumnDefs(r,o){const c=!!this.columnDefs;this.columnDefs=r,this.createColumnsFromColumnDefs(c,o)}recreateColumnDefs(r){this.onSharedColDefChanged(r)}destroyOldColumns(r,o){const c={};if(!r)return;to(null,r,y=>{c[y.getInstanceId()]=y}),o&&to(null,o,y=>{c[y.getInstanceId()]=null});const p=Object.values(c).filter(y=>null!=y);this.destroyBeans(p)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(r,o){const c=r?this.compareColumnStatesAndDispatchEvents(o):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const p=this.primaryColumns,S=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree,o);this.destroyOldColumns(this.primaryColumnTree,S.columnTree),this.primaryColumnTree=S.columnTree,this.primaryHeaderRowCount=S.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(Q=>this.primaryColumnsMap[Q.getId()]=Q),this.extractRowGroupColumns(o,p),this.extractPivotColumns(o,p),this.extractValueColumns(o,p),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),r&&this.gridColsArePrimary&&!this.gos.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(o),this.checkViewportColumns()),this.dispatchEverythingChanged(o),this.changeEventsDispatching=!0,c&&c(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(o)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(r){this.eventService.dispatchEvent({type:ae.EVENT_NEW_COLUMNS_LOADED,source:r}),"gridInitializing"===r&&this.onColumnsReady()}dispatchEverythingChanged(r){this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_EVERYTHING_CHANGED,source:r})}orderGridColumnsLikePrimary(){const r=this.primaryColumns;if(!r)return;const o=r.filter(p=>this.gridColumns.indexOf(p)>=0),c=this.gridColumns.filter(p=>o.indexOf(p)<0);this.gridColumns=[...c,...o],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gos.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}checkViewportColumns(r=!1){null!=this.displayedColumnsCenter&&this.extractViewport()&&this.eventService.dispatchEvent({type:ae.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:r})}setViewportPosition(r,o,c=!1){(r!==this.scrollWidth||o!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=o,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(c))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(r){return!r||!this.gos.get("treeData")||(Zt("Pivot mode not available with treeData."),!1)}setPivotMode(r,o){r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.gridColumns)&&(this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_PIVOT_MODE_CHANGED}))}getSecondaryPivotColumn(r,o){if(Ai(this.secondaryColumns))return null;const c=this.getPrimaryColumn(o);let p=null;return this.secondaryColumns.forEach(y=>{const S=y.getColDef().pivotKeys,R=y.getColDef().pivotValueColumn;Ri(S,r)&&R===c&&(p=y)}),p}setBeans(r){this.logger=r.create("columnModel")}setFirstRightAndLastLeftPinned(r){let o,c;this.gos.get("enableRtl")?(o=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,c=this.displayedColumnsRight?zt(this.displayedColumnsRight):null):(o=this.displayedColumnsLeft?zt(this.displayedColumnsLeft):null,c=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(p=>{p.setLastLeftPinned(p===o,r),p.setFirstRightPinned(p===c,r)})}autoSizeColumns(r){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeColumns(r));const{columns:o,skipHeader:c,skipHeaderGroups:p,stopAtGroup:y,source:S="api"}=r;this.animationFrameService.flushAllFrames();const R=[];let L=-1;const Q=c??this.gos.get("skipHeaderOnAutoSize"),be=p??Q;for(;0!==L;)L=0,this.actionOnGridColumns(o,Ie=>{if(R.indexOf(Ie)>=0)return!1;const Je=this.autoWidthCalculator.getPreferredWidthForColumn(Ie,Q);if(Je>0){const Bt=this.normaliseColumnWidth(Ie,Je);Ie.setActualWidth(Bt,S),R.push(Ie),L++}return!0},S);be||this.autoSizeColumnGroupsByColumns(o,S,y),this.dispatchColumnResizedEvent(R,!0,"autosizeColumns")}dispatchColumnResizedEvent(r,o,c,p=null){r&&r.length&&this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:p,finished:o,source:c})}dispatchColumnChangedEvent(r,o,c){this.eventService.dispatchEvent({type:r,columns:o,column:o&&1==o.length?o[0]:null,source:c})}dispatchColumnMovedEvent(r){const{movedColumns:o,source:c,toIndex:p,finished:y}=r;this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_MOVED,columns:o,column:o&&1===o.length?o[0]:null,toIndex:p,finished:y,source:c})}dispatchColumnPinnedEvent(r,o){if(!r.length)return;const c=1===r.length?r[0]:null,p=this.getCommonValue(r,S=>S.getPinned());this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_PINNED,pinned:p??null,columns:r,column:c,source:o})}dispatchColumnVisibleEvent(r,o){if(!r.length)return;const c=1===r.length?r[0]:null,p=this.getCommonValue(r,S=>S.isVisible());this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_VISIBLE,visible:p,columns:r,column:c,source:o})}autoSizeColumn(r,o,c){r&&this.autoSizeColumns({columns:[r],skipHeader:c,skipHeaderGroups:!0,source:o})}autoSizeColumnGroupsByColumns(r,o,c){const p=new Set;let S;this.getGridColumns(r).forEach(L=>{let Q=L.getParent();for(;Q&&Q!=c;)Q.isPadding()||p.add(Q),Q=Q.getParent()});for(const L of p){for(const Q of this.ctrlsService.getHeaderRowContainerCtrls())if(S=Q.getHeaderCtrlForColumn(L),S)break;S&&S.resizeLeafColumnsToFit(o)}return[]}autoSizeAllColumns(r,o){if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(r,o));const c=this.getAllDisplayedColumns();this.autoSizeColumns({columns:c,skipHeader:o,source:r})}getColumnsFromTree(r){const o=[],c=p=>{for(let y=0;y<p.length;y++){const S=p[y];S instanceof bt?o.push(S):S instanceof Pe&&c(S.getChildren())}};return c(r),o}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(r){return this.getAllDisplayedColumns().indexOf(r)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(r,o,c,p){const y=[];let S=null;for(let R=0;R<o.length;R++){const L=o[R],Q=o.length-R,be=Math.min(L.getColSpan(r),Q),Ie=[L];if(be>1){const Bt=be-1;for(let Ei=1;Ei<=Bt;Ei++)Ie.push(o[R+Ei]);R+=Bt}let Je;c?(Je=!1,Ie.forEach(Bt=>{c(Bt)&&(Je=!0)})):Je=!0,Je&&(0===y.length&&S&&p&&p(L)&&y.push(S),y.push(L)),S=L}return y}getViewportCenterColumnsForRow(r){if(!this.colSpanActive)return this.viewportColumnsCenter;const c=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,c,p=>{const y=p.getLeft();return pt(y)&&y>this.viewportLeft})}isColumnAtEdge(r,o){const c=this.getAllDisplayedColumns();if(!c.length)return!1;const p="first"===o;let y;if(r instanceof pr){const S=r.getDisplayedLeafColumns();if(!S.length)return!1;y=p?S[0]:zt(S)}else y=r;return(p?c[0]:zt(c))===y}getAriaColumnIndex(r){let o;return o=r instanceof pr?r.getLeafColumns()[0]:r,this.ariaOrderColumns.indexOf(o)+1}isColumnInHeaderViewport(r){return!!r.isAutoHeaderHeight()||this.isColumnInRowViewport(r)}isColumnInRowViewport(r){if(r.isAutoHeight())return!0;const o=r.getLeft()||0,c=o+r.getActualWidth(),p=this.viewportLeft-200,y=this.viewportRight+200;return!(o<p&&c<p||o>y&&c>y)}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(r,o,c,p,y,S){if(!r||oi(r))return;let R=!1;r.forEach(Q=>{if(!Q)return;const be=this.getPrimaryColumn(Q);if(be){if(c){if(o.indexOf(be)>=0)return;o.push(be)}else{if(o.indexOf(be)<0)return;Nt(o,be)}p(be),R=!0}}),R&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(S),this.eventService.dispatchEvent({type:y,columns:o,column:1===o.length?o[0]:null,source:S}))}setRowGroupColumns(r,o){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),o)}setRowGroupActive(r,o,c){r!==o.isRowGroupActive()&&(o.setRowGroupActive(r,c),r&&!this.gos.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([o],!1,c),!r&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([o],!0,c))}addRowGroupColumns(r,o){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ae.EVENT_COLUMN_ROW_GROUP_CHANGED,o)}removeRowGroupColumns(r,o){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ae.EVENT_COLUMN_ROW_GROUP_CHANGED,o)}addPivotColumns(r,o){this.updatePrimaryColumnList(r,this.pivotColumns,!0,c=>c.setPivotActive(!0,o),ae.EVENT_COLUMN_PIVOT_CHANGED,o)}setPivotColumns(r,o){this.setPrimaryColumnList(r,this.pivotColumns,ae.EVENT_COLUMN_PIVOT_CHANGED,!0,(c,p)=>{p.setPivotActive(c,o)},o)}removePivotColumns(r,o){this.updatePrimaryColumnList(r,this.pivotColumns,!1,c=>c.setPivotActive(!1,o),ae.EVENT_COLUMN_PIVOT_CHANGED,o)}setPrimaryColumnList(r,o,c,p,y,S){if(!this.gridColumns)return;const R=new Map;o.forEach((L,Q)=>R.set(L,Q)),o.length=0,pt(r)&&r.forEach(L=>{const Q=this.getPrimaryColumn(L);Q&&o.push(Q)}),o.forEach((L,Q)=>{const be=R.get(L);void 0!==be?p&&be!==Q||R.delete(L):R.set(L,0)}),(this.primaryColumns||[]).forEach(L=>{const Q=o.indexOf(L)>=0;y(Q,L)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(S),this.dispatchColumnChangedEvent(c,[...R.keys()],S)}setValueColumns(r,o){this.setPrimaryColumnList(r,this.valueColumns,ae.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),o)}setValueActive(r,o,c){if(r!==o.isValueActive()&&(o.setValueActive(r,c),r&&!o.getAggFunc()&&this.aggFuncService)){const p=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(p)}}addValueColumns(r,o){this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),ae.EVENT_COLUMN_VALUE_CHANGED,o)}removeValueColumns(r,o){this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),ae.EVENT_COLUMN_VALUE_CHANGED,o)}normaliseColumnWidth(r,o){const c=r.getMinWidth();pt(c)&&o<c&&(o=c);const p=r.getMaxWidth();return pt(p)&&r.isGreaterThanMax(o)&&(o=p),o}getPrimaryOrGridColumn(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)}setColumnWidths(r,o,c,p){const y=[];r.forEach(S=>{const R=this.getPrimaryOrGridColumn(S.key);if(R&&(y.push({width:S.newWidth,ratios:[1],columns:[R]}),"shift"===this.gos.get("colResizeDefault")&&(o=!o),o)){const Q=this.getDisplayedColAfter(R);if(!Q)return;const be=R.getActualWidth()-S.newWidth,Ie=Q.getActualWidth()+be;y.push({width:Ie,ratios:[1],columns:[Q]})}}),0!==y.length&&this.resizeColumnSets({resizeSets:y,finished:c,source:p})}checkMinAndMaxWidthsForSet(r){const{columns:o,width:c}=r;let p=0,y=0,S=!0;return o.forEach(Q=>{const be=Q.getMinWidth();p+=be||0;const Ie=Q.getMaxWidth();pt(Ie)&&Ie>0?y+=Ie:S=!1}),c>=p&&(!S||c<=y)}resizeColumnSets(r){const{resizeSets:o,finished:c,source:p}=r;if(o&&!o.every(Ie=>this.checkMinAndMaxWidthsForSet(Ie)))return void(c&&this.dispatchColumnResizedEvent(o&&o.length>0?o[0].columns:null,c,p));const S=[],R=[];o.forEach(Ie=>{const{width:Je,columns:Bt,ratios:Ei}=Ie,Li={},Wi={};Bt.forEach(cn=>R.push(cn));let Vi=!0,wn=0;for(;Vi;){if(wn++,wn>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}Vi=!1;const cn=[];let xn=0,Nn=Je;Bt.forEach((qn,hr)=>{Wi[qn.getId()]?Nn-=Li[qn.getId()]:(cn.push(qn),xn+=Ei[hr])});const Gn=1/xn;cn.forEach((qn,hr)=>{let es;hr===cn.length-1?es=Nn:(es=Math.round(Ei[hr]*Je*Gn),Nn-=es);const Il=qn.getMinWidth(),$l=qn.getMaxWidth();pt(Il)&&es<Il?(es=Il,Wi[qn.getId()]=!0,Vi=!0):pt($l)&&$l>0&&es>$l&&(es=$l,Wi[qn.getId()]=!0,Vi=!0),Li[qn.getId()]=es})}Bt.forEach(cn=>{const xn=Li[cn.getId()];cn.getActualWidth()!==xn&&(cn.setActualWidth(xn,p),S.push(cn))})});const L=S.length>0;let Q=[];L&&(Q=this.refreshFlexedColumns({resizingCols:R,skipSetLeft:!0}),this.setLeftValues(p),this.updateBodyWidths(),this.checkViewportColumns());const be=R.concat(Q);(L||c)&&this.dispatchColumnResizedEvent(be,c,p,Q)}setColumnAggFunc(r,o,c){if(!r)return;const p=this.getPrimaryColumn(r);p&&(p.setAggFunc(o),this.dispatchColumnChangedEvent(ae.EVENT_COLUMN_VALUE_CHANGED,[p],c))}moveRowGroupColumn(r,o,c){if(this.isRowGroupEmpty())return;const p=this.rowGroupColumns[r],y=this.rowGroupColumns.slice(r,o);this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(o,0,p),this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:y,column:1===y.length?y[0]:null,source:c})}moveColumns(r,o,c,p=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),o>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+o),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");const y=this.getGridColumns(r);this.doesMovePassRules(y,o)&&(Lt(this.gridColumns,y,o),this.updateDisplayedColumns(c),this.dispatchColumnMovedEvent({movedColumns:y,source:c,toIndex:o,finished:p}),this.columnAnimationService.finish())}doesMovePassRules(r,o){const c=this.getProposedColumnOrder(r,o);return this.doesOrderPassRules(c)}doesOrderPassRules(r){return!(!this.doesMovePassMarryChildren(r)||!this.doesMovePassLockedPositions(r))}getProposedColumnOrder(r,o){const c=this.gridColumns.slice();return Lt(c,r,o),c}sortColumnsLikeGridColumns(r){!r||r.length<=1||r.filter(c=>this.gridColumns.indexOf(c)<0).length>0||r.sort((c,p)=>this.gridColumns.indexOf(c)-this.gridColumns.indexOf(p))}doesMovePassLockedPositions(r){let o=0,c=!0;return r.forEach(y=>{const S=(y=>y?!0===y||"left"===y?0:2:1)(y.getColDef().lockPosition);S<o&&(c=!1),o=S}),c}doesMovePassMarryChildren(r){let o=!0;return to(null,this.gridBalancedTree,c=>{if(!(c instanceof Pe))return;const p=c,y=p.getColGroupDef();if(!y||!y.marryChildren)return;const R=[];p.getLeafColumns().forEach(Je=>{const Bt=r.indexOf(Je);R.push(Bt)}),Math.max.apply(Math,R)-Math.min.apply(Math,R)>p.getLeafColumns().length-1&&(o=!1)}),o}moveColumnByIndex(r,o,c){this.gridColumns&&this.moveColumns([this.gridColumns[r]],o,c)}getColumnDefs(){if(!this.primaryColumns)return;const r=this.primaryColumns.slice();return this.gridColsArePrimary?r.sort((o,c)=>this.gridColumns.indexOf(o)-this.gridColumns.indexOf(c)):this.lastPrimaryOrder&&r.sort((o,c)=>this.lastPrimaryOrder.indexOf(o)-this.lastPrimaryOrder.indexOf(c)),this.columnDefFactory.buildColumnDefs(r,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(r){switch(r){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const r=this.getWidthOfColsInList(this.displayedColumnsCenter),o=this.getWidthOfColsInList(this.displayedColumnsLeft),c=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==o||this.rightWidth!==c)&&(this.bodyWidth=r,this.leftWidth=o,this.rightWidth=c,this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED}),this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED}))}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var r;return null!=(r=this.gridColumns)?r:[]}isRowGroupEmpty(){return oi(this.rowGroupColumns)}setColumnsVisible(r,o=!1,c){this.applyColumnState({state:r.map(p=>({colId:"string"==typeof p?p:p.getColId(),hide:!o}))},c)}setColumnsPinned(r,o,c){if(!this.gridColumns)return;if(this.gos.isDomLayout("print"))return void console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");let p;this.columnAnimationService.start(),p=!0===o||"left"===o?"left":"right"===o?"right":null,this.actionOnGridColumns(r,y=>y.getPinned()!==p&&(y.setPinned(p),!0),c,()=>({type:ae.EVENT_COLUMN_PINNED,pinned:p,column:null,columns:null,source:c})),this.columnAnimationService.finish()}actionOnGridColumns(r,o,c,p){if(oi(r))return;const y=[];if(r.forEach(S=>{if(!S)return;const R=this.getGridColumn(S);R&&!1!==o(R)&&y.push(R)}),y.length&&(this.updateDisplayedColumns(c),pt(p)&&p)){const S=p();S.columns=y,S.column=1===y.length?y[0]:null,this.eventService.dispatchEvent(S)}}getDisplayedColBefore(r){const o=this.getAllDisplayedColumns(),c=o.indexOf(r);return c>0?o[c-1]:null}getDisplayedColAfter(r){const o=this.getAllDisplayedColumns(),c=o.indexOf(r);return c<o.length-1?o[c+1]:null}getDisplayedGroupAtDirection(r,o){const c=r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel(),p=r.getDisplayedLeafColumns(),y="After"===o?zt(p):p[0],S=`getDisplayedCol${o}`;for(;;){const R=this[S](y);if(!R)return null;const L=this.getColumnGroupAtLevel(R,c);if(L!==r)return L}}getColumnGroupAtLevel(r,o){let p,y,c=r.getParent();for(;p=c.getProvidedColumnGroup().getLevel(),y=c.getPaddingLevel(),!(p+y<=o);)c=c.getParent();return c}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(r){const o=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,c=r.isPivotActive()?this.pivotColumns.indexOf(r):null,p=r.isValueActive()?r.getAggFunc():null,y=null!=r.getSort()?r.getSort():null,S=null!=r.getSortIndex()?r.getSortIndex():null,R=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:y,sortIndex:S,aggFunc:p,rowGroup:r.isRowGroupActive(),rowGroupIndex:o,pivot:r.isPivotActive(),pivotIndex:c,flex:R}}getColumnState(){if(Ai(this.primaryColumns)||!this.isAlive())return[];const o=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(o),o}orderColumnStateList(r){const o=Rs(this.gridColumns.map((c,p)=>[c.getColId(),p]));r.sort((c,p)=>(o.has(c.colId)?o.get(c.colId):-1)-(o.has(p.colId)?o.get(p.colId):-1))}resetColumnState(r){if(oi(this.primaryColumns))return;const o=this.getColumnsFromTree(this.primaryColumnTree),c=[];let p=1e3,y=1e3,S=[];this.groupAutoColumns&&(S=S.concat(this.groupAutoColumns)),o&&(S=S.concat(o)),S.forEach(R=>{const L=this.getColumnStateFromColDef(R);Ai(L.rowGroupIndex)&&L.rowGroup&&(L.rowGroupIndex=p++),Ai(L.pivotIndex)&&L.pivot&&(L.pivotIndex=y++),c.push(L)}),this.applyColumnState({state:c,applyOrder:!0},r)}getColumnStateFromColDef(r){const o=(Li,Wi)=>Li??Wi??null,c=r.getColDef(),p=o(c.sort,c.initialSort),y=o(c.sortIndex,c.initialSortIndex),S=o(c.hide,c.initialHide),R=o(c.pinned,c.initialPinned),L=o(c.width,c.initialWidth),Q=o(c.flex,c.initialFlex);let be=o(c.rowGroupIndex,c.initialRowGroupIndex),Ie=o(c.rowGroup,c.initialRowGroup);null==be&&(null==Ie||0==Ie)&&(be=null,Ie=null);let Je=o(c.pivotIndex,c.initialPivotIndex),Bt=o(c.pivot,c.initialPivot);null==Je&&(null==Bt||0==Bt)&&(Je=null,Bt=null);const Ei=o(c.aggFunc,c.initialAggFunc);return{colId:r.getColId(),sort:p,sortIndex:y,hide:S,pinned:R,width:L,flex:Q,rowGroup:Ie,rowGroupIndex:be,pivot:Bt,pivotIndex:Je,aggFunc:Ei}}applyColumnState(r,o){if(oi(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const c=(S,R,L)=>{const Q=this.compareColumnStatesAndDispatchEvents(o);this.autoGroupsNeedBuilding=!0;const be=R.slice(),Ie={},Je={},Bt=[],Ei=[];let Li=0;const Wi=this.rowGroupColumns.slice(),Vi=this.pivotColumns.slice();S.forEach(Nn=>{const Gn=Nn.colId||"";if(Gn.startsWith(dt))return Bt.push(Nn),void Ei.push(Nn);const hr=L(Gn);hr?(this.syncColumnWithStateItem(hr,Nn,r.defaultState,Ie,Je,!1,o),Nt(be,hr)):(Ei.push(Nn),Li+=1)});const wn=Nn=>this.syncColumnWithStateItem(Nn,null,r.defaultState,Ie,Je,!1,o);be.forEach(wn);const cn=(Nn,Gn,qn,hr)=>{const ps=Nn[qn.getId()],es=Nn[hr.getId()],Il=null!=ps,$l=null!=es;if(Il&&$l)return ps-es;if(Il)return-1;if($l)return 1;const mh=Gn.indexOf(qn),Vd=Gn.indexOf(hr),ev=mh>=0;return ev&&Vd>=0?mh-Vd:ev?-1:1};this.rowGroupColumns.sort(cn.bind(this,Ie,Wi)),this.pivotColumns.sort(cn.bind(this,Je,Vi)),this.updateGridColumns();const xn=this.groupAutoColumns?this.groupAutoColumns.slice():[];return Bt.forEach(Nn=>{const Gn=this.getAutoColumn(Nn.colId);Nt(xn,Gn),this.syncColumnWithStateItem(Gn,Nn,r.defaultState,null,null,!0,o)}),xn.forEach(wn),this.applyOrderAfterApplyState(r),this.updateDisplayedColumns(o),this.dispatchEverythingChanged(o),Q(),{unmatchedAndAutoStates:Ei,unmatchedCount:Li}};this.columnAnimationService.start();let{unmatchedAndAutoStates:p,unmatchedCount:y}=c(r.state||[],this.primaryColumns||[],S=>this.getPrimaryColumn(S));return(p.length>0||pt(r.defaultState))&&(y=c(p,this.secondaryColumns||[],S=>this.getSecondaryColumn(S)).unmatchedCount),this.columnAnimationService.finish(),0===y}applyOrderAfterApplyState(r){if(!r.applyOrder||!r.state)return;let o=[];const c={};r.state.forEach(y=>{if(!y.colId||c[y.colId])return;const S=this.gridColumnsMap[y.colId];S&&(o.push(S),c[y.colId]=!0)});let p=0;this.gridColumns.forEach(y=>{const S=y.getColId();null==c[S]&&(S.startsWith(dt)?Di(o,y,p++):o.push(y))}),o=this.placeLockedColumns(o),this.doesMovePassMarryChildren(o)?this.gridColumns=o:console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}compareColumnStatesAndDispatchEvents(r){const o={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},c=this.getColumnState(),p={};return c.forEach(y=>{p[y.colId]=y}),()=>{const y=this.getPrimaryAndSecondaryAndAutoColumns(),S=(Wi,Vi,wn,cn)=>{if(Ri(Vi.map(cn),wn.map(cn)))return;const qn=new Set(Vi);wn.forEach(es=>{qn.delete(es)||qn.add(es)});const hr=[...qn];this.eventService.dispatchEvent({type:Wi,columns:hr,column:1===hr.length?hr[0]:null,source:r})},R=Wi=>{const Vi=[];return y.forEach(wn=>{const cn=p[wn.getColId()];cn&&Wi(cn,wn)&&Vi.push(wn)}),Vi},L=Wi=>Wi.getColId();S(ae.EVENT_COLUMN_ROW_GROUP_CHANGED,o.rowGroupColumns,this.rowGroupColumns,L),S(ae.EVENT_COLUMN_PIVOT_CHANGED,o.pivotColumns,this.pivotColumns,L);const be=R((Wi,Vi)=>{const wn=null!=Wi.aggFunc,cn=wn!=Vi.isValueActive(),xn=wn&&Wi.aggFunc!=Vi.getAggFunc();return cn||xn});be.length>0&&this.dispatchColumnChangedEvent(ae.EVENT_COLUMN_VALUE_CHANGED,be,r),this.dispatchColumnResizedEvent(R((Wi,Vi)=>Wi.width!=Vi.getActualWidth()),!0,r),this.dispatchColumnPinnedEvent(R((Wi,Vi)=>Wi.pinned!=Vi.getPinned()),r),this.dispatchColumnVisibleEvent(R((Wi,Vi)=>Wi.hide==Vi.isVisible()),r);const Li=R((Wi,Vi)=>Wi.sort!=Vi.getSort()||Wi.sortIndex!=Vi.getSortIndex());Li.length>0&&this.sortController.dispatchSortChangedEvents(r,Li),this.normaliseColumnMovedEventForColumnState(c,r)}}getCommonValue(r,o){if(!r||0==r.length)return;const c=o(r[0]);for(let p=1;p<r.length;p++)if(c!==o(r[p]))return;return c}normaliseColumnMovedEventForColumnState(r,o){const c=this.getColumnState(),p={};c.forEach(Q=>p[Q.colId]=Q);const y={};r.forEach(Q=>{p[Q.colId]&&(y[Q.colId]=!0)});const S=r.filter(Q=>y[Q.colId]),R=c.filter(Q=>y[Q.colId]),L=[];R.forEach((Q,be)=>{const Ie=S&&S[be];if(Ie&&Ie.colId!==Q.colId){const Je=this.getGridColumn(Ie.colId);Je&&L.push(Je)}}),L.length&&this.dispatchColumnMovedEvent({movedColumns:L,source:o,finished:!0})}syncColumnWithStateItem(r,o,c,p,y,S,R){var L;if(!r)return;const Q=(Nn,Gn)=>{const qn={value1:void 0,value2:void 0};let hr=!1;return o&&(void 0!==o[Nn]&&(qn.value1=o[Nn],hr=!0),pt(Gn)&&void 0!==o[Gn]&&(qn.value2=o[Gn],hr=!0)),!hr&&c&&(void 0!==c[Nn]&&(qn.value1=c[Nn]),pt(Gn)&&void 0!==c[Gn]&&(qn.value2=c[Gn])),qn},be=Q("hide").value1;void 0!==be&&r.setVisible(!be,R);const Ie=Q("pinned").value1;void 0!==Ie&&r.setPinned(Ie);const Je=null!=(L=r.getColDef().minWidth)?L:this.environment.getMinColWidth(),Bt=Q("flex").value1;if(void 0!==Bt&&r.setFlex(Bt),null==Bt){const Nn=Q("width").value1;null!=Nn&&null!=Je&&Nn>=Je&&r.setActualWidth(Nn,R)}const Ei=Q("sort").value1;void 0!==Ei&&r.setSort("desc"===Ei||"asc"===Ei?Ei:void 0,R);const Li=Q("sortIndex").value1;if(void 0!==Li&&r.setSortIndex(Li),S||!r.isPrimary())return;const Wi=Q("aggFunc").value1;void 0!==Wi&&("string"==typeof Wi?(r.setAggFunc(Wi),r.isValueActive()||(r.setValueActive(!0,R),this.valueColumns.push(r))):(pt(Wi)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,R),Nt(this.valueColumns,r))));const{value1:Vi,value2:wn}=Q("rowGroup","rowGroupIndex");(void 0!==Vi||void 0!==wn)&&("number"==typeof wn||Vi?(r.isRowGroupActive()||(r.setRowGroupActive(!0,R),this.rowGroupColumns.push(r)),p&&"number"==typeof wn&&(p[r.getId()]=wn)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,R),Nt(this.rowGroupColumns,r)));const{value1:cn,value2:xn}=Q("pivot","pivotIndex");(void 0!==cn||void 0!==xn)&&("number"==typeof xn||cn?(r.isPivotActive()||(r.setPivotActive(!0,R),this.pivotColumns.push(r)),y&&"number"==typeof xn&&(y[r.getId()]=xn)):r.isPivotActive()&&(r.setPivotActive(!1,R),Nt(this.pivotColumns,r)))}getGridColumns(r){return this.getColumns(r,this.getGridColumn.bind(this))}getColumns(r,o){const c=[];return r&&r.forEach(p=>{const y=o(p);y&&c.push(y)}),c}getColumnWithValidation(r){if(null==r)return null;const o=this.getGridColumn(r);return o||console.warn("AG Grid: could not find column "+r),o}getPrimaryColumn(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(r){return this.gridColumnsMap[r]}getSecondaryColumn(r){return this.secondaryColumns?this.getColumn(r,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(r,o,c){if(!r||!c)return null;if("string"==typeof r&&c[r])return c[r];for(let p=0;p<o.length;p++)if(this.columnsMatch(o[p],r))return o[p];return this.getAutoColumn(r)}getSourceColumnsForGroupColumn(r){const o=r.getColDef().showRowGroup;if(!o)return null;if(!0===o)return this.rowGroupColumns.slice(0);const c=this.getPrimaryColumn(o);return c?[c]:null}getAutoColumn(r){return this.groupAutoColumns&&pt(this.groupAutoColumns)&&!Ai(this.groupAutoColumns)&&this.groupAutoColumns.find(o=>this.columnsMatch(o,r))||null}columnsMatch(r,o){const c=r===o,p=r.getColDef()===o,y=r.getColId()==o;return c||p||y}getDisplayNameForColumn(r,o,c=!1){if(!r)return null;const p=this.getHeaderName(r.getColDef(),r,null,null,o);return c?this.wrapHeaderNameWithAggFunc(r,p):p}getDisplayNameForProvidedColumnGroup(r,o,c){const p=o?o.getColGroupDef():null;return p?this.getHeaderName(p,null,r,o,c):null}getDisplayNameForColumnGroup(r,o){return this.getDisplayNameForProvidedColumnGroup(r,r.getProvidedColumnGroup(),o)}getHeaderName(r,o,c,p,y){const S=r.headerValueGetter;if(S){const R=this.gos.addGridCommonParams({colDef:r,column:o,columnGroup:c,providedColumnGroup:p,location:y});return"function"==typeof S?S(R):"string"==typeof S?this.expressionService.evaluate(S,R):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?wa(r.field):""}wrapHeaderNameWithAggFunc(r,o){if(this.gos.get("suppressAggFuncInHeader"))return o;const c=r.getColDef().pivotValueColumn;let S,y=null;if(pt(c)){const R=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===this.valueColumns.length,L=void 0!==r.getColDef().pivotTotalColumnIds;if(R&&!L)return o;y=c?c.getAggFunc():null,S=!0}else{const R=r.isValueActive(),L=this.pivotMode||!this.isRowGroupEmpty();R&&L?(y=r.getAggFunc(),S=!0):S=!1}if(S){const R="string"==typeof y?y:"func";return`${this.localeService.getLocaleTextFunc()(R,R)}(${o})`}return o}getColumnGroup(r,o){if(!r)return null;if(r instanceof pr)return r;const c=this.getAllDisplayedTrees(),p="number"==typeof o;let y=null;return Bs(c,!1,S=>{if(S instanceof pr){const R=S;let L;L=p?r===R.getGroupId()&&o===R.getPartId():r===R.getGroupId(),L&&(y=R)}}),y}isReady(){return this.ready}extractValueColumns(r,o){this.valueColumns=this.extractColumns(o,this.valueColumns,(c,p)=>c.setValueActive(p,r),()=>{},()=>{},c=>{const p=c.aggFunc;return null===p||""===p?null:void 0!==p?!!p:void 0},c=>null!=c.initialAggFunc&&""!=c.initialAggFunc),this.valueColumns.forEach(c=>{const p=c.getColDef();null!=p.aggFunc&&""!=p.aggFunc?c.setAggFunc(p.aggFunc):c.getAggFunc()||c.setAggFunc(p.initialAggFunc)})}extractRowGroupColumns(r,o){this.rowGroupColumns=this.extractColumns(o,this.rowGroupColumns,(c,p)=>c.setRowGroupActive(p,r),c=>c.rowGroupIndex,c=>c.initialRowGroupIndex,c=>c.rowGroup,c=>c.initialRowGroup)}extractColumns(r=[],o=[],c,p,y,S,R){const L=[],Q=[];(this.primaryColumns||[]).forEach(Je=>{const Bt=r.indexOf(Je)<0,Ei=Je.getColDef(),Li=Oe(S(Ei)),Wi=Oe(R(Ei)),Vi=Ot(p(Ei)),wn=Ot(y(Ei));let cn;cn=void 0!==Li?Li:void 0!==Vi?null!==Vi&&Vi>=0:Bt?void 0!==Wi?Wi:void 0!==wn&&null!=wn&&wn>=0:o.indexOf(Je)>=0,cn&&((Bt?null!=Vi||null!=wn:null!=Vi)?L.push(Je):Q.push(Je))});const be=Je=>{const Bt=p(Je.getColDef()),Ei=y(Je.getColDef());return Bt??Ei};L.sort((Je,Bt)=>{const Ei=be(Je),Li=be(Bt);return Ei===Li?0:Ei<Li?-1:1});const Ie=[].concat(L);return o.forEach(Je=>{Q.indexOf(Je)>=0&&Ie.push(Je)}),Q.forEach(Je=>{Ie.indexOf(Je)<0&&Ie.push(Je)}),o.forEach(Je=>{Ie.indexOf(Je)<0&&c(Je,!1)}),Ie.forEach(Je=>{o.indexOf(Je)<0&&c(Je,!0)}),Ie}extractPivotColumns(r,o){this.pivotColumns=this.extractColumns(o,this.pivotColumns,(c,p)=>c.setPivotActive(p,r),c=>c.pivotIndex,c=>c.initialPivotIndex,c=>c.pivot,c=>c.initialPivot)}resetColumnGroupState(r){if(!this.primaryColumnTree)return;const o=[];to(null,this.primaryColumnTree,c=>{if(c instanceof Pe){const p=c.getColGroupDef(),y={groupId:c.getGroupId(),open:p?p.openByDefault:void 0};o.push(y)}}),this.setColumnGroupState(o,r)}getColumnGroupState(){const r=[];return to(null,this.gridBalancedTree,o=>{o instanceof Pe&&r.push({groupId:o.getGroupId(),open:o.isExpanded()})}),r}setColumnGroupState(r,o){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const c=[];r.forEach(p=>{const S=p.open,R=this.getProvidedColumnGroup(p.groupId);R&&R.isExpanded()!==S&&(this.logger.log("columnGroupOpened("+R.getGroupId()+","+S+")"),R.setExpanded(S),c.push(R))}),this.updateGroupsAndDisplayedColumns(o),this.setFirstRightAndLastLeftPinned(o),c.length&&this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_GROUP_OPENED,columnGroup:1===Pe.length?c[0]:void 0,columnGroups:c}),this.columnAnimationService.finish()}setColumnGroupOpened(r,o,c){let p;p=r instanceof Pe?r.getId():r||"",this.setColumnGroupState([{groupId:p,open:o}],c)}getProvidedColumnGroup(r){"string"!=typeof r&&console.error("AG Grid: group key must be a string");let o=null;return to(null,this.gridBalancedTree,c=>{c instanceof Pe&&c.getId()===r&&(o=c)}),o}calculateColumnsForDisplay(){let r;return r=this.pivotMode&&Ai(this.secondaryColumns)?this.gridColumns.filter(o=>{const c=this.groupAutoColumns&&ai(this.groupAutoColumns,o),p=this.valueColumns&&ai(this.valueColumns,o);return c||p}):this.gridColumns.filter(o=>this.groupAutoColumns&&ai(this.groupAutoColumns,o)||o.isVisible()),r}checkColSpanActiveInCols(r){let o=!1;return r.forEach(c=>{pt(c.getColDef().colSpan)&&(o=!0)}),o}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={},this.gridColumns.forEach(o=>{const c=o.getColDef(),p=c.showRowGroup;c&&pt(p)&&(this.groupDisplayColumns.push(o),"string"==typeof p?this.groupDisplayColumnsMap[p]=o:!0===p&&this.getRowGroupColumns().forEach(y=>{this.groupDisplayColumnsMap[y.getId()]=o}))})}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(r){return this.groupDisplayColumnsMap[r]}updateDisplayedColumns(r){const o=this.calculateColumnsForDisplay();this.buildDisplayedTrees(o),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)}isSecondaryColumnsPresent(){return pt(this.secondaryColumns)}setSecondaryColumns(r,o){if(!this.gridColumns)return;const c=r;if(c||!Ai(this.secondaryColumns)){if(c){this.processSecondaryColumnDefinitions(r);const p=this.columnFactory.createColumnTree(r,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,o);this.destroyOldColumns(this.secondaryBalancedTree,p.columnTree),this.secondaryBalancedTree=p.columnTree,this.secondaryHeaderRowCount=p.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(y=>this.secondaryColumnsMap[y.getId()]=y),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(o)}}processSecondaryColumnDefinitions(r){const o=this.gos.get("processPivotResultColDef"),c=this.gos.get("processPivotResultColGroupDef");if(!o&&!c)return;const p=y=>{y.forEach(S=>{if(pt(S.children)){const L=S;c&&c(L),p(L.children)}else o&&o(S)})};r&&p(r)}updateGridColumns(){const r=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const p=Rs(this.groupAutoColumns.map(y=>[y,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(y=>!p.has(y)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(y=>!p.has(y)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let c;if(this.secondaryColumns&&this.secondaryBalancedTree){const p=this.secondaryColumns.some(y=>void 0!==this.gridColumnsMap[y.getColId()]);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,p&&(c=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,c=this.lastPrimaryOrder);this.addAutoGroupToGridColumns(),this.orderGridColsLike(c),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(p=>this.gridColumnsMap[p.getId()]=p),this.setAutoHeightActive(),Ri(r,this.gridBalancedTree)||this.eventService.dispatchEvent({type:ae.EVENT_GRID_COLUMNS_CHANGED})}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(r=>r.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||Zt("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(r){if(Ai(r))return;const o=Rs(r.map((Q,be)=>[Q,be]));let c=!0;if(this.gridColumns.forEach(Q=>{o.has(Q)&&(c=!1)}),c)return;const p=Rs(this.gridColumns.map(Q=>[Q,!0])),y=r.filter(Q=>p.has(Q)),S=Rs(y.map(Q=>[Q,!0])),R=this.gridColumns.filter(Q=>!S.has(Q)),L=y.slice();R.forEach(Q=>{let be=Q.getOriginalParent();if(!be)return void L.push(Q);const Ie=[];for(;!Ie.length&&be;)be.getLeafColumns().forEach(Li=>{const Wi=L.indexOf(Li)>=0,Vi=Ie.indexOf(Li)<0;Wi&&Vi&&Ie.push(Li)}),be=be.getOriginalParent();if(!Ie.length)return void L.push(Q);const Je=Ie.map(Ei=>L.indexOf(Ei)),Bt=Math.max(...Je);Di(L,Q,Bt+1)}),this.gridColumns=L}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var r;let o=null!=(r=this.isPivotMode()&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.secondaryColumns:this.primaryColumns)?r:[];this.groupAutoColumns&&(o=o.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?o:o.filter(c=>c.isVisible()||c.isRowGroupActive())}placeLockedColumns(r){const o=[],c=[],p=[];return r.forEach(y=>{const S=y.getColDef().lockPosition;"right"===S?p.push(y):"left"===S||!0===S?o.push(y):c.push(y)}),[...o,...c,...p]}addAutoGroupToGridColumns(){if(Ai(this.groupAutoColumns))return this.destroyOldColumns(this.groupAutoColsBalancedTree),void(this.groupAutoColsBalancedTree=null);this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,r),this.groupAutoColsBalancedTree=r,this.gridBalancedTree=r.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_COLUMNS_CHANGED})}deriveDisplayedColumns(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(o=>o.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const r=this.getAllGridColumns(),o=[],c=[],p=[];for(const y of r){const S=y.getPinned();S?!0===S||"left"===S?o.push(y):p.push(y):c.push(y)}this.ariaOrderColumns=o.concat(c).concat(p)}joinDisplayedColumns(){this.displayedColumns=this.gos.get("enableRtl")?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(r){if(!this.primaryColumns)return;const o=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),c=this.gos.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(p=>{if(c){let y=this.getWidthOfColsInList(p);p.forEach(S=>{y-=S.getActualWidth(),S.setLeft(y,r)})}else{let y=0;p.forEach(S=>{S.setLeft(y,r),y+=S.getActualWidth()})}Ii(o,p)}),o.forEach(p=>{p.setLeft(null,r)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(r=>{r.forEach(o=>{o instanceof pr&&o.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(r,o){o.length=0,Bs(r,!0,c=>{c instanceof bt&&o.push(c)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(r,o){let c;switch(r){case"left":c=this.viewportRowLeft[o];break;case"right":c=this.viewportRowRight[o];break;default:c=this.viewportRowCenter[o]}return Ai(c)&&(c=[]),c}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const r={};this.headerViewportColumns.forEach(c=>r[c.getId()]=!0);const o=(c,p,y)=>{let S=!1;for(let R=0;R<c.length;R++){const L=c[R];let Q=!1;if(L instanceof bt)Q=!0===r[L.getId()];else{const Ie=L.getDisplayedChildren();Ie&&(Q=o(Ie,p,y+1))}Q&&(S=!0,p[y]||(p[y]=[]),p[y].push(L))}return S};o(this.displayedTreeLeft,this.viewportRowLeft,0),o(this.displayedTreeRight,this.viewportRowRight,0),o(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){this.extractViewportColumns();const o=this.viewportColumns.map(p=>`${p.getId()}-${p.getPinned()||"normal"}`).join("#"),c=this.viewportColumnsHash!==o;return c&&(this.viewportColumnsHash=o,this.calculateHeaderRows()),c}refreshFlexedColumns(r={}){var o;const c=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];let p=-1;if(r.resizingCols){const Bt=new Set(r.resizingCols);let Ei=this.displayedColumnsCenter;for(let Li=Ei.length-1;Li>=0;Li--)if(Bt.has(Ei[Li])){p=Li;break}}let y=0,S=[],R=0,L=0;for(let Bt=0;Bt<this.displayedColumnsCenter.length;Bt++)this.displayedColumnsCenter[Bt].getFlex()&&Bt>p?(S.push(this.displayedColumnsCenter[Bt]),L+=this.displayedColumnsCenter[Bt].getFlex(),R+=null!=(o=this.displayedColumnsCenter[Bt].getMinWidth())?o:0):y+=this.displayedColumnsCenter[Bt].getActualWidth();if(!S.length)return[];let Q=[];y+R>this.flexViewportWidth&&(S.forEach(Bt=>{var Ei;return Bt.setActualWidth(null!=(Ei=Bt.getMinWidth())?Ei:0,c)}),Q=S,S=[]);const be=[];let Ie;e:for(;;){Ie=this.flexViewportWidth-y;const Bt=Ie/L;for(let Ei=0;Ei<S.length;Ei++){const Li=S[Ei],Wi=Bt*Li.getFlex();let Vi=0;const wn=Li.getMinWidth(),cn=Li.getMaxWidth();if(pt(wn)&&Wi<wn?Vi=wn:pt(cn)&&Wi>cn&&(Vi=cn),Vi){Li.setActualWidth(Vi,c),Me(S,Li),L-=Li.getFlex(),Q.push(Li),y+=Li.getActualWidth();continue e}be[Ei]=Math.round(Wi)}break}let Je=Ie;return S.forEach((Bt,Ei)=>{Bt.setActualWidth(Math.min(be[Ei],Je),c),Q.push(Bt),Je-=be[Ei]}),r.skipSetLeft||this.setLeftValues(c),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.dispatchColumnResizedEvent(Q,!0,c,S),S}sizeColumnsToFit(r,o="sizeColumnsToFit",c,p){var y,S,R,L,Q;if(this.shouldQueueResizeOperations)return void this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(r,o,c,p));const be={};p&&(null==(y=p?.columnLimits)||y.forEach(wn=>{var cn=wn,{key:xn}=cn,Nn=((r,o)=>{var c={};for(var p in r)j.call(r,p)&&o.indexOf(p)<0&&(c[p]=r[p]);if(null!=r&&Ke)for(var p of Ke(r))o.indexOf(p)<0&&rt.call(r,p)&&(c[p]=r[p]);return c})(cn,["key"]);be["string"==typeof xn?xn:xn.getColId()]=Nn}));const Ie=this.getAllDisplayedColumns(),Je=r===this.getWidthOfColsInList(Ie);if(r<=0||!Ie.length||Je)return;const Bt=[],Ei=[];Ie.forEach(wn=>{!0===wn.getColDef().suppressSizeToFit?Ei.push(wn):Bt.push(wn)});const Li=Bt.slice(0);let Wi=!1;const Vi=wn=>{Nt(Bt,wn),Ei.push(wn)};for(Bt.forEach(wn=>{var cn,xn;wn.resetActualWidth(o);const Nn=be?.[wn.getId()],Gn=null!=(cn=Nn?.minWidth)?cn:p?.defaultMinWidth,qn=null!=(xn=Nn?.maxWidth)?xn:p?.defaultMaxWidth,hr=wn.getActualWidth();"number"==typeof Gn&&hr<Gn?wn.setActualWidth(Gn,o,!0):"number"==typeof qn&&hr>qn&&wn.setActualWidth(qn,o,!0)});!Wi;){Wi=!0;const wn=r-this.getWidthOfColsInList(Ei);if(wn<=0)Bt.forEach(cn=>{var xn,Nn;const Gn=null!=(Nn=null==(xn=be?.[cn.getId()])?void 0:xn.minWidth)?Nn:p?.defaultMinWidth;"number"!=typeof Gn?cn.setMinimum(o):cn.setActualWidth(Gn,o,!0)});else{const cn=wn/this.getWidthOfColsInList(Bt);let xn=wn;for(let Nn=Bt.length-1;Nn>=0;Nn--){const Gn=Bt[Nn],qn=be?.[Gn.getId()],hr=null!=(S=qn?.minWidth)?S:p?.defaultMinWidth,ps=null!=(R=qn?.maxWidth)?R:p?.defaultMaxWidth,es=null!=(L=Gn.getMinWidth())?L:0,Il=null!=(Q=Gn.getMaxWidth())?Q:Number.MAX_VALUE,$l="number"==typeof hr&&hr>es?hr:Gn.getMinWidth(),mh="number"==typeof ps&&ps<Il?ps:Gn.getMaxWidth();let Vd=Math.round(Gn.getActualWidth()*cn);pt($l)&&Vd<$l?(Vd=$l,Vi(Gn),Wi=!1):pt(mh)&&Vd>mh?(Vd=mh,Vi(Gn),Wi=!1):0===Nn&&(Vd=xn),Gn.setActualWidth(Vd,o,!0),xn-=Vd}}}Li.forEach(wn=>{wn.fireColumnWidthChangedEvent(o)}),this.setLeftValues(o),this.updateBodyWidths(),!c&&this.dispatchColumnResizedEvent(Li,!0,o)}buildDisplayedTrees(r){const o=[],c=[],p=[];r.forEach(S=>{switch(S.getPinned()){case"left":o.push(S);break;case"right":c.push(S);break;default:p.push(S)}});const y=new oe;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(o,y,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(c,y,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(p,y,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const r=o=>{this.displayedColumnsAndGroupsMap[o.getUniqueId()]=o};Bs(this.displayedTreeCentre,!1,r),Bs(this.displayedTreeLeft,!1,r),Bs(this.displayedTreeRight,!1,r)}isDisplayed(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r}updateOpenClosedVisibilityInColumnGroups(){Bs(this.getAllDisplayedTrees(),!1,o=>{o instanceof pr&&o.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const r=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const o=this.gos.isGroupUseEntireRow(this.pivotMode),c=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.gos.get("treeData"))||c||o)this.groupAutoColumns=null;else{const S=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(S,this.groupAutoColumns)||r)return this.groupAutoColumns=S,!0}return!1}isGroupSuppressAutoColumn(){return"custom"===this.gos.get("groupDisplayType")||"custom"===this.gos.get("treeDataDisplayType")}autoColsEqual(r,o){return Ri(r,o,(c,p)=>c.getColId()===p.getColId())}getWidthOfColsInList(r){return r.reduce((o,c)=>o+c.getActualWidth(),0)}getFirstDisplayedColumn(){const r=this.gos.get("enableRtl"),o=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&o.reverse();for(let c=0;c<o.length;c++){const p=this[o[c]]();if(p.length)return r?zt(p):p[0]}return null}setColumnHeaderHeight(r,o){r.setAutoHeaderHeight(o)&&this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:r,columns:[r],source:"autosizeColumnHeaderHeight"})}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const r=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),o=this.getAllDisplayedColumns().filter(c=>c.isAutoHeaderHeight()).map(c=>c.getAutoHeaderHeight()||0);return Math.max(r,...o)}getHeaderHeight(){var r;return null!=(r=this.gos.get("headerHeight"))?r:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var r;return null!=(r=this.gos.get("floatingFiltersHeight"))?r:this.getHeaderHeight()}getGroupHeaderHeight(){var r;return null!=(r=this.gos.get("groupHeaderHeight"))?r:this.getHeaderHeight()}getPivotHeaderHeight(){var r;return null!=(r=this.gos.get("pivotHeaderHeight"))?r:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var r;return null!=(r=this.gos.get("pivotGroupHeaderHeight"))?r:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(r=>r()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(r,o){const c=r.getUserProvidedColDef();if(!c)return!1;const p=this.columnFactory.addColumnDefaultAndTypes(c,r.getColId());return r.setColDef(p,c,o),!0}isColumnGroupingLocked(r){const o=this.gos.get("groupLockGroupColumns");return!(!r.isRowGroupActive()||0===o)&&(-1===o||o>this.rowGroupColumns.findIndex(p=>p.getColId()===r.getColId()))}generateColumnStateForRowGroupAndPivotIndexes(r,o){let c={};const p=(y,S,R,L,Q,be)=>{if(!S.length||!this.primaryColumns)return[];const Ie=Object.keys(y),Je=new Set(Ie),Bt=new Set(Ie),Ei=new Set(S.map(Gn=>{const qn=Gn.getColId();return Bt.delete(qn),qn}).concat(Ie)),Li=[],Wi={};let Vi=0;for(let Gn=0;Gn<this.primaryColumns.length;Gn++){const qn=this.primaryColumns[Gn].getColId();Ei.has(qn)&&(Li.push(qn),Wi[qn]=Vi++)}let wn=1e3,cn=!1,xn=0;const Nn=Gn=>{const qn=Wi[Gn];for(let hr=xn;hr<qn;hr++){const ps=Li[hr];Bt.has(ps)&&(y[ps][Q]=wn++,Bt.delete(ps))}xn=qn};S.forEach(Gn=>{const qn=Gn.getColId();if(Je.has(qn))Nn(qn),y[qn][Q]=wn++;else{const hr=Gn.getColDef();(null===hr[Q]||void 0===hr[Q]&&null==hr[be])&&(cn||(hr[R]||void 0===hr[R]&&hr[L]?Nn(qn):(Bt.forEach(Il=>{y[Il][Q]=wn+Wi[Il]}),wn+=Li.length,cn=!0)),c[qn]||(c[qn]={colId:qn}),c[qn][Q]=wn++)}})};return p(r,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),p(o,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(c)}onColumnsReady(){const r=this.gos.get("autoSizeStrategy");if(!r)return;const{type:o}=r;setTimeout(()=>{if("fitGridWidth"===o){const{columnLimits:c,defaultMinWidth:p,defaultMaxWidth:y}=r,S=c?.map(({colId:R,minWidth:L,maxWidth:Q})=>({key:R,minWidth:L,maxWidth:Q}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:p,defaultMaxWidth:y,columnLimits:S})}else"fitProvidedWidth"===o&&this.sizeColumnsToFit(r.width,"sizeColumnsToFit")})}onFirstDataRendered(){const r=this.gos.get("autoSizeStrategy");if("fitCellContents"!==r?.type)return;const{colIds:o,skipHeader:c}=r;setTimeout(()=>{o?this.autoSizeColumns({columns:o,skipHeader:c,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",c)})}};function Ws(r){return"gridOptionsUpdated"===r?"gridOptionsChanged":r}function Bs(r,o,c){if(r)for(let p=0;p<r.length;p++){const y=r[p];y instanceof pr&&Bs(o?y.getDisplayedChildren():y.getChildren(),o,c),c(y)}}P([$("expressionService")],Er.prototype,"expressionService",2),P([$("columnFactory")],Er.prototype,"columnFactory",2),P([$("displayedGroupCreator")],Er.prototype,"displayedGroupCreator",2),P([$("ctrlsService")],Er.prototype,"ctrlsService",2),P([$("autoWidthCalculator")],Er.prototype,"autoWidthCalculator",2),P([$("columnAnimationService")],Er.prototype,"columnAnimationService",2),P([$("autoGroupColService")],Er.prototype,"autoGroupColService",2),P([$("valueCache")],Er.prototype,"valueCache",2),P([$("animationFrameService")],Er.prototype,"animationFrameService",2),P([$("sortController")],Er.prototype,"sortController",2),P([$("columnDefFactory")],Er.prototype,"columnDefFactory",2),P([Kt("aggFuncService")],Er.prototype,"aggFuncService",2),P([mt],Er.prototype,"init",1),P([jt],Er.prototype,"destroyColumns",1),P([Be(0,ui("loggerFactory"))],Er.prototype,"setBeans",1),Er=P([It("columnModel")],Er);var Wa=class extends nn{createDisplayedGroups(r,o,c,p){const y=this.mapOldGroupsById(p),S=[];let R=r;for(;R.length;){const L=R;R=[];let Q=0;const be=Ie=>{const Je=Q;Q=Ie;const Bt=L[Je],Li=(Bt instanceof pr?Bt.getProvidedColumnGroup():Bt).getOriginalParent();if(null==Li){for(let Vi=Je;Vi<Ie;Vi++)S.push(L[Vi]);return}const Wi=this.createColumnGroup(Li,o,y,c);for(let Vi=Je;Vi<Ie;Vi++)Wi.addChild(L[Vi]);R.push(Wi)};for(let Ie=1;Ie<L.length;Ie++){const Je=L[Ie],Ei=(Je instanceof pr?Je.getProvidedColumnGroup():Je).getOriginalParent(),Li=L[Q];Ei!==(Li instanceof pr?Li.getProvidedColumnGroup():Li).getOriginalParent()&&be(Ie)}Q<L.length&&be(L.length)}return this.setupParentsIntoColumns(S,null),S}createColumnGroup(r,o,c,p){const y=r.getGroupId(),S=o.getInstanceIdForKey(y);let L=c[pr.createUniqueId(y,S)];return L&&L.getProvidedColumnGroup()!==r&&(L=null),pt(L)?L.reset():(L=new pr(r,y,S,p),this.context.createBean(L)),L}mapOldGroupsById(r){const o={},c=p=>{p.forEach(y=>{if(y instanceof pr){const S=y;o[y.getUniqueId()]=S,c(S.getChildren())}})};return r&&c(r),o}setupParentsIntoColumns(r,o){r.forEach(c=>{if(c.setParent(o),c instanceof pr){const p=c;this.setupParentsIntoColumns(p.getChildren(),p)}})}};Wa=P([It("displayedGroupCreator")],Wa);var Ys={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},So=class{};So.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],So.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],So.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],So.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],So.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval"],So.OTHER_PROPERTIES=["suppressStickyTotalRow"],So.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"],So.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],So.FUNCTION_PROPERTIES=[...So.FUNCTIONAL_PROPERTIES,...So.CALLBACK_PROPERTIES],So.ALL_PROPERTIES=[...So.ARRAY_PROPERTIES,...So.OBJECT_PROPERTIES,...So.STRING_PROPERTIES,...So.NUMBER_PROPERTIES,...So.FUNCTION_PROPERTIES,...So.BOOLEAN_PROPERTIES,...So.OTHER_PROPERTIES];var js=So,po=class dM{static getCallbackForEvent(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(o,c){"object"!=typeof o&&(o={});const p=ee({},o);return dM.getGridOptionKeys().forEach(S=>{const R=c[S];typeof R<"u"&&R!==dM.VUE_OMITTED_PROPERTY&&(p[S]=R)}),p}static processOnChange(o,c,p){if(!o)return;const y={};let S=!1;if(Object.keys(o).filter(L=>dM.ALL_PROPERTIES_AND_CALLBACKS_SET.has(L)).forEach(L=>{y[L]=o[L],S=!0}),!S)return;c.__internalUpdateGridOptions(y,!0);const R={type:ae.EVENT_COMPONENT_STATE_CHANGED};bi(y,(L,Q)=>{R[L]=Q}),c.dispatchEvent(R)}};po.EVENTS=Ht(ae),po.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",po.EXCLUDED_INTERNAL_EVENTS=[ae.EVENT_SCROLLBAR_WIDTH_CHANGED,ae.EVENT_CHECKBOX_CHANGED,ae.EVENT_HEIGHT_SCALE_CHANGED,ae.EVENT_BODY_HEIGHT_CHANGED,ae.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,ae.EVENT_SCROLL_VISIBILITY_CHANGED,ae.EVENT_COLUMN_HOVER_CHANGED,ae.EVENT_FLASH_CELLS,ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,ae.EVENT_DISPLAYED_ROWS_CHANGED,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,ae.EVENT_STORE_UPDATED,ae.EVENT_COLUMN_PANEL_ITEM_DRAG_START,ae.EVENT_COLUMN_PANEL_ITEM_DRAG_END,ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,ae.EVENT_FULL_WIDTH_ROW_FOCUSED,ae.EVENT_HEADER_HEIGHT_CHANGED,ae.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,ae.EVENT_CELL_FOCUS_CLEARED,ae.EVENT_GRID_STYLES_CHANGED,ae.EVENT_FILTER_DESTROYED,ae.EVENT_ROW_DATA_UPDATE_STARTED,ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,ae.EVENT_DATA_TYPES_INFERRED,ae.EVENT_FIELD_VALUE_CHANGED,ae.EVENT_FIELD_PICKER_VALUE_SELECTED,ae.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,ae.EVENT_SUPPRESS_MENU_HIDE_CHANGED,ae.EVENT_SUPPRESS_FIELD_DOT_NOTATION,ae.EVENT_ROW_COUNT_READY,ae.EVENT_SIDE_BAR_UPDATED],po.PUBLIC_EVENTS=po.EVENTS.filter(r=>!ai(po.EXCLUDED_INTERNAL_EVENTS,r)),po.EVENT_CALLBACKS=po.EVENTS.map(r=>po.getCallbackForEvent(r)),po.BOOLEAN_PROPERTIES=js.BOOLEAN_PROPERTIES,po.ALL_PROPERTIES=js.ALL_PROPERTIES,po.ALL_PROPERTIES_AND_CALLBACKS=[...po.ALL_PROPERTIES,...po.EVENT_CALLBACKS],po.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(po.ALL_PROPERTIES_AND_CALLBACKS);var To=po,Cs=class extends nn{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(r){r&&r.forEach(o=>this.addComponent(o))}addComponent(r){const c=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[c]=r.componentClass}getComponentClass(r){return this.componentsMappedByName[r]}};Cs=P([It("agStackComponentsRegistry")],Cs);var vr={};function Gr(r,o,c){null==c||"string"==typeof c&&""==c?ha(r,o):Hr(r,o,c)}function Hr(r,o,c){r.setAttribute(fo(o),c.toString())}function ha(r,o){r.removeAttribute(fo(o))}function fo(r){return`aria-${r}`}function fr(r,o){o?r.setAttribute("role",o):r.removeAttribute("role")}function ls(r){let o;return o="asc"===r?"ascending":"desc"===r?"descending":"mixed"===r?"other":"none",o}function pa(r){return parseInt(r.getAttribute("aria-level"),10)}function Ia(r){return parseInt(r.getAttribute("aria-posinset"),10)}function xa(r){return r.getAttribute("aria-label")}function Cr(r,o){Gr(r,"label",o)}function An(r,o){Gr(r,"labelledby",o)}function yr(r,o){Gr(r,"describedby",o)}function Ur(r,o){Gr(r,"live",o)}function ts(r,o){Gr(r,"atomic",o)}function fa(r,o){Gr(r,"relevant",o)}function Xo(r,o){Gr(r,"level",o)}function Mo(r,o){Gr(r,"disabled",o)}function Kr(r,o){Gr(r,"hidden",o)}function Do(r,o){Gr(r,"activedescendant",o)}function gs(r,o){Hr(r,"expanded",o)}function er(r){ha(r,"expanded")}function ta(r,o){Hr(r,"setsize",o)}function is(r,o){Hr(r,"posinset",o)}function No(r,o){Hr(r,"multiselectable",o)}function io(r,o){Hr(r,"rowcount",o)}function mo(r,o){Hr(r,"rowindex",o)}function ms(r,o){Hr(r,"colcount",o)}function Ho(r,o){Hr(r,"colindex",o)}function $s(r,o){Hr(r,"colspan",o)}function nl(r,o){Hr(r,"sort",o)}function Pa(r){ha(r,"sort")}function ws(r,o){Gr(r,"selected",o)}function ns(r,o){Hr(r,"checked",void 0===o?"mixed":o)}function ka(r,o){Gr(r,"controls",o.id),An(o,r.id)}function Dr(r,o){return void 0===o?r("ariaIndeterminate","indeterminate"):!0===o?r("ariaChecked","checked"):r("ariaUnchecked","unchecked")}ue(vr,{getAriaCheckboxStateName:()=>Dr,getAriaLabel:()=>xa,getAriaLevel:()=>pa,getAriaPosInSet:()=>Ia,getAriaSortState:()=>ls,removeAriaExpanded:()=>er,removeAriaSort:()=>Pa,setAriaActiveDescendant:()=>Do,setAriaAtomic:()=>ts,setAriaChecked:()=>ns,setAriaColCount:()=>ms,setAriaColIndex:()=>Ho,setAriaColSpan:()=>$s,setAriaControls:()=>ka,setAriaDescribedBy:()=>yr,setAriaDisabled:()=>Mo,setAriaExpanded:()=>gs,setAriaHidden:()=>Kr,setAriaLabel:()=>Cr,setAriaLabelledBy:()=>An,setAriaLevel:()=>Xo,setAriaLive:()=>Ur,setAriaMultiSelectable:()=>No,setAriaPosInSet:()=>is,setAriaRelevant:()=>fa,setAriaRole:()=>fr,setAriaRowCount:()=>io,setAriaRowIndex:()=>mo,setAriaSelected:()=>ws,setAriaSetSize:()=>ta,setAriaSort:()=>nl});var Qs,Uo,Is,Sa,Fa,_l,Ps,Ic,rl={};function _o(){return void 0===Qs&&(Qs=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Qs}function so(){if(void 0===Uo)if(_o()){const r=navigator.userAgent.match(/version\/(\d+)/i);r&&(Uo=null!=r[1]?parseFloat(r[1]):0)}else Uo=0;return Uo}function Da(){if(void 0===Is){const r=window;Is=!!r.chrome&&(!!r.chrome.webstore||!!r.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Is}function ks(){return void 0===Sa&&(Sa=/(firefox)/i.test(navigator.userAgent)),Sa}function ia(){return void 0===Fa&&(Fa=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Fa}function zo(){return void 0===_l&&(_l=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),_l}function Pl(){return!_o()||so()>=15}function Xn(r){if(!r)return null;const o=r.tabIndex,c=r.getAttribute("tabIndex");return-1!==o||null!==c&&(""!==c||ks())?o.toString():null}function Vs(){if(!document.body)return-1;let r=1e6;const o=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,c=document.createElement("div");for(document.body.appendChild(c);;){const p=2*r;if(c.style.height=p+"px",p>o||c.clientHeight!==p)break;r=p}return document.body.removeChild(c),r}function pc(){var r,o,c;return null!=(c=null==(r=document.body)?void 0:r.clientWidth)?c:window.innerHeight||(null==(o=document.documentElement)?void 0:o.clientWidth)||-1}function bl(){var r,o,c;return null!=(c=null==(r=document.body)?void 0:r.clientHeight)?c:window.innerHeight||(null==(o=document.documentElement)?void 0:o.clientHeight)||-1}function Ze(){return null==Ic&&ot(),Ic}function ot(){const r=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",r.appendChild(o);let c=o.offsetWidth-o.clientWidth;0===c&&0===o.clientWidth&&(c=null),o.parentNode&&o.parentNode.removeChild(o),null!=c&&(Ic=c,Ps=0===c)}function De(){return null==Ps&&ot(),Ps}ue(rl,{browserSupportsPreventScroll:()=>Pl,getBodyHeight:()=>bl,getBodyWidth:()=>pc,getMaxDivHeight:()=>Vs,getSafariVersion:()=>so,getScrollbarWidth:()=>Ze,getTabIndex:()=>Xn,isBrowserChrome:()=>Da,isBrowserFirefox:()=>ks,isBrowserSafari:()=>_o,isIOSUserAgent:()=>zo,isInvisibleScrollbar:()=>De,isMacOsUserAgent:()=>ia});var kt={};ue(kt,{dateToFormattedString:()=>Ea,parseDateTimeFromString:()=>ga,serialiseDate:()=>xs});var Si={};function $n(r,o){return r.toString().padStart(o,"0")}function Ar(r,o){const c=[];for(let p=r;p<=o;p++)c.push(p);return c}function Bo(r){return"string"==typeof r&&(r=parseInt(r,10)),"number"==typeof r?Math.floor(r):null}function na(r,o){let c="";for(let p=0;p<o;p++)c+=String.fromCharCode(255&r),r>>>=8;return c}function Ql(r,o,c){return"number"!=typeof r?"":ja(Math.round(100*r)/100,o,c)}function ja(r,o,c){return"number"!=typeof r?"":r.toString().replace(".",c).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${o}`)}function ol(r){return null==r?null:r.reduce((o,c)=>o+c,0)}function xs(r,o=!0,c="-"){if(!r)return null;let p=[r.getFullYear(),r.getMonth()+1,r.getDate()].map(y=>$n(y,2)).join(c);return o&&(p+=" "+[r.getHours(),r.getMinutes(),r.getSeconds()].map(y=>$n(y,2)).join(":")),p}ue(Si,{cleanNumber:()=>Bo,createArrayOfNumbers:()=>Ar,decToHex:()=>na,formatNumberCommas:()=>ja,formatNumberTwoDecimalPlacesAndCommas:()=>Ql,padStartWidthZeros:()=>$n,sum:()=>ol});var Zl=r=>{if(r>3&&r<21)return"th";switch(r%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ea(r,o="YYYY-MM-DD"){const c=$n(r.getFullYear(),4),p=["January","February","March","April","May","June","July","August","September","October","November","December"],y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],S={YYYY:()=>c.slice(c.length-4,c.length),YY:()=>c.slice(c.length-2,c.length),Y:()=>`${r.getFullYear()}`,MMMM:()=>p[r.getMonth()],MMM:()=>p[r.getMonth()].slice(0,3),MM:()=>$n(r.getMonth()+1,2),Mo:()=>`${r.getMonth()+1}${Zl(r.getMonth()+1)}`,M:()=>`${r.getMonth()+1}`,Do:()=>`${r.getDate()}${Zl(r.getDate())}`,DD:()=>$n(r.getDate(),2),D:()=>`${r.getDate()}`,dddd:()=>y[r.getDay()],ddd:()=>y[r.getDay()].slice(0,3),dd:()=>y[r.getDay()].slice(0,2),do:()=>`${r.getDay()}${Zl(r.getDay())}`,d:()=>`${r.getDay()}`},R=new RegExp(Object.keys(S).join("|"),"g");return o.replace(R,L=>L in S?S[L]():L)}function ga(r){if(!r)return null;const[o,c]=r.split(" ");if(!o)return null;const p=o.split("-").map(Je=>parseInt(Je,10));if(3!==p.filter(Je=>!isNaN(Je)).length)return null;const[y,S,R]=p,L=new Date(y,S-1,R);if(L.getFullYear()!==y||L.getMonth()!==S-1||L.getDate()!==R)return null;if(!c||"00:00:00"===c)return L;const[Q,be,Ie]=c.split(":").map(Je=>parseInt(Je,10));return Q>=0&&Q<24&&L.setHours(Q),be>=0&&be<60&&L.setMinutes(be),Ie>=0&&Ie<60&&L.setSeconds(Ie),L}var sr,rd={};function Zs(r,o,c){const p=r.parentElement;let y=p&&p.firstChild;for(;y;)o&&y.classList.toggle(o,y===r),c&&y.classList.toggle(c,y!==r),y=y.nextSibling}ue(rd,{FOCUSABLE_EXCLUDE:()=>Ss,FOCUSABLE_SELECTOR:()=>vs,addOrRemoveAttribute:()=>vt,addStylesToElement:()=>xl,bindCellRendererToHtmlElement:()=>it,clearElement:()=>ko,copyNodeList:()=>oa,ensureDomOrder:()=>Pc,formatSize:()=>Fs,getAbsoluteHeight:()=>kl,getAbsoluteWidth:()=>Cl,getElementRectWithOffset:()=>ql,getElementSize:()=>ra,getInnerHeight:()=>Qn,getInnerWidth:()=>La,getScrollLeft:()=>wl,insertWithDomOrder:()=>Xd,isElementChildOfClass:()=>Ds,isFocusableFormField:()=>Oa,isHorizontalScrollShowing:()=>Na,isInDOM:()=>Ka,isNodeOrElement:()=>qs,isRtlNegativeScroll:()=>$a,isVerticalScrollShowing:()=>gc,isVisible:()=>bo,iterateNamedNodeMap:()=>le,loadTemplate:()=>cs,nodeListForEach:()=>Ae,radioCssClass:()=>Zs,removeFromParent:()=>ma,setDisabled:()=>no,setDisplayed:()=>Wn,setDomChildOrder:()=>fc,setElementHeight:()=>Jn,setElementWidth:()=>Fl,setFixedHeight:()=>vo,setFixedWidth:()=>zr,setScrollLeft:()=>sl,setVisible:()=>Gs});var vs="[tabindex], input, select, button, textarea, [href]",Ss="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Oa(r){const o=Element.prototype.matches||Element.prototype.msMatchesSelector,p=o.call(r,"input, select, button, textarea"),y=o.call(r,Ss),S=bo(r);return p&&!y&&S}function Wn(r,o,c={}){const{skipAriaHidden:p}=c;r.classList.toggle("ag-hidden",!o),p||Kr(r,!o)}function Gs(r,o,c={}){const{skipAriaHidden:p}=c;r.classList.toggle("ag-invisible",!o),p||Kr(r,!o)}function no(r,o){const c="disabled",p=o?y=>y.setAttribute(c,""):y=>y.removeAttribute(c);p(r),Ae(r.querySelectorAll("input"),y=>p(y))}function Ds(r,o,c){let p=0;for(;r;){if(r.classList.contains(o))return!0;if(r=r.parentElement,"number"==typeof c){if(++p>c)break}else if(r===c)break}return!1}function ra(r){const{height:o,width:c,borderTopWidth:p,borderRightWidth:y,borderBottomWidth:S,borderLeftWidth:R,paddingTop:L,paddingRight:Q,paddingBottom:be,paddingLeft:Ie,marginTop:Je,marginRight:Bt,marginBottom:Ei,marginLeft:Li,boxSizing:Wi}=window.getComputedStyle(r);return{height:parseFloat(o||"0"),width:parseFloat(c||"0"),borderTopWidth:parseFloat(p||"0"),borderRightWidth:parseFloat(y||"0"),borderBottomWidth:parseFloat(S||"0"),borderLeftWidth:parseFloat(R||"0"),paddingTop:parseFloat(L||"0"),paddingRight:parseFloat(Q||"0"),paddingBottom:parseFloat(be||"0"),paddingLeft:parseFloat(Ie||"0"),marginTop:parseFloat(Je||"0"),marginRight:parseFloat(Bt||"0"),marginBottom:parseFloat(Ei||"0"),marginLeft:parseFloat(Li||"0"),boxSizing:Wi}}function Qn(r){const o=ra(r);return"border-box"===o.boxSizing?o.height-o.paddingTop-o.paddingBottom:o.height}function La(r){const o=ra(r);return"border-box"===o.boxSizing?o.width-o.paddingLeft-o.paddingRight:o.width}function kl(r){const o=ra(r);return Math.ceil(r.offsetHeight+(o.marginBottom+o.marginTop))}function Cl(r){const o=ra(r);return Math.ceil(r.offsetWidth+(o.marginLeft+o.marginRight))}function ql(r){const o=r.getBoundingClientRect(),{borderTopWidth:c,borderLeftWidth:p,borderRightWidth:y,borderBottomWidth:S}=ra(r);return{top:o.top+(c||0),left:o.left+(p||0),right:o.right+(y||0),bottom:o.bottom+(S||0)}}function $a(){if("boolean"==typeof sr)return sr;const r=document.createElement("div");return r.style.direction="rtl",r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="0px",r.style.overflow="hidden",r.dir="rtl",r.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(r),r.scrollLeft=1,sr=0===Math.floor(r.scrollLeft),document.body.removeChild(r),sr}function wl(r,o){let c=r.scrollLeft;return o&&(c=Math.abs(c),Da()&&!$a()&&(c=r.scrollWidth-r.clientWidth-c)),c}function sl(r,o,c){c&&($a()?o*=-1:(_o()||Da())&&(o=r.scrollWidth-r.clientWidth-o)),r.scrollLeft=o}function ko(r){for(;r&&r.firstChild;)r.removeChild(r.firstChild)}function ma(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Ka(r){return!!r.offsetParent}function bo(r){return r.checkVisibility?r.checkVisibility({checkVisibilityCSS:!0}):!(!Ka(r)||"visible"!==window.getComputedStyle(r).visibility)}function cs(r){const o=document.createElement("div");return o.innerHTML=(r||"").trim(),o.firstChild}function Pc(r,o,c){c&&c.nextSibling===o||(c?c.nextSibling?r.insertBefore(o,c.nextSibling):r.appendChild(o):r.firstChild&&r.firstChild!==o&&r.insertAdjacentElement("afterbegin",o))}function fc(r,o){for(let c=0;c<o.length;c++){const p=o[c],y=r.children[c];y!==p&&r.insertBefore(p,y)}}function Xd(r,o,c){c?c.insertAdjacentElement("afterend",o):r.firstChild?r.insertAdjacentElement("afterbegin",o):r.appendChild(o)}function xl(r,o){if(o)for(const[c,p]of Object.entries(o)){if(!c||!c.length||null==p)continue;const y=yl(c),S=p.toString(),R=S.replace(/\s*!important/g,"");r.style.setProperty(y,R,R.length!=S.length?"important":void 0)}}function Na(r){return r.clientWidth<r.scrollWidth}function gc(r){return r.clientHeight<r.scrollHeight}function Fl(r,o){"flex"===o?(r.style.removeProperty("width"),r.style.removeProperty("minWidth"),r.style.removeProperty("maxWidth"),r.style.flex="1 1 auto"):zr(r,o)}function zr(r,o){o=Fs(o),r.style.width=o.toString(),r.style.maxWidth=o.toString(),r.style.minWidth=o.toString()}function Jn(r,o){"flex"===o?(r.style.removeProperty("height"),r.style.removeProperty("minHeight"),r.style.removeProperty("maxHeight"),r.style.flex="1 1 auto"):vo(r,o)}function vo(r,o){o=Fs(o),r.style.height=o.toString(),r.style.maxHeight=o.toString(),r.style.minHeight=o.toString()}function Fs(r){return"number"==typeof r?`${r}px`:r}function qs(r){return r instanceof Node||r instanceof HTMLElement}function oa(r){if(null==r)return[];const o=[];return Ae(r,c=>o.push(c)),o}function le(r,o){if(r)for(let c=0;c<r.length;c++){const p=r[c];o(p.name,p.value)}}function vt(r,o,c){null==c?r.removeAttribute(o):r.setAttribute(o,c.toString())}function Ae(r,o){if(null!=r)for(let c=0;c<r.length;c++)o(r[c])}function it(r,o){r.then(c=>{const p=c.getGui();null!=p&&("object"==typeof p?o.appendChild(p):o.innerHTML=p)})}var yi={};function qi(r,o,c){const p={},y=r.filter(S=>!o.some(R=>R===S));return y.length>0&&y.forEach(S=>p[S]=un(S,c).values),p}function un(r,o,c,p){let y=o.map((L,Q)=>({value:L,relevance:Bn(r.toLowerCase(),L.toLocaleLowerCase()),idx:Q}));if(y.sort((L,Q)=>Q.relevance-L.relevance),c&&(y=y.filter(L=>0!==L.relevance)),y.length>0&&p&&p>0){const Q=y[0].relevance*p;y=y.filter(be=>Q-be.relevance<0)}const S=[],R=[];for(const L of y)S.push(L.value),R.push(L.idx);return{values:S,indices:R}}function Bn(r,o){const c=r.replace(/\s/g,""),p=o.replace(/\s/g,"");let y=0,S=-1;for(let R=0;R<c.length;R++){const L=p.indexOf(c[R],S+1);-1!==L&&(S=L,y+=100-100*S/1e4*100)}return y}ue(yi,{fuzzyCheckStrings:()=>qi,fuzzySuggestions:()=>un});var ro={};ue(ro,{createIcon:()=>_r,createIconNoSpan:()=>jn,iconNameClassMap:()=>Wr});var Wr={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function _r(r,o,c){const p=jn(r,o,c);if(p){const{className:S}=p;if("string"==typeof S&&S.indexOf("ag-icon")>-1||"object"==typeof S&&S["ag-icon"])return p}const y=document.createElement("span");return y.appendChild(p),y}function jn(r,o,c,p){let y=null;const S=c&&c.getColDef().icons;if(S&&(y=S[r]),o&&!y){const R=o.get("icons");R&&(y=R[r])}if(!y){const R=document.createElement("span");let L=Wr[r];return L||(p?L=r:(console.warn(`AG Grid: Did not find icon ${r}`),L="")),R.setAttribute("class",`ag-icon ag-icon-${L}`),R.setAttribute("unselectable","on"),fr(R,"presentation"),R}{let R;if("function"==typeof y)R=y();else{if("string"!=typeof y)throw new Error("icon from grid options needs to be a string or a function");R=y}if("string"==typeof R)return cs(R);if(qs(R))return R;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}}var Wo={};ue(Wo,{isDeleteKey:()=>Ya,isEventFromPrintableCharacter:()=>Br,isUserSuppressingHeaderKeyboardEvent:()=>Hs,isUserSuppressingKeyboardEvent:()=>sa,normaliseQwertyAzerty:()=>Vo});var xi=class{};xi.BACKSPACE="Backspace",xi.TAB="Tab",xi.ENTER="Enter",xi.ESCAPE="Escape",xi.SPACE=" ",xi.LEFT="ArrowLeft",xi.UP="ArrowUp",xi.RIGHT="ArrowRight",xi.DOWN="ArrowDown",xi.DELETE="Delete",xi.F2="F2",xi.PAGE_UP="PageUp",xi.PAGE_DOWN="PageDown",xi.PAGE_HOME="Home",xi.PAGE_END="End",xi.A="KeyA",xi.C="KeyC",xi.D="KeyD",xi.V="KeyV",xi.X="KeyX",xi.Y="KeyY",xi.Z="KeyZ";var Yo=65,ys=67,Ro=86,va=68,ds=90,Xa=89;function Br(r){return!(r.altKey||r.ctrlKey||r.metaKey)&&1===r.key.length}function sa(r,o,c,p,y){const S=p?p.getColDef().suppressKeyboardEvent:void 0;if(!S)return!1;const R=r.addGridCommonParams({event:o,editing:y,column:p,node:c,data:c.data,colDef:p.getColDef()});return!(!S||!S(R))}function Hs(r,o,c,p){const y=p.getDefinition(),S=y&&y.suppressHeaderKeyboardEvent;return!!pt(S)&&!!S(r.addGridCommonParams({colDef:y,column:p,headerRowIndex:c,event:o}))}function Vo(r){const{keyCode:o}=r;let c;switch(o){case Yo:c=xi.A;break;case ys:c=xi.C;break;case Ro:c=xi.V;break;case va:c=xi.D;break;case ds:c=xi.Z;break;case Xa:c=xi.Y;break;default:c=r.code}return c}function Ya(r,o=!1){return r===xi.DELETE||!o&&r===xi.BACKSPACE&&ia()}var Ol={};function rs(r,o,c){if(0===c)return!1;const p=Math.abs(r.clientX-o.clientX),y=Math.abs(r.clientY-o.clientY);return Math.max(p,y)<=c}ue(Ol,{areEventsNear:()=>rs});var Tr={};function kc(r,o){if(!r)return!1;const c=(R,L)=>{const Q=o[R.id],be=o[L.id],Ie=void 0!==Q,Je=void 0!==be;return Ie&&Je?Q-be:Ie||Je?Ie?1:-1:R.__objectId-L.__objectId};let p,y,S=!1;for(let R=0;R<r.length-1;R++)if(p=r[R],y=r[R+1],c(p,y)>0){S=!0;break}return!!S&&(r.sort(c),!0)}ue(Tr,{sortRowNodesByOrder:()=>kc});var mc={};function Ne(r){const o=new Set;return r.forEach(c=>o.add(c)),o}ue(mc,{convertToSet:()=>Ne});var G=ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee(ee({},vr),Re),rl),kt),rd),ge),ii),yi),Ct),ro),Wo),il),Ol),Si),Et),Tr),mc),ti),ce=class{constructor(r=0,o=1){this.nextValue=r,this.step=o}next(){const r=this.nextValue;return this.nextValue+=this.step,r}peek(){return this.nextValue}skip(r){this.nextValue+=r}},ht=class uM{constructor(o){this.status=0,this.resolution=null,this.waiters=[],o(c=>this.onDone(c),c=>this.onReject(c))}static all(o){return new uM(c=>{let p=o.length;const y=new Array(p);o.forEach((S,R)=>{S.then(L=>{y[R]=L,p--,0===p&&c(y)})})})}static resolve(o=null){return new uM(c=>c(o))}then(o){return new uM(c=>{1===this.status?c(o(this.resolution)):this.waiters.push(p=>c(o(p)))})}resolveNow(o,c){return 1===this.status?c(this.resolution):o}onDone(o){this.status=1,this.resolution=o,this.waiters.forEach(c=>c(o))}onReject(o){console.warn("TBI")}},zi=class fb extends nn{constructor(o,c,p,y){super(),this.parentComp=o,this.tooltipShowDelayOverride=c,this.tooltipHideDelayOverride=p,this.shouldDisplayTooltip=y,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const o=this.parentComp.getGui();0===this.tooltipTrigger&&(this.addManagedListener(o,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(o,"mouseleave",this.onMouseLeave.bind(this))),1===this.tooltipTrigger&&(this.addManagedListener(o,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(o,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(o,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(o){const c=this.gos.get(o);return c<0&&Zt(`${o} should not be lower than 0`),Math.max(200,c)}getTooltipDelay(o){var c,p;return"show"===o?null!=(c=this.tooltipShowDelayOverride)?c:this.getGridOptionsTooltipDelay("tooltipShowDelay"):null!=(p=this.tooltipHideDelayOverride)?p:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const o=this.gos.get("tooltipTrigger");return o&&"hover"!==o?1:0}onMouseEnter(o){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!zo()&&(fb.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(o)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(o))}onMouseMove(o){this.lastMouseEvent&&(this.lastMouseEvent=o),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(o){var c;const p=o.relatedTarget,y=this.parentComp.getGui(),S=null==(c=this.tooltipComp)?void 0:c.getGui();this.isInteractingWithTooltip||y.contains(p)||this.interactionEnabled&&S?.contains(p)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(o){if(0!=this.state||fb.isLocked)return;let c=0;o&&(c=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=o||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),c),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-fb.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const o=ee({},this.parentComp.getTooltipParams());if(!pt(o.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const c=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(o).newAgStackInstance().then(c)}hideTooltip(o){if(!o&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),fb.lastTooltipHideTime=(new Date).getTime());const c={type:ae.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(c),this.state=0}newTooltipComponentCallback(o,c){if(2!==this.state||this.tooltipInstanceCount!==o)return void this.getContext().destroyBean(c);const y=c.getGui();this.tooltipComp=c,y.classList.contains("ag-tooltip")||y.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&y.classList.add("ag-tooltip-animate"),this.interactionEnabled&&y.classList.add("ag-tooltip-interactive");const S=this.localeService.getLocaleTextFunc(),R=this.popupService.addPopup({eChild:y,ariaLabel:S("ariaLabelTooltip","Tooltip")});R&&(this.tooltipPopupDestroyFunc=R.hideFunc),this.positionTooltip(),1===this.tooltipTrigger&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(0===this.tooltipTrigger?(this.tooltipMouseEnterListener=this.addManagedListener(y,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(y,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(y,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(y,"focusout",this.onTooltipFocusOut.bind(this))||null));const L={type:ae.EVENT_TOOLTIP_SHOW,tooltipGui:y,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(L),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(o){var c;const p=this.parentComp.getGui(),y=null==(c=this.tooltipComp)?void 0:c.getGui(),S=o.relatedTarget;y?.contains(S)||(this.isInteractingWithTooltip=!1,p.contains(S)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const o={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(Ce(ee({},o),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(Ce(ee({},o),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const o=this.tooltipPopupDestroyFunc,c=this.tooltipComp;window.setTimeout(()=>{o(),this.getContext().destroyBean(c)},0===this.tooltipTrigger?this.FADE_OUT_TOOLTIP_TIMEOUT:0),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(o=>{o&&o()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){fb.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){fb.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};zi.isLocked=!1,P([$("popupService")],zi.prototype,"popupService",2),P([$("userComponentFactory")],zi.prototype,"userComponentFactory",2),P([mt],zi.prototype,"postConstruct",1);var on=zi,Dn=class extends nn{constructor(r,o){super(),this.ctrl=r,o&&(this.beans=o)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(r){const o="title",c=this.ctrl.getGui();c&&(null!=r&&""!=r?c.setAttribute(o,r):c.removeAttribute(o))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var r,o,c,p;null==this.tooltipManager&&(this.tooltipManager=this.createBean(new on({getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()},null==(o=(r=this.ctrl).getTooltipShowDelayOverride)?void 0:o.call(r),null==(p=(c=this.ctrl).getTooltipHideDelayOverride)?void 0:p.call(c),this.ctrl.shouldDisplayTooltip),this.beans.context))}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const r=this.ctrl,o=r.getColumn?r.getColumn():void 0,c=r.getColDef?r.getColDef():void 0,p=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:c,column:o,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:p,data:p?p.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0,hideTooltipCallback:()=>{var y;return null==(y=this.tooltipManager)?void 0:y.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};P([$("beans")],Dn.prototype,"beans",2),P([mt],Dn.prototype,"postConstruct",1);var hn=new ce,nr=class nF extends nn{constructor(o){super(),this.displayed=!0,this.visible=!0,this.compId=hn.next(),this.cssClassManager=new class{constructor(r){this.cssClassStates={},this.getGui=r}addCssClass(r){const o=(r||"").split(" ");if(o.length>1)o.forEach(p=>this.addCssClass(p));else if(!0!==this.cssClassStates[r]&&r.length){const p=this.getGui();p&&p.classList.add(r),this.cssClassStates[r]=!0}}removeCssClass(r){const o=(r||"").split(" ");if(o.length>1)o.forEach(p=>this.removeCssClass(p));else if(!1!==this.cssClassStates[r]&&r.length){const p=this.getGui();p&&p.classList.remove(r),this.cssClassStates[r]=!1}}containsCssClass(r){const o=this.getGui();return!!o&&o.classList.contains(r)}addOrRemoveCssClass(r,o){if(r){if(r.indexOf(" ")>=0){const p=(r||"").split(" ");if(p.length>1)return void p.forEach(y=>this.addOrRemoveCssClass(y,o))}if(this.cssClassStates[r]!==o&&r.length){const p=this.getGui();p&&p.classList.toggle(r,o),this.cssClassStates[r]=o}}}}(()=>this.eGui),o&&this.setTemplate(o)}preConstructOnComponent(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(o){const{newTooltipText:c,showDelayOverride:p,hideDelayOverride:y,location:S,shouldDisplayTooltip:R}=o||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==c&&(this.tooltipText=c),null!=c&&(this.tooltipFeature=this.createBean(new Dn({getTooltipValue:()=>this.tooltipText,getGui:()=>this.getGui(),getLocation:()=>S??"UNKNOWN",getColDef:o?.getColDef,getColumn:o?.getColumn,getTooltipShowDelayOverride:null!=p?()=>p:void 0,getTooltipHideDelayOverride:null!=y?()=>y:void 0,shouldDisplayTooltip:R})))}createChildComponentsFromTags(o,c){oa(o.childNodes).forEach(y=>{if(!(y instanceof HTMLElement))return;const S=this.createComponentFromElement(y,R=>{R.getGui()&&this.copyAttributesFromNode(y,R.getGui())},c);if(S){if(S.addItems&&y.children.length){this.createChildComponentsFromTags(y,c);const R=Array.prototype.slice.call(y.children);S.addItems(R)}this.swapComponentForNode(S,o,y)}else y.childNodes&&this.createChildComponentsFromTags(y,c)})}createComponentFromElement(o,c,p){const y=o.nodeName,S=p?p[o.getAttribute("ref")]:void 0,R=this.agStackComponentsRegistry.getComponentClass(y);if(R){nF.elementGettingCreated=o;const L=new R(S);return L.setParentComponent(this),this.createBean(L,null,c),L}return null}copyAttributesFromNode(o,c){le(o.attributes,(p,y)=>c.setAttribute(p,y))}swapComponentForNode(o,c,p){const y=o.getGui();c.replaceChild(y,p),c.insertBefore(document.createComment(p.nodeName),y),this.addDestroyFunc(this.destroyBean.bind(this,o)),this.swapInComponentForQuerySelectors(o,p)}swapInComponentForQuerySelectors(o,c){const p=this;this.iterateOverQuerySelectors(y=>{p[y.attributeName]===c&&(p[y.attributeName]=o)})}iterateOverQuerySelectors(o){let c=Object.getPrototypeOf(this);for(;null!=c;){const p=c.__agComponentMetaData,y=di(c.constructor);p&&p[y]&&p[y].querySelectors&&p[y].querySelectors.forEach(S=>o(S)),c=Object.getPrototypeOf(c)}}activateTabIndex(o){const c=this.gos.get("tabIndex");o||(o=[]),o.length||o.push(this.getGui()),o.forEach(p=>p.setAttribute("tabindex",c.toString()))}setTemplate(o,c){const p=cs(o);this.setTemplateFromElement(p,c)}setTemplateFromElement(o,c){this.eGui=o,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),c)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const o=this;this.iterateOverQuerySelectors(c=>{const p=S=>o[c.attributeName]=S;if(c.refSelector&&this.getAttribute("ref")===c.refSelector)p(this.eGui);else{const S=this.eGui.querySelector(c.querySelector);S&&p(S.__agComponent||S)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(o){this.parentComponent=o}getParentComponent(){return this.parentComponent}setGui(o){this.eGui=o}queryForHtmlElement(o){return this.eGui.querySelector(o)}queryForHtmlInputElement(o){return this.eGui.querySelector(o)}appendChild(o,c){null!=o&&(c||(c=this.eGui),qs(o)?c.appendChild(o):c.appendChild(o.getGui()))}isDisplayed(){return this.displayed}setVisible(o,c={}){if(o!==this.visible){this.visible=o;const{skipAriaHidden:p}=c;Gs(this.eGui,o,{skipAriaHidden:p})}}setDisplayed(o,c={}){if(o!==this.displayed){this.displayed=o;const{skipAriaHidden:p}=c;Wn(this.eGui,o,{skipAriaHidden:p}),this.dispatchEvent({type:nF.EVENT_DISPLAYED_CHANGED,visible:this.displayed})}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const o=this.eGui;o&&o.__agComponent&&(o.__agComponent=void 0),super.destroy()}addGuiEventListener(o,c,p){this.eGui.addEventListener(o,c,p),this.addDestroyFunc(()=>this.eGui.removeEventListener(o,c))}addCssClass(o){this.cssClassManager.addCssClass(o)}removeCssClass(o){this.cssClassManager.removeCssClass(o)}containsCssClass(o){return this.cssClassManager.containsCssClass(o)}addOrRemoveCssClass(o,c){this.cssClassManager.addOrRemoveCssClass(o,c)}getAttribute(o){const{eGui:c}=this;return c?c.getAttribute(o):null}getRefElement(o){return this.queryForHtmlElement(`[ref="${o}"]`)}};nr.EVENT_DISPLAYED_CHANGED="displayedChanged",P([$("agStackComponentsRegistry")],nr.prototype,"agStackComponentsRegistry",2),P([St],nr.prototype,"preConstructOnComponent",1),P([St],nr.prototype,"createChildComponentsPreConstruct",1);var _n=nr;function sn(r){return Eo.bind(this,`[ref=${r}]`,r)}function Eo(r,o,c,p,y){null!==r?"number"!=typeof y?function jr(r,o,c){const p=function jo(r,o){return r.__agComponentMetaData||(r.__agComponentMetaData={}),r.__agComponentMetaData[o]||(r.__agComponentMetaData[o]={}),r.__agComponentMetaData[o]}(r,di(r.constructor));p[o]||(p[o]=[]),p[o].push(c)}(c,"querySelectors",{attributeName:p,querySelector:r,refSelector:o}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var os=class extends _n{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(r){this.params=r;const o=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),c=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${o} ${c("ariaFilterInput","Filter Input")}`)}onParentModelChanged(r){null!=r?this.params.parentFilterInstance(o=>{if(o.getModelAsString){const c=o.getModelAsString(r);this.eFloatingFilterText.setValue(c)}}):this.eFloatingFilterText.setValue("")}onParamsUpdated(r){this.refresh(r)}refresh(r){this.init(r)}};P([sn("eFloatingFilterText")],os.prototype,"eFloatingFilterText",2),P([$("columnModel")],os.prototype,"columnModel",2);var $o=class{constructor(r,o,c,p,y){this.alive=!0,this.context=r,this.eParent=p,o.getDateCompDetails(c).newAgStackInstance().then(L=>{this.alive?(this.dateComp=L,L&&(p.appendChild(L.getGui()),L.afterGuiAttached&&L.afterGuiAttached(),this.tempValue&&L.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),y?.(this))):r.destroyBean(L)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(r){this.dateComp?this.dateComp.setDate(r):this.tempValue=r}setDisabled(r){this.dateComp?this.setDateCompDisabled(r):this.disabled=r}setDisplayed(r){Wn(this.eParent,r)}setInputPlaceholder(r){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(r)}setInputAriaLabel(r){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(r)}afterGuiAttached(r){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(r)}updateParams(r){var o,c;let p=!1;null!=(o=this.dateComp)&&o.refresh&&"function"==typeof this.dateComp.refresh&&null!==this.dateComp.refresh(r)&&(p=!0),!p&&null!=(c=this.dateComp)&&c.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated&&null!==this.dateComp.onParamsUpdated(r)&&Zt("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(r){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(r)}},Jl=class{constructor(){this.customFilterOptions={}}init(r,o){this.filterOptions=r.filterOptions||o,this.mapCustomOptions(),this.selectDefaultItem(r)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(r=>{"string"!=typeof r&&([["displayKey"],["displayName"],["predicate","test"]].every(p=>!!p.some(y=>null!=r[y])||(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${p}'`),!1))?this.customFilterOptions[r.displayKey]=r:this.filterOptions=this.filterOptions.filter(p=>p===r)||[])})}selectDefaultItem(r){if(r.defaultOption)this.defaultOption=r.defaultOption;else if(this.filterOptions.length>=1){const o=this.filterOptions[0];"string"==typeof o?this.defaultOption=o:o.displayKey?this.defaultOption=o.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(r){return this.customFilterOptions[r]}},Qa={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Es=class CH extends nn{constructor(o,c={}){super(),this.eFocusableElement=o,this.callbacks=c,this.callbacks=ee({shouldStopEventPropagation:()=>!1,onTabKeyDown:p=>{if(p.defaultPrevented)return;const y=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,p.shiftKey);y&&(y.focus(),p.preventDefault())}},c)}postConstruct(){this.eFocusableElement.classList.add(CH.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(o){this.addManagedListener(o,"keydown",c=>{if(!c.defaultPrevented&&!Yn(c)){if(this.callbacks.shouldStopEventPropagation(c))return void fn(c);c.key===xi.TAB?this.callbacks.onTabKeyDown(c):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(c)}})}};Es.FOCUS_MANAGED_CLASS="ag-focus-managed",P([$("focusService")],Es.prototype,"focusService",2),P([mt],Es.prototype,"postConstruct",1);var pn=Es,ar="ag-resizer-wrapper",Aa=`<div class="${ar}">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>`,al=class extends nn{constructor(r,o){super(),this.element=r,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},o)}center(){const{clientHeight:r,clientWidth:o}=this.offsetParent,c=o/2-this.getWidth()/2,p=r/2-this.getHeight()/2;this.offsetElement(c,p)}initialisePosition(){if(this.positioned)return;const{centered:r,forcePopupParentAsOffsetParent:o,minWidth:c,width:p,minHeight:y,height:S,x:R,y:L}=this.config;this.offsetParent||this.setOffsetParent();let Q=0,be=0;const Ie=bo(this.element);if(Ie){const Je=this.findBoundaryElement(),Bt=window.getComputedStyle(Je);if(null!=Bt.minWidth){const Ei=Je.offsetWidth-this.element.offsetWidth;be=parseInt(Bt.minWidth,10)-Ei}if(null!=Bt.minHeight){const Ei=Je.offsetHeight-this.element.offsetHeight;Q=parseInt(Bt.minHeight,10)-Ei}}if(this.minHeight=y||Q,this.minWidth=c||be,p&&this.setWidth(p),S&&this.setHeight(S),(!p||!S)&&this.refreshSize(),r)this.center();else if(R||L)this.offsetElement(R,L);else if(Ie&&o){let Je=this.boundaryEl,Bt=!0;if(Je||(Je=this.findBoundaryElement(),Bt=!1),Je){const Ei=parseFloat(Je.style.top),Li=parseFloat(Je.style.left);Bt?this.offsetElement(isNaN(Li)?0:Li,isNaN(Ei)?0:Ei):this.setPosition(Li,Ei)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(r,o){if(!this.config.popup||r===this.movable)return;this.movable=r;const c=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(c),this.moveElementDragListener=c):(this.dragService.removeDragSource(c),this.moveElementDragListener=void 0)}setResizable(r){if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(o=>{const p=!!r[o],y=this.getResizerElement(o),S={dragStartPixels:0,eElement:y,onDragStart:R=>this.onResizeStart(R,o),onDragging:this.onResize.bind(this),onDragStop:R=>this.onResizeEnd(R,o)};(p||!this.isAlive()&&!p)&&(p?(this.dragService.addDragSource(S),this.resizeListeners.push(S),y.style.pointerEvents="all"):y.style.pointerEvents="none",this.resizable[o]=p)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:r,width:o}=this.lastSize;-1!==o&&(this.element.style.width=`${o}px`),-1!==r&&(this.element.style.height=`${r}px`)}getHeight(){return this.element.offsetHeight}setHeight(r){const{popup:o}=this.config,c=this.element;let p=!1;if("string"==typeof r&&-1!==r.indexOf("%"))vo(c,r),r=kl(c),p=!0;else if(r=Math.max(this.minHeight,r),this.positioned){const y=this.getAvailableHeight();y&&r>y&&(r=y)}this.getHeight()!==r&&(p?(c.style.maxHeight="unset",c.style.minHeight="unset"):o?vo(c,r):(c.style.height=`${r}px`,c.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))}getAvailableHeight(){const{popup:r,forcePopupParentAsOffsetParent:o}=this.config;this.positioned||this.initialisePosition();const{clientHeight:c}=this.offsetParent;if(!c)return null;const p=this.element.getBoundingClientRect(),y=this.offsetParent.getBoundingClientRect(),S=r?this.position.y:p.top,R=r?0:y.top;let L=0;if(o){const be=this.element.parentElement;if(be){const{bottom:Ie}=be.getBoundingClientRect();L=Ie-p.bottom}}return c+R-S-L}getWidth(){return this.element.offsetWidth}setWidth(r){const o=this.element,{popup:c}=this.config;let p=!1;if("string"==typeof r&&-1!==r.indexOf("%"))zr(o,r),r=Cl(o),p=!0;else if(this.positioned){r=Math.max(this.minWidth,r);const{clientWidth:y}=this.offsetParent,S=c?this.position.x:this.element.getBoundingClientRect().left;y&&r+S>y&&(r=y-S)}this.getWidth()!==r&&(p?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?zr(o,r):(o.style.width=`${r}px`,o.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))}offsetElement(r=0,o=0){const{forcePopupParentAsOffsetParent:c}=this.config,p=c?this.boundaryEl:this.element;p&&(this.popupService.positionPopup({ePopup:p,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:r,y:o})}),this.setPosition(parseFloat(p.style.left),parseFloat(p.style.top)))}constrainSizeToAvailableHeight(r){this.config.forcePopupParentAsOffsetParent&&(r?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),()=>{const c=this.getAvailableHeight();this.element.style.setProperty("max-height",`${c}px`)}):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0)))}setPosition(r,o){this.position.x=r,this.position.y=o}updateDragStartPosition(r,o){this.dragStartPosition={x:r,y:o}}calculateMouseMovement(r){const{e:o,isLeft:c,isTop:p,anywhereWithin:y,topBuffer:S}=r,R=o.clientX-this.dragStartPosition.x,L=o.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(o,!!c,!!y,R)?0:R,movementY:this.shouldSkipY(o,!!p,S,L)?0:L}}shouldSkipX(r,o,c,p){const y=this.element.getBoundingClientRect(),S=this.offsetParent.getBoundingClientRect(),R=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.x:y.left;let Q=L<=0&&S.left>=r.clientX||S.right<=r.clientX&&S.right<=R.right;return!!Q||(Q=o?p<0&&r.clientX>L+S.left||p>0&&r.clientX<L+S.left:c?p<0&&r.clientX>R.right||p>0&&r.clientX<L+S.left:p<0&&r.clientX>R.right||p>0&&r.clientX<R.right,Q)}shouldSkipY(r,o,c=0,p){const y=this.element.getBoundingClientRect(),S=this.offsetParent.getBoundingClientRect(),R=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.y:y.top;let Q=L<=0&&S.top>=r.clientY||S.bottom<=r.clientY&&S.bottom<=R.bottom;return!!Q||(Q=o?p<0&&r.clientY>L+S.top+c||p>0&&r.clientY<L+S.top:p<0&&r.clientY>R.bottom||p>0&&r.clientY<R.bottom,Q)}createResizeMap(){const r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const r=this.element;if(!r)return;const c=(new DOMParser).parseFromString(Aa,"text/html").body;r.appendChild(c.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const r=this.element.querySelector(`.${ar}`);r&&this.element.removeChild(r),this.resizersAdded=!1}getResizerElement(r){return this.resizerMap[r].element}onResizeStart(r,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");const{popup:c,forcePopupParentAsOffsetParent:p}=this.config;!c&&!p&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)}getSiblings(){const o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(c=>!c.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const r=this.getSiblings()||[];let o=0,c=0;for(let p=0;p<r.length;p++){const y=r[p],S=!!y.style.flex&&"0 0 auto"!==y.style.flex;if(y===this.element)continue;let R=this.minHeight||0,L=this.minWidth||0;if(S){const Q=window.getComputedStyle(y);Q.minHeight&&(R=parseInt(Q.minHeight,10)),Q.minWidth&&(L=parseInt(Q.minWidth,10))}else R=y.offsetHeight,L=y.offsetWidth;o+=R,c+=L}return{height:o,width:c}}applySizeToSiblings(r){let o=null;const c=this.getSiblings();if(c){for(let p=0;p<c.length;p++){const y=c[p];y!==o&&(r?y.style.height=`${y.offsetHeight}px`:y.style.width=`${y.offsetWidth}px`,y.style.flex="0 0 auto",y===this.element&&(o=c[p+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(r=>r)}onResize(r){if(!this.isResizing||!this.currentResizer)return;const{popup:o,forcePopupParentAsOffsetParent:c}=this.config,{isTop:p,isRight:y,isBottom:S,isLeft:R}=this.currentResizer,L=y||R,Q=S||p,{movementX:be,movementY:Ie}=this.calculateMouseMovement({e:r,isLeft:R,isTop:p}),Je=this.position.x,Bt=this.position.y;let Ei=0,Li=0;if(L&&be){const Wi=R?-1:1,Vi=this.getWidth(),wn=Vi+be*Wi;let cn=!1;R&&(Ei=Vi-wn,(Je+Ei<=0||wn<=this.minWidth)&&(cn=!0,Ei=0)),cn||this.setWidth(wn)}if(Q&&Ie){const Wi=p?-1:1,Vi=this.getHeight(),wn=Vi+Ie*Wi;let cn=!1;p?(Li=Vi-wn,(Bt+Li<=0||wn<=this.minHeight)&&(cn=!0,Li=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Vi<wn&&this.getMinSizeOfSiblings().height+wn>this.element.parentElement.offsetHeight&&(cn=!0),cn||this.setHeight(wn)}this.updateDragStartPosition(r.clientX,r.clientY),((o||c)&&Ei||Li)&&this.offsetElement(Je+Ei,Bt+Li)}onResizeEnd(r,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchEvent({type:"resize"})}refreshSize(){const r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))}onMoveStart(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)}onMove(r){if(!this.isMoving)return;const{x:o,y:c}=this.position;let p;this.config.calculateTopBuffer&&(p=this.config.calculateTopBuffer());const{movementX:y,movementY:S}=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:p});this.offsetElement(o+y,c+S),this.updateDragStartPosition(r.clientX,r.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent}findBoundaryElement(){let r=this.element;for(;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};P([$("popupService")],al.prototype,"popupService",2),P([$("resizeObserverService")],al.prototype,"resizeObserverService",2),P([$("dragService")],al.prototype,"dragService",2);var Go=class rD extends _n{constructor(o){super(),this.filterNameKey=o,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new pn(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new al(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(o){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(o){let c=this.getGui();c&&c.removeEventListener("submit",this.onFormSubmit);const p=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(p,o),c=this.getGui(),c&&c.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(o){this.setParams(o),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(o){this.providedFilterParams=o,this.applyActive=rD.isUseApplyButton(o),this.resetButtonsPanel()}updateParams(o){this.providedFilterParams=o,this.applyActive=rD.isUseApplyButton(o),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:o}=this.providedFilterParams,c=o&&o.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(ko(this.eButtonsPanel),this.buttonListeners.forEach(S=>S?.()),this.buttonListeners=[]):c&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!c)return void(this.eButtonsPanel&&ma(this.eButtonsPanel));const p=document.createDocumentFragment(),y=S=>{let R,L;switch(S){case"apply":R=this.translate("applyFilter"),L=Ie=>this.onBtApply(!1,!1,Ie);break;case"clear":R=this.translate("clearFilter"),L=()=>this.onBtClear();break;case"reset":R=this.translate("resetFilter"),L=()=>this.onBtReset();break;case"cancel":R=this.translate("cancelFilter"),L=Ie=>{this.onBtCancel(Ie)};break;default:return void console.warn("AG Grid: Unknown button type specified")}const be=cs(`<button\n                    type="${"apply"===S?"submit":"button"}"\n                    ref="${S}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${R}\n                </button>`);this.buttonListeners.push(this.addManagedListener(be,"click",L)),p.append(be)};Ne(o).forEach(S=>y(S)),this.eButtonsPanel.append(p),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const o=rD.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),c=tt(this.checkApplyDebounce.bind(this),o);this.onBtApplyDebounce=()=>{this.debouncePending=!0,c()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(o){return(null!=o?this.setModelIntoUi(o):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(o){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(o)})}handleCancelEnd(o){this.providedFilterParams.closeOnApply&&this.close(o)}resetUiToActiveModel(o,c){const p=()=>{this.onUiChanged(!1,"prevent"),c?.()};null!=o?this.setModelIntoUi(o).then(p):this.resetUiToDefaults().then(p)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(o="api"){const c=this.getModelFromUi();if(!this.isModelValid(c))return!1;const p=this.appliedModel;return this.appliedModel=c,!this.areModelsEqual(p,c)}isModelValid(o){return!0}onFormSubmit(o){o.preventDefault()}onBtApply(o=!1,c=!1,p){p&&p.preventDefault(),this.applyModel(c?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:o,afterDataChange:c,source:"columnFilter"});const{closeOnApply:y}=this.providedFilterParams;y&&this.applyActive&&!o&&!c&&this.close(p)}onNewRowsLoaded(){}close(o){if(!this.hidePopup)return;const p=o&&o.key;let y;("Enter"===p||"Space"===p)&&(y={keyboardEvent:o}),this.hidePopup(y),this.hidePopup=null}onUiChanged(o=!1,c){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const p=this.isModelValid(this.getModelFromUi()),y=this.getRefElement("applyFilterButton");y&&no(y,!p)}o&&!c||"immediately"===c?this.onBtApply(o):(!this.applyActive&&!c||"debounce"===c)&&this.onBtApplyDebounce()}afterGuiAttached(o){o&&(this.hidePopup=o.hidePopup),this.refreshFilterResizer(o?.container)}refreshFilterResizer(o){if(!this.positionableFeature||"toolPanel"===o)return;const c="floatingFilter"===o||"columnFilter"===o,{positionableFeature:p,gos:y}=this;c?(p.restoreLastSize(),p.setResizable(y.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(o,c){return rD.isUseApplyButton(o)?(null!=o.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=o.debounceMs?o.debounceMs:c}static isUseApplyButton(o){return!!o.buttons&&o.buttons.indexOf("apply")>=0}refresh(o){return this.providedFilterParams=o,!0}destroy(){const o=this.getGui();o&&o.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(o){return this.localeService.getLocaleTextFunc()(o,Qa[o])}getCellValue(o){return this.providedFilterParams.getValue(o)}getPositionableElement(){return this.eFilterBody}};P([$("rowModel")],Go.prototype,"rowModel",2),P([sn("eFilterBody")],Go.prototype,"eFilterBody",2),P([mt],Go.prototype,"postConstruct",1);var ll=Go,Ba=class extends _n{constructor(r,o){super(o),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=r||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:r,label:o,labelWidth:c,labelAlignment:p,disabled:y}=this.config;null!=y&&this.setDisabled(y),null!=r&&this.setLabelSeparator(r),null!=o&&this.setLabel(o),null!=c&&this.setLabelWidth(c),this.setLabelAlignment(p||this.labelAlignment),this.refreshLabel()}refreshLabel(){ko(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(Wn(this.eLabel,!1),fr(this.eLabel,"presentation")):(Wn(this.eLabel,!0),fr(this.eLabel,null))}setLabelSeparator(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(r){return this.label===r||(this.label=r,this.refreshLabel()),this}setLabelAlignment(r){const c=this.getGui().classList;return c.toggle("ag-label-align-left","left"===r),c.toggle("ag-label-align-right","right"===r),c.toggle("ag-label-align-top","top"===r),this}setLabelEllipsis(r){return this.eLabel.classList.toggle("ag-label-ellipsis",r),this}setLabelWidth(r){return null==this.label||Fl(this.eLabel,r),this}setDisabled(r){r=!!r;const o=this.getGui();return no(o,r),o.classList.toggle("ag-disabled",r),this.disabled=r,this}isDisabled(){return!!this.disabled}};P([mt],Ba.prototype,"postConstruct",1);var Za=class extends Ba{constructor(r,o,c){super(r,o),this.className=c}postConstruct(){super.postConstruct();const{width:r,value:o,onValueChange:c}=this.config;null!=r&&this.setWidth(r),null!=o&&this.setValue(o),null!=c&&this.onValueChange(c),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const r=this.getAriaElement(),o=this.getLabelId();null!==xa(r)?An(r,""):An(r,o??"")}setAriaLabel(r){return Cr(this.getAriaElement(),r),this.refreshAriaLabelledBy(),this}onValueChange(r){return this.addManagedListener(this,ae.EVENT_FIELD_VALUE_CHANGED,()=>r(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(r){return zr(this.getGui(),r),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(r,o){return this.value===r||(this.previousValue=this.value,this.value=r,o||this.dispatchEvent({type:ae.EVENT_FIELD_VALUE_CHANGED})),this}},se=class extends Za{constructor(r){if(super(r,r?.template||'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',r?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=r?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!r)return;const{pickerGap:o,maxPickerHeight:c,variableWidth:p,minPickerWidth:y,maxPickerWidth:S}=r;null!=o&&(this.pickerGap=o),this.variableWidth=!!p,null!=c&&this.setPickerMaxHeight(c),null!=y&&this.setPickerMinWidth(y),null!=S&&this.setPickerMaxWidth(S)}postConstruct(){super.postConstruct(),this.setupAria();const r=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",r);const o=this.getAriaElement();this.addManagedListener(o,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:c,inputWidth:p}=this.config;if(c){const y=jn(c,this.gos);y&&this.eIcon.appendChild(y)}null!=p&&this.setInputWidth(p)}setupAria(){const r=this.getAriaElement();r.setAttribute("tabindex",this.gos.get("tabIndex").toString()),gs(r,!1),this.ariaRole&&fr(r,this.ariaRole)}onLabelOrWrapperMouseDown(r){if(r){const o=this.getFocusableElement();if(o!==this.eWrapper&&r?.target===o)return;r.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(r){switch(r.key){case xi.UP:case xi.DOWN:case xi.ENTER:case xi.SPACE:r.preventDefault(),this.onLabelOrWrapperMouseDown();break;case xi.ESCAPE:this.isPickerDisplayed&&(r.preventDefault(),r.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const r=this.pickerComponent.getGui();r.addEventListener("focusin",this.onPickerFocusIn),r.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const r=this.gos.getDocument(),o=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const c=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:p,pickerAriaLabelValue:y,modalPicker:S=!0}=this.config,R={modal:S,eChild:o,closeOnEsc:!0,closedCallback:()=>{const Ei=this.gos.getActiveDomElement(),Li=!Ei||Ei===r.body;this.beforeHidePicker(),Li&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:c(p,y)},L=this.popupService.addPopup(R),{maxPickerHeight:Q,minPickerWidth:be,maxPickerWidth:Ie,variableWidth:Je}=this;Je?(be&&(o.style.minWidth=be),o.style.width=Fs(Cl(this.eWrapper)),Ie&&(o.style.maxWidth=Ie)):Fl(o,Ie??Cl(this.eWrapper));const Bt=Q??`${Qn(this.popupService.getPopupParent())}px`;return o.style.setProperty("max-height",Bt),o.style.position="absolute",this.alignPickerToComponent(),L.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:r}=this.config,{pickerGap:o}=this,c=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:r,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:c,keepWithinBounds:!0,nudgeY:o})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const r=this.pickerComponent.getGui();r.removeEventListener("focusin",this.onPickerFocusIn),r.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(r){this.isAlive()&&(gs(this.getAriaElement(),r),this.eWrapper.classList.toggle("ag-picker-expanded",r),this.eWrapper.classList.toggle("ag-picker-collapsed",!r))}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(r){var o;null!=(o=this.pickerComponent)&&o.getGui().contains(r.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(r){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",r)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(r){return Fl(this.eWrapper,r),this}getFocusableElement(){return this.eWrapper}setPickerGap(r){return this.pickerGap=r,this}setPickerMinWidth(r){return"number"==typeof r&&(r=`${r}px`),this.minPickerWidth=r??void 0,this}setPickerMaxWidth(r){return"number"==typeof r&&(r=`${r}px`),this.maxPickerWidth=r??void 0,this}setPickerMaxHeight(r){return"number"==typeof r&&(r=`${r}px`),this.maxPickerHeight=r??void 0,this}destroy(){this.hidePicker(),super.destroy()}};P([$("popupService")],se.prototype,"popupService",2),P([sn("eLabel")],se.prototype,"eLabel",2),P([sn("eWrapper")],se.prototype,"eWrapper",2),P([sn("eDisplayField")],se.prototype,"eDisplayField",2),P([sn("eIcon")],se.prototype,"eIcon",2);var Ft=class hM extends _n{constructor(o="default",c=!1){super(`<div class="ag-list ag-${o}-list" role="listbox"></div>`),this.cssIdentifier=o,this.unFocusable=c,this.options=[],this.itemEls=[]}init(){const o=this.getGui();this.addManagedListener(o,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(o,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(o){const c=o.key;switch(c){case xi.ENTER:if(this.highlightedEl){const p=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(p)}else this.setValue(this.getValue());break;case xi.DOWN:case xi.UP:o.preventDefault(),this.navigate(c);break;case xi.PAGE_DOWN:case xi.PAGE_UP:case xi.PAGE_HOME:case xi.PAGE_END:o.preventDefault(),this.navigateToPage(c)}}navigate(o){const c=o===xi.DOWN;let p;if(this.highlightedEl){let S=this.itemEls.indexOf(this.highlightedEl)+(c?1:-1);S=Math.min(Math.max(S,0),this.itemEls.length-1),p=this.itemEls[S]}else p=this.itemEls[c?0:this.itemEls.length-1];this.highlightItem(p)}navigateToPage(o){if(!this.highlightedEl||0===this.itemEls.length)return;const c=this.itemEls.indexOf(this.highlightedEl),p=this.options.length-1,y=this.itemEls[0].clientHeight,S=Math.floor(this.getGui().clientHeight/y);let R=-1;o===xi.PAGE_HOME?R=0:o===xi.PAGE_END?R=p:o===xi.PAGE_DOWN?R=Math.min(c+S,p):o===xi.PAGE_UP&&(R=Math.max(c-S,0)),-1!==R&&this.highlightItem(this.itemEls[R])}addOptions(o){return o.forEach(c=>this.addOption(c)),this}addOption(o){const{value:c,text:p}=o,y=p||c;return this.options.push({value:c,text:y}),this.renderOption(c,y),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(o=>{ma(o)}),this.itemEls=[]}updateIndices(){const o=this.getGui().querySelectorAll(".ag-list-item");o.forEach((c,p)=>{is(c,p+1),ta(c,o.length)})}renderOption(o,c){const p=this.gos.getDocument(),y=p.createElement("div");fr(y,"option"),y.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const S=p.createElement("span");y.appendChild(S),S.textContent=c,this.unFocusable||(y.tabIndex=-1),this.itemEls.push(y),this.addManagedListener(y,"mousemove",()=>this.highlightItem(y)),this.addManagedListener(y,"mousedown",R=>{R.preventDefault(),this.setValue(o)}),this.createManagedBean(new Dn({getTooltipValue:()=>c,getGui:()=>y,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>S.scrollWidth>S.clientWidth})),this.getGui().appendChild(y)}setValue(o,c){if(this.value===o)return this.fireItemSelected(),this;if(null==o)return this.reset(c),this;const p=this.options.findIndex(y=>y.value===o);if(-1!==p){const y=this.options[p];this.value=y.value,this.displayValue=y.text,this.highlightItem(this.itemEls[p]),c||this.fireChangeEvent()}return this}setValueByIndex(o){return this.setValue(this.options[o].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const o=this.options.findIndex(c=>c.value===this.value);-1!==o&&this.highlightItem(this.itemEls[o])}reset(o){this.value=null,this.displayValue=null,this.clearHighlighted(),o||this.fireChangeEvent()}highlightItem(o){if(!bo(o))return;this.clearHighlighted(),this.highlightedEl=o,this.highlightedEl.classList.add(hM.ACTIVE_CLASS),ws(this.highlightedEl,!0);const c=this.getGui(),{scrollTop:p,clientHeight:y}=c,{offsetTop:S,offsetHeight:R}=o;(S+R>p+y||S<p)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!bo(this.highlightedEl)||(this.highlightedEl.classList.remove(hM.ACTIVE_CLASS),ws(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:ae.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:hM.EVENT_ITEM_SELECTED})}};Ft.EVENT_ITEM_SELECTED="selectedItem",Ft.ACTIVE_CLASS="ag-active-item",P([mt],Ft.prototype,"init",1);var z=Ft,we=class wH extends se{constructor(o){super(ee({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},o))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:o,value:c,placeholder:p}=this.config;null!=o&&this.addOptions(o),null!=c&&this.setValue(c,!0),p&&null==c&&(this.eDisplayField.textContent=p),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(o){this.eWrapper.contains(o.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new z("select",!0)),this.listComponent.setParentComponent(this);const o=this.listComponent.getAriaElement(),c=`ag-select-list-${this.listComponent.getCompId()}`;o.setAttribute("id",c),ka(this.getAriaElement(),o),this.listComponent.addManagedListener(this.listComponent,z.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:wH.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,ae.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(o){var c;const{key:p}=o;switch(p===xi.TAB&&this.hidePicker(),p){case xi.ENTER:case xi.UP:case xi.DOWN:case xi.PAGE_UP:case xi.PAGE_DOWN:case xi.PAGE_HOME:case xi.PAGE_END:o.preventDefault(),this.isPickerDisplayed?null==(c=this.listComponent)||c.handleKeyDown(o):super.onKeyDown(o);break;case xi.ESCAPE:super.onKeyDown(o)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(o){return o.forEach(c=>this.addOption(c)),this}addOption(o){return this.listComponent.addOption(o),this}clearOptions(){var o;return null==(o=this.listComponent)||o.clearOptions(),this}setValue(o,c,p){if(this.value===o||!this.listComponent)return this;if(p||this.listComponent.setValue(o,!0),this.listComponent.getValue()===this.getValue())return this;let S=this.listComponent.getDisplayValue();return null==S&&this.config.placeholder&&(S=this.config.placeholder),this.eDisplayField.textContent=S,this.setTooltip({newTooltipText:S??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(o,c)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};we.EVENT_ITEM_SELECTED="selectedItem";var $e=we,ei=class extends Za{constructor(r,o,c="text",p="input"){super(r,`\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${p} ref="eInput" class="ag-input-field-input"></${p}>\n                </div>\n            </div>`,o),this.inputType=c,this.displayFieldTag=p}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:o}=this.config;null!=r&&this.setInputName(r),null!=o&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",r=>this.setValue(r.target.value))}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(r){return Fl(this.eWrapper,r),this}setInputName(r){return this.getInputElement().setAttribute("name",r),this}getFocusableElement(){return this.eInput}setMaxLength(r){return this.eInput.maxLength=r,this}setInputPlaceholder(r){return vt(this.eInput,"placeholder",r),this}setInputAriaLabel(r){return Cr(this.eInput,r),this.refreshAriaLabelledBy(),this}setDisabled(r){return no(this.eInput,r),super.setDisabled(r)}setAutoComplete(r){return vt(this.eInput,"autocomplete",!0===r?null:"string"==typeof r?r:"off"),this}};P([sn("eLabel")],ei.prototype,"eLabel",2),P([sn("eWrapper")],ei.prototype,"eWrapper",2),P([sn("eInput")],ei.prototype,"eInput",2);var Bi=class extends ei{constructor(r,o="ag-checkbox",c="checkbox"){super(r,o,c),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:r,passive:o}=this.config;"boolean"==typeof r&&this.setReadOnly(r),"boolean"==typeof o&&this.setPassive(o)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return void 0===this.selected||!this.selected}setPassive(r){this.passive=r}isReadOnly(){return this.readOnly}setReadOnly(r){this.eWrapper.classList.toggle("ag-disabled",r),this.eInput.disabled=r,this.readOnly=r}setDisabled(r){return this.eWrapper.classList.toggle("ag-disabled",r),super.setDisabled(r)}toggle(){if(this.eInput.disabled)return;const r=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,r):this.setValue(o)}getValue(){return this.isSelected()}setValue(r,o){return this.refreshSelectedClass(r),this.setSelected(r,o),this}setName(r){return this.getInputElement().name=r,this}isSelected(){return this.selected}setSelected(r,o){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,o||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(r,o,c){this.dispatchEvent({type:ae.EVENT_FIELD_VALUE_CHANGED,selected:r,previousValue:o,event:c});const p=this.getInputElement();this.eventService.dispatchEvent({type:ae.EVENT_CHECKBOX_CHANGED,id:p.id,name:p.name,selected:r,previousValue:o})}onCheckboxClick(r){if(this.passive||this.eInput.disabled)return;const o=this.isSelected(),c=this.selected=r.target.checked;this.refreshSelectedClass(c),this.dispatchChange(c,o,r)}refreshSelectedClass(r){this.eWrapper.classList.toggle("ag-checked",!0===r),this.eWrapper.classList.toggle("ag-indeterminate",null==r)}},mn=class extends Bi{constructor(r){super(r,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,ae.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)}},J=class{constructor(r,o,c){this.localeService=r,this.optionsFactory=o,this.valueFormatter=c}getModelAsString(r){if(!r)return null;const o=null!=r.operator,c=this.localeService.getLocaleTextFunc();if(o){const p=r;let{conditions:y}=p;if(!y){const{condition1:L,condition2:Q}=p;y=[L,Q]}const S=y.map(L=>this.getModelAsString(L)),R="AND"===p.operator?"andCondition":"orCondition";return S.join(` ${c(R,Qa[R])} `)}if(r.type===X.BLANK||r.type===X.NOT_BLANK)return c(r.type,r.type);{const p=r,y=this.optionsFactory.getCustomOption(p.type),{displayKey:S,displayName:R,numberOfInputs:L}=y||{};return S&&R&&0===L?(c(S,R),R):this.conditionToString(p,y)}}updateParams(r){this.optionsFactory=r.optionsFactory}formatValue(r){var o;return this.valueFormatter?null!=(o=this.valueFormatter(r??null))?o:"":String(r)}},pe=class m0 extends ll{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(o){const c=this.optionsFactory.getCustomOption(o);if(c){const{numberOfInputs:y}=c;return y??1}return o&&[m0.EMPTY,m0.NOT_BLANK,m0.BLANK].indexOf(o)>=0?0:o===m0.IN_RANGE?2:1}onFloatingFilterChanged(o,c){this.setTypeFromFloatingFilter(o),this.setValueFromFloatingFilter(c),this.onUiChanged(!0)}setTypeFromFloatingFilter(o){this.eTypes.forEach((c,p)=>{c.setValue(0===p?o:this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const o=this.getUiCompleteConditions();return 0===o.length?null:this.maxNumConditions>1&&o.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:o[0],condition2:o[1],conditions:o}:o[0]}getConditionTypes(){return this.eTypes.map(o=>o.getValue())}getConditionType(o){return this.eTypes[o].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(o,c){if(!o&&!c)return!0;if(!o&&c||o&&!c)return!1;const p=!o.operator,y=!c.operator;if(!p&&y||p&&!y)return!1;let R;return R=p?this.areSimpleModelsEqual(o,c):o.operator===c.operator&&Ri(o.conditions,c.conditions,(be,Ie)=>this.areSimpleModelsEqual(be,Ie)),R}shouldRefresh(o){var c,p,y;const S=this.getModel(),R=S?null!=(c=S.conditions)?c:[S]:null,L=null!=(y=null==(p=o.filterOptions)?void 0:p.map(be=>"string"==typeof be?be:be.displayKey))?y:this.getDefaultFilterOptions();return!(R&&!R.every(be=>void 0!==L.find(Ie=>Ie===be.type))||"number"==typeof o.maxNumConditions&&R&&R.length>o.maxNumConditions)}refresh(o){return!(!this.shouldRefresh(o)||!super.refresh(o)||(this.setParams(o),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),0))}setModelIntoUi(o){if(o.operator){let p=o;p.conditions||(p.conditions=[p.condition1,p.condition2]);const y=this.validateAndUpdateConditions(p.conditions),S=this.getNumConditions();if(y<S)this.removeConditionsAndOperators(y);else if(y>S)for(let L=S;L<y;L++)this.createJoinOperatorPanel(),this.createOption();const R="OR"===p.operator;this.eJoinOperatorsAnd.forEach(L=>L.setValue(!R,!0)),this.eJoinOperatorsOr.forEach(L=>L.setValue(R,!0)),p.conditions.forEach((L,Q)=>{this.eTypes[Q].setValue(L.type,!0),this.setConditionIntoUi(L,Q)})}else{const p=o;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(p.type,!0),this.setConditionIntoUi(p,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),ht.resolve()}validateAndUpdateConditions(o){let c=o.length;return c>this.maxNumConditions&&(o.splice(this.maxNumConditions),Zt('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),c=this.maxNumConditions),c}doesFilterPass(o){var c;const p=this.getModel();if(null==p)return!0;const{operator:y}=p,S=[];return y?S.push(...null!=(c=p.conditions)?c:[]):S.push(p),S[y&&"OR"===y?"some":"every"](L=>this.individualConditionPasses(o,L))}setParams(o){super.setParams(o),this.setNumConditions(o),this.defaultJoinOperator=this.getDefaultJoinOperator(o.defaultJoinOperator),this.filterPlaceholder=o.filterPlaceholder,this.optionsFactory=new Jl,this.optionsFactory.init(o,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(o){var c,p;null!=o.suppressAndOrCondition&&Zt('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),null!=o.alwaysShowBothConditions&&Zt('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=null!=(c=o.maxNumConditions)?c:o.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(Zt('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=null!=(p=o.numAlwaysVisibleConditions)?p:o.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(Zt('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(Zt('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const o=this.createManagedBean(new $e);this.eTypes.push(o),o.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(o.getGui());const c=this.createValueElement();this.eConditionBodies.push(c),this.eFilterBody.appendChild(c),this.putOptionsIntoDropdown(o),this.resetType(o);const p=this.getNumConditions()-1;this.forEachPositionInput(p,y=>this.resetInput(y)),this.addChangedListeners(o,p)}createJoinOperatorPanel(){const o=document.createElement("div");this.eJoinOperatorPanels.push(o),o.classList.add("ag-filter-condition");const c=this.createJoinOperator(this.eJoinOperatorsAnd,o,"and"),p=this.createJoinOperator(this.eJoinOperatorsOr,o,"or");this.eFilterBody.appendChild(o);const y=this.eJoinOperatorPanels.length-1,S=this.joinOperatorId++;this.resetJoinOperatorAnd(c,y,S),this.resetJoinOperatorOr(p,y,S),this.isReadOnly()||(c.onValueChange(this.listener),p.onValueChange(this.listener))}createJoinOperator(o,c,p){const y=this.createManagedBean(new mn);return o.push(y),y.addCssClass("ag-filter-condition-operator"),y.addCssClass(`ag-filter-condition-operator-${p}`),c.appendChild(y.getGui()),y}getDefaultJoinOperator(o){return"AND"===o||"OR"===o?o:"AND"}createFilterListOptions(){const o=this.optionsFactory.getFilterOptions();this.filterListOptions=o.map(c=>"string"==typeof c?this.createBoilerplateListOption(c):this.createCustomListOption(c))}putOptionsIntoDropdown(o){this.filterListOptions.forEach(c=>{o.addOption(c)}),o.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(o){return{value:o,text:this.translate(o)}}createCustomListOption(o){const{displayKey:c}=o,p=this.optionsFactory.getCustomOption(o.displayKey);return{value:c,text:p?this.localeService.getLocaleTextFunc()(p.displayKey,p.displayName):this.translate(c)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const o=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,o)}updateNumConditions(){var o;let c=-1,p=!0;for(let y=0;y<this.getNumConditions();y++)this.isConditionUiComplete(y)?c=y:p=!1;if(this.shouldAddNewConditionAtEnd(p))this.createJoinOperatorPanel(),this.createOption();else{const y=null!=(o=this.lastUiCompletePosition)?o:this.getNumConditions()-2;if(c<y){this.removeConditionsAndOperators(y+1);const S=c+1,R=y-S;R>0&&this.removeConditionsAndOperators(S,R),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=c}updateConditionStatusesAndValues(o,c){this.eTypes.forEach((y,S)=>{const R=this.isConditionDisabled(S,o);y.setDisabled(R||this.filterListOptions.length<=1),1===S&&(no(this.eJoinOperatorPanels[0],R),this.eJoinOperatorsAnd[0].setDisabled(R),this.eJoinOperatorsOr[0].setDisabled(R))}),this.eConditionBodies.forEach((y,S)=>{Wn(y,this.isConditionBodyVisible(S))});const p="OR"===(c??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((y,S)=>{y.setValue(!p,!0)}),this.eJoinOperatorsOr.forEach((y,S)=>{y.setValue(p,!0)}),this.forEachInput((y,S,R,L)=>{this.setElementDisplayed(y,S<L),this.setElementDisabled(y,this.isConditionDisabled(R,o))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(o){return o&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(o,c){if(o>=this.getNumConditions())return;this.removeComponents(this.eTypes,o,c),this.removeElements(this.eConditionBodies,o,c),this.removeValueElements(o,c);const p=Math.max(o-1,0);this.removeElements(this.eJoinOperatorPanels,p,c),this.removeComponents(this.eJoinOperatorsAnd,p,c),this.removeComponents(this.eJoinOperatorsOr,p,c)}removeElements(o,c,p){this.removeItems(o,c,p).forEach(S=>ma(S))}removeComponents(o,c,p){this.removeItems(o,c,p).forEach(S=>{ma(S.getGui()),this.destroyBean(S)})}removeItems(o,c,p){return null==p?o.splice(c):o.splice(c,p)}afterGuiAttached(o){if(super.afterGuiAttached(o),this.resetPlaceholder(),!o?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const c=this.getInputs(0)[0];if(!c)return;c instanceof ei&&c.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const o=this.getModel();this.resetUiToActiveModel(o);let c=-1,p=-1,y=!1;const S=this.getJoinOperator();for(let L=this.getNumConditions()-1;L>=0;L--)if(this.isConditionUiComplete(L))-1===c&&(c=L,p=L);else{const be=L<c;(L>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(L-1)||be)&&(this.removeConditionsAndOperators(L,1),y=!0,be&&p--)}let R=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),R=!0),this.shouldAddNewConditionAtEnd(p===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),R=!0),R&&this.updateConditionStatusesAndValues(p,S),y&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=p}getPlaceholderText(o,c){let p=this.translate(o);if(st(this.filterPlaceholder)){const y=this.filterPlaceholder,S=this.eTypes[c].getValue();p=y({filterOptionKey:S,filterOption:this.translate(S),placeholder:p})}else"string"==typeof this.filterPlaceholder&&(p=this.filterPlaceholder);return p}resetPlaceholder(){const o=this.localeService.getLocaleTextFunc();this.forEachInput((c,p,y,S)=>{if(!(c instanceof ei))return;const R=0===p&&S>1?"inRangeStart":0===p?"filterOoo":"inRangeEnd",L=0===p&&S>1?o("ariaFilterFromValue","Filter from value"):0===p?o("ariaFilterValue","Filter Value"):o("ariaFilterToValue","Filter to Value");c.setInputPlaceholder(this.getPlaceholderText(R,y)),c.setInputAriaLabel(L)})}setElementValue(o,c,p){o instanceof ei&&o.setValue(null!=c?String(c):null,!0)}setElementDisplayed(o,c){o instanceof _n&&Wn(o.getGui(),c)}setElementDisabled(o,c){o instanceof _n&&no(o.getGui(),c)}attachElementOnChange(o,c){o instanceof ei&&o.onValueChange(c)}forEachInput(o){this.getConditionTypes().forEach((c,p)=>{this.forEachPositionTypeInput(p,c,o)})}forEachPositionInput(o,c){const p=this.getConditionType(o);this.forEachPositionTypeInput(o,p,c)}forEachPositionTypeInput(o,c,p){const y=this.getNumberOfInputs(c),S=this.getInputs(o);for(let R=0;R<S.length;R++){const L=S[R];null!=L&&p(L,R,o,y)}}isConditionDisabled(o,c){return!!this.isReadOnly()||0!==o&&o>c+1}isConditionBodyVisible(o){const c=this.getConditionType(o);return this.getNumberOfInputs(c)>0}isConditionUiComplete(o){return!(o>=this.getNumConditions()||this.getConditionType(o)===m0.EMPTY||this.getValues(o).some(p=>null==p))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const o=[];for(let c=0;c<this.getNumConditions();c++)this.isConditionUiComplete(c)&&o.push(this.createCondition(c));return o}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let o=this.getNumConditions();o<this.numAlwaysVisibleConditions;o++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(o){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(c=>this.resetType(c)),this.eJoinOperatorsAnd.forEach((c,p)=>this.resetJoinOperatorAnd(c,p,this.joinOperatorId+p)),this.eJoinOperatorsOr.forEach((c,p)=>this.resetJoinOperatorOr(c,p,this.joinOperatorId+p)),this.joinOperatorId++,this.forEachInput(c=>this.resetInput(c)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,o||this.onUiChanged(),ht.resolve()}resetType(o){const p=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");o.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(p).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(o,c,p){this.resetJoinOperator(o,c,this.isDefaultOperator("AND"),this.translate("andCondition"),p)}resetJoinOperatorOr(o,c,p){this.resetJoinOperator(o,c,this.isDefaultOperator("OR"),this.translate("orCondition"),p)}resetJoinOperator(o,c,p,y,S){this.updateJoinOperatorDisabled(o.setValue(p,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${S}`).setLabel(y),c)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((o,c)=>this.updateJoinOperatorDisabled(o,c)),this.eJoinOperatorsOr.forEach((o,c)=>this.updateJoinOperatorDisabled(o,c))}updateJoinOperatorDisabled(o,c){o.setDisabled(this.isReadOnly()||c>0)}resetInput(o){this.setElementValue(o,null),this.setElementDisabled(o,this.isReadOnly())}setConditionIntoUi(o,c){const p=this.mapValuesFromModel(o);this.forEachInput((y,S,R,L)=>{R===c&&this.setElementValue(y,null!=p[S]?p[S]:null)})}setValueFromFloatingFilter(o){this.forEachInput((c,p,y,S)=>{this.setElementValue(c,0===p&&0===y?o:null,!0)})}isDefaultOperator(o){return o===this.defaultJoinOperator}addChangedListeners(o,c){this.isReadOnly()||(o.onValueChange(this.listener),this.forEachPositionInput(c,p=>{this.attachElementOnChange(p,this.listener)}))}individualConditionPasses(o,c){const p=this.getCellValue(o.node),y=this.mapValuesFromModel(c),S=this.optionsFactory.getCustomOption(c.type);return this.evaluateCustomFilter(S,y,p)??(null==p?this.evaluateNullValue(c.type):this.evaluateNonNullValue(y,p,c,o))}evaluateCustomFilter(o,c,p){if(null==o)return;const{predicate:y}=o;return null==y||c.some(S=>null==S)?void 0:y(c,p)}isBlank(o){return null==o||"string"==typeof o&&0===o.trim().length}hasInvalidInputs(){return!1}};pe.EMPTY="empty",pe.BLANK="blank",pe.NOT_BLANK="notBlank",pe.EQUALS="equals",pe.NOT_EQUAL="notEqual",pe.LESS_THAN="lessThan",pe.LESS_THAN_OR_EQUAL="lessThanOrEqual",pe.GREATER_THAN="greaterThan",pe.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",pe.IN_RANGE="inRange",pe.CONTAINS="contains",pe.NOT_CONTAINS="notContains",pe.STARTS_WITH="startsWith",pe.ENDS_WITH="endsWith";var X=pe,he=class Mc extends X{setParams(o){super.setParams(o),this.scalarFilterParams=o}evaluateNullValue(o){switch(o){case Mc.EQUALS:case Mc.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Mc.GREATER_THAN:case Mc.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Mc.LESS_THAN:case Mc.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Mc.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Mc.BLANK:return!0;case Mc.NOT_BLANK:return!1}return!1}evaluateNonNullValue(o,c,p){const y=this.comparator(),S=null!=o[0]?y(o[0],c):0;switch(p.type){case Mc.EQUALS:return 0===S;case Mc.NOT_EQUAL:return 0!==S;case Mc.GREATER_THAN:return S>0;case Mc.GREATER_THAN_OR_EQUAL:return S>=0;case Mc.LESS_THAN:return S<0;case Mc.LESS_THAN_OR_EQUAL:return S<=0;case Mc.IN_RANGE:{const R=y(o[1],c);return this.scalarFilterParams.inRangeInclusive?S>=0&&R<=0:S>0&&R<0}case Mc.BLANK:return this.isBlank(c);case Mc.NOT_BLANK:return!this.isBlank(c);default:return console.warn('AG Grid: Unexpected type of filter "'+p.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},pi=class extends J{constructor(r,o,c){super(o,c),this.dateFilterParams=r}conditionToString(r,o){const{type:c}=r,{numberOfInputs:p}=o||{},y=c==X.IN_RANGE||2===p,S=ga(r.dateFrom),R=ga(r.dateTo),L=this.dateFilterParams.inRangeFloatingFilterDateFormat;return y?`${null!==S?Ea(S,L):"null"}-${null!==R?Ea(R,L):"null"}`:null!=S?Ea(S,L):`${c}`}updateParams(r){super.updateParams(r),this.dateFilterParams=r.dateFilterParams}},Ji=class xH extends he{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=1/0,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(o){super.afterGuiAttached(o),this.dateConditionFromComps[0].afterGuiAttached(o)}mapValuesFromModel(o){const{dateFrom:c,dateTo:p,type:y}=o||{};return[c&&ga(c)||null,p&&ga(p)||null].slice(0,this.getNumberOfInputs(y))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(o,c){return null==c||c<o?-1:c>o?1:0}setParams(o){this.dateFilterParams=o,super.setParams(o);const c=(p,y)=>{if(null!=o[p]){if(!isNaN(o[p]))return null==o[p]?y:Number(o[p]);console.warn(`AG Grid: DateFilter ${p} is not a number`)}return y};this.minValidYear=c("minValidYear",1e3),this.maxValidYear=c("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.minValidDate=o.minValidDate?o.minValidDate instanceof Date?o.minValidDate:ga(o.minValidDate):null,this.maxValidDate=o.maxValidDate?o.maxValidDate instanceof Date?o.maxValidDate:ga(o.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new pi(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(o){const c=new $o(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},o);return this.addDestroyFunc(()=>c.destroy()),c}setElementValue(o,c){o.setDate(c)}setElementDisplayed(o,c){o.setDisplayed(c)}setElementDisabled(o,c){o.setDisabled(c)}getDefaultFilterOptions(){return xH.DEFAULT_FILTER_OPTIONS}createValueElement(){const c=this.gos.getDocument().createElement("div");return c.classList.add("ag-filter-body"),this.createFromToElement(c,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(c,this.eConditionPanelsTo,this.dateConditionToComps,"to"),c}createFromToElement(o,c,p,y){const R=this.gos.getDocument().createElement("div");R.classList.add(`ag-filter-${y}`),R.classList.add(`ag-filter-date-${y}`),c.push(R),o.appendChild(R),p.push(this.createDateCompWrapper(R))}removeValueElements(o,c){this.removeDateComps(this.dateConditionFromComps,o,c),this.removeDateComps(this.dateConditionToComps,o,c),this.removeItems(this.eConditionPanelsFrom,o,c),this.removeItems(this.eConditionPanelsTo,o,c)}removeDateComps(o,c,p){this.removeItems(o,c,p).forEach(S=>S.destroy())}isValidDateValue(o){if(null===o)return!1;if(this.minValidDate){if(o<this.minValidDate)return!1}else if(o.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(o>this.maxValidDate)return!1}else if(o.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(o){if(!super.isConditionUiComplete(o))return!1;let c=!0;return this.forEachInput((p,y,S,R)=>{S!==o||!c||y>=R||(c=c&&this.isValidDateValue(p.getDate()))}),c}areSimpleModelsEqual(o,c){return o.dateFrom===c.dateFrom&&o.dateTo===c.dateTo&&o.type===c.type}getFilterType(){return"date"}createCondition(o){const c=this.getConditionType(o),p={},y=this.getValues(o);return y.length>0&&(p.dateFrom=xs(y[0])),y.length>1&&(p.dateTo=xs(y[1])),ee({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:c},p)}resetPlaceholder(){const o=this.localeService.getLocaleTextFunc(),c=this.translate("dateFormatOoo"),p=o("ariaFilterValue","Filter Value");this.forEachInput(y=>{y.setInputPlaceholder(c),y.setInputAriaLabel(p)})}getInputs(o){return o>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[o],this.dateConditionToComps[o]]}getValues(o){const c=[];return this.forEachPositionInput(o,(p,y,S,R)=>{y<R&&c.push(p.getDate())}),c}translate(o){return super.translate(o===he.LESS_THAN?"before":o===he.GREATER_THAN?"after":o)}getModelAsString(o){var c;return null!=(c=this.filterModelFormatter.getModelAsString(o))?c:""}};Ji.DEFAULT_FILTER_OPTIONS=[he.EQUALS,he.NOT_EQUAL,he.LESS_THAN,he.GREATER_THAN,he.IN_RANGE,he.BLANK,he.NOT_BLANK],P([$("userComponentFactory")],Ji.prototype,"userComponentFactory",2);var $i=Ji,Hn=class extends _n{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(r){return r&&r.afterFloatingFilter}isEventFromDataChange(r){return r?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(r){if(!r)return void(this.lastType=this.optionsFactory.getDefaultOption());let c;c=r.operator?r.conditions[0]:r,this.lastType=c.type}canWeEditAfterModelFromParentFilter(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)}init(r){this.setSimpleParams(r,!1)}setSimpleParams(r,o=!0){this.optionsFactory=new Jl,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),o||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!r.filterParams.readOnly;const c=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(c)}onParamsUpdated(r){this.refresh(r)}refresh(r){this.setSimpleParams(r)}doesFilterHaveSingleInput(r){const o=this.optionsFactory.getCustomOption(r),{numberOfInputs:c}=o||{};return null==c||1==c}isTypeEditable(r){const o=[X.IN_RANGE,X.EMPTY,X.BLANK,X.NOT_BLANK];return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&o.indexOf(r)<0}getAriaLabel(r){return`${this.columnModel.getDisplayNameForColumn(r.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}};P([$("columnModel")],Hn.prototype,"columnModel",2);var Ir=class extends Hn{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')}getDefaultFilterOptions(){return $i.DEFAULT_FILTER_OPTIONS}init(r){super.init(r),this.params=r,this.filterParams=r.filterParams,this.createDateComponent(),this.filterModelFormatter=new pi(this.filterParams,this.localeService,this.optionsFactory);const o=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(r){this.refresh(r)}refresh(r){super.refresh(r),this.params=r,this.filterParams=r.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(r.currentParentModel())}updateCompOnModelChange(r){const o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(o),o?(this.dateComp.setDate(r?ga(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(r)),this.dateComp.setDate(null))}setEditable(r){Wn(this.eDateWrapper,r),Wn(this.eReadOnlyText.getGui(),!r)}onParentModelChanged(r,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(super.setLastTypeFromModel(r),this.updateCompOnModelChange(r))}onDateChanged(){const o=xs(this.dateComp.getDate());this.params.parentFilterInstance(c=>{if(c){const p=ga(o);c.onFloatingFilterChanged(this.getLastType()||null,p)}})}getDateComponentParams(){const r=ll.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:tt(this.onDateChanged.bind(this),r),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new $o(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,r=>{r.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const r=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(r)}getFilterModelFormatter(){return this.filterModelFormatter}};P([$("userComponentFactory")],Ir.prototype,"userComponentFactory",2),P([sn("eReadOnlyText")],Ir.prototype,"eReadOnlyText",2),P([sn("eDateWrapper")],Ir.prototype,"eDateWrapper",2);var Qo=class extends _n{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')}destroy(){super.destroy()}init(r){this.params=r,this.setParams(r);const o=this.eDateInput.getInputElement();this.addManagedListener(o,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||o.focus()}),this.addManagedListener(o,"input",c=>{c.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(r){const o=this.eDateInput.getInputElement(),c=this.shouldUseBrowserDatePicker(r);this.usingSafariDatePicker=c&&_o(),o.type=c?"date":"text";const{minValidYear:p,maxValidYear:y,minValidDate:S,maxValidDate:R}=r.filterParams||{};if(S&&p&&Zt("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),R&&y&&Zt("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),S&&R){const[L,Q]=[S,R].map(be=>be instanceof Date?be:ga(be));L&&Q&&L.getTime()>Q.getTime()&&Zt("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}S?o.min=S instanceof Date?Ea(S):S:p&&(o.min=`${p}-01-01`),R?o.max=R instanceof Date?Ea(R):R:y&&(o.max=`${y}-12-31`)}onParamsUpdated(r){this.refresh(r)}refresh(r){this.params=r,this.setParams(r)}getDate(){return ga(this.eDateInput.getValue())}setDate(r){this.eDateInput.setValue(xs(r,!1))}setInputPlaceholder(r){this.eDateInput.setInputPlaceholder(r)}setInputAriaLabel(r){this.eDateInput.setAriaLabel(r)}setDisabled(r){this.eDateInput.setDisabled(r)}afterGuiAttached(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:Da()||ks()||_o()&&so()>=14.1}};P([sn("eDateInput")],Qo.prototype,"eDateInput",2);var ao=class extends ei{constructor(r,o="ag-text-field",c="text"){super(r,o,c)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(r,o){return this.eInput.value!==r&&(this.eInput.value=pt(r)?r:""),super.setValue(r,o)}setStartValue(r){this.setValue(r,!0)}preventDisallowedCharacters(){const r=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListener(this.eInput,"keydown",c=>{Br(c)&&c.key&&!r.test(c.key)&&c.preventDefault()}),this.addManagedListener(this.eInput,"paste",c=>{var p;const y=null==(p=c.clipboardData)?void 0:p.getData("text");y&&y.split("").some(S=>!r.test(S))&&c.preventDefault()})}},Va=class extends ao{constructor(r){super(r,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const y=parseFloat(this.eInput.value),S=isNaN(y)?"":this.normalizeValue(y.toString());this.value!==S&&this.setValue(S)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:r,min:o,max:c,step:p}=this.config;"number"==typeof r&&this.setPrecision(r),"number"==typeof o&&this.setMin(o),"number"==typeof c&&this.setMax(c),"number"==typeof p&&this.setStep(p)}onWheel(r){this.gos.getActiveDomElement()===this.eInput&&r.preventDefault()}normalizeValue(r){if(""===r)return"";null!=this.precision&&(r=this.adjustPrecision(r));const o=parseFloat(r);return null!=this.min&&o<this.min?r=this.min.toString():null!=this.max&&o>this.max&&(r=this.max.toString()),r}adjustPrecision(r,o){if(null==this.precision)return r;if(o){const p=parseFloat(r).toFixed(this.precision);return parseFloat(p).toString()}const c=String(r).split(".");if(c.length>1){if(c[1].length<=this.precision)return r;if(this.precision>0)return`${c[0]}.${c[1].slice(0,this.precision)}`}return c[0]}setMin(r){return this.min===r||(this.min=r,vt(this.eInput,"min",r)),this}setMax(r){return this.max===r||(this.max=r,vt(this.eInput,"max",r)),this}setPrecision(r){return this.precision=r,this}setStep(r){return this.step===r||(this.step=r,vt(this.eInput,"step",r)),this}setValue(r,o){return this.setValueOrInputValue(c=>super.setValue(c,o),()=>this,r)}setStartValue(r){return this.setValueOrInputValue(o=>super.setValue(o,!0),o=>{this.eInput.value=o},r)}setValueOrInputValue(r,o,c){if(pt(c)){let p=this.isScientificNotation(c);if(p&&this.eInput.validity.valid)return r(c);if(p||(p=(c=this.adjustPrecision(c))!=this.normalizeValue(c)),p)return o(c)}return r(c)}getValue(){if(!this.eInput.validity.valid)return;const r=this.eInput.value;return this.isScientificNotation(r)?this.adjustPrecision(r,!0):super.getValue()}isScientificNotation(r){return"string"==typeof r&&r.includes("e")}},yd=class extends J{conditionToString(r,o){const{numberOfInputs:c}=o||{};return r.type==X.IN_RANGE||2===c?`${this.formatValue(r.filter)}-${this.formatValue(r.filterTo)}`:null!=r.filter?this.formatValue(r.filter):`${r.type}`}};function Fc(r){const{allowedCharPattern:o}=r??{};return o??null}var _d=class SH extends he{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(o){return this.numberFilterParams.allowedCharPattern===o.allowedCharPattern&&super.refresh(o)}mapValuesFromModel(o){const{filter:c,filterTo:p,type:y}=o||{};return[this.processValue(c),this.processValue(p)].slice(0,this.getNumberOfInputs(y))}getDefaultDebounceMs(){return 500}comparator(){return(o,c)=>o===c?0:o<c?1:-1}setParams(o){this.numberFilterParams=o,super.setParams(o),this.filterModelFormatter=new yd(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return SH.DEFAULT_FILTER_OPTIONS}setElementValue(o,c,p){const y=!p&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(c??null):c;super.setElementValue(o,y)}createValueElement(){const o=Fc(this.numberFilterParams),c=document.createElement("div");return c.classList.add("ag-filter-body"),fr(c,"presentation"),this.createFromToElement(c,this.eValuesFrom,"from",o),this.createFromToElement(c,this.eValuesTo,"to",o),c}createFromToElement(o,c,p,y){const S=this.createManagedBean(y?new ao({allowedCharPattern:y}):new Va);S.addCssClass(`ag-filter-${p}`),S.addCssClass("ag-filter-filter"),c.push(S),o.appendChild(S.getGui())}removeValueElements(o,c){this.removeComponents(this.eValuesFrom,o,c),this.removeComponents(this.eValuesTo,o,c)}getValues(o){const c=[];return this.forEachPositionInput(o,(p,y,S,R)=>{y<R&&c.push(this.processValue(this.stringToFloat(p.getValue())))}),c}areSimpleModelsEqual(o,c){return o.filter===c.filter&&o.filterTo===c.filterTo&&o.type===c.type}getFilterType(){return"number"}processValue(o){return null==o||isNaN(o)?null:o}stringToFloat(o){if("number"==typeof o)return o;let c=qt(o);return null!=c&&""===c.trim()&&(c=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(c):null==c||"-"===c.trim()?null:parseFloat(c)}createCondition(o){const c=this.getConditionType(o),p={filterType:this.getFilterType(),type:c},y=this.getValues(o);return y.length>0&&(p.filter=y[0]),y.length>1&&(p.filterTo=y[1]),p}getInputs(o){return o>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[o],this.eValuesTo[o]]}getModelAsString(o){var c;return null!=(c=this.filterModelFormatter.getModelAsString(o))?c:""}hasInvalidInputs(){let o=!1;return this.forEachInput(c=>{c.getInputElement().validity.valid||(o=!0)}),o}};_d.DEFAULT_FILTER_OPTIONS=[he.EQUALS,he.NOT_EQUAL,he.GREATER_THAN,he.GREATER_THAN_OR_EQUAL,he.LESS_THAN,he.LESS_THAN_OR_EQUAL,he.IN_RANGE,he.BLANK,he.NOT_BLANK];var bd=_d,Sh=class extends J{conditionToString(r,o){const{numberOfInputs:c}=o||{};return r.type==X.IN_RANGE||2===c?`${r.filter}-${r.filterTo}`:null!=r.filter?`${r.filter}`:`${r.type}`}},Jo=class v0 extends X{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(o){const c=o&&o.trim();return""===c?o:c}getDefaultDebounceMs(){return 500}setParams(o){this.textFilterParams=o,super.setParams(o),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?v0.DEFAULT_FORMATTER:v0.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new Sh(this.localeService,this.optionsFactory)}getTextMatcher(){const o=this.textFilterParams.textCustomComparator;return o?(G.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:c,value:p,filterText:y})=>o(c,p,y)):this.textFilterParams.textMatcher||v0.DEFAULT_MATCHER}createCondition(o){const c=this.getConditionType(o),p={filterType:this.getFilterType(),type:c},y=this.getValuesWithSideEffects(o,!0);return y.length>0&&(p.filter=y[0]),y.length>1&&(p.filterTo=y[1]),p}getFilterType(){return"text"}areSimpleModelsEqual(o,c){return o.filter===c.filter&&o.filterTo===c.filterTo&&o.type===c.type}getInputs(o){return o>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[o],this.eValuesTo[o]]}getValues(o){return this.getValuesWithSideEffects(o,!1)}getValuesWithSideEffects(o,c){const p=[];return this.forEachPositionInput(o,(y,S,R,L)=>{var Q;if(S<L){let be=qt(y.getValue());c&&this.textFilterParams.trimInput&&(be=null!=(Q=v0.trimInput(be))?Q:null,y.setValue(be,!0)),p.push(be)}}),p}getDefaultFilterOptions(){return v0.DEFAULT_FILTER_OPTIONS}createValueElement(){const o=document.createElement("div");return o.classList.add("ag-filter-body"),fr(o,"presentation"),this.createFromToElement(o,this.eValuesFrom,"from"),this.createFromToElement(o,this.eValuesTo,"to"),o}createFromToElement(o,c,p){const y=this.createManagedBean(new ao);y.addCssClass(`ag-filter-${p}`),y.addCssClass("ag-filter-filter"),c.push(y),o.appendChild(y.getGui())}removeValueElements(o,c){this.removeComponents(this.eValuesFrom,o,c),this.removeComponents(this.eValuesTo,o,c)}mapValuesFromModel(o){const{filter:c,filterTo:p,type:y}=o||{};return[c||null,p||null].slice(0,this.getNumberOfInputs(y))}evaluateNullValue(o){return!!o&&[X.NOT_EQUAL,X.NOT_CONTAINS,X.BLANK].indexOf(o)>=0}evaluateNonNullValue(o,c,p,y){const S=o.map(Li=>this.formatter(Li))||[],R=this.formatter(c),{api:L,colDef:Q,column:be,columnApi:Ie,context:Je,textFormatter:Bt}=this.textFilterParams;if(p.type===X.BLANK)return this.isBlank(c);if(p.type===X.NOT_BLANK)return!this.isBlank(c);const Ei={api:L,colDef:Q,column:be,columnApi:Ie,context:Je,node:y.node,data:y.data,filterOption:p.type,value:R,textFormatter:Bt};return S.some(Li=>this.matcher(Ce(ee({},Ei),{filterText:Li})))}getModelAsString(o){var c;return null!=(c=this.filterModelFormatter.getModelAsString(o))?c:""}};Jo.DEFAULT_FILTER_OPTIONS=[X.CONTAINS,X.NOT_CONTAINS,X.EQUALS,X.NOT_EQUAL,X.STARTS_WITH,X.ENDS_WITH,X.BLANK,X.NOT_BLANK],Jo.DEFAULT_FORMATTER=r=>r,Jo.DEFAULT_LOWERCASE_FORMATTER=r=>null==r?null:r.toString().toLowerCase(),Jo.DEFAULT_MATCHER=({filterOption:r,value:o,filterText:c})=>{if(null==c)return!1;switch(r){case Jo.CONTAINS:return o.indexOf(c)>=0;case Jo.NOT_CONTAINS:return o.indexOf(c)<0;case Jo.EQUALS:return o===c;case Jo.NOT_EQUAL:return o!=c;case Jo.STARTS_WITH:return 0===o.indexOf(c);case Jo.ENDS_WITH:const p=o.lastIndexOf(c);return p>=0&&p===o.length-c.length;default:return!1}};var od=Jo,Co=class extends nn{constructor(r){super(),this.params=r,this.valueChangedListener=()=>{}}setupGui(r){var o;this.eFloatingFilterTextInput=this.createManagedBean(new ao(null==(o=this.params)?void 0:o.config));const c=this.eFloatingFilterTextInput.getGui();r.appendChild(c),this.addManagedListener(c,"input",p=>this.valueChangedListener(p)),this.addManagedListener(c,"keydown",p=>this.valueChangedListener(p))}setEditable(r){this.eFloatingFilterTextInput.setDisabled(!r)}setAutoComplete(r){this.eFloatingFilterTextInput.setAutoComplete(r)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(r,o){this.eFloatingFilterTextInput.setValue(r,o)}setValueChangedListener(r){this.valueChangedListener=r}setParams(r){this.setAriaLabel(r.ariaLabel),void 0!==r.autoComplete&&this.setAutoComplete(r.autoComplete)}setAriaLabel(r){this.eFloatingFilterTextInput.setInputAriaLabel(r)}},vp=class extends Hn{postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(r,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(this.setLastTypeFromModel(r),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(r)))}init(r){this.setupFloatingFilterInputService(r),super.init(r),this.setTextInputParams(r)}setupFloatingFilterInputService(r){this.floatingFilterInputService=this.createFloatingFilterInputService(r),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(r){var o;this.params=r;const c=null!=(o=r.browserAutoComplete)&&o;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(r),autoComplete:c}),this.applyActive=ll.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const p=ll.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),y=tt(this.syncUpWithParentFilter.bind(this),p);this.floatingFilterInputService.setValueChangedListener(y)}}onParamsUpdated(r){this.refresh(r)}refresh(r){super.refresh(r),this.setTextInputParams(r)}recreateFloatingFilterInputService(r){const o=this.floatingFilterInputService.getValue();ko(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(r),this.floatingFilterInputService.setValue(o,!0)}syncUpWithParentFilter(r){if(this.applyActive&&r.key!==xi.ENTER)return;let c=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(c=od.trimInput(c),this.floatingFilterInputService.setValue(c,!0)),this.params.parentFilterInstance(p=>{p&&p.onFloatingFilterChanged(this.getLastType()||null,c||null)})}setEditable(r){this.floatingFilterInputService.setEditable(r)}};P([sn("eFloatingFilterInputContainer")],vp.prototype,"eFloatingFilterInputContainer",2),P([mt],vp.prototype,"postConstruct",1);var qu=class extends nn{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(r){this.eFloatingFilterNumberInput=this.createManagedBean(new Va),this.eFloatingFilterTextInput=this.createManagedBean(new ao),this.eFloatingFilterTextInput.setDisabled(!0);const o=this.eFloatingFilterNumberInput.getGui(),c=this.eFloatingFilterTextInput.getGui();r.appendChild(o),r.appendChild(c),this.setupListeners(o,p=>this.valueChangedListener(p)),this.setupListeners(c,p=>this.valueChangedListener(p))}setEditable(r){this.numberInputActive=r,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(r){this.eFloatingFilterNumberInput.setAutoComplete(r),this.eFloatingFilterTextInput.setAutoComplete(r)}getValue(){return this.getActiveInputElement().getValue()}setValue(r,o){this.getActiveInputElement().setValue(r,o)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(r){this.valueChangedListener=r}setupListeners(r,o){this.addManagedListener(r,"input",o),this.addManagedListener(r,"keydown",o)}setParams(r){this.setAriaLabel(r.ariaLabel),void 0!==r.autoComplete&&this.setAutoComplete(r.autoComplete)}setAriaLabel(r){this.eFloatingFilterNumberInput.setInputAriaLabel(r),this.eFloatingFilterTextInput.setInputAriaLabel(r)}},Cd=class extends vp{init(r){var o;super.init(r),this.filterModelFormatter=new yd(this.localeService,this.optionsFactory,null==(o=r.filterParams)?void 0:o.numberFormatter)}onParamsUpdated(r){this.refresh(r)}refresh(r){Fc(r.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(r),super.refresh(r),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return bd.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(r){return this.allowedCharPattern=Fc(r.filterParams),this.createManagedBean(this.allowedCharPattern?new Co({config:{allowedCharPattern:this.allowedCharPattern}}):new qu)}},rg=class extends vp{init(r){super.init(r),this.filterModelFormatter=new Sh(this.localeService,this.optionsFactory)}onParamsUpdated(r){this.refresh(r)}refresh(r){super.refresh(r),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return od.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Co)}},hu=class oD{constructor(o,c=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new Pt,this.eElement=o,this.preventMouseClick=c;const p=this.onTouchStart.bind(this),y=this.onTouchMove.bind(this),S=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",p,{passive:!0}),this.eElement.addEventListener("touchmove",y,{passive:!0}),this.eElement.addEventListener("touchend",S,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",p,{passive:!0}),this.eElement.removeEventListener("touchmove",y,{passive:!0}),this.eElement.removeEventListener("touchend",S,{passive:!1})})}getActiveTouch(o){for(let c=0;c<o.length;c++)if(o[c].identifier===this.touchStart.identifier)return o[c];return null}addEventListener(o,c){this.eventService.addEventListener(o,c)}removeEventListener(o,c){this.eventService.removeEventListener(o,c)}onTouchStart(o){if(this.touching)return;this.touchStart=o.touches[0],this.touching=!0,this.moved=!1;const c=this.touchStart;window.setTimeout(()=>{this.touching&&this.touchStart===c&&!this.moved&&(this.moved=!0,this.eventService.dispatchEvent({type:oD.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:o}))},500)}onTouchMove(o){if(!this.touching)return;const c=this.getActiveTouch(o.touches);c&&!rs(c,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(o){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:oD.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&o.cancelable&&o.preventDefault(),this.touching=!1)}checkForDoubleTap(){const o=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&o-this.lastTapTime>oD.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:oD.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=o}destroy(){this.destroyFuncs.forEach(o=>o())}};hu.EVENT_TAP="tap",hu.EVENT_DOUBLE_TAP="doubleTap",hu.EVENT_LONG_TAP="longTap",hu.DOUBLE_TAP_MILLIS=500;var Js=hu,vc=class DH extends _n{constructor(o){super(),o||this.setTemplate(DH.TEMPLATE)}attachCustomElements(o,c,p,y,S){this.eSortOrder=o,this.eSortAsc=c,this.eSortDesc=p,this.eSortMixed=y,this.eSortNone=S}setupSort(o,c=!1){this.column=o,this.suppressOrder=c,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,o),this.addInIcon("sortDescending",this.eSortDesc,o),this.addInIcon("sortUnSort",this.eSortNone,o),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(o,c,p){if(null==c)return;const y=jn(o,this.gos,p);y&&c.appendChild(y)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const o=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc&&Wn(this.eSortAsc,"asc"===o,{skipAriaHidden:!0}),this.eSortDesc&&Wn(this.eSortDesc,"desc"===o,{skipAriaHidden:!0}),this.eSortNone){const c=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon");Wn(this.eSortNone,!c&&null==o,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const o=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&o&&(this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const o="mixed"===this.sortController.getDisplaySortForColumn(this.column);Wn(this.eSortMixed,o,{skipAriaHidden:!0})}}updateSortOrder(){var o;if(!this.eSortOrder)return;const c=this.sortController.getColumnsWithSortingOrdered(),p=null!=(o=this.sortController.getDisplaySortIndexForColumn(this.column))?o:-1,y=c.some(R=>{var L;return null!=(L=this.sortController.getDisplaySortIndexForColumn(R))&&L});Wn(this.eSortOrder,p>=0&&y,{skipAriaHidden:!0}),p>=0?this.eSortOrder.textContent=(p+1).toString():ko(this.eSortOrder)}};vc.TEMPLATE='<span class="ag-sort-indicator-container">\n            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n        </span>',P([sn("eSortOrder")],vc.prototype,"eSortOrder",2),P([sn("eSortAsc")],vc.prototype,"eSortAsc",2),P([sn("eSortDesc")],vc.prototype,"eSortDesc",2),P([sn("eSortMixed")],vc.prototype,"eSortMixed",2),P([sn("eSortNone")],vc.prototype,"eSortNone",2),P([$("columnModel")],vc.prototype,"columnModel",2),P([$("sortController")],vc.prototype,"sortController",2);var Sl=vc,Os=class EH extends _n{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(o){const c=this.params;return this.params=o,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&c.enableFilterButton==o.enableFilterButton&&c.enableFilterIcon==o.enableFilterIcon&&(this.setDisplayName(o),!0)}workOutTemplate(){var o;let c=null!=(o=this.params.template)?o:EH.TEMPLATE;return c=c&&c.trim?c.trim():c,c}init(o){this.params=o,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(o)}setDisplayName(o){if(this.currentDisplayName!=o.displayName){this.currentDisplayName=o.displayName;const c=ho(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=c)}}addInIcon(o,c,p){if(null==c)return;const y=jn(o,this.gos,p);y&&c.appendChild(y)}setupTap(){const{gos:o}=this;if(o.get("suppressTouch"))return;const c=new Js(this.getGui(),!0),p=this.shouldSuppressMenuHide(),y=p&&pt(this.eMenu),S=y?new Js(this.eMenu,!0):c;if(this.params.enableMenu&&this.addManagedListener(S,Js[y?"EVENT_TAP":"EVENT_LONG_TAP"],Q=>this.params.showColumnMenuAfterMouseClick(Q.touchStart)),this.params.enableSorting&&this.addManagedListener(c,Js.EVENT_TAP,L=>{var Q,be;const Ie=L.touchStart.target;p&&(null!=(Q=this.eMenu)&&Q.contains(Ie)||null!=(be=this.eFilterButton)&&be.contains(Ie))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")}),this.params.enableFilterButton){const R=new Js(this.eFilterButton,!0);this.addManagedListener(R,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>R.destroy())}this.addDestroyFunc(()=>c.destroy()),y&&this.addDestroyFunc(()=>S.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return ma(this.eMenu),void(this.eMenu=void 0);const o=this.menuService.isLegacyMenuEnabled();this.addInIcon(o?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!o),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(o){var c,p,y,S;const{column:R}=this.params,L=this.menuService.isLegacyMenuEnabled();if(o&&!L){if(this.menuService.isFilterMenuInHeaderEnabled(R))return this.params.showFilter(null!=(p=null!=(c=this.eFilterButton)?c:this.eMenu)?p:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(null!=(S=null!=(y=this.eMenu)?y:this.eFilterButton)?S:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new Sl(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,bt.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",c=>{if(!(this.params.column.isMoving()||(new Date).getTime()-this.lastMovingChanged<50)){const Q="ctrl"===this.gos.get("multiSortKey")?c.ctrlKey||c.metaKey:c.shiftKey;this.params.progressSort(Q)}});const o=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const c=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),y=!c?.every(S=>this.params.column.getSort()==S.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",y)}};this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,o),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,o)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){this.eFilterButton&&(this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0)}configureFilter(o,c,p){if(!o)return ma(c),!1;const{column:y}=this.params;return this.addInIcon("filter",c,y),this.addManagedListener(y,bt.EVENT_FILTER_CHANGED,p),p(),!0}onFilterChangedIcon(){const o=this.params.column.isFilterActive();Wn(this.eFilter,o,{skipAriaHidden:!0})}onFilterChangedButton(){const o=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",o)}getAnchorElementForMenu(o){var c,p,y,S;return o?null!=(p=null!=(c=this.eFilterButton)?c:this.eMenu)?p:this.getGui():null!=(S=null!=(y=this.eMenu)?y:this.eFilterButton)?S:this.getGui()}};Os.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>\n            </div>\n        </div>',P([$("sortController")],Os.prototype,"sortController",2),P([$("menuService")],Os.prototype,"menuService",2),P([$("columnModel")],Os.prototype,"columnModel",2),P([sn("eFilter")],Os.prototype,"eFilter",2),P([sn("eFilterButton")],Os.prototype,"eFilterButton",2),P([sn("eSortIndicator")],Os.prototype,"eSortIndicator",2),P([sn("eMenu")],Os.prototype,"eMenu",2),P([sn("eLabel")],Os.prototype,"eLabel",2),P([sn("eText")],Os.prototype,"eText",2),P([sn("eSortOrder")],Os.prototype,"eSortOrder",2),P([sn("eSortAsc")],Os.prototype,"eSortAsc",2),P([sn("eSortDesc")],Os.prototype,"eSortDesc",2),P([sn("eSortMixed")],Os.prototype,"eSortMixed",2),P([sn("eSortNone")],Os.prototype,"eSortNone",2);var ec=Os,Ll=class AH extends _n{constructor(){super(AH.TEMPLATE)}destroy(){super.destroy()}init(o){this.params=o,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&Zt("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const o=y=>{if(Yn(y))return;const S=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),S,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,o),this.addTouchAndClickListeners(this.eOpenIcon,o);const c=y=>{fn(y)};this.addManagedListener(this.eCloseIcon,"dblclick",c),this.addManagedListener(this.eOpenIcon,"dblclick",c),this.addManagedListener(this.getGui(),"dblclick",o),this.updateIconVisibility();const p=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(p,Pe.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(p,Pe.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(o,c){const p=new Js(o,!0);this.addManagedListener(p,Js.EVENT_TAP,c),this.addDestroyFunc(()=>p.destroy()),this.addManagedListener(o,"click",c)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const c=this.params.columnGroup.isExpanded();Wn(this.eOpenIcon,c),Wn(this.eCloseIcon,!c)}else Wn(this.eOpenIcon,!1),Wn(this.eCloseIcon,!1)}addInIcon(o,c){const p=jn(o,this.gos,null);p&&this.getRefElement(c).appendChild(p)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return Wn(this.eOpenIcon,!1),void Wn(this.eCloseIcon,!1)}setupLabel(){var o;const{displayName:c,columnGroup:p}=this.params;if(pt(c)){const y=ho(c,!0);this.getRefElement("agLabel").textContent=y}this.addOrRemoveCssClass("ag-sticky-label",!(null!=(o=p.getColGroupDef())&&o.suppressStickyLabel))}};Ll.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',P([$("columnModel")],Ll.prototype,"columnModel",2),P([sn("agOpened")],Ll.prototype,"eOpenIcon",2),P([sn("agClosed")],Ll.prototype,"eCloseIcon",2);var pu=Ll,Oc=class extends _n{isPopup(){return!0}setParentComponent(r){r.addCssClass("ag-has-popup"),super.setParentComponent(r)}destroy(){const r=this.parentComponent;r&&r.isAlive()&&r.getGui().classList.remove("ag-has-popup"),super.destroy()}},Ju=class TH extends Oc{constructor(){super(TH.TEMPLATE)}init(o){this.params=o,this.focusAfterAttached=o.cellStartedEdit,this.eTextArea.setMaxLength(o.maxLength||200).setCols(o.cols||60).setRows(o.rows||10),pt(o.value,!0)&&this.eTextArea.setValue(o.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(o){const c=o.key;(c===xi.LEFT||c===xi.UP||c===xi.RIGHT||c===xi.DOWN||o.shiftKey&&c===xi.ENTER)&&o.stopPropagation()}afterGuiAttached(){const o=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(o("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const o=this.eTextArea.getValue();return pt(o)||pt(this.params.value)?this.params.parseValue(o):this.params.value}};Ju.TEMPLATE='<div class="ag-large-text">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',P([sn("eTextArea")],Ju.prototype,"eTextArea",2);var yp=Ju,eh=class extends Oc{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>\n            </div>'),this.startedByEnter=!1}init(r){this.focusAfterAttached=r.cellStartedEdit;const{eSelect:o,valueService:c,gos:p}=this,{values:y,value:S,eventKey:R}=r;if(Ai(y))return void console.warn("AG Grid: no values found for select cellEditor");this.startedByEnter=null!=R&&R===xi.ENTER;let L=!1;y.forEach(Je=>{const Bt={value:Je},Ei=c.formatValue(r.column,null,Je);Bt.text=null!=Ei?Ei:Je,o.addOption(Bt),L=L||S===Je}),L?o.setValue(r.value,!0):r.values.length&&o.setValue(r.values[0],!0);const{valueListGap:Q,valueListMaxWidth:be,valueListMaxHeight:Ie}=r;null!=Q&&o.setPickerGap(Q),null!=Ie&&o.setPickerMaxHeight(Ie),null!=be&&o.setPickerMaxWidth(be),"fullRow"!==p.get("editType")&&this.addManagedListener(this.eSelect,$e.EVENT_ITEM_SELECTED,()=>r.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};P([$("valueService")],eh.prototype,"valueService",2),P([sn("eSelect")],eh.prototype,"eSelect",2);var tc=class extends Oc{constructor(r){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${r.getTemplate()}\n            </div>`),this.cellEditorInput=r}init(r){this.params=r;const o=this.eInput;let c;if(this.cellEditorInput.init(o,r),r.cellStartedEdit){this.focusAfterAttached=!0;const p=r.eventKey;p===xi.BACKSPACE||r.eventKey===xi.DELETE?c="":p&&1===p.length?c=p:(c=this.cellEditorInput.getStartValue(),p!==xi.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,c=this.cellEditorInput.getStartValue();null!=c&&o.setStartValue(c),this.addManagedListener(o.getGui(),"keydown",p=>{const{key:y}=p;(y===xi.PAGE_UP||y===xi.PAGE_DOWN)&&p.preventDefault()})}afterGuiAttached(){var r,o;const c=this.localeService.getLocaleTextFunc(),p=this.eInput;if(p.setInputAriaLabel(c("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_o()||p.getFocusableElement().focus();const y=p.getInputElement();this.highlightAllOnFocus?y.select():null==(o=(r=this.cellEditorInput).setCaret)||o.call(r)}focusIn(){const r=this.eInput,o=r.getFocusableElement(),c=r.getInputElement();o.focus(),c.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};P([sn("eInput")],tc.prototype,"eInput",2);var _p=class extends tc{constructor(){super(new class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(r,o){this.eInput=r,this.params=o,null!=o.maxLength&&r.setMaxLength(o.maxLength)}getValue(){const r=this.eInput.getValue();return pt(r)||pt(this.params.value)?this.params.parseValue(r):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const r=this.eInput.getValue(),o=pt(r)&&r.length||0;o&&this.eInput.getInputElement().setSelectionRange(o,o)}})}},Dh=class extends _n{constructor(){super(),this.refreshCount=0;const r=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-change-delta");const c=document.createElement("span");c.setAttribute("class","ag-value-change-value"),r.appendChild(o),r.appendChild(c),this.setTemplateFromElement(r)}init(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r,!0)}showDelta(r,o){const c=Math.abs(o),p=r.formatValue(c),y=pt(p)?p:c,S=o>=0;this.eDelta.textContent=S?"\u2191"+y:"\u2193"+y,this.eDelta.classList.toggle("ag-value-change-delta-up",S),this.eDelta.classList.toggle("ag-value-change-delta-down",!S)}setTimerToRemoveDelta(){this.refreshCount++;const r=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{r===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),ko(this.eDelta)}refresh(r,o=!1){const c=r.value;return c!==this.lastValue&&(pt(r.valueFormatted)?this.eValue.textContent=r.valueFormatted:pt(r.value)?this.eValue.textContent=c:ko(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof c&&"number"==typeof this.lastValue&&this.showDelta(r,c-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),o||this.setTimerToRemoveDelta(),this.lastValue=c,!0)}};P([$("filterManager")],Dh.prototype,"filterManager",2);var Em=class extends _n{constructor(){super(),this.refreshCount=0;const r=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-slide-current"),r.appendChild(o),this.setTemplateFromElement(r),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(r){this.refresh(r,!0)}addSlideAnimation(){this.refreshCount++;const r=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const o=document.createElement("span");o.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=o,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{r===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{r===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(r,o=!1){let c=r.value;return Ai(c)&&(c=""),c!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(o||this.addSlideAnimation(),this.lastValue=c,pt(r.valueFormatted)?this.eCurrent.textContent=r.valueFormatted:pt(r.value)?this.eCurrent.textContent=c:ko(this.eCurrent),!0)}};P([$("filterManager")],Em.prototype,"filterManager",2);var Ls=class da{constructor(o){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=da.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=o}setData(o){this.setDataCommon(o,!1)}updateData(o){this.setDataCommon(o,!0)}setDataCommon(o,c){const p=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const y=this.createDataChangedEvent(o,p,c);this.dispatchLocalEvent(y)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(o,c,p){return{type:da.EVENT_DATA_CHANGED,node:this,oldData:c,newData:o,update:p}}createLocalRowEvent(o){return{type:o,node:this}}getRowIndexString(){return"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const o=new da(this.beans);return o.id=this.id,o.data=this.data,o.__daemon=!0,o.selected=this.selected,o.level=this.level,o}setDataAndId(o,c){const p=pt(this.id)?this.createDaemonNode():null,y=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(c),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,p);const S=this.createDataChangedEvent(o,y,!1);this.dispatchLocalEvent(S)}checkRowSelectable(){const o=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!o||o(this))}setRowSelectable(o,c){if(this.selectable!==o){if(this.selectable=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_SELECTABLE_CHANGED)),c)return;if(this.beans.gos.get("groupSelectsChildren")){const y=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:y??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(o){const c=this.beans.gos.getCallback("getRowId");if(c)if(this.data){const p=this.getGroupKeys(!0);this.id=c({data:this.data,parentKeys:p.length>0?p:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(da.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${da.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=o}getGroupKeys(o=!1){const c=[];let p=this;for(o&&(p=p.parent);p&&p.level>=0;)c.push(p.key),p=p.parent;return c.reverse(),c}isPixelInRange(o){return!(!pt(this.rowTop)||!pt(this.rowHeight))&&o>=this.rowTop&&o<this.rowTop+this.rowHeight}setFirstChild(o){this.firstChild!==o&&(this.firstChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(o){this.lastChild!==o&&(this.lastChild=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(o){this.childIndex!==o&&(this.childIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_TOP_CHANGED)),this.setDisplayed(null!==o))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(o){this.displayed!==o&&(this.displayed=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_DISPLAYED_CHANGED)))}setDragging(o){this.dragging!==o&&(this.dragging=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_DRAGGING_CHANGED)))}setHighlighted(o){o!==this.highlighted&&(this.highlighted=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_HIGHLIGHT_CHANGED)))}setHovered(o){this.hovered!==o&&(this.hovered=o)}isHovered(){return this.hovered}setAllChildrenCount(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_MASTER_CHANGED)))}setGroup(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_GROUP_CHANGED)))}setRowHeight(o,c=!1){this.rowHeight=o,this.rowHeightEstimated=c,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(o,c){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[c.getId()]=o,null!=o&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=tt(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let o=!1,c=!0,p=0;const y=this.__autoHeights;if(null==y||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(L=>{let Q=y[L.getId()];if(null==Q){if(!this.beans.columnModel.isColSpanActive())return void(o=!0);{let be=[];switch(L.getPinned()){case"left":be=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":be=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:be=this.beans.columnModel.getViewportCenterColumnsForRow(this)}if(be.includes(L))return void(o=!0);Q=-1}}else c=!1;Q>p&&(p=Q)}),o)||((c||p<10)&&(p=this.beans.gos.getRowHeightForNode(this).height),p==this.rowHeight))return;this.setRowHeight(p);const R=this.beans.rowModel;R.onRowHeightChangedDebounced&&R.onRowHeightChangedDebounced()}setRowIndex(o){this.rowIndex!==o&&(this.rowIndex=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(o){this.uiLevel!==o&&(this.uiLevel=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_UI_LEVEL_CHANGED)))}setExpanded(o,c,p){if(this.expanded===o)return;this.expanded=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_EXPANDED_CHANGED));const y=Object.assign({},this.createGlobalRowEvent(ae.EVENT_ROW_GROUP_OPENED),{expanded:o,event:c||null});this.beans.rowNodeEventThrottle.dispatchExpanded(y,p),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(o){return this.beans.gos.addGridCommonParams({type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(o){this.eventService&&this.eventService.dispatchEvent(o)}setDataValue(o,c,p){const S=(()=>{var Q;return"string"!=typeof o?o:null!=(Q=this.beans.columnModel.getGridColumn(o))?Q:this.beans.columnModel.getPrimaryColumn(o)})(),R=this.getValueFromValueService(S);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(S,R,c,p),!1;const L=this.beans.valueService.setValue(this,S,c,p);return this.dispatchCellChangedEvent(S,c,R),this.checkRowSelectable(),L}getValueFromValueService(o){var c,p;const y=this.leafGroup&&this.beans.columnModel.isPivotMode(),S=this.group&&this.expanded&&!this.footer&&!y;let R=!1;const L=null!=(c=this.beans.gos.get("groupTotalRow"))?c:this.beans.gos.get("groupIncludeFooter");R="function"!=typeof L?!!L:!!(null!=(p=this.beans.gos.getCallback("groupTotalRow"))?p:this.beans.gos.getCallback("groupIncludeFooter"))({node:this});const Q=this.beans.gos.get("groupSuppressBlankHeader");return this.beans.valueService.getValue(o,this,!1,S&&R&&!Q)}dispatchEventForSaveValueReadOnly(o,c,p,y){const S=this.beans.gos.addGridCommonParams({type:ae.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:o,colDef:o.getColDef(),data:this.data,node:this,oldValue:c,newValue:p,value:p,source:y});this.beans.eventService.dispatchEvent(S)}setGroupValue(o,c){const p=this.beans.columnModel.getGridColumn(o);Ai(this.groupData)&&(this.groupData={});const y=p.getColId(),S=this.groupData[y];S!==c&&(this.groupData[y]=c,this.dispatchCellChangedEvent(p,c,S))}setAggData(o){const c=this.aggData;if(this.aggData=o,this.eventService){const p=y=>{const S=this.aggData?this.aggData[y]:void 0,R=c?c[y]:void 0;if(S===R)return;const L=this.beans.columnModel.lookupGridColumn(y);L&&this.dispatchCellChangedEvent(L,S,R)};for(const y in this.aggData)p(y);for(const y in o)y in this.aggData||p(y)}}updateHasChildren(){let o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const p=this.beans.gos.get("treeData"),y=this.beans.gos.get("isServerSideGroup");o=!this.stub&&!this.footer&&(p?!!y&&y(this.data):!!this.group)}o!==this.__hasChildren&&(this.__hasChildren=!!o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(da.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&oi(this.childrenAfterGroup)}dispatchCellChangedEvent(o,c,p){this.dispatchLocalEvent({type:da.EVENT_CELL_CHANGED,node:this,column:o,newValue:c,oldValue:p})}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(c=>c.depthFirstSearch(o)),o(this)}calculateSelectedFromChildren(){var o;let c=!1,p=!1,y=!1;if(null==(o=this.childrenAfterGroup)||!o.length)return this.selectable?this.selected:null;for(let S=0;S<this.childrenAfterGroup.length;S++){const R=this.childrenAfterGroup[S];let L=R.isSelected();if(!R.selectable){const Q=R.calculateSelectedFromChildren();if(null===Q)continue;L=Q}switch(L){case!0:c=!0;break;case!1:p=!0;break;default:y=!0}}return y||c&&p?void 0:!!c||!p&&(this.selectable?this.selected:null)}setSelectedInitialValue(o){this.selected=o}selectThisNode(o,c,p="api"){if(!this.selectable&&o||this.selected===o)return!1;this.selected=o,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(da.EVENT_ROW_SELECTED));const R=this.sibling;R&&R.footer&&R.eventService&&R.dispatchLocalEvent(R.createLocalRowEvent(da.EVENT_ROW_SELECTED));const L=Ce(ee({},this.createGlobalRowEvent(ae.EVENT_ROW_SELECTED)),{event:c||null,source:p});return this.beans.eventService.dispatchEvent(L),!0}setSelected(o,c=!1,p="api"){"boolean"!=typeof p?this.setSelectedParams({newValue:o,clearSelection:c,rangeSelect:!1,source:p}):console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(o){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):void 0===this.id?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(Ce(ee({},o),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(o){let c=this.parent;for(;c;){if(c===o)return!0;c=c.parent}return!1}addEventListener(o,c){var p,y;this.eventService||(this.eventService=new Pt),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new qe(this.beans.frameworkOverrides));const S=null!=(y=null==(p=this.frameworkEventListenerService)?void 0:p.wrap(c))?y:c;this.eventService.addEventListener(o,S)}removeEventListener(o,c){var p,y;if(!this.eventService)return;const S=null!=(y=null==(p=this.frameworkEventListenerService)?void 0:p.unwrap(c))?y:c;this.eventService.removeEventListener(o,S),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(da.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(da.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(o){let c=this,p=!0,y=!1,S=null;for(;p&&!y;){const R=c.parent;pt(R)&&c.firstChild?R.rowGroupColumn===o&&(y=!0,S=R):p=!1,c=R}return y?S:null}isFullWidthCell(){if(this.detail)return!0;const o=this.beans.gos.getCallback("isFullWidthRow");return!!o&&o({rowNode:this})}getRoute(){if(null==this.key)return;const o=[];let c=this;for(;null!=c.key;)o.push(c.key),c=c.parent;return o.reverse()}createFooter(){if(this.sibling)return;const o=new Set(["eventService","__objectId","sticky"]),c=new da(this.beans);Object.keys(this).forEach(p=>{o.has(p)||(c[p]=this[p])}),c.footer=!0,c.setRowTop(null),c.setRowIndex(null),c.oldRowTop=null,c.id="rowGroupFooter_"+this.id,c.sibling=this,this.sibling=c}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};Ls.ID_PREFIX_ROW_GROUP="row-group-",Ls.ID_PREFIX_TOP_PINNED="t-",Ls.ID_PREFIX_BOTTOM_PINNED="b-",Ls.OBJECT_ID_SEQUENCE=0,Ls.EVENT_ROW_SELECTED="rowSelected",Ls.EVENT_DATA_CHANGED="dataChanged",Ls.EVENT_CELL_CHANGED="cellChanged",Ls.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",Ls.EVENT_MASTER_CHANGED="masterChanged",Ls.EVENT_GROUP_CHANGED="groupChanged",Ls.EVENT_MOUSE_ENTER="mouseEnter",Ls.EVENT_MOUSE_LEAVE="mouseLeave",Ls.EVENT_HEIGHT_CHANGED="heightChanged",Ls.EVENT_TOP_CHANGED="topChanged",Ls.EVENT_DISPLAYED_CHANGED="displayedChanged",Ls.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",Ls.EVENT_LAST_CHILD_CHANGED="lastChildChanged",Ls.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",Ls.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",Ls.EVENT_EXPANDED_CHANGED="expandedChanged",Ls.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",Ls.EVENT_SELECTABLE_CHANGED="selectableChanged",Ls.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",Ls.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",Ls.EVENT_DRAGGING_CHANGED="draggingChanged";var Xr=Ls,Yd=class extends _n{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const r=this.localeService.getLocaleTextFunc(),o=this.rowNode.isSelected(),c=Dr(r,o),[p,y]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],S=r(p,y);this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(`${S} (${c})`)}onClicked(r,o,c){return this.rowNode.setSelectedParams({newValue:r,rangeSelect:c.shiftKey,groupSelectsFiltered:o,event:c,source:"checkboxSelected"})}init(r){if(this.rowNode=r.rowNode,this.column=r.column,this.overrides=r.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",p=>{fn(p)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",p=>{fn(p);const y=this.gos.get("groupSelectsFiltered"),S=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(S,y)?0===this.onClicked(!0,y,p||{})&&this.onClicked(!1,y,p):S?this.onClicked(!1,y,p):this.onClicked(!0,y,p||{})}),this.addManagedListener(this.rowNode,Xr.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gos.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const p=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,p),this.addManagedListener(this.rowNode,Xr.EVENT_DATA_CHANGED,p),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,p),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(r,o){return o&&(void 0===this.eCheckbox.getPreviousValue()||void 0===r)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var r,o,c;let p=this.rowNode.selectable;const y=this.getIsVisible();if(p)if("function"==typeof y){const R=null==(r=this.overrides)?void 0:r.callbackParams;if(this.column){const L=this.column.createColumnFunctionCallbackParams(this.rowNode);p=y(ee(ee({},R),L))}else p=y(Ce(ee({},R),{node:this.rowNode,data:this.rowNode.data}))}else p=y??!1;if(null==(o=this.column)?void 0:o.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!p),this.setVisible(!0),void this.setDisplayed(!0);null!=(c=this.overrides)&&c.removeHidden?this.setDisplayed(p):this.setVisible(p)}getIsVisible(){var r,o;return this.overrides?this.overrides.isVisible:null==(o=null==(r=this.column)?void 0:r.getColDef())?void 0:o.checkboxSelection}};P([sn("eCheckbox")],Yd.prototype,"eCheckbox",2),P([mt],Yd.prototype,"postConstruct",1);var wd=(r=>(r[r.Left=0]="Left",r[r.Right=1]="Right",r))(wd||{}),wr=class extends nn{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=_r("columnMovePin",this.gos,null),this.eHideIcon=_r("columnMoveHide",this.gos,null),this.eMoveIcon=_r("columnMoveMove",this.gos,null),this.eLeftIcon=_r("columnMoveLeft",this.gos,null),this.eRightIcon=_r("columnMoveRight",this.gos,null),this.eGroupIcon=_r("columnMoveGroup",this.gos,null),this.eAggregateIcon=_r("columnMoveValue",this.gos,null),this.ePivotIcon=_r("columnMovePivot",this.gos,null),this.eDropNotAllowedIcon=_r("dropNotAllowed",this.gos,null)}addDragSource(r,o=!1){const c={eElement:r.eElement,dragStartPixels:r.dragStartPixels,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:o};this.dragSourceAndParamsList.push({params:c,dragSource:r}),this.dragService.addDragSource(c)}removeDragSource(r){const o=this.dragSourceAndParamsList.find(c=>c.dragSource===r);o&&(this.dragService.removeDragSource(o.params),Nt(this.dragSourceAndParamsList,o))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(r=>this.dragService.removeDragSource(r.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(r,o){this.dragging=!0,this.dragSource=r,this.eventLastTime=o,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=void 0,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(r){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const o=this.createDropTargetEvent(this.lastDropTarget,r,null,null,!1);this.lastDropTarget.onDragStop(o)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(r,o){var c,p,y,S;const R=this.getHorizontalDirection(r),L=this.getVerticalDirection(r);this.eventLastTime=r,this.positionGhost(r);const Q=this.dropTargets.filter(Ie=>this.isMouseOnDropTarget(r,Ie)),be=this.findCurrentDropTarget(r,Q);if(be!==this.lastDropTarget)this.leaveLastTargetIfExists(r,R,L,o),null!==this.lastDropTarget&&null===be&&(null==(p=(c=this.dragSource).onGridExit)||p.call(c,this.dragItem)),null===this.lastDropTarget&&null!==be&&(null==(S=(y=this.dragSource).onGridEnter)||S.call(y,this.dragItem)),this.enterDragTargetIfExists(be,r,R,L,o),this.lastDropTarget=be;else if(be&&be.onDragging){const Ie=this.createDropTargetEvent(be,r,R,L,o);be.onDragging(Ie)}}getAllContainersFromDropTarget(r){const o=r.getSecondaryContainers?r.getSecondaryContainers():null,c=[[r.getContainer()]];return o?c.concat(o):c}allContainersIntersect(r,o){for(const c of o){const p=c.getBoundingClientRect();if(0===p.width||0===p.height)return!1;if(!(r.clientX>=p.left&&r.clientX<p.right&&r.clientY>=p.top&&r.clientY<p.bottom))return!1}return!0}isMouseOnDropTarget(r,o){const c=this.getAllContainersFromDropTarget(o);let p=!1;for(const y of c)if(this.allContainersIntersect(r,y)){p=!0;break}return!(o.targetContainsSource&&!o.getContainer().contains(this.dragSource.eElement))&&p&&o.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(r,o){const c=o.length;if(0===c)return null;if(1===c)return o[0];const y=this.gos.getRootNode().elementsFromPoint(r.clientX,r.clientY);for(const S of y)for(const R of o)if(-1!==ki(this.getAllContainersFromDropTarget(R)).indexOf(S))return R;return null}enterDragTargetIfExists(r,o,c,p,y){if(r){if(r.onDragEnter){const S=this.createDropTargetEvent(r,o,c,p,y);r.onDragEnter(S)}this.setGhostIcon(r.getIconName?r.getIconName():null)}}leaveLastTargetIfExists(r,o,c,p){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const y=this.createDropTargetEvent(this.lastDropTarget,r,o,c,p);this.lastDropTarget.onDragLeave(y)}this.setGhostIcon(null)}}addDropTarget(r){this.dropTargets.push(r)}removeDropTarget(r){this.dropTargets=this.dropTargets.filter(o=>o.getContainer()!==r.getContainer())}hasExternalDropZones(){return this.dropTargets.some(r=>r.external)}findExternalZone(r){return this.dropTargets.filter(c=>c.external).find(c=>c.getContainer()===r.getContainer())||null}getHorizontalDirection(r){const o=this.eventLastTime&&this.eventLastTime.clientX,c=r.clientX;return o===c?null:o>c?0:1}getVerticalDirection(r){const o=this.eventLastTime&&this.eventLastTime.clientY,c=r.clientY;return o===c?null:o>c?0:1}createDropTargetEvent(r,o,c,p,y){const S=r.getContainer(),R=S.getBoundingClientRect(),{gridApi:L,columnApi:Q,dragItem:be,dragSource:Ie}=this;return{event:o,x:o.clientX-R.left,y:o.clientY-R.top,vDirection:p,hDirection:c,dragSource:Ie,fromNudge:y,dragItem:be,api:L,columnApi:Q,dropZoneTarget:S}}positionGhost(r){const o=this.eGhost;if(!o)return;const p=o.getBoundingClientRect().height,y=pc()-2,S=bl()-2,R=ql(o.offsetParent),{clientY:L,clientX:Q}=r;let be=L-R.top-p/2,Ie=Q-R.left-10;const Je=this.gos.getDocument(),Bt=Je.defaultView||window,Ei=Bt.pageYOffset||Je.documentElement.scrollTop,Li=Bt.pageXOffset||Je.documentElement.scrollLeft;y>0&&Ie+o.clientWidth>y+Li&&(Ie=y+Li-o.clientWidth),Ie<0&&(Ie=0),S>0&&be+o.clientHeight>S+Ei&&(be=S+Ei-o.clientHeight),be<0&&(be=0),o.style.left=`${Ie}px`,o.style.top=`${be}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=cs(wr.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:r}=this.environment.getTheme();r&&this.eGhost.classList.add(r),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const o=this.eGhost.querySelector(".ag-dnd-ghost-label");let c=this.dragSource.dragItemName;st(c)&&(c=c()),o.innerHTML=ho(c)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const p=this.gos.getDocument();let y=null,S=null;try{y=p.fullscreenElement}catch{}finally{y||(y=this.gos.getRootNode());S=y.querySelector("body")||(y instanceof ShadowRoot?y:y instanceof Document?y?.documentElement:y)}this.eGhostParent=S,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(r,o=!1){ko(this.eGhostIcon);let c=null;switch(r||(r=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():wr.ICON_NOT_ALLOWED),r){case wr.ICON_PINNED:c=this.ePinnedIcon;break;case wr.ICON_MOVE:c=this.eMoveIcon;break;case wr.ICON_LEFT:c=this.eLeftIcon;break;case wr.ICON_RIGHT:c=this.eRightIcon;break;case wr.ICON_GROUP:c=this.eGroupIcon;break;case wr.ICON_AGGREGATE:c=this.eAggregateIcon;break;case wr.ICON_PIVOT:c=this.ePivotIcon;break;case wr.ICON_NOT_ALLOWED:c=this.eDropNotAllowedIcon;break;case wr.ICON_HIDE:c=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",o),(c!==this.eHideIcon||!this.gos.get("suppressDragLeaveHidesColumns"))&&c&&this.eGhostIcon.appendChild(c)}};wr.ICON_PINNED="pinned",wr.ICON_MOVE="move",wr.ICON_LEFT="left",wr.ICON_RIGHT="right",wr.ICON_GROUP="group",wr.ICON_AGGREGATE="aggregate",wr.ICON_PIVOT="pivot",wr.ICON_NOT_ALLOWED="notAllowed",wr.ICON_HIDE="hide",wr.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',P([$("dragService")],wr.prototype,"dragService",2),P([$("mouseEventService")],wr.prototype,"mouseEventService",2),P([$("columnApi")],wr.prototype,"columnApi",2),P([$("gridApi")],wr.prototype,"gridApi",2),P([mt],wr.prototype,"init",1),P([jt],wr.prototype,"clearDragSourceParamsList",1),wr=P([It("dragAndDropService")],wr);var Lc=class extends _n{constructor(r,o,c,p,y,S){super(),this.cellValueFn=r,this.rowNode=o,this.column=c,this.customGui=p,this.dragStartPixels=y,this.suppressVisibilityChange=S,this.dragSource=null}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(jn("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const r=this.gos.get("rowDragManaged")?new Ah(this,this.beans,this.rowNode,this.column):new Am(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}}setDragElement(r,o){this.setTemplateFromElement(r),this.addDragSource(o)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const o=this.beans.selectionService.getSelectedNodes();return-1!==o.indexOf(this.rowNode)?o:[this.rowNode]}checkCompatibility(){const r=this.gos.get("rowDragManaged");this.gos.get("treeData")&&r&&Zt("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(r){if(r){const o=r.getColDef();if(o.rowDragText)return o.rowDragText}return this.gos.get("rowDragText")}addDragSource(r=4){this.dragSource&&this.removeDragSource();const o=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var c;const p=this.getDragItem(),y=(null==(c=p.rowNodes)?void 0:c.length)||1,S=this.getRowDragText(this.column);return S?S(p,y):1===y?this.cellValueFn():`${y} ${o("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:r,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};P([$("beans")],Lc.prototype,"beans",2),P([mt],Lc.prototype,"postConstruct",1),P([jt],Lc.prototype,"removeDragSource",1);var Eh=class extends nn{constructor(r,o,c){super(),this.parent=r,this.rowNode=o,this.column=c}setDisplayedOrVisible(r){const o={skipAriaHidden:!0};if(r)this.parent.setDisplayed(!1,o);else{let c=!0,p=!1;this.column&&(c=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),p=st(this.column.getColDef().rowDrag)),p?(this.parent.setDisplayed(!0,o),this.parent.setVisible(c,o)):(this.parent.setDisplayed(c,o),this.parent.setVisible(!0,o))}}},Am=class extends Eh{constructor(r,o,c,p){super(r,c,p),this.beans=o}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const r=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(r)}};P([mt],Am.prototype,"postConstruct",1);var Ah=class extends Eh{constructor(r,o,c,p){super(r,c,p),this.beans=o}postConstruct(){this.addManagedListener(this.beans.eventService,ae.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),c=o&&o.shouldPreventRowMove(),p=this.gos.get("suppressRowDrag"),y=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(c&&!y||p)}};P([mt],Ah.prototype,"postConstruct",1);var gu=class extends nn{init(r,o,c,p,y,S,R){var L,Q,be,Ie;this.params=R,this.eGui=o,this.eCheckbox=c,this.eExpanded=p,this.eContracted=y,this.comp=r,this.compClass=S;const{node:Je,colDef:Ei}=R,Li=this.isTopLevelFooter();if(!Li){if(this.isEmbeddedRowMismatch())return;if(Je.footer&&this.gos.get("groupHideOpenParents")&&(Ei&&Ei.showRowGroup)!==(Je.rowGroupColumn&&Je.rowGroupColumn.getColId()))return}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!Li){const Wi=R.node.footer&&R.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(qn=>{var hr;return qn.getColId()===(null==(hr=R.colDef)?void 0:hr.showRowGroup)}),wn="multipleColumns"!=this.gos.get("groupDisplayType")||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&!R.node.footer&&(!R.node.group||null!=R.node.rowGroupIndex&&R.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(qn=>{var hr;return qn.getColId()===(null==(hr=R.colDef)?void 0:hr.showRowGroup)})),cn=!Je.group&&((null==(L=this.params.colDef)?void 0:L.field)||(null==(Q=this.params.colDef)?void 0:Q.valueGetter)),xn=this.isExpandable(),Nn=this.columnModel.isPivotMode()&&Je.leafGroup&&(null==(be=Je.rowGroupColumn)?void 0:be.getColId())===(null==(Ie=R.column)?void 0:Ie.getColDef().showRowGroup);if(!(this.showingValueForOpenedParent||xn||cn||wn||Wi||Nn))return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var r,o;const c=null==(r=this.params.colDef)?void 0:r.cellAriaRole,p=null==(o=this.params.column)?void 0:o.getColDef().cellAriaRole;return c||p||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:r,eGridCell:o}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable())return void er(o);const c=()=>{gs(o,!!r.expanded)};this.expandListener=this.addManagedListener(r,Xr.EVENT_EXPANDED_CHANGED,c)||null,c()}isTopLevelFooter(){if(!this.gos.getGrandTotalRow()||null!=this.params.value||-1!=this.params.node.level)return!1;const o=this.params.colDef;if(null==o||!0===o.showRowGroup)return!0;const p=this.columnModel.getRowGroupColumns();return!p||0===p.length||p[0].getId()===o.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const r="left"===this.params.pinned,o="right"===this.params.pinned,c=!r&&!o;return this.gos.get("enableRtl")?this.columnModel.isPinningLeft()?!o:!c:this.columnModel.isPinningLeft()?!r:!c}findDisplayedGroupNode(){const r=this.params.column,o=this.params.node;if(this.showingValueForOpenedParent){let c=o.parent;for(;null!=c;){if(c.rowGroupColumn&&r.isRowGroupDisplayed(c.rowGroupColumn.getId())){this.displayedGroupNode=c;break}c=c.parent}}Ai(this.displayedGroupNode)&&(this.displayedGroupNode=o)}setupShowingValueForOpenedParent(){const r=this.params.node,o=this.params.column;if(!this.gos.get("groupHideOpenParents"))return void(this.showingValueForOpenedParent=!1);if(!r.groupData)return void(this.showingValueForOpenedParent=!1);if(null!=r.rowGroupColumn){const y=r.rowGroupColumn.getId();if(o.isRowGroupDisplayed(y))return void(this.showingValueForOpenedParent=!1)}const p=null!=r.groupData[o.getId()];this.showingValueForOpenedParent=p}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var r;const o=this.adjustParamsWithDetailsFromRelatedColumn(),c=this.getInnerCompDetails(o),{valueFormatted:p,value:y}=o;let S=p;if(null==S){const R=this.displayedGroupNode.rowGroupColumn&&(null==(r=this.params.column)?void 0:r.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));S=""===this.displayedGroupNode.key&&this.displayedGroupNode.group&&R?this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):y??null}this.comp.setInnerRenderer(c,S)}adjustParamsWithDetailsFromRelatedColumn(){const r=this.displayedGroupNode.rowGroupColumn,o=this.params.column;if(!r)return this.params;if(null!=o&&!o.isRowGroupDisplayed(r.getId()))return this.params;const p=this.params,{value:y,node:S}=this.params,R=this.valueService.formatValue(r,S,y);return Ce(ee({},p),{valueFormatted:R})}addFooterValue(){let r=this.params.totalValueGetter;if(!r){const p=this.params.footerValueGetter;p&&(r=p,Zt("As of v31.3, footerValueGetter is deprecated. Use `totalValueGetter` instead."))}let o="";if(r){const p=Ci(this.params);p.value=this.params.value,"function"==typeof r?o=r(p):"string"==typeof r?o=this.expressionService.evaluate(r,p):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else o=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(null!=this.params.value?this.params.value:"");const c=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(c,o)}getInnerCompDetails(r){if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gos.get("groupRowRendererParams"),r);const o=this.userComponentFactory.getInnerRendererDetails(r,r),c=R=>R&&R.componentClass==this.compClass;if(o&&!c(o))return o;const p=this.displayedGroupNode.rowGroupColumn,y=p?p.getColDef():void 0;if(!y)return;const S=this.userComponentFactory.getCellRendererDetails(y,r);return S&&!c(S)?S:c(S)&&y.cellRendererParams&&y.cellRendererParams.innerRenderer?this.userComponentFactory.getInnerRendererDetails(y.cellRendererParams,r):void 0}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,Xr.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const r=this.displayedGroupNode.allChildrenCount,p=this.isShowRowGroupForThisRow()&&null!=r&&r>=0?`(${r})`:"";this.comp.setChildCount(p)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;const o=this.params.column;return null==o||o.isRowGroupDisplayed(r.getId())}addExpandAndContract(){var r;const o=this.params,c=jn("groupExpanded",this.gos,null),p=jn("groupContracted",this.gos,null);c&&this.eExpanded.appendChild(c),p&&this.eContracted.appendChild(p);const y=o.eGridCell;!((null==(r=this.params.column)?void 0:r.isCellEditable(o.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!o.suppressDoubleClickExpand&&this.addManagedListener(y,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(y,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(o.node,Xr.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const R=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,Xr.EVENT_ALL_CHILDREN_COUNT_CHANGED,R),this.addManagedListener(this.displayedGroupNode,Xr.EVENT_MASTER_CHANGED,R),this.addManagedListener(this.displayedGroupNode,Xr.EVENT_GROUP_CHANGED,R),this.addManagedListener(this.displayedGroupNode,Xr.EVENT_HAS_CHILDREN_CHANGED,R)}onExpandClicked(r){Yn(r)||(fn(r),this.onExpandOrContract(r))}onExpandOrContract(r){const o=this.displayedGroupNode,c=!o.expanded;!c&&o.sticky&&this.scrollToStickyNode(o),o.setExpanded(c,r)}scrollToStickyNode(r){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(r.rowTop-r.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const r=this.displayedGroupNode,o=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||o)return!1;const p=this.params.column;return null==p||"string"!=typeof p.getColDef().showRowGroup||this.isShowRowGroupForThisRow()}showExpandAndContractIcons(){const{params:r,displayedGroupNode:o,columnModel:c}=this,{node:p}=r,y=this.isExpandable();if(y){const be=!!this.showingValueForOpenedParent||p.expanded;this.comp.setExpandedDisplayed(be),this.comp.setContractedDisplayed(!be)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const S=c.isPivotMode(),R=S&&o.leafGroup,L=y&&!R,Q=p.footer&&-1===p.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",L),this.comp.addOrRemoveCssClass("ag-row-group",L),S?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",R):Q||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!L)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){this.params.suppressPadding||(this.addManagedListener(this.params.node,Xr.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const r=this.params,o=r.node,c=!!r.colDef,p=this.gos.get("treeData"),S=!c||p||!0===r.colDef.showRowGroup?o.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+S,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const r=new Lc(()=>this.params.value,this.params.node);this.createManagedBean(r,this.context),this.eGui.insertAdjacentElement("afterbegin",r.getGui())}isUserWantsSelected(){const r=this.params.checkbox;return"function"==typeof r||!0===r}addCheckboxIfNeeded(){const r=this.displayedGroupNode,o=this.isUserWantsSelected()&&!r.footer&&!r.rowPinned&&!r.detail;if(o){const c=new Yd;this.getContext().createBean(c),c.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(c.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(c))}this.comp.setCheckboxVisible(o)}onKeyDown(r){r.key!==xi.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(r)}onCellDblClicked(r){Yn(r)||uo(this.eExpanded,r)||uo(this.eContracted,r)||this.onExpandOrContract(r)}};P([$("expressionService")],gu.prototype,"expressionService",2),P([$("valueService")],gu.prototype,"valueService",2),P([$("columnModel")],gu.prototype,"columnModel",2),P([$("userComponentFactory")],gu.prototype,"userComponentFactory",2),P([$("ctrlsService")],gu.prototype,"ctrlsService",2);var xd=class MH extends _n{constructor(){super(MH.TEMPLATE)}init(o){const c={setInnerRenderer:(R,L)=>this.setRenderDetails(R,L),setChildCount:R=>this.eChildCount.textContent=R,addOrRemoveCssClass:(R,L)=>this.addOrRemoveCssClass(R,L),setContractedDisplayed:R=>Wn(this.eContracted,R),setExpandedDisplayed:R=>Wn(this.eExpanded,R),setCheckboxVisible:R=>this.eCheckbox.classList.toggle("ag-invisible",!R)},p=this.createManagedBean(new gu),y=!o.colDef,S=this.getGui();p.init(c,S,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,o),y&&fr(S,p.getCellAriaRole())}setRenderDetails(o,c){if(o){const p=o.newAgStackInstance();if(!p)return;p.then(y=>{if(!y)return;const S=()=>this.context.destroyBean(y);this.isAlive()?(this.eValue.appendChild(y.getGui()),this.addDestroyFunc(S)):S()})}else this.eValue.innerText=c}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};xd.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',P([sn("eExpanded")],xd.prototype,"eExpanded",2),P([sn("eContracted")],xd.prototype,"eContracted",2),P([sn("eCheckbox")],xd.prototype,"eCheckbox",2),P([sn("eValue")],xd.prototype,"eValue",2),P([sn("eChildCount")],xd.prototype,"eChildCount",2);var Nc=xd,bp=class RH extends _n{constructor(){super(RH.TEMPLATE)}init(o){o.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const o=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingError","ERR")}setupLoading(){const o=jn("groupLoading",this.gos,null);o&&this.eLoadingIcon.appendChild(o);const c=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=c("loadingOoo","Loading")}refresh(o){return!1}destroy(){super.destroy()}};bp.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',P([sn("eLoadingIcon")],bp.prototype,"eLoadingIcon",2),P([sn("eLoadingText")],bp.prototype,"eLoadingText",2);var cf=bp,Nl=class IH extends _n{constructor(){super(IH.TEMPLATE)}init(o){const c=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",c),this.addDestroyFunc(()=>An(o.eParentOfValue)),An(o.eParentOfValue,c),o.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const o=this.localeService.getLocaleTextFunc();this.getGui().innerText=o("loadingError","ERR");const c=o("ariaSkeletonCellLoadingFailed","Row failed to load");Cr(this.getGui(),c)}setupLoading(){const c=this.gos.getDocument().createElement("div");c.classList.add("ag-skeleton-effect"),this.getGui().appendChild(c);const y=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Cr(this.getGui(),y)}refresh(o){return!1}destroy(){super.destroy()}};Nl.TEMPLATE='<div class="ag-skeleton-container"></div>';var df=Nl,Cp=class PH extends _n{constructor(){super()}destroy(){super.destroy()}init(o){const c=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(c??PH.DEFAULT_LOADING_OVERLAY_TEMPLATE),!c){const p=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=p("loadingOoo","Loading...")})}}};Cp.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var sg=Cp,Th=class kH extends _n{constructor(){super()}destroy(){super.destroy()}init(o){const c=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(c??kH.DEFAULT_NO_ROWS_TEMPLATE),!c){const p=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=p("noRowsToShow","No Rows To Show")})}}};Th.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var uf=Th,ag=class extends Oc{constructor(){super('<div class="ag-tooltip"></div>')}init(r){const{value:o}=r;this.getGui().textContent=ho(o,!0)}},Mm=class extends tc{constructor(){super(new class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(r,o){this.eInput=r,this.params=o,null!=o.max&&r.setMax(o.max),null!=o.min&&r.setMin(o.min),null!=o.precision&&r.setPrecision(o.precision),null!=o.step&&r.setStep(o.step);const c=r.getInputElement();o.preventStepping?r.addManagedListener(c,"keydown",this.preventStepping):o.showStepperButtons&&c.classList.add("ag-number-field-input-stepper")}preventStepping(r){(r.key===xi.UP||r.key===xi.DOWN)&&r.preventDefault()}getValue(){const r=this.eInput.getValue();if(!pt(r)&&!pt(this.params.value))return this.params.value;let o=this.params.parseValue(r);if(null==o)return o;if("string"==typeof o){if(""===o)return null;o=Number(o)}return isNaN(o)?null:o}getStartValue(){return this.params.value}})}},lg=class extends tc{constructor(){super(new class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(r,o){this.eInput=r,this.params=o,null!=o.min&&r.setMin(o.min),null!=o.max&&r.setMax(o.max),null!=o.step&&r.setStep(o.step)}getValue(){const r=this.eInput.getDate();return pt(r)||pt(this.params.value)?r??null:this.params.value}getStartValue(){const{value:r}=this.params;if(r instanceof Date)return xs(r,!1)}})}},hf=class extends tc{constructor(){super(new class{constructor(r){this.getDataTypeService=r}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(r,o){this.eInput=r,this.params=o,null!=o.min&&r.setMin(o.min),null!=o.max&&r.setMax(o.max),null!=o.step&&r.setStep(o.step)}getValue(){const r=this.formatDate(this.eInput.getDate());return pt(r)||pt(this.params.value)?this.params.parseValue(r??""):this.params.value}getStartValue(){var r,o;return xs(null!=(o=this.parseDate(null!=(r=this.params.value)?r:void 0))?o:null,!1)}parseDate(r){return this.getDataTypeService().getDateParserFunction(this.params.column)(r)}formatDate(r){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(r)}}(()=>this.dataTypeService))}};P([$("dataTypeService")],hf.prototype,"dataTypeService",2);var mu=class FH extends _n{constructor(){super(FH.TEMPLATE)}init(o){this.params=o,this.updateCheckbox(o);const c=this.eCheckbox.getInputElement();c.setAttribute("tabindex","-1"),Ur(c,"polite"),this.addManagedListener(c,"click",p=>{if(fn(p),this.eCheckbox.isDisabled())return;const y=this.eCheckbox.getValue();this.onCheckboxChanged(y)}),this.addManagedListener(c,"dblclick",p=>{fn(p)}),this.addManagedListener(this.params.eGridCell,"keydown",p=>{if(p.key===xi.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const y=this.eCheckbox.getValue();this.onCheckboxChanged(y),p.preventDefault()}})}refresh(o){return this.params=o,this.updateCheckbox(o),!0}updateCheckbox(o){var c,p,y;let S,R=!0;if(o.node.group&&o.column){const Je=o.column.getColId();Je.startsWith(dt)?S=null==o.value||""===o.value?void 0:"true"===o.value:o.node.aggData&&void 0!==o.node.aggData[Je]?S=null!=(c=o.value)?c:void 0:R=!1}else S=null!=(p=o.value)?p:void 0;if(!R)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(S);const L=null!=o.disabled?o.disabled:!(null!=(y=o.column)&&y.isCellEditable(o.node));this.eCheckbox.setDisabled(L);const Q=this.localeService.getLocaleTextFunc(),be=Dr(Q,S),Ie=L?be:`${Q("ariaToggleCellValue","Press SPACE to toggle cell value")} (${be})`;this.eCheckbox.setInputAriaLabel(Ie)}onCheckboxChanged(o){const{column:c,node:p,rowIndex:y,value:S}=this.params,R={type:ae.EVENT_CELL_EDITING_STARTED,column:c,colDef:c?.getColDef(),data:p.data,node:p,rowIndex:y,rowPinned:p.rowPinned,value:S};this.eventService.dispatchEvent(R);const L=this.params.node.setDataValue(this.params.column,o,"edit"),Q={type:ae.EVENT_CELL_EDITING_STOPPED,column:c,colDef:c?.getColDef(),data:p.data,node:p,rowIndex:y,rowPinned:p.rowPinned,value:S,oldValue:S,newValue:o,valueChanged:L};this.eventService.dispatchEvent(Q)}};mu.TEMPLATE='\n        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n        </div>',P([sn("eCheckbox")],mu.prototype,"eCheckbox",2);var wp=mu,Mh=class extends Oc{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')}init(r){var o;this.params=r;const c=null!=(o=r.value)?o:void 0;this.eCheckbox.setValue(c),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(c),this.addManagedListener(this.eCheckbox,ae.EVENT_FIELD_VALUE_CHANGED,y=>this.setAriaLabel(y.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(r){const o=this.localeService.getLocaleTextFunc(),c=Dr(o,r),p=o("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${p} (${c})`)}};P([sn("eCheckbox")],Mh.prototype,"eCheckbox",2);var cg=class extends _n{constructor(){super(),this.setTemplate("<div></div>")}init(r){var o;this.params=r,this.cssClassPrefix=null!=(o=this.params.cssClassPrefix)?o:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const r=cs(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?r.appendChild(jn("check",this.gos)):this.params.icon&&(qs(this.params.icon)?r.appendChild(this.params.icon):"string"==typeof this.params.icon?r.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(r)}addName(){const r=cs(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(r)}addShortcut(){if(this.params.isCompact)return;const r=cs(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(r)}addSubMenu(){const r=cs(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),o=this.getGui();if(this.params.subMenu){const c=this.gos.get("enableRtl")?"smallLeft":"smallRight";gs(o,!1),r.appendChild(jn(c,this.gos))}o.appendChild(r)}getClassName(r){return`${this.cssClassPrefix}-${r}`}destroy(){super.destroy()}},Ga=class extends nn{constructor(){super(...arguments),this.agGridDefaults={agDateInput:Qo,agColumnHeader:ec,agColumnGroupHeader:pu,agSortIndicator:Sl,agTextColumnFloatingFilter:rg,agNumberColumnFloatingFilter:Cd,agDateColumnFloatingFilter:Ir,agReadOnlyFloatingFilter:os,agAnimateShowChangeCellRenderer:Dh,agAnimateSlideCellRenderer:Em,agGroupCellRenderer:Nc,agGroupRowRenderer:Nc,agLoadingCellRenderer:cf,agSkeletonCellRenderer:df,agCheckboxCellRenderer:wp,agCellEditor:_p,agTextCellEditor:_p,agNumberCellEditor:Mm,agDateCellEditor:lg,agDateStringCellEditor:hf,agSelectCellEditor:eh,agLargeTextCellEditor:yp,agCheckboxCellEditor:Mh,agTextColumnFilter:od,agNumberColumnFilter:bd,agDateColumnFilter:$i,agLoadingOverlay:sg,agNoRowsOverlay:uf,agTooltipComponent:ag,agMenuItem:cg},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){const r=this.gos.get("components");null!=r&&bi(r,(o,c)=>this.registerJsComponent(o,c))}registerDefaultComponent(r,o){this.agGridDefaults[r]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[r]=o}registerJsComponent(r,o){this.jsComps[r]=o}retrieve(r,o){const c=(L,Q)=>({componentFromFramework:Q,component:L}),p=this.getFrameworkOverrides().frameworkComponent(o,this.gos.get("components"));if(null!=p)return c(p,!0);const y=this.jsComps[o];if(y)return c(y,this.getFrameworkOverrides().isFrameworkComponent(y));const S=this.agGridDefaults[o];if(S)return c(S,!1);const R=this.enterpriseAgDefaultCompsModule[o];return R?Sn.__assertRegistered(R,`AG Grid '${r}' component: ${o}`,this.context.getGridId()):yt(()=>{this.warnAboutMissingComponent(r,o)},"MissingComp"+o),null}warnAboutMissingComponent(r,o){const p=un(o,[...Object.keys(this.agGridDefaults).filter(y=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(y)),...Object.keys(this.jsComps)],!0,.8).values;console.warn(`AG Grid: Could not find '${o}' component. It was configured as "${r}: '${o}'" but it wasn't found in the list of registered components.`),p.length>0&&console.warn(`         Did you mean: [${p.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};P([mt],Ga.prototype,"init",1),Ga=P([It("userComponentRegistry")],Ga);var ih={propertyName:"dateComponent",cellRenderer:!1},Qd={propertyName:"headerComponent",cellRenderer:!1},Dd={propertyName:"headerGroupComponent",cellRenderer:!1},nh={propertyName:"cellRenderer",cellRenderer:!0},Rh={propertyName:"loadingCellRenderer",cellRenderer:!0},dg={propertyName:"cellEditor",cellRenderer:!1},qa={propertyName:"innerRenderer",cellRenderer:!0},vu={propertyName:"loadingOverlayComponent",cellRenderer:!1},ic={propertyName:"noRowsOverlayComponent",cellRenderer:!1},ug={propertyName:"tooltipComponent",cellRenderer:!1},cl={propertyName:"filter",cellRenderer:!1},rh={propertyName:"floatingFilterComponent",cellRenderer:!1},pf={propertyName:"toolPanel",cellRenderer:!1},xp={propertyName:"statusPanel",cellRenderer:!1},Sp={propertyName:"fullWidthCellRenderer",cellRenderer:!0},hg={propertyName:"loadingCellRenderer",cellRenderer:!0},b0={propertyName:"groupRowRenderer",cellRenderer:!0},Ed={propertyName:"detailCellRenderer",cellRenderer:!0},pg={propertyName:"menuItem",cellRenderer:!1},fg=class{static getFloatingFilterType(r){return this.filterToFloatingFilterMapping[r]}};fg.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var Bl=class extends nn{getHeaderCompDetails(r,o){return this.getCompDetails(r,Qd,"agColumnHeader",o)}getHeaderGroupCompDetails(r){const o=r.columnGroup.getColGroupDef();return this.getCompDetails(o,Dd,"agColumnGroupHeader",r)}getFullWidthCellRendererDetails(r){return this.getCompDetails(this.gridOptions,Sp,null,r,!0)}getFullWidthLoadingCellRendererDetails(r){return this.getCompDetails(this.gridOptions,hg,"agLoadingCellRenderer",r,!0)}getFullWidthGroupCellRendererDetails(r){return this.getCompDetails(this.gridOptions,b0,"agGroupRowRenderer",r,!0)}getFullWidthDetailCellRendererDetails(r){return this.getCompDetails(this.gridOptions,Ed,"agDetailCellRenderer",r,!0)}getInnerRendererDetails(r,o){return this.getCompDetails(r,qa,null,o)}getFullWidthGroupRowInnerCellRenderer(r,o){return this.getCompDetails(r,qa,null,o)}getCellRendererDetails(r,o){return this.getCompDetails(r,nh,null,o)}getLoadingCellRendererDetails(r,o){return this.getCompDetails(r,Rh,"agSkeletonCellRenderer",o,!0)}getCellEditorDetails(r,o){return this.getCompDetails(r,dg,"agCellEditor",o,!0)}getFilterDetails(r,o,c){return this.getCompDetails(r,cl,c,o,!0)}getDateCompDetails(r){return this.getCompDetails(this.gridOptions,ih,"agDateInput",r,!0)}getLoadingOverlayCompDetails(r){return this.getCompDetails(this.gridOptions,vu,"agLoadingOverlay",r,!0)}getNoRowsOverlayCompDetails(r){return this.getCompDetails(this.gridOptions,ic,"agNoRowsOverlay",r,!0)}getTooltipCompDetails(r){return this.getCompDetails(r.colDef,ug,"agTooltipComponent",r,!0)}getSetFilterCellRendererDetails(r,o){return this.getCompDetails(r,nh,null,o)}getFloatingFilterCompDetails(r,o,c){return this.getCompDetails(r,rh,c,o)}getToolPanelCompDetails(r,o){return this.getCompDetails(r,pf,null,o,!0)}getStatusPanelCompDetails(r,o){return this.getCompDetails(r,xp,null,o,!0)}getMenuItemCompDetails(r,o){return this.getCompDetails(r,pg,"agMenuItem",o,!0)}getCompDetails(r,o,c,p,y=!1){const{propertyName:S,cellRenderer:R}=o;let{compName:L,jsComp:Q,fwComp:be,paramsFromSelector:Ie,popupFromSelector:Je,popupPositionFromSelector:Bt}=this.getCompKeys(r,o,p);const Ei=wn=>{const cn=this.userComponentRegistry.retrieve(S,wn);cn&&(Q=cn.componentFromFramework?void 0:cn.component,be=cn.componentFromFramework?cn.component:void 0)};if(null!=L&&Ei(L),null==Q&&null==be&&null!=c&&Ei(c),Q&&R&&!this.agComponentUtils.doesImplementIComponent(Q)&&(Q=this.agComponentUtils.adaptFunction(S,Q)),!Q&&!be)return void(y&&console.error(`AG Grid: Could not find component ${L}, did you forget to configure this component?`));const Li=this.mergeParamsWithApplicationProvidedParams(r,o,p,Ie),Wi=null==Q,Vi=Q||be;return{componentFromFramework:Wi,componentClass:Vi,params:Li,type:o,popupFromSelector:Je,popupPositionFromSelector:Bt,newAgStackInstance:()=>this.newAgStackInstance(Vi,Wi,Li,o)}}getCompKeys(r,o,c){const{propertyName:p}=o;let y,S,R,L,Q,be;if(r){const Ie=r,Je=Ie[p+"Selector"],Bt=Je?Je(c):null,Ei=Li=>{"string"==typeof Li?y=Li:null!=Li&&!0!==Li&&(this.getFrameworkOverrides().isFrameworkComponent(Li)?R=Li:S=Li)};Bt?(Ei(Bt.component),L=Bt.params,Q=Bt.popup,be=Bt.popupPosition):Ei(Ie[p])}return{compName:y,jsComp:S,fwComp:R,paramsFromSelector:L,popupFromSelector:Q,popupPositionFromSelector:be}}newAgStackInstance(r,o,c,p){let R;if(o){const Q=this.componentMetadataProvider.retrieve(p.propertyName);R=this.frameworkComponentWrapper.wrap(r,Q.mandatoryMethodList,Q.optionalMethodList,p)}else R=new r;const L=this.initComponent(R,c);return null==L?ht.resolve(R):L.then(()=>R)}mergeParamsWithApplicationProvidedParams(r,o,c,p=null){const y=this.gos.getGridCommonParams();Cn(y,c);const R=r&&r[o.propertyName+"Params"];return"function"==typeof R?Cn(y,R(c)):"object"==typeof R&&Cn(y,R),Cn(y,p),y}initComponent(r,o){if(this.context.createBean(r),null!=r.init)return r.init(o)}getDefaultFloatingFilterType(r,o){if(null==r)return null;let c=null,{compName:p,jsComp:y,fwComp:S}=this.getCompKeys(r,cl);return p?c=fg.getFloatingFilterType(p):null==y&&null==S&&!0===r.filter&&(c=o()),c}};P([$("gridOptions")],Bl.prototype,"gridOptions",2),P([$("agComponentUtils")],Bl.prototype,"agComponentUtils",2),P([$("componentMetadataProvider")],Bl.prototype,"componentMetadataProvider",2),P([$("userComponentRegistry")],Bl.prototype,"userComponentRegistry",2),P([Kt("frameworkComponentWrapper")],Bl.prototype,"frameworkComponentWrapper",2),Bl=P([It("userComponentFactory")],Bl);var ya=class{constructor(r){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=r.scrollContainer,this.scrollHorizontally=-1!==r.scrollAxis.indexOf("x"),this.scrollVertically=-1!==r.scrollAxis.indexOf("y"),this.scrollByTick=null!=r.scrollByTick?r.scrollByTick:20,r.onScrollCallback&&(this.onScrollCallback=r.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=r.getVerticalPosition,this.setVerticalPosition=r.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=r.getHorizontalPosition,this.setHorizontalPosition=r.setHorizontalPosition),this.shouldSkipVerticalScroll=r.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=r.shouldSkipHorizontalScroll||(()=>!1)}check(r,o=!1){const c=o||this.shouldSkipVerticalScroll();if(c&&this.shouldSkipHorizontalScroll())return;const p=this.scrollContainer.getBoundingClientRect(),y=this.scrollByTick;this.tickLeft=r.clientX<p.left+y,this.tickRight=r.clientX>p.right-y,this.tickUp=r.clientY<p.top+y&&!c,this.tickDown=r.clientY>p.bottom-y&&!c,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){let r;if(this.tickCount++,r=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const o=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(o-r),this.tickDown&&this.setVerticalPosition(o+r)}if(this.scrollHorizontally){const o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-r),this.tickRight&&this.setHorizontalPosition(o+r)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},Vl=class extends nn{constructor(r){super(),this.eContainer=r}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(r=>{const o=r.gridBodyCtrl;this.autoScrollService=new ya({scrollContainer:o.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>o.getScrollFeature().getVScrollPosition().top,setVerticalPosition:c=>o.getScrollFeature().setVerticalScrollPosition(c),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(r){return 2===r}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?wr.ICON_NOT_ALLOWED:wr.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(r){if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];const o=r.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const p=[...this.selectionService.getSelectedNodes()].sort((y,S)=>null==y.rowIndex||null==S.rowIndex?0:this.getRowIndexNumber(y)-this.getRowIndexNumber(S));if(-1!==p.indexOf(o))return p}return[o]}onDragEnter(r){r.dragItem.rowNodes=this.getRowNodes(r),this.dispatchGridEvent(ae.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(o=>{o.setDragging(!0)}),this.onEnterOrDragging(r)}onDragging(r){this.onEnterOrDragging(r)}isFromThisGrid(r){const{dragSourceDomDataKey:o}=r.dragSource;return o===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(r){const c=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:p}=r;return!c.contains(p)}onEnterOrDragging(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;const o=this.mouseEventService.getNormalisedPosition(r).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(r,o),this.autoScrollService.check(r.event)}doManagedDrag(r,o){const c=this.isFromThisGrid(r),p=this.gos.get("rowDragManaged"),y=r.dragItem.rowNodes;p&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!c?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(y[0],o):this.moveRows(y,o))}getRowIndexNumber(r){return parseInt(zt(r.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(r){const o=this.clientSideRowModel.getLastHighlightedRowNode(),c=o&&1===o.highlighted,p=this.mouseEventService.getNormalisedPosition(r).y,y=r.dragItem.rowNodes;let S=c?1:0;if(this.isFromThisGrid(r))y.forEach(R=>{R.rowTop<p&&(S-=1)}),this.moveRows(y,p,S);else{const R=this.gos.getCallback("getRowId");let L=this.clientSideRowModel.getRowIndexAtPixel(p)+1;0===this.clientSideRowModel.getHighlightPosition(p)&&L--,this.clientSideRowModel.updateRowData({add:y.map(Q=>Q.data).filter(Q=>!this.clientSideRowModel.getRowNode(R?R({data:Q,level:0}):Q.id)),addIndex:L})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(r,o,c=0){var p;this.clientSideRowModel.ensureRowsAtPixel(r,o,c)&&(this.focusService.clearFocusedCell(),null==(p=this.rangeService)||p.removeAllCellRanges())}addRowDropZone(r){if(!r.getContainer())return void Zt("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(r))return void console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let o={getContainer:r.getContainer};r.fromGrid?o=r:(r.onDragEnter&&(o.onDragEnter=c=>{r.onDragEnter(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_ENTER,c))}),r.onDragLeave&&(o.onDragLeave=c=>{r.onDragLeave(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_LEAVE,c))}),r.onDragging&&(o.onDragging=c=>{r.onDragging(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_MOVE,c))}),r.onDragStop&&(o.onDragStop=c=>{r.onDragStop(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_END,c))})),this.dragAndDropService.addDropTarget(ee({isInterestedIn:c=>2===c,getIconName:()=>wr.ICON_MOVE,external:!0},o))}getRowDropZone(r){const o=this.getContainer.bind(this),c=this.onDragEnter.bind(this),p=this.onDragLeave.bind(this),y=this.onDragging.bind(this),S=this.onDragStop.bind(this);return r?{getContainer:o,onDragEnter:r.onDragEnter?R=>{c(R),r.onDragEnter(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_ENTER,R))}:c,onDragLeave:r.onDragLeave?R=>{p(R),r.onDragLeave(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_LEAVE,R))}:p,onDragging:r.onDragging?R=>{y(R),r.onDragging(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_MOVE,R))}:y,onDragStop:r.onDragStop?R=>{S(R),r.onDragStop(this.draggingToRowDragEvent(ae.EVENT_ROW_DRAG_END,R))}:S,fromGrid:!0}:{getContainer:o,onDragEnter:c,onDragLeave:p,onDragging:y,onDragStop:S,fromGrid:!0}}draggingToRowDragEvent(r,o){const c=this.mouseEventService.getNormalisedPosition(o).y;let S,R,y=-1;switch(c>this.paginationProxy.getCurrentPageHeight()||(y=this.rowModel.getRowIndexAtPixel(c),S=this.rowModel.getRow(y)),o.vDirection){case 1:R="down";break;case 0:R="up";break;default:R=null}return this.gos.addGridCommonParams({type:r,event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:y,overNode:S,y:c,vDirection:R})}dispatchGridEvent(r,o){const c=this.draggingToRowDragEvent(r,o);this.eventService.dispatchEvent(c)}onDragLeave(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(r){this.dispatchGridEvent(ae.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)}stopDragging(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(o=>{o.setDragging(!1)})}};P([$("dragAndDropService")],Vl.prototype,"dragAndDropService",2),P([$("rowModel")],Vl.prototype,"rowModel",2),P([$("paginationProxy")],Vl.prototype,"paginationProxy",2),P([$("columnModel")],Vl.prototype,"columnModel",2),P([$("focusService")],Vl.prototype,"focusService",2),P([$("sortController")],Vl.prototype,"sortController",2),P([$("filterManager")],Vl.prototype,"filterManager",2),P([$("selectionService")],Vl.prototype,"selectionService",2),P([$("mouseEventService")],Vl.prototype,"mouseEventService",2),P([$("ctrlsService")],Vl.prototype,"ctrlsService",2),P([Kt("rangeService")],Vl.prototype,"rangeService",2),P([mt],Vl.prototype,"postConstruct",1);var Bc=class extends nn{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(r){const o=r.dragSource.eElement;o.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&o.removeEventListener("touchstart",r.touchStartListener,{passive:!0})}removeDragSource(r){const o=this.dragSources.find(c=>c.dragSource===r);o&&(this.removeListener(o),Nt(this.dragSources,o))}isDragging(){return this.dragging}addDragSource(r){const o=this.onMouseDown.bind(this,r),{eElement:c,includeTouch:p,stopPropagationForTouch:y}=r;c.addEventListener("mousedown",o);let S=null;const R=this.gos.get("suppressTouch");p&&!R&&(S=L=>{Oa(L.target)||(L.cancelable&&(L.preventDefault(),y&&L.stopPropagation()),this.onTouchStart(r,L))},c.addEventListener("touchstart",S,{passive:!1})),this.dragSources.push({dragSource:r,mouseDownListener:o,touchStartListener:S,touchEnabled:!!p})}getStartTarget(){return this.startTarget}onTouchStart(r,o){this.currentDragParams=r,this.dragging=!1;const c=o.touches[0];this.touchLastTime=c,this.touchStart=c;const y=Q=>this.onTouchUp(Q,r.eElement),R=o.target,L=[{target:this.gos.getRootNode(),type:"touchmove",listener:Q=>{Q.cancelable&&Q.preventDefault()},options:{passive:!1}},{target:R,type:"touchmove",listener:Q=>this.onTouchMove(Q,r.eElement),options:{passive:!0}},{target:R,type:"touchend",listener:y,options:{passive:!0}},{target:R,type:"touchcancel",listener:y,options:{passive:!0}}];this.addTemporaryEvents(L),0===r.dragStartPixels&&this.onCommonMove(c,this.touchStart,r.eElement)}onMouseDown(r,o){const c=o;if(r.skipMouseEvent&&r.skipMouseEvent(o)||c._alreadyProcessedByDragService||(c._alreadyProcessedByDragService=!0,0!==o.button))return;this.shouldPreventMouseEvent(o)&&o.preventDefault(),this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=o,this.startTarget=o.target;const R=this.gos.getRootNode();this.addTemporaryEvents([{target:R,type:"mousemove",listener:Q=>this.onMouseMove(Q,r.eElement)},{target:R,type:"mouseup",listener:Q=>this.onMouseUp(Q,r.eElement)},{target:R,type:"contextmenu",listener:Q=>Q.preventDefault()}]),0===r.dragStartPixels&&this.onMouseMove(o,r.eElement)}addTemporaryEvents(r){r.forEach(o=>{const{target:c,type:p,listener:y,options:S}=o;c.addEventListener(p,y,S)}),this.dragEndFunctions.push(()=>{r.forEach(o=>{const{target:c,type:p,listener:y,options:S}=o;c.removeEventListener(p,y,S)})})}isEventNearStartEvent(r,o){const{dragStartPixels:c}=this.currentDragParams;return rs(r,o,pt(c)?c:4)}getFirstActiveTouch(r){for(let o=0;o<r.length;o++)if(r[o].identifier===this.touchStart.identifier)return r[o];return null}onCommonMove(r,o,c){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,o))return;this.dragging=!0,this.eventService.dispatchEvent({type:ae.EVENT_DRAG_STARTED,target:c}),this.currentDragParams.onDragStart(o),this.currentDragParams.onDragging(o)}this.currentDragParams.onDragging(r)}onTouchMove(r,o){const c=this.getFirstActiveTouch(r.touches);c&&this.onCommonMove(c,this.touchStart,o)}onMouseMove(r,o){var c;_o()&&(null==(c=this.gos.getDocument().getSelection())||c.removeAllRanges()),this.shouldPreventMouseEvent(r)&&r.preventDefault(),this.onCommonMove(r,this.mouseStartEvent,o)}shouldPreventMouseEvent(r){return this.gos.get("enableCellTextSelection")&&"mousemove"===r.type&&r.cancelable&&this.mouseEventService.isEventFromThisGrid(r)&&!this.isOverFormFieldElement(r)}isOverFormFieldElement(r){const o=r.target,c=o?.tagName.toLocaleLowerCase();return!!c?.match("^a$|textarea|input|select|button")}onTouchUp(r,o){let c=this.getFirstActiveTouch(r.changedTouches);c||(c=this.touchLastTime),this.onUpCommon(c,o)}onMouseUp(r,o){this.onUpCommon(r,o)}onUpCommon(r,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:ae.EVENT_DRAG_STOPPED,target:o})),this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(c=>c()),this.dragEndFunctions.length=0}};P([$("mouseEventService")],Bc.prototype,"mouseEventService",2),P([jt],Bc.prototype,"removeAllListeners",1),Bc=P([It("dragService")],Bc);var ff="ag-list-item-hovered",yc=class extends nn{constructor(r,o,c){super(),this.comp=r,this.virtualList=o,this.params=c,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(r){this.currentDragValue=this.params.getCurrentDragValue(r),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){this.dragAndDropService.addDropTarget({isInterestedIn:o=>o===this.params.dragSourceType,getIconName:()=>this.moveBlocked?wr.ICON_PINNED:wr.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:o=>this.onDragging(o),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()})}createAutoScrollService(){const r=this.virtualList.getGui();this.autoScrollService=new ya({scrollContainer:r,scrollAxis:"y",getVerticalPosition:()=>r.scrollTop,setVerticalPosition:o=>r.scrollTop=o})}onDragging(r){if(!this.currentDragValue||this.moveBlocked)return;const o=this.getListDragItem(r),c=this.virtualList.getComponentAt(o.rowIndex);if(!c)return;const p=c.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===o.rowIndex&&this.lastHoveredListItem.position===o.position||(this.autoScrollService.check(r.event),this.clearHoveredItems(),this.lastHoveredListItem=o,Zs(p,ff),Zs(p,`ag-item-highlight-${o.position}`))}getListDragItem(r){const o=this.virtualList.getGui(),c=parseFloat(window.getComputedStyle(o).paddingTop),p=this.virtualList.getRowHeight(),y=this.virtualList.getScrollTop(),S=Math.max(0,(r.y-c+y)/p),R=this.params.getNumRows(this.comp)-1,L=0|Math.min(R,S);return{rowIndex:L,position:Math.round(S)>S||S>R?"bottom":"top",component:this.virtualList.getComponentAt(L)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${ff}`).forEach(o=>{[ff,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(c=>{o.classList.remove(c)})}),this.lastHoveredListItem=null}};function Vc(r){return null!=r&&null!=r.getFrameworkComponentInstance?r.getFrameworkComponentInstance():r}P([$("dragAndDropService")],yc.prototype,"dragAndDropService",2),P([mt],yc.prototype,"postConstruct",1);var Pr=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(r=>{this.gridBodyCtrl=r.gridBodyCtrl})}__getAlignedGridService(){return this.alignedGridsService}getGridId(){return this.context.getGridId()}addDetailGridInfo(r,o){this.detailGridInfoMap[r]=o}removeDetailGridInfo(r){delete this.detailGridInfoMap[r]}getDetailGridInfo(r){return this.detailGridInfoMap[r]}forEachDetailGridInfo(r){let o=0;bi(this.detailGridInfoMap,(c,p)=>{pt(p)&&(r(p,o),o++)})}getDataAsCsv(r){if(Sn.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(r)}exportDataAsCsv(r){Sn.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCsv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(r)}assertNotExcelMultiSheet(r,o){return!(!Sn.__assertRegistered("@ag-grid-enterprise/excel-export","api."+r,this.context.getGridId())||1===this.excelCreator.getFactoryMode()&&(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),1))}getDataAsExcel(r){if(this.assertNotExcelMultiSheet("getDataAsExcel",r))return this.excelCreator.getDataAsExcel(r)}exportDataAsExcel(r){this.assertNotExcelMultiSheet("exportDataAsExcel",r)&&this.excelCreator.exportDataAsExcel(r)}getSheetDataForExcel(r){if(Sn.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(r)}getMultipleSheetsAsExcel(r){if(Sn.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(r)}exportMultipleSheetsAsExcel(r){Sn.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(r)}setGridAriaProperty(r,o){if(!r)return;const c=this.ctrlsService.getGridBodyCtrl().getGui(),p=`aria-${r}`;null===o?c.removeAttribute(p):c.setAttribute(p,o)}logMissingRowModel(r,...o){console.error(`AG Grid: api.${r} can only be called when gridOptions.rowModelType is ${o.join(" or ")}`)}logDeprecation(r,o,c,p){Zt(`Since ${r} api.${o} is deprecated. Please use ${c} instead. ${p??""}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(r){return this.pinnedRowModel.getPinnedTopRow(r)}getPinnedBottomRow(r){return this.pinnedRowModel.getPinnedBottomRow(r)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(r={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(r))}flashCells(r={}){const o=c=>Zt(`Since v31.1 api.flashCells parameter '${c}Delay' is deprecated. Please use '${c}Duration' instead.`);pt(r.fadeDelay)&&o("fade"),pt(r.flashDelay)&&o("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(r))}redrawRows(r={}){const o=r?r.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(o))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>r.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return Zt("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(r,o,c,p){this.expansionService.setRowNodeExpanded(r,o,c,p)}onGroupExpandedOrCollapsed(){Ai(this.clientSideRowModel)?this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide"):this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(r){Ai(this.clientSideRowModel)?this.logMissingRowModel("refreshClientSideRowModel","clientSide"):this.clientSideRowModel.refreshModel(r)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(r){return this.rowModel.getRowNode(r)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(r,o,c){this.rowRenderer.addRenderedRowListener(r,o,c)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Sn.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(r){this.filterManager.setAdvancedFilterModel(r)}showAdvancedFilterBuilder(){Sn.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(r){if(!r.nodes.every(R=>R.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):void 0!==R.id||(console.warn("AG Grid: cannot select node until id for node is known"),!1)))return;const{nodes:c,source:p,newValue:y}=r;this.selectionService.setNodesSelected({nodes:c,source:p??"api",newValue:y})}selectAll(r="apiSelectAll"){this.selectionService.selectAllRowNodes({source:r})}deselectAll(r="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:r})}selectAllFiltered(r="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:r,justFiltered:!0})}deselectAllFiltered(r="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:r,justFiltered:!0})}getServerSideSelectionState(){return Ai(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(r){Ai(this.serverSideRowModel)?this.logMissingRowModel("setServerSideSelectionState","serverSide"):this.selectionService.setSelectionState(r,"api")}selectAllOnCurrentPage(r="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:r,justCurrentPage:!0})}deselectAllOnCurrentPage(r="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:r,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(!Ai(this.clientSideRowModel))return this.selectionService.getBestCostNodeSelection();this.logMissingRowModel("getBestCostNodeSelection","clientSide")}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(r,o="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(r,o),"ensureVisible")}ensureIndexVisible(r,o){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(r,o),"ensureVisible")}ensureNodeVisible(r,o=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(r,o),"ensureVisible")}forEachLeafNode(r){Ai(this.clientSideRowModel)?this.logMissingRowModel("forEachLeafNode","clientSide"):this.clientSideRowModel.forEachLeafNode(r)}forEachNode(r,o){this.rowModel.forEachNode(r,o)}forEachNodeAfterFilter(r){Ai(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilter","clientSide"):this.clientSideRowModel.forEachNodeAfterFilter(r)}forEachNodeAfterFilterAndSort(r){Ai(this.clientSideRowModel)?this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide"):this.clientSideRowModel.forEachNodeAfterFilterAndSort(r)}getFilterInstance(r,o){return Zt("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(r,o)}getColumnFilterInstance(r){return this.filterManager.getColumnFilterInstance(r)}destroyFilter(r){const o=this.columnModel.getPrimaryColumn(r);if(o)return this.filterManager.destroyFilter(o,"api")}getStatusPanel(r){if(Sn.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return Vc(this.statusBarService.getStatusPanel(r))}getColumnDef(r){const o=this.columnModel.getPrimaryColumn(r);return o?o.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(r="api"){this.filterManager.onFilterChanged({source:r})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(r){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(r))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(r){return this.filterManager.getColumnFilterModel(r)}setColumnFilterModel(r,o){return this.filterManager.setColumnFilterModel(r,o)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(r,o,c){this.focusService.setFocusedCell({rowIndex:r,column:o,rowPinned:c,forceBrowserFocus:!0})}addRowDropZone(r){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(r)}removeRowDropZone(r){const o=this.dragAndDropService.findExternalZone(r);o&&this.dragAndDropService.removeDropTarget(o)}getRowDropZoneParams(r){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(r)}assertSideBarLoaded(r){return Sn.__assertRegistered("@ag-grid-enterprise/side-bar","api."+r,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(r){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(r)}setSideBarPosition(r){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(r)}openToolPanel(r){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(r,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(r){if(this.assertSideBarLoaded("getToolPanelInstance"))return Vc(this.sideBarService.getSideBarComp().getToolPanelInstance(r))}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(pt(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}}setRowCount(r,o){if(this.serverSideRowModel)return this.columnModel.isRowGroupEmpty()?void this.serverSideRowModel.setRowCount(r,o):void console.error("AG Grid: setRowCount cannot be used while using row grouping.");this.infiniteRowModel?this.infiniteRowModel.setRowCount(r,o):this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(r,o){return this.logDeprecation("31.3","getValue","getCellValue"),this.getCellValue({colKey:r,rowNode:o})}getCellValue(r){var o;const{colKey:c,rowNode:p,useFormatter:y}=r;let S=null!=(o=this.columnModel.getPrimaryColumn(c))?o:this.columnModel.getGridColumn(c);if(Ai(S))return null;const R=this.valueService.getValue(S,p);return y?this.valueService.formatValue(S,p,R)??ho(R,!0):R}addEventListener(r,o){this.apiEventService.addEventListener(r,o)}addGlobalListener(r){this.apiEventService.addGlobalListener(r)}removeEventListener(r,o){this.apiEventService.removeEventListener(r,o)}removeGlobalListener(r){this.apiEventService.removeGlobalListener(r)}dispatchEvent(r){this.eventService.dispatchEvent(r)}destroy(){var r;const o=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const c={type:ae.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(c),this.destroyCalled=!0,null==(r=this.ctrlsService.get("gridCtrl"))||r.destroyGridUi(),this.context.destroy(),this.detailGridInfoMap={},lt(this,["isDestroyed"],o)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Sn.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(r){this.rangeService?this.rangeService.addCellRange(r):Sn.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Sn.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(r,o){if(Sn.__assertRegistered("@ag-grid-enterprise/charts","api."+r,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>o())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(r){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(r))}getChartImageDataURL(r){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(r))}downloadChart(r){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(r))}openChartToolPanel(r){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(r))}closeChartToolPanel(r){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(r.chartId))}createRangeChart(r){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(r))}createPivotChart(r){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(r))}createCrossFilterChart(r){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(r))}updateChart(r){return this.assertChart("updateChart",()=>this.chartService.updateChart(r))}restoreChart(r,o){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(r,o))}assertClipboard(r,o){Sn.__assertRegistered("@ag-grid-enterprise/clipboard","api"+r,this.context.getGridId())&&o()}copyToClipboard(r){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(r))}cutToClipboard(r){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(r))}copySelectedRowsToClipboard(r){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(r))}copySelectedRangeToClipboard(r){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(r))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(r,o){Zt("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const c=this.columnModel.getGridColumn(r);this.menuService.showColumnMenu({column:c,buttonElement:o,positionBy:"button"})}showColumnMenuAfterMouseClick(r,o){Zt("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let c=this.columnModel.getGridColumn(r);c||(c=this.columnModel.getPrimaryColumn(r)),c?this.menuService.showColumnMenu({column:c,mouseEvent:o,positionBy:"mouse"}):console.error(`AG Grid: column '${r}' not found`)}showContextMenu(r){const{rowNode:o,column:c,value:p,x:y,y:S}=r||{};let{x:R,y:L}=this.menuService.getContextMenuPosition(o,c);null!=y&&(R=y),null!=S&&(L=S),this.menuService.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:R,clientY:L}),rowNode:o,column:c,value:p})}showColumnChooser(r){this.menuService.showColumnChooser({chooserParams:r})}showColumnFilter(r){const o=this.columnModel.getGridColumn(r);o?this.menuService.showFilterMenu({column:o,containerType:"columnFilter",positionBy:"auto"}):console.error(`AG Grid: column '${r}' not found`)}showColumnMenu(r){const o=this.columnModel.getGridColumn(r);o?this.menuService.showColumnMenu({column:o,positionBy:"auto"}):console.error(`AG Grid: column '${r}' not found`)}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(r){return this.navigationService.tabToNextCell(!1,r)}tabToPreviousCell(r){return this.navigationService.tabToNextCell(!0,r)}getCellRendererInstances(r={}){return this.rowRenderer.getCellRendererInstances(r).map(Vc)}getCellEditorInstances(r={}){return this.rowRenderer.getCellEditorInstances(r).map(Vc)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(r=!1){this.rowRenderer.stopEditing(r)}startEditingCell(r){const o=this.columnModel.getGridColumn(r.colKey);if(!o)return void console.warn(`AG Grid: no column found for ${r.colKey}`);const c={rowIndex:r.rowIndex,rowPinned:r.rowPinned||null,column:o};null==r.rowPinned&&this.ensureIndexVisible(r.rowIndex),this.ensureColumnVisible(r.colKey);const y=this.navigationService.getCellByPosition(c);y&&(this.focusService.isCellFocused(c)||this.focusService.setFocusedCell(c),y.startRowOrCellEdit(r.key))}addAggFunc(r,o){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:o})}addAggFuncs(r){this.aggFuncService&&this.aggFuncService.addAggFuncs(r)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(r);this.logMissingRowModel("applyServerSideTransaction","serverSide")}applyServerSideTransactionAsync(r,o){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(r,o);this.logMissingRowModel("applyServerSideTransactionAsync","serverSide")}applyServerSideRowData(r){var o,c;const p=null!=(o=r.startRow)?o:0,y=null!=(c=r.route)?c:[];p<0?console.warn(`AG Grid: invalid value ${r.startRow} for startRow, the value should be >= 0`):this.serverSideRowModel?this.serverSideRowModel.applyRowData(r.successParams,p,y):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():this.logMissingRowModel("retryServerSideLoads","serverSide")}flushServerSideAsyncTransactions(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide")}applyTransaction(r){if(this.clientSideRowModel)return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(r));this.logMissingRowModel("applyTransaction","clientSide")}applyTransactionAsync(r,o){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(r,o)):this.logMissingRowModel("applyTransactionAsync","clientSide")}flushAsyncTransactions(){this.clientSideRowModel?this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions()):this.logMissingRowModel("flushAsyncTransactions","clientSide")}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(r){this.serverSideRowModel?this.serverSideRowModel.refreshStore(r):this.logMissingRowModel("refreshServerSide","serverSide")}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(r){return this.rowModel.getRow(r)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(r){this.paginationProxy.goToPage(r)}sizeColumnsToFit(r){"number"==typeof r?this.columnModel.sizeColumnsToFit(r,"api"):this.gridBodyCtrl.sizeColumnsToFit(r)}setColumnGroupOpened(r,o){this.columnModel.setColumnGroupOpened(r,o,"api")}getColumnGroup(r,o){return this.columnModel.getColumnGroup(r,o)}getProvidedColumnGroup(r){return this.columnModel.getProvidedColumnGroup(r)}getDisplayNameForColumn(r,o){return this.columnModel.getDisplayNameForColumn(r,o)||""}getDisplayNameForColumnGroup(r,o){return this.columnModel.getDisplayNameForColumnGroup(r,o)||""}getColumn(r){return this.columnModel.getPrimaryColumn(r)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(r){return this.columnModel.applyColumnState(r,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(r){this.columnModel.setColumnGroupState(r,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(r){return this.columnModel.getDisplayedColAfter(r)}getDisplayedColBefore(r){return this.columnModel.getDisplayedColBefore(r)}setColumnVisible(r,o){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([r],o,"api")}setColumnsVisible(r,o){this.columnModel.setColumnsVisible(r,o,"api")}setColumnPinned(r,o){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([r],o,"api")}setColumnsPinned(r,o){this.columnModel.setColumnsPinned(r,o,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(r,o){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([r],o,"api")}moveColumnByIndex(r,o){this.columnModel.moveColumnByIndex(r,o,"api")}moveColumns(r,o){this.columnModel.moveColumns(r,o,"api")}moveRowGroupColumn(r,o){this.columnModel.moveRowGroupColumn(r,o,"api")}setColumnAggFunc(r,o){this.columnModel.setColumnAggFunc(r,o,"api")}setColumnWidth(r,o,c=!0,p="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:r,newWidth:o}],!1,c,p)}setColumnWidths(r,o=!0,c="api"){this.columnModel.setColumnWidths(r,!1,o,c)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(r,o){return this.columnModel.getSecondaryPivotColumn(r,o)}setValueColumns(r){this.columnModel.setValueColumns(r,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(r){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([r],"api")}removeValueColumns(r){this.columnModel.removeValueColumns(r,"api")}addValueColumn(r){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([r],"api")}addValueColumns(r){this.columnModel.addValueColumns(r,"api")}setRowGroupColumns(r){this.columnModel.setRowGroupColumns(r,"api")}removeRowGroupColumn(r){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([r],"api")}removeRowGroupColumns(r){this.columnModel.removeRowGroupColumns(r,"api")}addRowGroupColumn(r){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([r],"api")}addRowGroupColumns(r){this.columnModel.addRowGroupColumns(r,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(r){this.columnModel.setPivotColumns(r,"api")}removePivotColumn(r){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([r],"api")}removePivotColumns(r){this.columnModel.removePivotColumns(r,"api")}addPivotColumn(r){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([r],"api")}addPivotColumns(r){this.columnModel.addPivotColumns(r,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(r,o){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[r],skipHeader:o,source:"api"})}autoSizeColumns(r,o){this.columnModel.autoSizeColumns({columns:r,skipHeader:o,source:"api"})}autoSizeAllColumns(r){this.columnModel.autoSizeAllColumns("api",r)}setPivotResultColumns(r){this.columnModel.setSecondaryColumns(r,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(r){return this.gos.get(r)}setGridOption(r,o){this.updateGridOptions({[r]:o})}updateGridOptions(r){this.gos.updateGridOptions({options:r})}__internalUpdateGridOptions(r,o){this.gos.updateGridOptions({options:r,force:o,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(r,o){Zt(`set${r.charAt(0).toUpperCase()}${r.slice(1,r.length)} is deprecated. Please use 'api.setGridOption('${r}', newValue)' or 'api.updateGridOptions({ ${r}: newValue })' instead.`),this.setGridOption(r,o)}setPivotMode(r){this.deprecatedUpdateGridOption("pivotMode",r)}setPinnedTopRowData(r){this.deprecatedUpdateGridOption("pinnedTopRowData",r)}setPinnedBottomRowData(r){this.deprecatedUpdateGridOption("pinnedBottomRowData",r)}setPopupParent(r){this.deprecatedUpdateGridOption("popupParent",r)}setSuppressModelUpdateAfterUpdateTransaction(r){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",r)}setDataTypeDefinitions(r){this.deprecatedUpdateGridOption("dataTypeDefinitions",r)}setPagination(r){this.deprecatedUpdateGridOption("pagination",r)}paginationSetPageSize(r){this.deprecatedUpdateGridOption("paginationPageSize",r)}setSideBar(r){this.deprecatedUpdateGridOption("sideBar",r)}setSuppressClipboardPaste(r){this.deprecatedUpdateGridOption("suppressClipboardPaste",r)}setGroupRemoveSingleChildren(r){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",r)}setGroupRemoveLowestSingleChildren(r){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",r)}setGroupDisplayType(r){this.deprecatedUpdateGridOption("groupDisplayType",r)}setGroupIncludeFooter(r){this.deprecatedUpdateGridOption("groupIncludeFooter",r)}setGroupIncludeTotalFooter(r){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",r)}setRowClass(r){this.deprecatedUpdateGridOption("rowClass",r)}setDeltaSort(r){this.deprecatedUpdateGridOption("deltaSort",r)}setSuppressRowDrag(r){this.deprecatedUpdateGridOption("suppressRowDrag",r)}setSuppressMoveWhenRowDragging(r){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",r)}setSuppressRowClickSelection(r){this.deprecatedUpdateGridOption("suppressRowClickSelection",r)}setEnableAdvancedFilter(r){this.deprecatedUpdateGridOption("enableAdvancedFilter",r)}setIncludeHiddenColumnsInAdvancedFilter(r){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",r)}setAdvancedFilterParent(r){this.deprecatedUpdateGridOption("advancedFilterParent",r)}setAdvancedFilterBuilderParams(r){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",r)}setQuickFilter(r){Zt("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:r}})}setExcludeHiddenColumnsFromQuickFilter(r){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!r)}setIncludeHiddenColumnsInQuickFilter(r){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",r)}setQuickFilterParser(r){this.deprecatedUpdateGridOption("quickFilterParser",r)}setQuickFilterMatcher(r){this.deprecatedUpdateGridOption("quickFilterMatcher",r)}setAlwaysShowHorizontalScroll(r){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",r)}setAlwaysShowVerticalScroll(r){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",r)}setFunctionsReadOnly(r){this.deprecatedUpdateGridOption("functionsReadOnly",r)}setColumnDefs(r,o="api"){Zt("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:r},source:o})}setAutoGroupColumnDef(r,o="api"){Zt("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:r},source:o})}setDefaultColDef(r,o="api"){Zt("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:r},source:o})}setColumnTypes(r,o="api"){Zt("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:r},source:o})}setTreeData(r){this.deprecatedUpdateGridOption("treeData",r)}setServerSideDatasource(r){this.deprecatedUpdateGridOption("serverSideDatasource",r)}setCacheBlockSize(r){this.deprecatedUpdateGridOption("cacheBlockSize",r)}setDatasource(r){this.deprecatedUpdateGridOption("datasource",r)}setViewportDatasource(r){this.deprecatedUpdateGridOption("viewportDatasource",r)}setRowData(r){this.deprecatedUpdateGridOption("rowData",r)}setEnableCellTextSelection(r){this.deprecatedUpdateGridOption("enableCellTextSelection",r)}setHeaderHeight(r){this.deprecatedUpdateGridOption("headerHeight",r)}setDomLayout(r){this.deprecatedUpdateGridOption("domLayout",r)}setFillHandleDirection(r){this.deprecatedUpdateGridOption("fillHandleDirection",r)}setGroupHeaderHeight(r){this.deprecatedUpdateGridOption("groupHeaderHeight",r)}setFloatingFiltersHeight(r){this.deprecatedUpdateGridOption("floatingFiltersHeight",r)}setPivotHeaderHeight(r){this.deprecatedUpdateGridOption("pivotHeaderHeight",r)}setPivotGroupHeaderHeight(r){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",r)}setAnimateRows(r){this.deprecatedUpdateGridOption("animateRows",r)}setIsExternalFilterPresent(r){this.deprecatedUpdateGridOption("isExternalFilterPresent",r)}setDoesExternalFilterPass(r){this.deprecatedUpdateGridOption("doesExternalFilterPass",r)}setNavigateToNextCell(r){this.deprecatedUpdateGridOption("navigateToNextCell",r)}setTabToNextCell(r){this.deprecatedUpdateGridOption("tabToNextCell",r)}setTabToNextHeader(r){this.deprecatedUpdateGridOption("tabToNextHeader",r)}setNavigateToNextHeader(r){this.deprecatedUpdateGridOption("navigateToNextHeader",r)}setRowGroupPanelShow(r){this.deprecatedUpdateGridOption("rowGroupPanelShow",r)}setGetGroupRowAgg(r){this.deprecatedUpdateGridOption("getGroupRowAgg",r)}setGetBusinessKeyForNode(r){this.deprecatedUpdateGridOption("getBusinessKeyForNode",r)}setGetChildCount(r){this.deprecatedUpdateGridOption("getChildCount",r)}setProcessRowPostCreate(r){this.deprecatedUpdateGridOption("processRowPostCreate",r)}setGetRowId(r){Zt("getRowId is a static property and can no longer be updated.")}setGetRowClass(r){this.deprecatedUpdateGridOption("getRowClass",r)}setIsFullWidthRow(r){this.deprecatedUpdateGridOption("isFullWidthRow",r)}setIsRowSelectable(r){this.deprecatedUpdateGridOption("isRowSelectable",r)}setIsRowMaster(r){this.deprecatedUpdateGridOption("isRowMaster",r)}setPostSortRows(r){this.deprecatedUpdateGridOption("postSortRows",r)}setGetDocument(r){this.deprecatedUpdateGridOption("getDocument",r)}setGetContextMenuItems(r){this.deprecatedUpdateGridOption("getContextMenuItems",r)}setGetMainMenuItems(r){this.deprecatedUpdateGridOption("getMainMenuItems",r)}setProcessCellForClipboard(r){this.deprecatedUpdateGridOption("processCellForClipboard",r)}setSendToClipboard(r){this.deprecatedUpdateGridOption("sendToClipboard",r)}setProcessCellFromClipboard(r){this.deprecatedUpdateGridOption("processCellFromClipboard",r)}setProcessPivotResultColDef(r){this.deprecatedUpdateGridOption("processPivotResultColDef",r)}setProcessPivotResultColGroupDef(r){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",r)}setPostProcessPopup(r){this.deprecatedUpdateGridOption("postProcessPopup",r)}setInitialGroupOrderComparator(r){this.deprecatedUpdateGridOption("initialGroupOrderComparator",r)}setGetChartToolbarItems(r){this.deprecatedUpdateGridOption("getChartToolbarItems",r)}setPaginationNumberFormatter(r){this.deprecatedUpdateGridOption("paginationNumberFormatter",r)}setGetServerSideGroupLevelParams(r){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",r)}setIsServerSideGroupOpenByDefault(r){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",r)}setIsApplyServerSideTransaction(r){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",r)}setIsServerSideGroup(r){this.deprecatedUpdateGridOption("isServerSideGroup",r)}setGetServerSideGroupKey(r){this.deprecatedUpdateGridOption("getServerSideGroupKey",r)}setGetRowStyle(r){this.deprecatedUpdateGridOption("getRowStyle",r)}setGetRowHeight(r){this.deprecatedUpdateGridOption("getRowHeight",r)}};P([$("rowRenderer")],Pr.prototype,"rowRenderer",2),P([$("navigationService")],Pr.prototype,"navigationService",2),P([$("filterManager")],Pr.prototype,"filterManager",2),P([$("columnModel")],Pr.prototype,"columnModel",2),P([$("selectionService")],Pr.prototype,"selectionService",2),P([$("gridOptionsService")],Pr.prototype,"gos",2),P([$("valueService")],Pr.prototype,"valueService",2),P([$("alignedGridsService")],Pr.prototype,"alignedGridsService",2),P([$("eventService")],Pr.prototype,"eventService",2),P([$("pinnedRowModel")],Pr.prototype,"pinnedRowModel",2),P([$("context")],Pr.prototype,"context",2),P([$("rowModel")],Pr.prototype,"rowModel",2),P([$("sortController")],Pr.prototype,"sortController",2),P([$("paginationProxy")],Pr.prototype,"paginationProxy",2),P([$("focusService")],Pr.prototype,"focusService",2),P([$("dragAndDropService")],Pr.prototype,"dragAndDropService",2),P([$("menuService")],Pr.prototype,"menuService",2),P([$("valueCache")],Pr.prototype,"valueCache",2),P([$("animationFrameService")],Pr.prototype,"animationFrameService",2),P([$("ctrlsService")],Pr.prototype,"ctrlsService",2),P([$("overlayService")],Pr.prototype,"overlayService",2),P([$("stateService")],Pr.prototype,"stateService",2),P([$("expansionService")],Pr.prototype,"expansionService",2),P([$("apiEventService")],Pr.prototype,"apiEventService",2),P([$("frameworkOverrides")],Pr.prototype,"frameworkOverrides",2),P([$("undoRedoService")],Pr.prototype,"undoRedoService",2),P([$("rowNodeBlockLoader")],Pr.prototype,"rowNodeBlockLoader",2),P([Kt("csvCreator")],Pr.prototype,"csvCreator",2),P([Kt("excelCreator")],Pr.prototype,"excelCreator",2),P([Kt("rangeService")],Pr.prototype,"rangeService",2),P([Kt("clipboardService")],Pr.prototype,"clipboardService",2),P([Kt("aggFuncService")],Pr.prototype,"aggFuncService",2),P([Kt("statusBarService")],Pr.prototype,"statusBarService",2),P([Kt("chartService")],Pr.prototype,"chartService",2),P([Kt("ssrmTransactionManager")],Pr.prototype,"serverSideTransactionManager",2),P([Kt("sideBarService")],Pr.prototype,"sideBarService",2),P([mt],Pr.prototype,"init",1),Pr=P([It("gridApi")],Pr);var dl=class extends nn{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",r=>this.setQuickFilter(r.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(r){const o=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,r):this.quickFilterParts.every(c=>o?this.doesRowPassQuickFilterCache(r,c):this.doesRowPassQuickFilterNoCache(r,c))}resetQuickFilterCache(){this.rowModel.forEachNode(r=>r.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:r,parser:o}=this;this.quickFilterParts=r?o?o(r):r.split(" "):null}parseQuickFilter(r){return pt(r)?this.gos.isRowModelType("clientSide")?r.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(r){if(null!=r&&"string"!=typeof r)return void console.warn("AG Grid - Grid option quickFilterText only supports string inputs, received: "+typeof r);const o=this.parseQuickFilter(r);this.quickFilter!==o&&(this.quickFilter=o,this.setQuickFilterParts(),this.dispatchEvent({type:dl.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const r=this.gos.get("quickFilterParser"),o=this.gos.get("quickFilterMatcher"),c=r!==this.parser||o!==this.matcher;this.parser=r,this.matcher=o,c&&(this.setQuickFilterParts(),this.dispatchEvent({type:dl.EVENT_QUICK_FILTER_CHANGED}))}onQuickFilterColumnConfigChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:dl.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(r,o){return this.columnModel.getAllColumnsForQuickFilter().some(p=>{const y=this.getQuickFilterTextForColumn(p,r);return pt(y)&&y.indexOf(o)>=0})}doesRowPassQuickFilterCache(r,o){return this.checkGenerateQuickFilterAggregateText(r),r.quickFilterAggregateText.indexOf(o)>=0}doesRowPassQuickFilterMatcher(r,o){let c;r?(this.checkGenerateQuickFilterAggregateText(o),c=o.quickFilterAggregateText):c=this.getQuickFilterAggregateText(o);const{quickFilterParts:p,matcher:y}=this;return y(p,c)}checkGenerateQuickFilterAggregateText(r){r.quickFilterAggregateText||(r.quickFilterAggregateText=this.getQuickFilterAggregateText(r))}getQuickFilterTextForColumn(r,o){let c=this.valueService.getValue(r,o,!0);const p=r.getColDef();if(p.getQuickFilterText){const y=this.gos.addGridCommonParams({value:c,node:o,data:o.data,column:r,colDef:p});c=p.getQuickFilterText(y)}return pt(c)?c.toString().toUpperCase():null}getQuickFilterAggregateText(r){const o=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(p=>{const y=this.getQuickFilterTextForColumn(p,r);pt(y)&&o.push(y)}),o.join(dl.QUICK_FILTER_SEPARATOR)}};dl.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged",dl.QUICK_FILTER_SEPARATOR="\n",P([$("valueService")],dl.prototype,"valueService",2),P([$("columnModel")],dl.prototype,"columnModel",2),P([$("rowModel")],dl.prototype,"rowModel",2),P([mt],dl.prototype,"postConstruct",1),dl=P([It("quickFilterService")],dl);var ul=class extends nn{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var r,o,c;this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",p=>this.setAdvancedFilterModel(p.currentValue)),this.addManagedListener(this.eventService,ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:p})=>this.onAdvancedFilterEnabledChanged(p)),this.addManagedListener(this.eventService,ae.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,dl.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=ee({},null!=(c=null==(o=null==(r=this.gos.get("initialState"))?void 0:r.filter)?void 0:o.filterModel)?c:{})}isExternalFilterPresentCallback(){const r=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof r&&r({})}doesExternalFilterPass(r){const o=this.gos.get("doesExternalFilterPass");return"function"==typeof o&&o(r)}setFilterModel(r,o="api"){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();if(this.dataTypeService.isPendingInference())return void this.filterModelUpdateQueue.push({model:r,source:o});const c=[],p=this.getFilterModel();if(r){const y=Ne(Object.keys(r));this.allColumnFilters.forEach((S,R)=>{c.push(this.setModelOnFilterWrapper(S.filterPromise,r[R])),y.delete(R)}),y.forEach(S=>{const R=this.columnModel.getPrimaryColumn(S)||this.columnModel.getGridColumn(S);if(!R)return void console.warn("AG Grid: setFilterModel() - no column found for colId: "+S);if(!R.isFilterAllowed())return void console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+S);const L=this.getOrCreateFilterWrapper(R,"NO_UI");L?c.push(this.setModelOnFilterWrapper(L.filterPromise,r[S])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+S)})}else this.allColumnFilters.forEach(y=>{c.push(this.setModelOnFilterWrapper(y.filterPromise,null))});ht.all(c).then(()=>{const y=this.getFilterModel(),S=[];this.allColumnFilters.forEach((R,L)=>{G.jsonEquals(p?p[L]:null,y?y[L]:null)||S.push(R.column)}),S.length>0&&this.onFilterChanged({columns:S,source:o})})}setModelOnFilterWrapper(r,o){return new ht(c=>{r.then(p=>{"function"!=typeof p.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),c()),(p.setModel(o)||ht.resolve()).then(()=>c())})})}getFilterModel(){const r={};return this.allColumnFilters.forEach((o,c)=>{const p=this.getModelFromFilterWrapper(o);pt(p)&&(r[c]=p)}),r}getModelFromFilterWrapper(r){var o;const p=r.filterPromise.resolveNow(null,y=>y);return null==p?null!=(o=this.initialFilterModel[r.column.getColId()])?o:null:"function"!=typeof p.getModel?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):p.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(r){var o;r?this.allColumnFilters.size&&(this.allColumnFilters.forEach(c=>this.disposeFilterWrapper(c,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):null!=(o=this.advancedFilterService)&&o.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var r;return!(null==(r=this.advancedFilterService)||!r.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(r,o){return this.doColumnFiltersPass(r,o,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const r=p=>!!p&&(p.isFilterActive?p.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1)),o=!!this.gos.getGroupAggFiltering(),c=p=>{if(!p.isPrimary())return!0;const S=!this.columnModel.isPivotActive();return!(!p.isValueActive()||!S)&&(!!this.columnModel.isPivotMode()||o)};this.allColumnFilters.forEach(p=>{if(p.filterPromise.resolveNow(!1,r)){const y=p.filterPromise.resolveNow(null,S=>S);c(p.column)?this.activeAggregateFilters.push(y):this.activeColumnFilters.push(y)}})}updateFilterFlagInColumns(r,o){this.allColumnFilters.forEach(c=>{const p=c.filterPromise.resolveNow(!1,y=>y.isFilterActive());c.column.setFilterActive(p,r,o)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(r,o,c){const{data:p,aggData:y}=r,S=c?this.activeAggregateFilters:this.activeColumnFilters,R=c?y:p;for(let L=0;L<S.length;L++){const Q=S[L];if(null!=Q&&Q!==o){if("function"!=typeof Q.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!Q.doesFilterPass({node:r,data:R}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(r){const o=()=>this.onFilterChanged(r);this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()}onFilterChanged(r={}){const{source:o,filterInstance:c,additionalEventAttributes:p,columns:y}=r;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",p),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(R=>{R.filterPromise&&R.filterPromise.then(L=>{L&&L!==c&&L.onAnyFilterChanged&&L.onAnyFilterChanged()})});const S={source:o,type:ae.EVENT_FILTER_CHANGED,columns:y||[]};p&&Cn(S,p),this.processingFilterChange=!0,this.eventService.dispatchEvent(S),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var r;return!(null!=(r=this.gos.get("allowShowChangeAfterFilter"))&&r)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(r,o){return this.doesRowPassFilter({rowNode:o,filterInstanceToSkip:r})}doesRowPassAggregateFilters(r){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(r.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(r.rowNode,r.filterInstanceToSkip))}doesRowPassFilter(r){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(r.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(r.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(r.rowNode,r.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(r.rowNode))}onNewRowsLoaded(r){this.allColumnFilters.forEach(o=>{o.filterPromise.then(c=>{c.onNewRowsLoaded&&c.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(r,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(r){return({node:o})=>this.valueService.getValue(r,o,!0)}createGetValue(r){return(o,c)=>{const p=c?this.columnModel.getGridColumn(c):r;return p?this.valueService.getValue(p,o,!0):void 0}}getFilterComponent(r,o,c=!0){var p;if(c)return(null==(p=this.getOrCreateFilterWrapper(r,o))?void 0:p.filterPromise)||null;const y=this.cachedFilter(r);return y?y.filterPromise:null}isFilterActive(r){const o=this.cachedFilter(r);return!!o&&o.filterPromise.resolveNow(!1,c=>c.isFilterActive())}getOrCreateFilterWrapper(r,o){if(!r.isFilterAllowed())return null;let c=this.cachedFilter(r);return c||(c=this.createFilterWrapper(r,o),this.setColumnFilterWrapper(r,c)),c}cachedFilter(r){return this.allColumnFilters.get(r.getColId())}getDefaultFilter(r){let o;if(Sn.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))o="agSetColumnFilter";else{const c=this.dataTypeService.getBaseDataType(r);o="number"===c?"agNumberColumnFilter":"date"===c||"dateString"===c?"agDateColumnFilter":"agTextColumnFilter"}return o}getDefaultFloatingFilter(r){let o;if(Sn.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))o="agSetColumnFloatingFilter";else{const c=this.dataTypeService.getBaseDataType(r);o="number"===c?"agNumberColumnFloatingFilter":"date"===c||"dateString"===c?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return o}createFilterInstance(r){const o=this.getDefaultFilter(r),c=r.getColDef();let p;const y=Ce(ee({},this.createFilterParams(r,c)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(p,r)(),filterChangedCallback:R=>this.filterChangedCallbackFactory(p,r)(R),doesRowPassOtherFilter:R=>this.doesRowPassOtherFilters(p,R)}),S=this.userComponentFactory.getFilterDetails(c,y,o);return S?{filterPromise:()=>{const R=S.newAgStackInstance();return R&&R.then(L=>p=L),R},compDetails:S}:{filterPromise:null,compDetails:null}}createFilterParams(r,o){return this.gos.addGridCommonParams({column:r,colDef:Ci(o),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(r),getValue:this.createGetValue(r),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(r,o){var c;const p={column:r,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:y,compDetails:S}=this.createFilterInstance(r);return p.filterPromise=null!=(c=y?.())?c:null,p.compDetails=S,p}onColumnsChanged(){const r=[];this.allColumnFilters.forEach((o,c)=>{let p;p=o.column.isPrimary()?this.columnModel.getPrimaryColumn(c):this.columnModel.getGridColumn(c),(!p||p!==o.column)&&(r.push(o.column),this.disposeFilterWrapper(o,"columnChanged"),this.disposeColumnListener(c))}),r.length>0?this.onFilterChanged({columns:r,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const r=this.columnModel.getGroupAutoColumns();r?.forEach(o=>{"agGroupColumnFilter"===o.getColDef().filter&&this.getOrCreateFilterWrapper(o,"NO_UI")})}isFilterAllowed(r){var o,c;if(this.isAdvancedFilterEnabled()||!r.isFilterAllowed())return!1;const y=this.allColumnFilters.get(r.getColId());return null==(c=null==(o=y?.filterPromise)?void 0:o.resolveNow(!0,S=>"function"!=typeof S?.isFilterAllowed||S?.isFilterAllowed()))||c}getFloatingFilterCompDetails(r,o){const c=Q=>{const be=this.getFilterComponent(r,"NO_UI");be?.then(Ie=>{Q(Vc(Ie))})},p=r.getColDef(),y=Ce(ee({},this.createFilterParams(r,p)),{filterChangedCallback:()=>c(Q=>this.filterChangedCallbackFactory(Q,r)())}),S=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(p,cl,y);let R=this.userComponentFactory.getDefaultFloatingFilterType(p,()=>this.getDefaultFloatingFilter(r));return null==R&&(R="agReadOnlyFloatingFilter"),this.userComponentFactory.getFloatingFilterCompDetails(p,{column:r,filterParams:S,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(r),parentFilterInstance:c,showParentFilter:o,suppressFilterButton:!1},R)}getCurrentFloatingFilterParentModel(r){const o=this.getFilterComponent(r,"NO_UI",!1);return o?o.resolveNow(null,c=>c&&c.getModel()):null}destroyFilter(r,o="api"){const c=r.getColId(),p=this.allColumnFilters.get(c);this.disposeColumnListener(c),delete this.initialFilterModel[c],p&&(this.disposeFilterWrapper(p,o),this.onFilterChanged({columns:[r],source:"api"}))}disposeColumnListener(r){const o=this.allColumnListeners.get(r);o&&(this.allColumnListeners.delete(r),o())}disposeFilterWrapper(r,o){r.filterPromise.then(c=>{this.getContext().destroyBean(c),r.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(r.column.getColId()),this.eventService.dispatchEvent({type:ae.EVENT_FILTER_DESTROYED,source:o,column:r.column})})}filterModifiedCallbackFactory(r,o){return()=>{this.eventService.dispatchEvent({type:ae.EVENT_FILTER_MODIFIED,column:o,filterInstance:r})}}filterChangedCallbackFactory(r,o){return c=>{var p;const y=null!=(p=c?.source)?p:"api";this.callOnFilterChangedOutsideRenderCycle({filter:r,additionalEventAttributes:c,columns:[o],source:y})}}checkDestroyFilter(r){const o=this.allColumnFilters.get(r);if(!o)return;const c=o.column,{compDetails:p}=c.isFilterAllowed()?this.createFilterInstance(c):{compDetails:null};if(this.areFilterCompsDifferent(o.compDetails,p))return void this.destroyFilter(c,"paramsUpdated");const y=c.getColDef().filterParams;o.filterPromise?o.filterPromise.then(S=>{!1===(!S?.refresh||S.refresh(ee(Ce(ee({},this.createFilterParams(c,c.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(S,c),filterChangedCallback:this.filterChangedCallbackFactory(S,c),doesRowPassOtherFilter:L=>this.doesRowPassOtherFilters(S,L)}),y)))&&this.destroyFilter(c,"paramsUpdated")}):this.destroyFilter(c,"paramsUpdated")}setColumnFilterWrapper(r,o){const c=r.getColId();this.allColumnFilters.set(c,o),this.allColumnListeners.set(c,this.addManagedListener(r,bt.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(c)))}areFilterCompsDifferent(r,o){if(!o||!r)return!0;const{componentClass:c}=r,{componentClass:p}=o;return!(c===p||c?.render&&p?.render&&c.render===p.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(r){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference())return void this.advancedFilterModelUpdateQueue.push(r);this.advancedFilterService.setModel(r??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(r){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(r,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&this.columnModel.getAllGridColumns().some(o=>o.getColDef().floatingFilter)}getFilterInstance(r,o){if(this.isAdvancedFilterEnabled())return void this.warnAdvancedFilters();const c=this.getFilterInstanceImpl(r,y=>{if(!o)return;const S=Vc(y);o(S)});return Vc(c)}getColumnFilterInstance(r){return new Promise(o=>{this.getFilterInstance(r,c=>{o(c)})})}getFilterInstanceImpl(r,o){const c=this.columnModel.getPrimaryColumn(r);if(!c)return;const p=this.getFilterComponent(c,"NO_UI"),y=p&&p.resolveNow(null,S=>S);return y?setTimeout(o,0,y):p&&p.then(S=>{o(S)}),y}warnAdvancedFilters(){Zt("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(r){var o;null==(o=this.advancedFilterService)||o.getCtrl().setupHeaderComp(r)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:r,source:o})=>this.setFilterModel(r,o)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:r,model:o,resolve:c})=>{this.setColumnFilterModel(r,o).then(()=>c())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(r=>this.setAdvancedFilterModel(r)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(r){const o=this.getFilterWrapper(r);return o?this.getModelFromFilterWrapper(o):null}setColumnFilterModel(r,o){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let S=()=>{};const R=new Promise(L=>{S=L});return this.columnFilterModelUpdateQueue.push({key:r,model:o,resolve:S}),R}const c=this.columnModel.getPrimaryColumn(r),p=c?this.getOrCreateFilterWrapper(c,"NO_UI"):null;return p?(S=this.setModelOnFilterWrapper(p.filterPromise,o),new Promise(R=>{S.then(L=>R(L))})):Promise.resolve();var S}getFilterWrapper(r){var o;const c=this.columnModel.getPrimaryColumn(r);return c&&null!=(o=this.cachedFilter(c))?o:null}destroy(){super.destroy(),this.allColumnFilters.forEach(r=>this.disposeFilterWrapper(r,"gridDestroyed")),this.allColumnListeners.clear()}};P([$("valueService")],ul.prototype,"valueService",2),P([$("columnModel")],ul.prototype,"columnModel",2),P([$("rowModel")],ul.prototype,"rowModel",2),P([$("userComponentFactory")],ul.prototype,"userComponentFactory",2),P([$("rowRenderer")],ul.prototype,"rowRenderer",2),P([$("dataTypeService")],ul.prototype,"dataTypeService",2),P([$("quickFilterService")],ul.prototype,"quickFilterService",2),P([Kt("advancedFilterService")],ul.prototype,"advancedFilterService",2),P([mt],ul.prototype,"init",1),ul=P([It("filterManager")],ul);var Dp=class extends _n{constructor(r,o){super('<div class="ag-filter"></div>'),this.column=r,this.source=o,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedListener(this.eventService,ae.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))}hasFilter(){return!!this.filterWrapper}getFilter(){var r,o;return null!=(o=null==(r=this.filterWrapper)?void 0:r.filterPromise)?o:null}afterInit(){var r,o,c;return null!=(c=null==(o=null==(r=this.filterWrapper)?void 0:r.filterPromise)?void 0:o.then(()=>{}))?c:ht.resolve()}afterGuiAttached(r){var o,c;null==(c=null==(o=this.filterWrapper)?void 0:o.filterPromise)||c.then(p=>{var y;null==(y=p?.afterGuiAttached)||y.call(p,r)})}afterGuiDetached(){var r,o;null==(o=null==(r=this.filterWrapper)?void 0:r.filterPromise)||o.then(c=>{var p;null==(p=c?.afterGuiDetached)||p.call(c)})}createFilter(r){var o;const{column:c,source:p}=this;this.filterWrapper=this.filterManager.getOrCreateFilterWrapper(c,p),null!=(o=this.filterWrapper)&&o.filterPromise&&this.filterWrapper.filterPromise.then(y=>{let S=y.getGui();if(pt(S)||console.warn(`AG Grid: getGui method from filter returned ${S}, it should be a DOM element or an HTML template string.`),"string"==typeof S&&(S=cs(S)),this.appendChild(S),r){const R={type:ae.EVENT_FILTER_OPENED,column:c,source:p,eGui:this.getGui()};this.eventService.dispatchEvent(R)}})}onFilterDestroyed(r){("api"===r.source||"paramsUpdated"===r.source)&&r.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(ko(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}};P([$("filterManager")],Dp.prototype,"filterManager",2),P([$("columnModel")],Dp.prototype,"columnModel",2),P([mt],Dp.prototype,"postConstruct",1);var gg=class extends _n{constructor(r,o){super(r),this.ctrl=o}getCtrl(){return this.ctrl}},zn=class OH extends gg{constructor(o){super(OH.TEMPLATE,o)}postConstruct(){const o=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:(p,y)=>this.addOrRemoveCssClass(p,y),addOrRemoveBodyCssClass:(p,y)=>this.eFloatingFilterBody.classList.toggle(p,y),setButtonWrapperDisplayed:p=>Wn(this.eButtonWrapper,p),setCompDetails:p=>this.setCompDetails(p),getFloatingFilterComp:()=>this.compPromise,setWidth:p=>o.style.width=p,setMenuIcon:p=>this.eButtonShowMainFilter.appendChild(p)},o,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(o){if(!o)return this.destroyFloatingFilterComp(),void(this.compPromise=null);this.compPromise=o.newAgStackInstance(),this.compPromise.then(c=>this.afterCompCreated(c))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(o){if(o){if(!this.isAlive())return void this.destroyBean(o);this.destroyFloatingFilterComp(),this.floatingFilterComp=o,this.eFloatingFilterBody.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached()}}};zn.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',P([sn("eFloatingFilterBody")],zn.prototype,"eFloatingFilterBody",2),P([sn("eButtonWrapper")],zn.prototype,"eButtonWrapper",2),P([sn("eButtonShowMainFilter")],zn.prototype,"eButtonShowMainFilter",2),P([mt],zn.prototype,"postConstruct",1),P([jt],zn.prototype,"destroyFloatingFilterComp",1);var mg=zn,Ph=class extends nn{constructor(r){super(),this.view=r}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const r=this.getDomLayout(),o={autoHeight:"autoHeight"===r,normal:"normal"===r,print:"print"===r};this.view.updateLayoutClasses(o.autoHeight?"ag-layout-auto-height":o.print?"ag-layout-print":"ag-layout-normal",o)}getDomLayout(){var r;const o=null!=(r=this.gos.get("domLayout"))?r:"normal";return-1===["normal","print","autoHeight"].indexOf(o)?(Zt(`${o} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):o}};P([mt],Ph.prototype,"postConstruct",1);var nc=class extends nn{constructor(r){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=r,this.resetLastHScrollDebounced=tt(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=tt(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(r=>{this.centerRowsCtrl=r.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const{fakeHScrollComp:r,fakeVScrollComp:o}=this.ctrlsService.getParams();this.addManagedListener(this.centerRowsCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),r.onScrollCallback(this.onFakeHScroll.bind(this));const c=this.gos.get("debounceVerticalScrollbar"),p=c?tt(this.onVScroll.bind(this),100):this.onVScroll.bind(this),y=c?tt(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",p),o.onScrollCallback(y)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(r){if(null==this.centerRowsCtrl)return;void 0===r&&(r=this.centerRowsCtrl.getCenterViewportScrollLeft());const c=this.enableRtl?r:-r,{topCenter:p,stickyTopCenter:y,stickyBottomCenter:S,centerHeader:R,bottomCenter:L,fakeHScrollComp:Q}=this.ctrlsService.getParams();R.setHorizontalScroll(-c),L.setContainerTranslateX(c),p.setContainerTranslateX(c),y.setContainerTranslateX(c),S.setContainerTranslateX(c);const be=this.centerRowsCtrl.getViewportElement(),Ie=0===this.lastScrollSource[1];r=Math.abs(r),Ie?Q.setScrollPosition(r):sl(be,r,this.enableRtl)}isControllingScroll(r,o){return null==this.lastScrollSource[o]?(this.lastScrollSource[o]=r,!0):this.lastScrollSource[o]===r}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(r){const o=this.centerRowsCtrl.getViewportElement(),{scrollLeft:c}=o;if(this.shouldBlockScrollUpdate(1,c,!0))return;let p;p=0===r?wl(o,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(p)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(r){let o;o=0===r?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,o,!0)&&(this.animationFrameService.setScrollTop(o),this.nextScrollTop=o,0===r?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(o):this.eBodyViewport.scrollTop=o,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(r){const o=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===r&&r===o||(this.scrollLeft=r,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(r){const o={type:ae.EVENT_BODY_SCROLL,direction:1===r?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const c=Ce(ee({},o),{type:ae.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(c)},100)}shouldBlockScrollUpdate(r,o,c=!1){return!(c&&!zo())&&(0===r?this.shouldBlockVerticalScroll(o):this.shouldBlockHorizontalScroll(o))}shouldBlockVerticalScroll(r){const o=Qn(this.eBodyViewport),{scrollHeight:c}=this.eBodyViewport;return r<0||r+o>c}shouldBlockHorizontalScroll(r){const o=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:c}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&$a()){if(r>0)return!0}else if(r<0)return!0;return Math.abs(r)+o>c}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r}setHorizontalScrollPosition(r,o=!1){const p=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!o&&this.shouldBlockScrollUpdate(1,r)&&(r=this.enableRtl&&$a()?r>0?0:p:Math.min(Math.max(r,0),p)),sl(this.centerRowsCtrl.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)}setVerticalScrollPosition(r){this.eBodyViewport.scrollTop=r}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(r){const o=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+r),this.centerRowsCtrl.getViewportElement().scrollLeft-o}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(r,o=null){const c=this.rowModel.getRowCount();let p=-1;for(let y=0;y<c;y++){const S=this.rowModel.getRow(y);if("function"==typeof r){if(S&&r(S)){p=y;break}}else if(r===S||r===S.data){p=y;break}}p>=0&&this.ensureIndexVisible(p,o)}ensureIndexVisible(r,o){if(this.gos.isDomLayout("print"))return;const c=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=c)return void console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+r);const y=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{y||this.paginationProxy.goToPageWithIndex(r);const S=this.ctrlsService.getGridBodyCtrl(),R=S.getStickyTopHeight(),L=S.getStickyBottomHeight(),Q=this.paginationProxy.getRow(r);let be;do{const Ie=Q.rowTop,Je=Q.rowHeight,Bt=this.paginationProxy.getPixelOffset(),Ei=Q.rowTop-Bt,Li=Ei+Q.rowHeight,Wi=this.getVScrollPosition(),Vi=this.heightScaler.getDivStretchOffset(),wn=Wi.top+Vi,cn=Wi.bottom+Vi,xn=cn-wn,Nn=this.heightScaler.getScrollPositionForPixel(Ei),Gn=this.heightScaler.getScrollPositionForPixel(Li-xn),qn=Math.min((Nn+Gn)/2,Ei);let es=null;"top"===o?es=Nn:"bottom"===o?es=Gn:"middle"===o?es=qn:wn+R>Ei?es=Nn-R:cn-L<Li&&(es=Gn+L),null!==es&&(this.setVerticalScrollPosition(es),this.rowRenderer.redraw({afterScroll:!0})),be=Ie!==Q.rowTop||Je!==Q.rowHeight}while(be);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(r,o="auto"){const c=this.columnModel.getGridColumn(r);if(!c||c.isPinned()||!this.columnModel.isColumnDisplayed(c))return;const p=this.getPositionedHorizontalScroll(c,o);this.getFrameworkOverrides().wrapIncoming(()=>{null!==p&&this.centerRowsCtrl.setCenterViewportScrollLeft(p),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(r,o){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.setVerticalScrollPosition(r),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(r,o){const{columnBeforeStart:c,columnAfterEnd:p}=this.isColumnOutsideViewport(r),y=this.centerRowsCtrl.getCenterWidth()<r.getActualWidth(),S=this.centerRowsCtrl.getCenterWidth(),R=this.enableRtl;let L=(R?c:p)||y,Q=R?p:c;"auto"!==o&&(L="start"===o,Q="end"===o);const be="middle"===o;if(L||Q||be){const{colLeft:Ie,colMiddle:Je,colRight:Bt}=this.getColumnBounds(r);return be?Je-S/2:L?R?Bt:Ie:R?Ie-S:Bt-S}return null}isColumnOutsideViewport(r){const{start:o,end:c}=this.getViewportBounds(),{colLeft:p,colRight:y}=this.getColumnBounds(r),S=this.enableRtl;return{columnBeforeStart:S?o>y:c<y,columnAfterEnd:S?c<p:o>p}}getColumnBounds(r){const o=this.enableRtl,c=this.columnModel.getBodyContainerWidth(),p=r.getActualWidth(),y=r.getLeft(),S=o?-1:1,R=o?c-y:y;return{colLeft:R,colMiddle:R+p/2*S,colRight:R+p*S}}getViewportBounds(){const r=this.centerRowsCtrl.getCenterWidth(),o=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:o,end:r+o,width:r}}};P([$("ctrlsService")],nc.prototype,"ctrlsService",2),P([$("animationFrameService")],nc.prototype,"animationFrameService",2),P([$("paginationProxy")],nc.prototype,"paginationProxy",2),P([$("rowModel")],nc.prototype,"rowModel",2),P([$("rowContainerHeightService")],nc.prototype,"heightScaler",2),P([$("rowRenderer")],nc.prototype,"rowRenderer",2),P([$("columnModel")],nc.prototype,"columnModel",2),P([mt],nc.prototype,"postConstruct",1);var Ep="ag-force-vertical-scroll",Gl=class extends nn{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(r,o,c,p,y,S,R){this.comp=r,this.eGridBody=o,this.eBodyViewport=c,this.eTop=p,this.eBottom=y,this.eStickyTop=S,this.eStickyBottom=R,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",L=>this.setCellTextSelection(L.currentValue)),this.createManagedBean(new Ph(this.comp)),this.bodyScrollFeature=this.createManagedBean(new nc(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([p,c,y,S,R]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(p),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(r){r.forEach(o=>{this.addManagedListener(o,"focusin",c=>{const{target:p}=c,y=Ds(p,"ag-root",o);o.classList.toggle("ag-has-focus",!y)}),this.addManagedListener(o,"focusout",c=>{const{target:p,relatedTarget:y}=c,S=o.contains(y),R=Ds(y,"ag-root",o);Ds(p,"ag-root",o)||(!S||R)&&o.classList.remove("ag-has-focus")})})}setColumnMovingCss(r){this.comp.setColumnMovingCss("ag-column-moving",r)}setCellTextSelection(r=!1){this.comp.setCellSelectableCss("ag-selectable",r)}onScrollVisibilityChanged(){const r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r),this.setStickyWidth(r),this.setStickyBottomOffsetBottom();const p=`calc(100% + ${(r&&this.gos.getScrollbarWidth()||0)+(De()?16:0)}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(p))}onGridColumnsChanged(){const r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",r=>{if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const r=c=>{const p=c.relatedTarget;if(null===Xn(p))return void this.rowRenderer.stopEditing();let y=o.some(S=>S.contains(p))&&this.mouseEventService.isElementInThisGrid(p);if(!y){const S=this.popupService;y=S.getActivePopups().some(R=>R.contains(p))||S.isElementWithinCustomPopup(p)}y||this.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];o.forEach(c=>this.addManagedListener(c,"focusout",r))}updateRowCount(){const r=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),o=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1;this.comp.setRowCount(-1===o?-1:r+o)}registerBodyViewportResizeListener(r){this.comp.registerBodyViewportResizeListener(r)}setVerticalScrollPaddingVisible(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")}isVerticalScrollShowing(){const r=this.gos.get("alwaysShowVerticalScroll"),o=r?Ep:null,c=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(o,r),r||c&&gc(this.eBodyViewport)}setupRowAnimationCssClass(){const r=()=>{const o=this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching();this.comp.setRowAnimationCssOnBodyViewport(o?"ag-row-animation":"ag-row-no-animation",o)};r(),this.addManagedListener(this.eventService,ae.EVENT_HEIGHT_SCALE_CHANGED,r),this.addManagedPropertyListener("animateRows",r)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const r=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",r),this.mockContextMenuForIPad(r),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyWheel.bind(this)),this.addManagedListener(this.eStickyBottom,"wheel",this.onStickyWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const r=this.eBodyViewport.querySelector(".ag-full-width-container"),o=this.eBodyViewport.querySelector(".ag-center-cols-viewport");r&&o&&this.addManagedListener(r,"wheel",c=>this.onFullWidthContainerWheel(c,o))}onFullWidthContainerWheel(r,o){!r.deltaX||Math.abs(r.deltaY)>Math.abs(r.deltaX)||!this.mouseEventService.isEventFromThisGrid(r)||(r.preventDefault(),o.scrollBy({left:r.deltaX}))}onBodyViewportContextMenu(r,o,c){if(!r&&!c)return;this.gos.get("preventDefaultOnContextMenu")&&(r||c).preventDefault();const{target:p}=r||o;(p===this.eBodyViewport||p===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:r,touchEvent:c,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(r){if(!zo())return;const o=new Js(this.eBodyViewport);this.addManagedListener(o,Js.EVENT_LONG_TAP,p=>{r(void 0,p.touchStart,p.touchEvent)}),this.addDestroyFunc(()=>o.destroy())}onBodyViewportWheel(r){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&r.preventDefault()}onStickyWheel(r){r.preventDefault(),r.offsetY&&this.scrollVertically(r.deltaY)}getGui(){return this.eGridBody}scrollVertically(r){const o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+r),this.eBodyViewport.scrollTop-o}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Vl(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:r}=this;let o=r.getPinnedTopTotalHeight(),c=r.getPinnedBottomTotalHeight();this.comp.setTopHeight(o),this.comp.setBottomHeight(c),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(c?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(r=0){this.comp.setStickyTopHeight(`${r}px`),this.stickyTopHeight=r}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(r=0){this.comp.setStickyBottomHeight(`${r}px`),this.stickyBottomHeight=r}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(r){if(r){const o=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${o}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${o}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const o=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+this.filterManager.getHeaderHeight(),c=this.pinnedRowModel.getPinnedTopTotalHeight();let p=0;o>0&&(p+=o),c>0&&(p+=c),p>0&&(p+=1),this.comp.setStickyTopTop(`${p}px`)}setStickyBottomOffsetBottom(){const r=this.pinnedRowModel.getPinnedBottomTotalHeight(),c=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0;this.comp.setStickyBottomBottom(`${r+c}px`)}sizeColumnsToFit(r,o){const p=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,S=La(this.eGridBody)-p;S>0?this.columnModel.sizeColumnsToFit(S,"sizeColumnsToFit",!1,r):void 0===o?window.setTimeout(()=>{this.sizeColumnsToFit(r,100)},0):100===o?window.setTimeout(()=>{this.sizeColumnsToFit(r,500)},100):500===o?window.setTimeout(()=>{this.sizeColumnsToFit(r,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(r){this.eBodyViewport.addEventListener("scroll",r,{passive:!0})}removeScrollEventListener(r){this.eBodyViewport.removeEventListener("scroll",r)}};P([$("animationFrameService")],Gl.prototype,"animationFrameService",2),P([$("rowContainerHeightService")],Gl.prototype,"rowContainerHeightService",2),P([$("ctrlsService")],Gl.prototype,"ctrlsService",2),P([$("columnModel")],Gl.prototype,"columnModel",2),P([$("scrollVisibleService")],Gl.prototype,"scrollVisibleService",2),P([$("menuService")],Gl.prototype,"menuService",2),P([$("headerNavigationService")],Gl.prototype,"headerNavigationService",2),P([$("dragAndDropService")],Gl.prototype,"dragAndDropService",2),P([$("pinnedRowModel")],Gl.prototype,"pinnedRowModel",2),P([$("rowRenderer")],Gl.prototype,"rowRenderer",2),P([$("popupService")],Gl.prototype,"popupService",2),P([$("mouseEventService")],Gl.prototype,"mouseEventService",2),P([$("rowModel")],Gl.prototype,"rowModel",2),P([$("filterManager")],Gl.prototype,"filterManager",2);var oh="ag-cell-range-selected",Dl=class extends nn{constructor(r,o){super(),this.cellCtrl=r,this.beans=o,this.column=r.getColumn(),this.rowNode=r.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(r){this.eGui=r,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const r=this.column.getRowSpan(this.rowNode);this.rowSpan!==r&&(this.rowSpan=r,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const r=this.getColSpanningList();Ri(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const r=this.getCellWidth();this.eGui.style.width=`${r}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((r,o)=>r+o.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const r=this.column.getColSpan(this.rowNode),o=[];if(1===r)o.push(this.column);else{let c=this.column;const p=this.column.getPinned();for(let y=0;c&&y<r&&(o.push(c),c=this.beans.columnModel.getDisplayedColAfter(c),c&&!Ai(c)&&p===c.getPinned());y++);}return o}onLeftChanged(){if(!this.eGui)return;const r=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=r+"px"}getCellLeft(){let r;return r=this.beans.gos.get("enableRtl")&&this.colsSpanning?zt(this.colsSpanning):this.column,r.getLeft()}modifyLeftForPrintLayout(r){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return r;const o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===this.column.getPinned()?o+this.beans.columnModel.getBodyContainerWidth()+(r||0):o+(r||0)}applyRowSpan(r){if(1===this.rowSpan&&!r)return;const c=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${c}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},gf=class extends nn{constructor(r,o){super(),this.staticClasses=[],this.cellCtrl=r,this.beans=o,this.column=r.getColumn(),this.rowNode=r.getRowNode()}setComp(r){this.cellComp=r,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const r=this.column.getColDef(),{cellClassRules:o}=r,c=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:r,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(o===this.cellClassRules?void 0:this.cellClassRules,o,c,p=>this.cellComp.addOrRemoveCssClass(p,!0),p=>this.cellComp.addOrRemoveCssClass(p,!1)),this.cellClassRules=o}applyUserStyles(){const r=this.column.getColDef();if(!r.cellStyle)return;let o;if("function"==typeof r.cellStyle){const c=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});o=(0,r.cellStyle)(c)}else o=r.cellStyle;o&&this.cellComp.setUserStyles(o)}applyClassesFromColDef(){const r=this.column.getColDef(),o=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:r,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(c=>this.cellComp.addOrRemoveCssClass(c,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(r,o),this.staticClasses.length&&this.staticClasses.forEach(c=>this.cellComp.addOrRemoveCssClass(c,!0))}destroy(){super.destroy()}},Vr=class{postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gos.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};P([$("resizeObserverService")],Vr.prototype,"resizeObserverService",2),P([$("paginationProxy")],Vr.prototype,"paginationProxy",2),P([$("context")],Vr.prototype,"context",2),P([$("gridOptionsService")],Vr.prototype,"gos",2),P([$("environment")],Vr.prototype,"environment",2),P([$("rowRenderer")],Vr.prototype,"rowRenderer",2),P([$("valueService")],Vr.prototype,"valueService",2),P([$("eventService")],Vr.prototype,"eventService",2),P([$("columnModel")],Vr.prototype,"columnModel",2),P([$("headerNavigationService")],Vr.prototype,"headerNavigationService",2),P([$("navigationService")],Vr.prototype,"navigationService",2),P([$("columnAnimationService")],Vr.prototype,"columnAnimationService",2),P([$("focusService")],Vr.prototype,"focusService",2),P([$("popupService")],Vr.prototype,"popupService",2),P([$("stylingService")],Vr.prototype,"stylingService",2),P([$("columnHoverService")],Vr.prototype,"columnHoverService",2),P([$("userComponentFactory")],Vr.prototype,"userComponentFactory",2),P([$("userComponentRegistry")],Vr.prototype,"userComponentRegistry",2),P([$("animationFrameService")],Vr.prototype,"animationFrameService",2),P([$("dragService")],Vr.prototype,"dragService",2),P([$("dragAndDropService")],Vr.prototype,"dragAndDropService",2),P([$("sortController")],Vr.prototype,"sortController",2),P([$("filterManager")],Vr.prototype,"filterManager",2),P([$("rowContainerHeightService")],Vr.prototype,"rowContainerHeightService",2),P([$("frameworkOverrides")],Vr.prototype,"frameworkOverrides",2),P([$("cellPositionUtils")],Vr.prototype,"cellPositionUtils",2),P([$("rowPositionUtils")],Vr.prototype,"rowPositionUtils",2),P([$("selectionService")],Vr.prototype,"selectionService",2),P([$("rowCssClassCalculator")],Vr.prototype,"rowCssClassCalculator",2),P([$("rowModel")],Vr.prototype,"rowModel",2),P([$("ctrlsService")],Vr.prototype,"ctrlsService",2),P([$("ctrlsFactory")],Vr.prototype,"ctrlsFactory",2),P([$("agStackComponentsRegistry")],Vr.prototype,"agStackComponentsRegistry",2),P([$("valueCache")],Vr.prototype,"valueCache",2),P([$("rowNodeEventThrottle")],Vr.prototype,"rowNodeEventThrottle",2),P([$("localeService")],Vr.prototype,"localeService",2),P([$("syncService")],Vr.prototype,"syncService",2),P([$("ariaAnnouncementService")],Vr.prototype,"ariaAnnouncementService",2),P([Kt("rangeService")],Vr.prototype,"rangeService",2),P([Kt("selectionHandleFactory")],Vr.prototype,"selectionHandleFactory",2),P([mt],Vr.prototype,"postConstruct",1),Vr=P([It("beans")],Vr);var Pm=class extends Vr{constructor(r,o,c){super(),this.cellCtrl=r,this.beans=o,this.column=c}onMouseEvent(r,o){if(!Yn(o))switch(r){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o)}}onCellClicked(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();const{eventService:o,rangeService:c,gos:p}=this.beans;c&&(r.ctrlKey||r.metaKey)&&c.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&c.intersectLastRange(!0);const S=this.cellCtrl.createEvent(r,ae.EVENT_CELL_CLICKED);o.dispatchEvent(S);const R=this.column.getColDef();R.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{R.onCellClicked(S)})},0),(p.get("singleClickEdit")||R.singleClickEdit)&&!p.get("suppressClickEdit")&&(!r.shiftKey||0==c?.getCellRanges().length)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!zo()||Fn("dblclick"))return!1;const r=(new Date).getTime(),o=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,o}onCellDoubleClicked(r){const o=this.column.getColDef(),c=this.cellCtrl.createEvent(r,ae.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(c),"function"==typeof o.onCellDoubleClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellDoubleClicked(c)})},0),!this.beans.gos.get("singleClickEdit")&&!this.beans.gos.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,r)}onMouseDown(r){const{ctrlKey:o,metaKey:c,shiftKey:p}=r,y=r.target,{cellCtrl:S,beans:R}=this,{eventService:L,rangeService:Q,focusService:be}=R;if(this.isRightClickInExistingRange(r))return;const Ie=Q&&0!=Q.getCellRanges().length;if(!p||!Ie){const Je=_o()&&!S.isEditing()&&!Oa(y);S.focusCell(Je)}if(p&&Ie&&!be.isCellFocused(S.getCellPosition())){r.preventDefault();const Je=be.getFocusedCell();if(Je){const{column:Bt,rowIndex:Ei,rowPinned:Li}=Je,Wi=R.rowRenderer.getRowByPosition({rowIndex:Ei,rowPinned:Li}),Vi=Wi?.getCellCtrl(Bt);Vi?.isEditing()&&Vi.stopEditing(),be.setFocusedCell({column:Bt,rowIndex:Ei,rowPinned:Li,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(y)){if(Q){const Je=this.cellCtrl.getCellPosition();p?Q.extendLatestRangeToCell(Je):Q.setRangeToCell(Je,o||c)}L.dispatchEvent(this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(r){const{rangeService:o}=this.beans;if(o){const c=o.isCellInAnyRange(this.cellCtrl.getCellPosition()),p=2===r.button||r.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(c&&p)return!0}return!1}containsWidget(r){return Ds(r,"ag-selection-checkbox",3)}onMouseOut(r){if(this.mouseStayingInsideCell(r))return;const o=this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.clearMouseOver()}onMouseOver(r){if(this.mouseStayingInsideCell(r))return;const o=this.cellCtrl.createEvent(r,ae.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(r){if(!r.target||!r.relatedTarget)return!1;const o=this.cellCtrl.getGui(),c=o.contains(r.target),p=o.contains(r.relatedTarget);return c&&p}destroy(){}},sh=class extends nn{constructor(r,o,c,p,y){super(),this.cellCtrl=r,this.beans=o,this.rowNode=p,this.rowCtrl=y}setComp(r){this.eGui=r}onKeyDown(r){const o=r.key;switch(o){case xi.ENTER:this.onEnterKeyDown(r);break;case xi.F2:this.onF2KeyDown(r);break;case xi.ESCAPE:this.onEscapeKeyDown(r);break;case xi.TAB:this.onTabKeyDown(r);break;case xi.BACKSPACE:case xi.DELETE:this.onBackspaceOrDeleteKeyDown(o,r);break;case xi.DOWN:case xi.UP:case xi.RIGHT:case xi.LEFT:this.onNavigationKeyDown(r,o)}}onNavigationKeyDown(r,o){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(r):this.beans.navigationService.navigateToNextCell(r,o,this.cellCtrl.getCellPosition(),!0),r.preventDefault())}onShiftRangeSelect(r){if(!this.beans.rangeService)return;const o=this.beans.rangeService.extendLatestRangeInDirection(r);o&&this.beans.navigationService.ensureCellVisible(o)}onTabKeyDown(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)}onBackspaceOrDeleteKeyDown(r,o){var c;const{cellCtrl:p,beans:y,rowNode:S}=this,{gos:R,rangeService:L,eventService:Q}=y;if(!p.isEditing()){if(Q.dispatchEvent({type:ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),Ya(r,R.get("enableCellEditingOnBackspace"))){if(L&&R.get("enableRangeSelection"))L.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(p.isCellEditable()){const be=p.getColumn(),Ie=null!=(c=this.beans.valueService.parseValue(be,S,"",S.getValueFromValueService(be)))?c:null;S.setDataValue(be,Ie,"cellClear")}}else p.startRowOrCellEdit(r,o);Q.dispatchEvent({type:ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})}}onEnterKeyDown(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus(!1,r.shiftKey):this.beans.gos.get("enterNavigatesVertically")?this.beans.navigationService.navigateToNextCell(null,r.shiftKey?xi.UP:xi.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(xi.ENTER,r),this.cellCtrl.isEditing()&&r.preventDefault())}onF2KeyDown(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(xi.F2,r)}onEscapeKeyDown(r){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(r){if(r.target!==this.eGui||this.cellCtrl.isEditing())return;const p=r.key;" "===p?this.onSpaceKeyDown(r):(this.cellCtrl.startRowOrCellEdit(p,r),r.preventDefault())}onSpaceKeyDown(r){const{gos:o}=this.beans;if(!this.cellCtrl.isEditing()&&o.isRowSelection()){const c=this.rowNode.isSelected(),p=!c;if(p||!o.get("suppressRowDeselection")){const y=this.beans.gos.get("groupSelectsFiltered"),S=this.rowNode.setSelectedParams({newValue:p,rangeSelect:r.shiftKey,groupSelectsFiltered:y,event:r,source:"spaceKey"});void 0===c&&0===S&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:y,event:r,source:"spaceKey"})}}r.preventDefault()}destroy(){super.destroy()}},Gc=class extends _n{constructor(r,o,c){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=r,this.column=o,this.eCell=c}postConstruct(){this.getGui().appendChild(jn("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",o=>{o.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(r){const o=this.column.getColDef().dndSourceOnRowDrag;r.dataTransfer.setDragImage(this.eCell,0,0),o?o(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:r})):(()=>{try{const p=JSON.stringify(this.rowNode.data);r.dataTransfer.setData("application/json",p),r.dataTransfer.setData("text/plain",p)}catch{}})()}checkVisibility(){const r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)}};P([mt],Gc.prototype,"postConstruct",1);var El=class{static getHeaderClassesFromColDef(r,o,c,p){return Ai(r)?[]:this.getColumnClassesFromCollDef(r.headerClass,r,o,c,p)}static getToolPanelClassesFromColDef(r,o,c,p){return Ai(r)?[]:this.getColumnClassesFromCollDef(r.toolPanelClass,r,o,c,p)}static refreshFirstAndLastStyles(r,o,c){r.addOrRemoveCssClass("ag-column-first",c.isColumnAtEdge(o,"first")),r.addOrRemoveCssClass("ag-column-last",c.isColumnAtEdge(o,"last"))}static getClassParams(r,o,c,p){return o.addGridCommonParams({colDef:r,column:c,columnGroup:p})}static getColumnClassesFromCollDef(r,o,c,p,y){if(Ai(r))return[];let S;return S="function"==typeof r?r(this.getClassParams(o,c,p,y)):r,"string"==typeof S?[S]:Array.isArray(S)?[...S]:[]}},gy=0,vf=class rF extends nn{constructor(o,c,p,y){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=o,this.rowNode=c,this.beans=p,this.rowCtrl=y,this.instanceId=o.getId()+"-"+gy++,this.colIdSanitised=ho(this.column.getId()),p.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new Dl(this,this.beans),this.addDestroyFunc(()=>{var c;null==(c=this.cellPositionFeature)||c.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new gf(this,this.beans),this.addDestroyFunc(()=>{var c;null==(c=this.cellCustomStyleFeature)||c.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new Pm(this,this.beans,this.column),this.addDestroyFunc(()=>{var c;null==(c=this.cellMouseListenerFeature)||c.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new sh(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var c;null==(c=this.cellKeyboardListenerFeature)||c.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new class{constructor(r,o){this.beans=r,this.rangeService=r.rangeService,this.selectionHandleFactory=r.selectionHandleFactory,this.cellCtrl=o}setComp(r,o){this.cellComp=r,this.eGui=o,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(oh,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${oh}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${oh}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${oh}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${oh}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),ws(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const r=this.getRangeBorders(),o=this.isSingleCell(),p=!o&&r.right,y=!o&&r.bottom,S=!o&&r.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!o&&r.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",p),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",y),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",S)}isSingleCell(){const{rangeService:r}=this.beans;return 1===this.rangeCount&&!!r&&!r.isMoreThanOneCell()}getHasChartRange(){const{rangeService:r}=this.beans;if(!this.rangeCount||!r)return!1;const o=r.getCellRanges();return o.length>0&&o.every(c=>ai([1,0],c.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const r=this.beans.gos.get("enableRtl");let o=!1,c=!1,p=!1,y=!1;const S=this.cellCtrl.getCellPosition().column,R=this.beans.columnModel;let L,Q;r?(L=R.getDisplayedColAfter(S),Q=R.getDisplayedColBefore(S)):(L=R.getDisplayedColBefore(S),Q=R.getDisplayedColAfter(S));const be=this.rangeService.getCellRanges().filter(Ie=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),Ie));L||(y=!0),Q||(c=!0);for(let Ie=0;Ie<be.length&&!(o&&c&&p&&y);Ie++){const Je=be[Ie],Bt=this.rangeService.getRangeStartRow(Je),Ei=this.rangeService.getRangeEndRow(Je);!o&&this.beans.rowPositionUtils.sameRow(Bt,this.cellCtrl.getCellPosition())&&(o=!0),!p&&this.beans.rowPositionUtils.sameRow(Ei,this.cellCtrl.getCellPosition())&&(p=!0),!y&&L&&Je.columns.indexOf(L)<0&&(y=!0),!c&&Q&&Je.columns.indexOf(Q)<0&&(c=!0)}return{top:o,right:c,bottom:p,left:y}}refreshHandle(){if(this.beans.context.isDestroyed())return;const r=this.shouldHaveSelectionHandle();this.selectionHandle&&!r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),r&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const r=this.beans.gos,o=this.rangeService.getCellRanges(),c=o.length;if(this.rangeCount<1||c<1)return!1;const p=zt(o),y=this.cellCtrl.getCellPosition(),S=r.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),R=r.get("enableRangeHandle");let L=1===c&&!this.cellCtrl.isEditing()&&(S||R);if(this.hasChartRange){const be=1===o[0].type&&this.rangeService.isCellInSpecificRange(y,o[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",be),L=0===p.type}return L&&null!=p.endRow&&this.rangeService.isContiguousRange(p)&&this.rangeService.isBottomRightCell(p,y)}addSelectionHandle(){const r=this.beans.gos,o=zt(this.rangeService.getCellRanges()).type,p=r.get("enableFillHandle")&&Ai(o)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==p&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(p)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}}(this.beans,this),this.addDestroyFunc(()=>{var c;null==(c=this.cellRangeFeature)||c.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(o,c){const y="whenTruncated"===this.beans.gos.get("tooltipShowMode");!c&&y&&!this.isCellRenderer()&&(c=()=>{const R=this.getGui(),L=0===R.children.length?R:R.querySelector(".ag-cell-value");return!L||L.scrollWidth>L.clientWidth}),this.tooltipFeature=new Dn({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=o?()=>o:()=>{const R=this.column.getColDef(),L=this.rowNode.data;if(R.tooltipField&&pt(L))return Qt(L,R.tooltipField,this.column.isTooltipFieldContainsDots());const Q=R.tooltipValueGetter;return Q?Q(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:c},this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(o,c,p,y,S){var R,L,Q,be;this.cellComp=o,this.eGui=c,this.printLayout=y,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(p),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),null==(R=this.cellPositionFeature)||R.setComp(c),null==(L=this.cellCustomStyleFeature)||L.setComp(o),null==(Q=this.tooltipFeature)||Q.refreshToolTip(),null==(be=this.cellKeyboardListenerFeature)||be.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(o,c),S&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(Ie=>Ie()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(o){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!o)return;const c=o.parentElement,p=this.beans.gos.getRowHeightForNode(this.rowNode).height,y=L=>{if(this.editing||!this.isAlive())return;const{paddingTop:Q,paddingBottom:be,borderBottomWidth:Ie,borderTopWidth:Je}=ra(c),Li=o.offsetHeight+(Q+be+Ie+Je);if(L<5){const Vi=this.beans.gos.getDocument();if(!Vi||!Vi.contains(o)||0==Li)return void window.setTimeout(()=>y(L+1),0)}const Wi=Math.max(Li,p);this.rowNode.setRowAutoHeight(Wi,this.column)},S=()=>y(0);S();const R=this.beans.resizeObserverService.observeResize(o,S);this.addDestroyFunc(()=>{R(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var o;return null!=(o=this.column.getColDef().cellAriaRole)?o:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const o=this.column.getColDef();return null!=o.cellRenderer||null!=o.cellRendererSelector}getValueToDisplay(){var o;return null!=(o=this.valueFormatted)?o:this.value}showValue(o=!1){var c;const p=this.getValueToDisplay();let y;if(this.rowNode.stub){const S=this.createCellRendererParams();y=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),S)}else if(this.isCellRenderer()){const S=this.createCellRendererParams();y=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),S)}this.cellComp.setRenderDetails(y,p,o),null==(c=this.cellRangeFeature)||c.refreshHandle()}setupControlComps(){const o=this.column.getColDef();this.includeSelection=this.isIncludeControl(o.checkboxSelection),this.includeRowDrag=this.isIncludeControl(o.rowDrag),this.includeDndSource=this.isIncludeControl(o.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(o){return null==this.rowNode.rowPinned&&("function"==typeof o||!0===o)}refreshShouldDestroy(){const o=this.column.getColDef(),c=this.includeSelection!=this.isIncludeControl(o.checkboxSelection),p=this.includeRowDrag!=this.isIncludeControl(o.rowDrag),y=this.includeDndSource!=this.isIncludeControl(o.dndSource),S=this.isAutoHeight!=this.column.isAutoHeight();return c||p||y||S}startEditing(o=null,c=!1,p=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp)return void this.onCellCompAttachedFuncs.push(()=>{this.startEditing(o,c,p)});const y=this.createCellEditorParams(o,c),S=this.column.getColDef(),R=this.beans.userComponentFactory.getCellEditorDetails(S,y);this.editCompDetails=R;const L=null!=R?.popupFromSelector?R.popupFromSelector:!!S.cellEditorPopup,Q=null!=R?.popupPositionFromSelector?R.popupPositionFromSelector:S.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(R,L,Q,this.beans.gos.get("reactiveCustomComponents"));const be=this.createEvent(p,ae.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(be)}setEditing(o){var c;this.editing!==o&&(this.editing=o,null==(c=this.cellRangeFeature)||c.refreshHandle())}stopRowOrCellEdit(o=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(o):this.stopEditing(o)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(o){const c={newValueExists:!1};if(o)return c;const p=this.cellComp.getCellEditor();return!p||p.isCancelAfterEnd&&p.isCancelAfterEnd()?c:{newValue:p.getValue(),newValueExists:!0}}saveNewValue(o,c){if(c===o)return!1;this.suppressRefreshCell=!0;const p=this.rowNode.setDataValue(this.column,c,"edit");return this.suppressRefreshCell=!1,p}stopEditing(o=!1){if(!this.editing)return!1;const{newValue:c,newValueExists:p}=this.takeValueFromCellEditor(o),y=this.rowNode.getValueFromValueService(this.column);let S=!1;return p&&(S=this.saveNewValue(y,c)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(y,c,!o&&!!S),S}dispatchEditingStoppedEvent(o,c,p){const y=Ce(ee({},this.createEvent(null,ae.EVENT_CELL_EDITING_STOPPED)),{oldValue:o,newValue:c,valueChanged:p});this.beans.eventService.dispatchEvent(y)}createCellEditorParams(o,c){return this.beans.gos.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:o,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:c,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:c=>this.beans.valueService.setValue(this.rowNode,this.column,c),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(c,p,y,S)=>this.registerRowDragger(c,p,S),setTooltip:(c,p)=>{var y;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(c,p),null==(y=this.tooltipFeature)||y.refreshToolTip()}})}parseValue(o){return this.beans.valueService.parseValue(this.column,this.rowNode,o,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const o=this.cellComp.getCellEditor();o&&o.focusOut&&o.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const o=this.cellComp.getCellEditor();o&&o.focusIn?o.focusIn():this.focusCell(!0)}onCellChanged(o){o.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(o){var c;this.refreshShouldDestroy()?null==(c=this.rowCtrl)||c.recreateCell(this):this.refreshCell(o)}refreshCell(o){var c,p,y,S;if(this.suppressRefreshCell||this.editing)return;const R=this.column.getColDef(),L=null!=o&&!!o.newData,Q=null!=o&&!!o.suppressFlash||!!R.suppressCellFlash,Ie=o&&o.forceRefresh||null==R.field&&null==R.valueGetter&&null==R.showRowGroup||L,Je=!!this.cellComp,Bt=this.updateAndFormatValue(Je);if(Je){if(Ie||Bt){this.showValue(L);const Li=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!Q&&!Li&&(this.beans.gos.get("enableCellChangeFlash")||R.enableCellChangeFlash)&&this.flashCell(),null==(c=this.cellCustomStyleFeature)||c.applyUserStyles(),null==(p=this.cellCustomStyleFeature)||p.applyClassesFromColDef()}null==(y=this.tooltipFeature)||y.refreshToolTip(),null==(S=this.cellCustomStyleFeature)||S.applyCellClassRules()}}stopEditingAndFocus(o=!1,c=!1){this.stopRowOrCellEdit(),this.focusCell(!0),o||this.navigateAfterEdit(c)}navigateAfterEdit(o){this.beans.gos.get("enterNavigatesVerticallyAfterEdit")&&this.beans.navigationService.navigateToNextCell(null,o?xi.UP:xi.DOWN,this.getCellPosition(),!1)}flashCell(o){var c,p;const y=null!=(c=o?.flashDuration)?c:o?.flashDelay,S=null!=(p=o?.fadeDuration)?p:o?.fadeDelay;this.animateCell("data-changed",y,S)}animateCell(o,c,p){if(!this.cellComp)return;const y=`ag-cell-${o}`,S=`ag-cell-${o}-animation`,{gos:R}=this.beans;c||(c=R.get("cellFlashDuration")),pt(p)||(p=R.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(y,!0),this.cellComp.addOrRemoveCssClass(S,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(y,!1),this.cellComp.addOrRemoveCssClass(S,!0),this.eGui.style.transition=`background-color ${p}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(S,!1),this.eGui.style.transition="")},p))},c)})}onFlashCells(o){if(!this.cellComp)return;const c=this.beans.cellPositionUtils.createId(this.getCellPosition());o.cells[c]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(o){var c;return null!=(c=this.callValueFormatter(o))?c:o}callValueFormatter(o){return this.beans.valueService.formatValue(this.column,this.rowNode,o)}updateAndFormatValue(o){const c=this.value,p=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!o||!this.valuesAreEqual(c,this.value)||this.valueFormatted!=p}valuesAreEqual(o,c){const p=this.column.getColDef();return p.equals?p.equals(o,c):o===c}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const o=this.getGui();this.beans.gos.setDomData(o,rF.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(o,rF.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(o,c){return this.beans.gos.addGridCommonParams({type:c,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:o,rowIndex:this.rowNode.rowIndex})}processCharacter(o){var c;null==(c=this.cellKeyboardListenerFeature)||c.processCharacter(o)}onKeyDown(o){var c;null==(c=this.cellKeyboardListenerFeature)||c.onKeyDown(o)}onMouseEvent(o,c){var p;null==(p=this.cellMouseListenerFeature)||p.onMouseEvent(o,c)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var o;this.cellComp&&(null==(o=this.cellPositionFeature)||o.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:o,column:c,beans:p}=this;El.refreshFirstAndLastStyles(o,c,p.columnModel)}refreshAriaColIndex(){const o=this.beans.columnModel.getAriaColumnIndex(this.column);Ho(this.getGui(),o)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var o;return null==(o=this.cellPositionFeature)?void 0:o.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(o,c=null){this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(o,this):this.startEditing(o,!0,c):this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(o,c)})}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(o=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:o})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const o=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",o)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const o=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",o)}onCellFocused(o){if(this.beans.gos.get("suppressCellFocus"))return;const c=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(c&&o?.forceBrowserFocus&&(this.focusEventToRestore=o));this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",c),c&&o&&o.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!o.preventScrollOnBrowserFocus});const p="fullRow"===this.beans.gos.get("editType");!c&&!p&&this.editing&&this.stopRowOrCellEdit(),c&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:qt(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const o=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",o),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!o)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const o=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",o)}onColDefChanged(){if(this.cellComp)if(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing){const c=this.getCellEditor();if(c?.refresh){const{eventKey:p,cellStartedEdit:y}=this.editCompDetails.params,S=this.createCellEditorParams(p,y),R=this.column.getColDef(),L=this.beans.userComponentFactory.getCellEditorDetails(R,S);c.refresh(L.params)}}else this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const o=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",o)}dispatchCellContextMenuEvent(o){const c=this.column.getColDef(),p=this.createEvent(o,ae.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(p),c.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{c.onCellContextMenu(p)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const o=new Yd;return this.beans.context.createBean(o),o.init({rowNode:this.rowNode,column:this.column}),o}createDndSource(){const o=new Gc(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(o),o}registerRowDragger(o,c,p){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(o,c);const y=this.createRowDragComp(o,c,p);y&&(this.customRowDragComp=y,this.addDestroyFunc(()=>{this.beans.context.destroyBean(y),this.customRowDragComp=null}))}createRowDragComp(o,c,p){const y=this.beans.gos.get("pagination"),S=this.beans.gos.get("rowDragManaged"),R=this.beans.gos.isRowModelType("clientSide");if(S){if(!R)return void Zt("managed row dragging is only allowed in the Client Side Row Model");if(y)return void Zt("managed row dragging is not possible when doing pagination")}const L=new Lc(()=>this.value,this.rowNode,this.column,o,c,p);return this.beans.context.createBean(L),L}};vf.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Jd=vf,km=0,_g=class oF extends nn{constructor(o,c,p,y,S){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=c,this.gos=c.gos,this.rowNode=o,this.paginationPage=c.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=y,this.printLayout=S,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=o.id+"-"+km++,this.rowId=ho(o.id),this.initRowBusinessKey(),this.rowFocused=c.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=c.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(p),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const o=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=ho(o)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}setComp(o,c,p){const y={rowComp:o,element:c,containerType:p};this.allRowGuis.push(y),"left"===p?this.leftGui=y:"right"===p?this.rightGui=y:"fullWidth"===p?this.fullWidthGui=y:this.centerGui=y,this.initialiseRowComp(y),"FullWidthLoading"!==this.rowType&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(o){switch(this.allRowGuis=this.allRowGuis.filter(c=>c.containerType!==o),o){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0}}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(o){const c=o?"none":"";this.allRowGuis.forEach(p=>p.element.style.display=c)}initialiseRowComp(o){const c=this.gos;this.listenOnDomOrder(o),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(o),this.updateRowIndexes(o),this.setFocusedClasses(o),this.setStylesFromGridOptions(!1,o),c.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(o),this.updateColumnLists(!this.useAnimationFrameForCreate);const p=o.rowComp;this.getInitialRowClasses(o.containerType).forEach(S=>p.addOrRemoveCssClass(S,!0)),this.executeSlideAndFadeAnimations(o),this.rowNode.group&&gs(o.element,1==this.rowNode.expanded),this.setRowCompRowId(p),this.setRowCompRowBusinessKey(p),c.setDomData(o.element,oF.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>c.setDomData(o.element,oF.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,o.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(o.element),this.isFullWidth()&&this.setupFullWidth(o),c.get("rowDragEntireRow")&&this.addRowDraggerToRow(o),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&o.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(o){null!=this.businessKeySanitised&&o.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(o){this.rowId=ho(this.rowNode.id),null!=this.rowId&&o.setRowId(this.rowId)}executeSlideAndFadeAnimations(o){const{containerType:c}=o;this.slideInAnimation[c]&&(ft(()=>{this.onTopChanged()}),this.slideInAnimation[c]=!1),this.fadeInAnimation[c]&&(ft(()=>{o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[c]=!1)}addRowDraggerToRow(o){if(this.gos.get("enableRangeSelection"))return void Zt("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const c=this.beans.localeService.getLocaleTextFunc(),p=new Lc(()=>`1 ${c("rowDragRow","row")}`,this.rowNode,void 0,o.element,void 0,!0),y=this.createBean(p,this.beans.context);this.rowDragComps.push(y)}setupFullWidth(o){const c=this.getPinnedForContainer(o.containerType);if("FullWidthDetail"==this.rowType&&!Sn.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const p=this.createFullWidthCompDetails(o.element,c);o.rowComp.showFullWidth(p)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var o,c;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(p=>{var y;return null==(y=p?.rowComp)?void 0:y.getFullWidthCellRenderer()}):[null==(c=null==(o=this.fullWidthGui)?void 0:o.rowComp)?void 0:c.getFullWidthCellRenderer()]}getCellElement(o){const c=this.getCellCtrl(o);return c?c.getGui():null}executeProcessRowPostCreateFunc(){const o=this.gos.getCallback("processRowPostCreate");o&&this.areAllContainersReady()&&o({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const o=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),c=!!this.centerGui,p=!!this.rightGui||!this.beans.columnModel.isPinningRight();return o&&c&&p}setRowType(){const o=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),c=this.rowNode.isFullWidthCell(),p=this.gos.get("masterDetail")&&this.rowNode.detail,y=this.beans.columnModel.isPivotMode(),R=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(y);this.rowType=o?"FullWidthLoading":p?"FullWidthDetail":c?"FullWidth":R?"FullWidthGroup":"Normal"}updateColumnLists(o=!1,c=!1){this.isFullWidth()||(o||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(c):this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0))}createCellCtrls(o,c,p=null){const y={list:[],map:{}},S=(R,L)=>{y.list.push(L),y.map[R]=L};return c.forEach(R=>{const L=R.getInstanceId();let Q=o.map[L];Q||(Q=new Jd(R,this.rowNode,this.beans,this)),S(L,Q)}),o.list.forEach(R=>{null==y.map[R.getColumn().getInstanceId()]&&(this.isCellEligibleToBeRemoved(R,p)?R.destroy():S(R.getColumn().getInstanceId(),R))}),y}updateColumnListsImpl(o){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(o)}setCellCtrls(o){this.allRowGuis.forEach(c=>{const p=this.getCellCtrlsForContainer(c.containerType);c.rowComp.setCellCtrls(p,o)})}getCellCtrlsForContainer(o){switch(o){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:throw new Error(`Unhandled case: ${o}`)}}createAllCellCtrls(){const o=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const c=o.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);const p=o.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,p,"left");const y=o.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,y,"right")}}isCellEligibleToBeRemoved(o,c){if(o.getColumn().getPinned()!=c)return!0;const R=o.isEditing(),L=this.beans.focusService.isCellFocused(o.getCellPosition());if(R||L){const be=o.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(be)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(o){const c=()=>{o.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",c),this.addManagedPropertyListener("ensureDomOrder",c)}setAnimateFlags(o){if(this.isSticky()||!o)return;const c=pt(this.rowNode.oldRowTop),p=this.beans.columnModel.isPinningLeft(),y=this.beans.columnModel.isPinningRight();if(c){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=p,this.slideInAnimation.right=y}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=p,this.fadeInAnimation.right=y}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const o=(L,Q)=>!L||L.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(L.element,Q).params),c=o(this.fullWidthGui,null),p=o(this.centerGui,null),y=o(this.leftGui,"left"),S=o(this.rightGui,"right");return c&&p&&y&&S}addListeners(){this.addManagedListener(this.rowNode,Xr.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,Xr.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,Xr.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,Xr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,Xr.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const o=this.beans.eventService;this.addManagedListener(o,ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(o,ae.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(o,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(o,ae.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(o,ae.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(o,ae.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(o,ae.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(o,ae.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(o,ae.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach(p=>{this.addRowDraggerToRow(p)}):(this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[])}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,Xr.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(o=>o.onRowIndexChanged())}),this.addManagedListener(this.rowNode,Xr.EVENT_CELL_CHANGED,o=>{this.getAllCellCtrls().forEach(c=>c.onCellChanged(o))})}onRowNodeDataChanged(o){this.isFullWidth()===!!this.rowNode.isFullWidthCell()?this.isFullWidth()?this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode):(this.getAllCellCtrls().forEach(p=>p.refreshCell({suppressFlash:!o.update,newData:!o.update})),this.allRowGuis.forEach(p=>{this.setRowCompRowId(p.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(p.rowComp)}),this.onRowSelected(),this.postProcessCss()):this.beans.rowRenderer.redrawRow(this.rowNode)}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const o=this.rowNode.highlighted;this.allRowGuis.forEach(c=>{const y=1===o;c.rowComp.addOrRemoveCssClass("ag-row-highlight-above",0===o),c.rowComp.addOrRemoveCssClass("ag-row-highlight-below",y)})}postProcessRowDragging(){const o=this.rowNode.dragging;this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass("ag-row-dragging",o))}updateExpandedCss(){const o=this.rowNode.isExpandable(),c=1==this.rowNode.expanded;this.allRowGuis.forEach(p=>{p.rowComp.addOrRemoveCssClass("ag-row-group",o),p.rowComp.addOrRemoveCssClass("ag-row-group-expanded",o&&c),p.rowComp.addOrRemoveCssClass("ag-row-group-contracted",o&&!c),gs(p.element,o&&c)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:qt(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(o){const c=this.allRowGuis.find(Q=>Q.element.contains(o.target));if((c?c.element:null)!==o.target)return;const S=this.rowNode,R=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(o,o.key,{rowIndex:S.rowIndex,rowPinned:S.rowPinned,column:R&&R.column},!0),o.preventDefault()}onTabKeyDown(o){if(o.defaultPrevented||Yn(o))return;const c=this.allRowGuis.find(R=>R.element.contains(o.target)),p=c?c.element:null,y=p===o.target;let S=null;y||(S=this.beans.focusService.findNextFocusableElement(p,!1,o.shiftKey)),(this.isFullWidth()&&y||!S)&&this.beans.navigationService.onTabKeyDown(this,o)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var o;const c=null==(o=this.allRowGuis.find(p=>bo(p.element)))?void 0:o.element;return c?c.getBoundingClientRect().top:0}onFullWidthRowFocused(o){var c;const p=this.rowNode,y=!!o&&this.isFullWidth()&&o.rowIndex===p.rowIndex&&o.rowPinned==p.rowPinned,S=this.fullWidthGui?this.fullWidthGui.element:null==(c=this.centerGui)?void 0:c.element;S&&(S.classList.toggle("ag-full-width-focus",y),y&&S.focus({preventScroll:!0}))}recreateCell(o){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,o),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,o),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,o),o.destroy(),this.updateColumnLists()}removeCellCtrl(o,c){const p={list:[],map:{}};return o.list.forEach(y=>{y!==c&&(p.list.push(y),p.map[y.getColumn().getInstanceId()]=y)}),p}onMouseEvent(o,c){switch(o){case"dblclick":this.onRowDblClick(c);break;case"click":this.onRowClick(c);break;case"touchstart":case"mousedown":this.onRowMouseDown(c)}}createRowEvent(o,c){return this.gos.addGridCommonParams({type:o,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:c})}createRowEventWithSource(o,c){const p=this.createRowEvent(o,c);return p.source=this,p}onRowDblClick(o){if(Yn(o))return;const c=this.createRowEventWithSource(ae.EVENT_ROW_DOUBLE_CLICKED,o);this.beans.eventService.dispatchEvent(c)}onRowMouseDown(o){if(this.lastMouseDownOnDragger=Ds(o.target,"ag-row-drag",3),!this.isFullWidth())return;const c=this.rowNode,p=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:c.rowIndex,column:p.getAllDisplayedColumns()[0],rowPinned:c.rowPinned,forceBrowserFocus:!0})}onRowClick(o){if(Yn(o)||this.lastMouseDownOnDragger)return;const p=this.createRowEventWithSource(ae.EVENT_ROW_CLICKED,o);this.beans.eventService.dispatchEvent(p);const y=o.ctrlKey||o.metaKey,S=o.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const L=this.gos.get("rowMultiSelectWithClick"),Q=!this.gos.get("suppressRowDeselection"),be="rowClicked";this.rowNode.isSelected()?L?this.rowNode.setSelectedParams({newValue:!1,event:o,source:be}):y?Q&&this.rowNode.setSelectedParams({newValue:!1,event:o,source:be}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!S,rangeSelect:S,event:o,source:be}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!L&&!y,rangeSelect:S,event:o,source:be})}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(o){if("FullWidthDetail"!==this.rowType||!this.gos.get("detailRowAutoHeight"))return;const c=()=>{const y=o.clientHeight;null!=y&&y>0&&window.setTimeout(()=>{this.rowNode.setRowHeight(y),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()},0)},p=this.beans.resizeObserverService.observeResize(o,c);this.addDestroyFunc(p),c()}createFullWidthCompDetails(o,c){const p=this.gos.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:o,eParentOfValue:o,pinned:c,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(y,S,R,L)=>this.addFullWidthRowDragging(y,S,R,L),setTooltip:(y,S)=>this.refreshRowTooltip(y,S)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(p);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(p);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(p);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(p)}}refreshRowTooltip(o,c){if(!this.fullWidthGui)return;const p={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>o,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:c};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Dn(p,this.beans))}addFullWidthRowDragging(o,c,p="",y){if(!this.isFullWidth())return;const S=new Lc(()=>p,this.rowNode,void 0,o,c,y);this.createBean(S,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(S,this.beans.context)})}onUiLevelChanged(){const o=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=o){const c="ag-row-level-"+o,p="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(y=>{y.rowComp.addOrRemoveCssClass(c,!0),y.rowComp.addOrRemoveCssClass(p,!1)})}this.rowLevel=o}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const o=this.isFirstRowOnPage(),c=this.isLastRowOnPage();this.firstRowOnPage!==o&&(this.firstRowOnPage=o,this.allRowGuis.forEach(p=>p.rowComp.addOrRemoveCssClass("ag-row-first",o))),this.lastRowOnPage!==c&&(this.lastRowOnPage=c,this.allRowGuis.forEach(p=>p.rowComp.addOrRemoveCssClass("ag-row-last",c)))}stopEditing(o=!1){if(this.stoppingRowEdit)return;const c=this.getAllCellCtrls(),p=this.editingRow;this.stoppingRowEdit=!0;let y=!1;for(const S of c){const R=S.stopEditing(o);p&&!o&&!y&&R&&(y=!0)}if(y){const S=this.createRowEvent(ae.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(S)}p&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(o){this.allRowGuis.forEach(c=>{c.rowComp.addOrRemoveCssClass("ag-row-inline-editing",o),c.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!o)})}setEditingRow(o){this.editingRow=o,this.allRowGuis.forEach(p=>p.rowComp.addOrRemoveCssClass("ag-row-editing",o));const c=this.createRowEvent(o?ae.EVENT_ROW_EDITING_STARTED:ae.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(c)}startRowEditing(o=null,c=null,p=null){this.editingRow||this.getAllCellCtrls().reduce((S,R)=>{const L=R===c;return R.startEditing(L?o:null,L,p),!!S||R.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return 0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(c=>{this.allRowGuis.forEach(p=>p.rowComp.addOrRemoveCssClass(c,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,o=>{this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass(o,!0))},o=>{this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass(o,!1))})}setStylesFromGridOptions(o,c){o&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(c,p=>p.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(o){return"left"===o?"left":"right"===o?"right":null}getInitialRowClasses(o){const c=this.getPinnedForContainer(o),p={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[o],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:c};return this.beans.rowCssClassCalculator.getInitialRowClasses(p)}processStylesFromGridOptions(){const o=this.gos.get("rowStyle");if(o&&"function"==typeof o)return void console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const c=this.gos.getCallback("getRowStyle");let p;return c&&(p=c({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),p||o?Object.assign({},o,p):this.emptyStyle}onRowSelected(o){const c=!!this.rowNode.isSelected();this.forEachGui(o,p=>{p.rowComp.addOrRemoveCssClass("ag-row-selected",c),ws(p.element,c),p.element.contains(this.beans.gos.getActiveDomElement())&&(p===this.centerGui||p===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const o=this.rowNode.isSelected();if(o&&this.beans.gos.get("suppressRowDeselection"))return;const p=this.beans.localeService.getLocaleTextFunc()(o?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${o?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(p)}addHoverFunctionality(o){this.active&&(this.addManagedListener(o,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(o,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,Xr.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gos.get("suppressRowHoverHighlight")&&(o.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,Xr.EVENT_MOUSE_LEAVE,()=>{o.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(o){const c=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),p=this.applyPaginationOffset(c.top,!0)-100,y=this.applyPaginationOffset(c.bottom,!0)+100;return Math.min(Math.max(p,o),y)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(o,c){o?c(o):this.allRowGuis.forEach(c)}onRowHeightChanged(o){if(null==this.rowNode.rowHeight)return;const c=this.rowNode.rowHeight,p=this.beans.environment.getDefaultRowHeight(),S=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,R=S?Math.min(p,S)-2+"px":void 0;this.forEachGui(o,L=>{L.element.style.height=`${c}px`,R&&L.element.style.setProperty("--ag-line-height",R)})}addEventListener(o,c){super.addEventListener(o,c)}removeEventListener(o,c){super.removeEventListener(o,c)}destroyFirstPass(o=!1){if(this.active=!1,!o&&this.gos.isAnimateRows()&&!this.isSticky())if(null!=this.rowNode.rowTop){const y=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(y)}else this.allRowGuis.forEach(y=>y.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const c=this.createRowEvent(ae.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(c),this.beans.eventService.dispatchEvent(c),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const o=c=>(c.list.forEach(p=>p.destroy()),{list:[],map:{}});this.centerCellCtrls=o(this.centerCellCtrls),this.leftCellCtrls=o(this.leftCellCtrls),this.rightCellCtrls=o(this.rightCellCtrls)}setFocusedClasses(o){this.forEachGui(o,c=>{c.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),c.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const o=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);o!==this.rowFocused&&(this.rowFocused=o,this.setFocusedClasses()),!o&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const o=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==o&&(this.paginationPage=o,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(o,c=!1){return this.rowNode.isRowPinned()||this.rowNode.sticky?o:o+this.beans.paginationProxy.getPixelOffset()*(c?1:-1)}setRowTop(o){if(!this.printLayout&&pt(o)){const c=this.applyPaginationOffset(o),S=`${this.rowNode.isRowPinned()||this.rowNode.sticky?c:this.beans.rowContainerHeightService.getRealPixelPosition(c)}px`;this.setRowTopStyle(S)}}getInitialRowTop(o){return this.suppressRowTransform?this.getInitialRowTopShared(o):void 0}getInitialTransform(o){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(o)})`}getInitialRowTopShared(o){if(this.printLayout)return"";let c;if(this.isSticky())c=this.rowNode.stickyRowTop;else{const p=this.slideInAnimation[o]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,y=this.applyPaginationOffset(p);c=this.rowNode.isRowPinned()?y:this.beans.rowContainerHeightService.getRealPixelPosition(y)}return c+"px"}setRowTopStyle(o){this.allRowGuis.forEach(c=>this.suppressRowTransform?c.rowComp.setTop(o):c.rowComp.setTransform(`translateY(${o})`))}getRowNode(){return this.rowNode}getCellCtrl(o){let c=null;return this.getAllCellCtrls().forEach(p=>{p.getColumn()==o&&(c=p)}),null!=c||this.getAllCellCtrls().forEach(p=>{p.getColSpanningList().indexOf(o)>=0&&(c=p)}),c}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(o){const c=this.rowNode.getRowIndexString(),p=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),y=this.rowNode.rowIndex%2==0,S=p+this.rowNode.rowIndex+1;this.forEachGui(o,R=>{R.rowComp.setRowIndex(c),R.rowComp.addOrRemoveCssClass("ag-row-even",y),R.rowComp.addOrRemoveCssClass("ag-row-odd",!y),mo(R.element,S)})}};_g.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Td=_g,Fr=class extends nn{constructor(r){super(),this.element=r}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const r="keydown",o=this.processKeyboardEvent.bind(this,r);this.addManagedListener(this.element,r,o)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Fn("touchstart")?"touchstart":"mousedown"].forEach(c=>{const p=this.processMouseEvent.bind(this,c);this.addManagedListener(this.element,c,p)})}processMouseEvent(r,o){if(!this.mouseEventService.isEventFromThisGrid(o)||Yn(o))return;const c=this.getRowForEvent(o),p=this.mouseEventService.getRenderedCellForEvent(o);"contextmenu"===r?this.handleContextMenuMouseEvent(o,void 0,c,p):(p&&p.onMouseEvent(r,o),c&&c.onMouseEvent(r,o))}mockContextMenuForIPad(){if(!zo())return;const r=new Js(this.element);this.addManagedListener(r,Js.EVENT_LONG_TAP,c=>{const p=this.getRowForEvent(c.touchEvent),y=this.mouseEventService.getRenderedCellForEvent(c.touchEvent);this.handleContextMenuMouseEvent(void 0,c.touchEvent,p,y)}),this.addDestroyFunc(()=>r.destroy())}getRowForEvent(r){let o=r.target;for(;o;){const c=this.gos.getDomData(o,Td.DOM_DATA_KEY_ROW_CTRL);if(c)return c;o=o.parentElement}return null}handleContextMenuMouseEvent(r,o,c,p){const y=c?c.getRowNode():null,S=p?p.getColumn():null;let R=null;S&&(p.dispatchCellContextMenuEvent((r||o)??null),R=this.valueService.getValue(S,y));const L=this.ctrlsService.getGridBodyCtrl(),Q=p?p.getGui():L.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:r,touchEvent:o,rowNode:y,column:S,value:R,anchorToElement:Q})}getControlsForEventTarget(r){return{cellCtrl:mr(this.gos,r,Jd.DOM_DATA_KEY_CELL_CTRL),rowCtrl:mr(this.gos,r,Td.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(r,o){const{cellCtrl:c,rowCtrl:p}=this.getControlsForEventTarget(o.target);o.defaultPrevented||(c?this.processCellKeyboardEvent(c,r,o):p&&p.isFullWidth()&&this.processFullWidthRowKeyboardEvent(p,r,o))}processCellKeyboardEvent(r,o,c){const p=r.getRowNode(),y=r.getColumn(),S=r.isEditing();if(!sa(this.gos,c,p,y,S)&&"keydown"===o&&(!S&&this.navigationService.handlePageScrollingKey(c)||r.onKeyDown(c),this.doGridOperations(c,r.isEditing()),Br(c)&&r.processCharacter(c)),"keydown"===o){const L=r.createEvent(c,ae.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(L)}}processFullWidthRowKeyboardEvent(r,o,c){const p=r.getRowNode(),y=this.focusService.getFocusedCell();if(!sa(this.gos,c,p,y&&y.column,!1)&&"keydown"===o)switch(c.key){case xi.PAGE_HOME:case xi.PAGE_END:case xi.PAGE_UP:case xi.PAGE_DOWN:this.navigationService.handlePageScrollingKey(c,!0);break;case xi.UP:case xi.DOWN:r.onKeyboardNavigate(c);break;case xi.TAB:r.onTabKeyDown(c)}if("keydown"===o){const L=r.createRowEvent(ae.EVENT_CELL_KEY_DOWN,c);this.eventService.dispatchEvent(L)}}doGridOperations(r,o){if(!r.ctrlKey&&!r.metaKey||o||!this.mouseEventService.isEventFromThisGrid(r))return;const c=Vo(r);return c===xi.A?this.onCtrlAndA(r):c===xi.C?this.onCtrlAndC(r):c===xi.D?this.onCtrlAndD(r):c===xi.V?this.onCtrlAndV(r):c===xi.X?this.onCtrlAndX(r):c===xi.Y?this.onCtrlAndY():c===xi.Z?this.onCtrlAndZ(r):void 0}onCtrlAndA(r){const{pinnedRowModel:o,paginationProxy:c,rangeService:p}=this;if(p&&c.isRowsToRender()){const[y,S]=[o.isEmpty("top"),o.isEmpty("bottom")],R=y?null:"top";let L,Q;S?(L=null,Q=this.paginationProxy.getRowCount()-1):(L="bottom",Q=o.getPinnedBottomRowData().length-1);const be=this.columnModel.getAllDisplayedColumns();if(oi(be))return;p.setCellRange({rowStartIndex:0,rowStartPinned:R,rowEndIndex:Q,rowEndPinned:L,columnStart:be[0],columnEnd:zt(be)})}r.preventDefault()}onCtrlAndC(r){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:o,rowCtrl:c}=this.getControlsForEventTarget(r.target);o?.isEditing()||c?.isEditing()||(r.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(r){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:o,rowCtrl:c}=this.getControlsForEventTarget(r.target);o?.isEditing()||c?.isEditing()||(r.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(r){const{cellCtrl:o,rowCtrl:c}=this.getControlsForEventTarget(r.target);o?.isEditing()||c?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(r){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),r.preventDefault()}onCtrlAndZ(r){this.gos.get("undoRedoCellEditing")&&(r.preventDefault(),r.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};P([$("mouseEventService")],Fr.prototype,"mouseEventService",2),P([$("valueService")],Fr.prototype,"valueService",2),P([$("menuService")],Fr.prototype,"menuService",2),P([$("ctrlsService")],Fr.prototype,"ctrlsService",2),P([$("navigationService")],Fr.prototype,"navigationService",2),P([$("focusService")],Fr.prototype,"focusService",2),P([$("undoRedoService")],Fr.prototype,"undoRedoService",2),P([$("columnModel")],Fr.prototype,"columnModel",2),P([$("paginationProxy")],Fr.prototype,"paginationProxy",2),P([$("pinnedRowModel")],Fr.prototype,"pinnedRowModel",2),P([Kt("rangeService")],Fr.prototype,"rangeService",2),P([Kt("clipboardService")],Fr.prototype,"clipboardService",2),P([mt],Fr.prototype,"postConstruct",1);var Ul=class extends nn{constructor(r){super(),this.centerContainerCtrl=r}postConstruct(){this.ctrlsService.whenReady(r=>{this.gridBodyCtrl=r.gridBodyCtrl,this.listenForResize()}),this.addManagedListener(this.eventService,ae.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const r=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(r),this.gridBodyCtrl.registerBodyViewportResizeListener(r)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const o=La(this.gridBodyCtrl.getBodyViewportElement());if(o<=50)return;let c=this.getPinnedColumnsOverflowingViewport(o-50);const p=this.gos.getCallback("processUnpinnedColumns");c.length&&(p&&(c=p({columns:c,viewportWidth:o})),this.columnModel.setColumnsPinned(c,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(r){const p=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(p<r)return[];const y=[...this.columnModel.getDisplayedLeftColumns()],S=[...this.columnModel.getDisplayedRightColumns()];let R=0,L=0;const be=[];let Ie=p-0-r;for(;(L<y.length||R<S.length)&&Ie>0;){if(R<S.length){const Je=S[R++];Ie-=Je.getActualWidth(),be.push(Je)}if(L<y.length&&Ie>0){const Je=y[L++];Ie-=Je.getActualWidth(),be.push(Je)}}return be}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const o=Qn(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:ae.EVENT_BODY_HEIGHT_CHANGED}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const r=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(r,o)}};P([$("ctrlsService")],Ul.prototype,"ctrlsService",2),P([$("pinnedWidthService")],Ul.prototype,"pinnedWidthService",2),P([$("columnModel")],Ul.prototype,"columnModel",2),P([$("scrollVisibleService")],Ul.prototype,"scrollVisibleService",2),P([mt],Ul.prototype,"postConstruct",1);var Ip=class extends nn{constructor(r){super(),this.element=r}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const r=this.pinnedWidthService.getPinnedLeftWidth();Wn(this.element,r>0),zr(this.element,r)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};P([$("pinnedWidthService")],Ip.prototype,"pinnedWidthService",2),P([mt],Ip.prototype,"postConstruct",1);var Lh=class extends nn{constructor(r){super(),this.element=r}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const r=this.pinnedWidthService.getPinnedRightWidth();Wn(this.element,r>0),zr(this.element,r)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};P([$("pinnedWidthService")],Lh.prototype,"pinnedWidthService",2),P([mt],Lh.prototype,"postConstruct",1);var Fm=class extends nn{constructor(r,o){super(),this.eContainer=r,this.eViewport=o}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const r=this.maxDivHeightScaler.getUiContainerHeight(),o=null!=r?`${r}px`:"";this.eContainer.style.height=o,this.eViewport&&(this.eViewport.style.height=o)}};P([$("rowContainerHeightService")],Fm.prototype,"maxDivHeightScaler",2),P([mt],Fm.prototype,"postConstruct",1);var bg=class extends nn{constructor(r){super(),this.eContainer=r}postConstruct(){this.rangeService&&(this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",o=>{o.currentValue?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature())}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};P([$("dragService")],bg.prototype,"dragService",2),P([Kt("rangeService")],bg.prototype,"rangeService",2),P([mt],bg.prototype,"postConstruct",1);var yf=class extends nn{constructor(r,o=!1){super(),this.callback=r,this.addSpacer=o}postConstruct(){const r=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",r),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,r),this.addSpacer&&(this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_SCROLLBAR_WIDTH_CHANGED,r)),this.setWidth()}setWidth(){const{columnModel:r}=this,o=this.gos.isDomLayout("print"),c=r.getBodyContainerWidth(),p=r.getDisplayedColumnsLeftWidth(),y=r.getDisplayedColumnsRightWidth();let S;o?S=c+p+y:(S=c,this.addSpacer&&0===(this.gos.get("enableRtl")?p:y)&&this.scrollVisibleService.isVerticalScrollShowing()&&(S+=this.gos.getScrollbarWidth())),this.callback(S)}};P([$("columnModel")],yf.prototype,"columnModel",2),P([$("scrollVisibleService")],yf.prototype,"scrollVisibleService",2),P([mt],yf.prototype,"postConstruct",1);var wg=Rs([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["stickyBottomCenter","ag-sticky-bottom-container"],["stickyBottomLeft","ag-pinned-left-sticky-bottom"],["stickyBottomRight","ag-pinned-right-sticky-bottom"],["stickyBottomFullWidth","ag-sticky-bottom-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),my=Rs([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"],["stickyBottomCenter","ag-sticky-bottom-viewport"]]),_u=class LH extends nn{constructor(o){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=o,this.isFullWithContainer="topFullWidth"===this.name||"stickyTopFullWidth"===this.name||"stickyBottomFullWidth"===this.name||"bottomFullWidth"===this.name||"fullWidth"===this.name}static getRowContainerCssClasses(o){return{container:wg.get(o),viewport:my.get(o)}}static getPinned(o){switch(o){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"stickyBottomLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"stickyBottomRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new Ul(this)))}registerWithCtrlsService(){switch(this.name){case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return;default:this.ctrlsService.register(this.name,this)}}forContainers(o,c){o.indexOf(this.name)>=0&&c()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(o,c,p){this.comp=o,this.eContainer=c,this.eViewport=p,this.createManagedBean(new Fr(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();this.forContainers(["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],()=>{this.pinnedWidthFeature=this.createManagedBean(new Ip(this.eContainer)),this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],()=>{this.pinnedWidthFeature=this.createManagedBean(new Lh(this.eContainer)),this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(["center","left","right","fullWidth"],()=>this.createManagedBean(new Fm(this.eContainer,"center"===this.name?p:void 0))),this.forContainers(["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right","stickyTopCenter","stickyTopLeft","stickyTopRight","stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],()=>this.createManagedBean(new bg(this.eContainer))),this.forContainers(["center","topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>this.createManagedBean(new yf(Li=>this.comp.setContainerWidth(`${Li}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_ROWS_CHANGED,o=>this.onDisplayedRowsChanged(o.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth"].indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const p=()=>{const y=this.gos.get("ensureDomOrder"),S=this.gos.isDomLayout("print");this.comp.setDomOrder(y||S)};this.addManagedPropertyListener("domLayout",p),p()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>{this.addManagedListener(this.eViewport,"scroll",()=>this.eViewport.scrollLeft=0)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const o=c=>{this.dragService.isDragging()&&c.cancelable&&c.preventDefault()};this.eContainer.addEventListener("touchmove",o,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",o))}onHorizontalViewportChanged(o=!1){const c=this.getCenterWidth(),p=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(c,p,o)}getCenterWidth(){return La(this.eViewport)}getCenterViewportScrollLeft(){return wl(this.eViewport,this.enableRtl)}registerViewportResizeListener(o){const c=this.resizeObserverService.observeResize(this.eViewport,o);this.addDestroyFunc(()=>c())}isViewportInTheDOMTree(){return Ka(this.eViewport)}getViewportScrollLeft(){return wl(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||Na(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(o){this.eContainer.style.transform=`translateX(${o}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(o){sl(this.eViewport,o,this.enableRtl)}isContainerVisible(){return!LH.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const o=this.isContainerVisible();this.visible!=o&&(this.visible=o,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(o=!1){const c=this.getRowCtrls();if(!this.visible||0===c.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const p=this.gos.isDomLayout("print"),S=this.gos.get("embedFullWidthRows")||p,R=c.filter(L=>{const Q=L.isFullWidth();return this.isFullWithContainer?!S&&Q:S||!Q});this.comp.setRowCtrls({rowCtrls:R,useFlushSync:o})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"stickyBottomCenter":case"stickyBottomLeft":case"stickyBottomRight":case"stickyBottomFullWidth":return this.rowRenderer.getStickyBottomRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};P([$("dragService")],_u.prototype,"dragService",2),P([$("ctrlsService")],_u.prototype,"ctrlsService",2),P([$("columnModel")],_u.prototype,"columnModel",2),P([$("resizeObserverService")],_u.prototype,"resizeObserverService",2),P([$("rowRenderer")],_u.prototype,"rowRenderer",2),P([mt],_u.prototype,"postConstruct",1);var Nh=_u,Md=class extends _n{constructor(){super('<div class="ag-root ag-unselectable" role="treegrid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-body" ref="eBody" role="presentation">\n            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n                <ag-row-container ref="leftContainer" name="left"></ag-row-container>\n                <ag-row-container ref="centerContainer" name="center"></ag-row-container>\n                <ag-row-container ref="rightContainer" name="right"></ag-row-container>\n                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>\n            </div>\n            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>\n        </div>\n        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">\n            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>\n            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>\n            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>\n            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-sticky-bottom" ref="eStickyBottom" role="presentation">\n            <ag-row-container ref="stickyBottomLeftContainer" name="stickyBottomLeft"></ag-row-container>\n            <ag-row-container ref="stickyBottomCenterContainer" name="stickyBottomCenter"></ag-row-container>\n            <ag-row-container ref="stickyBottomRightContainer" name="stickyBottomRight"></ag-row-container>\n            <ag-row-container ref="stickyBottomFullWidthContainer" name="stickyBottomFullWidth"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>')}init(){const r=(c,p)=>{const y=`${c}px`;p.style.minHeight=y,p.style.height=y},o={setRowAnimationCssOnBodyViewport:(c,p)=>this.setRowAnimationCssOnBodyViewport(c,p),setColumnCount:c=>ms(this.getGui(),c),setRowCount:c=>io(this.getGui(),c),setTopHeight:c=>r(c,this.eTop),setBottomHeight:c=>r(c,this.eBottom),setTopDisplay:c=>this.eTop.style.display=c,setBottomDisplay:c=>this.eBottom.style.display=c,setStickyTopHeight:c=>this.eStickyTop.style.height=c,setStickyTopTop:c=>this.eStickyTop.style.top=c,setStickyTopWidth:c=>this.eStickyTop.style.width=c,setStickyBottomHeight:c=>this.eStickyBottom.style.height=c,setStickyBottomBottom:c=>this.eStickyBottom.style.bottom=c,setStickyBottomWidth:c=>this.eStickyBottom.style.width=c,setColumnMovingCss:(c,p)=>this.addOrRemoveCssClass(c,p),updateLayoutClasses:(c,p)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(S=>{S.toggle("ag-layout-auto-height",p.autoHeight),S.toggle("ag-layout-normal",p.normal),S.toggle("ag-layout-print",p.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",p.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",p.normal),this.addOrRemoveCssClass("ag-layout-print",p.print)},setAlwaysVerticalScrollClass:(c,p)=>this.eBodyViewport.classList.toggle(Ep,p),registerBodyViewportResizeListener:c=>{const p=this.resizeObserverService.observeResize(this.eBodyViewport,c);this.addDestroyFunc(()=>p())},setPinnedTopBottomOverflowY:c=>this.eTop.style.overflowY=this.eBottom.style.overflowY=c,setCellSelectableCss:(c,p)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(y=>y.classList.toggle(c,p))},setBodyViewportWidth:c=>this.eBodyViewport.style.width=c};this.ctrl=this.createManagedBean(new Gl),this.ctrl.setComp(o,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||"multiple"===this.gos.get("rowSelection"))&&No(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(r,o){const c=this.eBodyViewport.classList;c.toggle("ag-row-animation",o),c.toggle("ag-row-no-animation",!o)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};P([$("resizeObserverService")],Md.prototype,"resizeObserverService",2),P([Kt("rangeService")],Md.prototype,"rangeService",2),P([sn("eBodyViewport")],Md.prototype,"eBodyViewport",2),P([sn("eStickyTop")],Md.prototype,"eStickyTop",2),P([sn("eStickyBottom")],Md.prototype,"eStickyBottom",2),P([sn("eTop")],Md.prototype,"eTop",2),P([sn("eBottom")],Md.prototype,"eBottom",2),P([sn("gridHeader")],Md.prototype,"headerRootComp",2),P([sn("eBody")],Md.prototype,"eBody",2),P([mt],Md.prototype,"init",1);var Bh=class extends nn{postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const r=this.ctrlsService.get("center");if(!r||this.columnAnimationService.isActive())return;const o={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o)}setScrollsVisible(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:ae.EVENT_SCROLL_VISIBILITY_CHANGED}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};P([$("ctrlsService")],Bh.prototype,"ctrlsService",2),P([$("columnAnimationService")],Bh.prototype,"columnAnimationService",2),P([mt],Bh.prototype,"postConstruct",1),Bh=P([It("scrollVisibleService")],Bh);var U=class extends nn{constructor(){super(...arguments),this.gridInstanceId=U.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(r){r[U.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(r){return mr(this.gos,r.target,Jd.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(r){return this.isElementInThisGrid(r.target)}isElementInThisGrid(r){let o=r;for(;o;){const c=o[U.GRID_DOM_KEY];if(pt(c))return c===this.gridInstanceId;o=o.parentElement}return!1}getCellPositionForEvent(r){const o=this.getRenderedCellForEvent(r);return o?o.getCellPosition():null}getNormalisedPosition(r){const o=this.gos.isDomLayout("normal");let p,y;if(null!=r.clientX||null!=r.clientY?(p=r.clientX,y=r.clientY):(p=r.x,y=r.y),o){const S=this.ctrlsService.getGridBodyCtrl(),R=S.getScrollFeature().getVScrollPosition();p+=S.getScrollFeature().getHScrollPosition().left,y+=R.top}return{x:p,y}}};U.gridInstanceSequence=new ce,U.GRID_DOM_KEY="__ag_grid_instance",P([$("ctrlsService")],U.prototype,"ctrlsService",2),U=P([It("mouseEventService")],U);var M=class extends nn{constructor(){super(),this.onPageDown=Yt(this.onPageDown,100),this.onPageUp=Yt(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(r=>{this.gridBodyCon=r.gridBodyCtrl})}handlePageScrollingKey(r,o=!1){const c=r.key,p=r.altKey,y=r.ctrlKey||r.metaKey,S=!!this.rangeService&&r.shiftKey,R=this.mouseEventService.getCellPositionForEvent(r);let L=!1;switch(c){case xi.PAGE_HOME:case xi.PAGE_END:!y&&!p&&(this.onHomeOrEndKey(c),L=!0);break;case xi.LEFT:case xi.RIGHT:case xi.UP:case xi.DOWN:if(!R)return!1;y&&!p&&!S&&(this.onCtrlUpDownLeftRight(c,R),L=!0);break;case xi.PAGE_DOWN:case xi.PAGE_UP:!y&&!p&&(L=this.handlePageUpDown(c,R,o))}return L&&r.preventDefault(),L}handlePageUpDown(r,o,c){return c&&(o=this.focusService.getFocusedCell()),!!o&&(r===xi.PAGE_UP?this.onPageUp(o):this.onPageDown(o),!0)}navigateTo(r){var o;const{scrollIndex:c,scrollType:p,scrollColumn:y,focusIndex:S,focusColumn:R}=r;pt(y)&&!y.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(y),pt(c)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(c,p),r.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(S),this.focusService.setFocusedCell({rowIndex:S,column:R,rowPinned:null,forceBrowserFocus:!0}),null==(o=this.rangeService)||o.setRangeToCell({rowIndex:S,rowPinned:null,column:R})}onPageDown(r){const c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),p=this.getViewportHeight(),y=this.paginationProxy.getPixelOffset(),R=this.paginationProxy.getRowIndexAtPixel(c.top+p+y);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,R):this.navigateToNextPage(r,R)}onPageUp(r){const c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),p=this.paginationProxy.getPixelOffset(),S=this.paginationProxy.getRowIndexAtPixel(c.top+p);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,S,!0):this.navigateToNextPage(r,S,!0)}navigateToNextPage(r,o,c=!1){const p=this.getViewportHeight(),y=this.paginationProxy.getPageFirstRow(),S=this.paginationProxy.getPageLastRow(),R=this.paginationProxy.getPixelOffset(),L=this.paginationProxy.getRow(r.rowIndex),Q=c?L?.rowHeight-p-R:p-R;let Je,Ie=this.paginationProxy.getRowIndexAtPixel(L?.rowTop+Q+R);Ie===r.rowIndex&&(o=Ie=r.rowIndex+(c?-1:1)),c?(Je="bottom",Ie<y&&(Ie=y),o<y&&(o=y)):(Je="top",Ie>S&&(Ie=S),o>S&&(o=S)),this.isRowTallerThanView(Ie)&&(o=Ie,Je="top"),this.navigateTo({scrollIndex:o,scrollType:Je,scrollColumn:null,focusIndex:Ie,focusColumn:r.column})}navigateToNextPageWithAutoHeight(r,o,c=!1){this.navigateTo({scrollIndex:o,scrollType:c?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:r.column}),setTimeout(()=>{const p=this.getNextFocusIndexForAutoHeight(r,c);this.navigateTo({scrollIndex:o,scrollType:c?"bottom":"top",scrollColumn:null,focusIndex:p,focusColumn:r.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(r,o=!1){var c;const p=o?-1:1,y=this.getViewportHeight(),S=this.paginationProxy.getPageLastRow();let R=0,L=r.rowIndex;for(;L>=0&&L<=S;){const Q=this.paginationProxy.getRow(L);if(Q){const be=null!=(c=Q.rowHeight)?c:0;if(R+be>y)break;R+=be}L+=p}return Math.max(0,Math.min(L,S))}getViewportHeight(){const{gridBodyCtrl:r,center:o}=this.ctrlsService.getParams(),c=r.getScrollFeature().getVScrollPosition(),p=this.gos.getScrollbarWidth();let y=c.bottom-c.top;return o.isHorizontalScrollShowing()&&(y-=p),y}isRowTallerThanView(r){const o=this.paginationProxy.getRow(r);if(!o)return!1;const c=o.rowHeight;return"number"==typeof c&&c>this.getViewportHeight()}onCtrlUpDownLeftRight(r,o){const c=this.cellNavigationService.getNextCellToFocus(r,o,!0),{rowIndex:p,column:y}=c;this.navigateTo({scrollIndex:p,scrollType:null,scrollColumn:y,focusIndex:p,focusColumn:y})}onHomeOrEndKey(r){const o=r===xi.PAGE_HOME,c=this.columnModel.getAllDisplayedColumns(),p=o?c[0]:zt(c),y=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:y,scrollType:null,scrollColumn:p,focusIndex:y,focusColumn:p})}onTabKeyDown(r,o){const c=o.shiftKey,p=this.tabToNextCellCommon(r,c,o);if(!1===p)if(c){const{rowIndex:y,rowPinned:S}=r.getRowPosition();(S?0===y:y===this.paginationProxy.getPageFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(o.preventDefault(),this.focusService.focusPreviousFromFirstCell(o)))}else r instanceof Jd&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(c)&&o.preventDefault();else p&&o.preventDefault()}tabToNextCell(r,o){const c=this.focusService.getFocusedCell();if(!c)return!1;let p=this.getCellByPosition(c);return!!(p||(p=this.rowRenderer.getRowByPosition(c),p&&p.isFullWidth()))&&!!this.tabToNextCellCommon(p,r,o)}tabToNextCellCommon(r,o,c){let y,p=r.isEditing();if(!p&&r instanceof Jd){const R=r.getRowCtrl();R&&(p=R.isEditing())}return y=p?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(r,o,c):this.moveToNextEditingCell(r,o,c):this.moveToNextCellNotEditing(r,o),null===y?y:y||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(r,o,c=null){const p=r.getCellPosition();r.getGui().focus(),r.stopEditing();const y=this.findNextCellToFocusOn(p,o,!0);return!1===y?null:null!=y&&(y.startEditing(null,!0,c),y.focusCell(!1),!0)}moveToNextEditingRow(r,o,c=null){const p=r.getCellPosition(),y=this.findNextCellToFocusOn(p,o,!0);if(!1===y)return null;if(null==y)return!1;const S=y.getCellPosition(),R=this.isCellEditable(p),L=this.isCellEditable(S),Q=S&&p.rowIndex===S.rowIndex&&p.rowPinned===S.rowPinned;return R&&r.setFocusOutOnEditor(),Q||(r.getRowCtrl().stopEditing(),y.getRowCtrl().startRowEditing(void 0,void 0,c)),L?(y.setFocusInOnEditor(),y.focusCell()):y.focusCell(!0),!0}moveToNextCellNotEditing(r,o){const c=this.columnModel.getAllDisplayedColumns();let p;p=r instanceof Td?Ce(ee({},r.getRowPosition()),{column:o?c[0]:zt(c)}):r.getCellPosition();const y=this.findNextCellToFocusOn(p,o,!1);if(!1===y)return null;if(y instanceof Jd)y.focusCell(!0);else if(y)return this.tryToFocusFullWidthRow(y.getRowPosition(),o);return pt(y)}findNextCellToFocusOn(r,o,c){var p;let y=r;for(;;){r!==y&&(r=y),o||(y=this.getLastCellOfColSpan(y)),y=this.cellNavigationService.getNextTabbedCell(y,o);const S=this.gos.getCallback("tabToNextCell");if(pt(S)){const be=S({backwards:o,editing:c,previousCellPosition:r,nextCellPosition:y||null});if(!0===be||null===be)null===be&&Zt("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),y=r;else{if(!1===be)return!1;be.floating&&(Zt("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),be.rowPinned=be.floating),y={rowIndex:be.rowIndex,column:be.column,rowPinned:be.rowPinned}}}if(!y)return null;if(y.rowIndex<0){const Q=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:Q+y.rowIndex,column:y.column},fromCell:!0}),null}const R="fullRow"===this.gos.get("editType");if(c&&!R&&!this.isCellEditable(y))continue;this.ensureCellVisible(y);const L=this.getCellByPosition(y);if(!L){const Q=this.rowRenderer.getRowByPosition(y);if(!Q||!Q.isFullWidth()||c)continue;return Q}if(!L.isSuppressNavigable())return null==(p=this.rangeService)||p.setRangeToCell(y),L}}isCellEditable(r){const o=this.lookupRowNodeForCell(r);return!!o&&r.column.isCellEditable(o)}getCellByPosition(r){const o=this.rowRenderer.getRowByPosition(r);return o?o.getCellCtrl(r.column):null}lookupRowNodeForCell(r){return"top"===r.rowPinned?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):"bottom"===r.rowPinned?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)}navigateToNextCell(r,o,c,p){let y=c,S=!1;for(;y&&(y===c||!this.isValidNavigateCell(y));)this.gos.get("enableRtl")?o===xi.LEFT&&(y=this.getLastCellOfColSpan(y)):o===xi.RIGHT&&(y=this.getLastCellOfColSpan(y)),y=this.cellNavigationService.getNextCellToFocus(o,y),S=Ai(y);if(S&&r&&r.key===xi.UP&&(y={rowIndex:-1,rowPinned:null,column:c.column}),p){const L=this.gos.getCallback("navigateToNextCell");if(pt(L)){const be=L({key:o,previousCellPosition:c,nextCellPosition:y||null,event:r});pt(be)?(be.floating&&(Zt("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),be.rowPinned=be.floating),y={rowPinned:be.rowPinned,rowIndex:be.rowIndex,column:be.column}):y=null}}if(!y)return;if(y.rowIndex<0){const L=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L+y.rowIndex,column:c.column},event:r||void 0,fromCell:!0})}const R=this.getNormalisedPosition(y);R?this.focusPosition(R):this.tryToFocusFullWidthRow(y)}getNormalisedPosition(r){this.ensureCellVisible(r);const o=this.getCellByPosition(r);return o?(r=o.getCellPosition(),this.ensureCellVisible(r),r):null}tryToFocusFullWidthRow(r,o=!1){const c=this.columnModel.getAllDisplayedColumns(),p=this.rowRenderer.getRowByPosition(r);if(!p||!p.isFullWidth())return!1;const y=this.focusService.getFocusedCell(),S={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(o?zt(c):c[0])};this.focusPosition(S);const R=null!=y&&this.rowPositionUtils.before(S,y);return this.eventService.dispatchEvent({type:ae.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:S.rowIndex,rowPinned:S.rowPinned,column:S.column,isFullWidthCell:!0,floating:S.rowPinned,fromBelow:R}),!0}focusPosition(r){var o;this.focusService.setFocusedCell({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0}),null==(o=this.rangeService)||o.setRangeToCell(r)}isValidNavigateCell(r){return!!this.rowPositionUtils.getRowNode(r)}getLastCellOfColSpan(r){const o=this.getCellByPosition(r);if(!o)return r;const c=o.getColSpanningList();return 1===c.length?r:{rowIndex:r.rowIndex,column:zt(c),rowPinned:r.rowPinned}}ensureCellVisible(r){const o=this.gos.isGroupRowsSticky(),c=this.rowModel.getRow(r.rowIndex);!(o&&c?.sticky)&&Ai(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column)}};P([$("mouseEventService")],M.prototype,"mouseEventService",2),P([$("paginationProxy")],M.prototype,"paginationProxy",2),P([$("focusService")],M.prototype,"focusService",2),P([$("columnModel")],M.prototype,"columnModel",2),P([$("rowModel")],M.prototype,"rowModel",2),P([$("ctrlsService")],M.prototype,"ctrlsService",2),P([$("rowRenderer")],M.prototype,"rowRenderer",2),P([$("headerNavigationService")],M.prototype,"headerNavigationService",2),P([$("rowPositionUtils")],M.prototype,"rowPositionUtils",2),P([$("cellNavigationService")],M.prototype,"cellNavigationService",2),P([$("pinnedRowModel")],M.prototype,"pinnedRowModel",2),P([Kt("rangeService")],M.prototype,"rangeService",2),P([mt],M.prototype,"postConstruct",1),M=P([It("navigationService")],M);var B=class NH extends Oc{constructor(o){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=o}postConstruct(){this.gos.setDomData(this.getGui(),NH.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const o=this.getGui(),c=this.params;this.addManagedListener(o,"keydown",y=>{sa(this.gos,y,c.node,c.column,!0)||c.onKeyDown(y)})}};B.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",P([mt],B.prototype,"postConstruct",1);var Y=B,_e=class extends _n{constructor(r,o,c,p,y){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=r,this.column=o.getColumn(),this.rowNode=o.getRowNode(),this.rowCtrl=o.getRowCtrl(),this.eRow=p,this.cellCtrl=o;const S=document.createElement("div");S.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(S);const R=this.getGui();this.forceWrapper=o.isForceWrapper(),this.refreshWrapper(!1);const L=(Ie,Je)=>{null!=Je&&""!=Je?R.setAttribute(Ie,Je):R.removeAttribute(Ie)};fr(R,o.getCellAriaRole()),L("col-id",o.getColumnIdSanitised());const Q=o.getTabIndex();void 0!==Q&&L("tabindex",Q.toString()),o.setComp({addOrRemoveCssClass:(Ie,Je)=>this.addOrRemoveCssClass(Ie,Je),setUserStyles:Ie=>xl(R,Ie),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:Ie=>this.includeSelection=Ie,setIncludeRowDrag:Ie=>this.includeRowDrag=Ie,setIncludeDndSource:Ie=>this.includeDndSource=Ie,setRenderDetails:(Ie,Je,Bt)=>this.setRenderDetails(Ie,Je,Bt),setEditDetails:(Ie,Je,Bt)=>this.setEditDetails(Ie,Je,Bt),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()},this.getGui(),this.eCellWrapper,c,y)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(r,o,c){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=null==this.firstRender;const y=this.refreshWrapper(!1);this.refreshEditStyles(!1),r?!c&&!y&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(o))}setEditDetails(r,o,c){r?this.createCellEditorInstance(r,o,c):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(r){const o=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=o||this.forceWrapper,p=c&&null==this.eCellWrapper;if(p){const be=document.createElement("div");be.setAttribute("role","presentation"),be.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=be,this.getGui().appendChild(this.eCellWrapper)}const y=!c&&null!=this.eCellWrapper;y&&(ma(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);const S=!r&&c,R=S&&null==this.eCellValue;if(R){const be=document.createElement("span");be.setAttribute("role","presentation"),be.setAttribute("class","ag-cell-value"),this.eCellValue=be,this.eCellWrapper.appendChild(this.eCellValue)}const L=!S&&null!=this.eCellValue;L&&(ma(this.eCellValue),this.eCellValue=void 0);const Q=p||y||R||L;return Q&&this.removeControls(),r||o&&this.addControls(),Q}addControls(){this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(r,o,c){const p=this.editorVersion,y=r.newAgStackInstance();if(!y)return;const{params:S}=r;y.then(L=>this.afterCellEditorCreated(p,L,S,o,c)),Ai(this.cellEditor)&&S.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(r){const o=this.getParentOfValue();ko(o);const c=null!=r?ho(r,!0):null;null!=c&&(o.textContent=c)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:r}=this.beans;this.cellRenderer=r.destroyBean(this.cellRenderer),ma(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:r}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),ma(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;const o=this.cellRenderer.refresh(r.params);return!0===o||void 0===o}createCellRendererInstance(r){const c=!this.beans.gos.get("suppressAnimationFrame"),p=this.rendererVersion,{componentClass:y}=r,S=()=>{if(this.rendererVersion!==p||!this.isAlive())return;const L=r.newAgStackInstance(),Q=this.afterCellRendererCreated.bind(this,p,y);L&&L.then(Q)};c&&this.firstRender?this.beans.animationFrameService.createTask(S,this.rowNode.rowIndex,"createTasksP2"):S()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(r,o,c){if(this.isAlive()&&r===this.rendererVersion){if(this.cellRenderer=c,this.cellRendererClass=o,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){const y=this.getParentOfValue();ko(y),y.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(c)}afterCellEditorCreated(r,o,c,p,y){if(r!==this.editorVersion)return void this.beans.context.destroyBean(o);if(o.isCancelBeforeStart&&o.isCancelBeforeStart())return this.beans.context.destroyBean(o),void this.cellCtrl.stopEditing(!0);if(!o.getGui)return console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),void this.beans.context.destroyBean(o);this.cellEditor=o,this.cellEditorGui=o.getGui();const L=p||void 0!==o.isPopup&&o.isPopup();L?this.addPopupCellEditor(c,y):this.addInCellEditor(),this.refreshEditStyles(!0,L),o.afterGuiAttached&&o.afterGuiAttached()}refreshEditStyles(r,o){var c;this.addOrRemoveCssClass("ag-cell-inline-editing",r&&!o),this.addOrRemoveCssClass("ag-cell-popup-editing",r&&!!o),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!r||!!o),null==(c=this.rowCtrl)||c.setInlineEditingCss(r)}addInCellEditor(){const r=this.getGui();r.contains(this.beans.gos.getActiveDomElement())&&r.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(r,o){"fullRow"===this.beans.gos.get("editType")&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Y(r));const p=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&p.appendChild(this.cellEditorGui);const y=this.beans.popupService,S=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),R=o??(c.getPopupPosition?c.getPopupPosition():"over"),L=this.beans.gos.get("enableRtl"),Q={ePopup:p,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:R,alignSide:L?"right":"left",keepWithinBounds:!0},be=y.positionPopupByComponent.bind(y,Q),Ie=this.beans.localeService.getLocaleTextFunc(),Je=y.addPopup({modal:S,eChild:p,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:be,ariaLabel:Ie("ariaLabelCellEditor","Cell Editor")});Je&&(this.hideEditorPopup=Je.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const r=this.getGui();r.contains(this.beans.gos.getActiveDomElement())&&Pl()&&r.focus({preventScroll:!0}),ko(this.getParentOfValue())}},Ge=class extends _n{constructor(r,o,c){super(),this.cellComps={},this.beans=o,this.rowCtrl=r;const p=document.createElement("div");p.setAttribute("comp-id",`${this.getCompId()}`),p.setAttribute("style",this.getInitialStyle(c)),this.setTemplateFromElement(p);const y=this.getGui(),S=y.style;this.domOrder=this.rowCtrl.getDomOrder(),fr(y,"row");const R=this.rowCtrl.getTabIndex();null!=R&&y.setAttribute("tabindex",R.toString()),r.setComp({setDomOrder:Q=>this.domOrder=Q,setCellCtrls:Q=>this.setCellCtrls(Q),showFullWidth:Q=>this.showFullWidth(Q),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(Q,be)=>this.addOrRemoveCssClass(Q,be),setUserStyles:Q=>xl(y,Q),setTop:Q=>S.top=Q,setTransform:Q=>S.transform=Q,setRowIndex:Q=>y.setAttribute("row-index",Q),setRowId:Q=>y.setAttribute("row-id",Q),setRowBusinessKey:Q=>y.setAttribute("row-business-key",Q),refreshFullWidth:Q=>this.refreshFullWidth(Q)},this.getGui(),c),this.addDestroyFunc(()=>{r.unsetComp(c)})}getInitialStyle(r){const o=this.rowCtrl.getInitialTransform(r);return o?`transform: ${o}`:`top: ${this.rowCtrl.getInitialRowTop(r)}`}showFullWidth(r){const c=r.newAgStackInstance();c&&c.then(p=>{if(this.isAlive()){const y=p.getGui();this.getGui().appendChild(y),this.rowCtrl.setupDetailRowAutoHeight(y),this.setFullWidthRowComp(p)}else this.beans.context.destroyBean(p)})}setCellCtrls(r){const o=Object.assign({},this.cellComps);r.forEach(p=>{const y=p.getInstanceId();null==this.cellComps[y]?this.newCellComp(p):o[y]=null});const c=Oi(o).filter(p=>null!=p);this.destroyCells(c),this.ensureDomOrder(r)}ensureDomOrder(r){if(!this.domOrder)return;const o=[];r.forEach(c=>{const p=this.cellComps[c.getInstanceId()];p&&o.push(p.getGui())}),fc(this.getGui(),o)}newCellComp(r){const o=new _e(this.beans,r,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=o,this.getGui().appendChild(o.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const r=Oi(this.cellComps).filter(o=>null!=o);this.destroyCells(r)}setFullWidthRowComp(r){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(r){r.forEach(o=>{if(!o)return;const c=o.getCtrl().getInstanceId();this.cellComps[c]===o&&(o.detach(),o.destroy(),this.cellComps[c]=null)})}refreshFullWidth(r){const{fullWidthCellRenderer:o}=this;if(!o||!o.refresh)return!1;const c=r();return o.refresh(c)}},Xe=class extends _n{constructor(){super(function xt(){const r=_n.elementGettingCreated.getAttribute("name"),o=Nh.getRowContainerCssClasses(r);let c;return c="center"===r||"topCenter"===r||"stickyTopCenter"===r||"bottomCenter"===r||"stickyBottomCenter"===r?`<div class="${o.viewport}" ref="eViewport" role="presentation">\n                <div class="${o.container}" ref="eContainer"></div>\n            </div>`:`<div class="${o.container}" ref="eContainer"></div>`,c}()),this.rowComps={},this.name=_n.elementGettingCreated.getAttribute("name"),this.type=function Cg(r){switch(r){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":case"stickyBottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":case"stickyBottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":case"stickyBottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}(this.name)}postConstruct(){const r={setViewportHeight:c=>this.eViewport.style.height=c,setRowCtrls:({rowCtrls:c})=>this.setRowCtrls(c),setDomOrder:c=>{this.domOrder=c},setContainerWidth:c=>this.eContainer.style.width=c};this.createManagedBean(new Nh(this.name)).setComp(r,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(r){const o=ee({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(p=>{const y=p.getInstanceId(),S=o[y];if(S)this.rowComps[y]=S,delete o[y],this.ensureDomOrder(S.getGui());else{if(!p.getRowNode().displayed)return;const R=new Ge(p,this.beans,this.type);this.rowComps[y]=R,this.appendRow(R.getGui())}}),Oi(o).forEach(p=>{this.eContainer.removeChild(p.getGui()),p.destroy()}),fr(this.eContainer,"rowgroup")}appendRow(r){this.domOrder?Xd(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r}ensureDomOrder(r){this.domOrder&&(Pc(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)}};P([$("beans")],Xe.prototype,"beans",2),P([sn("eViewport")],Xe.prototype,"eViewport",2),P([sn("eContainer")],Xe.prototype,"eContainer",2),P([mt],Xe.prototype,"postConstruct",1),P([jt],Xe.prototype,"preDestroy",1);var Xt=class{constructor(r){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=r}onDragEnter(r){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const o=r.dragItem.columns;o&&o.forEach(c=>{c.isPrimary()&&(c.isAnyFunctionActive()||(c.isAllowValue()?this.columnsToAggregate.push(c):c.isAllowRowGroup()?this.columnsToGroup.push(c):c.isAllowPivot()&&this.columnsToPivot.push(c)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?wr.ICON_PINNED:wr.ICON_MOVE:null}onDragLeave(r){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(r){}onDragStop(r){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};P([$("columnModel")],Xt.prototype,"columnModel",2),P([$("gridOptionsService")],Xt.prototype,"gos",2);var si=class{static attemptMoveColumns(r){const{isFromHeader:o,hDirection:c,xPosition:p,fromEnter:y,fakeEvent:S,pinned:R,gos:L,columnModel:Q}=r,be=0===c,Ie=1===c;let{allMovingColumns:Je}=r;if(o){let Nn=[];Je.forEach(Gn=>{var qn;let hr=null,ps=Gn.getParent();for(;null!=ps&&1===ps.getDisplayedLeafColumns().length;)hr=ps,ps=ps.getParent();null!=hr?(null!=(qn=hr.getColGroupDef())&&qn.marryChildren?hr.getProvidedColumnGroup().getLeafColumns():hr.getLeafColumns()).forEach($l=>{Nn.includes($l)||Nn.push($l)}):Nn.includes(Gn)||Nn.push(Gn)}),Je=Nn}const Bt=Je.slice();Q.sortColumnsLikeGridColumns(Bt);const Ei=this.calculateValidMoves({movingCols:Bt,draggingRight:Ie,xPosition:p,pinned:R,gos:L,columnModel:Q}),Li=this.calculateOldIndex(Bt,Q);if(0===Ei.length)return;const Wi=Ei[0];let Vi=null!==Li&&!y;if(o&&(Vi=null!==Li),Vi&&!S&&(be&&Wi>=Li||Ie&&Wi<=Li))return;const wn=Q.getAllDisplayedColumns();let cn=[],xn=null;for(let Nn=0;Nn<Ei.length;Nn++){const Gn=Ei[Nn],qn=Q.getProposedColumnOrder(Bt,Gn);if(!Q.doesOrderPassRules(qn))continue;const hr=qn.filter(es=>wn.includes(es));if(null===xn)xn=hr;else if(!Ri(hr,xn))break;const ps=this.groupFragCount(qn);cn.push({move:Gn,fragCount:ps})}return 0!==cn.length?(cn.sort((Nn,Gn)=>Nn.fragCount-Gn.fragCount),this.moveColumns(Je,cn[0].move,"uiColumnMoved",!1,Q)):void 0}static moveColumns(r,o,c,p,y){return y.moveColumns(r,o,c,p),p?null:{columns:r,toIndex:o}}static calculateOldIndex(r,o){const c=o.getAllGridColumns(),p=at(r.map(Q=>c.indexOf(Q))),y=p[0];return zt(p)-y!=p.length-1?null:y}static groupFragCount(r){function o(p){let y=[],S=p.getOriginalParent();for(;null!=S;)y.push(S),S=S.getOriginalParent();return y}let c=0;for(let p=0;p<r.length-1;p++){let y=o(r[p]),S=o(r[p+1]);[y,S]=y.length>S.length?[y,S]:[S,y],y.forEach(R=>{-1===S.indexOf(R)&&c++})}return c}static getDisplayedColumns(r,o){switch(o){case"left":return r.getDisplayedLeftColumns();case"right":return r.getDisplayedRightColumns();default:return r.getDisplayedCenterColumns()}}static calculateValidMoves(r){const{movingCols:o,draggingRight:c,xPosition:p,pinned:y,gos:S,columnModel:R}=r;if(S.get("suppressMovableColumns")||o.some(cn=>cn.getColDef().suppressMovable))return[];const Q=this.getDisplayedColumns(R,y),be=R.getAllGridColumns(),Ie=Q.filter(cn=>ai(o,cn)),Je=Q.filter(cn=>!ai(o,cn)),Bt=be.filter(cn=>!ai(o,cn));let Wi,Ei=0,Li=p;if(c){let cn=0;Ie.forEach(xn=>cn+=xn.getActualWidth()),Li-=cn}if(Li>0){for(let cn=0;cn<Je.length&&(Li-=Je[cn].getActualWidth(),!(Li<0));cn++)Ei++;c&&Ei++}Ei>0?Wi=Bt.indexOf(Je[Ei-1])+1:(Wi=Bt.indexOf(Je[0]),-1===Wi&&(Wi=0));const Vi=[Wi],wn=(cn,xn)=>cn-xn;if(c){let cn=Wi+1;const xn=be.length-1;for(;cn<=xn;)Vi.push(cn),cn++;Vi.sort(wn)}else{let cn=Wi;const xn=be.length-1;let Nn=be[cn];for(;cn<=xn&&Q.indexOf(Nn)<0;)cn++,Vi.push(cn),Nn=be[cn];cn=Wi-1;const Gn=0;for(;cn>=Gn;)Vi.push(cn),cn--;Vi.sort(wn).reverse()}return Vi}static normaliseX(r,o,c,p,y){const S=y.getHeaderRowContainerCtrl(o).getViewport();return c&&(r-=S.getBoundingClientRect().left),p.get("enableRtl")&&(r=S.clientWidth-r),null==o&&(r+=y.get("center").getCenterViewportScrollLeft()),r}},Hi=class{constructor(r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=r,this.isCenterContainer=!pt(r)}init(){this.ctrlsService.whenReady(r=>{this.gridBodyCon=r.gridBodyCtrl})}getIconName(){return this.pinned?wr.ICON_PINNED:wr.ICON_MOVE}onDragEnter(r){const o=r.dragItem.columns;if(0===r.dragSource.type)this.setColumnsVisible(o,!0,"uiColumnDragged");else{const p=r.dragItem.visibleState,y=(o||[]).filter(S=>p[S.getId()]);this.setColumnsVisible(y,!0,"uiColumnDragged")}this.setColumnsPinned(o,this.pinned,"uiColumnDragged"),this.onDragging(r,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(r,o,c){if(r){const p=r.filter(y=>!y.getColDef().lockVisible);this.columnModel.setColumnsVisible(p,o,c)}}setColumnsPinned(r,o,c){if(r){const p=r.filter(y=>!y.getColDef().lockPinned);this.columnModel.setColumnsPinned(p,o,c)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(r){if(this.isCenterContainer){const o=this.ctrlsService.get("center"),c=o.getCenterViewportScrollLeft(),p=c+o.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=r<c+50,this.needToMoveLeft=r>p-50):(this.needToMoveLeft=r<c+50,this.needToMoveRight=r>p-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(r=this.lastDraggingEvent,o=!1,c=!1,p=!1){var y;if(p){if(this.lastMovedInfo){const{columns:Ie,toIndex:Je}=this.lastMovedInfo;si.moveColumns(Ie,Je,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=r,Ai(r.hDirection))return;const S=si.normaliseX(r.x,this.pinned,!1,this.gos,this.ctrlsService);o||this.checkCenterForScrolling(S);const R=this.normaliseDirection(r.hDirection),L=r.dragSource.type,Q=(null==(y=r.dragSource.getDragItem().columns)?void 0:y.filter(Ie=>!Ie.getColDef().lockPinned||Ie.getPinned()==this.pinned))||[],be=si.attemptMoveColumns({allMovingColumns:Q,isFromHeader:1===L,hDirection:R,xPosition:S,pinned:this.pinned,fromEnter:o,fakeEvent:c,gos:this.gos,columnModel:this.columnModel});be&&(this.lastMovedInfo=be)}normaliseDirection(r){if(!this.gos.get("enableRtl"))return r;switch(r){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${r}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?wr.ICON_LEFT:wr.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(wr.ICON_MOVE))}moveInterval(){let r;this.intervalCount++,r=10+5*this.intervalCount,r>100&&(r=100);let o=null;const c=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?o=c.scrollHorizontally(-r):this.needToMoveRight&&(o=c.scrollHorizontally(r)),0!==o)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const y=this.lastDraggingEvent.dragItem.columns.filter(S=>!S.getColDef().lockPinned);y.length>0&&(this.dragAndDropService.setGhostIcon(wr.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(y,this.needToMoveLeft?"left":"right","uiColumnDragged"),this.dragAndDropService.nudge())}}};P([$("columnModel")],Hi.prototype,"columnModel",2),P([$("dragAndDropService")],Hi.prototype,"dragAndDropService",2),P([$("gridOptionsService")],Hi.prototype,"gos",2),P([$("ctrlsService")],Hi.prototype,"ctrlsService",2),P([mt],Hi.prototype,"init",1);var mi=class extends nn{constructor(r,o){super(),this.pinned=r,this.eContainer=o}postConstruct(){this.ctrlsService.whenReady(r=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.left.getContainerElement()],[r.bottomLeft.getContainerElement()],[r.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.right.getContainerElement()],[r.bottomRight.getContainerElement()],[r.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[r.gridBodyCtrl.getBodyViewportElement(),r.center.getViewportElement()],[r.bottomCenter.getViewportElement()],[r.topCenter.getViewportElement()]]}})}isInterestedIn(r){return 1===r||0===r&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new Hi(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Xt(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(r){return this.columnModel.isPivotMode()&&0===r.dragSource.type}onDragEnter(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)}onDragLeave(r){this.currentDropListener.onDragLeave(r)}onDragging(r){this.currentDropListener.onDragging(r)}onDragStop(r){this.currentDropListener.onDragStop(r)}};P([$("dragAndDropService")],mi.prototype,"dragAndDropService",2),P([$("columnModel")],mi.prototype,"columnModel",2),P([$("ctrlsService")],mi.prototype,"ctrlsService",2),P([mt],mi.prototype,"postConstruct",1),P([mt],mi.prototype,"init",1);var Tn=class BH extends gg{constructor(o){super(BH.TEMPLATE,o),this.headerCompVersion=0,this.column=o.getColumnGroupChild(),this.pinned=o.getPinned()}postConstruct(){const o=this.getGui();var S,R;S="col-id",null!=(R=this.column.getColId())&&""!=R?o.setAttribute(S,R):o.removeAttribute(S);const p={setWidth:S=>o.style.width=S,addOrRemoveCssClass:(S,R)=>this.addOrRemoveCssClass(S,R),setAriaSort:S=>S?nl(o,S):Pa(o),setUserCompDetails:S=>this.setUserCompDetails(S),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(p,this.getGui(),this.eResize,this.eHeaderCompWrapper);const y=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",y)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(o){this.headerCompVersion++;const c=this.headerCompVersion;o.newAgStackInstance().then(p=>this.afterCompCreated(c,p))}afterCompCreated(o,c){o==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=c,this.headerCompGui=c.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())):this.destroyBean(c)}};Tn.TEMPLATE='<div class="ag-header-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>\n        </div>',P([sn("eResize")],Tn.prototype,"eResize",2),P([sn("eHeaderCompWrapper")],Tn.prototype,"eHeaderCompWrapper",2),P([mt],Tn.prototype,"postConstruct",1),P([jt],Tn.prototype,"destroyHeaderComp",1);var vn=Tn,Pn=class VH extends gg{constructor(o){super(VH.TEMPLATE,o)}postConstruct(){const o=this.getGui();o.setAttribute("col-id",this.ctrl.getColId()),this.ctrl.setComp({addOrRemoveCssClass:(y,S)=>this.addOrRemoveCssClass(y,S),setResizableDisplayed:y=>Wn(this.eResize,y),setWidth:y=>o.style.width=y,setAriaExpanded:y=>((y,S)=>null!=S?o.setAttribute(y,S):o.removeAttribute(y))("aria-expanded",y),setUserCompDetails:y=>this.setUserCompDetails(y),getUserCompInstance:()=>this.headerGroupComp},o,this.eResize)}setUserCompDetails(o){o.newAgStackInstance().then(c=>this.afterHeaderCompCreated(c))}afterHeaderCompCreated(o){const c=()=>this.destroyBean(o);if(!this.isAlive())return void c();const p=this.getGui(),y=o.getGui();p.appendChild(y),this.addDestroyFunc(c),this.headerGroupComp=o,this.ctrl.setDragSource(p)}};Pn.TEMPLATE='<div class="ag-header-group-cell" role="columnheader">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',P([sn("eResize")],Pn.prototype,"eResize",2),P([mt],Pn.prototype,"postConstruct",1);var xr=Pn,rr=class extends _n{constructor(r){super(),this.headerComps={},this.ctrl=r,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){mo(this.getGui(),this.ctrl.getAriaRowIndex()),this.ctrl.setComp({setHeight:o=>this.getGui().style.height=o,setTop:o=>this.getGui().style.top=o,setHeaderCtrls:(o,c)=>this.setHeaderCtrls(o,c),setWidth:o=>this.getGui().style.width=o})}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(r,o){if(!this.isAlive())return;const c=this.headerComps;if(this.headerComps={},r.forEach(p=>{const y=p.getInstanceId();let S=c[y];delete c[y],null==S&&(S=this.createHeaderComp(p),this.getGui().appendChild(S.getGui())),this.headerComps[y]=S}),bi(c,(p,y)=>{this.getGui().removeChild(y.getGui()),this.destroyBean(y)}),o){const p=Oi(this.headerComps);p.sort((S,R)=>S.getCtrl().getColumnGroupChild().getLeft()-R.getCtrl().getColumnGroupChild().getLeft());const y=p.map(S=>S.getGui());fc(this.getGui(),y)}}createHeaderComp(r){let o;switch(this.ctrl.getType()){case"group":o=new xr(r);break;case"filter":o=new mg(r);break;default:o=new vn(r)}return this.createBean(o),o.setParentComponent(this),o}};P([mt],rr.prototype,"init",1),P([jt],rr.prototype,"destroyHeaderCtrls",1);var or=0,Io=class GH extends nn{constructor(o,c,p){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=o,this.parentRowCtrl=p,this.beans=c,this.instanceId=o.getUniqueId()+"-"+or++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(o){const{headerRowIndex:c,column:p}=this.focusService.getFocusedHeader();return Hs(this.gos,o,c,p)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(o){this.eGui=o,this.addDomData(),this.addManagedListener(this.beans.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:o,column:c,beans:p}=this;El.refreshFirstAndLastStyles(o,c,p.columnModel)}refreshAriaColIndex(){const{beans:o,column:c}=this,p=o.columnModel.getAriaColumnIndex(c);Ho(this.eGui,p)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(o){var c;const p=this.gos.getActiveDomElement(),y=o.key===xi.LEFT||o.key===xi.RIGHT;if(this.isResizing&&(o.preventDefault(),o.stopImmediatePropagation()),p!==this.eGui||!o.shiftKey&&!o.altKey||((this.isResizing||y)&&(o.preventDefault(),o.stopImmediatePropagation()),!y))return;const S=o.key===xi.LEFT!==this.gos.get("enableRtl"),R=wd[S?"Left":"Right"];if(o.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const L=this.getViewportAdjustedResizeDiff(o);this.resizeHeader(L,o.shiftKey),null==(c=this.resizeFeature)||c.toggleColumnResizing(!0)}else this.moveHeader(R)}getViewportAdjustedResizeDiff(o){let c=this.getResizeDiff(o);if(this.column.getPinned()){const y=this.pinnedWidthService.getPinnedLeftWidth(),S=this.pinnedWidthService.getPinnedRightWidth(),R=La(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(y+S+c>R){if(!(R>y+S))return 0;c=R-y-S}}return c}getResizeDiff(o){let c=o.key===xi.LEFT!==this.gos.get("enableRtl");const p=this.column.getPinned(),y=this.gos.get("enableRtl");return p&&y!==("right"===p)&&(c=!c),(c?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var o;null==(o=this.resizeFeature)||o.toggleColumnResizing(!1)},150))}handleKeyDown(o){const c=this.getWrapperHasFocus();switch(o.key){case xi.PAGE_DOWN:case xi.PAGE_UP:case xi.PAGE_HOME:case xi.PAGE_END:c&&o.preventDefault()}}addDomData(){const o=GH.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,o,this),this.addDestroyFunc(()=>this.gos.setDomData(this.eGui,o,null))}getGui(){return this.eGui}focus(o){return!!this.eGui&&(this.lastFocusEvent=o||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(o,c,p){const y=o??c;this.gos.get("preventDefaultOnContextMenu")&&y.preventDefault();const S=p instanceof bt?p:void 0;this.menuService.isHeaderContextMenuEnabled(S)&&this.menuService.showHeaderContextMenu(S,o,c),this.dispatchColumnMouseEvent(ae.EVENT_COLUMN_HEADER_CONTEXT_MENU,p)}dispatchColumnMouseEvent(o,c){this.eventService.dispatchEvent({type:o,column:c})}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};Io.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",P([$("pinnedWidthService")],Io.prototype,"pinnedWidthService",2),P([$("focusService")],Io.prototype,"focusService",2),P([$("userComponentFactory")],Io.prototype,"userComponentFactory",2),P([$("ctrlsService")],Io.prototype,"ctrlsService",2),P([$("dragAndDropService")],Io.prototype,"dragAndDropService",2),P([$("menuService")],Io.prototype,"menuService",2),P([mt],Io.prototype,"postConstruct",1);var Qr=Io,As=class extends nn{constructor(r,o,c,p){super(),this.columnOrGroup=r,this.eCell=o,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=p,this.beans=c}setColsSpanning(r){this.colsSpanning=r,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?zt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const r=this.beans.gos.get("suppressColumnMoveAnimation"),o=pt(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!r?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const r=this.getColumnOrGroup(),o=r.getLeft(),c=r.getOldLeft(),p=this.modifyLeftForPrintLayout(r,c),y=this.modifyLeftForPrintLayout(r,o);this.setLeft(p),this.actualLeft=y,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===y&&this.setLeft(y)})}onLeftChanged(){const r=this.getColumnOrGroup(),o=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,o),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(r,o){if(!this.beans.gos.isDomLayout("print")||"left"===r.getPinned())return o;const p=this.beans.columnModel.getDisplayedColumnsLeftWidth();return"right"===r.getPinned()?p+this.beans.columnModel.getBodyContainerWidth()+o:p+o}setLeft(r){let o;if(pt(r)&&(this.eCell.style.left=`${r}px`),this.columnOrGroup instanceof bt)o=this.columnOrGroup;else{const p=this.columnOrGroup.getLeafColumns();if(!p.length)return;p.length>1&&$s(this.ariaEl,p.length),o=p[0]}}};P([mt],As.prototype,"postConstruct",1);var Ko=class extends nn{constructor(r,o){super(),this.columns=r,this.element=o}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};P([$("columnHoverService")],Ko.prototype,"columnHoverService",2),P([mt],Ko.prototype,"postConstruct",1);var Ts=class extends Qr{constructor(r,o,c){super(r,o,c),this.iconCreated=!1,this.column=r}setComp(r,o,c,p){this.comp=r,this.eButtonShowMainFilter=c,this.eFloatingFilterBody=p,this.setGui(o),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const r=this.column.getColDef();this.active=!!r.filter&&!!r.floatingFilter}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const r=jn("filter",this.gos,this.column);r&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(r))}setupFocus(){this.createManagedBean(new pn(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const r=this.localeService.getLocaleTextFunc();Cr(this.eButtonShowMainFilter,r("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(r){if(this.gos.getActiveDomElement()===this.eGui)return;const p=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);if(p)return this.beans.headerNavigationService.scrollToColumn(this.column),r.preventDefault(),void p.focus();const y=this.findNextColumnWithFloatingFilter(r.shiftKey);y&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:y},event:r})&&r.preventDefault()}findNextColumnWithFloatingFilter(r){const o=this.beans.columnModel;let c=this.column;do{if(c=r?o.getDisplayedColBefore(c):o.getDisplayedColAfter(c),!c)break}while(!c.getColDef().filter||!c.getColDef().floatingFilter);return c}handleKeyDown(r){super.handleKeyDown(r);const o=this.getWrapperHasFocus();switch(r.key){case xi.UP:case xi.DOWN:o||r.preventDefault();case xi.LEFT:case xi.RIGHT:if(o)return;r.stopPropagation();case xi.ENTER:o&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case xi.ESCAPE:o||this.eGui.focus()}}onFocusIn(r){if(this.eGui.contains(r.relatedTarget))return;const c=!!r.relatedTarget&&!r.relatedTarget.classList.contains("ag-floating-filter"),p=!!r.relatedTarget&&Ds(r.relatedTarget,"ag-floating-filter");if(c&&p&&r.target===this.eGui){const S=this.lastFocusEvent;S&&S&&S.key===xi.TAB&&this.focusService.focusInto(this.eGui,S.shiftKey)}const y=this.getRowIndex();this.beans.focusService.setFocusedHeader(y,this.column)}setupHover(){this.createManagedBean(new Ko([this.column],this.eGui));const r=()=>{if(!this.gos.get("columnHoverHighlight"))return;const o=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",o)};this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,r),r()}setupLeft(){const r=new As(this.column,this.eGui,this.beans);this.createManagedBean(r)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const r=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());r&&this.setCompDetails(r)}setCompDetails(r){this.userCompDetails=r,this.comp.setCompDetails(r)}showParentFilter(){this.menuService.showFilterMenu({column:this.column,buttonElement:this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:r}=this.beans,o=c=>{if("filterDestroyed"===c?.source&&this.context.isDestroyed())return;const p=this.comp.getFloatingFilterComp();p&&p.then(y=>{var S;if(y){const R=r.getCurrentFloatingFilterParentModel(this.column);y.onParentModelChanged(R,c?this.gos.addGridCommonParams({columns:null!=(S=c.columns)?S:[],type:ae.EVENT_FILTER_CHANGED,source:"api"===c.source?"api":"columnFilter"}):null)}})};this.destroySyncListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,o),r.isFilterActive(this.column)&&o(null)}setupWidth(){const r=()=>{const o=`${this.column.getActualWidth()}px`;this.comp.setWidth(o)};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,r),r()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const r=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(r),this.highlightFilterButtonWhenActive&&r&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var r,o;const c=this.active;this.setupActive();const p=!c&&this.active;c&&!this.active&&(null==(r=this.destroySyncListener)||r.call(this),null==(o=this.destroyFilterChangedListener)||o.call(this));const y=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,S=this.comp.getFloatingFilterComp();S&&y?S.then(R=>{var L;!R||this.beans.filterManager.areFilterCompsDifferent(null!=(L=this.userCompDetails)?L:null,y)?this.updateCompDetails(y,p):this.updateFloatingFilterParams(y)}):this.updateCompDetails(y,p)}updateCompDetails(r,o){this.isAlive()&&(this.setCompDetails(r),this.setupFilterButton(),this.setupUi(),o&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(r){var o;if(!r)return;const c=r.params;null==(o=this.comp.getFloatingFilterComp())||o.then(p=>{let y=!1;p?.refresh&&"function"==typeof p.refresh&&null!==p.refresh(c)&&(y=!0),!y&&p?.onParamsUpdated&&"function"==typeof p.onParamsUpdated&&null!==p.onParamsUpdated(c)&&Zt("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},ss=class extends nn{constructor(r,o,c,p,y){super(),this.pinned=r,this.column=o,this.eResize=c,this.comp=p,this.ctrl=y}postConstruct(){const r=[];let o,c;const p=()=>{if(Wn(this.eResize,o),!o)return;const R=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(r.push(R),c){const L=this.gos.get("skipHeaderOnAutoSize"),Q=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",L)};this.eResize.addEventListener("dblclick",Q);const be=new Js(this.eResize);be.addEventListener(Js.EVENT_DOUBLE_TAP,Q),r.push(()=>{this.eResize.removeEventListener("dblclick",Q),be.removeEventListener(Js.EVENT_DOUBLE_TAP,Q),be.destroy()})}},y=()=>{r.forEach(R=>R()),r.length=0},S=()=>{const R=this.column.isResizable(),L=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(R!==o||L!==c)&&(o=R,c=L,y(),p())};S(),this.addDestroyFunc(y),this.ctrl.addRefreshFunction(S)}onResizing(r,o){const{column:c,lastResizeAmount:p,resizeStartWidth:y}=this,S=this.normaliseResizeAmount(o),L=[{key:c,newWidth:y+S}];this.column.getPinned()&&this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(S-p)>La(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50||(this.lastResizeAmount=S,this.columnModel.setColumnWidths(L,this.resizeWithShiftKey,r,"uiColumnResized"),r&&this.toggleColumnResizing(!1))}onResizeStart(r){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=r,this.toggleColumnResizing(!0)}toggleColumnResizing(r){this.comp.addOrRemoveCssClass("ag-column-resizing",r)}normaliseResizeAmount(r){let o=r;const c="left"!==this.pinned,p="right"===this.pinned;return this.gos.get("enableRtl")?c&&(o*=-1):p&&(o*=-1),o}};P([$("horizontalResizeService")],ss.prototype,"horizontalResizeService",2),P([$("pinnedWidthService")],ss.prototype,"pinnedWidthService",2),P([$("ctrlsService")],ss.prototype,"ctrlsService",2),P([$("columnModel")],ss.prototype,"columnModel",2),P([mt],ss.prototype,"postConstruct",1);var aa=class extends nn{constructor(r){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=r}onSpaceKeyDown(r){const o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(this.gos.getActiveDomElement())&&(r.preventDefault(),o.setValue(!o.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(r){this.headerCellCtrl=r,this.cbSelectAll=this.createManagedBean(new Bi),this.cbSelectAll.addCssClass("ag-header-select-all"),fr(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ae.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),Kr(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const r=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(r);const o=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const r=this.localeService.getLocaleTextFunc(),c=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),p=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.headerCellCtrl.setAriaDescriptionProperty("selectAll",this.cbSelectAllVisible?`${p} (${c})`:null),this.cbSelectAll.setInputAriaLabel(`${p} (${c})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(r){return"multiple"===this.gos.get("rowSelection")||(console.warn(`AG Grid: ${r} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(r){const o=this.rowModel.getType();return"clientSide"===o||"serverSide"===o||(console.warn(`AG Grid: ${r} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${o}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const r=this.cbSelectAll.getValue(),o=this.isFilteredOnly(),c=this.isCurrentPageOnly();let p="uiSelectAll";c?p="uiSelectAllCurrentPage":o&&(p="uiSelectAllFiltered");const y={source:p,justFiltered:o,justCurrentPage:c};r?this.selectionService.selectAllRowNodes(y):this.selectionService.deselectAllRowNodes(y)}isCheckboxSelection(){let r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))),!!r&&this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection")}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};P([$("rowModel")],aa.prototype,"rowModel",2),P([$("selectionService")],aa.prototype,"selectionService",2);var _a=class extends Qr{constructor(r,o,c){super(r,o,c),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=r}setComp(r,o,c,p){this.comp=r,this.setGui(o),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(p),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new ss(this.getPinned(),this.column,c,r,this)),this.createManagedBean(new Ko([this.column],o)),this.createManagedBean(new As(this.column,o,this.beans)),this.createManagedBean(new pn(o,{shouldStopEventPropagation:y=>this.shouldStopEventPropagation(y),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,bt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(r,o){var c,p;if(!this.column.isResizable())return;const y=this.column.getActualWidth(),S=null!=(c=this.column.getMinWidth())?c:0,R=null!=(p=this.column.getMaxWidth())?p:Number.MAX_SAFE_INTEGER,L=Math.min(Math.max(y+r,S),R);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:L}],o,!0,"uiColumnResized")}moveHeader(r){const{eGui:o,column:c,gos:p,ctrlsService:y}=this,S=this.getPinned(),R=o.getBoundingClientRect().left,L=c.getActualWidth(),Q=p.get("enableRtl"),Ie=si.normaliseX(0===r!==Q?R-20:R+L+20,S,!0,p,y);si.attemptMoveColumns({allMovingColumns:[c],isFromHeader:!0,hDirection:r,xPosition:Ie,pinned:S,fromEnter:!1,fakeEvent:!1,gos:p,columnModel:this.beans.columnModel}),y.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(c,"auto")}setupUserComp(){const r=this.lookupUserCompDetails();this.setCompDetails(r)}setCompDetails(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)}lookupUserCompDetails(){const r=this.createParams(),o=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(o,r)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:o=>{this.menuService.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button"})},showColumnMenuAfterMouseClick:o=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse"})},showFilter:o=>{this.menuService.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{this.beans.sortController.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,c)=>{this.beans.sortController.setSortForColumn(this.column,o,!!c,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(o,c)=>{this.setupTooltip(o,c)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new aa(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(r){super.handleKeyDown(r),r.key===xi.SPACE&&this.selectAllFeature.onSpaceKeyDown(r),r.key===xi.ENTER&&this.onEnterKeyDown(r),r.key===xi.DOWN&&r.altKey&&this.showMenuOnKeyPress(r,!1)}onEnterKeyDown(r){r.ctrlKey||r.metaKey?this.showMenuOnKeyPress(r,!0):this.sortable&&this.beans.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted")}showMenuOnKeyPress(r,o){const c=this.comp.getUserCompInstance();!c||!(c instanceof ec)||c.onMenuKeyboardShortcut(o)&&r.preventDefault()}onFocusIn(r){if(!this.getGui().contains(r.relatedTarget)){const o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(r,o){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c="whenTruncated"===this.gos.get("tooltipShowMode"),p=this.eGui,y=this.column.getColDef();!o&&c&&!y.headerComponent&&(o=()=>{const L=p.querySelector(".ag-header-cell-text");return!L||L.scrollWidth>L.clientWidth});const R=this.createManagedBean(new Dn({getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>p,getLocation:()=>"header",getTooltipValue:()=>r??this.column.getColDef().headerTooltip,shouldDisplayTooltip:o}));this.refreshFunctions.push(()=>R.refreshToolTip())}setupClassesFromColDef(){const r=()=>{const o=this.column.getColDef(),c=El.getHeaderClassesFromColDef(o,this.gos,this.column,null),p=this.userHeaderClasses;this.userHeaderClasses=new Set(c),c.forEach(y=>{p.has(y)?p.delete(y):this.comp.addOrRemoveCssClass(y,!0)}),p.forEach(y=>this.comp.addOrRemoveCssClass(y,!1))};this.refreshFunctions.push(r),r()}setDragSource(r){if(this.dragSourceElement=r,this.removeDragSource(),!r||!this.draggable)return;const{column:o,beans:c,displayName:p,dragAndDropService:y,gos:S}=this,{columnModel:R}=c;let L=!this.gos.get("suppressDragLeaveHidesColumns");const Q=this.dragSource={type:1,eElement:r,getDefaultIconName:()=>L?wr.ICON_HIDE:wr.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(o),dragItemName:p,onDragStarted:()=>{L=!S.get("suppressDragLeaveHidesColumns"),o.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>o.setMoving(!1,"uiColumnMoved"),onGridEnter:be=>{var Ie;if(L){const Je=(null==(Ie=be?.columns)?void 0:Ie.filter(Bt=>!Bt.getColDef().lockVisible))||[];R.setColumnsVisible(Je,!0,"uiColumnMoved")}},onGridExit:be=>{var Ie;if(L){const Je=(null==(Ie=be?.columns)?void 0:Ie.filter(Bt=>!Bt.getColDef().lockVisible))||[];R.setColumnsVisible(Je,!1,"uiColumnMoved")}}};y.addDragSource(Q,!0)}createDragItem(r){const o={};return o[r.getId()]=r.isVisible(),{columns:[r],visibleState:o}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(r){this.refreshFunctions.push(r)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(r=>r())}refreshHeaderComp(){const r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)}attemptHeaderCompRefresh(r){const o=this.comp.getUserCompInstance();return!(!o||!o.refresh)&&o.refresh(r)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const r=this.column.getColDef();return!(this.gos.get("suppressMovableColumns")||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const r=()=>{const o=this.column.getActualWidth();this.comp.setWidth(`${o}px`)};this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,r),r()}setupMovingCss(){const r=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,bt.EVENT_MOVING_CHANGED,r),r()}setupMenuClass(){const r=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,bt.EVENT_MENU_VISIBLE_CHANGED,r),r()}setupSortableClass(){const r=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};r(),this.addRefreshFunction(r),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const r=()=>{const o=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",o),this.refreshAria()};this.addManagedListener(this.column,bt.EVENT_FILTER_ACTIVE_CHANGED,r),r()}setupWrapTextClass(){const r=()=>{const o=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",o)};r(),this.addRefreshFunction(r)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:r,column:o,comp:c,beans:p}=this;if(!o.isSpanHeaderHeight())return r.style.removeProperty("top"),r.style.removeProperty("height"),c.addOrRemoveCssClass("ag-header-span-height",!1),void c.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:y,isSpanningTotal:S}=this.column.getColumnGroupPaddingInfo();c.addOrRemoveCssClass("ag-header-span-height",y>0);const{columnModel:R}=p,L=R.getColumnHeaderRowHeight();if(0===y)return c.addOrRemoveCssClass("ag-header-span-total",!1),r.style.setProperty("top","0px"),void r.style.setProperty("height",`${L}px`);c.addOrRemoveCssClass("ag-header-span-total",S);const Ie=y*(R.isPivotMode()?R.getPivotGroupHeaderHeight():R.getGroupHeaderHeight());r.style.setProperty("top",-Ie+"px"),r.style.setProperty("height",`${L+Ie}px`)}setupAutoHeight(r){const{columnModel:o,resizeObserverService:c}=this.beans,p=be=>{if(!this.isAlive())return;const{paddingTop:Ie,paddingBottom:Je,borderBottomWidth:Bt,borderTopWidth:Ei}=ra(this.getGui()),Vi=r.offsetHeight+(Ie+Je+Bt+Ei);if(be<5){const wn=this.beans.gos.getDocument();if(!wn||!wn.contains(r)||0==Vi)return void window.setTimeout(()=>p(be+1),0)}o.setColumnHeaderHeight(this.column,Vi)};let S,y=!1;const R=()=>{const be=this.column.isAutoHeaderHeight();be&&!y&&L(),!be&&y&&Q()},L=()=>{y=!0,p(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),S=c.observeResize(r,()=>p(0))},Q=()=>{y=!1,S&&S(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),S=void 0};R(),this.addDestroyFunc(()=>Q()),this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,()=>y&&p(0)),this.addManagedListener(this.eventService,bt.EVENT_SORT_CHANGED,()=>{y&&window.setTimeout(()=>p(0))}),this.addRefreshFunction(R)}refreshAriaSort(){if(this.sortable){const r=this.localeService.getLocaleTextFunc(),o=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(ls(o)),this.setAriaDescriptionProperty("sort",r("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const r=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",r("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const r=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",r("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const r=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",r("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(r,o){null!=o?this.ariaDescriptionProperties.set(r,o):this.ariaDescriptionProperties.delete(r)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const r=Array.from(this.ariaDescriptionProperties.keys()).sort((o,c)=>"filter"===o?-1:c.charCodeAt(0)-o.charCodeAt(0)).map(o=>this.ariaDescriptionProperties.get(o)).join(". ");this.beans.ariaAnnouncementService.announceValue(r)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const r=()=>{if(!this.gos.get("columnHoverHighlight"))return;const o=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",o)};this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,r),r()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const r=p=>this.handleMouseOverChange("mouseenter"===p.type);this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(ae.EVENT_COLUMN_HEADER_CLICKED,this.column)),this.addManagedListener(this.getGui(),"contextmenu",p=>this.handleContextMenuMouseEvent(p,void 0,this.column))}handleMouseOverChange(r){this.setActiveHeader(r),this.eventService.dispatchEvent({type:r?ae.EVENT_COLUMN_HEADER_MOUSE_OVER:ae.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column})}setActiveHeader(r){this.comp.addOrRemoveCssClass("ag-header-active",r)}getAnchorElementForMenu(r){const o=this.comp.getUserCompInstance();return o instanceof ec?o.getAnchorElementForMenu(r):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},Al=class extends nn{constructor(r,o,c,p){super(),this.eResize=o,this.comp=r,this.pinned=c,this.columnGroup=p}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const r=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(r),!this.gos.get("suppressAutoSize")){const o=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const c=[];this.columnGroup.getDisplayedLeafColumns().forEach(y=>{y.getColDef().suppressAutoSize||c.push(y.getColId())}),c.length>0&&this.columnModel.autoSizeColumns({columns:c,skipHeader:o,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(r){const o=this.getInitialValues(r);this.storeLocalValues(o),this.toggleColumnResizing(!0)}onResizing(r,o,c="uiColumnResized"){const p=this.normaliseDragChange(o);this.resizeColumnsFromLocalValues(this.resizeStartWidth+p,c,r)}getInitialValues(r){const o=this.getColumnsToResize(),c=this.getInitialSizeOfColumns(o),y={columnsToResize:o,resizeStartWidth:c,resizeRatios:this.getSizeRatiosOfColumns(o,c)};let S=null;if(r&&(S=this.columnModel.getDisplayedGroupAtDirection(this.columnGroup,"After")),S){const R=S.getDisplayedLeafColumns(),L=y.groupAfterColumns=R.filter(be=>be.isResizable()),Q=y.groupAfterStartWidth=this.getInitialSizeOfColumns(L);y.groupAfterRatios=this.getSizeRatiosOfColumns(L,Q)}else y.groupAfterColumns=void 0,y.groupAfterStartWidth=void 0,y.groupAfterRatios=void 0;return y}storeLocalValues(r){const{columnsToResize:o,resizeStartWidth:c,resizeRatios:p,groupAfterColumns:y,groupAfterStartWidth:S,groupAfterRatios:R}=r;this.resizeCols=o,this.resizeStartWidth=c,this.resizeRatios=p,this.resizeTakeFromCols=y,this.resizeTakeFromStartWidth=S,this.resizeTakeFromRatios=R}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(r){const o=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),c=this.getInitialValues();o>c.resizeStartWidth&&this.resizeColumns(c,o,r,!0)}resizeColumnsFromLocalValues(r,o,c=!0){var p,y,S;if(!this.resizeCols||!this.resizeRatios)return;const R={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:null!=(p=this.resizeTakeFromCols)?p:void 0,groupAfterStartWidth:null!=(y=this.resizeTakeFromStartWidth)?y:void 0,groupAfterRatios:null!=(S=this.resizeTakeFromRatios)?S:void 0};this.resizeColumns(R,r,o,c)}resizeColumns(r,o,c,p=!0){const{columnsToResize:y,resizeStartWidth:S,resizeRatios:R,groupAfterColumns:L,groupAfterStartWidth:Q,groupAfterRatios:be}=r,Ie=[];Ie.push({columns:y,ratios:R,width:o}),L&&Ie.push({columns:L,ratios:be,width:Q-(o-S)}),this.columnModel.resizeColumnSets({resizeSets:Ie,finished:p,source:c}),p&&this.toggleColumnResizing(!1)}toggleColumnResizing(r){this.comp.addOrRemoveCssClass("ag-column-resizing",r)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(o=>o.isResizable())}getInitialSizeOfColumns(r){return r.reduce((o,c)=>o+c.getActualWidth(),0)}getSizeRatiosOfColumns(r,o){return r.map(c=>c.getActualWidth()/o)}normaliseDragChange(r){let o=r;return this.gos.get("enableRtl")?"left"!==this.pinned&&(o*=-1):"right"===this.pinned&&(o*=-1),o}destroy(){super.destroy(),this.clearLocalValues()}};P([$("horizontalResizeService")],Al.prototype,"horizontalResizeService",2),P([$("autoWidthCalculator")],Al.prototype,"autoWidthCalculator",2),P([$("columnModel")],Al.prototype,"columnModel",2),P([mt],Al.prototype,"postConstruct",1);var bu=class extends nn{constructor(r,o){super(),this.removeChildListenersFuncs=[],this.columnGroup=o,this.comp=r}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,pr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const r=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(o=>{o.addEventListener("widthChanged",r),o.addEventListener("visibleChanged",r),this.removeChildListenersFuncs.push(()=>{o.removeEventListener("widthChanged",r),o.removeEventListener("visibleChanged",r)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(r=>r()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const r=this.columnGroup.getActualWidth();this.comp.setWidth(`${r}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===r)}};P([mt],bu.prototype,"postConstruct",1);var ah=class extends Qr{constructor(r,o,c){super(r,o,c),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const p=this.getGui();this.setDragSource(p)}},this.column=r}setComp(r,o,c){this.comp=r,this.setGui(o),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const p=this.getParentRowCtrl().getPinned(),y=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new Ko(y,o)),this.createManagedBean(new As(this.column,o,this.beans)),this.createManagedBean(new bu(r,this.column)),this.resizeFeature=this.createManagedBean(new Al(r,c,p,this.column)),this.createManagedBean(new pn(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener(ae.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(r,o){if(!this.resizeFeature)return;const c=this.resizeFeature.getInitialValues(o);this.resizeFeature.resizeColumns(c,c.resizeStartWidth+r,"uiColumnResized",!0)}moveHeader(r){const{beans:o,eGui:c,column:p,gos:y,ctrlsService:S}=this,R=y.get("enableRtl"),L=0===r,Q=this.getPinned(),be=c.getBoundingClientRect(),Ie=be.left,Bt=si.normaliseX(L!==R?Ie-20:Ie+be.width+20,Q,!0,y,S),Ei=p.getGroupId(),Li=this.focusService.getFocusedHeader();si.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:r,xPosition:Bt,pinned:Q,fromEnter:!1,fakeEvent:!1,gos:y,columnModel:o.columnModel});const Wi=p.getDisplayedLeafColumns(),Vi=L?Wi[0]:zt(Wi);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Vi,"auto"),!this.isAlive()&&Li&&this.restoreFocus(Ei,p,Li)}restoreFocus(r,o,c){const p=o.getLeafColumns();if(!p.length)return;const y=p[0].getParent();if(!y)return;const S=this.findGroupWidthId(y,r);S&&this.focusService.focusHeaderPosition({headerPosition:Ce(ee({},c),{column:S})})}findGroupWidthId(r,o){for(;r;){if(r.getGroupId()===o)return r;r=r.getParent()}return null}resizeLeafColumnsToFit(r){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(r)}setupUserComp(){const r=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:c=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),c,"gridInitializing")},setTooltip:(c,p)=>{this.setupTooltip(c,p)}}),o=this.userComponentFactory.getHeaderGroupCompDetails(r);this.comp.setUserCompDetails(o)}addHeaderMouseListeners(){const r=p=>this.handleMouseOverChange("mouseenter"===p.type);this.addManagedListener(this.getGui(),"mouseenter",r),this.addManagedListener(this.getGui(),"mouseleave",r),this.addManagedListener(this.getGui(),"click",()=>this.dispatchColumnMouseEvent(ae.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup())),this.addManagedListener(this.getGui(),"contextmenu",p=>this.handleContextMenuMouseEvent(p,void 0,this.column.getProvidedColumnGroup()))}handleMouseOverChange(r){const c={type:r?ae.EVENT_COLUMN_HEADER_MOUSE_OVER:ae.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(c)}setupTooltip(r,o){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c=this.column.getColGroupDef(),p="whenTruncated"===this.gos.get("tooltipShowMode"),y=this.eGui;!o&&p&&!c?.headerGroupComponent&&(o=()=>{const R=y.querySelector(".ag-header-group-text");return!R||R.scrollWidth>R.clientWidth});const S={getColumn:()=>this.column,getGui:()=>y,getLocation:()=>"headerGroup",getTooltipValue:()=>r??(c&&c.headerTooltip),shouldDisplayTooltip:o};c&&(S.getColDef=()=>c),this.createBean(new Dn(S))}setupExpandable(){const r=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Pe.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Pe.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const r=this.column;this.expandable=r.isExpandable();const o=r.isExpanded();this.comp.setAriaExpanded(this.expandable?o?"true":"false":void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const r=this.column.getColGroupDef(),o=El.getHeaderClassesFromColDef(r,this.gos,null,this.column);this.column.isPadding()?(o.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(p=>p.isSpanHeaderHeight())&&o.push("ag-header-span-height")):o.push("ag-header-group-cell-with-group"),o.forEach(c=>this.comp.addOrRemoveCssClass(c,!0))}setupMovingCss(){const o=this.column.getProvidedColumnGroup().getLeafColumns(),c=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());o.forEach(p=>{this.addManagedListener(p,bt.EVENT_MOVING_CHANGED,c)}),c()}onFocusIn(r){if(!this.eGui.contains(r.relatedTarget)){const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}}handleKeyDown(r){super.handleKeyDown(r);const o=this.getWrapperHasFocus();if(this.expandable&&o&&r.key===xi.ENTER){const c=this.column,p=!c.isExpanded();this.beans.columnModel.setColumnGroupOpened(c.getProvidedColumnGroup(),p,"uiColumnExpanded")}}setDragSource(r){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!r))return;const{beans:o,column:c,displayName:p,gos:y,dragAndDropService:S}=this,{columnModel:R}=o,L=c.getProvidedColumnGroup().getLeafColumns();let Q=!y.get("suppressDragLeaveHidesColumns");const be=this.dragSource={type:1,eElement:r,getDefaultIconName:()=>Q?wr.ICON_HIDE:wr.ICON_NOT_ALLOWED,dragItemName:p,getDragItem:()=>this.getDragItemForGroup(c),onDragStarted:()=>{Q=!y.get("suppressDragLeaveHidesColumns"),L.forEach(Ie=>Ie.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>L.forEach(Ie=>Ie.setMoving(!1,"uiColumnDragged")),onGridEnter:Ie=>{var Je;if(Q){const Bt=(null==(Je=Ie?.columns)?void 0:Je.filter(Ei=>!Ei.getColDef().lockVisible))||[];R.setColumnsVisible(Bt,!0,"uiColumnMoved")}},onGridExit:Ie=>{var Je;if(Q){const Bt=(null==(Je=Ie?.columns)?void 0:Je.filter(Ei=>!Ei.getColDef().lockVisible))||[];R.setColumnsVisible(Bt,!1,"uiColumnMoved")}}};S.addDragSource(be,!0)}getDragItemForGroup(r){const o=r.getProvidedColumnGroup().getLeafColumns(),c={};o.forEach(y=>c[y.getId()]=y.isVisible());const p=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(y=>{o.indexOf(y)>=0&&(p.push(y),Nt(o,y))}),o.forEach(y=>p.push(y)),{columns:p,visibleState:c}}isSuppressMoving(){let r=!1;return this.column.getLeafColumns().forEach(c=>{(c.getColDef().suppressMovable||c.getColDef().lockPosition)&&(r=!0)}),r||this.gos.get("suppressMovableColumns")}},Uc=0,_c=class extends nn{constructor(r,o,c){super(),this.instanceId=Uc++,this.rowIndex=r,this.pinned=o,this.type=c,this.headerRowClass="ag-header-row "+("group"==c?"ag-header-row-column-group":"filter"==c?"ag-header-row-column-filter":"ag-header-row-column")}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(r,o=!0){this.comp=r,o&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,ae.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_VIRTUAL_COLUMNS_CHANGED,r=>this.onVirtualColumnsChanged(r.afterScroll)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",r=>this.isEnsureDomOrder=r.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(r){if(this.headerCellCtrls)return Ht(this.headerCellCtrls).find(o=>o.getColumnGroupChild()===r)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const r=this.getWidthForRow();this.comp.setWidth(`${r}px`)}getWidthForRow(){const{columnModel:r}=this.beans;return this.isPrintLayout?null!=this.pinned?0:r.getContainerWidth("right")+r.getContainerWidth("left")+r.getContainerWidth(null):r.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:r,rowHeight:o}=this.getTopAndHeight();this.comp.setTop(r+"px"),this.comp.setHeight(o+"px")}getTopAndHeight(){const{columnModel:r,filterManager:o}=this.beans;let c=r.getHeaderRowCount();const p=[];let y=0;o.hasFloatingFilters()&&(c++,y=1);const S=r.getColumnGroupHeaderRowHeight(),R=r.getColumnHeaderRowHeight(),Q=c-(1+y);for(let Je=0;Je<Q;Je++)p.push(S);p.push(R);for(let Je=0;Je<y;Je++)p.push(r.getFloatingFiltersHeight());let be=0;for(let Je=0;Je<this.rowIndex;Je++)be+=p[Je];return{topOffset:be,rowHeight:p[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(r=!1){const o=this.getHeaderCtrls();this.comp.setHeaderCtrls(o,this.isEnsureDomOrder||this.isPrintLayout,r)}getHeaderCtrls(){const r=this.headerCellCtrls;this.headerCellCtrls=new Map;const o=this.getColumnsInViewport();for(const y of o)this.recycleAndCreateHeaderCtrls(y,r);const c=y=>{const{focusService:S,columnModel:R}=this.beans;return!!S.isHeaderWrapperFocused(y)&&R.isDisplayed(y.getColumnGroupChild())};if(r)for(const[y,S]of r)c(S)?this.headerCellCtrls.set(y,S):this.destroyBean(S);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(r,o){if(!this.headerCellCtrls||r.isEmptyGroup())return;const c=r.getUniqueId();let p;if(o&&(p=o.get(c),o.delete(c)),p&&p.getColumnGroupChild()!=r&&(this.destroyBean(p),p=void 0),null==p)switch(this.type){case"filter":p=this.createBean(new Ts(r,this.beans,this));break;case"group":p=this.createBean(new ah(r,this.beans,this));break;default:p=this.createBean(new _a(r,this.beans,this))}this.headerCellCtrls.set(c,p)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let r=[];const o=this.getActualDepth(),{columnModel:c}=this.beans;return["left",null,"right"].forEach(p=>{const y=c.getVirtualHeaderGroupRow(p,o);r=r.concat(y)}),r}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(r,o){if(!this.headerCellCtrls)return!1;const p=Array.from(this.headerCellCtrls.values()).find(y=>y.getColumnGroupChild()==r);return!!p&&p.focus(o)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(r=>{this.destroyBean(r)}),this.headerCellCtrls=void 0,super.destroy()}};P([$("beans")],_c.prototype,"beans",2),P([mt],_c.prototype,"postConstruct",1);var zc=class extends nn{constructor(r){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=r}setComp(r,o){this.comp=r,this.eViewport=o,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(r){const o=new mi(this.pinned,r);this.createManagedBean(o)}refresh(r=!1){const o=new ce,c=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const L=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let Q=0;Q<L;Q++){const be=this.createBean(new _c(o.next(),this.pinned,"group"));this.groupsRowCtrls.push(be)}})(),(()=>{const L=o.next(),Q=!(this.hidden||null!=this.columnsRowCtrl&&r&&this.columnsRowCtrl.getRowIndex()===L);(Q||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),Q&&(this.columnsRowCtrl=this.createBean(new _c(L,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const L=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void L();const Q=o.next();if(this.filtersRowCtrl){const be=this.filtersRowCtrl.getRowIndex()!==Q;(!r||be)&&L()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new _c(Q,this.pinned,"filter")))})();const R=this.getAllCtrls();this.comp.setCtrls(R),this.restoreFocusOnHeader(c)}restoreFocusOnHeader(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})}getAllCtrls(){const r=[...this.groupsRowCtrls];return this.columnsRowCtrl&&r.push(this.columnsRowCtrl),this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const r=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==r&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new yf(r=>this.comp.setCenterWidth(`${r}px`),!0))}setHorizontalScroll(r){this.comp.setViewportScrollLeft(r)}setupPinnedWidth(){if(null==this.pinned)return;const r="left"===this.pinned,o="right"===this.pinned;this.hidden=!0;const c=()=>{const p=r?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==p)return;const y=0==p,S=this.hidden!==y,R=this.gos.get("enableRtl"),L=this.gos.getScrollbarWidth(),be=this.scrollVisibleService.isVerticalScrollShowing()&&(R&&r||!R&&o)?p+L:p;this.comp.setPinnedContainerWidth(`${be}px`),this.comp.setDisplayed(!y),S&&(this.hidden=y,this.refresh())};this.addManagedListener(this.eventService,ae.EVENT_LEFT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,c),this.addManagedListener(this.eventService,ae.EVENT_SCROLLBAR_WIDTH_CHANGED,c)}getHeaderCtrlForColumn(r){if(r instanceof bt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(r):void 0;if(0!==this.groupsRowCtrls.length)for(let o=0;o<this.groupsRowCtrls.length;o++){const c=this.groupsRowCtrls[o].getHeaderCellCtrl(r);if(c)return c}}getHtmlElementForColumnHeader(r){const o=this.getHeaderCtrlForColumn(r);return o?o.getGui():null}getRowType(r){const c=this.getAllCtrls()[r];return c?c.getType():void 0}focusHeader(r,o,c){const y=this.getAllCtrls()[r];return!!y&&y.focusHeader(o,c)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};P([$("ctrlsService")],zc.prototype,"ctrlsService",2),P([$("scrollVisibleService")],zc.prototype,"scrollVisibleService",2),P([$("pinnedWidthService")],zc.prototype,"pinnedWidthService",2),P([$("columnModel")],zc.prototype,"columnModel",2),P([$("focusService")],zc.prototype,"focusService",2),P([$("filterManager")],zc.prototype,"filterManager",2);var ba=class pM extends _n{constructor(o){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=o}init(){this.selectAndSetTemplate();const o={setDisplayed:p=>this.setDisplayed(p),setCtrls:p=>this.setCtrls(p),setCenterWidth:p=>this.eCenterContainer.style.width=p,setViewportScrollLeft:p=>this.getGui().scrollLeft=p,setPinnedContainerWidth:p=>{const y=this.getGui();y.style.width=p,y.style.maxWidth=p,y.style.minWidth=p}};this.createManagedBean(new zc(this.pinned)).setComp(o,this.getGui())}selectAndSetTemplate(){this.setTemplate("left"==this.pinned?pM.PINNED_LEFT_TEMPLATE:"right"==this.pinned?pM.PINNED_RIGHT_TEMPLATE:pM.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(o){this.destroyBean(o),this.eRowContainer.removeChild(o.getGui())}setCtrls(o){const c=this.headerRowComps;let p;this.headerRowComps={},this.rowCompsList=[];const y=S=>{const R=S.getGui();R.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(R),p&&Pc(this.eRowContainer,R,p),p=R};o.forEach(S=>{const R=S.getInstanceId(),L=c[R];delete c[R];const Q=L||this.createBean(new rr(S));this.headerRowComps[R]=Q,this.rowCompsList.push(Q),y(Q)}),Oi(c).forEach(S=>this.destroyRowComp(S))}};ba.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',ba.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',ba.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',P([sn("eCenterContainer")],ba.prototype,"eCenterContainer",2),P([mt],ba.prototype,"init",1),P([jt],ba.prototype,"destroyRowComps",1);var xg=ba,Cu=class extends nn{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(o=>{this.gridBodyCon=o.gridBodyCtrl});const r=this.gos.getDocument();this.addManagedListener(r,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0}navigateVertically(r,o,c){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;const{headerRowIndex:p,column:y}=o,S=this.getHeaderRowCount(),R=0===r;let{headerRowIndex:L,column:Q,headerRowIndexWithoutSpan:be}=R?this.headerPositionUtils.getColumnVisibleParent(y,p):this.headerPositionUtils.getColumnVisibleChild(y,p),Ie=!1;return L<0&&(L=0,Q=y,Ie=!0),L>=S?(L=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==be&&(this.currentHeaderRowWithoutSpan=be),!(!Ie&&!Q)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L,column:Q},allowUserOverride:!0,event:c})}setCurrentHeaderRowWithoutSpan(r){this.currentHeaderRowWithoutSpan=r}navigateHorizontally(r,o=!1,c){const p=this.focusService.getFocusedHeader(),y=2===r,S=this.gos.get("enableRtl");let R,L;if(-1!==this.currentHeaderRowWithoutSpan?p.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=p.headerRowIndex,y!==S?(L="Before",R=this.headerPositionUtils.findHeader(p,L)):(L="After",R=this.headerPositionUtils.findHeader(p,L)),R||!o)return this.focusService.focusHeaderPosition({headerPosition:R,direction:L,fromTab:o,allowUserOverride:!0,event:c});if(o){const Q=this.gos.getCallback("tabToNextHeader");if(Q)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:Q,headerPosition:R,direction:L})}return this.focusNextHeaderRow(p,L,c)}focusNextHeaderRow(r,o,c){const p=r.headerRowIndex;let S,y=null;if("Before"===o?p>0&&(S=p-1,this.currentHeaderRowWithoutSpan-=1,y=this.headerPositionUtils.findColAtEdgeForHeaderRow(S,"end")):(S=p+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),y=this.headerPositionUtils.findColAtEdgeForHeaderRow(S,"start")),!y)return!1;const{column:R,headerRowIndex:L}=this.headerPositionUtils.getHeaderIndexToFocus(y.column,y?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:R,headerRowIndex:L},direction:o,fromTab:!0,allowUserOverride:!0,event:c})}scrollToColumn(r,o="After"){if(r.getPinned())return;let c;if(r instanceof pr){const p=r.getDisplayedLeafColumns();c="Before"===o?zt(p):p[0]}else c=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(c)}};P([$("focusService")],Cu.prototype,"focusService",2),P([$("headerPositionUtils")],Cu.prototype,"headerPositionUtils",2),P([$("ctrlsService")],Cu.prototype,"ctrlsService",2),P([mt],Cu.prototype,"postConstruct",1),Cu=P([It("headerNavigationService")],Cu);var Rd=class extends nn{setComp(r,o,c){this.comp=r,this.eGui=o,this.createManagedBean(new pn(c,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const p=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",p),this.mockContextMenuForIPad(p),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const r=this.setHeaderHeight.bind(this);r(),this.addManagedPropertyListener("headerHeight",r),this.addManagedPropertyListener("pivotHeaderHeight",r),this.addManagedPropertyListener("groupHeaderHeight",r),this.addManagedPropertyListener("pivotGroupHeaderHeight",r),this.addManagedPropertyListener("floatingFiltersHeight",r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_GRID_STYLES_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,r)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:r}=this;let p,o=0,c=r.getHeaderRowCount();this.filterManager.hasFloatingFilters()&&(c++,o=1);const S=this.columnModel.getColumnGroupHeaderRowHeight(),R=this.columnModel.getColumnHeaderRowHeight(),Q=c-(1+o);p=o*r.getFloatingFiltersHeight(),p+=Q*S,p+=R,this.headerHeight!==p&&(this.headerHeight=p,this.comp.setHeightAndMinHeight(`${p+1}px`),this.eventService.dispatchEvent({type:ae.EVENT_HEADER_HEIGHT_CHANGED}))}onPivotModeChanged(){const r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)}onDisplayedColumnsChanged(){const o=this.columnModel.getAllDisplayedColumns().some(c=>c.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",o)}onTabKeyDown(r){const o=this.gos.get("enableRtl");(this.headerNavigationService.navigateHorizontally(r.shiftKey!==o?2:3,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()}handleKeyDown(r){let o=null;switch(r.key){case xi.LEFT:o=2;case xi.RIGHT:pt(o)||(o=3),this.headerNavigationService.navigateHorizontally(o,!1,r);break;case xi.UP:o=0;case xi.DOWN:pt(o)||(o=1),this.headerNavigationService.navigateVertically(o,null,r)&&r.preventDefault();break;default:return}}onFocusOut(r){const{relatedTarget:o}=r;!o&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(o)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(r,o,c){if(!r&&!c||!this.menuService.isHeaderContextMenuEnabled())return;const{target:p}=r??o;(p===this.eGui||p===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,r,c)}mockContextMenuForIPad(r){if(!zo())return;const o=new Js(this.eGui);this.addManagedListener(o,Js.EVENT_LONG_TAP,p=>{r(void 0,p.touchStart,p.touchEvent)}),this.addDestroyFunc(()=>o.destroy())}};P([$("headerNavigationService")],Rd.prototype,"headerNavigationService",2),P([$("focusService")],Rd.prototype,"focusService",2),P([$("columnModel")],Rd.prototype,"columnModel",2),P([$("ctrlsService")],Rd.prototype,"ctrlsService",2),P([$("filterManager")],Rd.prototype,"filterManager",2),P([$("menuService")],Rd.prototype,"menuService",2);var _f=class HH extends _n{constructor(){super(HH.TEMPLATE)}postConstruct(){const o={addOrRemoveCssClass:(y,S)=>this.addOrRemoveCssClass(y,S),setHeightAndMinHeight:y=>{this.getGui().style.height=y,this.getGui().style.minHeight=y}};this.createManagedBean(new Rd).setComp(o,this.getGui(),this.getFocusableElement());const p=y=>{this.createManagedBean(y),this.appendChild(y)};p(new xg("left")),p(new xg(null)),p(new xg("right"))}};_f.TEMPLATE='<div class="ag-header" role="presentation"/>',P([mt],_f.prototype,"postConstruct",1);var wu=_f,eu=class extends nn{addResizeBar(r){const o={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(o),()=>this.dragService.removeDragSource(o)}onDragStart(r,o){this.dragStartX=o.clientX,this.setResizeIcons();const c=o instanceof MouseEvent&&!0===o.shiftKey;r.onResizeStart(c)}setResizeIcons(){const r=this.ctrlsService.get("gridCtrl");r.setResizeCursor(!0),r.disableUserSelect(!0)}onDragStop(r,o){r.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const r=this.ctrlsService.get("gridCtrl");r.setResizeCursor(!1),r.disableUserSelect(!1)}onDragging(r,o){this.resizeAmount=o.clientX-this.dragStartX,r.onResizing(this.resizeAmount)}};P([$("dragService")],eu.prototype,"dragService",2),P([$("ctrlsService")],eu.prototype,"ctrlsService",2),eu=P([It("horizontalResizeService")],eu);var Wc=class extends nn{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(r,o,c){this.showPopup(r,p=>{this.popupService.positionPopupUnderMouseEvent({column:r,type:c,mouseEvent:o,ePopup:p})},c,o.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(r,o,c){let p=-1,y="left";const S=this.menuService.isLegacyMenuEnabled();!S&&this.gos.get("enableRtl")&&(p=1,y="right");let R=S?void 0:4*p,L=S?void 0:4;this.showPopup(r,Q=>{this.popupService.positionPopupByComponent({type:c,eventSource:o,ePopup:Q,nudgeX:R,nudgeY:L,alignSide:y,keepWithinBounds:!0,position:"under",column:r})},c,o,S)}showPopup(r,o,c,p,y){const S=r?this.createBean(new Dp(r,"COLUMN_MENU")):void 0;if(this.activeMenu=S,!S?.hasFilter()||!r)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const R=document.createElement("div");let L;fr(R,"presentation"),R.classList.add("ag-menu"),y||R.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(R,"keydown",Li=>this.trapFocusWithin(Li,R)),R.appendChild(S?.getGui());const be=this.menuService.isColumnMenuAnchoringEnabled()?p??this.ctrlsService.getGridBodyCtrl().getGui():void 0,Je=this.localeService.getLocaleTextFunc(),Bt=y&&"columnFilter"!==c?Je("ariaLabelColumnMenu","Column Menu"):Je("ariaLabelColumnFilter","Column Filter"),Ei=this.popupService.addPopup({modal:!0,eChild:R,closeOnEsc:!0,closedCallback:Li=>{r.setMenuVisible(!1,"contextMenu");const Wi=Li instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),Wi&&p&&bo(p)){const Vi=this.focusService.findTabbableParent(p);Vi&&Vi.focus()}S?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,c,r)},positionCallback:()=>o(R),anchorToElement:be,ariaLabel:Bt});Ei&&(this.hidePopup=L=Ei.hideFunc),S.afterInit().then(()=>{o(R),S.afterGuiAttached({container:c,hidePopup:L})}),r.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,c,r)}trapFocusWithin(r,o){r.key!==xi.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(o,r.shiftKey))}dispatchVisibleChangedEvent(r,o,c){this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:r,switchingTab:!1,key:o,column:c??null})}isMenuEnabled(r){var o;return r.isFilterAllowed()&&(null!=(o=r.getColDef().menuTabs)?o:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}};P([$("filterManager")],Wc.prototype,"filterManager",2),P([$("popupService")],Wc.prototype,"popupService",2),P([$("focusService")],Wc.prototype,"focusService",2),P([$("ctrlsService")],Wc.prototype,"ctrlsService",2),P([$("menuService")],Wc.prototype,"menuService",2),Wc=P([It("filterMenuFactory")],Wc);var Id=class extends nn{constructor(r){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:o,eTopGuard:c,eBottomGuard:p,focusTrapActive:y,forceFocusOutWhenTabGuardsAreEmpty:S,focusInnerElement:R,onFocusIn:L,onFocusOut:Q,shouldStopEventPropagation:be,onTabKeyDown:Ie,handleKeyDown:Je,eFocusableElement:Bt}=r;this.comp=o,this.eTopGuard=c,this.eBottomGuard=p,this.providedFocusInnerElement=R,this.eFocusableElement=Bt,this.focusTrapActive=!!y,this.forceFocusOutWhenTabGuardsAreEmpty=!!S,this.providedFocusIn=L,this.providedFocusOut=Q,this.providedShouldStopEventPropagation=be,this.providedOnTabKeyDown=Ie,this.providedHandleKeyDown=Je}postConstruct(){this.createManagedBean(new pn(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:r=>this.onTabKeyDown(r),handleKeyDown:r=>this.handleKeyDown(r),onFocusIn:r=>this.onFocusIn(r),onFocusOut:r=>this.onFocusOut(r)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(r=>this.addManagedListener(r,"focus",this.onFocus.bind(this)))}handleKeyDown(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const r=this.gos.get("tabIndex");this.comp.setTabIndex(r.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(r){if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty&&0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(r.target===this.eBottomGuard);const o=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}findNextElementOutsideAndFocus(r){const o=this.gos.getDocument(),c=this.focusService.findFocusableElements(o.body,null,!0),p=c.indexOf(r?this.eTopGuard:this.eBottomGuard);if(-1===p)return;let y,S;r?(y=0,S=p):(y=p+1,S=c.length);const R=c.slice(y,S),L=this.gos.get("tabIndex");R.sort((Q,be)=>{const Ie=parseInt(Q.getAttribute("tabindex")||"0"),Je=parseInt(be.getAttribute("tabindex")||"0");return Je===L?1:Ie===L?-1:0===Ie?1:0===Je?-1:Ie-Je}),R[r?R.length-1:0].focus()}onFocusIn(r){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(r),this.deactivateTabGuards())}onFocusOut(r){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(r),this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards())}onTabKeyDown(r){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(r);if(this.focusTrapActive||r.defaultPrevented)return;const o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();const c=this.getNextFocusableElement(r.shiftKey);o&&setTimeout(()=>this.activateTabGuards(),0),c&&(c.focus(),r.preventDefault())}focusInnerElement(r=!1){const o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[r?o.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)}forceFocusOutOfContainer(r=!1){if(this.forcingFocusOut)return;const o=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,o.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(r){return r===this.eTopGuard||r===this.eBottomGuard}};P([$("focusService")],Id.prototype,"focusService",2),P([mt],Id.prototype,"postConstruct",1);var bf=class extends _n{initialiseTabGuard(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const o=[this.eTopGuard,this.eBottomGuard],c={setTabIndex:p=>{o.forEach(y=>null!=p?y.setAttribute("tabindex",p):y.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Id({comp:c,focusTrapActive:!!r.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:r.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(r){const o=document.createElement("div");return o.classList.add("ag-tab-guard","top"===r?"ag-tab-guard-top":"ag-tab-guard-bottom"),fr(o,"presentation"),o}addTabGuards(r,o){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",o)}removeAllChildrenExceptTabGuards(){const r=[this.eTopGuard,this.eBottomGuard];ko(this.getFocusableElement()),this.addTabGuards(...r)}forceFocusOutOfContainer(r=!1){this.tabGuardCtrl.forceFocusOutOfContainer(r)}appendChild(r,o){qs(r)||(r=r.getGui());const{eBottomGuard:c}=this;c?c.insertAdjacentElement("beforebegin",r):super.appendChild(r,o)}},Dg=class UH extends bf{constructor(o){super(UH.getTemplate(o.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=o}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(o=>this.addItem(o)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var o,c,p;return null==(p=null==(c=null==(o=this.activeItem)?void 0:o.tabbedItem)?void 0:c.afterDetachedCallback)?void 0:p.call(c)})}static getTemplate(o){return`<div class="ag-tabs ${o}">\n            <div ref="eHeader"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body ${o?`${o}-body`:""}"></div>\n        </div>`}setupHeader(){const{enableCloseButton:o,cssClass:c}=this.params,p=(y,S)=>{y.classList.add(`ag-tabs-${S}`),c&&y.classList.add(`${c}-${S}`)};o?(this.setupCloseButton(p),this.eTabHeader=this.gos.getDocument().createElement("div"),p(this.eHeader,"header-wrapper"),fr(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,fr(this.eTabHeader,"tablist"),p(this.eTabHeader,"header")}setupCloseButton(o){const c=this.gos.getDocument(),p=c.createElement("button");o(p,"close-button");const y=jn("close",this.gos,void 0,!0);Cr(p,this.params.closeButtonAriaLabel),p.appendChild(y),this.addManagedListener(p,"click",()=>{var R,L;return null==(L=(R=this.params).onCloseClicked)?void 0:L.call(R)});const S=c.createElement("div");o(S,"close-button-wrapper"),fr(S,"presentation"),S.appendChild(p),this.eHeader.appendChild(S),this.eCloseButton=p}handleKeyDown(o){switch(o.key){case xi.RIGHT:case xi.LEFT:if(!this.eTabHeader.contains(this.gos.getActiveDomElement()))return;const c=o.key===xi.RIGHT,p=this.gos.get("enableRtl"),y=this.items.indexOf(this.activeItem),S=c!==p?Math.min(y+1,this.items.length-1):Math.max(y-1,0);if(y===S)return;o.preventDefault();const R=this.items[S];this.showItemWrapper(R),R.eHeaderButton.focus();break;case xi.UP:case xi.DOWN:o.stopPropagation()}}onTabKeyDown(o){var c,p,y,S;if(o.defaultPrevented)return;const{focusService:R,eHeader:L,eBody:Q,activeItem:be,params:Ie}=this,{suppressTrapFocus:Je,enableCloseButton:Bt}=Ie,Ei=this.gos.getActiveDomElement(),Li=o.target,Wi=o.shiftKey;if(L.contains(Ei))return o.preventDefault(),void(!Bt||!Wi||null!=(c=this.eCloseButton)&&c.contains(Ei)?Je&&Wi?null==(y=this.focusService.findFocusableElementBeforeTabGuard(this.gos.getDocument().body,Li))||y.focus():this.focusBody(o.shiftKey):null==(p=this.eCloseButton)||p.focus());let Vi=null;if(R.isTargetUnderManagedComponent(Q,Li)&&(Wi&&(Vi=this.focusService.findFocusableElementBeforeTabGuard(Q,Li)),!Vi&&!Je&&(Vi=be.eHeaderButton)),!Vi&&Q.contains(Ei)&&(Vi=R.findNextFocusableElement(Q,!1,Wi),!Vi))return o.preventDefault(),void(Je&&!Wi?this.forceFocusOutOfContainer(Wi):Bt&&!Wi?null==(S=this.eCloseButton)||S.focus():this.focusHeader());Vi&&(o.preventDefault(),Vi.focus())}focusInnerElement(o){o?this.focusHeader():this.focusBody(!0)}focusHeader(o){this.activeItem.eHeaderButton.focus({preventScroll:o})}focusBody(o){this.focusService.focusInto(this.eBody,o)}setAfterAttachedParams(o){this.afterAttachedParams=o}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(o){const c=document.createElement("span");fr(c,"tab"),c.setAttribute("tabindex","-1"),c.appendChild(o.title),c.classList.add("ag-tab"),this.eTabHeader.appendChild(c),Cr(c,o.titleLabel);const p={tabbedItem:o,eHeaderButton:c};this.items.push(p),c.addEventListener("click",this.showItemWrapper.bind(this,p))}showItem(o){const c=this.items.find(p=>p.tabbedItem===o);c&&this.showItemWrapper(c)}showItemWrapper(o){var c,p,y,S,R,L;const{tabbedItem:Q,eHeaderButton:be}=o;null==(p=(c=this.params).onItemClicked)||p.call(c,{item:Q}),this.activeItem!==o?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),ko(this.eBody),Q.bodyPromise.then(Ie=>{this.eBody.appendChild(Ie);const Je=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,Je),Q.afterAttachedCallback&&Q.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const Bt=Q.getScrollableContainer&&Q.getScrollableContainer()||Ie;this.lastScrollListener=this.addManagedListener(Bt,"scroll",()=>{this.tabbedItemScrollMap.set(Q.name,Bt.scrollTop)});const Ei=this.tabbedItemScrollMap.get(Q.name);void 0!==Ei&&setTimeout(()=>{Bt.scrollTop=Ei},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),null==(L=(R=this.activeItem.tabbedItem).afterDetachedCallback)||L.call(R)),be.classList.add("ag-tab-selected"),this.activeItem=o):null==(S=(y=this.params).onActiveItemClicked)||S.call(y)}};P([$("focusService")],Dg.prototype,"focusService",2),P([sn("eHeader")],Dg.prototype,"eHeader",2),P([sn("eBody")],Dg.prototype,"eBody",2),P([mt],Dg.prototype,"postConstruct",1);var vy=class extends nn{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(r,o){const c=this.gos.getWindow(),y=()=>{var L,Q;let be=null!=(L=r?.clientWidth)?L:0,Ie=null!=(Q=r?.clientHeight)?Q:0,Je=!0;const Bt=()=>{var Ei,Li;if(Je){const Wi=null!=(Ei=r?.clientWidth)?Ei:0,Vi=null!=(Li=r?.clientHeight)?Li:0;(Wi!==be||Vi!==Ie)&&(be=Wi,Ie=Vi,o()),this.doNextPolyfillTurn(Bt)}};return Bt(),()=>Je=!1},S=this.gos.get("suppressBrowserResizeObserver");return c.ResizeObserver&&!S?(()=>{const L=new c.ResizeObserver(o);return L.observe(r),()=>L.disconnect()})():this.getFrameworkOverrides().wrapIncoming(()=>y(),"resize-observer")}doNextPolyfillTurn(r){this.polyfillFunctions.push(r),this.schedulePolyfill()}schedulePolyfill(){this.polyfillScheduled||(this.polyfillScheduled=!0,window.setTimeout(()=>{const o=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],o.forEach(c=>c())},50))}};vy=P([It("resizeObserverService")],vy);var kp=class extends nn{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(r){const o=this.gos.get("pagination");if(this.scrollGoingDown=r>=this.lastScrollTop,o&&0===r){const c=this.paginationProxy.getCurrentPage();c!==this.lastPage&&(this.lastPage=c,this.scrollGoingDown=!0)}this.lastScrollTop=r}init(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(r){!1===this.useAnimationFrame&&console.warn(`AG Grid: AnimationFrameService.${r} called but animation frames are off`)}createTask(r,o,c){this.verifyAnimationFrameOn(c);const p={task:r,index:o,createOrder:++this.taskCount};this.addTaskToList(this[c],p),this.schedule()}cancelTask(r){this.cancelledTasks.add(r)}addTaskToList(r,o){r.list.push(o),r.sorted=!1}sortTaskList(r){if(r.sorted)return;const o=this.scrollGoingDown?1:-1;r.list.sort((c,p)=>c.index!==p.index?o*(p.index-c.index):p.createOrder-c.createOrder),r.sorted=!0}addDestroyTask(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()}executeFrame(r){this.verifyAnimationFrameOn("executeFrame");const o=this.createTasksP1,c=o.list,p=this.createTasksP2,y=p.list,S=this.destroyTasks,R=(new Date).getTime();let L=(new Date).getTime()-R;const Q=r<=0,be=this.ctrlsService.getGridBodyCtrl();for(;Q||L<r;){if(!be.getScrollFeature().scrollGridIfNeeded()){let Je;if(c.length)this.sortTaskList(o),Je=c.pop().task;else if(y.length)this.sortTaskList(p),Je=y.pop().task;else{if(!S.length){this.cancelledTasks.clear();break}Je=S.pop()}this.cancelledTasks.has(Je)||Je()}L=(new Date).getTime()-R}c.length||y.length||S.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const r=this.executeFrame.bind(this,60);this.requestAnimationFrame(r)}requestAnimationFrame(r){const o=this.gos.getWindow();o.requestAnimationFrame?o.requestAnimationFrame(r):o.webkitRequestAnimationFrame?o.webkitRequestAnimationFrame(r):o.setTimeout(r,0)}isQueueEmpty(){return!this.ticking}debounce(r){let o=!1;return()=>{this.isOn()?o||(o=!0,this.addDestroyTask(()=>{o=!1,r()})):window.setTimeout(r,0)}}};P([$("ctrlsService")],kp.prototype,"ctrlsService",2),P([$("paginationProxy")],kp.prototype,"paginationProxy",2),P([mt],kp.prototype,"init",1),kp=P([It("animationFrameService")],kp);var Vh=class extends nn{postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(r){if(!this.isClientSideRowModel)return;const o=new Set(r);this.rowModel.forEachNode(c=>{c.id&&o.has(c.id)&&(c.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const r=[];return this.rowModel.forEachNode(({expanded:o,id:c})=>{o&&c&&r.push(c)}),r}expandAll(r){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(r)}setRowNodeExpanded(r,o,c,p){r&&(c&&r.parent&&-1!==r.parent.level&&this.setRowNodeExpanded(r.parent,o,c,p),r.setExpanded(o,void 0,p))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};P([$("rowModel")],Vh.prototype,"rowModel",2),P([mt],Vh.prototype,"postConstruct",1),Vh=P([It("expansionService")],Vh);var sc=class extends nn{postConstruct(){var r;this.activeMenuFactory=null!=(r=this.enterpriseMenuFactory)?r:this.filterMenuFactory}showColumnMenu(r){this.showColumnMenuCommon(this.activeMenuFactory,r,"columnMenu")}showFilterMenu(r){const o=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(o,r,r.containerType,!0)}showHeaderContextMenu(r,o,c){this.activeMenuFactory.showMenuAfterContextMenuEvent(r,o,c)}getContextMenuPosition(r,o){const c=this.getRowCtrl(r),p=this.getCellGui(c,o);if(!p)return c?{x:0,y:c.getRowYPosition()}:{x:0,y:0};const y=p.getBoundingClientRect();return{x:y.x+y.width/2,y:y.y+y.height/2}}showContextMenu(r){var o,c,p;const{column:y,rowNode:S}=r;let{anchorToElement:R,value:L}=r;S&&y&&null==L&&(L=S.getValueFromValueService(y)),null==R&&(R=this.getContextMenuAnchorElement(S,y)),null==(p=this.contextMenuFactory)||p.onContextMenu(null!=(o=r.mouseEvent)?o:null,null!=(c=r.touchEvent)?c:null,S??null,y??null,L,R)}showColumnChooser(r){var o;null==(o=this.columnChooserFactory)||o.showColumnChooser(r)}hidePopupMenu(){var r;null==(r=this.contextMenuFactory)||r.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var r;null==(r=this.columnChooserFactory)||r.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(r){const{suppressMenu:o,suppressHeaderMenuButton:c}=r.getColDef();return!(c??o)&&this.activeMenuFactory.isMenuEnabled(r)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(r){return!r.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(r)}isHeaderContextMenuEnabled(r){return!r?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const r=!this.isSuppressMenuHide();return!(zo()&&r)}isHeaderFilterButtonEnabled(r){return this.isFilterMenuInHeaderEnabled(r)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(r)}isFilterMenuItemEnabled(r){return this.filterManager.isFilterAllowed(r)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(r)&&!this.isFloatingFilterButtonDisplayed(r)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(r){var o;const c=r.getColDef(),p=null==(o=c.floatingFilterComponentParams)?void 0:o.suppressFilterButton;return null!=p&&Zt("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==c.suppressFloatingFilterButton?!p:!c.suppressFloatingFilterButton}getColumnMenuType(){var r;return null!=(r=this.gos.get("columnMenu"))?r:"legacy"}isFloatingFilterButtonDisplayed(r){return!!r.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(r)}isSuppressMenuHide(){const r=this.gos.get("suppressMenuHide");return!this.isLegacyMenuEnabled()&&!this.gos.exists("suppressMenuHide")||r}showColumnMenuCommon(r,o,c,p){const{column:y,positionBy:S}=o;if("button"===S){const{buttonElement:R}=o;r.showMenuAfterButtonClick(y,R,c,p)}else if("mouse"===S){const{mouseEvent:R}=o;r.showMenuAfterMouseEvent(y,R,c,p)}else y&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(y,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const R=this.ctrlsService.getHeaderRowContainerCtrl(y.getPinned()).getHeaderCtrlForColumn(y);r.showMenuAfterButtonClick(y,R.getAnchorElementForMenu(p),c,!0)}))}getRowCtrl(r){const{rowIndex:o,rowPinned:c}=r||{};if(null!=o)return this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:c})||void 0}getCellGui(r,o){if(!r||!o)return;const c=r.getCellCtrl(o);return c?.getGui()||void 0}getContextMenuAnchorElement(r,o){const c=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),p=this.getRowCtrl(r);return p?this.getCellGui(p,o)||(p.isFullWidth()?p.getFullWidthElement():c):c}};P([$("filterMenuFactory")],sc.prototype,"filterMenuFactory",2),P([$("ctrlsService")],sc.prototype,"ctrlsService",2),P([$("animationFrameService")],sc.prototype,"animationFrameService",2),P([$("filterManager")],sc.prototype,"filterManager",2),P([$("rowRenderer")],sc.prototype,"rowRenderer",2),P([Kt("columnChooserFactory")],sc.prototype,"columnChooserFactory",2),P([Kt("contextMenuFactory")],sc.prototype,"contextMenuFactory",2),P([Kt("enterpriseMenuFactory")],sc.prototype,"enterpriseMenuFactory",2),P([mt],sc.prototype,"postConstruct",1),sc=P([It("menuService")],sc);var lh=class extends nn{postConstruct(){this.ctrlsService.whenReady(r=>{this.centerRowContainerCtrl=r.center})}getPreferredWidthForColumn(r,o){const c=this.getHeaderCellForColumn(r);if(!c)return-1;const p=this.rowRenderer.getAllCellsForColumn(r);return o||p.push(c),this.addElementsToContainerAndGetWidth(p)}getPreferredWidthForColumnGroup(r){const o=this.getHeaderCellForColumn(r);return o?this.addElementsToContainerAndGetWidth([o]):-1}addElementsToContainerAndGetWidth(r){const o=document.createElement("form");o.style.position="fixed";const c=this.centerRowContainerCtrl.getContainerElement();r.forEach(S=>this.cloneItemIntoDummy(S,o)),c.appendChild(o);const p=o.offsetWidth;return c.removeChild(o),p+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(r){let o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(c=>{const p=c.getHtmlElementForColumnHeader(r);null!=p&&(o=p)}),o}cloneItemIntoDummy(r,o){const c=r.cloneNode(!0);c.style.width="",c.style.position="static",c.style.left="";const p=document.createElement("div"),y=p.classList;["ag-header-cell","ag-header-group-cell"].some(L=>c.classList.contains(L))?(y.add("ag-header","ag-header-row"),p.style.position="static"):y.add("ag-row");let R=r.parentElement;for(;R;){if(["ag-header-row","ag-row"].some(Q=>R.classList.contains(Q))){for(let Q=0;Q<R.classList.length;Q++){const be=R.classList[Q];"ag-row-position-absolute"!=be&&y.add(be)}break}R=R.parentElement}p.appendChild(c),o.appendChild(p)}};P([$("rowRenderer")],lh.prototype,"rowRenderer",2),P([$("ctrlsService")],lh.prototype,"ctrlsService",2),P([$("rowCssClassCalculator")],lh.prototype,"rowCssClassCalculator",2),P([mt],lh.prototype,"postConstruct",1),lh=P([It("autoWidthCalculator")],lh);var Eg=class extends nn{constructor(r,o){super(),this.createRowCon=r,this.destroyRowCtrls=o,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady(r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}getLastPixelOfGroup(r){return this.isClientSide?this.getClientSideLastPixelOfGroup(r):this.getServerSideLastPixelOfGroup(r)}getFirstPixelOfGroup(r){return r.footer?r.sibling.rowTop+r.sibling.rowHeight-1:r.hasChildren()?r.rowTop-1:0}getServerSideLastPixelOfGroup(r){var o,c,p,y;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(r.isExpandable()||r.footer){if(r.master)return r.detailNode.rowTop+r.detailNode.rowHeight;if(!r.sibling||1===Math.abs(r.sibling.rowIndex-r.rowIndex)){let R=null==(o=r.childStore)?void 0:o.getStoreBounds();return r.footer&&(R=null==(c=r.sibling.childStore)?void 0:c.getStoreBounds()),(null!=(p=R?.heightPx)?p:0)+(null!=(y=R?.topPx)?y:0)}return r.footer?r.rowTop+r.rowHeight:r.sibling.rowTop+r.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(r){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(r.isExpandable()||r.footer){const o=r.footer&&0===r.rowIndex,c=!r.sibling||1===Math.abs(r.sibling.rowIndex-r.rowIndex);if(o||c){let p=r.footer?r.sibling:r;for(;p.isExpandable()&&p.expanded;)if(p.master)p=p.detailNode;else if(p.childrenAfterSort){if(0===p.childrenAfterSort.length)break;p=zt(p.childrenAfterSort)}return p.rowTop+p.rowHeight}return r.footer?r.rowTop+r.rowHeight:r.sibling.rowTop+r.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(r){const o="top"===r;let c=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(r,new Set,c);const p=o?this.rowRenderer.getFirstVisibleVerticalPixel():this.rowRenderer.getLastVisibleVerticalPixel(),y=new Set,S=be=>{if(y.add(be),o){const Ie=this.getLastPixelOfGroup(be),Je=p+c+be.rowHeight;be.stickyRowTop=Ie<Je?c+(Ie-Je):c}else{const Ie=this.getFirstPixelOfGroup(be),Je=p-(c+be.rowHeight);be.stickyRowTop=Ie>Je?c-(Ie-Je):c}c=0,y.forEach(Ie=>{const Je=Ie.stickyRowTop+Ie.rowHeight;c<Je&&(c=Je)})},R=this.areFooterRowsStickySuppressed(),L=this.gos.get("suppressGroupRowsSticky"),Q=be=>!!be.displayed&&(be.footer?!(!0===R||"grand"===R&&-1===be.level||"group"===R&&be.level>-1||y.has(be)):!!be.isExpandable()&&!0!==L&&!y.has(be)&&be.expanded);for(let be=0;be<100;be++){let Ie=p+c;o||(Ie=p-c);const Je=this.rowModel.getRowIndexAtPixel(Ie),Bt=this.rowModel.getRow(Je);if(null==Bt)break;const Li=this.getStickyAncestors(Bt).find(Vi=>(o?Vi.rowIndex<Je:Vi.rowIndex>Je)&&Q(Vi));if(Li)S(Li);else{if(!(o?Bt.rowTop<Ie:Bt.rowTop+Bt.rowHeight>Ie)||!Q(Bt))break;S(Bt)}}return o||y.forEach(be=>{be.stickyRowTop=c-(be.stickyRowTop+be.rowHeight)}),this.refreshNodesAndContainerHeight(r,y,c)}areFooterRowsStickySuppressed(){const r=this.gos.get("suppressStickyTotalRow");if(!0===r)return!0;const o=!!this.gos.get("groupIncludeFooter")||"group"===r,c=!!this.gos.get("groupIncludeTotalFooter")||"grand"===r;return!(!o||!c)||(c?"grand":!!o&&"group")}canRowsBeSticky(){const r=this.gos.isGroupRowsSticky(),o=this.areFooterRowsStickySuppressed(),c=this.gos.get("suppressGroupRowsSticky");return r&&(!o||!c)}getStickyAncestors(r){const o=[];let c=r.footer?r.sibling:r.parent;for(;c;)c.sibling&&o.push(c.sibling),o.push(c),c=c.parent;return o.reverse()}checkStickyRows(){const r=this.updateStickyRows("top"),o=this.updateStickyRows("bottom");return r||o}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(r){const o=new Set;if(this.stickyTopRowCtrls.some(c=>c.getRowNode()===r)){for(let c=0;c<this.stickyTopRowCtrls.length;c++){const p=this.stickyTopRowCtrls[c].getRowNode();p!==r&&o.add(p)}this.refreshNodesAndContainerHeight("top",o,this.topContainerHeight)&&this.checkStickyRows()}else{for(let c=0;c<this.stickyBottomRowCtrls.length;c++){const p=this.stickyBottomRowCtrls[c].getRowNode();p!==r&&o.add(p)}this.refreshNodesAndContainerHeight("bottom",o,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(r,o,c){const p="top"===r,y=p?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,S={},R=[];for(let Je=0;Je<y.length;Je++){const Bt=y[Je].getRowNode();o.has(Bt)?R.push(y[Je]):(S[Bt.id]=y[Je],Bt.sticky=!1)}const L=new Set;for(let Je=0;Je<R.length;Je++)L.add(R[Je].getRowNode());const Q=[];o.forEach(Je=>{L.has(Je)||(Je.sticky=!0,Q.push(this.createRowCon(Je,!1,!1)))});let be=!!Q.length||R.length!==y.length;p?this.topContainerHeight!==c&&(this.topContainerHeight=c,this.gridBodyCtrl.setStickyTopHeight(c),be=!0):this.bottomContainerHeight!==c&&(this.bottomContainerHeight=c,this.gridBodyCtrl.setStickyBottomHeight(c),be=!0),this.destroyRowCtrls(S,!1);const Ie=[...R,...Q];return Ie.sort((Je,Bt)=>Bt.getRowNode().rowIndex-Je.getRowNode().rowIndex),p||Ie.reverse(),Ie.forEach(Je=>Je.setRowTop(Je.getRowNode().stickyRowTop)),!!be&&(p?this.stickyTopRowCtrls=Ie:this.stickyBottomRowCtrls=Ie,!0)}};P([$("rowModel")],Eg.prototype,"rowModel",2),P([$("rowRenderer")],Eg.prototype,"rowRenderer",2),P([$("ctrlsService")],Eg.prototype,"ctrlsService",2),P([mt],Eg.prototype,"postConstruct",1);var ad=class extends nn{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const r=()=>{this.getAllCellCtrls().forEach(S=>S.onRangeSelectionChanged())},o=()=>{this.getAllCellCtrls().forEach(S=>S.updateRangeBordersIfRangeCount())},c=()=>{this.eventService.addEventListener(ae.EVENT_RANGE_SELECTION_CHANGED,r),this.eventService.addEventListener(ae.EVENT_COLUMN_MOVED,o),this.eventService.addEventListener(ae.EVENT_COLUMN_PINNED,o),this.eventService.addEventListener(ae.EVENT_COLUMN_VISIBLE,o)},p=()=>{this.eventService.removeEventListener(ae.EVENT_RANGE_SELECTION_CHANGED,r),this.eventService.removeEventListener(ae.EVENT_COLUMN_MOVED,o),this.eventService.removeEventListener(ae.EVENT_COLUMN_PINNED,o),this.eventService.removeEventListener(ae.EVENT_COLUMN_VISIBLE,o)};this.addDestroyFunc(()=>p()),this.addManagedPropertyListener("enableRangeSelection",S=>{S.currentValue?c():p()}),this.gos.get("enableRangeSelection")&&c()}}postConstruct(){this.ctrlsService.whenReady(r=>{this.gridBodyCtrl=r.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){const r=this.rowModel.getType();("clientSide"===r||"serverSide"===r)&&(this.stickyRowFeature=this.createManagedBean(new Eg(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const r=this.getKeepDetailRowsCount();this.cachedRowCtrls=new Om(r??3)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const r=Oi(this.rowCtrlsByRowIndex),o=Oi(this.zombieRowCtrls),c=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=o.length>0||c.length>0?[...r,...o,...c]:r}onCellFocusChanged(r){this.getAllCellCtrls().forEach(o=>o.onCellFocused(r)),this.getFullWidthRowCtrls().forEach(o=>o.onFullWidthRowFocused(r))}registerCellEventListeners(){this.addManagedListener(this.eventService,ae.EVENT_CELL_FOCUSED,r=>{this.onCellFocusChanged(r)}),this.addManagedListener(this.eventService,ae.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,ae.EVENT_FLASH_CELLS,r=>{this.getAllCellCtrls().forEach(o=>o.onFlashCells(r))}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(r=>r.onColumnHover())}),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(r=>r.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(r=>r.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ae.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(r=>r()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(o=>{const c=Q=>{this.getAllCellCtrls().forEach(be=>{be.getColumn()===o&&Q(be)})},p=()=>{c(Q=>Q.onLeftChanged())},y=()=>{c(Q=>Q.onWidthChanged())},S=()=>{c(Q=>Q.onFirstRightPinnedChanged())},R=()=>{c(Q=>Q.onLastLeftPinnedChanged())},L=()=>{c(Q=>Q.onColDefChanged())};o.addEventListener("leftChanged",p),o.addEventListener("widthChanged",y),o.addEventListener("firstRightPinnedChanged",S),o.addEventListener("lastLeftPinnedChanged",R),o.addEventListener("colDefChanged",L),this.destroyFuncsForColumnListeners.push(()=>{o.removeEventListener("leftChanged",p),o.removeEventListener("widthChanged",y),o.removeEventListener("firstRightPinnedChanged",S),o.removeEventListener("lastLeftPinnedChanged",R),o.removeEventListener("colDefChanged",L)})})}onDomLayoutChanged(){const r=this.gos.isDomLayout("print"),o=r||this.gos.get("embedFullWidthRows"),c=o!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=o,c&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)}onPageLoaded(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})}getAllCellsForColumn(r){const o=[];return this.getAllRowCtrls().forEach(c=>{const p=c.getCellElement(r);p&&o.push(p)}),o}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(r,o){r.forEach(c=>{c.destroyFirstPass(),c.destroySecondPass()}),r.length=0,o&&o.forEach(c=>{const p=new Td(c,this.beans,!1,!1,this.printLayout);r.push(p)})}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(r,o=!1){var c;if(r.sticky)this.stickyRowFeature.refreshStickyNode(r);else{if(null!=(c=this.cachedRowCtrls)&&c.has(r))return void this.cachedRowCtrls.removeRow(r);{const p=y=>{const S=y[r.rowIndex];S&&S.getRowNode()===r&&(S.destroyFirstPass(),S.destroySecondPass(),y[r.rowIndex]=this.createRowCon(r,!1,!1))};switch(r.rowPinned){case"top":p(this.topRowCtrls);break;case"bottom":p(this.bottomRowCtrls);break;default:p(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}o||this.dispatchDisplayedRowsChanged(!1)}redrawRows(r){if(null!=r)return r?.forEach(c=>this.redrawRow(c,!0)),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(r){const o=r?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==o)return null;const c=this.gos.getActiveDomElement(),p=this.gos.getDomData(c,Jd.DOM_DATA_KEY_CELL_CTRL),y=this.gos.getDomData(c,Td.DOM_DATA_KEY_ROW_CTRL);return p||y?o:null}redrawAfterModelUpdate(r={}){this.getLockOnRefresh();const o=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);const c=!r.domLayoutChanged&&!!r.recycleRows,p=r.animate&&this.gos.isAnimateRows(),y=c?this.getRowsToRecycle():null;c||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(y,p),this.gridBodyCtrl.updateRowCount(),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=o&&this.restoreFocusedCell(o),this.releaseLockOnRefresh()}scrollToTopIfNewData(r){const o=r.newData||r.newPage,c=this.gos.get("suppressScrollOnNewData");o&&!c&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(r){r&&(this.focusService.setRestoreFocusedCell(r),this.onCellFocusChanged(this.beans.gos.addGridCommonParams({rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(r=!1){this.getAllRowCtrls().forEach(o=>{o.stopEditing(r)})}getAllCellCtrls(){const r=[],o=this.getAllRowCtrls(),c=o.length;for(let p=0;p<c;p++){const y=o[p].getAllCellCtrls(),S=y.length;for(let R=0;R<S;R++)r.push(y[R])}return r}getAllRowCtrls(){const r=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],o=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],c=[...this.topRowCtrls,...this.bottomRowCtrls,...r,...o];for(const p in this.rowCtrlsByRowIndex)c.push(this.rowCtrlsByRowIndex[p]);return c}addRenderedRowListener(r,o,c){const p=this.rowCtrlsByRowIndex[o];p&&p.addEventListener(r,c)}flashCells(r={}){this.getCellCtrls(r.rowNodes,r.columns).forEach(o=>o.flashCell(r))}refreshCells(r={}){const o={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(c=>c.refreshOrDestroyCell(o)),r.rowNodes&&(this.getRowCtrls(r.rowNodes).forEach(c=>{c.isFullWidth()&&(c.refreshFullWidth()||this.redrawRow(c.getRowNode(),!0))}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(r){var o;const c=this.getCellCtrls(r.rowNodes,r.columns).map(S=>S.getCellRenderer()).filter(S=>null!=S);if(null!=(o=r.columns)&&o.length)return c;const p=[],y=this.mapRowNodes(r.rowNodes);return this.getAllRowCtrls().forEach(S=>{if(y&&!this.isRowInMap(S.getRowNode(),y)||!S.isFullWidth())return;const R=S.getFullWidthCellRenderers();for(let L=0;L<R.length;L++){const Q=R[L];null!=Q&&p.push(Q)}}),[...p,...c]}getCellEditorInstances(r){const o=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(c=>{const p=c.getCellEditor();p&&o.push(p)}),o}getEditingCells(){const r=[];return this.getAllCellCtrls().forEach(o=>{if(o.isEditing()){const c=o.getCellPosition();r.push(c)}}),r}mapRowNodes(r){if(!r)return;const o={top:{},bottom:{},normal:{}};return r.forEach(c=>{const p=c.id;switch(c.rowPinned){case"top":o.top[p]=c;break;case"bottom":o.bottom[p]=c;break;default:o.normal[p]=c}}),o}isRowInMap(r,o){const c=r.id;switch(r.rowPinned){case"top":return null!=o.top[c];case"bottom":return null!=o.bottom[c];default:return null!=o.normal[c]}}getRowCtrls(r){const o=this.mapRowNodes(r),c=this.getAllRowCtrls();return r&&o?c.filter(p=>{const y=p.getRowNode();return this.isRowInMap(y,o)}):c}getCellCtrls(r,o){let c;pt(o)&&(c={},o.forEach(y=>{const S=this.columnModel.getGridColumn(y);pt(S)&&(c[S.getId()]=!0)}));const p=[];return this.getRowCtrls(r).forEach(y=>{y.getAllCellCtrls().forEach(S=>{const R=S.getColumn().getId();c&&!c[R]||p.push(S)})}),p}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const r=[];bi(this.rowCtrlsByRowIndex,(c,p)=>{null==p.getRowNode().id&&r.push(c)}),this.removeRowCtrls(r);const o={};return bi(this.rowCtrlsByRowIndex,(c,p)=>{const y=p.getRowNode();o[y.id]=p}),this.rowCtrlsByRowIndex={},o}removeRowCtrls(r,o=!1){r.forEach(c=>{const p=this.rowCtrlsByRowIndex[c];p&&(p.destroyFirstPass(o),p.destroySecondPass()),delete this.rowCtrlsByRowIndex[c]})}onBodyScroll(r){"vertical"===r.direction&&this.redraw({afterScroll:!0})}redraw(r={}){const{afterScroll:o}=r;let c;this.stickyRowFeature&&Pl()&&(c=this.getCellToRestoreFocusToAfterRefresh()||void 0);const p=this.firstRenderedRow,y=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let S=!1;if(this.stickyRowFeature&&(S=this.stickyRowFeature.checkStickyRows()),(!o||S||this.firstRenderedRow!==p||this.lastRenderedRow!==y)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,o),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(o&&!S),null!=c)){const L=this.getCellToRestoreFocusToAfterRefresh();null!=c&&null==L&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(c))}}removeRowCompsNotToDraw(r,o){const c={};r.forEach(S=>c[S]=!0);const y=Object.keys(this.rowCtrlsByRowIndex).filter(S=>!c[S]);this.removeRowCtrls(y,o)}calculateIndexesToDraw(r){let o=Ar(this.firstRenderedRow,this.lastRenderedRow);const c=(y,S)=>{const R=S.getRowNode().rowIndex;null!=R&&(R<this.firstRenderedRow||R>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(S)&&o.push(R)};bi(this.rowCtrlsByRowIndex,c),bi(r,c),o.sort((y,S)=>y-S);const p=[];for(let y=0;y<o.length;y++){const S=o[y],R=this.paginationProxy.getRow(S);R&&!R.sticky&&p.push(S)}return p}recycleRows(r,o=!1,c=!1){const p=this.calculateIndexesToDraw(r);(this.printLayout||c)&&(o=!1),this.removeRowCompsNotToDraw(p,!o);const y=[];p.forEach(S=>{const R=this.createOrUpdateRowCtrl(S,r,o,c);pt(R)&&y.push(R)}),r&&(!c||this.gos.get("suppressAnimationFrame")||this.printLayout?this.destroyRowCtrls(r,o):this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(r,o),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(r=!1){this.eventService.dispatchEvent({type:ae.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:r})}onDisplayedColumnsChanged(){const r=this.columnModel.isPinningLeft(),o=this.columnModel.isPinningRight();(this.pinningLeft!==r||o!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const r=[];this.getFullWidthRowCtrls().forEach(o=>{const c=o.getRowNode().rowIndex;r.push(c.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(r){const o=this.mapRowNodes(r);return this.getAllRowCtrls().filter(c=>{if(!c.isFullWidth())return!1;const p=c.getRowNode();return!(null!=o&&!this.isRowInMap(p,o))})}createOrUpdateRowCtrl(r,o,c,p){let y,S=this.rowCtrlsByRowIndex[r];if(S||(y=this.paginationProxy.getRow(r),pt(y)&&pt(o)&&o[y.id]&&y.alreadyRendered&&(S=o[y.id],o[y.id]=null)),!S){if(y||(y=this.paginationProxy.getRow(r)),!pt(y))return;S=this.createRowCon(y,c,p)}return y&&(y.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=S,S}destroyRowCtrls(r,o){const c=[];bi(r,(p,y)=>{if(y){if(this.cachedRowCtrls&&y.isCacheable())return void this.cachedRowCtrls.addRow(y);y.destroyFirstPass(!o),o?(this.zombieRowCtrls[y.getInstanceId()]=y,c.push(()=>{y.destroySecondPass(),delete this.zombieRowCtrls[y.getInstanceId()]})):y.destroySecondPass()}}),o&&(c.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),ri(c))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let r,o;if(this.rowContainerHeightService.updateOffset(),this.paginationProxy.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),r=this.paginationProxy.getPageFirstRow(),o=this.paginationProxy.getPageLastRow();else{const L=this.getRowBufferInPixels(),Q=this.ctrlsService.getGridBodyCtrl(),be=this.gos.get("suppressRowVirtualisation");let Je,Bt,Ie=!1;do{const wn=this.paginationProxy.getPixelOffset(),{pageFirstPixel:cn,pageLastPixel:xn}=this.paginationProxy.getCurrentPagePixelRange(),Nn=this.rowContainerHeightService.getDivStretchOffset(),Gn=Q.getScrollFeature().getVScrollPosition(),qn=Gn.top,hr=Gn.bottom;be?(Je=cn+Nn,Bt=xn+Nn):(Je=Math.max(qn+wn-L,cn)+Nn,Bt=Math.min(hr+wn+L,xn)+Nn),this.firstVisibleVPixel=Math.max(qn+wn,cn)+Nn,this.lastVisibleVPixel=Math.min(hr+wn,xn)+Nn,Ie=this.ensureAllRowsInRangeHaveHeightsCalculated(Je,Bt)}while(Ie);let Ei=this.paginationProxy.getRowIndexAtPixel(Je),Li=this.paginationProxy.getRowIndexAtPixel(Bt);const Wi=this.paginationProxy.getPageFirstRow(),Vi=this.paginationProxy.getPageLastRow();Ei<Wi&&(Ei=Wi),Li>Vi&&(Li=Vi),r=Ei,o=Li}else r=0,o=-1;const c=this.gos.isDomLayout("normal"),p=this.gos.get("suppressMaxRenderedRowRestriction"),y=Math.max(this.getRowBuffer(),500);c&&!p&&o-r>y&&(o=r+y),r===this.firstRenderedRow&&o===this.lastRenderedRow||(this.firstRenderedRow=r,this.lastRenderedRow=o,this.eventService.dispatchEvent({type:ae.EVENT_VIEWPORT_CHANGED,firstRow:r,lastRow:o}))}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const r={type:ae.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(r)})}ensureAllRowsInRangeHaveHeightsCalculated(r,o){const c=this.paginationProxy.ensureRowHeightsValid(r,o,-1,-1);return c&&this.updateContainerHeights(),c}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(r){const p=r.getRowNode(),y=this.focusService.isRowNodeFocused(p),S=r.isEditing();return!!(y||S||p.detail)&&!!this.paginationProxy.isRowPresent(p)}createRowCon(r,o,c){const p=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(p)return p;const y=this.gos.get("suppressAnimationFrame");return new Td(r,this.beans,o,c&&!y&&!this.printLayout,this.printLayout)}getRenderedNodes(){return Object.values(this.rowCtrlsByRowIndex).map(o=>o.getRowNode())}getRowByPosition(r){let o;const{rowIndex:c}=r;switch(r.rowPinned){case"top":o=this.topRowCtrls[c];break;case"bottom":o=this.bottomRowCtrls[c];break;default:o=this.rowCtrlsByRowIndex[c],o||(o=this.getStickyTopRowCtrls().find(p=>p.getRowNode().rowIndex===c)||null,o||(o=this.getStickyBottomRowCtrls().find(p=>p.getRowNode().rowIndex===c)||null))}return o}isRangeInRenderedViewport(r,o){return null!=r&&null!=o&&!(o<this.firstRenderedRow||r>this.lastRenderedRow)}};P([$("animationFrameService")],ad.prototype,"animationFrameService",2),P([$("paginationProxy")],ad.prototype,"paginationProxy",2),P([$("columnModel")],ad.prototype,"columnModel",2),P([$("pinnedRowModel")],ad.prototype,"pinnedRowModel",2),P([$("rowModel")],ad.prototype,"rowModel",2),P([$("focusService")],ad.prototype,"focusService",2),P([$("beans")],ad.prototype,"beans",2),P([$("rowContainerHeightService")],ad.prototype,"rowContainerHeightService",2),P([$("ctrlsService")],ad.prototype,"ctrlsService",2),P([mt],ad.prototype,"postConstruct",1),ad=P([It("rowRenderer")],ad);var Om=class{constructor(r){this.entriesMap={},this.entriesList=[],this.maxCount=r}addRow(r){if(this.entriesMap[r.getRowNode().id]=r,this.entriesList.push(r),r.setCached(!0),this.entriesList.length>this.maxCount){const o=this.entriesList[0];o.destroyFirstPass(),o.destroySecondPass(),this.removeFromCache(o)}}getRow(r){if(null==r||null==r.id)return null;const o=this.entriesMap[r.id];return o?(this.removeFromCache(o),o.setCached(!1),o.getRowNode()!=r?null:o):null}has(r){return null!=this.entriesMap[r.id]}removeRow(r){const o=r.id,c=this.entriesMap[o];delete this.entriesMap[o],Nt(this.entriesList,c)}removeFromCache(r){const o=r.getRowNode().id;delete this.entriesMap[o],Nt(this.entriesList,r)}getEntries(){return this.entriesList}},Gh=class extends nn{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(r){return oi("top"===r?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(r){return!this.isEmpty(r)}getRowAtPixel(r,o){const c="top"===o?this.pinnedTopRows:this.pinnedBottomRows;if(oi(c))return 0;for(let p=0;p<c.length;p++){const y=c[p];if(y.rowTop+y.rowHeight-1>=r)return p}return c.length-1}setPinnedTopRowData(){const r=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:ae.EVENT_PINNED_ROW_DATA_CHANGED})}setPinnedBottomRowData(){const r=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:ae.EVENT_PINNED_ROW_DATA_CHANGED})}createNodesFromData(r,o){const c=[];if(r){let p=0;r.forEach((y,S)=>{const R=new Xr(this.beans);R.data=y,R.id=(o?Xr.ID_PREFIX_TOP_PINNED:Xr.ID_PREFIX_BOTTOM_PINNED)+S,R.rowPinned=o?"top":"bottom",R.setRowTop(p),R.setRowHeight(this.gos.getRowHeightForNode(R).height),R.setRowIndex(S),p+=R.rowHeight,c.push(R)})}return c}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(r){return this.pinnedTopRows[r]}getPinnedBottomRow(r){return this.pinnedBottomRows[r]}forEachPinnedTopRow(r){oi(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)}forEachPinnedBottomRow(r){oi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(r){if(!r||0===r.length)return 0;const o=zt(r);return o.rowTop+o.rowHeight}};P([$("beans")],Gh.prototype,"beans",2),P([mt],Gh.prototype,"init",1),Gh=P([It("pinnedRowModel")],Gh);var Hh=class{constructor(r,o){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=r,this.pathRoot={rowNode:o,children:null},this.mapToItems[o.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(r,o){if(r.children)for(let c=0;c<r.children.length;c++)this.depthFirstSearchChangedPath(r.children[c],o);o(r.rowNode)}depthFirstSearchEverything(r,o,c){if(r.childrenAfterGroup)for(let p=0;p<r.childrenAfterGroup.length;p++){const y=r.childrenAfterGroup[p];y.childrenAfterGroup?this.depthFirstSearchEverything(r.childrenAfterGroup[p],o,c):c&&o(y)}o(r)}forEachChangedNodeDepthFirst(r,o=!1,c=!1){this.active&&!c?this.depthFirstSearchChangedPath(this.pathRoot,r):this.depthFirstSearchEverything(this.pathRoot.rowNode,r,o)}executeFromRootNode(r){r(this.pathRoot.rowNode)}createPathItems(r){let o=r,c=0;for(;!this.mapToItems[o.id];)this.mapToItems[o.id]={rowNode:o,children:null},c++,o=o.parent;return c}populateColumnsMap(r,o){if(!this.keepingColumns||!o)return;let c=r;for(;c;)this.nodeIdsToColumns[c.id]||(this.nodeIdsToColumns[c.id]={}),o.forEach(p=>this.nodeIdsToColumns[c.id][p.getId()]=!0),c=c.parent}linkPathItems(r,o){let c=r;for(let p=0;p<o;p++){const y=this.mapToItems[c.id],S=this.mapToItems[c.parent.id];S.children||(S.children=[]),S.children.push(y),c=c.parent}}addParentNode(r,o){if(!r||r.isRowPinned())return;const c=this.createPathItems(r);this.linkPathItems(r,c),this.populateColumnsMap(r,o)}canSkip(r){return this.active&&!this.mapToItems[r.id]}getValueColumnsForNode(r,o){if(!this.keepingColumns)return o;const c=this.nodeIdsToColumns[r.id];return o.filter(y=>c[y.getId()])}getNotValueColumnsForNode(r,o){if(!this.keepingColumns)return null;const c=this.nodeIdsToColumns[r.id];return o.filter(y=>!c[y.getId()])}},Uh=class gb extends nn{constructor(o){super(),this.state=gb.STATE_WAITING_TO_LOAD,this.version=0,this.id=o}getId(){return this.id}load(){this.state=gb.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=gb.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(o){this.isRequestMostRecentAndLive(o)&&(this.state=gb.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(o,c){this.successCommon(o,c)}pageLoaded(o,c,p){this.successCommon(o,{rowData:c,rowCount:p})}isRequestMostRecentAndLive(o){const c=o===this.version,p=this.isAlive();return c&&p}successCommon(o,c){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(o)&&(this.state=gb.STATE_LOADED,this.processServerResult(c))}dispatchLoadCompleted(o=!0){this.dispatchEvent({type:gb.EVENT_LOAD_COMPLETE,success:o,block:this})}};Uh.EVENT_LOAD_COMPLETE="loadComplete",Uh.STATE_WAITING_TO_LOAD="needsLoading",Uh.STATE_LOADING="loading",Uh.STATE_LOADED="loaded",Uh.STATE_FAILED="failed";var yy=Uh,ch=class extends nn{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const r=this.gos.get("blockLoadDebounceMillis");r&&r>0&&(this.checkBlockToLoadDebounce=G.debounce(this.performCheckBlocksToLoad.bind(this),r))}setBeans(r){this.logger=r.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const r=this.gos.get("maxConcurrentDatasourceRequests");return null==r?2:r<=0?void 0:r}addBlock(r){this.blocks.push(r),r.addEventListener(yy.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(r){G.removeFromArray(this.blocks,r)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:ch.BLOCK_LOADED_EVENT}),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:ch.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");const r=this.getAvailableLoadingCount(),o=this.blocks.filter(c=>c.getState()===yy.STATE_WAITING_TO_LOAD).slice(0,r);this.registerLoads(o.length),o.forEach(c=>c.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const r={};return this.blocks.forEach(o=>{const{id:c,state:p}=o.getBlockStateJson();r[c]=p}),r}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(r){this.activeBlockLoadsCount+=r}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};ch.BLOCK_LOADED_EVENT="blockLoaded",ch.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",P([$("rowModel")],ch.prototype,"rowModel",2),P([mt],ch.prototype,"postConstruct",1),P([Be(0,ui("loggerFactory"))],ch.prototype,"setBeans",1),ch=P([It("rowNodeBlockLoader")],ch);var xu=class extends nn{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(r,o,c,p){const y=this.rowModel.ensureRowHeightsValid(r,o,this.getPageFirstRow(),this.getPageLastRow());return y&&this.calculatePages(),y}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onModelUpdated(r){this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,newPageSize:!!r&&r.newPageSize,keepRenderedRows:!!r&&r.keepRenderedRows})}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(r){this.active&&this.currentPage!==r&&"number"==typeof this.currentPage&&(this.currentPage=r,this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!0,newPageSize:!1,keepRenderedRows:!1}))}getPixelOffset(){return this.pixelOffset}getRow(r){return this.rowModel.getRow(r)}getRowNode(r){return this.rowModel.getRowNode(r)}getRowIndexAtPixel(r){return this.rowModel.getRowIndexAtPixel(r)}getCurrentPageHeight(){return Ai(this.topRowBounds)||Ai(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}isRowPresent(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(r){return this.rowModel.forEachNode(r)}forEachNodeOnPage(r){const o=this.getPageFirstRow(),c=this.getPageLastRow();for(let p=o;p<=c;p++){const y=this.getRow(p);y&&r(y)}}getType(){return this.rowModel.getType()}getRowBounds(r){const o=this.rowModel.getRowBounds(r);return o.rowIndex=r,o}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(r){return Math.floor(r/this.pageSize)}goToPageWithIndex(r){if(!this.active)return;const o=this.getPageForIndex(r);this.goToPage(o)}isRowInPage(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const r=this.rowModel.getRowCount(),o=Math.floor(r/this.pageSize);this.goToPage(o)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(r){this.currentPage=r}get pageSize(){return pt(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:pt(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:pt(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:pt(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const r=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==r&&(this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!1}))}setPageSize(r,o){const c=this.pageSize;switch(o){case"autoCalculated":this.pageSizeAutoCalculated=r;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=r,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=r;break;case"gridOptions":this.pageSizeFromGridOptions=r,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}c!==this.pageSize&&(this.calculatePages(),this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!0}))}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(pt(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:ae.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.adjustCurrentPageIfInvalid();let c=this.pageSize*(this.currentPage+1)-1;if(c>r&&(c=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),c===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const p=this.rowModel.getTopLevelRowDisplayedIndex(c+1);this.bottomDisplayedRowIndex=p-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};P([$("rowModel")],xu.prototype,"rowModel",2),P([mt],xu.prototype,"postConstruct",1),xu=P([It("paginationProxy")],xu);var Cf=class extends nn{processAllCellClasses(r,o,c,p){this.processClassRules(void 0,r.cellClassRules,o,c,p),this.processStaticCellClasses(r,o,c)}processClassRules(r,o,c,p,y){if(null==o&&null==r)return;const S={},R={},L=(Q,be)=>{Q.split(" ").forEach(Ie=>{""!=Ie.trim()&&be(Ie)})};if(o){const Q=Object.keys(o);for(let be=0;be<Q.length;be++){const Ie=Q[be],Je=o[Ie];let Bt;"string"==typeof Je?Bt=this.expressionService.evaluate(Je,c):"function"==typeof Je&&(Bt=Je(c)),L(Ie,Ei=>{Bt?S[Ei]=!0:R[Ei]=!0})}}r&&y&&Object.keys(r).forEach(Q=>L(Q,be=>{S[be]||(R[be]=!0)})),y&&Object.keys(R).forEach(y),Object.keys(S).forEach(p)}getStaticCellClasses(r,o){const{cellClass:c}=r;if(!c)return[];let p;return p="function"==typeof c?c(o):c,"string"==typeof p&&(p=[p]),p||[]}processStaticCellClasses(r,o,c){this.getStaticCellClasses(r,o).forEach(y=>{c(y)})}};P([$("expressionService")],Cf.prototype,"expressionService",2),Cf=P([It("stylingService")],Cf);var _y=class extends Bi{constructor(r){super(r,"ag-toggle-button")}setValue(r,o){return super.setValue(r,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},cd=class extends ei{constructor(r){super(r,"ag-text-area",null,"textarea")}setValue(r,o){const c=super.setValue(r,o);return this.eInput.value=r,c}setCols(r){return this.eInput.cols=r,this}setRows(r){return this.eInput.rows=r,this}},bc=class extends ao{constructor(r){super(r,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const r=_o();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||r||this.eInput.focus()}),this.eInput.step="any"}onWheel(r){this.gos.getActiveDomElement()===this.eInput&&r.preventDefault()}setMin(r){var o;const c=r instanceof Date?null!=(o=xs(r??null,!1))?o:void 0:r;return this.min===c||(this.min=c,vt(this.eInput,"min",c)),this}setMax(r){var o;const c=r instanceof Date?null!=(o=xs(r??null,!1))?o:void 0:r;return this.max===c||(this.max=c,vt(this.eInput,"max",c)),this}setStep(r){return this.step===r||(this.step=r,vt(this.eInput,"step",r)),this}getDate(){var r;if(this.eInput.validity.valid)return null!=(r=ga(this.getValue()))?r:void 0}setDate(r,o){this.setValue(xs(r??null,!1),o)}},ac=class extends ei{constructor(r){super(r,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:r,max:o,step:c}=this.config;null!=r&&this.setMinValue(r),null!=o&&this.setMaxValue(o),this.setStep(c||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",r=>{this.setValue(r.target.value)})}setMinValue(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this}setMaxValue(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this}setStep(r){return this.eInput.setAttribute("step",r.toString()),this}setValue(r,o){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());const c=super.setValue(r,o);return this.eInput.value=r,c}},wf=class extends _n{constructor(r,o){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=r,this.wrapperEl=o}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(r){let o="";this.params.valueFormatter&&(o=this.params.valueFormatter(r)),this.populateWithRenderer(r,o)||this.populateWithoutRenderer(r,o),this.value=r}highlightString(r){const{parsedValue:o}=this;if(this.params.cellRenderer||!pt(o))return;let c=pt(r);if(c){const p=o?.toLocaleLowerCase().indexOf(r.toLocaleLowerCase());if(p>=0){const y=p+r.length,S=ho(o.slice(0,p),!0),R=ho(o.slice(p,y),!0),L=ho(o.slice(y));this.renderValueWithoutRenderer(`${S}<span class="ag-rich-select-row-text-highlight">${R}</span>${L}`)}else c=!1}c||this.renderValueWithoutRenderer(o)}updateHighlighted(r){var o;const c=this.getGui(),p=`ag-rich-select-row-${this.getCompId()}`;null==(o=c.parentElement)||o.setAttribute("id",p),r&&(Do(this.getParentComponent().getAriaElement(),p),this.wrapperEl.setAttribute("data-active-option",p)),ws(c.parentElement,r),this.addOrRemoveCssClass("ag-rich-select-row-selected",r)}populateWithoutRenderer(r,o){const c=this.gos.getDocument(),p=this.getGui(),y=c.createElement("span");y.style.overflow="hidden",y.style.textOverflow="ellipsis";const S=ho(pt(o)?o:r,!0);this.parsedValue=pt(S)?S:null,p.appendChild(y),this.renderValueWithoutRenderer(S),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>y.scrollWidth>y.clientWidth})}renderValueWithoutRenderer(r){const o=this.getGui().querySelector("span");o&&(o.innerHTML=pt(r)?r:"&nbsp;")}populateWithRenderer(r,o){let c,p;return this.params.cellRenderer&&(p=this.userComponentFactory.getCellRendererDetails(this.params,{value:r,valueFormatted:o,setTooltip:(y,S)=>{this.setTooltip({newTooltipText:y,shouldDisplayTooltip:S})}})),p&&(c=p.newAgStackInstance()),c&&it(c,this.getGui()),!!c&&(c.then(y=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(y)})}),!0)}onClick(){const r=this.getParentComponent(),o={type:ae.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};r?.dispatchEvent(o)}};P([$("userComponentFactory")],wf.prototype,"userComponentFactory",2),P([mt],wf.prototype,"postConstruct",1);var Su=class zH extends bf{constructor(o){super(zH.getTemplate(o?.cssIdentifier||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0;const{cssIdentifier:c="default",ariaRole:p="listbox",listName:y}=o||{};this.cssIdentifier=c,this.ariaRole=p,this.listName=y}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:o=>this.onFocusIn(o),onFocusOut:o=>this.onFocusOut(o),focusInnerElement:o=>this.focusInnerElement(o),onTabKeyDown:o=>this.onTabKeyDown(o),handleKeyDown:o=>this.handleKeyDown(o)}),this.setAriaProperties(),this.addManagedListener(this.eventService,ae.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const c=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),p=this.eContainer;fr(p,this.ariaRole),Cr(p,c)}addResizeObserver(){const c=this.resizeObserverService.observeResize(this.getGui(),()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()));this.addDestroyFunc(c)}focusInnerElement(o){this.focusRow(o?this.model.getRowCount()-1:0)}onFocusIn(o){const c=o.target;c.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Ia(c)-1)}onFocusOut(o){this.getFocusableElement().contains(o.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(o){switch(o.key){case xi.UP:case xi.DOWN:this.navigate(o.key===xi.UP)&&o.preventDefault();break;case xi.PAGE_HOME:case xi.PAGE_END:case xi.PAGE_UP:case xi.PAGE_DOWN:null!==this.navigateToPage(o.key)&&o.preventDefault()}}onTabKeyDown(o){this.navigate(o.shiftKey)?o.preventDefault():(fn(o),this.forceFocusOutOfContainer(o.shiftKey))}navigate(o){if(null==this.lastFocusedRowIndex)return!1;const c=this.lastFocusedRowIndex+(o?-1:1);return!(c<0||c>=this.model.getRowCount()||(this.focusRow(c),0))}navigateToPage(o,c="focused"){let p=!1;"focused"===c&&(c=this.getLastFocusedRow(),p=!0);const y=this.model.getRowCount()-1;let S=-1;return o===xi.PAGE_HOME?S=0:o===xi.PAGE_END?S=y:o===xi.PAGE_DOWN?S=Math.min(c+this.pageSize,y):o===xi.PAGE_UP&&(S=Math.max(c-this.pageSize,0)),-1===S?null:(p?this.focusRow(S):this.ensureIndexVisible(S),S)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(o){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(o),this.animationFrameService.requestAnimationFrame(()=>{if(this.isScrolling=!1,!this.isAlive())return;const c=this.renderedRows.get(o);c&&c.eDiv.focus()}))}getComponentAt(o){const c=this.renderedRows.get(o);return c&&c.rowComponent}forEachRenderedRow(o){this.renderedRows.forEach((c,p)=>o(c.rowComponent,p))}static getTemplate(o){return`<div class="ag-virtual-list-viewport ag-${o}-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-${o}-virtual-list-container" ref="eContainer"></div>\n            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(o,c=!0){const p=this.model.getRowCount();if("number"!=typeof o||o<0||o>=p)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+o),!1;const y=o*this.rowHeight,S=y+this.rowHeight,R=this.getGui(),L=R.scrollTop,Q=R.offsetHeight,Ie=c?0:this.rowHeight,Bt=L+Q<S-Ie;return L>y+Ie?(R.scrollTop=y,!0):!!Bt&&(R.scrollTop=S-Q,!0)}setComponentCreator(o){this.componentCreator=o}setComponentUpdater(o){this.componentUpdater=o}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(o){this.isHeightFromTheme=!1,this.rowHeight=o,this.refresh()}refresh(o){if(null==this.model||!this.isAlive())return;const c=this.model.getRowCount();this.eContainer.style.height=c*this.rowHeight+"px",Mi(()=>this.eContainer.clientHeight>=c*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(o)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(o){return!!(o&&this.renderedRows.size&&"function"==typeof this.model.areRowsEqual&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((o,c)=>this.removeRow(c))}drawVirtualRows(o){if(!this.isAlive()||!this.model)return;const c=this.getGui(),p=c.scrollTop,y=p+c.offsetHeight,S=Math.floor(p/this.rowHeight),R=Math.floor(y/this.rowHeight);this.pageSize=Math.floor((y-p)/this.rowHeight),this.ensureRowsRendered(S,R,o)}ensureRowsRendered(o,c,p){this.renderedRows.forEach((y,S)=>{(S<o||S>c)&&S!==this.lastFocusedRowIndex&&this.removeRow(S)}),p&&this.refreshRows();for(let y=o;y<=c;y++)this.renderedRows.has(y)||y<this.model.getRowCount()&&this.insertRow(y)}insertRow(o){const c=this.model.getRow(o),p=document.createElement("div");p.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),fr(p,"tree"===this.ariaRole?"treeitem":"option"),ta(p,this.model.getRowCount()),is(p,o+1),p.setAttribute("tabindex","-1"),p.style.height=`${this.rowHeight}px`,p.style.top=this.rowHeight*o+"px";const y=this.componentCreator(c,p);y.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=o),p.appendChild(y.getGui()),this.renderedRows.has(o-1)?this.renderedRows.get(o-1).eDiv.insertAdjacentElement("afterend",p):this.renderedRows.has(o+1)?this.renderedRows.get(o+1).eDiv.insertAdjacentElement("beforebegin",p):this.eContainer.appendChild(p),this.renderedRows.set(o,{rowComponent:y,eDiv:p,value:c})}removeRow(o){const c=this.renderedRows.get(o);this.eContainer.removeChild(c.eDiv),this.destroyBean(c.rowComponent),this.renderedRows.delete(o)}refreshRows(){const o=this.model.getRowCount();this.renderedRows.forEach((c,p)=>{var y,S;if(p>=o)this.removeRow(p);else{const R=this.model.getRow(p);null!=(S=(y=this.model).areRowsEqual)&&S.call(y,c.value,R)?this.componentUpdater(R,c.rowComponent):this.removeRow(p)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(o){this.model=o}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};P([$("resizeObserverService")],Su.prototype,"resizeObserverService",2),P([$("animationFrameService")],Su.prototype,"animationFrameService",2),P([sn("eContainer")],Su.prototype,"eContainer",2),P([mt],Su.prototype,"postConstruct",1);var Pd=Su,dh=class extends se{constructor(r){var o,c;super(Ce(ee({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:null!=(o=r?.template)?o:'\n    <div class="ag-picker-field" role="presentation">\n        <div ref="eLabel"></div>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">\n            <div ref="eDisplayField" class="ag-picker-field-display"></div>\n            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>\n            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n        </div>\n    </div>',modalPicker:!1},r),{maxPickerHeight:null!=(c=r?.maxPickerHeight)?c:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:p,value:y,valueList:S,searchStringCreator:R}=r||{};null!=p&&(this.cellRowHeight=p),void 0!==y&&(this.value=y),null!=S&&(this.values=S),R&&(this.searchStringCreator=R)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:r,placeholder:o}=this.config;r?(this.eInput.setAutoComplete(!1).setInputPlaceholder(o),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{searchDebounceDelay:c=300}=this.config;this.clearSearchString=tt(this.clearSearchString,c),this.renderSelectedValue(),r&&(this.eInput.onValueChange(p=>this.searchTextFromString(p)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const r=this.gos.getDocument(),o=this.localeService.getLocaleTextFunc(),c=r.createElement("div");c.classList.add("ag-loading-text"),c.innerText=o("loadingOoo","Loading..."),this.eLoading=c}createListComponent(){this.listComponent=this.createBean(new Pd({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this)),this.listComponent.setComponentUpdater((L,Q)=>{}),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,ae.EVENT_FIELD_PICKER_VALUE_SELECTED,L=>{this.onListValueSelected(L.value,L.fromEnterKey)});const{cellRowHeight:o}=this;o&&this.listComponent.setRowHeight(o);const c=this.listComponent.getGui(),p=this.listComponent.getAriaElement();this.addManagedListener(c,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(c,"mousedown",L=>L.preventDefault()),c.classList.add("ag-rich-select-list");const y=`ag-rich-select-list-${this.listComponent.getCompId()}`;p.setAttribute("id",y),Cr(p,this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue)),ka(this.eWrapper,p)}renderSelectedValue(){const{value:r,eDisplayField:o,config:c}=this,{allowTyping:p,initialInputValue:y}=this.config,S=this.config.valueFormatter?this.config.valueFormatter(r):r;if(p)return void this.eInput.setValue(y??S);let R,L;if(c.cellRenderer&&(R=this.userComponentFactory.getCellRendererDetails(this.config,{value:r,valueFormatted:S})),R&&(L=R.newAgStackInstance()),L)ko(o),it(L,o),L.then(Q=>{this.addDestroyFunc(()=>this.getContext().destroyBean(Q))});else{if(pt(this.value))o.innerText=S,o.classList.remove("ag-display-as-placeholder");else{const{placeholder:Q}=c;pt(Q)?(o.innerHTML=`${ho(Q)}`,o.classList.add("ag-display-as-placeholder")):ko(o)}this.setTooltip({newTooltipText:S??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:r,value:o}=this;if(null==o||!r)return-1;for(let c=0;c<r.length;c++)if(r[c]===o)return c;return-1}highlightFilterMatch(){var r;null==(r=this.listComponent)||r.forEachRenderedRow((o,c)=>{o.highlightString(this.searchString)})}highlightSelectedValue(r){var o;null==r&&(r=this.getCurrentValueIndex()),this.highlightedItem=r,null==(o=this.listComponent)||o.forEachRenderedRow((c,p)=>{c.updateHighlighted(-1!==r&&this.highlightedItem===p)})}setRowHeight(r){r!==this.cellRowHeight&&(this.cellRowHeight=r),this.listComponent&&this.listComponent.setRowHeight(r)}createPickerComponent(){const{values:r}=this;return r&&this.setValueList({valueList:r}),this.listComponent}setSearchStringCreator(r){this.searchStringCreator=r}setValueList(r){const{valueList:o,refresh:c}=r;this.listComponent&&this.currentList!==o&&(this.currentList=o,this.listComponent.setModel({getRowCount:()=>o.length,getRow:p=>o[p],areRowsEqual:(p,y)=>p===y}),c&&(this.values?this.listComponent.refresh(!0):(this.values=o,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var r,o;if(!this.listComponent)return;if(!this.currentList)return void(this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading));null!=(r=this.eLoading)&&r.offsetParent&&(null==(o=this.eLoading.parentElement)||o.removeChild(this.eLoading));const c=this.getCurrentValueIndex();-1!==c?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(c),this.listComponent.refresh(!0),this.highlightSelectedValue(c)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const r=this.eInput.getFocusableElement();r.focus(),r.select()}onWrapperFocusOut(r){this.eWrapper.contains(r.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(r){let{key:o}=r;if(o===xi.BACKSPACE)this.searchString=this.searchString.slice(0,-1),o="";else if(!Br(r))return;r.preventDefault(),this.searchTextFromCharacter(o)}searchTextFromCharacter(r){this.searchString+=r,this.runSearch(),this.clearSearchString()}searchTextFromString(r){null==r&&(r=""),this.searchString=r,this.runSearch()}buildSearchStrings(r){const{valueFormatter:o=(p=>p)}=this.config;let c;return"number"==typeof r[0]||"string"==typeof r[0]?c=r.map(p=>o(p)):"object"==typeof r[0]&&this.searchStringCreator&&(c=this.searchStringCreator(r)),c}getSuggestionsAndFilteredValues(r,o){let c=[],p=[];if(!r.length)return{suggestions:c,filteredValues:p};const{searchType:y="fuzzy",filterList:S}=this.config;if("fuzzy"===y){const R=un(this.searchString,o,!0);c=R.values;const L=R.indices;if(S&&L.length)for(let Q=0;Q<L.length;Q++)p.push(this.values[L[Q]])}else c=o.filter((R,L)=>{const Q=R.toLocaleLowerCase(),be=this.searchString.toLocaleLowerCase(),Ie="match"===y?Q.startsWith(be):-1!==Q.indexOf(be);return S&&Ie&&p.push(this.values[L]),Ie});return{suggestions:c,filteredValues:p}}filterListModel(r){const{filterList:o}=this.config;o&&(this.setValueList({valueList:r,refresh:!0}),this.alignPickerToComponent())}runSearch(){var r,o;const{values:c}=this,p=this.buildSearchStrings(c);if(!p)return void this.highlightSelectedValue(-1);const{suggestions:y,filteredValues:S}=this.getSuggestionsAndFilteredValues(this.searchString,p),{filterList:R,highlightMatch:L,searchType:Q="fuzzy"}=this.config,be=S.length,Ie=!(!R||""===this.searchString);if(this.filterListModel(Ie?S:c),y.length){const Je=Ie?0:p.indexOf(y[0]);this.selectListItem(Je)}else if(this.highlightSelectedValue(-1),!Ie||be)null==(r=this.listComponent)||r.ensureIndexVisible(0);else if(Ie){this.getAriaElement().removeAttribute("data-active-option");const Je=null==(o=this.listComponent)?void 0:o.getAriaElement();Je&&Do(Je,null)}L&&"fuzzy"!==Q&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var r;const o=null==(r=this.listComponent)?void 0:r.getGui(),c=!!this.currentList&&0===this.currentList.length;o?.classList.toggle("ag-hidden",c)}clearSearchString(){this.searchString=""}selectListItem(r,o){!this.isPickerDisplayed||!this.currentList||!this.listComponent||r<0||r>=this.currentList.length||(this.listComponent.ensureIndexVisible(r,!o)&&!o&&this.listComponent.refresh(!0),this.highlightSelectedValue(r))}setValue(r,o,c){const p=this.currentList?this.currentList.indexOf(r):-1;return-1===p?this:(this.value=r,c||this.selectListItem(p),this.renderSelectedValue(),super.setValue(r,o))}createRowComponent(r){const o=new wf(this.config,this.eWrapper);o.setParentComponent(this.listComponent),this.getContext().createBean(o),o.setState(r);const{highlightMatch:c,searchType:p="fuzzy"}=this.config;return c&&"fuzzy"!==p&&o.highlightString(this.searchString),o}getRowForMouseEvent(r){const{listComponent:o}=this;if(!o)return-1;const p=(o?.getGui()).getBoundingClientRect(),y=o.getScrollTop();return Math.floor((r.clientY-p.top+y)/o.getRowHeight())}onPickerMouseMove(r){if(!this.listComponent)return;const o=this.getRowForMouseEvent(r);-1!==o&&o!=this.lastRowHovered&&(this.lastRowHovered=o,this.selectListItem(o,!0))}onNavigationKeyDown(r,o){r.preventDefault();const c=o===xi.DOWN;if(!this.isPickerDisplayed&&c)return void this.showPicker();const p=this.highlightedItem;this.selectListItem(-1===p?0:p+(c?1:-1))}onPageNavigation(r){var o;if(!this.isPickerDisplayed)return;const c=null==(o=this.listComponent)?void 0:o.navigateToPage(r,this.highlightedItem);null!=c&&this.animationFrameService.requestAnimationFrame(()=>{if(!this.isAlive())return null;this.highlightSelectedValue(c)})}onEnterKeyDown(r){this.isPickerDisplayed&&(r.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(r,o){this.setValue(r,!1,!0),this.dispatchPickerEvent(r,o),this.hidePicker()}dispatchPickerEvent(r,o){this.dispatchEvent({type:ae.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:o,value:r})}getFocusableElement(){const{allowTyping:r}=this.config;return r?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(r){const o=r.key,{allowTyping:c}=this.config;switch(o){case xi.LEFT:case xi.RIGHT:c||r.preventDefault();break;case xi.PAGE_HOME:case xi.PAGE_END:if(c){r.preventDefault();const p=this.eInput.getInputElement(),y=o===xi.PAGE_HOME?0:p.value.length;p.setSelectionRange(y,y);break}case xi.PAGE_UP:case xi.PAGE_DOWN:r.preventDefault(),this.onPageNavigation(o);break;case xi.DOWN:case xi.UP:this.onNavigationKeyDown(r,o);break;case xi.ESCAPE:this.isPickerDisplayed&&(bo(this.listComponent.getGui())&&(r.preventDefault(),fn(r)),this.hidePicker());break;case xi.ENTER:this.onEnterKeyDown(r);break;case xi.TAB:this.onTabKeyDown();break;default:c||this.buildSearchStringFromKeyboardEvent(r)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};P([$("userComponentFactory")],dh.prototype,"userComponentFactory",2),P([$("animationFrameService")],dh.prototype,"animationFrameService",2),P([sn("eInput")],dh.prototype,"eInput",2);var kd=class WH extends Ba{constructor(o){super(o,WH.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:o,maxValue:c,textFieldWidth:p,step:y,value:S,onValueChange:R}=this.config;null!=o&&this.setMinValue(o),null!=c&&this.setMaxValue(c),null!=p&&this.setTextFieldWidth(p),null!=y&&this.setStep(y),null!=S&&this.setValue(S),null!=R&&this.onValueChange(R)}onValueChange(o){const c=ae.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,c,()=>{const p=parseFloat(this.eText.getValue());this.eSlider.setValue(p.toString(),!0),o(p||0)}),this.addManagedListener(this.eSlider,c,()=>{const p=this.eSlider.getValue();this.eText.setValue(p,!0),o(parseFloat(p))}),this}setSliderWidth(o){return this.eSlider.setWidth(o),this}setTextFieldWidth(o){return this.eText.setWidth(o),this}setMinValue(o){return this.eSlider.setMinValue(o),this.eText.setMin(o),this}setMaxValue(o){return this.eSlider.setMaxValue(o),this.eText.setMax(o),this}getValue(){return this.eText.getValue()}setValue(o,c){return this.getValue()===o||(this.eText.setValue(o,!0),this.eSlider.setValue(o,!0),c||this.dispatchEvent({type:ae.EVENT_FIELD_VALUE_CHANGED})),this}setStep(o){return this.eSlider.setStep(o),this.eText.setStep(o),this}};kd.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',P([sn("eLabel")],kd.prototype,"eLabel",2),P([sn("eSlider")],kd.prototype,"eSlider",2),P([sn("eText")],kd.prototype,"eText",2),P([mt],kd.prototype,"init",1);var Tg=kd,tu=class y0 extends _n{constructor(o={}){super(y0.getTemplate(o)),this.params=o,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:c,items:p,suppressEnabledCheckbox:y,expanded:S,suppressToggleExpandOnEnableChange:R,useToggle:L}=o;this.cssIdentifier=o.cssIdentifier||"default",this.enabled=c??!0,this.items=p||[],this.useToggle=L??!1,this.alignItems=o.alignItems||"center",this.expanded=S??!0,null!=y&&(this.suppressEnabledCheckbox=y),null!=R&&(this.suppressToggleExpandOnEnableChange=R)}static getTemplate(o){const c=o.cssIdentifier||"default";return`\n            <div class="ag-group ag-${c}-group" role="presentation">\n                <div ref="eToolbar" class="ag-group-toolbar ag-${c}-group-toolbar">\n                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n                </div>\n                <div ref="eContainer" class="ag-group-container ag-group-container-${o.direction||"vertical"} ag-${c}-group-container"></div>\n            </div>\n        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const y=this.items;this.items=[],this.addItems(y)}const o=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(o("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:c,suppressOpenCloseIcons:p}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(p??!1),this.refreshChildDisplay(),Wn(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(y=>{this.setEnabled(y,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(y)}),null!=c&&this.onEnableChange(c)}refreshChildDisplay(){var o;Wn(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),null==(o=this.eTitleBar)||o.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(o){return this.alignItems!==o&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=o,this.addCssClass(`ag-group-item-alignment-${this.alignItems}`),this}toggleGroupExpand(o){var c;let p=!1;if(null!=(c=this.eTitleBar)&&c.isSuppressCollapse()&&!this.useToggle)o=!0,p=!0;else if(this.expanded===(o=o??!this.expanded))return this;return this.expanded=o,this.refreshChildDisplay(),Wn(this.eContainer,o),p||this.dispatchEvent({type:o?y0.EVENT_EXPANDED:y0.EVENT_COLLAPSED}),this}addItems(o){o.forEach(c=>this.addItem(c))}prependItem(o){this.insertItem(o,!0)}addItem(o){this.insertItem(o,!1)}insertItem(o,c){const p=this.eContainer,y=o instanceof _n?o.getGui():o;y.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),c?(p.insertAdjacentElement("afterbegin",y),this.items.unshift(y)):(p.appendChild(y),this.items.push(y))}hideItem(o,c){Wn(this.items[c],!o)}getItemIndex(o){const c=o instanceof _n?o.getGui():o;return this.items.indexOf(c)}setTitle(o){var c;return null==(c=this.eTitleBar)||c.setTitle(o),this}addTitleBarWidget(o){var c;return null==(c=this.eTitleBar)||c.addWidget(o),this}addCssClassToTitleBar(o){var c;null==(c=this.eTitleBar)||c.addCssClass(o)}dispatchEnableChangeEvent(o){this.dispatchEvent({type:y0.EVENT_ENABLE_CHANGE,enabled:o})}setEnabled(o,c,p){var y;return this.enabled=o,this.refreshDisabledStyles(),p||this.toggleGroupExpand(o),c||(this.cbGroupEnabled.setValue(o),null==(y=this.eToggle)||y.setValue(o)),this}isEnabled(){return this.enabled}onEnableChange(o){return this.addManagedListener(this,y0.EVENT_ENABLE_CHANGE,c=>o(c.enabled)),this}hideEnabledCheckbox(o){return this.suppressEnabledCheckbox=o,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(o){var c;return null==(c=this.eTitleBar)||c.hideOpenCloseIcons(o),this}refreshDisabledStyles(){var o;const c=!this.enabled;this.eContainer.classList.toggle("ag-disabled",c),null==(o=this.eTitleBar)||o.refreshDisabledStyles(this.suppressEnabledCheckbox&&c),this.eContainer.classList.toggle("ag-disabled-group-container",c)}setupTitleBar(){const o=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",o.getGui())}createDefaultTitleBar(){const o=this.createManagedBean(new _b(this.params));return this.eTitleBar=o,o.refreshOnExpand(this.expanded),this.addManagedListener(o,_b.EVENT_EXPAND_CHANGED,c=>this.toggleGroupExpand(c.expanded)),o}createToggleTitleBar(){var o;const c=this.createManagedBean(new _y({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:p=>{this.setEnabled(p,!0),this.dispatchEnableChangeEvent(p)}}));return c.addCssClass("ag-group-title-bar"),c.addCssClass(`ag-${null!=(o=this.params.cssIdentifier)?o:"default"}-group-title-bar ag-unselectable`),this.eToggle=c,this.toggleGroupExpand(this.enabled),c}};tu.EVENT_EXPANDED="expanded",tu.EVENT_COLLAPSED="collapsed",tu.EVENT_ENABLE_CHANGE="enableChange",P([sn("eToolbar")],tu.prototype,"eToolbar",2),P([sn("cbGroupEnabled")],tu.prototype,"cbGroupEnabled",2),P([sn("eContainer")],tu.prototype,"eContainer",2),P([mt],tu.prototype,"postConstruct",1);var xf=tu,Lm="ag-disabled-group-title-bar",Fp=class sF extends _n{constructor(o={}){super(sF.getTemplate(o)),this.suppressOpenCloseIcons=!1;const{title:c,suppressOpenCloseIcons:p}=o;c&&c.length>0&&(this.title=c),null!=p&&(this.suppressOpenCloseIcons=p)}static getTemplate(o){var c;const p=null!=(c=o.cssIdentifier)?c:"default";return`\n            <div class="ag-group-title-bar ag-${p}-group-title-bar ag-unselectable" role="button">\n                <span class="ag-group-title-bar-icon ag-${p}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-${p}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-${p}-group-title"></span>\n            </div>\n        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(_r("columnSelectClosed",this.gos,null)),this.eGroupOpenedIcon.appendChild(_r("columnSelectOpen",this.gos,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",o=>{switch(o.key){case xi.ENTER:case xi.SPACE:o.preventDefault(),this.dispatchExpandChanged();break;case xi.RIGHT:case xi.LEFT:o.preventDefault(),this.dispatchExpandChanged(o.key===xi.RIGHT)}})}refreshOnExpand(o){this.refreshAriaStatus(o),this.refreshOpenCloseIcons(o)}refreshAriaStatus(o){this.suppressOpenCloseIcons||gs(this.getGui(),o)}refreshOpenCloseIcons(o){const c=!this.suppressOpenCloseIcons;Wn(this.eGroupOpenedIcon,c&&o),Wn(this.eGroupClosedIcon,c&&!o)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(o){this.dispatchEvent({type:sF.EVENT_EXPAND_CHANGED,expanded:o})}setTitle(o){const c=this.getGui(),p=!!o&&o.length>0;this.eTitle.textContent=(o=p?o:void 0)??"",Wn(c,p),o!==this.title&&(this.title=o);const y=c.classList.contains(Lm);return this.refreshDisabledStyles(y),this}addWidget(o){return this.getGui().appendChild(o),this}hideOpenCloseIcons(o){return this.suppressOpenCloseIcons=o,o&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(o){const c=this.getGui();o?(c.classList.add(Lm),c.removeAttribute("tabindex")):(c.classList.remove(Lm),"string"==typeof this.title?c.setAttribute("tabindex","0"):c.removeAttribute("tabindex"))}};Fp.EVENT_EXPAND_CHANGED="expandedChanged",P([sn("eGroupOpenedIcon")],Fp.prototype,"eGroupOpenedIcon",2),P([sn("eGroupClosedIcon")],Fp.prototype,"eGroupClosedIcon",2),P([sn("eTitle")],Fp.prototype,"eTitle",2),P([mt],Fp.prototype,"postConstruct",1);var _b=Fp,by=class extends bf{constructor(r=0,o){super('<div class="ag-menu-list" role="tree"></div>'),this.level=r,this.menuItems=[],this.params=o??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:r=>this.onTabKeyDown(r),handleKeyDown:r=>this.handleKeyDown(r),onFocusIn:r=>this.handleFocusIn(r),onFocusOut:r=>this.handleFocusOut(r)})}onTabKeyDown(r){const o=this.getParentComponent(),c=o&&o.getGui();c&&c.classList.contains("ag-focus-managed")||r.preventDefault(),r.shiftKey&&this.closeIfIsChild(r)}handleKeyDown(r){switch(r.key){case xi.UP:case xi.RIGHT:case xi.DOWN:case xi.LEFT:r.preventDefault(),this.handleNavKey(r.key);break;case xi.ESCAPE:this.closeIfIsChild()&&fn(r)}}handleFocusIn(r){var o,c;const p=r.relatedTarget;!this.tabGuardCtrl.isTabGuard(p)&&(this.getGui().contains(p)||null!=(c=null==(o=this.activeMenuItem)?void 0:o.getSubMenuGui())&&c.contains(p))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(r){var o;const c=r.relatedTarget;!this.activeMenuItem||this.getGui().contains(c)||null!=(o=this.activeMenuItem.getSubMenuGui())&&o.contains(c)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(r){null!=r&&ht.all(r.map(o=>"separator"===o?ht.resolve({eGui:this.createSeparator()}):"string"==typeof o?(console.warn(`AG Grid: unrecognised menu item ${o}`),ht.resolve({eGui:null})):this.addItem(o))).then(o=>{o.forEach(c=>{c?.eGui&&(this.appendChild(c.eGui),c.comp&&this.menuItems.push(c.comp))})})}addItem(r){const o=this.createManagedBean(new iu);return o.init({menuItemDef:r,isAnotherSubMenuOpen:()=>this.menuItems.some(c=>c.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(o.setParentComponent(this),this.addManagedListener(o,iu.EVENT_CLOSE_MENU,c=>{this.dispatchEvent(c)}),this.addManagedListener(o,iu.EVENT_MENU_ITEM_ACTIVATED,c=>{this.activeMenuItem&&this.activeMenuItem!==c.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=c.menuItem}),{comp:o,eGui:o.getGui()}))}activateFirstItem(){const r=this.menuItems.filter(o=>!o.isDisabled())[0];r&&r.activate()}createSeparator(){return cs('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>')}handleNavKey(r){switch(r){case xi.UP:case xi.DOWN:const c=this.findNextItem(r===xi.UP);return void(c&&c!==this.activeMenuItem&&c.activate())}r===(this.gos.get("enableRtl")?xi.RIGHT:xi.LEFT)?this.closeIfIsChild():this.openChild()}closeIfIsChild(r){const o=this.getParentComponent();return!!(o&&o instanceof iu)&&(r&&r.preventDefault(),o.closeSubMenu(),o.getGui().focus(),!0)}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(r){const o=this.menuItems.filter(y=>!y.isDisabled());if(!o.length)return;if(!this.activeMenuItem)return r?zt(o):o[0];r&&o.reverse();let c,p=!1;for(let y=0;y<o.length;y++){const S=o[y];if(p){c=S;break}S===this.activeMenuItem&&(p=!0)}return p&&!c?o[0]:c||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};P([$("focusService")],by.prototype,"focusService",2),P([mt],by.prototype,"postConstruct",1);var us=class extends bf{constructor(r){super(),this.wrappedComponent=r,this.setTemplateFromElement(r.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:r=>this.onTabKeyDown(r),handleKeyDown:r=>this.handleKeyDown(r)})}handleKeyDown(r){r.key===xi.ESCAPE&&this.closePanel()}onTabKeyDown(r){r.defaultPrevented||(this.closePanel(),r.preventDefault())}closePanel(){const r=this.parentComponent;r.closeSubMenu(),setTimeout(()=>r.getGui().focus(),0)}};P([mt],us.prototype,"postConstruct",1);var dd=class _0 extends nn{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(o){var c,p;const{menuItemDef:y,isAnotherSubMenuOpen:S,level:R,childComponent:L,contextParams:Q}=o;return this.params=o.menuItemDef,this.level=R,this.isAnotherSubMenuOpen=S,this.childComponent=L,this.contextParams=Q,this.cssClassPrefix=null!=(p=null==(c=this.params.menuItemParams)?void 0:c.cssClassPrefix)?p:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,Ce(ee({},y),{level:R,isAnotherSubMenuOpen:S,openSubMenu:Ie=>this.openSubMenu(Ie),closeSubMenu:()=>this.closeSubMenu(),closeMenu:Ie=>this.closeMenu(Ie),updateTooltip:(Ie,Je)=>this.refreshTooltip(Ie,Je),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(Ie=>{var Je;this.menuItemComp=Ie;const Bt=null==(Je=Ie.configureDefaults)?void 0:Je.call(Ie);Bt&&this.configureDefaults(!0===Bt?void 0:Bt)})}addListeners(o,c){c?.suppressClick||this.addManagedListener(o,"click",p=>this.onItemSelected(p)),c?.suppressKeyboardSelect||this.addManagedListener(o,"keydown",p=>{(p.key===xi.ENTER||p.key===xi.SPACE)&&(p.preventDefault(),this.onItemSelected(p))}),c?.suppressMouseDown||this.addManagedListener(o,"mousedown",p=>{p.stopPropagation(),p.preventDefault()}),c?.suppressMouseOver||(this.addManagedListener(o,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(o,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(o=!1){var c,p;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const y=cs('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=y;let S,R=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const Ie=this.createBean(new us(this.childComponent));Ie.setParentComponent(this);const Je=Ie.getGui(),Bt="mouseenter",Ei=()=>this.cancelDeactivate();Je.addEventListener(Bt,Ei),S=()=>Je.removeEventListener(Bt,Ei),y.appendChild(Je),this.childComponent.afterGuiAttached&&(R=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const Ie=this.createBean(new by(this.level+1,this.contextParams));Ie.setParentComponent(this),Ie.addMenuItems(this.params.subMenu),y.appendChild(Ie.getGui()),this.addManagedListener(Ie,_0.EVENT_CLOSE_MENU,Je=>this.dispatchEvent(Je)),Ie.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),S=()=>this.destroyBean(Ie),o&&(R=()=>{Ie.activateFirstItem(),this.subMenuIsOpening=!1})}const L=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:y}),Q=this.localeService.getLocaleTextFunc(),be=this.popupService.addPopup({modal:!0,eChild:y,positionCallback:L,anchorToElement:this.eGui,ariaLabel:Q("ariaLabelSubMenu","SubMenu"),afterGuiAttached:R});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var Ie,Je;be&&be.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),S(),null==(Je=(Ie=this.menuItemComp).setExpanded)||Je.call(Ie,!1),this.eSubMenuGui=void 0},null==(p=(c=this.menuItemComp).setExpanded)||p.call(c,!0)}setAriaExpanded(o){this.suppressAria||gs(this.eGui,o)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(o){var c,p;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),null==(p=(c=this.menuItemComp).setActive)||p.call(c,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),o&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var o,c;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),null==(c=(o=this.menuItemComp).setActive)||c.call(o,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(o){this.parentComponent=o}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(o){var c,p;null==(p=(c=this.menuItemComp).select)||p.call(c),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gos.addGridCommonParams(ee({},this.contextParams)))):this.openSubMenu(o&&"keydown"===o.type),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(o)}closeMenu(o){const c={type:_0.EVENT_CLOSE_MENU};o&&(o instanceof MouseEvent?c.mouseEvent=o:c.keyboardEvent=o),this.dispatchEvent(c)}onItemActivated(){this.dispatchEvent({type:_0.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),_0.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),_0.ACTIVATION_DELAY):this.deactivate()}configureDefaults(o){var c,p,y;if(!this.menuItemComp)return void setTimeout(()=>this.configureDefaults(o));let S=this.menuItemComp.getGui();const R=null==(p=(c=this.menuItemComp).getRootElement)?void 0:p.call(c);R&&(o?.suppressRootStyles||S.classList.add("ag-menu-option-custom"),S=R),this.eGui=S,this.suppressRootStyles=!!o?.suppressRootStyles,this.suppressRootStyles||(S.classList.add(this.cssClassPrefix),null==(y=this.params.cssClasses)||y.forEach(L=>S.classList.add(L)),this.params.disabled&&S.classList.add(`${this.cssClassPrefix}-disabled`)),o?.suppressTooltip||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!o?.suppressAria,this.suppressAria||(fr(S,"treeitem"),Xo(S,this.level+1),this.params.disabled&&Mo(S,!0)),o?.suppressTabIndex||S.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(S,o),this.suppressFocus=!!o?.suppressFocus}refreshTooltip(o,c){this.tooltip=o,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),o&&this.menuItemComp&&(this.tooltipFeature=this.createBean(new Dn({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:c})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};dd.EVENT_CLOSE_MENU="closeMenu",dd.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",dd.ACTIVATION_DELAY=80,P([$("popupService")],dd.prototype,"popupService",2),P([$("userComponentFactory")],dd.prototype,"userComponentFactory",2);var iu=dd,hl=class aF extends _n{constructor(o){super(aF.getTemplate(o)),this.config=o,this.closable=!0}static getTemplate(o){const c=o.cssIdentifier||"default";return`<div class="ag-panel ag-${c}-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-${c}-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-${c}-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${c}-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${c}-panel-content-wrapper"></div>\n        </div>`}postConstruct(){const{component:o,closable:c,hideTitleBar:p,title:y,minWidth:S=250,width:R,minHeight:L=250,height:Q,centered:be,popup:Ie,x:Je,y:Bt}=this.config;this.positionableFeature=new al(this.getGui(),{minWidth:S,width:R,minHeight:L,height:Q,centered:be,x:Je,y:Bt,popup:Ie,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const Ei=this.getGui();o&&this.setBodyComponent(o),p?Wn(this.eTitleBar,!1):(y&&this.setTitle(y),this.setClosable(c??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",Li=>{if(Ei.contains(Li.relatedTarget)||Ei.contains(this.gos.getActiveDomElement())||this.eTitleBarButtons.contains(Li.target))return void Li.preventDefault();const Wi=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");Wi&&Wi.focus()}),(!Ie||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const o=this.getGui();o.focus(),this.close=()=>{o.parentElement.removeChild(o),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(o){this.positionableFeature.setHeight(o)}getWidth(){return this.positionableFeature.getWidth()}setWidth(o){this.positionableFeature.setWidth(o)}setClosable(o){if(o!==this.closable&&(this.closable=o),o){const c=this.closeButtonComp=new _n(aF.CLOSE_BTN_TEMPLATE);this.getContext().createBean(c);const p=c.getGui(),y=jn("close",this.gos);y.classList.add("ag-panel-title-bar-button-icon"),p.appendChild(y),this.addTitleBarButton(c),c.addManagedListener(p,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const c=this.closeButtonComp.getGui();c.parentElement.removeChild(c),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(o){o.setParentComponent(this),this.eContentWrapper.appendChild(o.getGui())}addTitleBarButton(o,c){const p=this.eTitleBarButtons,y=p.children,S=y.length;null==c&&(c=S),c=Math.max(0,Math.min(c,S)),o.addCssClass("ag-panel-title-bar-button");const R=o.getGui();0===c?p.insertAdjacentElement("afterbegin",R):c===S?p.insertAdjacentElement("beforeend",R):y[c-1].insertAdjacentElement("afterend",R),o.setParentComponent(this)}getBodyHeight(){return Qn(this.eContentWrapper)}getBodyWidth(){return La(this.eContentWrapper)}setTitle(o){this.eTitle.innerText=o}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const o=this.getGui();o&&bo(o)&&this.close(),super.destroy()}};hl.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',P([sn("eContentWrapper")],hl.prototype,"eContentWrapper",2),P([sn("eTitleBar")],hl.prototype,"eTitleBar",2),P([sn("eTitleBarButtons")],hl.prototype,"eTitleBarButtons",2),P([sn("eTitle")],hl.prototype,"eTitle",2),P([mt],hl.prototype,"postConstruct",1);var Du=hl;P([$("popupService")],class extends Du{constructor(r){super(Ce(ee({},r),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const r=this.getGui(),{movable:o,resizable:c,maximizable:p}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(r,"focusin",y=>{this.popupService.bringPopupToFront(r)}),o&&this.setMovable(o),p&&this.setMaximizable(p),c&&this.setResizable(c)}renderComponent(){const r=this.getGui(),{alwaysOnTop:o,modal:c,title:p,afterGuiAttached:y}=this.config,S=this.localeService.getLocaleTextFunc(),R=this.popupService.addPopup({modal:c,eChild:r,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:o,ariaLabel:p||S("ariaLabelDialog","Dialog"),afterGuiAttached:y});R&&(this.close=R.hideFunc)}onClosed(r){var o,c;this.destroy(),null==(c=(o=this.config).closedCallback)||c.call(o,r)}toggleMaximize(){const r=this.positionableFeature.getPosition();if(this.isMaximized){const{x:o,y:c,width:p,height:y}=this.lastPosition;this.setWidth(p),this.setHeight(y),this.positionableFeature.offsetElement(o,c)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Wn(this.maximizeIcon,!this.isMaximized),Wn(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(r=>r()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(r){this.positionableFeature.setResizable(r)}setMovable(r){this.positionableFeature.setMovable(r,this.eTitleBar)}setMaximizable(r){if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));const o=this.eTitleBar;if(!o||r===this.isMaximizable)return;const c=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),c.addManagedListener(c.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(c,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const r=this.maximizeButtonComp=this.createBean(new _n('<div class="ag-dialog-button"></span>')),o=r.getGui();return this.maximizeIcon=jn("maximize",this.gos),o.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=jn("minimize",this.gos),o.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),r}}.prototype,"popupService",2);var Eu=0,nu=class extends nn{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(r=>{this.gridCtrl=r.gridCtrl}),this.addManagedListener(this.eventService,ae.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){return this.gos.get("popupParent")||this.gridCtrl.getGui()}positionPopupForMenu(r){const{eventSource:o,ePopup:c}=r,p=this.getPopupIndex(c);-1!==p&&(this.popupList[p].alignedToElement=o);const y=o.getBoundingClientRect(),S=this.getParentRect(),R=this.keepXYWithinBounds(c,y.top-S.top,0),L=c.clientWidth>0?c.clientWidth:200;c.style.minWidth=`${L}px`;const be=S.right-S.left-L;let Ie;function Je(){return y.right-S.left-2}function Bt(){return y.left-S.left-L}this.gos.get("enableRtl")?(Ie=Bt(),Ie<0&&(Ie=Je(),this.setAlignedStyles(c,"left")),Ie>be&&(Ie=0,this.setAlignedStyles(c,"right"))):(Ie=Je(),Ie>be&&(Ie=Bt(),this.setAlignedStyles(c,"right")),Ie<0&&(Ie=0,this.setAlignedStyles(c,"left"))),c.style.left=`${Ie}px`,c.style.top=`${R}px`}positionPopupUnderMouseEvent(r){const{ePopup:o,nudgeX:c,nudgeY:p,skipObserver:y}=r;this.positionPopup({ePopup:o,nudgeX:c,nudgeY:p,keepWithinBounds:!0,skipObserver:y,updatePosition:()=>this.calculatePointerAlign(r.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)})}calculatePointerAlign(r){const o=this.getParentRect();return{x:r.clientX-o.left,y:r.clientY-o.top}}positionPopupByComponent(r){const{ePopup:o,nudgeX:c,nudgeY:p,keepWithinBounds:y,eventSource:S,alignSide:R="left",position:L="over",column:Q,rowNode:be,type:Ie}=r,Je=S.getBoundingClientRect(),Bt=this.getParentRect(),Ei=this.getPopupIndex(o);-1!==Ei&&(this.popupList[Ei].alignedToElement=S),this.positionPopup({ePopup:o,nudgeX:c,nudgeY:p,keepWithinBounds:y,updatePosition:()=>{let Vi,Wi=Je.left-Bt.left;return"right"===R&&(Wi-=o.offsetWidth-Je.width),"over"===L?(Vi=Je.top-Bt.top,this.setAlignedStyles(o,"over")):(this.setAlignedStyles(o,"under"),Vi="under"===this.shouldRenderUnderOrAbove(o,Je,Bt,r.nudgeY||0)?Je.top-Bt.top+Je.height:Je.top-o.offsetHeight-2*(p||0)-Bt.top),{x:Wi,y:Vi}},postProcessCallback:()=>this.callPostProcessPopup(Ie,o,S,null,Q,be)})}shouldRenderUnderOrAbove(r,o,c,p){const y=c.bottom-o.bottom,S=o.top-c.top,R=r.offsetHeight+p;return y>R?"under":S>R||S>y?"above":"under"}setAlignedStyles(r,o){const c=this.getPopupIndex(r);if(-1===c)return;const p=this.popupList[c],{alignedToElement:y}=p;!y||(["right","left","over","above","under"].forEach(R=>{y.classList.remove(`ag-has-popup-positioned-${R}`),r.classList.remove(`ag-popup-positioned-${R}`)}),!o)||(y.classList.add(`ag-has-popup-positioned-${o}`),r.classList.add(`ag-popup-positioned-${o}`))}callPostProcessPopup(r,o,c,p,y,S){const R=this.gos.getCallback("postProcessPopup");R&&R({column:y,rowNode:S,ePopup:o,type:r,eventSource:c,mouseEvent:p})}positionPopup(r){const{ePopup:o,keepWithinBounds:c,nudgeX:p,nudgeY:y,skipObserver:S,updatePosition:R}=r,L={width:0,height:0},Q=(be=!1)=>{let{x:Ie,y:Je}=R();be&&o.clientWidth===L.width&&o.clientHeight===L.height||(L.width=o.clientWidth,L.height=o.clientHeight,p&&(Ie+=p),y&&(Je+=y),c&&(Ie=this.keepXYWithinBounds(o,Ie,1),Je=this.keepXYWithinBounds(o,Je,0)),o.style.left=`${Ie}px`,o.style.top=`${Je}px`,r.postProcessCallback&&r.postProcessCallback())};if(Q(),!S){const be=this.resizeObserverService.observeResize(o,()=>Q(!0));setTimeout(()=>be(),nu.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(r=>r.element)}getPopupList(){return this.popupList}getParentRect(){const r=this.gos.getDocument();let o=this.getPopupParent();return o===r.body?o=r.documentElement:"static"===getComputedStyle(o).position&&(o=o.offsetParent),ql(o)}keepXYWithinBounds(r,o,c){const p=0===c,y=p?"clientHeight":"clientWidth",S=p?"top":"left",R=p?"offsetHeight":"offsetWidth",L=p?"scrollTop":"scrollLeft",Q=this.gos.getDocument(),be=Q.documentElement,Ie=this.getPopupParent(),Je=Ie.getBoundingClientRect(),Bt=Q.documentElement.getBoundingClientRect(),Ei=Ie===Q.body,Li=r[R];let Vi=Ei?(p?kl:Cl)(be)+be[L]:Ie[y];Ei&&(Vi-=Math.abs(Bt[S]-Je[S]));const wn=Vi-Li;return Math.min(Math.max(o,0),Math.abs(wn))}addPopup(r){const o=this.gos.getDocument(),{eChild:c,ariaLabel:p,alwaysOnTop:y,positionCallback:S,anchorToElement:R}=r;if(!o)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const L=this.getPopupIndex(c);if(-1!==L)return{hideFunc:this.popupList[L].hideFunc};this.initialisePopupPosition(c);const Q=this.createPopupWrapper(c,p,!!y),be=this.addEventListenersToPopup(Ce(ee({},r),{wrapperEl:Q}));return S&&S(),this.addPopupToPopupList(c,Q,be,R),{hideFunc:be}}initialisePopupPosition(r){const c=this.getPopupParent().getBoundingClientRect();pt(r.style.top)||(r.style.top=-1*c.top+"px"),pt(r.style.left)||(r.style.left=-1*c.left+"px")}createPopupWrapper(r,o,c){const p=this.getPopupParent(),y=document.createElement("div"),{allThemes:S}=this.environment.getTheme();return S.length&&y.classList.add(...S),y.classList.add("ag-popup"),r.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),r.hasAttribute("role")||fr(r,"dialog"),Cr(r,o),y.appendChild(r),p.appendChild(y),c?this.setAlwaysOnTop(r,!0):this.bringPopupToFront(r),y}handleThemeChange(){const{allThemes:r}=this.environment.getTheme();for(const o of this.popupList){for(const c of Array.from(o.wrapper.classList))c.startsWith("ag-theme-")&&o.wrapper.classList.remove(c);r.length&&o.wrapper.classList.add(...r)}}addEventListenersToPopup(r){const o=this.gos.getDocument(),c=this.getPopupParent(),{wrapperEl:p,eChild:y,closedCallback:S,afterGuiAttached:R,closeOnEsc:L,modal:Q}=r;let be=!1;const Ie=Li=>{p.contains(this.gos.getActiveDomElement())&&Li.key===xi.ESCAPE&&!Yn(Li)&&Ei({keyboardEvent:Li})},Je=Li=>Ei({mouseEvent:Li}),Bt=Li=>Ei({touchEvent:Li}),Ei=(Li={})=>{const{mouseEvent:Wi,touchEvent:Vi,keyboardEvent:wn,forceHide:cn}=Li;!cn&&(this.isEventFromCurrentPopup({mouseEvent:Wi,touchEvent:Vi},y)||be)||(be=!0,c.removeChild(p),o.removeEventListener("keydown",Ie),o.removeEventListener("mousedown",Je),o.removeEventListener("touchstart",Bt),o.removeEventListener("contextmenu",Je),this.eventService.removeEventListener(ae.EVENT_DRAG_STARTED,Je),S&&S(Wi||Vi||wn),this.removePopupFromPopupList(y))};return R&&R({hidePopup:Ei}),window.setTimeout(()=>{L&&o.addEventListener("keydown",Ie),Q&&(o.addEventListener("mousedown",Je),this.eventService.addEventListener(ae.EVENT_DRAG_STARTED,Je),o.addEventListener("touchstart",Bt),o.addEventListener("contextmenu",Je))},0),Ei}addPopupToPopupList(r,o,c,p){this.popupList.push({element:r,wrapper:o,hideFunc:c,instanceId:Eu++,isAnchored:!!p}),p&&this.setPopupPositionRelatedToElement(r,p)}getPopupIndex(r){return this.popupList.findIndex(o=>o.element===r)}setPopupPositionRelatedToElement(r,o){const c=this.getPopupIndex(r);if(-1===c)return;const p=this.popupList[c];if(p.stopAnchoringPromise&&p.stopAnchoringPromise.then(S=>S&&S()),p.stopAnchoringPromise=void 0,p.isAnchored=!1,!o)return;const y=this.keepPopupPositionedRelativeTo({element:o,ePopup:r,hidePopup:p.hideFunc});return p.stopAnchoringPromise=y,p.isAnchored=!0,y}removePopupFromPopupList(r){this.setAlignedStyles(r,null),this.setPopupPositionRelatedToElement(r,null),this.popupList=this.popupList.filter(o=>o.element!==r)}keepPopupPositionedRelativeTo(r){const o=this.getPopupParent(),c=o.getBoundingClientRect(),{element:p,ePopup:y}=r,S=p.getBoundingClientRect(),R=c.top-S.top,L=c.left-S.left;let Q=R,be=L;const Ie=y.style.top,Je=parseInt(Ie.substring(0,Ie.length-1),10),Bt=y.style.left,Ei=parseInt(Bt.substring(0,Bt.length-1),10);return new ht(Li=>{this.getFrameworkOverrides().setInterval(()=>{const Wi=o.getBoundingClientRect(),Vi=p.getBoundingClientRect();if(0==Vi.top&&0==Vi.left&&0==Vi.height&&0==Vi.width)return void r.hidePopup();const cn=Wi.top-Vi.top;if(cn!=Q){const Nn=this.keepXYWithinBounds(y,Je+R-cn,0);y.style.top=`${Nn}px`}Q=cn;const xn=Wi.left-Vi.left;if(xn!=be){const Nn=this.keepXYWithinBounds(y,Ei+L-xn,1);y.style.left=`${Nn}px`}be=xn},200).then(Wi=>{Li(()=>{null!=Wi&&window.clearInterval(Wi)})})})}hasAnchoredPopup(){return this.popupList.some(r=>r.isAnchored)}isEventFromCurrentPopup(r,o){const{mouseEvent:c,touchEvent:p}=r,y=c||p;if(!y)return!1;const S=this.getPopupIndex(o);if(-1===S)return!1;for(let R=S;R<this.popupList.length;R++)if(uo(this.popupList[R].element,y))return!0;return this.isElementWithinCustomPopup(y.target)}isElementWithinCustomPopup(r){const o=this.gos.getDocument();for(;r&&r!==o.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1}getWrapper(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null}setAlwaysOnTop(r,o){const c=this.getWrapper(r);c&&(c.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(c))}bringPopupToFront(r){const o=this.getPopupParent(),c=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),p=c.length,y=Array.prototype.slice.call(o.querySelectorAll(".ag-popup.ag-always-on-top")),S=y.length,R=this.getWrapper(r);if(!R||p<=1||!o.contains(r))return;const L=c.indexOf(R),Q=R.querySelectorAll("div"),be=[];for(Q.forEach(Ie=>{0!==Ie.scrollTop&&be.push([Ie,Ie.scrollTop])}),S?R.classList.contains("ag-always-on-top")?L!==p-1&&zt(y).insertAdjacentElement("afterend",R):L!==p-S-1&&y[0].insertAdjacentElement("beforebegin",R):L!==p-1&&zt(c).insertAdjacentElement("afterend",R);be.length;){const Ie=be.pop();Ie[0].scrollTop=Ie[1]}}};nu.WAIT_FOR_POPUP_CONTENT_RESIZE=200,P([$("focusService")],nu.prototype,"focusService",2),P([$("ctrlsService")],nu.prototype,"ctrlsService",2),P([$("resizeObserverService")],nu.prototype,"resizeObserverService",2),P([mt],nu.prototype,"postConstruct",1),nu=P([It("popupService")],nu);var bb=class extends _n{constructor(){super('\n        <div class="ag-autocomplete-row" role="presentation">\n            <div class="ag-autocomplete-row-label"></div>\n        </div>'),this.hasHighlighting=!1}setState(r,o){this.value=r,this.render(),this.updateSelected(o)}updateSelected(r){this.addOrRemoveCssClass("ag-autocomplete-row-selected",r)}setSearchString(r){var o;let c=!1;if(pt(r)){const p=null==(o=this.value)?void 0:o.toLocaleLowerCase().indexOf(r.toLocaleLowerCase());if(p>=0){c=!0,this.hasHighlighting=!0;const y=p+r.length,S=ho(this.value.slice(0,p)),R=ho(this.value.slice(p,y)),L=ho(this.value.slice(y));this.getGui().lastElementChild.innerHTML=`${S}<b>${R}</b>${L}`}}!c&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var r;this.getGui().lastElementChild.innerHTML=null!=(r=ho(this.value))?r:"&nbsp;"}},Au=class jH extends Oc{constructor(o){super(jH.TEMPLATE),this.params=o,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new Pd({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:c=>this.autocompleteEntries[c]});const o=this.virtualList.getGui();this.addManagedListener(o,"click",()=>this.params.onConfirmed()),this.addManagedListener(o,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(o,"mousedown",c=>c.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(o,c){o.preventDefault();const p=this.autocompleteEntries.indexOf(this.selectedValue);this.checkSetSelectedValue(c===xi.UP?p-1:p+1)}setSearch(o){this.searchString=o,pt(o)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(o,c){let p,y=!1;const S=o.toLocaleLowerCase(),R=c.filter(L=>{const be=L.toLocaleLowerCase().indexOf(S),Ie=0===be,Je=be>=0;return Je&&(!p||!y&&Ie||y===Ie&&L.length<p.length)&&(p=L,y=Ie),Je});return!p&&R.length&&(p=R[0]),{topMatch:p,allMatches:R}}runSearch(){var o,c;const{autocompleteEntries:p}=this.params,y=p.map(be=>{var Ie;return null!=(Ie=be.displayValue)?Ie:be.key});let S,R;if(this.params.useFuzzySearch)S=un(this.searchString,y,!0).values,R=S.length?S[0]:void 0;else{const be=this.runContainsSearch(this.searchString,y);S=be.allMatches,R=be.topMatch}let L=p.filter(({key:be,displayValue:Ie})=>S.includes(Ie??be));if(!L.length&&this.selectedValue&&null!=(c=null==(o=this.params)?void 0:o.forceLastSelection)&&c.call(o,this.selectedValue,this.searchString)&&(L=[this.selectedValue]),this.autocompleteEntries=L,this.virtualList.refresh(),!R)return;const Q=S.indexOf(R);this.checkSetSelectedValue(Q)}updateSearchInList(){this.virtualList.forEachRenderedRow(o=>o.setSearchString(this.searchString))}checkSetSelectedValue(o){o>=0&&o<this.autocompleteEntries.length&&this.setSelectedValue(o)}setSelectedValue(o){const c=this.autocompleteEntries[o];this.selectedValue!==c&&(this.selectedValue=c,this.virtualList.ensureIndexVisible(o),this.virtualList.forEachRenderedRow((p,y)=>{p.updateSelected(o===y)}))}createRowComponent(o){var c;const p=new bb;return this.getContext().createBean(p),p.setState(null!=(c=o.displayValue)?c:o.key,o===this.selectedValue),p}onMouseMove(o){const c=this.virtualList.getGui().getBoundingClientRect(),p=this.virtualList.getScrollTop(),S=Math.floor((o.clientY-c.top+p)/this.virtualList.getRowHeight());this.checkSetSelectedValue(S)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var o;return this.autocompleteEntries.length&&null!=(o=this.selectedValue)?o:null}};Au.TEMPLATE='<div class="ag-autocomplete-list-popup">\n            <div ref="eList" class="ag-autocomplete-list"></div>\n        <div>',P([sn("eList")],Au.prototype,"eList",2),P([mt],Au.prototype,"init",1);var uh=Au,lc=class sD extends _n{constructor(){super('\n            <div class="ag-autocomplete" role="presentation">\n                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>\n            </div>'),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(o=>this.onValueChanged(o)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(o){const c=qt(o);this.updateValue(c),this.updateAutocompleteList(c)}updateValue(o){this.updateLastPosition(),this.dispatchEvent({type:sD.EVENT_VALUE_CHANGED,value:o}),this.validate(o)}updateAutocompleteList(o){var c,p,y,S;const R=null!=(p=null==(c=this.listGenerator)?void 0:c.call(this,o,this.lastPosition))?p:{enabled:!1};if((!R.type||R.type!==(null==(y=this.autocompleteListParams)?void 0:y.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=R,null!=(S=this.autocompleteListParams)&&S.enabled){this.isListOpen||this.openList();const{searchString:L}=this.autocompleteListParams;this.autocompleteList.setSearch(L??"")}else this.isListOpen&&this.closeList()}onKeyDown(o){const c=o.key;switch(this.updateLastPosition(),c){case xi.ENTER:this.onEnterKeyDown(o);break;case xi.TAB:this.onTabKeyDown(o);break;case xi.DOWN:case xi.UP:this.onUpDownKeyDown(o,c);break;case xi.LEFT:case xi.RIGHT:case xi.PAGE_HOME:case xi.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case xi.ESCAPE:this.onEscapeKeyDown(o);break;case xi.SPACE:o.ctrlKey&&!this.isListOpen&&(o.preventDefault(),this.forceOpenList())}}confirmSelection(){var o;const c=null==(o=this.autocompleteList)?void 0:o.getSelectedValue();c&&(this.closeList(),this.dispatchEvent({type:sD.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:c,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(o){this.isListOpen&&(o.preventDefault(),o.stopPropagation(),this.confirmSelection())}onEnterKeyDown(o){o.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(o,c){var p;o.preventDefault(),this.isListOpen?null==(p=this.autocompleteList)||p.onNavigationKeyDown(o,c):this.forceOpenList()}onEscapeKeyDown(o){this.isListOpen&&(o.preventDefault(),o.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var o;this.updateLastPosition(),this.updateAutocompleteList(null!=(o=this.eAutocompleteInput.getValue())?o:null)}setCaret(o,c){const p=this.gos.getDocument(),y=this.gos.getActiveDomElement();c&&(!y||y===p.body)&&this.eAutocompleteInput.getFocusableElement().focus();const S=this.eAutocompleteInput.getInputElement();S.setSelectionRange(o,o),o===S.value.length&&(S.scrollLeft=S.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var o;this.lastPosition=null!=(o=this.eAutocompleteInput.getInputElement().selectionStart)?o:0}validate(o){var c;this.validator&&(this.validationMessage=this.validator(o),this.eAutocompleteInput.getInputElement().setCustomValidity(null!=(c=this.validationMessage)?c:""),this.valid=!this.validationMessage,this.dispatchEvent({type:sD.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new uh({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const o=this.autocompleteList.getGui(),c={ePopup:o,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},p=this.popupService.addPopup({eChild:o,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(c),ariaLabel:this.listAriaLabel});this.hidePopup=p.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:sD.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return qt(this.eAutocompleteInput.getValue())}setInputPlaceholder(o){return this.eAutocompleteInput.setInputPlaceholder(o),this}setInputAriaLabel(o){return this.eAutocompleteInput.setInputAriaLabel(o),this}setListAriaLabel(o){return this.listAriaLabel=o,this}setListGenerator(o){return this.listGenerator=o,this}setValidator(o){return this.validator=o,this}isValid(){return this.valid}setValue(o){const{value:c,position:p,silent:y,updateListOnlyIfOpen:S,restoreFocus:R}=o;this.eAutocompleteInput.setValue(c,!0),this.setCaret(p??this.lastPosition,R),y||this.updateValue(c),(!S||this.isListOpen)&&this.updateAutocompleteList(c)}setForceLastSelection(o){return this.forceLastSelection=o,this}setInputDisabled(o){return this.eAutocompleteInput.setDisabled(o),this}};lc.EVENT_VALUE_CHANGED="eventValueChanged",lc.EVENT_VALUE_CONFIRMED="eventValueConfirmed",lc.EVENT_OPTION_SELECTED="eventOptionSelected",lc.EVENT_VALID_CHANGED="eventValidChanged",P([$("popupService")],lc.prototype,"popupService",2),P([sn("eAutocompleteInput")],lc.prototype,"eAutocompleteInput",2),P([mt],lc.prototype,"postConstruct",1);var zh=lc,Tl=class fM extends _n{constructor(o,c,p,y){super(),this.dragSourceDropTarget=o,this.ghost=c,this.horizontal=p,this.template=y}init(){var o;this.setTemplate(null!=(o=this.template)?o:fM.TEMPLATE);const c=this.getGui();this.addElementClasses(c),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(jn("columnDrag",this.gos)),this.eButton.appendChild(jn("cancel",this.gos)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const o=this.localeService.getLocaleTextFunc(),c=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(c,o),Cr(this.getGui(),c.join(". "))}addAdditionalAriaInstructions(o,c){if(this.isRemovable()){const p=c("ariaDropZoneColumnComponentDescription","Press DELETE to remove");o.push(p)}}setupTooltip(){const o=()=>{const c=this.getTooltip();this.setTooltip({newTooltipText:c})};o(),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,o)}getDragSourceId(){}getDefaultIconName(){return wr.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:o,eDragHandle:c}=this,p=this.createGetDragItem(),y=this.getDefaultIconName(),S={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:c,getDefaultIconName:()=>y,getDragItem:p,dragItemName:this.getDisplayName()};o.addDragSource(S,!0),this.addDestroyFunc(()=>o.removeDragSource(S))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Wn(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const o={type:fM.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",p=>this.onKeyDown(p)),this.addManagedListener(this.eButton,"click",p=>{this.dispatchEvent(o),p.stopPropagation()});const c=new Js(this.eButton);this.addManagedListener(c,Js.EVENT_TAP,()=>{this.dispatchEvent(o)}),this.addDestroyFunc(c.destroy.bind(c))}onKeyDown(o){o.key===xi.DELETE&&this.isRemovable()&&(o.preventDefault(),this.dispatchEvent({type:fM.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const c=ho(this.getDisplayValue());this.eText.innerHTML=c}addElementClasses(o,c){o.classList.add("ag-column-drop-cell"+(c=c?`-${c}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}-cell${c}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};Tl.EVENT_COLUMN_REMOVE="columnRemove",Tl.TEMPLATE='<span role="option">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',P([$("dragAndDropService")],Tl.prototype,"dragAndDropService",2),P([sn("eText")],Tl.prototype,"eText",2),P([sn("eDragHandle")],Tl.prototype,"eDragHandle",2),P([sn("eButton")],Tl.prototype,"eButton",2),P([mt],Tl.prototype,"init",1);var Mg=Tl,Tu=class ng extends _n{constructor(o){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=o,this.state=ng.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),fr(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(o){this.positionableFeature.setResizable(!!o&&{bottom:!0}),this.resizeEnabled=o}isSourceEventFromTarget(o){const{dropZoneTarget:c,dragSource:p}=o;return c.contains(p.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(o=>o()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,ko(this.getGui()),ko(this.ePillDropList)}init(o){this.params=o??{},this.createManagedBean(new pn(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new al(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Cr(this.ePillDropList,this.getAriaLabel())}handleKeyDown(o){let p=o.key===xi.DOWN,y=o.key===xi.UP;if(this.horizontal){const R=this.gos.get("enableRtl");p=!R&&o.key===xi.RIGHT||R&&o.key===xi.LEFT,y=!R&&o.key===xi.LEFT||R&&o.key===xi.RIGHT}if(!p&&!y)return;const S=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,y);S&&(o.preventDefault(),S.focus())}addElementClasses(o,c){o.classList.add("ag-column-drop"+(c=c?`-${c}`:""),`ag-column-drop-${this.horizontal?"horizontal":"vertical"}${c}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(o){const c=this.getNewInsertIndex(o);if(c<0)return!1;const p=this.minimumAllowedNewInsertIndex(),y=Math.max(p,c),S=y!==this.insertIndex;return S&&(this.insertIndex=y),S}getNewInsertIndex(o){const c=o.event,p=this.horizontal?c.clientX:c.clientY,y=this.childPillComponents.map(R=>R.getGui().getBoundingClientRect()),S=y.findIndex(R=>this.horizontal?R.right>p&&R.left<p:R.top<p&&R.bottom>p);if(-1===S){const R=this.gos.get("enableRtl");return y.every(be=>p>(this.horizontal?be.right:be.bottom))?R&&this.horizontal?0:this.childPillComponents.length:y.every(be=>p<(this.horizontal?be.left:be.top))?R&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=S?S+1:S}checkDragStartedBySelf(o){this.state===ng.STATE_NOT_DRAGGING&&(this.state=ng.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(o.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(o),this.refreshGui())}onDragging(o){this.checkDragStartedBySelf(o),this.checkInsertIndex(o)&&this.refreshGui()}handleDragEnterEnd(o){}onDragEnter(o){const c=this.getItems(o.dragSource.getDragItem());this.state=ng.STATE_NEW_ITEMS_IN;const p=c.filter(S=>this.isItemDroppable(S,o)),y=p.every(S=>-1!==this.childPillComponents.map(R=>R.getItem()).indexOf(S));if(0!==p.length){if(this.potentialDndItems=p,y)return void(this.state=ng.STATE_NOT_DRAGGING);this.handleDragEnterEnd(o),this.checkInsertIndex(o),this.refreshGui()}}isPotentialDndItems(){return Ve(this.potentialDndItems)}handleDragLeaveEnd(o){}onDragLeave(o){if(this.state===ng.STATE_REARRANGE_ITEMS){const c=this.getItems(o.dragSource.getDragItem());this.removeItems(c)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(o),this.potentialDndItems=[],this.refreshGui()),this.state=ng.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let o=!1;this.state===ng.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),o=!0):o=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!o)&&this.refreshGui()}this.state=ng.STATE_NOT_DRAGGING}removeItems(o){const c=this.getExistingItems().filter(p=>!ai(o,p));this.updateItems(c)}addItems(o){if(!o)return;const c=this.getExistingItems().slice(),p=o.filter(y=>c.indexOf(y)<0);Zi(c,p,this.insertIndex),this.updateItems(c)}addItem(o){this.insertIndex=this.getExistingItems().length,this.addItems([o]),this.refreshGui()}rearrangeItems(o){const c=this.getNonGhostItems().slice();return Zi(c,o,this.insertIndex),!Ri(c,this.getExistingItems())&&(this.updateItems(c),!0)}refreshGui(){const o=this.ePillDropList.scrollTop,c=this.resizeEnabled,p=this.getFocusedItem();let y=this.focusService.findNextFocusableElement();y||(y=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=o),c&&this.toggleResizable(c),this.focusService.isKeyboardMode()&&this.restoreFocus(p,y)}getFocusedItem(){const o=this.getGui(),c=this.gos.getActiveDomElement();return o.contains(c)?Array.from(o.querySelectorAll(".ag-column-drop-cell")).indexOf(c):-1}restoreFocus(o,c){const p=this.getGui(),y=Array.from(p.querySelectorAll(".ag-column-drop-cell"));if(-1===o)return;0===y.length&&c.focus();const R=y[Math.min(y.length-1,o)];R&&R.focus()}focusList(o){this.restoreFocus(o?this.childPillComponents.length-1:0,this.getFocusableElement())}getNonGhostItems(){const o=this.getExistingItems();return this.isPotentialDndItems()?o.filter(c=>!ai(this.potentialDndItems,c)):o}addItemsToGui(){const c=this.getNonGhostItems().map(p=>this.createItemComponent(p,!1));if(this.isPotentialDndItems()){const p=this.potentialDndItems.map(y=>this.createItemComponent(y,!0));this.insertIndex>=c.length?c.push(...p):c.splice(this.insertIndex,0,...p)}this.appendChild(this.ePillDropList),c.forEach((p,y)=>{y>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(p.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((o,c)=>{const p=o.getGui();is(p,c+1),ta(p,this.childPillComponents.length)})}createItemComponent(o,c){const p=this.createPillComponent(o,this.dropTarget,c,this.horizontal);return p.addEventListener(Mg.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[o])),this.context.createBean(p),this.guiDestroyFunctions.push(()=>this.destroyBean(p)),c||this.childPillComponents.push(p),p}addIconAndTitleToGui(){const{title:o,icon:c}=this.params;if(!o||!c)return;const p=document.createElement("div");if(Kr(p,!0),this.addElementClasses(p,"title-bar"),this.addElementClasses(c,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),p.appendChild(c),!this.horizontal){const y=document.createElement("span");this.addElementClasses(y,"title"),y.innerHTML=o,p.appendChild(y)}this.appendChild(p)}isExistingItemsEmpty(){return 0===this.getExistingItems().length}addEmptyMessageToGui(){const{emptyMessage:o}=this.params;if(!o||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const c=document.createElement("span");c.innerHTML=o,this.addElementClasses(c,"empty-message"),this.ePillDropList.appendChild(c)}addArrow(o){if(this.horizontal){const p=jn(this.gos.get("enableRtl")?"smallLeft":"smallRight",this.gos);this.addElementClasses(p,"cell-separator"),o.appendChild(p)}}};Tu.STATE_NOT_DRAGGING="notDragging",Tu.STATE_NEW_ITEMS_IN="newItemsIn",Tu.STATE_REARRANGE_ITEMS="rearrangeItems",P([$("focusService")],Tu.prototype,"focusService",2),P([$("dragAndDropService")],Tu.prototype,"dragAndDropService",2);var Nm=["touchstart","touchend","touchmove","touchcancel"],Wh=class{constructor(r="javascript"){this.frameworkName=r,this.renderingEngine="vanilla",this.wrapIncoming=o=>o(),this.wrapOutgoing=o=>o()}setInterval(r,o){return new ht(c=>{c(window.setInterval(r,o))})}addEventListener(r,o,c,p){const y=ai(Nm,o);r.addEventListener(o,c,{capture:!!p,passive:y})}get shouldWrapOutgoing(){return!1}frameworkComponent(r){return null}isFrameworkComponent(r){return!1}getDocLink(r){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${r?`/${r}`:""}`}},zl=class extends nn{getNextCellToFocus(r,o,c=!1){return c?this.getNextCellToFocusWithCtrlPressed(r,o):this.getNextCellToFocusWithoutCtrlPressed(r,o)}getNextCellToFocusWithCtrlPressed(r,o){const c=r===xi.UP,y=r===xi.LEFT;let S,R;if(c||r===xi.DOWN)R=c?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),S=o.column;else{const L=this.columnModel.getAllDisplayedColumns(),Q=this.gos.get("enableRtl");R=o.rowIndex,S=y!==Q?L[0]:zt(L)}return{rowIndex:R,rowPinned:null,column:S}}getNextCellToFocusWithoutCtrlPressed(r,o){let c=o,p=!1;for(;!p;){switch(r){case xi.UP:c=this.getCellAbove(c);break;case xi.DOWN:c=this.getCellBelow(c);break;case xi.RIGHT:c=this.gos.get("enableRtl")?this.getCellToLeft(c):this.getCellToRight(c);break;case xi.LEFT:c=this.gos.get("enableRtl")?this.getCellToRight(c):this.getCellToLeft(c);break;default:c=null,console.warn("AG Grid: unknown key for navigation "+r)}p=!c||this.isCellGoodToFocusOn(c)}return c}isCellGoodToFocusOn(r){const o=r.column;let c;switch(r.rowPinned){case"top":c=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case"bottom":c=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:c=this.rowModel.getRow(r.rowIndex)}return!!c&&!o.isSuppressNavigable(c)}getCellToLeft(r){if(!r)return null;const o=this.columnModel.getDisplayedColBefore(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null}getCellToRight(r){if(!r)return null;const o=this.columnModel.getDisplayedColAfter(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null}getRowBelow(r){const o=r.rowIndex,c=r.rowPinned;if(this.isLastRowInContainer(r))switch(c){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const p=this.rowModel.getRow(r.rowIndex);return this.getNextStickyPosition(p)||{rowIndex:o+1,rowPinned:c}}getNextStickyPosition(r,o){if(!this.gos.isGroupRowsSticky()||!r||!r.sticky)return;let p=[];p=this.rowRenderer.getStickyTopRowCtrls().some(L=>L.getRowNode().rowIndex===r.rowIndex)?[...this.rowRenderer.getStickyTopRowCtrls()].sort((L,Q)=>L.getRowNode().rowIndex-Q.getRowNode().rowIndex):[...this.rowRenderer.getStickyBottomRowCtrls()].sort((L,Q)=>Q.getRowNode().rowIndex-L.getRowNode().rowIndex);const y=o?-1:1,S=p.findIndex(L=>L.getRowNode().rowIndex===r.rowIndex),R=p[S+y];return R?{rowIndex:R.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(r){if(!r)return null;const o=this.getRowBelow(r);return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null}isLastRowInContainer(r){const o=r.rowPinned,c=r.rowIndex;return"top"===o?this.pinnedRowModel.getPinnedTopRowData().length-1<=c:"bottom"===o?this.pinnedRowModel.getPinnedBottomRowData().length-1<=c:this.paginationProxy.getPageLastRow()<=c}getRowAbove(r){const o=r.rowIndex,c=r.rowPinned;if(c?0===o:o===this.paginationProxy.getPageFirstRow())return"top"===c?null:c&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const y=this.rowModel.getRow(r.rowIndex);return this.getNextStickyPosition(y,!0)||{rowIndex:o-1,rowPinned:c}}getCellAbove(r){if(!r)return null;const o=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(r,o){return o?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)}getNextTabbedCellForwards(r){const o=this.columnModel.getAllDisplayedColumns();let c=r.rowIndex,p=r.rowPinned,y=this.columnModel.getDisplayedColAfter(r.column);if(!y){y=o[0];const S=this.getRowBelow(r);if(Ai(S)||!S.rowPinned&&!this.paginationProxy.isRowInPage(S))return null;c=S?S.rowIndex:null,p=S?S.rowPinned:null}return{rowIndex:c,column:y,rowPinned:p}}getNextTabbedCellBackwards(r){const o=this.columnModel.getAllDisplayedColumns();let c=r.rowIndex,p=r.rowPinned,y=this.columnModel.getDisplayedColBefore(r.column);if(!y){y=zt(o);const S=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(Ai(S)||!S.rowPinned&&!this.paginationProxy.isRowInPage(S))return null;c=S?S.rowIndex:null,p=S?S.rowPinned:null}return{rowIndex:c,column:y,rowPinned:p}}};P([$("columnModel")],zl.prototype,"columnModel",2),P([$("rowModel")],zl.prototype,"rowModel",2),P([$("rowRenderer")],zl.prototype,"rowRenderer",2),P([$("pinnedRowModel")],zl.prototype,"pinnedRowModel",2),P([$("paginationProxy")],zl.prototype,"paginationProxy",2),zl=P([It("cellNavigationService")],zl);var jc=class extends nn{constructor(){super(...arguments),this.consuming=!1}setBeans(r){this.logger=r.create("AlignedGridsService")}getAlignedGridApis(){var r;let o=null!=(r=this.gos.get("alignedGrids"))?r:[];const c="function"==typeof o;"function"==typeof o&&(o=o());const p=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return o.map(S=>{var R;if(!S)return Tt("alignedGrids contains an undefined option."),c||Tt('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void Tt(p());if(S instanceof Pr)return S;const L=S;return"current"in L?null==(R=L.current)?void 0:R.api:(L.api||Tt(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${p()}`),L.api)}).filter(S=>!!S&&!S.isDestroyed())}init(){this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(r){this.consuming||this.getAlignedGridApis().forEach(o=>{if(o.isDestroyed())return;const c=o.__getAlignedGridService();r(c)})}onEvent(r){this.consuming=!0,r(),this.consuming=!1}fireColumnEvent(r){this.fireEvent(o=>{o.onColumnEvent(r)})}fireScrollEvent(r){"horizontal"===r.direction&&this.fireEvent(o=>{o.onScrollEvent(r)})}onScrollEvent(r){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left,!0)})}getMasterColumns(r){const o=[];return r.columns?r.columns.forEach(c=>{o.push(c)}):r.column&&o.push(r.column),o}getColumnIds(r){const o=[];return r.columns?r.columns.forEach(c=>{o.push(c.getColId())}):r.column&&o.push(r.column.getColId()),o}onColumnEvent(r){this.onEvent(()=>{switch(r.type){case ae.EVENT_COLUMN_MOVED:case ae.EVENT_COLUMN_VISIBLE:case ae.EVENT_COLUMN_PINNED:case ae.EVENT_COLUMN_RESIZED:this.processColumnEvent(r);break;case ae.EVENT_COLUMN_GROUP_OPENED:this.processGroupOpenedEvent(r);break;case ae.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})}processGroupOpenedEvent(r){r.columnGroups.forEach(o=>{let c=null;if(o){const p=o.getGroupId();c=this.columnModel.getProvidedColumnGroup(p)}o&&!c||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+o.isExpanded()),this.columnModel.setColumnGroupOpened(c,o.isExpanded(),"alignedGridChanged"))})}processColumnEvent(r){var o;const c=r.column;let p=null;if(c&&(p=this.columnModel.getPrimaryColumn(c.getColId())),c&&!p)return;const y=this.getMasterColumns(r);switch(r.type){case ae.EVENT_COLUMN_MOVED:{const be=r,Je=r.api.getColumnState().map(Bt=>({colId:Bt.colId}));this.columnModel.applyColumnState({state:Je,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${r.type} toIndex = ${be.toIndex}`)}break;case ae.EVENT_COLUMN_VISIBLE:{const be=r,Je=r.api.getColumnState().map(Bt=>({colId:Bt.colId,hide:Bt.hide}));this.columnModel.applyColumnState({state:Je},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${r.type} visible = ${be.visible}`)}break;case ae.EVENT_COLUMN_PINNED:{const be=r,Je=r.api.getColumnState().map(Bt=>({colId:Bt.colId,pinned:Bt.pinned}));this.columnModel.applyColumnState({state:Je},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${r.type} pinned = ${be.pinned}`)}break;case ae.EVENT_COLUMN_RESIZED:const L=r,Q={};y.forEach(be=>{this.logger.log(`onColumnEvent-> processing ${r.type} actualWidth = ${be.getActualWidth()}`),Q[be.getId()]={key:be.getColId(),newWidth:be.getActualWidth()}}),null==(o=L.flexColumns)||o.forEach(be=>{Q[be.getId()]&&delete Q[be.getId()]}),this.columnModel.setColumnWidths(Object.values(Q),!1,L.finished,"alignedGridChanged")}const R=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(L=>{L.setGridOption("alwaysShowVerticalScroll",R)})}};P([$("columnModel")],jc.prototype,"columnModel",2),P([$("ctrlsService")],jc.prototype,"ctrlsService",2),P([Be(0,ui("loggerFactory"))],jc.prototype,"setBeans",1),P([mt],jc.prototype,"init",1),jc=P([It("alignedGridsService")],jc);var Op=class extends nn{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,ae.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return"multiple"===this.rowSelection}setNodesSelected(r){var o;const{newValue:c,clearSelection:p,suppressFinishActions:y,rangeSelect:S,nodes:R,event:L,source:Q="api"}=r;if(0===R.length)return 0;if(R.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const be=this.groupSelectsChildren&&!0===r.groupSelectsFiltered,Ie=R.map(Bt=>Bt.footer?Bt.sibling:Bt);if(S){if(R.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let Bt=null;if("checkboxSelected"===Q&&!1===c&&this.lastRowNode&&(this.lastRowNode.id?Bt=this.lastRowNode:this.lastRowNode=null),null==Bt&&(Bt=this.getLastSelectedNode()),Bt){const Ei=Ie[0];if(Ei!==Bt&&this.isMultiselect())return this.selectRange(Ei,Bt,c,Q)}}this.lastRowNode=c?null:Ie[0];let Je=0;for(let Bt=0;Bt<Ie.length;Bt++){const Ei=Ie[Bt];be&&Ei.group||Ei.selectThisNode(c,L,Q)&&Je++,this.groupSelectsChildren&&null!=(o=Ei.childrenAfterGroup)&&o.length&&(Je+=this.selectChildren(Ei,c,be,Q))}return!y&&(c&&(p||!this.isMultiselect())&&(Je+=this.clearOtherNodes(Ie[0],Q)),Je>0)&&(this.updateGroupsFromChildrenSelections(Q),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:Q})),Je}selectRange(r,o,c=!0,p){const y=this.rowModel.getNodesInRangeForSelection(r,o);let S=0;return y.forEach(L=>{L.group&&this.groupSelectsChildren||L.selectThisNode(c,void 0,p)&&S++}),this.updateGroupsFromChildrenSelections(p),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:p}),S}selectChildren(r,o,c,p){const y=c?r.childrenAfterAggFilter:r.childrenAfterGroup;return Ai(y)?0:this.setNodesSelected({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:c,source:p,nodes:y})}getLastSelectedNode(){const r=Array.from(this.selectedNodes.keys());return 0==r.length?null:this.selectedNodes.get(zt(r))||null}getSelectedNodes(){const r=[];return this.selectedNodes.forEach(o=>{o&&r.push(o)}),r}getSelectedRows(){const r=[];return this.selectedNodes.forEach(o=>{o&&o.data&&r.push(o.data)}),r}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(r){const o=new Map;this.selectedNodes.forEach((c,p)=>{c&&r(c)&&o.set(p,c)}),this.selectedNodes=o}updateGroupsFromChildrenSelections(r,o){if(!this.groupSelectsChildren||"clientSide"!==this.rowModel.getType())return!1;const p=this.rowModel.getRootNode();o||(o=new Hh(!0,p)).setInactive();let y=!1;return o.forEachChangedNodeDepthFirst(S=>{if(S!==p){const R=S.calculateSelectedFromChildren();y=S.selectThisNode(null!==R&&R,void 0,r)||y}}),y}clearOtherNodes(r,o){const c=new Map;let p=0;return this.selectedNodes.forEach(y=>{if(y&&y.id!==r.id){const S=this.selectedNodes.get(y.id);p+=S.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:o}),this.groupSelectsChildren&&y.parent&&c.set(y.parent.id,y.parent)}}),c.forEach(y=>{const S=y.calculateSelectedFromChildren();y.selectThisNode(null!==S&&S,void 0,o)}),p}onRowSelected(r){const o=r.node;this.groupSelectsChildren&&o.group||(o.isSelected()?this.selectedNodes.set(o.id,o):this.selectedNodes.delete(o.id))}syncInRowNode(r,o){this.syncInOldRowNode(r,o),this.syncInNewRowNode(r)}syncInOldRowNode(r,o){pt(o)&&r.id!==o.id&&o&&this.selectedNodes.get(o.id)==r&&this.selectedNodes.set(o.id,o)}syncInNewRowNode(r){this.selectedNodes.has(r.id)?(r.setSelectedInitialValue(!0),this.selectedNodes.set(r.id,r)):r.setSelectedInitialValue(!1)}reset(r){const o=this.getSelectionCount();this.resetNodes(),o&&this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:r})}resetNodes(){var r;null==(r=this.selectedNodes)||r.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const o=this.rowModel.getTopLevelNodes();if(null===o)return;const c=[];return function p(y){for(let S=0,R=y.length;S<R;S++){const L=y[S];L.isSelected()?c.push(L):L.group&&L.children&&p(L.children)}}(o),c}isEmpty(){let r=0;return this.selectedNodes.forEach(o=>{o&&r++}),0===r}deselectAllRowNodes(r){const o=L=>L.selectThisNode(!1,void 0,p),c="clientSide"===this.rowModel.getType(),{source:p,justFiltered:y,justCurrentPage:S}=r;if(S||y){if(!c)return void console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(y,S).forEach(o)}else this.selectedNodes.forEach(L=>{L&&o(L)}),this.reset(p);c&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(p),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:p})}getSelectedCounts(r,o){let c=0,p=0;return this.getNodesToSelect(r,o).forEach(S=>{this.groupSelectsChildren&&S.group||(S.isSelected()?c++:S.selectable&&p++)}),{selectedCount:c,notSelectedCount:p}}getSelectAllState(r,o){const{selectedCount:c,notSelectedCount:p}=this.getSelectedCounts(r,o);return(0!==c||0!==p)&&(c>0&&p>0?null:c>0)}hasNodesToSelect(r=!1,o=!1){return this.getNodesToSelect(r,o).filter(c=>c.selectable).length>0}getNodesToSelect(r=!1,o=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const c=[];if(o)return this.paginationProxy.forEachNodeOnPage(y=>{if(y.group)if(y.expanded)this.groupSelectsChildren||c.push(y);else{const S=R=>{var L;c.push(R),null!=(L=R.childrenAfterFilter)&&L.length&&R.childrenAfterFilter.forEach(S)};S(y)}else c.push(y)}),c;const p=this.rowModel;return r?(p.forEachNodeAfterFilter(y=>{c.push(y)}),c):(p.forEachNode(y=>{c.push(y)}),c)}selectAllRowNodes(r){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:o,justFiltered:c,justCurrentPage:p}=r;this.getNodesToSelect(c,p).forEach(R=>R.selectThisNode(!0,void 0,o)),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:o})}getSelectionState(){const r=[];return this.selectedNodes.forEach(o=>{o?.id&&r.push(o.id)}),r.length?r:null}setSelectionState(r,o){if(!Array.isArray(r))return;const c=new Set(r),p=[];this.rowModel.forEachNode(y=>{c.has(y.id)&&p.push(y)}),this.setNodesSelected({newValue:!0,nodes:p,source:o})}};P([$("rowModel")],Op.prototype,"rowModel",2),P([$("paginationProxy")],Op.prototype,"paginationProxy",2),P([mt],Op.prototype,"init",1),Op=P([It("selectionService")],Op);var jh=class{constructor(r){this.viaApi=(o,...c)=>(Zt(`Since v31, 'columnApi.${o}' is deprecated and moved to 'api.${o}'.`),this.api[o](...c)),this.api=r}sizeColumnsToFit(r){this.viaApi("sizeColumnsToFit",r)}setColumnGroupOpened(r,o){this.viaApi("setColumnGroupOpened",r,o)}getColumnGroup(r,o){return this.viaApi("getColumnGroup",r,o)}getProvidedColumnGroup(r){return this.viaApi("getProvidedColumnGroup",r)}getDisplayNameForColumn(r,o){return this.viaApi("getDisplayNameForColumn",r,o)}getDisplayNameForColumnGroup(r,o){return this.viaApi("getDisplayNameForColumnGroup",r,o)}getColumn(r){return this.viaApi("getColumn",r)}getColumns(){return this.viaApi("getColumns")}applyColumnState(r){return this.viaApi("applyColumnState",r)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(r){this.viaApi("setColumnGroupState",r)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(r){return this.viaApi("getDisplayedColAfter",r)}getDisplayedColBefore(r){return this.viaApi("getDisplayedColBefore",r)}setColumnVisible(r,o){this.viaApi("setColumnVisible",r,o)}setColumnsVisible(r,o){this.viaApi("setColumnsVisible",r,o)}setColumnPinned(r,o){this.viaApi("setColumnPinned",r,o)}setColumnsPinned(r,o){this.viaApi("setColumnsPinned",r,o)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(r,o){this.viaApi("moveColumn",r,o)}moveColumnByIndex(r,o){this.viaApi("moveColumnByIndex",r,o)}moveColumns(r,o){this.viaApi("moveColumns",r,o)}moveRowGroupColumn(r,o){this.viaApi("moveRowGroupColumn",r,o)}setColumnAggFunc(r,o){this.viaApi("setColumnAggFunc",r,o)}setColumnWidth(r,o,c=!0,p){this.viaApi("setColumnWidth",r,o,c,p)}setColumnWidths(r,o=!0,c){this.viaApi("setColumnWidths",r,o,c)}setPivotMode(r){this.viaApi("setPivotMode",r)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(r,o){return this.viaApi("getPivotResultColumn",r,o)}setValueColumns(r){this.viaApi("setValueColumns",r)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(r){this.viaApi("removeValueColumn",r)}removeValueColumns(r){this.viaApi("removeValueColumns",r)}addValueColumn(r){this.viaApi("addValueColumn",r)}addValueColumns(r){this.viaApi("addValueColumns",r)}setRowGroupColumns(r){this.viaApi("setRowGroupColumns",r)}removeRowGroupColumn(r){this.viaApi("removeRowGroupColumn",r)}removeRowGroupColumns(r){this.viaApi("removeRowGroupColumns",r)}addRowGroupColumn(r){this.viaApi("addRowGroupColumn",r)}addRowGroupColumns(r){this.viaApi("addRowGroupColumns",r)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(r){this.viaApi("setPivotColumns",r)}removePivotColumn(r){this.viaApi("removePivotColumn",r)}removePivotColumns(r){this.viaApi("removePivotColumns",r)}addPivotColumn(r){this.viaApi("addPivotColumn",r)}addPivotColumns(r){this.viaApi("addPivotColumns",r)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(r,o){return this.viaApi("autoSizeColumn",r,o)}autoSizeColumns(r,o){this.viaApi("autoSizeColumns",r,o)}autoSizeAllColumns(r){this.viaApi("autoSizeAllColumns",r)}setPivotResultColumns(r){this.viaApi("setPivotResultColumns",r)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};P([$("gridApi")],jh.prototype,"api",2),jh=P([It("columnApi")],jh);var hh=class extends nn{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const r=c=>this.callColumnCellValueChangedHandler(c),o=this.gos.useAsyncEvents();this.eventService.addEventListener(ae.EVENT_CELL_VALUE_CHANGED,r,o),this.addDestroyFunc(()=>this.eventService.removeEventListener(ae.EVENT_CELL_VALUE_CHANGED,r,o)),this.addManagedPropertyListener("treeData",c=>this.isTreeData=c.currentValue)}getValue(r,o,c=!1,p=!1){if(this.initialised||this.init(),!o)return;const y=r.getColDef(),S=y.field,R=r.getColId(),L=o.data;let Q;const be=o.groupData&&void 0!==o.groupData[R],Ie=!p&&o.aggData&&void 0!==o.aggData[R],Je=this.isSsrm&&p&&!!r.getColDef().aggFunc,Bt=this.isSsrm&&o.footer&&o.field&&(!0===r.getColDef().showRowGroup||r.getColDef().showRowGroup===o.field);if(c&&y.filterValueGetter?Q=this.executeFilterValueGetter(y.filterValueGetter,L,r,o):this.isTreeData&&Ie?Q=o.aggData[R]:this.isTreeData&&y.valueGetter?Q=this.executeValueGetter(y.valueGetter,L,r,o):this.isTreeData&&S&&L?Q=Qt(L,S,r.isFieldContainsDots()):be?Q=o.groupData[R]:Ie?Q=o.aggData[R]:y.valueGetter?Q=this.executeValueGetter(y.valueGetter,L,r,o):Bt?Q=Qt(L,o.field,r.isFieldContainsDots()):S&&L&&!Je&&(Q=Qt(L,S,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof Q&&0===Q.indexOf("=")){const Ei=Q.substring(1);Q=this.executeValueGetter(Ei,L,r,o)}if(null==Q){const Ei=this.getOpenedGroup(o,r);if(null!=Ei)return Ei}return Q}parseValue(r,o,c,p){const y=r.getColDef(),S=this.gos.addGridCommonParams({node:o,data:o?.data,oldValue:p,newValue:c,colDef:y,column:r}),R=y.valueParser;return pt(R)?"function"==typeof R?R(S):this.expressionService.evaluate(R,S):c}formatValue(r,o,c,p,y=!0){let R,S=null;const L=r.getColDef();if(p?R=p:y&&(R=L.valueFormatter),R){const Q=this.gos.addGridCommonParams({value:c,node:o,data:o?o.data:null,colDef:L,column:r});S="function"==typeof R?R(Q):this.expressionService.evaluate(R,Q)}else if(L.refData)return L.refData[c]||"";return null==S&&Array.isArray(c)&&(S=c.join(", ")),S}getOpenedGroup(r,o){if(!this.gos.get("showOpenedGroup")||!o.getColDef().showRowGroup)return;const p=o.getColDef().showRowGroup;let y=r.parent;for(;null!=y;){if(y.rowGroupColumn&&(!0===p||p===y.rowGroupColumn.getColId()))return y.key;y=y.parent}}setValue(r,o,c,p){const y=this.columnModel.getPrimaryColumn(o);if(!r||!y)return!1;Ai(r.data)&&(r.data={});const{field:S,valueSetter:R}=y.getColDef();if(Ai(S)&&Ai(R))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(y,c))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const L=this.gos.addGridCommonParams({node:r,data:r.data,oldValue:this.getValue(y,r),newValue:c,colDef:y.getColDef(),column:y});let Q;return L.newValue=c,Q=pt(R)?"function"==typeof R?R(L):this.expressionService.evaluate(R,L):this.setValueUsingField(r.data,S,c,y.isFieldContainsDots()),void 0===Q&&(Q=!0),!!Q&&(r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),L.newValue=this.getValue(y,r),this.eventService.dispatchEvent({type:ae.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:L.column,api:L.api,columnApi:L.columnApi,colDef:L.colDef,context:L.context,data:r.data,node:r,oldValue:L.oldValue,newValue:L.newValue,value:L.newValue,source:p}),!0)}callColumnCellValueChangedHandler(r){const o=r.colDef.onCellValueChanged;"function"==typeof o&&this.getFrameworkOverrides().wrapOutgoing(()=>{o({node:r.node,data:r.data,oldValue:r.oldValue,newValue:r.newValue,colDef:r.colDef,column:r.column,api:r.api,columnApi:r.columnApi,context:r.context})})}setValueUsingField(r,o,c,p){if(!o)return!1;let y=!1;if(p){const S=o.split(".");let R=r;for(;S.length>0&&R;){const L=S.shift();0===S.length?(y=R[L]===c,y||(R[L]=c)):R=R[L]}}else y=r[o]===c,y||(r[o]=c);return!y}executeFilterValueGetter(r,o,c,p){const y=this.gos.addGridCommonParams({data:o,node:p,column:c,colDef:c.getColDef(),getValue:this.getValueCallback.bind(this,p)});return"function"==typeof r?r(y):this.expressionService.evaluate(r,y)}executeValueGetter(r,o,c,p){const y=c.getColId(),S=this.valueCache.getValue(p,y);if(void 0!==S)return S;const R=this.gos.addGridCommonParams({data:o,node:p,column:c,colDef:c.getColDef(),getValue:this.getValueCallback.bind(this,p)});let L;return L="function"==typeof r?r(R):this.expressionService.evaluate(r,R),this.valueCache.setValue(p,y,L),L}getValueCallback(r,o){const c=this.columnModel.getPrimaryColumn(o);return c?this.getValue(c,r):null}getKeyForNode(r,o){const c=this.getValue(r,o),p=r.getColDef().keyCreator;let y=c;return p&&(y=p(this.gos.addGridCommonParams({value:c,colDef:r.getColDef(),column:r,node:o,data:o.data}))),"string"==typeof y||null==y||(y=String(y),"[object Object]"===y&&Zt("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),y}};P([$("expressionService")],hh.prototype,"expressionService",2),P([$("columnModel")],hh.prototype,"columnModel",2),P([$("valueCache")],hh.prototype,"valueCache",2),P([$("dataTypeService")],hh.prototype,"dataTypeService",2),P([mt],hh.prototype,"init",1),hh=P([It("valueService")],hh);var la=class extends nn{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(r){this.logger=r.create("ExpressionService")}evaluate(r,o){if("string"==typeof r)return this.evaluateExpression(r,o);console.error("AG Grid: value should be either a string or a function",r)}evaluateExpression(r,o){try{return this.createExpressionFunction(r)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.columnApi,o.getValue,o.column,o.columnGroup)}catch(c){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",o),console.log("Exception = "+c),null}}createExpressionFunction(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];const o=this.createFunctionBody(r),c=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",o);return this.expressionToFunctionCache[r]=c,c}createFunctionBody(r){return r.indexOf("return")>=0?r:"return "+r+";"}};P([Be(0,ui("loggerFactory"))],la.prototype,"setBeans",1),la=P([It("expressionService")],la);var ud=class extends nn{setBeans(r){this.logging=r.get("debug")}create(r){return new wy(r,this.isLogging.bind(this))}isLogging(){return this.logging}};P([Be(0,ui("gridOptionsService"))],ud.prototype,"setBeans",1),ud=P([It("loggerFactory")],ud);var wy=class{constructor(r,o){this.name=r,this.isLoggingFunc=o}isLogging(){return this.isLoggingFunc()}log(r){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+r)}},wc=class extends nn{setComp(r,o,c){this.view=r,this.eGridHostDiv=o,this.eGui=c,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:y=>1===y||0===y,getIconName:()=>wr.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new Ph(this.view)),this.addRtlSupport();const p=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>p()),this.ctrlsService.register("gridCtrl",this)}isDetailGrid(){var r;const o=this.focusService.findTabbableParent(this.getGui());return(null==(r=o?.getAttribute("row-id"))?void 0:r.startsWith("detail"))||!1}showDropZones(){return Sn.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Sn.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Sn.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Sn.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){this.eventService.dispatchEvent({type:ae.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}addRtlSupport(){const r=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(r){this.view.setCursor(r?"ew-resize":null)}disableUserSelect(r){this.view.setUserSelect(r?"none":null)}focusNextInnerContainer(r){const o=this.view.getFocusableContainers(),c=this.gos.getActiveDomElement(),y=o.findIndex(S=>S.contains(c))+(r?-1:1);return!(y<=0||y>=o.length)&&this.focusService.focusInto(o[y])}focusInnerElement(r){const o=this.view.getFocusableContainers(),c=this.columnModel.getAllDisplayedColumns();if(r){if(o.length>1)return this.focusService.focusInto(zt(o),!0);const p=zt(c);if(this.focusService.focusGridView(p,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(c[0]))return!0;for(let p=1;p<o.length;p++)if(this.focusService.focusInto(o[p]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(r=!1){this.view.forceFocusOutOfContainer(r)}};P([$("focusService")],wc.prototype,"focusService",2),P([$("resizeObserverService")],wc.prototype,"resizeObserverService",2),P([$("columnModel")],wc.prototype,"columnModel",2),P([$("ctrlsService")],wc.prototype,"ctrlsService",2),P([$("mouseEventService")],wc.prototype,"mouseEventService",2),P([$("dragAndDropService")],wc.prototype,"dragAndDropService",2);var $c=class extends bf{constructor(r){super(),this.eGridDiv=r}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const r={destroyGridUi:()=>this.destroyBean(this),setRtlClass:c=>this.addCssClass(c),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:c=>{this.getGui().style.userSelect=c??"",this.getGui().style.webkitUserSelect=c??""},setCursor:c=>{this.getGui().style.cursor=c??""}};this.ctrl=this.createManagedBean(new wc);const o=this.createTemplate();this.setTemplate(o),this.ctrl.setComp(r,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:c=>this.ctrl.focusInnerElement(c),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const r=this.getGui();this.eGridDiv.appendChild(r),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(r),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(r,o){const c=this.eRootWrapperBody.classList;c.toggle("ag-layout-auto-height",o.autoHeight),c.toggle("ag-layout-normal",o.normal),c.toggle("ag-layout-print",o.print),this.addOrRemoveCssClass("ag-layout-auto-height",o.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",o.normal),this.addOrRemoveCssClass("ag-layout-print",o.print)}createTemplate(){return`<div class="ag-root-wrapper" role="presentation">\n                ${this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":""}\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    ${this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':""}\n                </div>\n                ${this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':""}\n                <ag-pagination></ag-pagination>\n                ${this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":""}\n            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(o=>bo(o))}};P([$("loggerFactory")],$c.prototype,"loggerFactory",2),P([sn("gridBody")],$c.prototype,"gridBodyComp",2),P([sn("sideBar")],$c.prototype,"sideBarComp",2),P([sn("rootWrapperBody")],$c.prototype,"eRootWrapperBody",2),P([mt],$c.prototype,"postConstruct",1);var hd=class extends nn{progressSort(r,o,c){const p=this.getNextSortDirection(r);this.setSortForColumn(r,p,o,c)}setSortForColumn(r,o,c,p){"asc"!==o&&"desc"!==o&&(o=null);let S=[r];if(this.gos.isColumnsSortingCoupledToGroup()&&r.getColDef().showRowGroup){const Q=this.columnModel.getSourceColumnsForGroupColumn(r),be=Q?.filter(Ie=>Ie.isSortable());be&&(S=[r,...be])}S.forEach(Q=>Q.setSort(o,p));const L=[];if(!c&&!this.gos.get("alwaysMultiSort")||this.gos.get("suppressMultiSort")){const Q=this.clearSortBarTheseColumns(S,p);L.push(...Q)}this.updateSortIndex(r),L.push(...S),this.dispatchSortChangedEvents(p,L)}updateSortIndex(r){const o=this.gos.isColumnsSortingCoupledToGroup(),c=this.columnModel.getGroupDisplayColumnForGroup(r.getId()),p=o&&c||r,y=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(L=>L.setSortIndex(null));const S=y.filter(L=>!(o&&L.getColDef().showRowGroup||L===p));(p.getSort()?[...S,p]:S).forEach((L,Q)=>{L.setSortIndex(Q)})}onSortChanged(r,o){this.dispatchSortChangedEvents(r,o)}isSortActive(){const o=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(c=>!!c.getSort());return o&&o.length>0}dispatchSortChangedEvents(r,o){const c={type:ae.EVENT_SORT_CHANGED,source:r};o&&(c.columns=o),this.eventService.dispatchEvent(c)}clearSortBarTheseColumns(r,o){const c=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(p=>{r.includes(p)||(p.getSort()&&c.push(p),p.setSort(void 0,o))}),c}getNextSortDirection(r){let o;if(o=r.getColDef().sortingOrder?r.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):hd.DEFAULT_SORTING_ORDER,!Array.isArray(o)||o.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${o}`),null;const c=o.indexOf(r.getSort());let S;return S=c<0||c==o.length-1?o[0]:o[c+1],hd.DEFAULT_SORTING_ORDER.indexOf(S)<0?(console.warn("AG Grid: invalid sort type "+S),null):S}getIndexedSortMap(){let r=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(S=>!!S.getSort());if(this.columnModel.isPivotMode()){const S=this.gos.isColumnsSortingCoupledToGroup();r=r.filter(R=>{const L=!!R.getAggFunc(),Q=!R.isPrimary(),be=S?this.columnModel.getGroupDisplayColumnForGroup(R.getId()):R.getColDef().showRowGroup;return L||Q||be})}const o=this.columnModel.getRowGroupColumns().filter(S=>!!S.getSort()),c={};r.forEach((S,R)=>c[S.getId()]=R),r.sort((S,R)=>{const L=S.getSortIndex(),Q=R.getSortIndex();return null!=L&&null!=Q?L-Q:null==L&&null==Q?c[S.getId()]>c[R.getId()]?1:-1:null==Q?-1:1});const p=this.gos.isColumnsSortingCoupledToGroup()&&!!o.length;p&&(r=[...new Set(r.map(S=>{var R;return null!=(R=this.columnModel.getGroupDisplayColumnForGroup(S.getId()))?R:S}))]);const y=new Map;return r.forEach((S,R)=>y.set(S,R)),p&&o.forEach(S=>{const R=this.columnModel.getGroupDisplayColumnForGroup(S.getId());y.set(S,y.get(R))}),y}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([r,o],[c,p])=>o-p).map(([r])=>r)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(r=>r.getSort()).map(r=>({sort:r.getSort(),colId:r.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(r=>r.getSort()).map(r=>({sort:r.getSort(),column:r}))}canColumnDisplayMixedSort(r){const o=this.gos.isColumnsSortingCoupledToGroup(),c=!!r.getColDef().showRowGroup;return o&&c}getDisplaySortForColumn(r){const o=this.columnModel.getSourceColumnsForGroupColumn(r);if(!this.canColumnDisplayMixedSort(r)||!o?.length)return r.getSort();const p=null!=r.getColDef().field||r.getColDef().valueGetter?[r,...o]:o,y=p[0].getSort();return p.every(R=>R.getSort()==y)?y:"mixed"}getDisplaySortIndexForColumn(r){return this.getIndexedSortMap().get(r)}};hd.DEFAULT_SORTING_ORDER=["asc","desc",null],P([$("columnModel")],hd.prototype,"columnModel",2),hd=P([It("sortController")],hd);var _s=class extends nn{static addKeyboardModeEvents(r){this.instanceCount>0||(r.addEventListener("keydown",_s.toggleKeyboardMode),r.addEventListener("mousedown",_s.toggleKeyboardMode))}static removeKeyboardModeEvents(r){this.instanceCount>0||(r.addEventListener("keydown",_s.toggleKeyboardMode),r.addEventListener("mousedown",_s.toggleKeyboardMode))}static toggleKeyboardMode(r){const c="keydown"===r.type;c&&(r.ctrlKey||r.metaKey||r.altKey)||_s.keyboardModeActive!==c&&(_s.keyboardModeActive=c)}static unregisterGridCompController(r){_s.removeKeyboardModeEvents(r)}init(){const r=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,r),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(o=>{this.gridCtrl=o.gridCtrl})}registerKeyboardFocusEvents(){const r=this.gos.getDocument();_s.addKeyboardModeEvents(r),_s.instanceCount++,this.addDestroyFunc(()=>{_s.instanceCount--,_s.unregisterGridCompController(r)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const r=this.focusedCellPosition.column,o=this.columnModel.getGridColumn(r.getId());r!==o&&this.clearFocusedCell()}isKeyboardMode(){return _s.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Td.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Qr.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(r,o){let c=r;for(;c;){if(this.gos.getDomData(c,o))return!1;c=c.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(r){return!!this.isCellRestoreFocused(r)&&(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0)}isCellRestoreFocused(r){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(r,this.restoredFocusedCellPosition)}setRestoreFocusedCell(r){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=r)}getFocusEventParams(){const{rowIndex:r,rowPinned:o,column:c}=this.focusedCellPosition,p={rowIndex:r,rowPinned:o,column:c,isFullWidthCell:!1},y=this.rowRenderer.getRowByPosition({rowIndex:r,rowPinned:o});return y&&(p.isFullWidthCell=y.isFullWidth()),p}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const r=ee({type:ae.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(r)}setFocusedCell(r){const{column:o,rowIndex:c,rowPinned:p,forceBrowserFocus:y=!1,preventScrollOnBrowserFocus:S=!1}=r,R=this.columnModel.getGridColumn(o);if(!R)return void(this.focusedCellPosition=null);this.focusedCellPosition=R?{rowIndex:c,rowPinned:qt(p),column:R}:null;const L=Ce(ee({type:ae.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:y,preventScrollOnBrowserFocus:S,floating:null});this.eventService.dispatchEvent(L)}isCellFocused(r){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(r,this.focusedCellPosition)}isRowNodeFocused(r){return this.isRowFocused(r.rowIndex,r.rowPinned)}isHeaderWrapperFocused(r){if(null==this.focusedHeaderPosition)return!1;const o=r.getColumnGroupChild(),c=r.getRowIndex(),p=r.getPinned(),{column:y,headerRowIndex:S}=this.focusedHeaderPosition;return o===y&&c===S&&p==y.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(r,o){this.focusedHeaderPosition={headerRowIndex:r,column:o}}focusHeaderPosition(r){if(this.gos.get("suppressHeaderFocus"))return!1;const{direction:o,fromTab:c,allowUserOverride:p,event:y,fromCell:S,rowWithoutSpanValue:R}=r;let{headerPosition:L}=r;if(S&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(L);if(p){const Q=this.getFocusedHeader(),be=this.headerNavigationService.getHeaderRowCount();if(c){const Ie=this.gos.getCallback("tabToNextHeader");Ie&&(L=this.getHeaderPositionFromUserFunc({userFunc:Ie,direction:o,currentPosition:Q,headerPosition:L,headerRowCount:be}))}else{const Ie=this.gos.getCallback("navigateToNextHeader");Ie&&y&&(L=Ie({key:y.key,previousHeaderPosition:Q,nextHeaderPosition:L,headerRowCount:be,event:y}))}}return!!L&&this.focusProvidedHeaderPosition({headerPosition:L,direction:o,event:y,fromCell:S,rowWithoutSpanValue:R})}focusHeaderPositionFromUserFunc(r){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc:o,headerPosition:c,direction:p,event:y}=r,S=this.getFocusedHeader(),R=this.headerNavigationService.getHeaderRowCount(),L=this.getHeaderPositionFromUserFunc({userFunc:o,direction:p,currentPosition:S,headerPosition:c,headerRowCount:R});return!!L&&this.focusProvidedHeaderPosition({headerPosition:L,direction:p,event:y})}getHeaderPositionFromUserFunc(r){const{userFunc:o,direction:c,currentPosition:p,headerPosition:y,headerRowCount:S}=r,L=o({backwards:"Before"===c,previousHeaderPosition:p,nextHeaderPosition:y,headerRowCount:S});return!0===L||null===L?(null===L&&Zt("Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),p):!1===L?null:L}focusProvidedHeaderPosition(r){const{headerPosition:o,direction:c,fromCell:p,rowWithoutSpanValue:y,event:S}=r;if(-1===o.headerRowIndex)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(o):this.focusGridView(o.column);this.headerNavigationService.scrollToColumn(o.column,c);const L=this.ctrlsService.getHeaderRowContainerCtrl(o.column.getPinned()).focusHeader(o.headerRowIndex,o.column,S);return L&&(null!=y||p)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(y??-1),L}focusFirstHeader(){let r=this.columnModel.getAllDisplayedColumns()[0];if(!r)return!1;r.getParent()&&(r=this.columnModel.getColumnGroupAtLevel(r,0));const o=this.headerPositionUtils.getHeaderIndexToFocus(r,0);return this.focusHeaderPosition({headerPosition:o,rowWithoutSpanValue:0})}focusLastHeader(r){const o=this.headerNavigationService.getHeaderRowCount()-1,c=zt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:o,column:c},rowWithoutSpanValue:-1,event:r})}focusPreviousFromFirstCell(r){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(r)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(r,o){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===r&&this.focusedCellPosition.rowPinned===qt(o)}findFocusableElements(r,o,c=!1){let y=Ss;o&&(y+=", "+o),c&&(y+=', [tabindex="-1"]');const S=Array.prototype.slice.apply(r.querySelectorAll(vs)).filter(Q=>bo(Q)),R=Array.prototype.slice.apply(r.querySelectorAll(y));return R.length?(be=R,S.filter(Ie=>-1===be.indexOf(Ie))):S;var be}focusInto(r,o=!1,c=!1){const p=this.findFocusableElements(r,null,c),y=o?zt(p):p[0];return!!y&&(y.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(r,o){if(!o)return null;const c=this.findFocusableElements(r),p=c.indexOf(o);if(-1===p)return null;let y=-1;for(let S=p-1;S>=0;S--)if(c[S].classList.contains("ag-tab-guard-top")){y=S;break}return y<=0?null:c[y-1]}findNextFocusableElement(r=this.eGridDiv,o,c){const p=this.findFocusableElements(r,o?':not([tabindex="-1"])':null),y=this.gos.getActiveDomElement();let S;S=o?p.findIndex(L=>L.contains(y)):p.indexOf(y);const R=S+(c?-1:1);return R<0||R>=p.length?null:p[R]}isTargetUnderManagedComponent(r,o){if(!o)return!1;const c=r.querySelectorAll(`.${pn.FOCUS_MANAGED_CLASS}`);if(!c.length)return!1;for(let p=0;p<c.length;p++)if(c[p].contains(o))return!0;return!1}findTabbableParent(r,o=5){let c=0;for(;r&&null===Xn(r)&&++c<=o;)r=r.parentElement;return null===Xn(r)?null:r}focusGridView(r,o){var c;if(this.gos.get("suppressCellFocus"))return o?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const p=o?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!p)return!1;const{rowIndex:y,rowPinned:S}=p,R=this.getFocusedHeader();return!r&&R&&(r=R.column),!(null==y||!r||(this.navigationService.ensureCellVisible({rowIndex:y,column:r,rowPinned:S}),this.setFocusedCell({rowIndex:y,column:r,rowPinned:qt(S),forceBrowserFocus:!0}),null==(c=this.rangeService)||c.setRangeToCell({rowIndex:y,rowPinned:S,column:r}),0))}focusNextGridCoreContainer(r,o=!1){return!(o||!this.gridCtrl.focusNextInnerContainer(r))||((o||!r&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(r),!1)}focusAdvancedFilter(r){var o,c;return this.advancedFilterFocusColumn=r?.column,null!=(c=null==(o=this.advancedFilterService)?void 0:o.getCtrl().focusHeaderComp())&&c}focusNextFromAdvancedFilter(r,o){var c,p;const y=null!=(p=o?void 0:this.advancedFilterFocusColumn)?p:null==(c=this.columnModel.getAllDisplayedColumns())?void 0:c[0];return r?this.focusHeaderPosition({headerPosition:{column:y,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(y)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};_s.keyboardModeActive=!1,_s.instanceCount=0,P([$("eGridDiv")],_s.prototype,"eGridDiv",2),P([$("columnModel")],_s.prototype,"columnModel",2),P([$("headerNavigationService")],_s.prototype,"headerNavigationService",2),P([$("headerPositionUtils")],_s.prototype,"headerPositionUtils",2),P([$("rowRenderer")],_s.prototype,"rowRenderer",2),P([$("rowPositionUtils")],_s.prototype,"rowPositionUtils",2),P([$("cellPositionUtils")],_s.prototype,"cellPositionUtils",2),P([$("navigationService")],_s.prototype,"navigationService",2),P([$("ctrlsService")],_s.prototype,"ctrlsService",2),P([$("filterManager")],_s.prototype,"filterManager",2),P([Kt("rangeService")],_s.prototype,"rangeService",2),P([Kt("advancedFilterService")],_s.prototype,"advancedFilterService",2),P([mt],_s.prototype,"init",1),_s=P([It("focusService")],_s);var xy=class extends nn{setMouseOver(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_HOVER_CHANGED})}clearMouseOver(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ae.EVENT_COLUMN_HOVER_CHANGED})}isHovered(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0}};xy=P([It("columnHoverService")],xy);var Ja=class extends nn{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(r=>this.gridBodyCtrl=r.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(r){this.suppressAnimation=r}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(r){this.active?this.executeNextFuncs.push(r):r()}executeLaterVMTurn(r){this.active?this.executeLaterFuncs.push(r):r()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const r=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===r&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(r){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void r();const o=c=>{for(;c.length;){const p=c.pop();p&&p()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>o(this.executeNextFuncs),0),window.setTimeout(()=>{r(),o(this.executeLaterFuncs)},200)})}};P([$("ctrlsService")],Ja.prototype,"ctrlsService",2),P([mt],Ja.prototype,"postConstruct",1),Ja=P([It("columnAnimationService")],Ja);var Wl=class extends nn{postConstruct(){this.ctrlsService.whenReady(r=>{this.centerRowsCtrl=r.center,this.addManagedListener(this.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const r=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(r>0){const o=()=>{const c=this.gos.getRowHeightAsNumber(),p=Math.floor(r/c);this.paginationProxy.setPageSize(p,"autoCalculated")};this.isBodyRendered?tt(()=>o(),50)():(o(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};P([$("ctrlsService")],Wl.prototype,"ctrlsService",2),P([$("paginationProxy")],Wl.prototype,"paginationProxy",2),P([mt],Wl.prototype,"postConstruct",1),Wl=P([It("paginationAutoPageSizeService")],Wl);var Bm=class extends nn{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(r,o,c){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[o]=c)}getValue(r,o){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[o]}};P([mt],Bm.prototype,"init",1),Bm=P([It("valueCache")],Bm);var Sf=class extends nn{init(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ae.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(r){"paste"!==r.source&&this.doChangeDetection(r.node,r.column)}doChangeDetection(r,o){if(this.gos.get("suppressChangeDetection"))return;const c=[r];if(this.clientSideRowModel&&!r.isRowPinned()){const p=this.gos.get("aggregateOnlyChangedColumns"),y=new Hh(p,this.clientSideRowModel.getRootNode());y.addParentNode(r.parent,[o]),this.clientSideRowModel.doAggregate(y),y.forEachChangedNodeDepthFirst(S=>{c.push(S)})}this.rowRenderer.refreshCells({rowNodes:c})}};P([$("rowModel")],Sf.prototype,"rowModel",2),P([$("rowRenderer")],Sf.prototype,"rowRenderer",2),P([mt],Sf.prototype,"init",1),Sf=P([It("changeDetectionService")],Sf);var Lp=class extends nn{adaptFunction(r,o){const c=this.componentMetadataProvider.retrieve(r);return c&&c.functionAdapter?c.functionAdapter(o):null}adaptCellRendererFunction(r){return class o{refresh(p){return!1}getGui(){return this.eGui}init(p){const y=r(p),S=typeof y;this.eGui="string"!==S&&"number"!==S&&"boolean"!==S?null!=y?y:cs("<span></span>"):cs("<span>"+y+"</span>")}}}doesImplementIComponent(r){return!!r&&r.prototype&&"getGui"in r.prototype}};P([$("componentMetadataProvider")],Lp.prototype,"componentMetadataProvider",2),Lp=P([It("agComponentUtils")],Lp);var Kc=class extends nn{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(r){return this.componentMetaData[r]}};P([$("agComponentUtils")],Kc.prototype,"agComponentUtils",2),P([mt],Kc.prototype,"postConstruct",1),Kc=P([It("componentMetadataProvider")],Kc);var Hm={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:260}},S0={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ef=class extends nn{constructor(){super(...arguments),this.calculatedSizes={},this.calculatedTheme=null}postConstruct(){var r;const o=null!=(r=this.getTheme().el)?r:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.calculatedTheme=null,this.calculatedTheme=this.getTheme(),this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(o||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){this.eventService.dispatchEvent({type:ae.EVENT_GRID_STYLES_CHANGED})}getSassVariable(r){const{themeFamily:o,el:c}=this.getTheme();if(o&&0===o.indexOf("ag-theme"))return this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[o]||(this.calculatedSizes[o]={}),this.calculatedSizes[o][r]??(this.calculatedSizes[o][r]=this.calculateValueForSassProperty(r,o,c),this.calculatedSizes[o][r])}calculateValueForSassProperty(r,o,c){const p="ag-theme-"+(o.match("material")?"material":o.match("balham")?"balham":o.match("alpine")?"alpine":"custom"),y=Hm[p][r],S=this.gos.getDocument();if(c||(c=this.eGridDiv),!S0[r])return y;const R=S0[r],L=S.createElement("div"),Q=Array.from(c.classList);L.classList.add(o,...Q),L.style.position="absolute";const be=R.reduce((Je,Bt)=>{const Ei=S.createElement("div");return Ei.style.position="static",Ei.classList.add(Bt),Je.appendChild(Ei),Ei},L);let Ie=0;if(S.body){S.body.appendChild(L);const Je=-1!==r.toLowerCase().indexOf("height")?"height":"width";Ie=parseInt(window.getComputedStyle(be)[Je],10),S.body.removeChild(L)}return Ie||y}isThemeDark(){const{theme:r}=this.getTheme();return!!r&&r.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){if(this.calculatedTheme)return this.calculatedTheme;const r=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let o=this.eGridDiv,c=null,p=[];for(;o;){if(c=r.exec(o.className),c){const S=o.className.match(r);S&&(p=S);break}o=o.parentElement||void 0}if(!c)return{allThemes:p};const y=c[0];return this.calculatedTheme={theme:y,el:o,themeFamily:y.replace(/-dark$/,""),allThemes:p},this.calculatedTheme}getFromTheme(r,o){var c;return null!=(c=this.getSassVariable(o))?c:r}getDefaultRowHeight(){return this.getFromTheme(25,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const r=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),o=this.gos.get("rowHeight");if(null==o||isNaN(o)||!isFinite(o))return null!==r&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const c=`${o}px`;return r!=c?(this.eGridDiv.style.setProperty("--ag-line-height",c),o):""!=r?parseFloat(r):-1}getMinColWidth(){const r=this.getFromTheme(null,"headerCellMinWidth");return pt(r)?Math.max(r,10):10}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};P([$("eGridDiv")],Ef.prototype,"eGridDiv",2),P([mt],Ef.prototype,"postConstruct",1),Ef=P([It("environment")],Ef);var Af=class extends nn{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(r){this.logger=r.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Vs(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,c=this.getUiBodyHeight();(o!==this.scrollY||c!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=c,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const r=this.scrollY/this.maxScrollY,o=r*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${o} (${this.pixelsToShave} * ${r})`),this.setDivStretchOffset(o)}setUiContainerHeight(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(r){const o="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:ae.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(r){return r-this.divStretchOffset}getUiBodyHeight(){const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top}getScrollPositionForPixel(r){if(this.pixelsToShave<=0)return r;const o=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/o)}};P([$("ctrlsService")],Af.prototype,"ctrlsService",2),P([Be(0,ui("loggerFactory"))],Af.prototype,"agWire",1),P([mt],Af.prototype,"postConstruct",1),Af=P([It("rowContainerHeightService")],Af);var Bp=class extends nn{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(r=!1){const o=!!this.gos.get("rowSelection"),c=this.gos.get("isRowSelectable");if(!o||!c)return;const p=this.gos.get("groupSelectsChildren"),y="clientSide"===this.rowModel.getType()&&p,S=[],R=L=>{if(r&&!L.group)return;if(y&&L.group){const be=L.childrenAfterGroup.some(Ie=>!0===Ie.selectable);return void L.setRowSelectable(be,!0)}const Q=!c||c(L);L.setRowSelectable(Q,!0),!Q&&L.isSelected()&&S.push(L)};y?new Hh(!1,this.rowModel.getRootNode()).forEachChangedNodeDepthFirst(R,!0,!0):this.rowModel.forEachNode(R),S.length&&this.selectionService.setNodesSelected({nodes:S,newValue:!1,source:"selectableChanged"}),y&&this.selectionService instanceof Op&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};P([$("rowModel")],Bp.prototype,"rowModel",2),P([$("selectionService")],Bp.prototype,"selectionService",2),P([mt],Bp.prototype,"init",1),Bp=P([It("selectableService")],Bp);var hs=class extends _n{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const r=this.gos.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:o,btPrevious:c,btNext:p,btLast:y}=this;this.activateTabIndex([o,c,p,y]),o.insertAdjacentElement("afterbegin",jn(r?"last":"first",this.gos)),c.insertAdjacentElement("afterbegin",jn(r?"next":"previous",this.gos)),p.insertAdjacentElement("afterbegin",jn(r?"previous":"next",this.gos)),y.insertAdjacentElement("afterbegin",jn(r?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(o),o&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(r=>{const{el:o,fn:c}=r;this.addManagedListener(o,"click",c),this.addManagedListener(o,"keydown",p=>{(p.key===xi.ENTER||p.key===xi.SPACE)&&(p.preventDefault(),c())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const r=this.paginationProxy.getTotalPages()>0,o=this.paginationProxy.getCurrentPage();this.lbCurrent.textContent=this.formatNumber(r?o+1:0)}formatNumber(r){const o=this.gos.getCallback("paginationNumberFormatter");if(o)return o({value:r});const c=this.localeService.getLocaleTextFunc();return ja(r,c("thousandSeparator",","),c("decimalSeparator","."))}getTemplate(){const r=this.localeService.getLocaleTextFunc(),o=r("page","Page"),c=r("to","to"),p=r("of","of"),y=r("firstPage","First Page"),S=r("previousPage","Previous Page"),R=r("nextPage","Next Page"),L=r("lastPage","Last Page"),Q=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${Q}">\n                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${Q}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${Q}-to">${c}</span>\n                    <span id="ag-${Q}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${Q}-of">${p}</span>\n                    <span id="ag-${Q}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${y}"></div>\n                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${S}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${Q}-start-page">${o}</span>\n                        <span id="ag-${Q}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${Q}-of-page">${p}</span>\n                        <span id="ag-${Q}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${R}"></div>\n                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${L}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const p=this.isZeroPagesToDisplay();this.nextButtonDisabled=r===c-1||p,this.lastButtonDisabled=!o||p||r===c-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(r,o){Mo(r,o),r.classList.toggle("ag-disabled",o)}updateRowLabels(){const r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),c=this.paginationProxy.isLastPageFound(),p=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let y,S;if(this.isZeroPagesToDisplay()?y=S=0:(y=o*r+1,S=y+o-1,c&&S>p&&(S=p)),this.lbFirstRowOnPage.textContent=this.formatNumber(y),this.rowNodeBlockLoader.isLoading()){const R=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=R("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(S)}isZeroPagesToDisplay(){const r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();return r&&0===o}setTotalLabels(){const r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages(),c=r?this.paginationProxy.getMasterRowCount():null;if(1===c){const p=this.paginationProxy.getRow(0);if(p&&p.group&&!p.groupData&&!p.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.textContent=this.formatNumber(o),this.lbRecordCount.textContent=this.formatNumber(c);else{const p=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=p,this.lbRecordCount.innerHTML=p}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};P([$("paginationProxy")],hs.prototype,"paginationProxy",2),P([$("rowNodeBlockLoader")],hs.prototype,"rowNodeBlockLoader",2),P([sn("btFirst")],hs.prototype,"btFirst",2),P([sn("btPrevious")],hs.prototype,"btPrevious",2),P([sn("btNext")],hs.prototype,"btNext",2),P([sn("btLast")],hs.prototype,"btLast",2),P([sn("lbRecordCount")],hs.prototype,"lbRecordCount",2),P([sn("lbFirstRowOnPage")],hs.prototype,"lbFirstRowOnPage",2),P([sn("lbLastRowOnPage")],hs.prototype,"lbLastRowOnPage",2),P([sn("lbCurrent")],hs.prototype,"lbCurrent",2),P([sn("lbTotal")],hs.prototype,"lbTotal",2),P([sn("pageSizeComp")],hs.prototype,"pageSizeComp",2),P([mt],hs.prototype,"postConstruct",1);var Ig=class $H extends _n{constructor(){super($H.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(o,c){const p=this.eOverlayWrapper.classList;p.toggle("ag-layout-auto-height",c.autoHeight),p.toggle("ag-layout-normal",c.normal),p.toggle("ag-layout-print",c.print)}postConstruct(){this.createManagedBean(new Ph(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(o){const c=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&c.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=o,c.toggle(o,!0)}showOverlay(o,c,p){this.inProgress||(this.setWrapperTypeClass(c),this.destroyActiveOverlay(),this.inProgress=!0,o&&o.then(y=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(y.getGui()),this.activeOverlay=y,this.updateListenerDestroyFunc=p,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var o;this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),null==(o=this.updateListenerDestroyFunc)||o.call(this),ko(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};Ig.TEMPLATE='\n        <div class="ag-overlay" role="presentation">\n            <div class="ag-overlay-panel" role="presentation">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>\n            </div>\n        </div>',P([$("overlayService")],Ig.prototype,"overlayService",2),P([sn("eOverlayWrapper")],Ig.prototype,"eOverlayWrapper",2),P([mt],Ig.prototype,"postConstruct",1);var Vp=Ig,Mu=class extends nn{getFirstRow(){let o,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?o="top":this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o="bottom"),void 0===o?null:{rowIndex:r,rowPinned:o}}getLastRow(){let r,o=null;const c=this.pinnedRowModel.getPinnedBottomRowCount(),p=this.pinnedRowModel.getPinnedTopRowCount();return c?(o="bottom",r=c-1):this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageLastRow()):p&&(o="top",r=p-1),void 0===r?null:{rowIndex:r,rowPinned:o}}getRowNode(r){switch(r.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}}sameRow(r,o){return!r&&!o||!(r&&!o||!r&&o)&&r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned}before(r,o){switch(r.rowPinned){case"top":if("top"!==o.rowPinned)return!0;break;case"bottom":if("bottom"!==o.rowPinned)return!1;break;default:if(pt(o.rowPinned))return"top"!==o.rowPinned}return r.rowIndex<o.rowIndex}};P([$("rowModel")],Mu.prototype,"rowModel",2),P([$("pinnedRowModel")],Mu.prototype,"pinnedRowModel",2),P([$("paginationProxy")],Mu.prototype,"paginationProxy",2),Mu=P([It("rowPositionUtils")],Mu);var Pg=class extends nn{createId(r){const{rowIndex:o,rowPinned:c,column:p}=r;return this.createIdFromValues({rowIndex:o,column:p,rowPinned:c})}createIdFromValues(r){const{rowIndex:o,rowPinned:c,column:p}=r;return`${o}.${c??"null"}.${p.getId()}`}equals(r,o){return r.column===o.column&&r.rowPinned===o.rowPinned&&r.rowIndex===o.rowIndex}};Pg=P([It("cellPositionUtils")],Pg);var pd=class{constructor(r){this.cellValueChanges=r}},Dy=class extends pd{constructor(r,o,c,p){super(r),this.initialRange=o,this.finalRange=c,this.ranges=p}},$h=class KH{constructor(o){this.actionStack=[],this.maxStackSize=o||KH.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(o){o.cellValueChanges&&o.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(o))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};$h.DEFAULT_STACK_SIZE=10;var Um=$h,kr=class extends nn{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=r=>{const o={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned},c=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,o),p=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,o);if(!(c||p||this.isPasting||this.isRangeInAction))return;const{rowPinned:S,rowIndex:R,column:L,oldValue:Q,value:be}=r,Ie={rowPinned:S,rowIndex:R,columnId:L.getColId(),newValue:be,oldValue:Q};this.cellValueChanges.push(Ie)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gos.get("undoRedoCellEditing"))return;const r=this.gos.get("undoRedoCellEditingLimit");r<=0||(this.undoStack=new Um(r),this.redoStack=new Um(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,ae.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ae.EVENT_MODEL_UPDATED,o=>{o.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ae.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(o=>{this.gridBodyCtrl=o.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(r){this.eventService.dispatchEvent({type:ae.EVENT_UNDO_STARTED,source:r});const c=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:ae.EVENT_UNDO_ENDED,source:r,operationPerformed:c})}redo(r){this.eventService.dispatchEvent({type:ae.EVENT_REDO_STARTED,source:r});const c=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:ae.EVENT_REDO_ENDED,source:r,operationPerformed:c})}undoRedo(r,o,c,p,y){if(!r)return!1;const S=r.pop();return!(!S||!S.cellValueChanges||(this.processAction(S,R=>R[p],y),S instanceof Dy?this.processRange(this.rangeService,S.ranges||[S[c]]):this.processCell(S.cellValueChanges),o.push(S),0))}processAction(r,o,c){r.cellValueChanges.forEach(p=>{const{rowIndex:y,rowPinned:S,columnId:R}=p,Q=this.rowPositionUtils.getRowNode({rowIndex:y,rowPinned:S});Q.displayed&&Q.setDataValue(R,o(p),c)})}processRange(r,o){let c;r.removeAllCellRanges(!0),o.forEach((p,y)=>{if(!p)return;const S=p.startRow,R=p.endRow;y===o.length-1&&(c={rowPinned:S.rowPinned,rowIndex:S.rowIndex,columnId:p.startColumn.getColId()},this.setLastFocusedCell(c)),r.addCellRange({rowStartIndex:S.rowIndex,rowStartPinned:S.rowPinned,rowEndIndex:R.rowIndex,rowEndPinned:R.rowPinned,columnStart:p.startColumn,columns:p.columns})})}processCell(r){const o=r[0],{rowIndex:c,rowPinned:p}=o,S=this.rowPositionUtils.getRowNode({rowIndex:c,rowPinned:p});this.setLastFocusedCell({rowPinned:o.rowPinned,rowIndex:S.rowIndex,columnId:o.columnId},this.rangeService)}setLastFocusedCell(r,o){const{rowIndex:c,columnId:p,rowPinned:y}=r,S=this.gridBodyCtrl.getScrollFeature(),R=this.columnModel.getGridColumn(p);if(!R)return;S.ensureIndexVisible(c),S.ensureColumnVisible(R);const L={rowIndex:c,column:R,rowPinned:y};this.focusService.setFocusedCell(Ce(ee({},L),{forceBrowserFocus:!0})),o?.setRangeToCell(L)}addRowEditingListeners(){this.addManagedListener(this.eventService,ae.EVENT_ROW_EDITING_STARTED,r=>{this.activeRowEdit={rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,ae.EVENT_ROW_EDITING_STOPPED,()=>{const r=new pd(this.cellValueChanges);this.pushActionsToUndoStack(r),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,ae.EVENT_CELL_EDITING_STARTED,r=>{this.activeCellEdit={column:r.column,rowIndex:r.rowIndex,rowPinned:r.rowPinned}}),this.addManagedListener(this.eventService,ae.EVENT_CELL_EDITING_STOPPED,r=>{if(this.activeCellEdit=null,r.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const c=new pd(this.cellValueChanges);this.pushActionsToUndoStack(c)}})}addPasteListeners(){this.addManagedListener(this.eventService,ae.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,ae.EVENT_PASTE_END,()=>{const r=new pd(this.cellValueChanges);this.pushActionsToUndoStack(r),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,ae.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,ae.EVENT_FILL_END,r=>{const o=new Dy(this.cellValueChanges,r.initialRange,r.finalRange);this.pushActionsToUndoStack(o),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,ae.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let r;r=this.rangeService&&this.gos.get("enableRangeSelection")?new Dy(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new pd(this.cellValueChanges),this.pushActionsToUndoStack(r),this.isRangeInAction=!1})}pushActionsToUndoStack(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()}};P([$("focusService")],kr.prototype,"focusService",2),P([$("ctrlsService")],kr.prototype,"ctrlsService",2),P([$("cellPositionUtils")],kr.prototype,"cellPositionUtils",2),P([$("rowPositionUtils")],kr.prototype,"rowPositionUtils",2),P([$("columnModel")],kr.prototype,"columnModel",2),P([Kt("rangeService")],kr.prototype,"rangeService",2),P([mt],kr.prototype,"init",1),kr=P([It("undoRedoService")],kr);var Kh=class extends nn{findHeader(r,o){let c,p;if(r.column instanceof pr?c=this.columnModel.getDisplayedGroupAtDirection(r.column,o):(p=`getDisplayedCol${o}`,c=this.columnModel[p](r.column)),!c)return;let{headerRowIndex:y}=r;if("filter"!==this.getHeaderRowType(y)){const L=[c];for(;c.getParent();)c=c.getParent(),L.push(c);c=L[L.length-1-y]}const{column:S,headerRowIndex:R}=this.getHeaderIndexToFocus(c,y);return{column:S,headerRowIndex:R}}getHeaderIndexToFocus(r,o){let c;if(r instanceof pr&&this.isAnyChildSpanningHeaderHeight(r)&&r.isPadding()){const p=r;c=p.getLeafColumns()[0];let y=c;for(;y!==p;)o++,y=y.getParent()}return{column:c||r,headerRowIndex:o}}isAnyChildSpanningHeaderHeight(r){return!!r&&r.getLeafColumns().some(o=>o.isSpanHeaderHeight())}getColumnVisibleParent(r,o){const c=this.getHeaderRowType(o),y="column"===c;let S="filter"===c?r:r.getParent(),R=o-1,L=R;if(y&&this.isAnyChildSpanningHeaderHeight(r.getParent())){for(;S&&S.isPadding();)S=S.getParent(),R--;L=R,R<0&&(S=r,R=o,L=void 0)}return{column:S,headerRowIndex:R,headerRowIndexWithoutSpan:L}}getColumnVisibleChild(r,o,c="After"){let y=r,S=o+1,R=S;if("group"===this.getHeaderRowType(o)){const L=r.getDisplayedLeafColumns(),Q="After"===c?L[0]:zt(L),be=[];let Ie=Q;for(;Ie.getParent()!==r;)Ie=Ie.getParent(),be.push(Ie);if(y=Q,Q.isSpanHeaderHeight())for(let Je=be.length-1;Je>=0;Je--){const Bt=be[Je];if(!Bt.isPadding()){y=Bt;break}S++}else y=zt(be),y||(y=Q)}return{column:y,headerRowIndex:S,headerRowIndexWithoutSpan:R}}getHeaderRowType(r){const o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(r)}findColAtEdgeForHeaderRow(r,o){const c=this.columnModel.getAllDisplayedColumns(),p=c["start"===o?0:c.length-1];if(!p)return;const S=this.ctrlsService.getHeaderRowContainerCtrl(p.getPinned()).getRowType(r);return"group"==S?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(p,r)}:{headerRowIndex:null==S?-1:r,column:p}}};P([$("columnModel")],Kh.prototype,"columnModel",2),P([$("ctrlsService")],Kh.prototype,"ctrlsService",2),Kh=P([It("headerPositionUtils")],Kh);var kg=class{buildColumnDefs(r,o,c){const p=[],y={};return r.forEach(S=>{let L=!0,Q=this.createDefFromColumn(S,o,c),be=S.getOriginalParent(),Ie=null;for(;be;){let Je=null;if(be.isPadding()){be=be.getOriginalParent();continue}const Bt=y[be.getGroupId()];if(Bt){Bt.children.push(Q),L=!1;break}if(Je=this.createDefFromGroup(be),Je&&(Je.children=[Q],y[Je.groupId]=Je,Q=Je,be=be.getOriginalParent()),null!=be&&Ie===be){L=!1;break}Ie=be}L&&p.push(Q)}),p}createDefFromGroup(r){const o=an(r.getColGroupDef(),["children"]);return o&&(o.groupId=r.getGroupId()),o}createDefFromColumn(r,o,c){const p=an(r.getColDef());return p.colId=r.getColId(),p.width=r.getActualWidth(),p.rowGroup=r.isRowGroupActive(),p.rowGroupIndex=r.isRowGroupActive()?o.indexOf(r):null,p.pivot=r.isPivotActive(),p.pivotIndex=r.isPivotActive()?c.indexOf(r):null,p.aggFunc=r.isValueActive()?r.getAggFunc():null,p.hide=!r.isVisible()||void 0,p.pinned=r.isPinned()?r.getPinned():null,p.sort=r.getSort()?r.getSort():null,p.sortIndex=null!=r.getSortIndex()?r.getSortIndex():null,p}};kg=P([It("columnDefFactory")],kg);var Fg=class{getInitialRowClasses(r){const o=[];return pt(r.extraCssClass)&&o.push(r.extraCssClass),o.push("ag-row"),o.push(r.rowFocused?"ag-row-focus":"ag-row-no-focus"),r.fadeRowIn&&o.push("ag-opacity-zero"),o.push(r.rowIsEven?"ag-row-even":"ag-row-odd"),r.rowNode.isRowPinned()&&o.push("ag-row-pinned"),r.rowNode.isSelected()&&o.push("ag-row-selected"),r.rowNode.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+r.rowLevel),r.rowNode.stub&&o.push("ag-row-loading"),r.fullWidthRow&&o.push("ag-full-width-row"),r.expandable&&(o.push("ag-row-group"),o.push(r.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),r.rowNode.dragging&&o.push("ag-row-dragging"),li(o,this.processClassesFromGridOptions(r.rowNode)),li(o,this.preProcessRowClassRules(r.rowNode)),o.push(r.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),r.firstRowOnPage&&o.push("ag-row-first"),r.lastRowOnPage&&o.push("ag-row-last"),r.fullWidthRow&&("left"===r.pinned&&o.push("ag-cell-last-left-pinned"),"right"===r.pinned&&o.push("ag-cell-first-right-pinned")),o}processClassesFromGridOptions(r){const o=[],c=S=>{"string"==typeof S?o.push(S):Array.isArray(S)&&S.forEach(R=>o.push(R))},p=this.gos.get("rowClass");if(p){if("function"==typeof p)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];c(p)}const y=this.gos.getCallback("getRowClass");return y&&c(y({data:r.data,node:r,rowIndex:r.rowIndex})),o}preProcessRowClassRules(r){const o=[];return this.processRowClassRules(r,c=>{o.push(c)},c=>{}),o}processRowClassRules(r,o,c){const p=this.gos.addGridCommonParams({data:r.data,node:r,rowIndex:r.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),p,o,c)}calculateRowLevel(r){return r.group?r.level:r.parent?r.parent.level+1:0}};P([$("stylingService")],Fg.prototype,"stylingService",2),P([$("gridOptionsService")],Fg.prototype,"gos",2),Fg=P([It("rowCssClassCalculator")],Fg);var Gp=class extends nn{init(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",r=>this.isAccentedSort=r.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(r,o){const p=r.map((y,S)=>({currentPos:S,rowNode:y}));return p.sort(this.compareRowNodes.bind(this,o)),p.map(y=>y.rowNode)}compareRowNodes(r,o,c){const p=o.rowNode,y=c.rowNode;for(let S=0,R=r.length;S<R;S++){const L=r[S],Q="desc"===L.sort,be=this.getValue(p,L.column),Ie=this.getValue(y,L.column);let Je;const Bt=this.getComparator(L,p);if(Je=Bt?Bt(be,Ie,p,y,Q):G.defaultComparator(be,Ie,this.isAccentedSort),!isNaN(Je)&&0!==Je)return"asc"===L.sort?Je:-1*Je}return o.currentPos-c.currentPos}getComparator(r,o){const c=r.column,p=c.getColDef().comparator;if(null!=p)return p;if(!c.getColDef().showRowGroup)return;const y=!o.group&&c.getColDef().field;if(!y)return;const S=this.columnModel.getPrimaryColumn(y);return S?S.getColDef().comparator:void 0}getValue(r,o){var c,p;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(o,r,!1,!1);if(r.rowGroupColumn===o){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const L=null==(c=r.allLeafChildren)?void 0:c[0];return L?this.valueService.getValue(o,L,!1,!1):void 0}const R=this.columnModel.getGroupDisplayColumnForGroup(o.getId());return R?null==(p=r.groupData)?void 0:p[R.getId()]:void 0}return r.group&&o.getColDef().showRowGroup?void 0:this.valueService.getValue(o,r,!1,!1)}};P([$("valueService")],Gp.prototype,"valueService",2),P([$("columnModel")],Gp.prototype,"columnModel",2),P([mt],Gp.prototype,"init",1),Gp=P([It("rowNodeSorter")],Gp);var Og=class extends nn{constructor(){super(...arguments),this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const r=this.params;this.ready=null!=r.gridCtrl&&null!=r.gridBodyCtrl&&null!=r.center&&null!=r.left&&null!=r.right&&null!=r.bottomCenter&&null!=r.bottomLeft&&null!=r.bottomRight&&null!=r.topCenter&&null!=r.topLeft&&null!=r.topRight&&null!=r.stickyTopCenter&&null!=r.stickyTopLeft&&null!=r.stickyTopRight&&null!=r.stickyBottomCenter&&null!=r.stickyBottomLeft&&null!=r.stickyBottomRight&&null!=r.centerHeader&&null!=r.leftHeader&&null!=r.rightHeader&&null!=r.fakeHScrollComp&&null!=r.fakeVScrollComp&&null!=r.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach(o=>o(r)),this.readyCallbacks.length=0)}whenReady(r){this.ready?r(this.params):this.readyCallbacks.push(r)}register(r,o){this.params[r]=o,this.checkReady()}registerHeaderContainer(r,o){switch(o){case"left":this.params.leftHeader=r;break;case"right":this.params.rightHeader=r;break;default:this.params.centerHeader=r}this.checkReady()}get(r){return this.params[r]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.params.leftHeader,this.params.rightHeader,this.params.centerHeader]}getHeaderRowContainerCtrl(r){switch(r){case"left":return this.params.leftHeader;case"right":return this.params.rightHeader;default:return this.params.centerHeader}}};Og.NAME="ctrlsService",Og=P([It(Og.NAME)],Og);var Ey=class extends nn{constructor(){super(...arguments),this.registry={}}register(r){this.registry[r.controllerName]=r.controllerClass}getInstance(r){const o=this.registry[r];if(null!=o)return new o}};Ey=P([It("ctrlsFactory")],Ey);var ph=class extends _n{constructor(r,o){super(r),this.direction=o,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",ia()||zo())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=De(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const c=this.getGui();["mouseenter","mousedown","touchstart"].forEach(p=>this.addManagedListener(c,p,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),["mouseleave","touchend"].forEach(p=>this.addManagedListener(c,p,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL,r=>{r.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(r){const o=this.getViewport();Mi(()=>bo(o),()=>this.setScrollPosition(r),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(r){this.addManagedListener(this.getViewport(),"scroll",r)}};P([sn("eViewport")],ph.prototype,"eViewport",2),P([sn("eContainer")],ph.prototype,"eContainer",2),P([$("scrollVisibleService")],ph.prototype,"scrollVisibleService",2),P([$("ctrlsService")],ph.prototype,"ctrlsService",2),P([$("animationFrameService")],ph.prototype,"animationFrameService",2);var Hp=class XH extends ph{constructor(){super(XH.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const o=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,o),this.addManagedListener(this.eventService,ae.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",o),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new yf(c=>this.eContainer.style.width=`${c}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const o=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${o}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const o=this.scrollVisibleService.isVerticalScrollShowing();let c=this.columnModel.getDisplayedColumnsRightWidth();const p=!this.enableRtl&&o,y=this.gos.getScrollbarWidth();p&&(c+=y),zr(this.eRightSpacer,c),this.eRightSpacer.classList.toggle("ag-scroller-corner",c<=y);let S=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&o&&(S+=y),zr(this.eLeftSpacer,S),this.eLeftSpacer.classList.toggle("ag-scroller-corner",S<=y)}setScrollVisible(){const o=this.scrollVisibleService.isHorizontalScrollShowing(),c=this.invisibleScrollbar,p=this.gos.get("suppressHorizontalScroll"),y=o&&this.gos.getScrollbarWidth()||0,R=p?0:0===y&&c?16:y;this.addOrRemoveCssClass("ag-scrollbar-invisible",c),vo(this.getGui(),R),vo(this.eViewport,R),vo(this.eContainer,R),this.setDisplayed(o,{skipAriaHidden:!0})}getScrollPosition(){return wl(this.getViewport(),this.enableRtl)}setScrollPosition(o){bo(this.getViewport())||this.attemptSettingScrollPosition(o),sl(this.getViewport(),o,this.enableRtl)}};Hp.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',P([sn("eLeftSpacer")],Hp.prototype,"eLeftSpacer",2),P([sn("eRightSpacer")],Hp.prototype,"eRightSpacer",2),P([$("columnModel")],Hp.prototype,"columnModel",2),P([$("pinnedRowModel")],Hp.prototype,"pinnedRowModel",2),P([mt],Hp.prototype,"postConstruct",1);var D0=Hp,Ru=class extends nn{postConstruct(){const r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedPropertyListener("domLayout",r)}checkContainerWidths(){const r=this.gos.isDomLayout("print"),o=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),c=r?0:this.columnModel.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:ae.EVENT_LEFT_PINNED_WIDTH_CHANGED})),c!=this.rightWidth&&(this.rightWidth=c,this.eventService.dispatchEvent({type:ae.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};P([$("columnModel")],Ru.prototype,"columnModel",2),P([mt],Ru.prototype,"postConstruct",1),Ru=P([It("pinnedWidthService")],Ru);var Iu=class extends nn{constructor(){super(...arguments),this.events=[]}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(r,o){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(r);this.events.push(r);const c=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(p=>this.eventService.dispatchEvent(p)),this.events=[]};o?c():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(c)),this.dispatchExpandedDebounced())}};P([$("animationFrameService")],Iu.prototype,"animationFrameService",2),P([$("rowModel")],Iu.prototype,"rowModel",2),P([mt],Iu.prototype,"postConstruct",1),Iu=P([It("rowNodeEventThrottle")],Iu);var Pu=(r,o)=>{var c;return"clientSide"===(null!=(c=o.rowModelType)?c:"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null},zm={enableRowGroup:Pu,rowGroup:Pu,rowGroupIndex:Pu,enablePivot:Pu,enableValue:Pu,pivot:Pu,pivotIndex:Pu,aggFunc:Pu,cellEditor:r=>"agRichSelect"===r.cellEditor||"agRichSelectCellEditor"===r.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:r=>{var o;const c=["columnsMenuTab","generalMenuTab"];return null!=(o=r.menuTabs)&&o.some(p=>c.includes(p))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(r,{rowSelection:o})=>"multiple"===o?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(r,{rowSelection:o})=>"multiple"===o?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(r,{rowSelection:o})=>"multiple"===o?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>fh},fh={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},validations:zm},dr={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1},Sb={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:r=>{var o;const c=null!=(o=r.rowModelType)?o:"clientSide";switch(c){case"clientSide":return r.getDataPath?null:`treeData requires 'getDataPath' in the ${c} row model.`;case"serverSide":return r.isServerSideGroup&&r.getServerSideGroupKey?null:`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${c} row model.`}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:r=>{var o;switch(null!=(o=r.rowModelType)?o:"clientSide"){case"clientSide":return null;case"serverSide":return r.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>fh,defaultColDef:()=>fh,defaultColGroupDef:()=>fh,autoGroupColumnDef:()=>fh},jm={objectName:"gridOptions",allProperties:[...js.ALL_PROPERTIES,...To.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:{enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."}},validations:Sb},Zo=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Pt,this.globalEventHandlerFactory=r=>(o,c)=>{if(this.destroyed)return;const p=En.has(o);if(p&&!r||!p&&r)return;const y=To.getCallbackForEvent(o),S=this.gridOptions[y];"function"==typeof S&&this.frameworkOverrides.wrapOutgoing(()=>{S(c)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new jh(this.api);const r=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),r),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(r){var o;return null!=(o=this.gridOptions[r])?o:dr[r]}getCallback(r){return this.mergeGridCommonParams(this.gridOptions[r])}exists(r){return pt(this.gridOptions[r])}mergeGridCommonParams(r){return r&&(c=>{const p=c;return p.api=this.api,p.columnApi=this.columnApi,p.context=this.context,r(p)})}static toBoolean(r){return"boolean"==typeof r?r:"string"==typeof r&&("TRUE"===r.toUpperCase()||""==r)}static toNumber(r){if("number"==typeof r)return r;if("string"==typeof r){const o=parseInt(r);return isNaN(o)?void 0:o}}static toConstrainedNum(r,o){return c=>{const p=Zo.toNumber(c);if(!(null==p||p<r||p>o))return p}}static getCoercedValue(r,o){const c=Zo.PROPERTY_COERCIONS.get(r);return c?c(o):o}static getCoercedGridOptions(r){const o={};return Object.entries(r).forEach(([c,p])=>{const y=Zo.getCoercedValue(c,p);o[c]=y}),o}updateGridOptions({options:r,force:o,source:c="api"}){const p={id:Zo.changeSetId++,properties:[]},y=[];Object.entries(r).forEach(([S,R])=>{"api"===c&&Ys[S]&&Zt(`${S} is an initial property and cannot be updated.`);const L=Zo.getCoercedValue(S,R),be=this.gridOptions[S];(o||"object"==typeof L&&"api"===c||be!==L)&&(this.gridOptions[S]=L,y.push({type:S,currentValue:L,previousValue:be,changeSet:p,source:c}))}),this.validationService.processGridOptions(this.gridOptions),p.properties=y.map(S=>S.type),y.forEach(S=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${S.type} from `,S.previousValue," to  ",S.currentValue),this.propertyEventService.dispatchEvent(S)})}addEventListener(r,o){this.propertyEventService.addEventListener(r,o)}removeEventListener(r,o){this.propertyEventService.removeEventListener(r,o)}getScrollbarWidth(){if(null==this.scrollbarWidth){const o="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Ze();null!=o&&(this.scrollbarWidth=o,this.eventService.dispatchEvent({type:ae.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(r){return this.gridOptions.rowModelType===r||"clientSide"===r&&Ai(this.gridOptions.rowModelType)}isDomLayout(r){var o;return(null!=(o=this.gridOptions.domLayout)?o:"normal")===r}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(r,o=!1,c){if(null==c&&(c=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(o)return{height:c,estimated:!0};const y={node:r,data:r.data},S=this.getCallback("getRowHeight")(y);if(this.isNumeric(S))return 0===S&&Zt("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,S),estimated:!1}}return r.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:c,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||Ai(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const r=this.environment.refreshRowHeightVariable();return-1!==r?r:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)}getDomDataKey(){return this.domDataKey}getDomData(r,o){const c=r[this.getDomDataKey()];return c?c[o]:void 0}setDomData(r,o,c){const p=this.getDomDataKey();let y=r[p];Ai(y)&&(y={},r[p]=y),y[o]=c}getDocument(){let r=null;return this.gridOptions.getDocument&&pt(this.gridOptions.getDocument)?r=this.gridOptions.getDocument():this.eGridDiv&&(r=this.eGridDiv.ownerDocument),r&&pt(r)?r:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return pt(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const r=this.gridOptions.autoGroupColumnDef;return!r?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const r=this.gridOptions.groupAggFiltering;return"function"==typeof r?this.getCallback("groupAggFiltering"):!0===r?()=>!0:void 0}getGrandTotalRow(){return this.gridOptions.grandTotalRow||(this.gridOptions.groupIncludeTotalFooter?"bottom":void 0)}getGroupTotalRowCallback(){const r=this.get("groupTotalRow");if("function"==typeof r)return this.getCallback("groupTotalRow");if(r)return()=>r;const o=this.get("groupIncludeFooter");if("function"==typeof o){const c=this.getCallback("groupIncludeFooter");return p=>c(p)?"bottom":void 0}return()=>o?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(r){return!r&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(r){const o=r;return o.api=this.api,o.columnApi=this.columnApi,o.context=this.context,o}};Zo.PROPERTY_COERCIONS=new Map([...js.BOOLEAN_PROPERTIES.map(r=>[r,Zo.toBoolean]),...js.NUMBER_PROPERTIES.map(r=>[r,Zo.toNumber]),["groupAggFiltering",r=>"function"==typeof r?r:Zo.toBoolean(r)],["pageSize",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Zo.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Zo.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Zo.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Zo.toConstrainedNum(0,Number.MAX_VALUE)]]),Zo.changeSetId=0,P([$("gridOptions")],Zo.prototype,"gridOptions",2),P([$("eventService")],Zo.prototype,"eventService",2),P([$("environment")],Zo.prototype,"environment",2),P([$("frameworkOverrides")],Zo.prototype,"frameworkOverrides",2),P([$("eGridDiv")],Zo.prototype,"eGridDiv",2),P([$("validationService")],Zo.prototype,"validationService",2),P([$("gridApi")],Zo.prototype,"api",2),P([mt],Zo.prototype,"init",1),P([jt],Zo.prototype,"destroy",1),Zo=P([It("gridOptionsService")],Zo);var Tf=class extends nn{getLocaleTextFunc(){const r=this.gos.getCallback("getLocaleText");if(r)return(c,p,y)=>r({key:c,defaultValue:p,variableValues:y});const o=this.gos.get("localeText");return(c,p,y)=>{let S=o&&o[c];if(S&&y&&y.length){let R=0;for(;!(R>=y.length||-1===S.indexOf("${variable}"));)S=S.replace("${variable}",y[R++])}return S??p}}};Tf=P([It("localeService")],Tf);var Mf=class YH extends ph{constructor(){super(YH.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Fm(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedListener(this.eventService,ae.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const o=this.scrollVisibleService.isVerticalScrollShowing(),c=this.invisibleScrollbar,p=o&&this.gos.getScrollbarWidth()||0,y=0===p&&c?16:p;this.addOrRemoveCssClass("ag-scrollbar-invisible",c),zr(this.getGui(),y),zr(this.eViewport,y),zr(this.eContainer,y),this.setDisplayed(o,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:o}=this,p=o.getGridBodyCtrl().getBodyViewportElement(),y=this.getScrollPosition(),S=p.scrollTop;y!=S&&this.setScrollPosition(S,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(o,c){!c&&!bo(this.getViewport())&&this.attemptSettingScrollPosition(o),this.getViewport().scrollTop=o}};Mf.TEMPLATE='<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>\n            </div>\n        </div>',P([mt],Mf.prototype,"postConstruct",1);var $m=Mf,Fd={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},Lg=["january","february","march","april","may","june","july","august","september","october","november","december"],Ca=class extends nn{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",r=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Ws(r.source))})}processDataTypeDefinitions(){var r;const o=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(o).forEach(([p,y])=>{this.dataTypeDefinitions[p]=Ce(ee({},y),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(y)})});const c=null!=(r=this.gos.get("dataTypeDefinitions"))?r:{};this.dataTypeMatchers={},Object.entries(c).forEach(([p,y])=>{const S=this.processDataTypeDefinition(y,c,[p],o);S&&(this.dataTypeDefinitions[p]=S,y.dataTypeMatcher&&(this.dataTypeMatchers[p]=y.dataTypeMatcher))}),this.checkObjectValueHandlers(o),["dateString","text","number","boolean","date"].forEach(p=>{const y=this.dataTypeMatchers[p];y&&delete this.dataTypeMatchers[p],this.dataTypeMatchers[p]=y??o[p].dataTypeMatcher})}mergeDataTypeDefinitions(r,o){const c=ee(ee({},r),o);return r.columnTypes&&o.columnTypes&&o.appendColumnTypes&&(c.columnTypes=[...this.convertColumnTypes(r.columnTypes),...this.convertColumnTypes(o.columnTypes)]),c}processDataTypeDefinition(r,o,c,p){let y;const S=r.extendsDataType;if(r.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),r.extendsDataType===r.baseDataType){let R=p[S];const L=o[S];if(R&&L&&(R=L),!this.validateDataTypeDefinition(r,R,S))return;y=this.mergeDataTypeDefinitions(R,r)}else{if(c.includes(S))return void Zt('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const R=o[S];if(!this.validateDataTypeDefinition(r,R,S))return;const L=this.processDataTypeDefinition(R,o,[...c,S],p);if(!L)return;y=this.mergeDataTypeDefinitions(L,r)}return Ce(ee({},y),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(y)})}validateDataTypeDefinition(r,o,c){return o?o.baseDataType===r.baseDataType||(Zt('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(Zt(`The data type definition ${c} does not exist.`),!1)}createGroupSafeValueFormatter(r){if(r.valueFormatter)return o=>{var c,p;if(null!=(c=o.node)&&c.group){const y=o.column.getAggFunc();if(y){if("first"===y||"last"===y)return r.valueFormatter(o);if("number"===r.baseDataType&&"count"!==y){if("number"==typeof o.value)return r.valueFormatter(o);if("object"==typeof o.value){if(!o.value)return;if("toNumber"in o.value)return r.valueFormatter(Ce(ee({},o),{value:o.value.toNumber()}));if("value"in o.value)return r.valueFormatter(Ce(ee({},o),{value:o.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&o.column.isRowGroupActive()){if("string"!=typeof o.value||null!=(p=r.dataTypeMatcher)&&p.call(r,o.value))return r.valueFormatter(o);if(!this.gos.get("suppressGroupMaintainValueType"))return}return r.valueFormatter(o)}}updateColDefAndGetDataTypeDefinitionColumnType(r,o,c){let{cellDataType:p}=o;const{field:y}=o;if(void 0===p&&(p=r.cellDataType),(null==p||!0===p)&&(p=!!this.canInferCellDataType(r,o)&&this.inferCellDataType(y,c)),!p)return void(r.cellDataType=!1);const S=this.dataTypeDefinitions[p];if(S)return r.cellDataType=p,S.groupSafeValueFormatter&&(r.valueFormatter=S.groupSafeValueFormatter),S.valueParser&&(r.valueParser=S.valueParser),S.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(r,S,c),S.columnTypes;Zt(`Missing data type definition - "${p}"`)}updateColDefAndGetColumnType(r,o,c){var p,y;const S=this.updateColDefAndGetDataTypeDefinitionColumnType(r,o,c),R=null!=(y=null!=(p=o.type)?p:S)?y:r.type;return r.type=R,R?this.convertColumnTypes(R):void 0}addColumnListeners(r){if(!this.isWaitingForRowData)return;const o=this.columnStateUpdatesPendingInference[r.getColId()];if(!o)return;const c=p=>{o.add(p.key)};r.addEventListener(bt.EVENT_STATE_UPDATED,c),this.columnStateUpdateListenerDestroyFuncs.push(()=>r.removeEventListener(bt.EVENT_STATE_UPDATED,c))}canInferCellDataType(r,o){var c;if("clientSide"!==this.rowModel.getType())return!1;const p={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(o,p))return!1;const y=null===o.type?r.type:o.type;if(y){const S=null!=(c=this.gos.get("columnTypes"))?c:{};if(this.convertColumnTypes(y).some(L=>{const Q=S[L.trim()];return Q&&this.doColDefPropsPreventInference(Q,p)}))return!1}return!this.doColDefPropsPreventInference(r,p)}doColDefPropsPreventInference(r,o){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([c,p])=>this.doesColDefPropPreventInference(r,o,c,p))}doesColDefPropPreventInference(r,o,c,p){if(!o[c])return!1;const y=r[c];return null===y?(o[c]=!1,!1):void 0===p?!!y:y===p}inferCellDataType(r,o){var c;if(!r)return;let p;const y=this.getInitialData();if(y){const R=r.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");p=Qt(y,r,R)}else this.initWaitForRowData(o);if(null==p)return;const[S]=null!=(c=Object.entries(this.dataTypeMatchers).find(([R,L])=>L(p)))?c:["object"];return S}getInitialData(){const r=this.gos.get("rowData");if(r?.length)return r[0];if(this.initialData)return this.initialData;{const o=this.rowModel.getRootNode().allLeafChildren;if(o?.length)return o[0].data}return null}initWaitForRowData(r){if(this.columnStateUpdatesPendingInference[r]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const o=this.isColumnTypeOverrideInDataTypeDefinitions;o&&this.columnModel.queueResizeOperations();const c=this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_UPDATE_STARTED,p=>{const{firstRowData:y}=p;y&&(c?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(y,o),this.columnStateUpdatesPendingInference={},o&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:ae.EVENT_DATA_TYPES_INFERRED}))})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(r,o){this.initialData=r;const c=[];this.columnStateUpdateListenerDestroyFuncs.forEach(S=>S()),this.columnStateUpdateListenerDestroyFuncs=[];const p={},y={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([S,R])=>{const L=this.columnModel.getGridColumn(S);if(!L)return;const Q=L.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(L,"cellDataTypeInferred"))return;const be=L.getColDef();if(o&&be.type&&be.type!==Q.type){const Ie=this.getUpdatedColumnState(L,R);Ie.rowGroup&&null==Ie.rowGroupIndex&&(p[S]=Ie),Ie.pivot&&null==Ie.pivotIndex&&(y[S]=Ie),c.push(Ie)}}),o&&c.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(p,y)),c.length&&this.columnModel.applyColumnState({state:c},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(r,o){const c=this.columnModel.getColumnStateFromColDef(r);return o.forEach(p=>{delete c[p],"rowGroup"===p?delete c.rowGroupIndex:"pivot"===p&&delete c.pivotIndex}),c}checkObjectValueHandlers(r){const o=this.dataTypeDefinitions.object,c=r.object;this.hasObjectValueParser=o.valueParser!==c.valueParser,this.hasObjectValueFormatter=o.valueFormatter!==c.valueFormatter}convertColumnTypes(r){let o=[];return r instanceof Array?r.some(p=>"string"!=typeof p)?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):o=r:"string"==typeof r?o=r.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),o}getDateStringTypeDefinition(r){var o;return r&&null!=(o=this.getDataTypeDefinition(r))?o:this.dataTypeDefinitions.dateString}getDateParserFunction(r){return this.getDateStringTypeDefinition(r).dateParser}getDateFormatterFunction(r){return this.getDateStringTypeDefinition(r).dateFormatter}getDataTypeDefinition(r){const o=r.getColDef();if(o.cellDataType)return this.dataTypeDefinitions[o.cellDataType]}getBaseDataType(r){var o;return null==(o=this.getDataTypeDefinition(r))?void 0:o.baseDataType}checkType(r,o){var c;if(null==o)return!0;const p=null==(c=this.getDataTypeDefinition(r))?void 0:c.dataTypeMatcher;return!p||p(o)}validateColDef(r){"object"===r.cellDataType&&(r.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&Zt('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),r.editable&&r.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&Zt('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(r,o,c){const p=(L,Q,be)=>{let Ie=L.getColDef().valueFormatter;return Ie===o.groupSafeValueFormatter&&(Ie=o.valueFormatter),this.valueService.formatValue(L,Q,be,Ie)},y=Sn.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),S=this.localeService.getLocaleTextFunc(),R=L=>{const{filterParams:Q}=r;r.filterParams="object"==typeof Q?ee(ee({},Q),L):L};switch(o.baseDataType){case"number":r.cellEditor="agNumberCellEditor",y&&R({comparator:(L,Q)=>{const be=null==L?0:parseInt(L),Ie=null==Q?0:parseInt(Q);return be===Ie?0:be>Ie?1:-1}});break;case"boolean":r.cellEditor="agCheckboxCellEditor",r.cellRenderer="agCheckboxCellRenderer",r.suppressKeyboardEvent=L=>!!L.colDef.editable&&L.event.key===xi.SPACE,R(y?{valueFormatter:L=>pt(L.value)?S(String(L.value),L.value?"True":"False"):S("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(L,Q)=>Q,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(L,Q)=>!1===Q,numberOfInputs:0}]});break;case"date":r.cellEditor="agDateCellEditor",r.keyCreator=L=>p(L.column,L.node,L.value),y&&R({valueFormatter:L=>{const Q=p(L.column,L.node,L.value);return pt(Q)?Q:S("blanks","(Blanks)")},treeList:!0,treeListFormatter:(L,Q)=>{if(1===Q&&null!=L){const be=Lg[Number(L)-1];return S(be,Fd[be])}return L??S("blanks","(Blanks)")}});break;case"dateString":{r.cellEditor="agDateStringCellEditor",r.keyCreator=Q=>p(Q.column,Q.node,Q.value);const L=o.dateParser;R(y?{valueFormatter:Q=>{const be=p(Q.column,Q.node,Q.value);return pt(be)?be:S("blanks","(Blanks)")},treeList:!0,treeListPathGetter:Q=>{const be=L(Q??void 0);return be?[String(be.getFullYear()),String(be.getMonth()+1),String(be.getDate())]:null},treeListFormatter:(Q,be)=>{if(1===be&&null!=Q){const Ie=Lg[Number(Q)-1];return S(Ie,Fd[Ie])}return Q??S("blanks","(Blanks)")}}:{comparator:(Q,be)=>{const Ie=L(be);return null==be||Ie<Q?-1:Ie>Q?1:0}});break}case"object":r.cellEditorParams={useFormatter:!0},r.comparator=(L,Q)=>{const be=this.columnModel.getPrimaryColumn(c),Ie=be?.getColDef();if(!be||!Ie)return 0;const Je=null==L?"":p(be,null,L),Bt=null==Q?"":p(be,null,Q);return Je===Bt?0:Je>Bt?1:-1},r.keyCreator=L=>p(L.column,L.node,L.value),y?R({valueFormatter:L=>{const Q=p(L.column,L.node,L.value);return pt(Q)?Q:S("blanks","(Blanks)")}}):r.filterValueGetter=L=>p(L.column,L.node,this.valueService.getValue(L.column,L.node))}}getDefaultDataTypes(){const r=c=>!!c.match("^\\d{4}-\\d{2}-\\d{2}$"),o=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:c=>{var p,y;return""===(null==(y=null==(p=c.newValue)?void 0:p.trim)?void 0:y.call(p))?null:Number(c.newValue)},valueFormatter:c=>null==c.value?"":"number"!=typeof c.value||isNaN(c.value)?o("invalidNumber","Invalid Number"):String(c.value),dataTypeMatcher:c=>"number"==typeof c},text:{baseDataType:"text",valueParser:c=>""===c.newValue?null:q(c.newValue),dataTypeMatcher:c=>"string"==typeof c},boolean:{baseDataType:"boolean",valueParser:c=>{var p,y;return null==c.newValue?c.newValue:""===(null==(y=null==(p=c.newValue)?void 0:p.trim)?void 0:y.call(p))?null:"true"===String(c.newValue).toLowerCase()},valueFormatter:c=>null==c.value?"":String(c.value),dataTypeMatcher:c=>"boolean"==typeof c},date:{baseDataType:"date",valueParser:c=>ga(null==c.newValue?null:String(c.newValue)),valueFormatter:c=>{var p;return null==c.value?"":c.value instanceof Date&&!isNaN(c.value.getTime())?null!=(p=xs(c.value,!1))?p:"":o("invalidDate","Invalid Date")},dataTypeMatcher:c=>c instanceof Date},dateString:{baseDataType:"dateString",dateParser:c=>{var p;return null!=(p=ga(c))?p:void 0},dateFormatter:c=>{var p;return null!=(p=xs(c??null,!1))?p:void 0},valueParser:c=>r(String(c.newValue))?c.newValue:null,valueFormatter:c=>r(String(c.value))?c.value:"",dataTypeMatcher:c=>"string"==typeof c&&r(c)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:c=>{var p;return null!=(p=q(c.value))?p:""}}}}};P([$("rowModel")],Ca.prototype,"rowModel",2),P([$("columnModel")],Ca.prototype,"columnModel",2),P([$("valueService")],Ca.prototype,"valueService",2),P([mt],Ca.prototype,"init",1),Ca=P([It("dataTypeService")],Ca);var Xc=class extends nn{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",r=>this.setColumnDefs(r))}start(){this.ctrlsService.whenReady(()=>{const r=this.gos.get("columnDefs");r?this.setColumnsAndData(r):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(r){this.columnModel.setColumnDefs(r??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const r=Sn.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new wy("AG Grid",()=>this.gos.get("debug")).log(`initialised successfully, enterprise = ${r}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:ae.EVENT_GRID_READY})}setColumnDefs(r){const o=this.gos.get("columnDefs");if(o){if(this.waitingForColumns)return this.waitingForColumns=!1,void this.setColumnsAndData(o);this.columnModel.setColumnDefs(o,Ws(r.source))}}};P([$("ctrlsService")],Xc.prototype,"ctrlsService",2),P([$("columnModel")],Xc.prototype,"columnModel",2),P([$("rowModel")],Xc.prototype,"rowModel",2),P([mt],Xc.prototype,"postConstruct",1),Xc=P([It("syncService")],Xc);var Od=class extends nn{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,ae.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(r){this.overlayWrapperComp=r,(!this.gos.get("columnDefs")||this.gos.isRowModelType("clientSide")&&!this.gos.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gos.get("suppressLoadingOverlay"))return;const o=this.userComponentFactory.getLoadingOverlayCompDetails({});this.showOverlay(o,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gos.get("suppressNoRowsOverlay"))return;const o=this.userComponentFactory.getNoRowsOverlayCompDetails({});this.showOverlay(o,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(r,o,c){const p=r.newAgStackInstance(),y=this.addManagedPropertyListener(c,({currentValue:S})=>{p.then(R=>{R.refresh&&R.refresh(this.gos.addGridCommonParams(ee({},S??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(p,o,y)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const r=this.paginationProxy.isEmpty(),o=this.gos.get("suppressNoRowsOverlay");r&&!o?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};P([$("userComponentFactory")],Od.prototype,"userComponentFactory",2),P([$("paginationProxy")],Od.prototype,"paginationProxy",2),P([$("columnModel")],Od.prototype,"columnModel",2),P([mt],Od.prototype,"postConstruct",1),Od=P([It("overlayService")],Od);var jl=class extends nn{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=tt(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=tt(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=tt(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var r;this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=null!=(r=this.gos.get("initialState"))?r:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const o=this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,({source:y})=>{"gridInitializing"===y&&(o?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),c=this.addManagedListener(this.eventService,ae.EVENT_ROW_COUNT_READY,()=>{c?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),p=this.addManagedListener(this.eventService,ae.EVENT_FIRST_DATA_RENDERED,()=>{p?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,ae.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,ae.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var r;const o=null!=(r=this.gos.get("initialState"))?r:{};this.setColumnState(o),this.setColumnGroupState(o),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var r;const{filter:o,rowGroupExpansion:c,rowSelection:p,pagination:y}=null!=(r=this.gos.get("initialState"))?r:{},S=this.gos.get("advancedFilterModel");(o||S)&&this.setFilterState(o,S),c&&this.setRowGroupExpansionState(c),p&&this.setRowSelectionState(p),y&&this.setPaginationState(y),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,ae.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,ae.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,ae.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,R=>{(R.newPage||R.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var r;const{scroll:o,rangeSelection:c,focusedCell:p,columnOrder:y}=null!=(r=this.gos.get("initialState"))?r:{};p&&this.setFocusedCellState(p),c&&this.setRangeSelectionState(c),o&&this.setScrollState(o),this.setColumnPivotState(!!y?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,ae.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,ae.EVENT_RANGE_SELECTION_CHANGED,S=>{S.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,ae.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const r=this.columnModel.isPivotMode(),o=[],c=[],p=[],y=[],S=[],R=[],L=[],Q=[],be=[],Ie=this.columnModel.getColumnState();for(let Je=0;Je<Ie.length;Je++){const{colId:Bt,sort:Ei,sortIndex:Li,rowGroup:Wi,rowGroupIndex:Vi,aggFunc:wn,pivot:cn,pivotIndex:xn,pinned:Nn,hide:Gn,width:qn,flex:hr}=Ie[Je];be.push(Bt),Ei&&(o[Li??0]={colId:Bt,sort:Ei}),Wi&&(c[Vi??0]=Bt),"string"==typeof wn&&p.push({colId:Bt,aggFunc:wn}),cn&&(y[xn??0]=Bt),Nn&&("right"===Nn?R:S).push(Bt),Gn&&L.push(Bt),(hr||qn)&&Q.push({colId:Bt,flex:hr??void 0,width:qn})}return{sort:o.length?{sortModel:o}:void 0,rowGroup:c.length?{groupColIds:c}:void 0,aggregation:p.length?{aggregationModel:p}:void 0,pivot:y.length||r?{pivotMode:r,pivotColIds:y}:void 0,columnPinning:S.length||R.length?{leftColIds:S,rightColIds:R}:void 0,columnVisibility:L.length?{hiddenColIds:L}:void 0,columnSizing:Q.length?{columnSizingModel:Q}:void 0,columnOrder:be.length?{orderedColIds:be}:void 0}}setColumnState(r){const{sort:o,rowGroup:c,aggregation:p,pivot:y,columnPinning:S,columnVisibility:R,columnSizing:L,columnOrder:Q}=r,be={},Ie=Li=>{let Wi=be[Li];return Wi||(Wi={colId:Li},be[Li]=Wi,Wi)};o&&o.sortModel.forEach(({colId:Li,sort:Wi},Vi)=>{const wn=Ie(Li);wn.sort=Wi,wn.sortIndex=Vi}),c&&c.groupColIds.forEach((Li,Wi)=>{const Vi=Ie(Li);Vi.rowGroup=!0,Vi.rowGroupIndex=Wi}),p&&p.aggregationModel.forEach(({colId:Li,aggFunc:Wi})=>{Ie(Li).aggFunc=Wi}),y&&(y.pivotColIds.forEach((Li,Wi)=>{const Vi=Ie(Li);Vi.pivot=!0,Vi.pivotIndex=Wi}),this.gos.updateGridOptions({options:{pivotMode:y.pivotMode},source:"gridInitializing"})),S&&(S.leftColIds.forEach(Li=>{Ie(Li).pinned="left"}),S.rightColIds.forEach(Li=>{Ie(Li).pinned="right"})),R&&R.hiddenColIds.forEach(Li=>{Ie(Li).hide=!0}),L&&L.columnSizingModel.forEach(({colId:Li,flex:Wi,width:Vi})=>{const wn=Ie(Li);wn.flex=Wi??null,wn.width=Vi});const Je=Q?.orderedColIds,Bt=!!Je?.length,Ei=Bt?Je.map(Li=>Ie(Li)):Object.values(be);Ei.length&&(this.columnStates=Ei,this.columnModel.applyColumnState({state:Ei,applyOrder:Bt,defaultState:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null}},"gridInitializing"))}setColumnPivotState(r){const o=this.columnStates;this.columnStates=void 0;const c=this.columnGroupStates;if(this.columnGroupStates=void 0,this.columnModel.isSecondaryColumnsPresent()){if(o){let p=[];for(const y of o)this.columnModel.getSecondaryColumn(y.colId)&&p.push(y);this.columnModel.applyColumnState({state:p,applyOrder:r},"gridInitializing")}c&&this.columnModel.setColumnGroupState(c,"gridInitializing")}}getColumnGroupState(){const r=this.columnModel.getColumnGroupState(),o=[];return r.forEach(({groupId:c,open:p})=>{p&&o.push(c)}),o.length?{openColumnGroupIds:o}:void 0}setColumnGroupState(r){var o;if(!r.hasOwnProperty("columnGroup"))return;const c=new Set(null==(o=r.columnGroup)?void 0:o.openColumnGroupIds),y=this.columnModel.getColumnGroupState().map(({groupId:S})=>{const R=c.has(S);return R&&c.delete(S),{groupId:S,open:R}});c.forEach(S=>{y.push({groupId:S,open:!0})}),y.length&&(this.columnGroupStates=y),this.columnModel.setColumnGroupState(y,"gridInitializing")}getFilterState(){var r;let o=this.filterManager.getFilterModel();o&&0===Object.keys(o).length&&(o=void 0);const c=null!=(r=this.filterManager.getAdvancedFilterModel())?r:void 0;return o||c?{filterModel:o,advancedFilterModel:c}:void 0}setFilterState(r,o){const{filterModel:c,advancedFilterModel:p}=r??{advancedFilterModel:o};c&&this.filterManager.setFilterModel(c,"columnFilter"),p&&this.filterManager.setAdvancedFilterModel(p)}getRangeSelectionState(){var r;const o=null==(r=this.rangeService)?void 0:r.getCellRanges().map(c=>{const{id:p,type:y,startRow:S,endRow:R,columns:L,startColumn:Q}=c;return{id:p,type:y,startRow:S,endRow:R,colIds:L.map(be=>be.getColId()),startColId:Q.getColId()}});return o?.length?{cellRanges:o}:void 0}setRangeSelectionState(r){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const o=[];r.cellRanges.forEach(c=>{const p=[];if(c.colIds.forEach(S=>{const R=this.columnModel.getGridColumn(S);R&&p.push(R)}),!p.length)return;let y=this.columnModel.getGridColumn(c.startColId);if(!y){const S=this.columnModel.getAllDisplayedColumns(),R=new Set(p);y=S.find(L=>R.has(L))}o.push(Ce(ee({},c),{columns:p,startColumn:y}))}),this.rangeService.setCellRanges(o)}getScrollState(){var r,o,c;if(!this.isClientSideRowModel)return;const p=null==(r=this.ctrlsService.getGridBodyCtrl())?void 0:r.getScrollFeature(),{left:y}=null!=(o=p?.getHScrollPosition())?o:{left:0},{top:S}=null!=(c=p?.getVScrollPosition())?c:{top:0};return S||y?{top:S,left:y}:void 0}setScrollState(r){var o;if(!this.isClientSideRowModel)return;const{top:c,left:p}=r;null==(o=this.ctrlsService.getGridBodyCtrl())||o.getScrollFeature().setScrollPosition(c,p)}getSideBarState(){var r,o;return null==(o=null==(r=this.sideBarService)?void 0:r.getSideBarComp())?void 0:o.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const r=this.focusService.getFocusedCell();if(r){const{column:o,rowIndex:c,rowPinned:p}=r;return{colId:o.getColId(),rowIndex:c,rowPinned:p}}}setFocusedCellState(r){if(!this.isClientSideRowModel)return;const{colId:o,rowIndex:c,rowPinned:p}=r;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(o),rowIndex:c,rowPinned:p,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const r=this.paginationProxy.getCurrentPage(),o=this.gos.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(r||o)return{page:r,pageSize:o}}setPaginationState(r){r.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(r.pageSize,"initialState"),"number"==typeof r.page&&this.paginationProxy.setPage(r.page)}getRowSelectionState(){var r;const o=this.selectionService.getSelectionState();return o&&(Array.isArray(o)||!1!==o.selectAll&&!1!==o.selectAllChildren||null!=(r=o?.toggledNodes)&&r.length)?o:void 0}setRowSelectionState(r){this.selectionService.setSelectionState(r,"gridInitializing")}getRowGroupExpansionState(){const r=this.expansionService.getExpandedRows();return r.length?{expandedRowGroupIds:r}:void 0}setRowGroupExpansionState(r){this.expansionService.expandRows(r.expandedRowGroupIds)}updateColumnState(r){const o=this.getColumnState();let c=!1;Object.entries(o).forEach(([p,y])=>{We(y,this.cachedState[p])||(c=!0)}),this.cachedState=ee(ee({},this.cachedState),o),c&&this.dispatchStateUpdateEvent(r)}updateCachedState(r,o){const c=this.cachedState[r];this.setCachedStateValue(r,o),We(o,c)||this.dispatchStateUpdateEvent([r])}setCachedStateValue(r,o){this.cachedState=Ce(ee({},this.cachedState),{[r]:o})}refreshStaleState(){this.staleStateKeys.forEach(r=>{"rowSelection"===r&&this.setCachedStateValue(r,this.getRowSelectionState())}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(r){this.suppressEvents||(r.forEach(o=>this.queuedUpdateSources.add(o)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const r=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:ae.EVENT_STATE_UPDATED,sources:r,state:this.cachedState})}suppressEventsAndDispatchInitEvent(r){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),r(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};P([$("filterManager")],jl.prototype,"filterManager",2),P([$("ctrlsService")],jl.prototype,"ctrlsService",2),P([$("focusService")],jl.prototype,"focusService",2),P([$("columnModel")],jl.prototype,"columnModel",2),P([$("paginationProxy")],jl.prototype,"paginationProxy",2),P([$("rowModel")],jl.prototype,"rowModel",2),P([$("selectionService")],jl.prototype,"selectionService",2),P([$("expansionService")],jl.prototype,"expansionService",2),P([$("columnAnimationService")],jl.prototype,"columnAnimationService",2),P([Kt("sideBarService")],jl.prototype,"sideBarService",2),P([Kt("rangeService")],jl.prototype,"rangeService",2),P([mt],jl.prototype,"postConstruct",1),jl=P([It("stateService")],jl);var Yc=class extends nn{init(){this.processGridOptions(this.gridOptions)}processGridOptions(r){this.processOptions(r,jm)}processColumnDefs(r){this.processOptions(r,fh)}processOptions(r,o){const{validations:c,deprecations:p,allProperties:y,propertyExceptions:S,objectName:R,docsUrl:L}=o;y&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(r,[...S??[],...Object.keys(p)],y,R,L);const Q=new Set;Object.keys(r).forEach(Ie=>{var Je;const Bt=p[Ie];if(Bt)if("renamed"in Bt){const{renamed:xn,version:Nn}=Bt;Q.add(`As of v${Nn}, ${String(Ie)} is deprecated. Please use ${String(xn)} instead.`),r[xn]=r[Ie]}else{const{message:xn,version:Nn}=Bt;Q.add(`As of v${Nn}, ${String(Ie)} is deprecated. ${xn??""}`)}const Ei=r[Ie];if(null==Ei||!1===Ei)return;const Li=c[Ie];let Wi;if(!Li)return;if("function"==typeof Li){const xn=Li(r,this.gridOptions);if(!xn)return;if("objectName"in xn){const Nn=r[Ie];return Array.isArray(Nn)?void Nn.forEach(Gn=>{this.processOptions(Gn,xn)}):void this.processOptions(r[Ie],xn)}Wi=xn}else Wi=Li;const{module:Vi,dependencies:wn,supportedRowModels:cn}=Wi;if(cn){const xn=null!=(Je=this.gridOptions.rowModelType)?Je:"clientSide";if(!cn.includes(xn))return void Q.add(`${String(Ie)} is not supported with the '${xn}' row model.`)}if(Vi){const xn=Array.isArray(Vi)?Vi:[Vi];let Nn=!0;if(xn.forEach(Gn=>{Sn.__assertRegistered(Gn,String(Ie),this.context.getGridId())||(Nn=!1,Q.add(`${String(Ie)} is only available when ${Gn} is loaded.`))}),!Nn)return}if(wn){const xn=this.checkForWarning(Ie,wn,r);if(xn)return void Q.add(xn)}}),Q.size>0&&Q.forEach(Ie=>{Zt(Ie)})}checkForWarning(r,o,c){if("function"==typeof o)return o(c,this.gridOptions);const y=Object.entries(o).find(([L,Q])=>!Q.includes(c[L]));if(!y)return null;const[S,R]=y;return R.length>1?`'${String(r)}' requires '${S}' to be one of [${R.join(", ")}].`:`'${String(r)}' requires '${S}' to be ${R[0]}.`}checkProperties(r,o,c,p,y){const R=qi(Object.getOwnPropertyNames(r),["__ob__","__v_skip","__metadata__",...o,...c],c);if(bi(R,(L,Q)=>{Zt(`invalid ${p} property '${L}' did you mean any of these: ${Q.slice(0,8).join(", ")}`)}),Object.keys(R).length>0&&y){const L=this.getFrameworkOverrides().getDocLink(y);Zt(`to see all the valid ${p} properties please check: ${L}`)}}};P([$("gridOptions")],Yc.prototype,"gridOptions",2),P([mt],Yc.prototype,"init",1),Yc=P([It("validationService")],Yc);var cc=class extends nn{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new qe(this.getFrameworkOverrides())}addEventListener(r,o){const c=this.frameworkEventWrappingService.wrap(o),p=this.gos.useAsyncEvents()&&!En.has(r),y=p?this.asyncEventListeners:this.syncEventListeners;y.has(r)||y.set(r,new Set),y.get(r).add(c),this.eventService.addEventListener(r,c,p)}removeEventListener(r,o){var c;const p=this.frameworkEventWrappingService.unwrap(o),y=this.asyncEventListeners.get(r),S=!!y?.delete(p);S||null==(c=this.syncEventListeners.get(r))||c.delete(p),this.eventService.removeEventListener(r,p,S)}addGlobalListener(r){const o=this.frameworkEventWrappingService.wrapGlobal(r);if(this.gos.useAsyncEvents()){const p=(S,R)=>{En.has(S)&&o(S,R)},y=(S,R)=>{En.has(S)||o(S,R)};this.globalEventListenerPairs.set(r,{syncListener:p,asyncListener:y}),this.eventService.addGlobalListener(p,!1),this.eventService.addGlobalListener(y,!0)}else this.syncGlobalEventListeners.add(o),this.eventService.addGlobalListener(o,!1)}removeGlobalListener(r){const o=this.frameworkEventWrappingService.unwrapGlobal(r);if(this.globalEventListenerPairs.has(o)){const{syncListener:p,asyncListener:y}=this.globalEventListenerPairs.get(o);this.eventService.removeGlobalListener(p,!1),this.eventService.removeGlobalListener(y,!0),this.globalEventListenerPairs.delete(r)}else this.syncGlobalEventListeners.delete(o),this.eventService.removeGlobalListener(o,!1)}destroyEventListeners(r,o){r.forEach((c,p)=>{c.forEach(y=>this.eventService.removeEventListener(p,y,o)),c.clear()}),r.clear()}destroyGlobalListeners(r,o){r.forEach(c=>this.eventService.removeGlobalListener(c,o)),r.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:r,asyncListener:o})=>{this.eventService.removeGlobalListener(r,!1),this.eventService.removeGlobalListener(o,!0)}),this.globalEventListenerPairs.clear()}};P([mt],cc.prototype,"postConstruct",1),cc=P([It("apiEventService")],cc);var Ld=class extends _n{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const r=this.selectPageSizeComp.getValue();if(!r)return;const o=Number(r);isNaN(o)||o<1||o===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(o,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,ae.EVENT_PAGINATION_CHANGED,r=>this.handlePaginationChanged(r))}handlePaginationChanged(r){if(!this.selectPageSizeComp||!r?.newPageSize)return;const o=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(o)?this.selectPageSizeComp.setValue(o.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(r){this.selectPageSizeComp&&this.reset(),r&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){ko(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const r=this.getPageSizeSelectorValues(),o=this.paginationProxy.getPageSize(),c=!o||!r.includes(o);c&&(r.unshift(""),Zt("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const p=this.localeService.getLocaleTextFunc(),y=p("pageSizeSelectorLabel","Page Size:"),S=r.map(L=>({value:String(L),text:String(L)})),R=p("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new $e).addOptions(S).setValue(String(c?"":o)).setAriaLabel(R).setLabel(y).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=c}getPageSizeSelectorValues(){const o=this.gos.get("paginationPageSizeSelector");return Array.isArray(o)&&this.validateValues(o)?[...o].sort((c,p)=>c-p):[20,50,100]}validateValues(r){if(!r.length)return Zt("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let o=0;o<r.length;o++){const c=r[o],y=c>0;if("number"!=typeof c)return Zt("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!y)return Zt("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};P([$("paginationProxy")],Ld.prototype,"paginationProxy",2),P([mt],Ld.prototype,"init",1);var ku=class extends nn{constructor(){super(),this.descriptionContainer=null,this.announceValue=tt(this.announceValue.bind(this),200)}postConstruct(){const r=this.gos.getDocument(),o=this.descriptionContainer=r.createElement("div");o.classList.add("ag-aria-description-container"),Ur(o,"polite"),fa(o,"additions text"),ts(o,!0),this.eGridDiv.appendChild(o)}announceValue(r){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=r)},50))}destroy(){super.destroy();const{descriptionContainer:r}=this;r&&(ko(r),r.parentElement&&r.parentElement.removeChild(r)),this.descriptionContainer=null,this.eGridDiv=null}};P([$("eGridDiv")],ku.prototype,"eGridDiv",2),P([mt],ku.prototype,"postConstruct",1),ku=P([It("ariaAnnouncementService")],ku);var Xh=class{};Xh.gridOptions=void 0;var Db=1,Eb=class{wrap(r,o,c=[],p){const y=this.createWrapper(r,p);return o.forEach(S=>{this.createMethod(y,S,!0)}),c.forEach(S=>{this.createMethod(y,S,!1)}),y}unwrap(r){return r}createMethod(r,o,c){r.addMethod(o,this.createMethodProxy(r,o,c))}createMethodProxy(r,o,c){return function(){return r.hasMethod(o)?r.callMethod(o,arguments):(c&&console.warn("AG Grid: Framework component is missing the method "+o+"()"),null)}}},Vg=class{};Vg.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},Vg.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],Vg.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Up=typeof global>"u"?{}:global;Up.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,Up.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,Up.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,Up.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,Up.Node=typeof Node>"u"?{}:Node,Up.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var Nd=class aD{constructor(o,c,p,y,S,R){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=o,this.gos=c,this.eventService=p,this.columnModel=y,this.beans=R,this.selectionService=S,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=aD.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return G.cloneObject(this.allNodesMap)}getRowNode(o){return this.allNodesMap[o]}setRowData(o){if("string"==typeof o)return void console.warn("AG Grid: rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(o);const c=this.rootNode,p=this.rootNode.sibling;c.childrenAfterFilter=null,c.childrenAfterGroup=null,c.childrenAfterAggFilter=null,c.childrenAfterSort=null,c.childrenMapped=null,c.updateHasChildren(),this.nextId=0,this.allNodesMap={},o?c.allLeafChildren=o.map(y=>this.createNode(y,this.rootNode,aD.TOP_LEVEL)):(c.allLeafChildren=[],c.childrenAfterGroup=[]),p&&(p.childrenAfterFilter=c.childrenAfterFilter,p.childrenAfterGroup=c.childrenAfterGroup,p.childrenAfterAggFilter=c.childrenAfterAggFilter,p.childrenAfterSort=c.childrenAfterSort,p.childrenMapped=c.childrenMapped,p.allLeafChildren=c.allLeafChildren)}updateRowData(o,c){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(o.add);const p={remove:[],update:[],add:[]},y=[];return this.executeRemove(o,p,y),this.executeUpdate(o,p,y),this.executeAdd(o,p),this.updateSelection(y,"rowDataChanged"),c&&G.sortRowNodesByOrder(this.rootNode.allLeafChildren,c),p}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(o){this.eventService.dispatchEvent({type:ae.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:o?.length?o[0]:null})}updateSelection(o,c){const p=o.length>0;p&&this.selectionService.setNodesSelected({newValue:!1,nodes:o,suppressFinishActions:!0,source:c}),this.selectionService.updateGroupsFromChildrenSelections(c),p&&this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:c})}executeAdd(o,c){var p;const{add:y,addIndex:S}=o;if(G.missingOrEmpty(y))return;const R=y.map(L=>this.createNode(L,this.rootNode,aD.TOP_LEVEL));if("number"==typeof S&&S>=0){const{allLeafChildren:L}=this.rootNode,Q=L.length;let be=S;if(this.gos.get("treeData")&&S>0&&Q>0)for(let Ei=0;Ei<Q;Ei++)if((null==(p=L[Ei])?void 0:p.rowIndex)==S-1){be=Ei+1;break}const Je=L.slice(0,be),Bt=L.slice(be,L.length);this.rootNode.allLeafChildren=[...Je,...R,...Bt]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...R];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),c.add=R}executeRemove(o,c,p){const{remove:y}=o;if(G.missingOrEmpty(y))return;const S={};y.forEach(R=>{const L=this.lookupRowNode(R);L&&(L.isSelected()&&p.push(L),L.clearRowTopAndRowIndex(),S[L.id]=!0,delete this.allNodesMap[L.id],c.remove.push(L))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(R=>!S[R.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(o,c,p){const{update:y}=o;G.missingOrEmpty(y)||y.forEach(S=>{const R=this.lookupRowNode(S);R&&(R.updateData(S),!R.selectable&&R.isSelected()&&p.push(R),this.setMasterForRow(R,S,aD.TOP_LEVEL,!1),c.update.push(R))})}lookupRowNode(o){const c=this.gos.getCallback("getRowId");let p;if(c){const y=c({data:o,level:0});if(p=this.allNodesMap[y],!p)return console.error(`AG Grid: could not find row id=${y}, data item was not found for this id`),null}else if(p=this.rootNode.allLeafChildren.find(y=>y.data===o),!p)return console.error("AG Grid: could not find data item as object was not found",o),console.error("Consider using getRowId to help the Grid find matching row data"),null;return p||null}createNode(o,c,p){const y=new Xr(this.beans);y.group=!1,this.setMasterForRow(y,o,p,!0);const S=this.gos.get("suppressParentsInRowNodes");return c&&!S&&(y.parent=c),y.level=p,y.setDataAndId(o,this.nextId.toString()),this.allNodesMap[y.id]&&console.warn(`AG Grid: duplicate node id '${y.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[y.id]=y,this.nextId++,y}setMasterForRow(o,c,p,y){if(this.gos.get("treeData"))o.setMaster(!1),y&&(o.expanded=!1);else{if(this.gos.get("masterDetail")){const L=this.gos.get("isRowMaster");o.setMaster(!L||L(c))}else o.setMaster(!1);if(y){const L=this.columnModel.getRowGroupColumns();o.expanded=!!o.master&&this.isExpanded(p+(L?L.length:0))}}}isExpanded(o){const c=this.gos.get("groupDefaultExpanded");return-1===c||o<c}};Nd.TOP_LEVEL=0,Nd.ROOT_NODE_ID="ROOT_NODE_ID";var If=Nd,fd=class extends nn{constructor(){super(...arguments),this.onRowHeightChanged_debounced=G.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const r=this.refreshModel.bind(this,{step:"group"}),o=!this.gos.get("suppressAnimationFrame"),c=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,c),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_COLUMN_PIVOT_MODE_CHANGED,r),this.addManagedListener(this.eventService,ae.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new Xr(this.beans),this.nodeManager=new If(this.rootNode,this.gos,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const r=new Set(["treeData","masterDetail"]),o=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),c=new Set(["excludeChildrenWhenTreeDataFiltering"]),p=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),y=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),S=new Set(["postSortRows","groupDisplayType","accentedSort"]),R=new Set([]),L=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),Q=[...r,...o,...c,...p,...p,...y,...S,...R,...L];this.addManagedPropertyListeners(Q,be=>{var Ie;const Je=null==(Ie=be.changeSet)?void 0:Ie.properties;if(!Je)return;const Bt=Ei=>Je.some(Li=>Ei.has(Li));Bt(r)?this.setRowData(this.rootNode.allLeafChildren.map(Ei=>Ei.data)):Bt(o)?this.refreshModel({step:"group"}):Bt(c)?this.refreshModel({step:"filter"}):Bt(p)?this.refreshModel({step:"pivot"}):Bt(y)?this.refreshModel({step:"aggregate"}):Bt(S)?this.refreshModel({step:"sort"}):Bt(R)?this.refreshModel({step:"filter_aggregates"}):Bt(L)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const r=this.gos.get("rowData");r&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(r))}ensureRowHeightsValid(r,o,c,p){let y,S=!1;do{y=!1;const R=this.getRowIndexAtPixel(r),L=this.getRowIndexAtPixel(o),Q=Math.max(R,c),be=Math.min(L,p);for(let Ie=Q;Ie<=be;Ie++){const Je=this.getRow(Ie);if(Je.rowHeightEstimated){const Bt=this.gos.getRowHeightForNode(Je);Je.setRowHeight(Bt.height),y=!0,S=!0}}y&&this.setRowTopAndRowIndex()}while(y);return S}setRowTopAndRowIndex(){const r=this.environment.getDefaultRowHeight();let o=0;const c=new Set,p=this.gos.isDomLayout("normal");for(let y=0;y<this.rowsToDisplay.length;y++){const S=this.rowsToDisplay[y];if(null!=S.id&&c.add(S.id),null==S.rowHeight){const R=this.gos.getRowHeightForNode(S,p,r);S.setRowHeight(R.height,R.estimated)}S.setRowTop(o),S.setRowIndex(y),o+=S.rowHeight}return c}clearRowTopAndRowIndex(r,o){const c=r.isActive(),p=S=>{S&&null!=S.id&&!o.has(S.id)&&S.clearRowTopAndRowIndex()},y=S=>{p(S),p(S.detailNode),p(S.sibling),S.hasChildren()&&S.childrenAfterGroup&&(c&&-1!=S.level&&!S.expanded||S.childrenAfterGroup.forEach(y))};y(this.rootNode)}ensureRowsAtPixel(r,o,c=0){const p=this.getRowIndexAtPixel(o),y=this.getRow(p),S=!this.gos.get("suppressAnimationFrame");return y!==r[0]&&(r.forEach(R=>{G.removeFromArray(this.rootNode.allLeafChildren,R)}),r.forEach((R,L)=>{G.insertIntoArray(this.rootNode.allLeafChildren,R,Math.max(p+c,0)+L)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:S}),!0)}highlightRowAtPixel(r,o){const c=null!=o?this.getRowIndexAtPixel(o):null,p=null!=c?this.getRow(c):null;if(!p||!r||p===r||null==o)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const y=this.getHighlightPosition(o,p);this.lastHighlightedRow&&this.lastHighlightedRow!==p&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),p.setHighlighted(y),this.lastHighlightedRow=p}getHighlightPosition(r,o){if(!o){const y=this.getRowIndexAtPixel(r);if(!(o=this.getRow(y||0)))return 1}const{rowTop:c,rowHeight:p}=o;return r-c<p/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const o=this.rootNode.childrenAfterAggFilter;return o?o.length:0}getTopLevelRowDisplayedIndex(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;let c=this.rootNode.childrenAfterSort[r];if(this.gos.get("groupHideOpenParents"))for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex}getRowBounds(r){if(G.missing(this.rowsToDisplay))return null;const o=this.rowsToDisplay[r];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null}onRowGroupOpened(){const r=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:r})}onFilterChanged(r){if(r.afterDataChange)return;const o=this.gos.isAnimateRows(),p=0===r.columns.length||r.columns.some(y=>y.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:p,keepRenderedRows:!0,animate:o})}onSortChanged(){const r=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:r,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(r){const o=G.missingOrEmpty(r),c=new Hh(!1,this.rootNode);return(o||this.gos.get("treeData"))&&c.setInactive(),c}isSuppressModelUpdateAfterUpdateTransaction(r){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||null==r.rowNodeTransactions)return!1;const o=r.rowNodeTransactions.filter(p=>null!=p.add&&p.add.length>0||null!=p.remove&&p.remove.length>0);return null==o||0==o.length}buildRefreshModelParams(r){let o="group";const c={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(G.exists(r)&&(o=c[r]),!G.missing(o))return{step:o,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")};console.error(`AG Grid: invalid step ${r}, available steps are ${Object.keys(c).join(", ")}`)}refreshModel(r){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let o="object"==typeof r&&"step"in r?r:this.buildRefreshModelParams(r);if(!o||this.isSuppressModelUpdateAfterUpdateTransaction(o))return;const c=this.createChangePath(o.rowNodeTransactions);switch(this.isRefreshingModel=!0,o.step){case"group":this.doRowGrouping(o.rowNodeTransactions,o.rowNodeOrder,c,!!o.afterColumnsChanged);case"filter":this.doFilter(c);case"pivot":this.doPivot(c);case"aggregate":this.doAggregate(c);case"filter_aggregates":this.doFilterAggregates(c);case"sort":this.doSort(o.rowNodeTransactions,c);case"map":this.doRowsToDisplay()}const p=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(c,p),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:ae.EVENT_MODEL_UPDATED,animate:o.animate,keepRenderedRows:o.keepRenderedRows,newData:o.newData,newPage:!1,keepUndoRedoStack:o.keepUndoRedoStack})}isEmpty(){const r=G.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return G.missing(this.rootNode)||r||!this.columnModel.isReady()}isRowsToRender(){return G.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(r,o){let c=!o,p=!1;const y=[],S=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(R=>{if(!p)if(c&&(R===o||R===r)&&(p=!0,R.group&&S))y.push(...R.allLeafChildren);else{if(!c){if(R!==o&&R!==r)return;c=!0}R.group&&S||y.push(R)}}),y}setDatasource(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(r){return this.rowsToDisplay[r]}isRowPresent(r){return this.rowsToDisplay.indexOf(r)>=0}getRowIndexAtPixel(r){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let o=0,c=this.rowsToDisplay.length-1;if(r<=0)return 0;if(G.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;let y=-1,S=-1;for(;;){const R=Math.floor((o+c)/2),L=this.rowsToDisplay[R];if(this.isRowInPixel(L,r)||(L.rowTop<r?o=R+1:L.rowTop>r&&(c=R-1),y===o&&S===c))return R;y=o,S=c}}isRowInPixel(r,o){return r.rowTop<=o&&r.rowTop+r.rowHeight>o}forEachLeafNode(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((o,c)=>r(o,c))}forEachNode(r,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:r,recursionType:0,index:0,includeFooterNodes:o})}forEachNodeAfterFilter(r,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:r,recursionType:1,index:0,includeFooterNodes:o})}forEachNodeAfterFilterAndSort(r,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:r,recursionType:2,index:0,includeFooterNodes:o})}forEachPivotNode(r,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:r,recursionType:3,index:0,includeFooterNodes:o})}recursivelyWalkNodesAndCallback(r){const{nodes:o,callback:c,recursionType:p,includeFooterNodes:y}=r;let{index:S}=r;const R=L=>{var Q;const be=null==(Q=o[0])?void 0:Q.parent;if(!be)return;const Ie=y&&this.gos.getGrandTotalRow(),Je=this.gos.getGroupTotalRowCallback(),Bt=y&&Je({node:be});be!==this.rootNode?Bt===L&&(be.createFooter(),c(be.sibling,S++)):Ie===L&&(be.createFooter(),c(be.sibling,S++))};R("top");for(let L=0;L<o.length;L++){const Q=o[L];if(c(Q,S++),Q.hasChildren()&&!Q.footer){let be=null;switch(p){case 0:be=Q.childrenAfterGroup;break;case 1:be=Q.childrenAfterAggFilter;break;case 2:be=Q.childrenAfterSort;break;case 3:be=Q.leafGroup?null:Q.childrenAfterSort}be&&(S=this.recursivelyWalkNodesAndCallback({nodes:[...be],callback:c,recursionType:p,index:S,includeFooterNodes:y}))}}return R("bottom"),S}doAggregate(r){var o;null==(o=this.aggregationStage)||o.execute({rowNode:this.rootNode,changedPath:r})}doFilterAggregates(r){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:r}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(r){const o=this.gos.get("treeData"),c=this.columnModel.isPivotActive(),p=R=>{R&&R.forEach(L=>{const Q=()=>{L.expanded=r,p(L.childrenAfterGroup)};o?G.exists(L.childrenAfterGroup)&&Q():c?!L.leafGroup&&Q():L.group&&Q()})};this.rootNode&&p(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:ae.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})}doSort(r,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:o})}doRowGrouping(r,o,c,p){this.groupStage?(this.groupStage.execute(r?{rowNode:this.rootNode,rowNodeTransactions:r,rowNodeOrder:o,changedPath:c}:{rowNode:this.rootNode,changedPath:c,afterColumnsChanged:p}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",c)&&this.eventService.dispatchEvent({type:ae.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"})):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren()),this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:ae.EVENT_ROW_COUNT_READY}))}doFilter(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})}doPivot(r){var o;null==(o=this.pivotStage)||o.execute({rowNode:this.rootNode,changedPath:r})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(r){if("string"==typeof r&&0==r.indexOf(Xr.ID_PREFIX_ROW_GROUP)){let c;return this.forEachNode(p=>{p.id===r&&(c=p)}),c}return this.nodeManager.getRowNode(r)}setRowData(r){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(r),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:ae.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(r,o){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const c=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},c)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:o})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const r=[],o=[];let c=!1;this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(p=>{const y=this.nodeManager.updateRowData(p.rowDataTransaction,void 0);o.push(y),p.callback&&r.push(p.callback.bind(null,y)),"number"==typeof p.rowDataTransaction.addIndex&&(c=!0)}),this.commonUpdateRowData(o,void 0,c),r.length>0&&window.setTimeout(()=>{r.forEach(p=>p())},0),o.length>0&&this.eventService.dispatchEvent({type:ae.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:o}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(r,o){this.valueCache.onDataChanged();const c=this.nodeManager.updateRowData(r,o);return this.commonUpdateRowData([c],o,"number"==typeof r.addIndex),c}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const o={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let c=0;c<this.rootNode.allLeafChildren.length;c++)o[this.rootNode.allLeafChildren[c].id]=c;return o}commonUpdateRowData(r,o,c){if(!this.hasStarted)return;const p=!this.gos.get("suppressAnimationFrame");c&&(o=this.createRowNodeOrder()),this.eventService.dispatchEvent({type:ae.EVENT_ROW_DATA_UPDATED}),this.refreshModel({step:"group",rowNodeTransactions:r,rowNodeOrder:o,keepRenderedRows:!0,keepEditingRows:!0,animate:p})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const r=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),r&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let r=!1;return this.forEachNode(o=>{o.setRowHeight(o.rowHeight,!0);const c=o.detailNode;c&&c.setRowHeight(c.rowHeight,!0),o.sibling&&o.sibling.setRowHeight(o.sibling.rowHeight,!0),r=!0}),r}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};P([$("columnModel")],fd.prototype,"columnModel",2),P([$("selectionService")],fd.prototype,"selectionService",2),P([$("valueCache")],fd.prototype,"valueCache",2),P([$("beans")],fd.prototype,"beans",2),P([$("filterStage")],fd.prototype,"filterStage",2),P([$("sortStage")],fd.prototype,"sortStage",2),P([$("flattenStage")],fd.prototype,"flattenStage",2),P([Kt("groupStage")],fd.prototype,"groupStage",2),P([Kt("aggregationStage")],fd.prototype,"aggregationStage",2),P([Kt("pivotStage")],fd.prototype,"pivotStage",2),P([Kt("filterAggregatesStage")],fd.prototype,"filterAggregatesStage",2),P([mt],fd.prototype,"init",1),fd=P([It("rowModel")],fd);var Xm=class extends nn{execute(r){const{changedPath:o}=r;this.filterService.filter(o)}};P([$("filterService")],Xm.prototype,"filterService",2),Xm=P([It("filterStage")],Xm);var Gg=class extends nn{execute(r){const o=this.sortController.getSortOptions(),c=G.exists(o)&&o.length>0,p=c&&G.exists(r.rowNodeTransactions)&&this.gos.get("deltaSort"),y=o.some(S=>this.gos.isColumnsSortingCoupledToGroup()?S.column.isPrimary()&&S.column.isRowGroupActive():!!S.column.getColDef().showRowGroup);this.sortService.sort(o,c,p,r.rowNodeTransactions,r.changedPath,y)}};P([$("sortService")],Gg.prototype,"sortService",2),P([$("sortController")],Gg.prototype,"sortController",2),Gg=P([It("sortStage")],Gg);var Ym=class extends nn{execute(r){const o=r.rowNode,c=[],p=this.beans.columnModel.isPivotMode(),y=p&&o.leafGroup,S=y?[o]:o.childrenAfterSort,R=this.getFlattenDetails();return this.recursivelyAddToRowsToDisplay(R,S,c,p,0),!y&&c.length>0&&R.grandTotalRow&&(o.createFooter(),this.addRowNodeToRowsToDisplay(R,o.sibling,c,0,"top"===R.grandTotalRow)),c}getFlattenDetails(){const r=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!r&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:r,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(r,o,c,p,y){if(!G.missingOrEmpty(o))for(let S=0;S<o.length;S++){const R=o[S],L=R.hasChildren(),be=r.groupRemoveSingleChildren&&L&&1===R.childrenAfterGroup.length,Ie=r.groupRemoveLowestSingleChildren&&L&&R.leafGroup&&1===R.childrenAfterGroup.length;if(!(p&&!L)&&!(r.hideOpenParents&&R.expanded&&!R.master&&(!p||!R.leafGroup))&&!be&&!Ie&&this.addRowNodeToRowsToDisplay(r,R,c,y),!p||!R.leafGroup)if(L){const Li=be||Ie;if(R.expanded||Li){const Wi=r.groupTotalRow({node:R});Wi||R.destroyFooter();const Vi=Li?y:y+1;"top"===Wi&&(R.createFooter(),this.addRowNodeToRowsToDisplay(r,R.sibling,c,Vi)),this.recursivelyAddToRowsToDisplay(r,R.childrenAfterSort,c,p,Vi),"bottom"===Wi&&(R.createFooter(),this.addRowNodeToRowsToDisplay(r,R.sibling,c,Vi))}}else if(R.master&&R.expanded){const Li=this.createDetailNode(R);this.addRowNodeToRowsToDisplay(r,Li,c,y)}}}addRowNodeToRowsToDisplay(r,o,c,p,y){y?c.unshift(o):c.push(o),o.setUiLevel(r.isGroupMultiAutoColumn?0:p)}createDetailNode(r){if(G.exists(r.detailNode))return r.detailNode;const o=new Xr(this.beans);return o.detail=!0,o.selectable=!1,o.parent=r,G.exists(r.id)&&(o.id="detail_"+r.id),o.data=r.data,o.level=r.level+1,r.detailNode=o,o}};P([$("beans")],Ym.prototype,"beans",2),Ym=P([It("flattenStage")],Ym);var Qm=class extends nn{sort(r,o,c,p,y,S){const R=this.gos.get("groupMaintainOrder"),L=this.columnModel.getAllGridColumns().some(Bt=>Bt.isRowGroupActive());let Q={};c&&p&&(Q=this.calculateDirtyNodes(p));const be=this.columnModel.isPivotMode(),Ie=this.gos.getCallback("postSortRows");y&&y.forEachChangedNodeDepthFirst(Bt=>{var Ei;this.pullDownGroupDataForHideOpenParents(Bt.childrenAfterAggFilter,!0);const Li=be&&Bt.leafGroup;if(R&&L&&!Bt.leafGroup&&!S){const Vi=null==(Ei=this.columnModel.getRowGroupColumns())?void 0:Ei[Bt.level+1],wn=null===Vi?.getSort(),cn=Bt.childrenAfterAggFilter.slice(0);if(Bt.childrenAfterSort&&!wn){const xn={};Bt.childrenAfterSort.forEach((Nn,Gn)=>{xn[Nn.id]=Gn}),cn.sort((Nn,Gn)=>{var qn,hr;return(null!=(qn=xn[Nn.id])?qn:0)-(null!=(hr=xn[Gn.id])?hr:0)})}Bt.childrenAfterSort=cn}else Bt.childrenAfterSort=!o||Li?Bt.childrenAfterAggFilter.slice(0):c?this.doDeltaSort(Bt,Q,y,r):this.rowNodeSorter.doFullSort(Bt.childrenAfterAggFilter,r);Bt.sibling&&(Bt.sibling.childrenAfterSort=Bt.childrenAfterSort),this.updateChildIndexes(Bt),Ie&&Ie({nodes:Bt.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(y)}calculateDirtyNodes(r){const o={},c=p=>{p&&p.forEach(y=>o[y.id]=!0)};return r&&r.forEach(p=>{c(p.add),c(p.update),c(p.remove)}),o}doDeltaSort(r,o,c,p){const y=r.childrenAfterAggFilter,S=r.childrenAfterSort;if(!S)return this.rowNodeSorter.doFullSort(y,p);const R={},L=[];y.forEach(Je=>{o[Je.id]||!c.canSkip(Je)?L.push(Je):R[Je.id]=!0});const Q=S.filter(Je=>R[Je.id]),be=(Je,Bt)=>({currentPos:Bt,rowNode:Je}),Ie=L.map(be).sort((Je,Bt)=>this.rowNodeSorter.compareRowNodes(p,Je,Bt));return this.mergeSortedArrays(p,Ie,Q.map(be)).map(({rowNode:Je})=>Je)}mergeSortedArrays(r,o,c){const p=[];let y=0,S=0;for(;y<o.length&&S<c.length;)this.rowNodeSorter.compareRowNodes(r,o[y],c[S])<0?p.push(o[y++]):p.push(c[S++]);for(;y<o.length;)p.push(o[y++]);for(;S<c.length;)p.push(c[S++]);return p}updateChildIndexes(r){if(G.missing(r.childrenAfterSort))return;const o=r.childrenAfterSort;for(let c=0;c<o.length;c++){const p=o[c],S=c===r.childrenAfterSort.length-1;p.setFirstChild(0===c),p.setLastChild(S),p.setChildIndex(c)}}updateGroupDataForHideOpenParents(r){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return G.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const o=c=>{this.pullDownGroupDataForHideOpenParents(c.childrenAfterSort,!1),c.childrenAfterSort.forEach(p=>{p.hasChildren()&&o(p)})};r&&r.executeFromRootNode(c=>o(c))}pullDownGroupDataForHideOpenParents(r,o){!this.gos.get("groupHideOpenParents")||G.missing(r)||r.forEach(c=>{this.columnModel.getGroupDisplayColumns().forEach(y=>{const S=y.getColDef().showRowGroup;if("string"!=typeof S)return void console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const L=this.columnModel.getPrimaryColumn(S);if(L!==c.rowGroupColumn)if(o)c.setGroupValue(y.getId(),void 0);else{const be=c.getFirstChildOfFirstChild(L);be&&c.setGroupValue(y.getId(),be.key)}})})}};P([$("columnModel")],Qm.prototype,"columnModel",2),P([$("rowNodeSorter")],Qm.prototype,"rowNodeSorter",2),Qm=P([It("sortService")],Qm);var Hg=class extends nn{filter(r){const o=this.filterManager.isChildFilterPresent();this.filterNodes(o,r)}filterNodes(r,o){const c=(p,y)=>{p.childrenAfterFilter=p.hasChildren()&&r&&!y?p.childrenAfterGroup.filter(S=>{const R=S.childrenAfterFilter&&S.childrenAfterFilter.length>0,L=S.data&&this.filterManager.doesRowPassFilter({rowNode:S});return R||L}):p.childrenAfterGroup,p.sibling&&(p.sibling.childrenAfterFilter=p.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const p=(S,R)=>{if(S.childrenAfterGroup)for(let L=0;L<S.childrenAfterGroup.length;L++){const Q=S.childrenAfterGroup[L],be=R||this.filterManager.doesRowPassFilter({rowNode:Q});Q.childrenAfterGroup?p(S.childrenAfterGroup[L],be):c(Q,be)}c(S,R)};o.executeFromRootNode(S=>p(S,!1))}else o.forEachChangedNodeDepthFirst(y=>c(y,!1),!0)}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};P([$("filterManager")],Hg.prototype,"filterManager",2),Hg=P([It("filterService")],Hg);var dc=class extends nn{postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const r=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&r}setRowData(r){const o=this.createTransactionForRowData(r);if(!o)return;const[c,p]=o;this.clientSideRowModel.updateRowData(c,p)}createTransactionForRowData(r){if(G.missing(this.clientSideRowModel))return void console.error("AG Grid: ImmutableService only works with ClientSideRowModel");const o=this.gos.getCallback("getRowId");if(null==o)return void console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const c={remove:[],update:[],add:[]},p=this.clientSideRowModel.getCopyOfNodesMap(),S=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return G.exists(r)&&r.forEach((R,L)=>{const Q=o({data:R,level:0}),be=p[Q];S&&(S[Q]=L),be?(be.data!==R&&c.update.push(R),p[Q]=void 0):c.add.push(R)}),G.iterateObject(p,(R,L)=>{L&&c.remove.push(L.data)}),[c,S]}onRowDataUpdated(){const r=this.gos.get("rowData");r&&(this.isActive()?this.setRowData(r):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(r)))}};P([$("rowModel")],dc.prototype,"rowModel",2),P([$("rowRenderer")],dc.prototype,"rowRenderer",2),P([$("selectionService")],dc.prototype,"selectionService",2),P([mt],dc.prototype,"postConstruct",1);var Zm={version:"31.3.4",moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[fd,Xm,Gg,Ym,Qm,Hg,dc=P([It("immutableService")],dc)]},ru=Object.defineProperty,Qc=Object.getOwnPropertyDescriptor,Ml=(r,o,c,p)=>{for(var R,y=p>1?void 0:p?Qc(o,c):o,S=r.length-1;S>=0;S--)(R=r[S])&&(y=(p?R(o,c,y):R(y))||y);return p&&y&&ru(o,c,y),y},Fu=class extends yy{constructor(r,o,c){super(r),this.parentCache=o,this.params=c,this.startRow=r*c.blockSize,this.endRow=this.startRow+c.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(r,o,c){G.exists(o)?r.setDataAndId(o,c.toString()):r.setDataAndId(void 0,void 0)}loadFromDatasource(){const r=this.createLoadParams();G.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(()=>{this.params.datasource.getRows(r)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(r,o,c){this.rowNodes.forEach((p,y)=>{this.startRow+y<c&&r(p,o.next())})}getLastAccessed(){return this.lastAccessed}getRow(r,o=!1){return o||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let r=0;r<this.params.blockSize;r++){const o=this.startRow+r,c=new Xr(this.beans);c.setRowHeight(this.params.rowHeight),c.uiLevel=0,c.setRowIndex(o),c.setRowTop(this.params.rowHeight*o),this.rowNodes.push(c)}}processServerResult(r){this.rowNodes.forEach((c,p)=>{const y=r.rowData?r.rowData[p]:void 0;!c.id&&c.alreadyRendered&&y&&(this.rowNodes[p]=new Xr(this.beans),this.rowNodes[p].setRowIndex(c.rowIndex),this.rowNodes[p].setRowTop(c.rowTop),this.rowNodes[p].setRowHeight(c.rowHeight),c.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[p],y,this.startRow+p)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)}destroyRowNodes(){this.rowNodes.forEach(r=>{r.clearRowTopAndRowIndex()})}};Ml([$("beans")],Fu.prototype,"beans",2),Ml([mt],Fu.prototype,"postConstruct",1),Ml([jt],Fu.prototype,"destroyRowNodes",1);var o,Ou=class QH extends nn{constructor(o){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=o.initialRowCount,this.params=o}setBeans(o){this.logger=o.create("InfiniteCache")}getRow(o,c=!1){const p=Math.floor(o/this.params.blockSize);let y=this.blocks[p];if(!y){if(c)return;y=this.createBlock(p)}return y.getRow(o)}createBlock(o){const c=this.createBean(new Fu(o,this,this.params));return this.blocks[c.getId()]=c,this.blockCount++,this.purgeBlocksIfNeeded(c),this.params.rowNodeBlockLoader.addBlock(c),c}refreshCache(){0!=this.blockCount?(this.getBlocksInOrder().forEach(c=>c.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()):this.purgeCache()}destroyAllBlocks(){this.getBlocksInOrder().forEach(o=>this.destroyBlock(o))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(o,c){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${o.getId()}, lastRow = ${c}`),this.checkRowCount(o,c),this.onCacheUpdated())}purgeBlocksIfNeeded(o){const c=this.getBlocksInOrder().filter(L=>L!=o);c.sort((L,Q)=>Q.getLastAccessed()-L.getLastAccessed());const y=this.params.maxBlocksInCache>0,S=y?this.params.maxBlocksInCache-1:null,R=QH.MAX_EMPTY_BLOCKS_TO_KEEP-1;c.forEach((L,Q)=>{if(L.getState()===Fu.STATE_WAITING_TO_LOAD&&Q>=R||y&&Q>=S){if(this.isBlockCurrentlyDisplayed(L)||this.isBlockFocused(L))return;this.removeBlockFromCache(L)}})}isBlockFocused(o){const c=this.focusService.getFocusCellToUseAfterRefresh();if(!c||null!=c.rowPinned)return!1;const p=o.getStartRow(),y=o.getEndRow();return c.rowIndex>=p&&c.rowIndex<y}isBlockCurrentlyDisplayed(o){const c=o.getStartRow(),p=o.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(c,p)}removeBlockFromCache(o){o&&this.destroyBlock(o)}checkRowCount(o,c){if("number"==typeof c&&c>=0)this.rowCount=c,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const y=(o.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<y&&(this.rowCount=y)}}setRowCount(o,c){this.rowCount=o,G.exists(c)&&(this.lastRowIndexKnown=c),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(o){const c=new ce;this.getBlocksInOrder().forEach(p=>p.forEachNode(o,c,this.rowCount))}getBlocksInOrder(){return G.getAllValuesInObject(this.blocks).sort((p,y)=>p.getId()-y.getId())}destroyBlock(o){delete this.blocks[o.getId()],this.destroyBean(o),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(o)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:ae.EVENT_STORE_UPDATED}))}destroyAllBlocksPastVirtualRowCount(){const o=[];this.getBlocksInOrder().forEach(c=>{c.getId()*this.params.blockSize>=this.rowCount&&o.push(c)}),o.length>0&&o.forEach(c=>this.destroyBlock(c))}purgeCache(){this.getBlocksInOrder().forEach(o=>this.removeBlockFromCache(o)),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(o,c){const p=[];let y=-1,S=!1;const R=new ce;G.missing(o)&&(S=!0);let L=!1;return this.getBlocksInOrder().forEach(be=>{if(!L){if(S&&y+1!==be.getId())return void(L=!0);y=be.getId(),be.forEachNode(Ie=>{const Je=Ie===o||Ie===c;(S||Je)&&p.push(Ie),Je&&(S=!S)},R,this.rowCount)}}),L||S?[]:p}};Ou.MAX_EMPTY_BLOCKS_TO_KEEP=2,Ml([$("rowRenderer")],Ou.prototype,"rowRenderer",2),Ml([$("focusService")],Ou.prototype,"focusService",2),Ml([(0,o=ui("loggerFactory"),(c,p)=>o(c,p,0))],Ou.prototype,"setBeans",1),Ml([jt],Ou.prototype,"destroyAllBlocks",1);var zp=Ou,gd=class extends nn{getRowBounds(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}}ensureRowHeightsValid(r,o,c,p){return!1}init(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&G.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,ae.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ae.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let r;r=!this.cacheParams||this.isSortModelDifferent(),r&&this.reset()}isSortModelDifferent(){return!G.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(r,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,o):[]}reset(){this.datasource&&(null!=this.gos.getCallback("getRowId")||this.selectionService.reset("rowDataChanged"),this.resetCache())}createModelUpdatedEvent(){return{type:ae.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new ce},this.infiniteCache=this.createBean(new zp(this.cacheParams)),this.eventService.dispatchEventOnce({type:ae.EVENT_ROW_COUNT_READY});const r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}updateRowHeights(){this.forEachNode(o=>{o.setRowHeight(this.rowHeight),o.setRowTop(this.rowHeight*o.rowIndex)});const r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)}getRow(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)}getRowNode(r){let o;return this.forEachNode(c=>{c.id===r&&(o=c)}),o}forEachNode(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(r){return r}getRowIndexAtPixel(r){if(0!==this.rowHeight){const o=Math.floor(r/this.rowHeight),c=this.getRowCount()-1;return o>c?c:o}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(r){return!!this.getRowNode(r.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(r,o){this.infiniteCache&&this.infiniteCache.setRowCount(r,o)}};Ml([$("filterManager")],gd.prototype,"filterManager",2),Ml([$("sortController")],gd.prototype,"sortController",2),Ml([$("selectionService")],gd.prototype,"selectionService",2),Ml([$("rowRenderer")],gd.prototype,"rowRenderer",2),Ml([$("rowNodeBlockLoader")],gd.prototype,"rowNodeBlockLoader",2),Ml([mt],gd.prototype,"init",1),Ml([jt],gd.prototype,"destroyDatasource",1);var Pf={version:"31.3.4",moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[gd=Ml([It("rowModel")],gd)]},E0=Object.defineProperty,Wg=Object.defineProperties,jg=Object.getOwnPropertyDescriptor,A0=Object.getOwnPropertyDescriptors,Ty=Object.getOwnPropertySymbols,Mb=Object.prototype.hasOwnProperty,T0=Object.prototype.propertyIsEnumerable,ou=(r,o,c)=>o in r?E0(r,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):r[o]=c,My=(r,o)=>{for(var c in o||(o={}))Mb.call(o,c)&&ou(r,c,o[c]);if(Ty)for(var c of Ty(o))T0.call(o,c)&&ou(r,c,o[c]);return r},ea=(r,o)=>Wg(r,A0(o)),uc=(r,o,c,p)=>{for(var R,y=p>1?void 0:p?jg(o,c):o,S=r.length-1;S>=0;S--)(R=r[S])&&(y=(p?R(o,c,y):R(y))||y);return p&&y&&E0(o,c,y),y},$g=(r,o,c)=>new Promise((p,y)=>{var S=Q=>{try{L(c.next(Q))}catch(be){y(be)}},R=Q=>{try{L(c.throw(Q))}catch(be){y(be)}},L=Q=>Q.done?p(Q.value):Promise.resolve(Q.value).then(S,R);L((c=c.apply(r,o)).next())}),M0=class{setBeans(r){this.beans=r}getFileName(r){const o=this.getDefaultFileExtension();return(null==r||!r.length)&&(r=this.getDefaultFileName()),-1===r.indexOf(".")?`${r}.${o}`:r}getData(r){const o=this.createSerializingSession(r);return this.beans.gridSerializer.serialize(o,r)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},el=class{constructor(r){this.groupColumns=[];const{columnModel:o,valueService:c,gos:p,processCellCallback:y,processHeaderCallback:S,processGroupHeaderCallback:R,processRowGroupCallback:L}=r;this.columnModel=o,this.valueService=c,this.gos=p,this.processCellCallback=y,this.processHeaderCallback=S,this.processGroupHeaderCallback=R,this.processRowGroupCallback=L}prepare(r){this.groupColumns=r.filter(o=>!!o.getColDef().showRowGroup)}extractHeaderValue(r){return this.getHeaderName(this.processHeaderCallback,r)??""}extractRowCellValue(r,o,c,p,y){const R=this.gos.get("groupHideOpenParents")&&!y.footer||!this.shouldRenderGroupSummaryCell(y,r,o)?this.valueService.getValue(r,y):this.createValueForGroupNode(r,y);return this.processCell({accumulatedRowIndex:c,rowNode:y,column:r,value:R,processCellCallback:this.processCellCallback,type:p})}shouldRenderGroupSummaryCell(r,o,c){var p;if(!r||!r.group)return!1;if(-1!==this.groupColumns.indexOf(o)){if(null!=(null==(p=r.groupData)?void 0:p[o.getId()])||this.gos.isRowModelType("serverSide")&&r.group)return!0;if(r.footer&&-1===r.level){const L=o.getColDef();return null==L||!0===L.showRowGroup||L.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const R=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===c&&R}getHeaderName(r,o){return r?r(this.gos.addGridCommonParams({column:o})):this.columnModel.getDisplayNameForColumn(o,"csv",!0)}createValueForGroupNode(r,o){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:r,node:o}));const c=this.gos.get("treeData"),p=this.gos.get("suppressGroupMaintainValueType"),y=Q=>{var be,Ie;if(c||p)return Q.key;const Je=null==(be=Q.groupData)?void 0:be[r.getId()];return Je&&Q.rowGroupColumn&&!1!==Q.rowGroupColumn.getColDef().useValueFormatterForExport&&null!=(Ie=this.valueService.formatValue(Q.rowGroupColumn,Q,Je))?Ie:Je},S=o.footer,R=[y(o)];if(!this.gos.isGroupMultiAutoColumn())for(;o.parent;)R.push(y(o=o.parent));const L=R.reverse().join(" -> ");return S?`Total ${L}`:L}processCell(r){var o;const{accumulatedRowIndex:c,rowNode:p,column:y,value:S,processCellCallback:R,type:L}=r;return R?{value:null!=(o=R(this.gos.addGridCommonParams({accumulatedRowIndex:c,column:y,node:p,value:S,type:L,parseValue:Q=>this.valueService.parseValue(y,p,Q,this.valueService.getValue(y,p)),formatValue:Q=>{var be;return null!=(be=this.valueService.formatValue(y,p,Q))?be:Q}})))?o:""}:!1!==y.getColDef().useValueFormatterForExport?{value:S??"",valueFormatted:this.valueService.formatValue(y,p,S)}:{value:S??""}}},gh=class{static download(r,o){const c=document.defaultView||window;if(!c)return void console.warn("AG Grid: There is no `window` associated with the current `document`");const p=document.createElement("a"),y=c.URL.createObjectURL(o);p.setAttribute("href",y),p.setAttribute("download",r),p.style.display="none",document.body.appendChild(p),p.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:c})),document.body.removeChild(p),c.setTimeout(()=>{c.URL.revokeObjectURL(y)},0)}},Rb=class extends el{constructor(r){super(r),this.isFirstLine=!0,this.result="";const{suppressQuotes:o,columnSeparator:c}=r;this.suppressQuotes=o,this.columnSeparator=c}addCustomContent(r){r&&("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(o=>{this.beginNewLine(),o.forEach((c,p)=>{0!==p&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(c.data.value||""),c.mergeAcross&&this.appendEmptyCells(c.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(r,o,c,p){0!=c&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(o),this.appendEmptyCells(p)}appendEmptyCells(r){for(let o=1;o<=r;o++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(r,o){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(r,o,c){var p;0!=o&&(this.result+=this.columnSeparator);const y=this.extractRowCellValue(r,o,o,"csv",c);this.result+=this.putInQuotes(null!=(p=y.valueFormatted)?p:y.value)}putInQuotes(r){if(this.suppressQuotes)return r;if(null==r)return'""';let o;return"string"==typeof r?o=r:"function"==typeof r.toString?o=r.toString():(console.warn("AG Grid: unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}},Lu=class extends M0{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(r){const o=this.gos.get("defaultCsvExportParams");return Object.assign({},o,r)}export(r){if(this.isExportSuppressed())return void console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");const o=this.getMergedParams(r),c=this.getData(o),p=new Blob(["\ufeff",c],{type:"text/plain"}),y="function"==typeof o.fileName?o.fileName(this.gos.getGridCommonParams()):o.fileName;gh.download(this.getFileName(y),p)}exportDataAsCsv(r){this.export(r)}getDataAsCsv(r,o=!1){const c=o?Object.assign({},r):this.getMergedParams(r);return this.getData(c)}getDefaultFileExtension(){return"csv"}createSerializingSession(r){const{columnModel:o,valueService:c,gos:p}=this,{processCellCallback:y,processHeaderCallback:S,processGroupHeaderCallback:R,processRowGroupCallback:L,suppressQuotes:Q,columnSeparator:be}=r;return new Rb({columnModel:o,valueService:c,gos:p,processCellCallback:y||void 0,processHeaderCallback:S||void 0,processGroupHeaderCallback:R||void 0,processRowGroupCallback:L||void 0,suppressQuotes:Q||!1,columnSeparator:be||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};uc([$("columnModel")],Lu.prototype,"columnModel",2),uc([$("valueService")],Lu.prototype,"valueService",2),uc([$("gridSerializer")],Lu.prototype,"gridSerializer",2),uc([$("gridOptionsService")],Lu.prototype,"gos",2),uc([mt],Lu.prototype,"postConstruct",1),Lu=uc([It("csvCreator")],Lu);var su=class extends nn{serialize(r,o={}){const{allColumns:c,columnKeys:p,skipRowGroups:y}=o,S=this.getColumnsToExport(c,y,p);return G.compose(this.prepareSession(S),this.prependContent(o),this.exportColumnGroups(o,S),this.exportHeaders(o,S),this.processPinnedTopRows(o,S),this.processRows(o,S),this.processPinnedBottomRows(o,S),this.appendContent(o))(r).parse()}processRow(r,o,c,p){const y=o.shouldRowBeSkipped||(()=>!1),S=this.gos.get("groupRemoveSingleChildren"),R=this.gos.get("groupRemoveLowestSingleChildren"),Q=null!=o.rowPositions||!!o.onlySelected,be=this.gos.get("groupHideOpenParents")&&!Q,Ie=this.columnModel.isPivotMode()?p.leafGroup:!p.group,Je=!!p.footer;if(!Ie&&!Je&&(o.skipRowGroups||1===p.allChildrenCount&&(S||R&&p.leafGroup)||be)||o.onlySelected&&!p.isSelected()||o.skipPinnedTop&&"top"===p.rowPinned||o.skipPinnedBottom&&"bottom"===p.rowPinned||-1===p.level&&!Ie&&!Je||y(this.gos.addGridCommonParams({node:p})))return;const wn=r.onNewBodyRow(p);if(c.forEach((cn,xn)=>{wn.onColumn(cn,xn,p)}),o.getCustomContentBelowRow){const cn=o.getCustomContentBelowRow(this.gos.addGridCommonParams({node:p}));cn&&r.addCustomContent(cn)}}appendContent(r){return o=>{const c=r.appendContent;return c&&o.addCustomContent(c),o}}prependContent(r){return o=>{const c=r.prependContent;return c&&o.addCustomContent(c),o}}prepareSession(r){return o=>(o.prepare(r),o)}exportColumnGroups(r,o){return c=>{if(!r.skipColumnGroupHeaders){const p=new oe,y=this.displayedGroupCreator.createDisplayedGroups(o,p,null);this.recursivelyAddHeaderGroups(y,c,r.processGroupHeaderCallback)}return c}}exportHeaders(r,o){return c=>{if(!r.skipColumnHeaders){const p=c.onNewHeaderRow();o.forEach((y,S)=>{p.onColumn(y,S,void 0)})}return c}}processPinnedTopRows(r,o){return c=>{const p=this.processRow.bind(this,c,r,o);return r.rowPositions?r.rowPositions.filter(y=>"top"===y.rowPinned).sort((y,S)=>y.rowIndex-S.rowIndex).map(y=>this.pinnedRowModel.getPinnedTopRow(y.rowIndex)).forEach(p):this.pinnedRowModel.forEachPinnedTopRow(p),c}}processRows(r,o){return c=>{const p=this.rowModel,y=p.getType(),S="clientSide"===y,R="serverSide"===y,L=!S&&r.onlySelected,Q=this.processRow.bind(this,c,r,o),{exportedRows:be="filteredAndSorted"}=r;if(r.rowPositions)r.rowPositions.filter(Ie=>null==Ie.rowPinned).sort((Ie,Je)=>Ie.rowIndex-Je.rowIndex).map(Ie=>p.getRow(Ie.rowIndex)).forEach(Q);else if(this.columnModel.isPivotMode())S?p.forEachPivotNode(Q,!0):R?p.forEachNodeAfterFilterAndSort(Q,!0):p.forEachNode(Q);else if(r.onlySelectedAllPages||L){const Ie=this.selectionService.getSelectedNodes();this.replicateSortedOrder(Ie),Ie.forEach(Q)}else"all"===be?p.forEachNode(Q):S||R?p.forEachNodeAfterFilterAndSort(Q,!0):p.forEachNode(Q);return c}}replicateSortedOrder(r){const o=this.sortController.getSortOptions(),c=(p,y)=>{var S,R,L,Q;return null!=p.rowIndex&&null!=y.rowIndex?p.rowIndex-y.rowIndex:p.level===y.level?(null==(S=p.parent)?void 0:S.id)===(null==(R=y.parent)?void 0:R.id)?this.rowNodeSorter.compareRowNodes(o,{rowNode:p,currentPos:null!=(L=p.rowIndex)?L:-1},{rowNode:y,currentPos:null!=(Q=y.rowIndex)?Q:-1}):c(p.parent,y.parent):p.level>y.level?c(p.parent,y):c(p,y.parent)};r.sort(c)}processPinnedBottomRows(r,o){return c=>{const p=this.processRow.bind(this,c,r,o);return r.rowPositions?r.rowPositions.filter(y=>"bottom"===y.rowPinned).sort((y,S)=>y.rowIndex-S.rowIndex).map(y=>this.pinnedRowModel.getPinnedBottomRow(y.rowIndex)).forEach(p):this.pinnedRowModel.forEachPinnedBottomRow(p),c}}getColumnsToExport(r=!1,o=!1,c){const p=this.columnModel.isPivotMode();if(c&&c.length)return this.columnModel.getGridColumns(c);const y=this.gos.get("treeData");let S=[];return S=r&&!p?this.columnModel.getAllGridColumns():this.columnModel.getAllDisplayedColumns(),o&&!y&&(S=S.filter(R=>R.getColId()!==dt)),S}recursivelyAddHeaderGroups(r,o,c){const p=[];r.forEach(y=>{y.getChildren&&y.getChildren().forEach(R=>p.push(R))}),r.length>0&&r[0]instanceof pr&&this.doAddHeaderHeader(o,r,c),p&&p.length>0&&this.recursivelyAddHeaderGroups(p,o,c)}doAddHeaderHeader(r,o,c){const p=r.onNewHeaderGroupingRow();let y=0;o.forEach(S=>{const R=S;let L;L=c?c(this.gos.addGridCommonParams({columnGroup:R})):this.columnModel.getDisplayNameForColumnGroup(R,"header");const Q=R.getLeafColumns().reduce((be,Ie,Je,Bt)=>{let Ei=G.last(be);return"open"===Ie.getColumnGroupShow()?(!Ei||null!=Ei[1])&&(Ei=[Je],be.push(Ei)):Ei&&null==Ei[1]&&(Ei[1]=Je-1),Je===Bt.length-1&&Ei&&null==Ei[1]&&(Ei[1]=Je),be},[]);p.onColumn(R,L||"",y++,R.getLeafColumns().length-1,Q)})}};uc([$("displayedGroupCreator")],su.prototype,"displayedGroupCreator",2),uc([$("columnModel")],su.prototype,"columnModel",2),uc([$("rowModel")],su.prototype,"rowModel",2),uc([$("pinnedRowModel")],su.prototype,"pinnedRowModel",2),uc([$("selectionService")],su.prototype,"selectionService",2),uc([$("rowNodeSorter")],su.prototype,"rowNodeSorter",2),uc([$("sortController")],su.prototype,"sortController",2);var Pb={version:"31.3.4",moduleName:"@ag-grid-community/csv-export",beans:[Lu,su=uc([It("gridSerializer")],su)]};function Ua(r,o){let c="";for(let p=0;p<o;p++)c+=String.fromCharCode(255&r),r>>>=8;return c}var Wp=r=>r.length?(r=>{if(!r.length)return 0;let o=-1,c=0,p=0,y=0;for(let S=0;S<r.length;S++)c=r[S],p=255&(o^c),y=Kg[p],o=o>>>8^y;return-1^o})("string"==typeof r?(new TextEncoder).encode(r):r):0,Kg=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),{utf8_encode:qm}=G,kb=(r,o)=>$g(void 0,null,function*(){const{content:c}=r,{size:p,content:y}=c?jp(c):{size:0,content:Uint8Array.from([])};let S,R,L=!1;if("file"===r.type&&y&&p>0){const Ie=yield(r=>$g(void 0,null,function*(){const o=new Blob([r]),{size:c,content:p}=yield(r=>$g(void 0,null,function*(){let o=0;const c=[],p=new WritableStream({write:R=>{c.push(R),o+=R.length}}),y=new ReadableStream({start:R=>{const L=new FileReader;L.onload=Q=>{var be;null!=(be=Q.target)&&be.result&&R.enqueue(Q.target.result),R.close()},L.readAsArrayBuffer(r)}}),S=new window.CompressionStream("deflate-raw");return yield y.pipeThrough(S).pipeTo(p),{size:o,content:new Blob(c)}}))(o);return{size:c,content:new Uint8Array(yield p.arrayBuffer())}}))(y);S=Ie.content,R=Ie.size,L=!0}const be=Rl(r,L,o,p,y,R);return ea(My({},be),{content:S||y,isCompressed:L})}),Jm=(r,o)=>{const{content:c}=r,{content:p}=c?jp(c):{content:Uint8Array.from([])},y=Rl(r,!1,o,p.length,p,void 0);return ea(My({},y),{content:p,isCompressed:!1})},Rl=(r,o,c,p,y,S)=>{const{content:R,path:L,created:Q}=r,be=(r=>{let o=r.getHours();return o<<=6,o|=r.getMinutes(),o<<=5,o|=r.getSeconds()/2,o})(Q),Ie=(r=>{let o=r.getFullYear()-1980;return o<<=4,o|=r.getMonth()+1,o<<=5,o|=r.getDate(),o})(Q),Je=Wp(y),Bt=void 0!==S?S:p,Ei=qm(L),Li=Ei!==L;let Wi="";if(Li){const xn=Ua(1,1)+Ua(Wp(Ei),4)+Ei;Wi="up"+Ua(xn.length,2)+xn}const Vi="\x14\0"+(Li?"\0\b":"\0\0")+Ua(o?8:0,2)+Ua(be,2)+Ua(Ie,2)+Ua(Bt?Je:0,4)+Ua(S??p,4)+Ua(p,4)+Ua(Ei.length,2)+Ua(Wi.length,2),wn="PK\x03\x04"+Vi+Ei+Wi,cn="PK\x01\x02\x14\0"+Vi+"\0\0\0\0\0\0"+(R?"\0\0\0\0":"\x10\0\0\0")+Ua(c,4)+Ei+Wi;return{localFileHeader:Uint8Array.from(wn,xn=>xn.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(cn,xn=>xn.charCodeAt(0))}},jp=r=>{let o;return o="string"==typeof r?(r=>{const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);return o})(atob(r.split(";base64,")[1])):r,{size:o.length,content:o}},Ry=class{static addFolders(r){r.forEach(this.addFolder.bind(this))}static addFolder(r){this.folders.push({path:r,created:new Date,isBase64:!1,type:"folder"})}static addFile(r,o,c=!1){this.files.push({path:r,created:new Date,content:c?o:(new TextEncoder).encode(o),isBase64:c,type:"file"})}static getZipFile(r="application/zip"){return $g(this,null,function*(){const o=yield this.buildCompressedFileStream();return this.clearStream(),new Blob([o],{type:r})})}static getUncompressedZipFile(r="application/zip"){const o=this.buildFileStream();return this.clearStream(),new Blob([o],{type:r})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(r){let o=new Uint8Array(0),c=new Uint8Array(0),p=0,y=0;for(const L of r){const{localFileHeader:Q,centralDirectoryHeader:be,content:Ie}=L,Je=new Uint8Array(o.length+Q.length);Je.set(o),Je.set(Q,o.length),o=Je;const Bt=new Uint8Array(o.length+Ie.length);Bt.set(o),Bt.set(Ie,o.length),o=Bt;const Ei=new Uint8Array(c.length+be.length);Ei.set(c),Ei.set(be,c.length),c=Ei,p+=Q.length+Ie.length,y+=be.length}const S=((r,o,c)=>{const p="PK\x05\x06\0\0\0\0"+Ua(r,2)+Ua(r,2)+Ua(o,4)+Ua(c,4)+"\0\0";return Uint8Array.from(p,y=>y.charCodeAt(0))})(r.length,y,p),R=new Uint8Array(o.length+c.length+S.length);return R.set(o),R.set(c,o.length),R.set(S,o.length+c.length),R}static buildCompressedFileStream(){return $g(this,null,function*(){const r=[...this.folders,...this.files],o=[];let c=0;for(const p of r){const y=yield kb(p,c),{localFileHeader:S,content:R}=y;o.push(y),c+=S.length+R.length}return this.packageFiles(o)})}static buildFileStream(){const r=[...this.folders,...this.files],o=[];let c=0;for(const p of r){const y=Jm(p,c),{localFileHeader:S,content:R}=y;o.push(y),c+=S.length+R.length}return this.packageFiles(o)}};Ry.folders=[],Ry.files=[],Sn.__registerModules([Zm,Pf,Pb],!1,void 0);let Fb=(()=>{class r extends Wh{constructor(c){super("angular"),this._ngZone=c,this.isRunningWithinTestZone=!1,this.wrapIncoming=(p,y)=>this.runOutside(p,y),this.wrapOutgoing=p=>this.runInsideAngular(p),this.isRunningWithinTestZone=window?.AG_GRID_UNDER_TEST??!!window?.Zone?.AsyncTestZoneSpec,this.runOutside=this._ngZone?this.isRunningWithinTestZone?(p,y)=>"resize-observer"===y?this._ngZone.runOutsideAngular(p):p():p=>this._ngZone.runOutsideAngular(p):p=>p()}get shouldWrapOutgoing(){return this._ngZone&&b.SKi.isInAngularZone()}isFrameworkComponent(c){if(!c)return!1;const p=c.prototype;return p&&"agInit"in p}runInsideAngular(c){return this._ngZone?this._ngZone.run(c):c()}runOutsideAngular(c,p){return this.runOutside(c,p)}}return r.\u0275fac=function(c){return new(c||r)(b.KVO(b.SKi))},r.\u0275prov=b.jDH({token:r,factory:r.\u0275fac}),r})(),Iy=(()=>{class r extends Eb{setViewContainerRef(c,p){this.viewContainerRef=c,this.angularFrameworkOverrides=p}createWrapper(c,p){let y=this.angularFrameworkOverrides,S=this,L=new class R extends Py{init(be){y.runInsideAngular(()=>{super.init(be),this._componentRef.changeDetectorRef.detectChanges()})}createComponent(){return y.runInsideAngular(()=>S.createComponent(c))}hasMethod(be){return null!=L.getFrameworkComponentInstance()[be]}callMethod(be,Ie){const Je=this.getFrameworkComponentInstance();return y.runInsideAngular(()=>L.getFrameworkComponentInstance()[be].apply(Je,Ie))}addMethod(be,Ie){L[be]=Ie}};return L}createComponent(c){return this.viewContainerRef.createComponent(c)}}return r.\u0275fac=function(){let o;return function(p){return(o||(o=b.xGo(r)))(p||r)}}(),r.\u0275prov=b.jDH({token:r,factory:r.\u0275fac}),r})();class Py{init(o){this._params=o,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}getRootElement(){return this._eGui.firstChild}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}let ky=(()=>{class r{constructor(c,p,y,S){this.viewContainerRef=p,this.angularFrameworkOverrides=y,this.frameworkComponentWrapper=S,this._initialised=!1,this._destroyed=!1,this._fullyReady=ht.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.columnMenu=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipTrigger=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.tooltipShowMode=void 0,this.tooltipInteraction=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressCopySingleCellRanges=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.suppressCutToClipboard=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.dataTypeDefinitions=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.suppressRowGroupHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.autoSizeStrategy=void 0,this.components=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.enterNavigatesVertically=void 0,this.enterNavigatesVerticallyAfterEdit=void 0,this.enableCellEditingOnBackspace=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeHiddenColumnsFromQuickFilter=void 0,this.includeHiddenColumnsInQuickFilter=void 0,this.quickFilterParser=void 0,this.quickFilterMatcher=void 0,this.applyQuickFilterBeforePivotOrAgg=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableAdvancedFilter=void 0,this.advancedFilterModel=void 0,this.includeHiddenColumnsInAdvancedFilter=void 0,this.advancedFilterParent=void 0,this.advancedFilterBuilderParams=void 0,this.suppressAdvancedFilterEval=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.enableChartToolPanelsButton=void 0,this.suppressChartToolPanelsButton=void 0,this.chartToolPanelsDef=void 0,this.chartMenuItems=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationPageSizeSelector=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotMaxGeneratedColumns=void 0,this.pivotDefaultExpanded=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.alwaysAggregateAtRootLevel=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.removePivotHeaderRowWhenSingleValueColumn=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDuration=void 0,this.cellFlashDelay=void 0,this.cellFadeDuration=void 0,this.cellFadeDelay=void 0,this.allowShowChangeAfterFilter=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.rowDragText=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.suppressGroupMaintainValueType=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupLockGroupColumns=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupTotalRow=void 0,this.grandTotalRow=void 0,this.suppressStickyTotalRow=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.groupAllowUnbalanced=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.rowGroupPanelSuppressSort=void 0,this.suppressGroupRowsSticky=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideInitialRowCount=void 0,this.suppressServerSideInfiniteScroll=void 0,this.suppressServerSideFullWidthLoadingRow=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortAllLevels=void 0,this.serverSideEnableClientSideSort=void 0,this.serverSideOnlyRefreshFilteredGroups=void 0,this.serverSideFilterAllLevels=void 0,this.serverSideSortOnServer=void 0,this.serverSideFilterOnServer=void 0,this.serverSidePivotResultFieldSeparator=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellFocus=void 0,this.suppressHeaderFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.gridId=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.initialState=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processUnpinnedColumns=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.processPivotResultColDef=void 0,this.processPivotResultColGroupDef=void 0,this.getDataPath=void 0,this.getChildCount=void 0,this.getServerSideGroupLevelParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowId=void 0,this.resetRowDataOnUpdate=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new b.bkB,this.toolPanelSizeChanged=new b.bkB,this.columnMenuVisibleChanged=new b.bkB,this.contextMenuVisibleChanged=new b.bkB,this.cutStart=new b.bkB,this.cutEnd=new b.bkB,this.pasteStart=new b.bkB,this.pasteEnd=new b.bkB,this.columnVisible=new b.bkB,this.columnPinned=new b.bkB,this.columnResized=new b.bkB,this.columnMoved=new b.bkB,this.columnValueChanged=new b.bkB,this.columnPivotModeChanged=new b.bkB,this.columnPivotChanged=new b.bkB,this.columnGroupOpened=new b.bkB,this.newColumnsLoaded=new b.bkB,this.gridColumnsChanged=new b.bkB,this.displayedColumnsChanged=new b.bkB,this.virtualColumnsChanged=new b.bkB,this.columnEverythingChanged=new b.bkB,this.columnHeaderMouseOver=new b.bkB,this.columnHeaderMouseLeave=new b.bkB,this.columnHeaderClicked=new b.bkB,this.columnHeaderContextMenu=new b.bkB,this.componentStateChanged=new b.bkB,this.cellValueChanged=new b.bkB,this.cellEditRequest=new b.bkB,this.rowValueChanged=new b.bkB,this.cellEditingStarted=new b.bkB,this.cellEditingStopped=new b.bkB,this.rowEditingStarted=new b.bkB,this.rowEditingStopped=new b.bkB,this.undoStarted=new b.bkB,this.undoEnded=new b.bkB,this.redoStarted=new b.bkB,this.redoEnded=new b.bkB,this.rangeDeleteStart=new b.bkB,this.rangeDeleteEnd=new b.bkB,this.fillStart=new b.bkB,this.fillEnd=new b.bkB,this.filterOpened=new b.bkB,this.filterChanged=new b.bkB,this.filterModified=new b.bkB,this.advancedFilterBuilderVisibleChanged=new b.bkB,this.chartCreated=new b.bkB,this.chartRangeSelectionChanged=new b.bkB,this.chartOptionsChanged=new b.bkB,this.chartDestroyed=new b.bkB,this.cellKeyDown=new b.bkB,this.gridReady=new b.bkB,this.gridPreDestroyed=new b.bkB,this.firstDataRendered=new b.bkB,this.gridSizeChanged=new b.bkB,this.modelUpdated=new b.bkB,this.virtualRowRemoved=new b.bkB,this.viewportChanged=new b.bkB,this.bodyScroll=new b.bkB,this.bodyScrollEnd=new b.bkB,this.dragStarted=new b.bkB,this.dragStopped=new b.bkB,this.stateUpdated=new b.bkB,this.paginationChanged=new b.bkB,this.rowDragEnter=new b.bkB,this.rowDragMove=new b.bkB,this.rowDragLeave=new b.bkB,this.rowDragEnd=new b.bkB,this.columnRowGroupChanged=new b.bkB,this.rowGroupOpened=new b.bkB,this.expandOrCollapseAll=new b.bkB,this.pivotMaxColumnsExceeded=new b.bkB,this.pinnedRowDataChanged=new b.bkB,this.rowDataUpdated=new b.bkB,this.asyncTransactionsFlushed=new b.bkB,this.storeRefreshed=new b.bkB,this.cellClicked=new b.bkB,this.cellDoubleClicked=new b.bkB,this.cellFocused=new b.bkB,this.cellMouseOver=new b.bkB,this.cellMouseOut=new b.bkB,this.cellMouseDown=new b.bkB,this.rowClicked=new b.bkB,this.rowDoubleClicked=new b.bkB,this.rowSelected=new b.bkB,this.selectionChanged=new b.bkB,this.cellContextMenu=new b.bkB,this.rangeSelectionChanged=new b.bkB,this.tooltipShow=new b.bkB,this.tooltipHide=new b.bkB,this.sortChanged=new b.bkB,this.columnRowGroupChangeRequest=new b.bkB,this.columnPivotChangeRequest=new b.bkB,this.columnValueChangeRequest=new b.bkB,this.columnAggFuncChangeRequest=new b.bkB,this._nativeElement=c.nativeElement}ngAfterViewInit(){this.angularFrameworkOverrides.runOutsideAngular(()=>{this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef,this.angularFrameworkOverrides);const c=To.combineAttributesAndGridOptions(this.gridOptions,this);this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]};const p=function Bg(r,o,c){if(!o)return Tt("No gridOptions provided to createGrid"),{};const p=(new class{create(r,o,c,p,y){var S;let R={};Xh.gridOptions?(Cn(R,Xh.gridOptions,!0,!0),R=ee(ee({},R),o)):R=o;const L=Zo.getCoercedGridOptions(R),Q=!!L.debug,be=null!=(S=L.gridId)?S:String(Db++),Ie=this.getRegisteredModules(y,be),Je=this.createBeansList(L.rowModelType,Ie,be),Bt=this.createProvidedBeans(r,L,y);if(!Je)return void Tt("Failed to create grid.");const Ei={providedBeanInstances:Bt,beanClasses:Je,debug:Q,gridId:be},Li=new wy("Context",()=>Ei.debug),Wi=new class{constructor(r,o){if(this.beanWrappers={},this.destroyed=!1,!r||!r.beanClasses)return;this.contextParams=r,this.logger=o,this.logger.log(">> creating ag-Application Context"),this.createBeans();const c=this.getBeanInstances();this.wireBeans(c),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Ht(this.beanWrappers).map(r=>r.beanInstance)}createBean(r,o){if(!r)throw Error("Can't wire to bean since it is null");return this.wireBeans([r],o),r}wireBeans(r,o){this.autoWireBeans(r),this.methodWireBeans(r),this.callLifeCycleMethods(r,"preConstructMethods"),pt(o)&&r.forEach(o),this.callLifeCycleMethods(r,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),bi(this.beanWrappers,(o,c)=>{let p;c.bean.__agBeanMetaData&&c.bean.__agBeanMetaData.autowireMethods&&c.bean.__agBeanMetaData.autowireMethods.agConstructor&&(p=c.bean.__agBeanMetaData.autowireMethods.agConstructor);const y=this.getBeansForParameters(p,c.bean.name),S=new(c.bean.bind.apply(c.bean,[null,...y]));c.beanInstance=S});const r=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${r}`)}createBeanWrapper(r){const o=r.__agBeanMetaData;if(!o){let p;return p=r.prototype.constructor?di(r.prototype.constructor):""+r,void console.error(`Context item ${p} is not a bean`)}this.beanWrappers[o.beanName]={bean:r,beanInstance:null,beanName:o.beanName}}autoWireBeans(r){r.forEach(o=>{this.forEachMetaDataInHierarchy(o,(c,p)=>{const y=c.agClassAttributes;y&&y.forEach(S=>{const R=this.lookupBeanInstance(p,S.beanName,S.optional);o[S.attributeName]=R})})})}methodWireBeans(r){r.forEach(o=>{this.forEachMetaDataInHierarchy(o,(c,p)=>{bi(c.autowireMethods,(y,S)=>{if("agConstructor"===y)return;const R=this.getBeansForParameters(S,p);o[y].apply(o,R)})})})}forEachMetaDataInHierarchy(r,o){let c=Object.getPrototypeOf(r);for(;null!=c;){const p=c.constructor;p.hasOwnProperty("__agBeanMetaData")&&o(p.__agBeanMetaData,this.getBeanName(p)),c=Object.getPrototypeOf(c)}}getBeanName(r){if(r.__agBeanMetaData&&r.__agBeanMetaData.beanName)return r.__agBeanMetaData.beanName;const o=r.toString();return o.substring(9,o.indexOf("("))}getBeansForParameters(r,o){const c=[];return r&&bi(r,(p,y)=>{const S=this.lookupBeanInstance(o,y);c[Number(p)]=S}),c}lookupBeanInstance(r,o,c=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${o} is used after the grid is destroyed!`),null;if("context"===o)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(o))return this.contextParams.providedBeanInstances[o];const p=this.beanWrappers[o];return p?p.beanInstance:(c||console.error(`AG Grid: unable to find bean reference ${o} while initialising ${r}`),null)}callLifeCycleMethods(r,o){r.forEach(c=>this.callLifeCycleMethodsOnBean(c,o))}callLifeCycleMethodsOnBean(r,o,c){const p={};this.forEachMetaDataInHierarchy(r,S=>{const R=S[o];R&&R.forEach(L=>{L!=c&&(p[L]=!0)})}),Object.keys(p).forEach(S=>r[S]())}getBean(r){return this.lookupBeanInstance("getBean",r,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const r=this.getBeanInstances();this.destroyBeans(r),this.contextParams.providedBeanInstances=null,Sn.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(r){r&&this.destroyBeans([r])}destroyBeans(r){return r?(r.forEach(o=>{this.callLifeCycleMethodsOnBean(o,"preDestroyMethods","destroy"),"function"==typeof o.destroy&&o.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}}(Ei,Li),Vi=Wi.getBean("beans");return this.registerModuleUserComponents(Vi,Ie),this.registerStackComponents(Vi,Ie),this.registerControllers(Vi,Ie),c(Wi),Vi.syncService.start(),p&&p(Wi),Wi.getBean("gridApi")}registerControllers(r,o){o.forEach(c=>{c.controllers&&c.controllers.forEach(p=>r.ctrlsFactory.register(p))})}registerStackComponents(r,o){const c=this.createAgStackComponentsList(o);r.agStackComponentsRegistry.setupComponents(c)}getRegisteredModules(r,o){const c=r?r.modules:null,p=Sn.__getRegisteredModules(o),y=[],S={},R=(L,Q,be)=>{var Je;S[(Je=Q).moduleName]||(S[Je.moduleName]=!0,y.push(Je),Sn.__register(Je,L,be)),Q.dependantModules&&Q.dependantModules.forEach(Je=>R(L,Je,be))};return c&&c.forEach(L=>R(!0,L,o)),p&&p.forEach(L=>R(!Sn.__isPackageBased(),L,void 0)),y}registerModuleUserComponents(r,o){this.extractModuleEntity(o,p=>p.userComponents?p.userComponents:[]).forEach(p=>{r.userComponentRegistry.registerDefaultComponent(p.componentName,p.componentClass)})}createProvidedBeans(r,o,c){let p=c?c.frameworkOverrides:null;Ai(p)&&(p=new Wh);const y={gridOptions:o,eGridDiv:r,globalEventListener:c?c.globalEventListener:null,globalSyncEventListener:c?c.globalSyncEventListener:null,frameworkOverrides:p};return c&&c.providedBeanInstances&&Object.assign(y,c.providedBeanInstances),y}createAgStackComponentsList(r){let o=[{componentName:"AgCheckbox",componentClass:Bi},{componentName:"AgRadioButton",componentClass:mn},{componentName:"AgToggleButton",componentClass:_y},{componentName:"AgInputTextField",componentClass:ao},{componentName:"AgInputTextArea",componentClass:cd},{componentName:"AgInputNumberField",componentClass:Va},{componentName:"AgInputDateField",componentClass:bc},{componentName:"AgInputRange",componentClass:ac},{componentName:"AgRichSelect",componentClass:dh},{componentName:"AgSelect",componentClass:$e},{componentName:"AgSlider",componentClass:Tg},{componentName:"AgGridBody",componentClass:Md},{componentName:"AgHeaderRoot",componentClass:wu},{componentName:"AgSortIndicator",componentClass:Sl},{componentName:"AgPagination",componentClass:hs},{componentName:"AgPageSizeSelector",componentClass:Ld},{componentName:"AgOverlayWrapper",componentClass:Vp},{componentName:"AgGroupComponent",componentClass:xf},{componentName:"AgRowContainer",componentClass:Xe},{componentName:"AgFakeHorizontalScroll",componentClass:D0},{componentName:"AgFakeVerticalScroll",componentClass:$m},{componentName:"AgAutocomplete",componentClass:zh}];const c=this.extractModuleEntity(r,p=>p.agStackComponents?p.agStackComponents:[]);return o=o.concat(c),o}createBeansList(r="clientSide",o,c){const p=o.filter(Q=>!Q.rowModel||Q.rowModel===r),y={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!y[r])return void Tt("Could not find row model for rowModelType = "+r);if(!Sn.__assertRegistered(y[r],`rowModelType = '${r}'`,c))return;const S=[Vr,Mu,Pg,Kh,Wl,Pr,Ga,Lp,Kc,vy,Bl,Af,eu,Tf,Yc,Gh,Bc,Wa,Pt,Zo,nu,Op,ul,Er,Cu,xu,ad,la,Mr,jc,M,Bm,hh,ud,lh,Wc,wr,jh,_s,U,Ef,zl,Cf,Bh,hd,xy,Ja,Bp,et,Sf,kp,kr,Cs,kg,Fg,ch,Gp,Og,Ru,Iu,Ey,Ca,dl,Xc,Od,jl,Vh,cc,ku,sc],R=this.extractModuleEntity(p,Q=>Q.beans?Q.beans:[]);S.push(...R);const L=[];return S.forEach(Q=>{L.indexOf(Q)<0&&L.push(Q)}),L}extractModuleEntity(r,o){return[].concat(...r.map(o))}}).create(r,o,y=>{const S=new $c(r);y.createBean(S)},void 0,c);if(!Object.isFrozen(o)&&!c?.frameworkOverrides){const y="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(o,"api",{get:()=>{Tt(`gridOptions.api is no longer supported. See ${y}.`)},configurable:!0}),Object.defineProperty(o,"columnApi",{get:()=>{Tt(`gridOptions.columnApi is no longer supported and all methods moved to the grid api. See ${y}.`)},configurable:!0})}return p}(this._nativeElement,c,this.gridParams);p&&(this.api=p,this.columnApi=new jh(p));const y=this.gridPreDestroyed;(y.observed??y.observers.length>0)&&console.warn('AG Grid: gridPreDestroyed event listener registered via (gridPreDestroyed)="method($event)" will be ignored! Please assign via gridOptions.gridPreDestroyed and pass to the grid as [gridOptions]="gridOptions"'),this._initialised=!0,this._fullyReady.resolveNow(null,S=>S)})}ngOnChanges(c){this._initialised&&this.angularFrameworkOverrides.runOutsideAngular(()=>{const p={};Object.entries(c).forEach(([y,S])=>{p[y]=S.currentValue}),To.processOnChange(p,this.api)})}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api?.destroy())}isEmitterUsed(c){const y=this[c],S=y?.observed??y?.observers?.length>0,R=`on${c.charAt(0).toUpperCase()}${c.substring(1)}`;return S||!!this.gridOptions&&!!this.gridOptions[R]}globalEventListener(c,p){if(this._destroyed)return;const y=this[c];if(y&&this.isEmitterUsed(c)){const S=()=>this.angularFrameworkOverrides.runInsideAngular(()=>y.emit(p));"gridReady"===c?this._fullyReady.then(()=>S()):S()}}}return r.\u0275fac=function(c){return new(c||r)(b.rXU(b.aKT),b.rXU(b.c1b),b.rXU(Fb),b.rXU(Iy))},r.\u0275cmp=b.VBU({type:r,selectors:[["ag-grid-angular"]],inputs:{gridOptions:"gridOptions",modules:"modules",statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",columnMenu:"columnMenu",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipTrigger:"tooltipTrigger",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",tooltipShowMode:"tooltipShowMode",tooltipInteraction:"tooltipInteraction",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressCopySingleCellRanges:"suppressCopySingleCellRanges",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",suppressCutToClipboard:"suppressCutToClipboard",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",dataTypeDefinitions:"dataTypeDefinitions",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",suppressRowGroupHidesColumns:"suppressRowGroupHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",autoSizeStrategy:"autoSizeStrategy",components:"components",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",enterNavigatesVertically:"enterNavigatesVertically",enterNavigatesVerticallyAfterEdit:"enterNavigatesVerticallyAfterEdit",enableCellEditingOnBackspace:"enableCellEditingOnBackspace",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeHiddenColumnsFromQuickFilter:"excludeHiddenColumnsFromQuickFilter",includeHiddenColumnsInQuickFilter:"includeHiddenColumnsInQuickFilter",quickFilterParser:"quickFilterParser",quickFilterMatcher:"quickFilterMatcher",applyQuickFilterBeforePivotOrAgg:"applyQuickFilterBeforePivotOrAgg",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableAdvancedFilter:"enableAdvancedFilter",advancedFilterModel:"advancedFilterModel",includeHiddenColumnsInAdvancedFilter:"includeHiddenColumnsInAdvancedFilter",advancedFilterParent:"advancedFilterParent",advancedFilterBuilderParams:"advancedFilterBuilderParams",suppressAdvancedFilterEval:"suppressAdvancedFilterEval",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",enableChartToolPanelsButton:"enableChartToolPanelsButton",suppressChartToolPanelsButton:"suppressChartToolPanelsButton",chartToolPanelsDef:"chartToolPanelsDef",chartMenuItems:"chartMenuItems",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationPageSizeSelector:"paginationPageSizeSelector",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotMaxGeneratedColumns:"pivotMaxGeneratedColumns",pivotDefaultExpanded:"pivotDefaultExpanded",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",alwaysAggregateAtRootLevel:"alwaysAggregateAtRootLevel",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",removePivotHeaderRowWhenSingleValueColumn:"removePivotHeaderRowWhenSingleValueColumn",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDuration:"cellFlashDuration",cellFlashDelay:"cellFlashDelay",cellFadeDuration:"cellFadeDuration",cellFadeDelay:"cellFadeDelay",allowShowChangeAfterFilter:"allowShowChangeAfterFilter",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",rowDragText:"rowDragText",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",suppressGroupMaintainValueType:"suppressGroupMaintainValueType",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupLockGroupColumns:"groupLockGroupColumns",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupTotalRow:"groupTotalRow",grandTotalRow:"grandTotalRow",suppressStickyTotalRow:"suppressStickyTotalRow",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",groupAllowUnbalanced:"groupAllowUnbalanced",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",rowGroupPanelSuppressSort:"rowGroupPanelSuppressSort",suppressGroupRowsSticky:"suppressGroupRowsSticky",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideInitialRowCount:"serverSideInitialRowCount",suppressServerSideInfiniteScroll:"suppressServerSideInfiniteScroll",suppressServerSideFullWidthLoadingRow:"suppressServerSideFullWidthLoadingRow",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortAllLevels:"serverSideSortAllLevels",serverSideEnableClientSideSort:"serverSideEnableClientSideSort",serverSideOnlyRefreshFilteredGroups:"serverSideOnlyRefreshFilteredGroups",serverSideFilterAllLevels:"serverSideFilterAllLevels",serverSideSortOnServer:"serverSideSortOnServer",serverSideFilterOnServer:"serverSideFilterOnServer",serverSidePivotResultFieldSeparator:"serverSidePivotResultFieldSeparator",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellFocus:"suppressCellFocus",suppressHeaderFocus:"suppressHeaderFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",gridId:"gridId",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",initialState:"initialState",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processUnpinnedColumns:"processUnpinnedColumns",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",processPivotResultColDef:"processPivotResultColDef",processPivotResultColGroupDef:"processPivotResultColGroupDef",getDataPath:"getDataPath",getChildCount:"getChildCount",getServerSideGroupLevelParams:"getServerSideGroupLevelParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowId:"getRowId",resetRowDataOnUpdate:"resetRowDataOnUpdate",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthRow:"isFullWidthRow"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",toolPanelSizeChanged:"toolPanelSizeChanged",columnMenuVisibleChanged:"columnMenuVisibleChanged",contextMenuVisibleChanged:"contextMenuVisibleChanged",cutStart:"cutStart",cutEnd:"cutEnd",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",columnHeaderMouseOver:"columnHeaderMouseOver",columnHeaderMouseLeave:"columnHeaderMouseLeave",columnHeaderClicked:"columnHeaderClicked",columnHeaderContextMenu:"columnHeaderContextMenu",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",undoStarted:"undoStarted",undoEnded:"undoEnded",redoStarted:"redoStarted",redoEnded:"redoEnded",rangeDeleteStart:"rangeDeleteStart",rangeDeleteEnd:"rangeDeleteEnd",fillStart:"fillStart",fillEnd:"fillEnd",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",advancedFilterBuilderVisibleChanged:"advancedFilterBuilderVisibleChanged",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",gridReady:"gridReady",gridPreDestroyed:"gridPreDestroyed",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",stateUpdated:"stateUpdated",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pivotMaxColumnsExceeded:"pivotMaxColumnsExceeded",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",storeRefreshed:"storeRefreshed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",tooltipShow:"tooltipShow",tooltipHide:"tooltipHide",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},standalone:!0,features:[b.Jv_([Fb,Iy]),b.OA$,b.aNF],decls:0,vars:0,template:function(c,p){},encapsulation:2}),r})(),Fy=(()=>{class r{}return r.\u0275fac=function(c){return new(c||r)},r.\u0275mod=b.$C({type:r}),r.\u0275inj=b.G2t({imports:[ky]}),r})()},9697:(Ui,ni,N)=>{"use strict";N.r(ni),N.d(ni,{Axis:()=>Qu,ChartView:()=>fs,ComponentModel:()=>go,ComponentView:()=>Ks,List:()=>nd,Model:()=>Vi,PRIORITY:()=>eA,SeriesModel:()=>Us,color:()=>ye,connect:()=>k_,dataTool:()=>hR,dependencies:()=>E_,disConnect:()=>Vx,disconnect:()=>dA,dispose:()=>sR,env:()=>Tt,extendChartView:()=>$F,extendComponentModel:()=>WF,extendComponentView:()=>ZR,extendSeriesModel:()=>jF,format:()=>Ce,getCoordinateSystemDimensions:()=>hA,getInstanceByDom:()=>IC,getInstanceById:()=>aR,getMap:()=>dR,graphic:()=>ee,helper:()=>j,init:()=>AF,innerDrawElementOnCanvas:()=>_x,matrix:()=>E,number:()=>rt,parseGeoJSON:()=>KA,parseGeoJson:()=>KA,registerAction:()=>uu,registerCoordinateSystem:()=>lR,registerLayout:()=>pA,registerLoading:()=>PC,registerLocale:()=>ev,registerMap:()=>cR,registerPostInit:()=>Ux,registerPostUpdate:()=>uA,registerPreprocessor:()=>Hx,registerProcessor:()=>F_,registerTheme:()=>Gx,registerTransform:()=>uR,registerUpdateLifecycle:()=>fm,registerVisual:()=>tf,setCanvasCreator:()=>Wx,setPlatformAPI:()=>Mi,throttle:()=>y_,time:()=>ie,use:()=>Or,util:()=>ve,vector:()=>O,version:()=>J1,zrUtil:()=>b,zrender:()=>K});var b={};N.r(b),N.d(b,{HashMap:()=>to,RADIAN_TO_DEGREE:()=>et,assert:()=>mr,bind:()=>at,clone:()=>xe,concatArray:()=>pr,createCanvas:()=>Rt,createHashMap:()=>Rn,createObject:()=>ae,curry:()=>Se,defaults:()=>je,disableUserSelect:()=>En,each:()=>te,eqNaN:()=>Xi,extend:()=>Dt,filter:()=>Ve,find:()=>zt,guid:()=>Qe,hasOwn:()=>oe,indexOf:()=>Te,inherits:()=>bt,isArray:()=>Me,isArrayLike:()=>Pe,isBuiltInObject:()=>Lt,isDom:()=>ki,isFunction:()=>Nt,isGradientObject:()=>li,isImagePatternObject:()=>ci,isNumber:()=>Di,isObject:()=>Zi,isPrimitive:()=>Po,isRegExp:()=>Ti,isString:()=>Ii,isStringSafe:()=>On,isTypedArray:()=>ai,keys:()=>Ri,logError:()=>ui,map:()=>ge,merge:()=>Pt,mergeAll:()=>qe,mixin:()=>Gt,noop:()=>dt,normalizeCssArray:()=>Fn,reduce:()=>Re,retrieve:()=>ln,retrieve2:()=>en,retrieve3:()=>fn,setAsPrimitive:()=>eo,slice:()=>Yn,trim:()=>uo});var O={};N.r(O),N.d(O,{add:()=>Ia,applyTransform:()=>mo,clone:()=>ls,copy:()=>fr,create:()=>fo,dist:()=>er,distSquare:()=>is,distance:()=>gs,distanceSquare:()=>ta,div:()=>Xo,dot:()=>Mo,len:()=>An,lenSquare:()=>Ur,length:()=>yr,lengthSquare:()=>ts,lerp:()=>io,max:()=>Ho,min:()=>ms,mul:()=>fa,negate:()=>No,normalize:()=>Do,scale:()=>Kr,scaleAndAdd:()=>xa,set:()=>pa,sub:()=>Cr});var E={};N.r(E),N.d(E,{clone:()=>ga,copy:()=>Ql,create:()=>Bo,identity:()=>na,invert:()=>Ea,mul:()=>ja,rotate:()=>xs,scale:()=>Zl,translate:()=>ol});var ye={};N.r(ye),N.d(ye,{fastLerp:()=>Ba,fastMapToColor:()=>Za,lerp:()=>Zn,lift:()=>Go,liftColor:()=>mn,lum:()=>$e,mapToColor:()=>se,modifyAlpha:()=>z,modifyHSL:()=>Ft,parse:()=>ar,random:()=>ei,stringify:()=>we,toHex:()=>ll});var K={};N.r(K),N.d(K,{dispose:()=>kh,disposeAll:()=>Im,getElementSSRData:()=>oh,getInstance:()=>Gl,init:()=>Ep,registerPainter:()=>Ap,registerSSRDataGetter:()=>Tp,version:()=>Fh});var Ke={};N.r(Ke),N.d(Ke,{Arc:()=>lC,BezierCurve:()=>h_,BoundingRect:()=>Qn,Circle:()=>Zp,CompoundPath:()=>cC,Ellipse:()=>sC,Group:()=>zn,Image:()=>hs,IncrementalDisplayable:()=>lm,Line:()=>Yl,LinearGradient:()=>am,OrientedBoundingRect:()=>np,Path:()=>$r,Point:()=>sr,Polygon:()=>td,Polyline:()=>md,RadialGradient:()=>dC,Rect:()=>kr,Ring:()=>bv,Sector:()=>xc,Text:()=>lo,applyTransform:()=>$u,clipPointsByRect:()=>pC,clipRectByRect:()=>DE,createIcon:()=>Dv,extendPath:()=>f1,extendShape:()=>Yw,getShapeClass:()=>uC,getTransform:()=>Jp,groupTransition:()=>Sv,initProps:()=>as,isElementRemoved:()=>Ua,lineLineIntersect:()=>Ev,linePolygonIntersect:()=>g_,makeImage:()=>Qw,makePath:()=>f_,mergePath:()=>lu,registerShape:()=>Sc,removeElement:()=>Zc,removeElementWithFadeOut:()=>Kg,resizePath:()=>xv,setTooltipConfig:()=>Av,subPixelOptimize:()=>Zw,subPixelOptimizeLine:()=>qp,subPixelOptimizeRect:()=>zd,transformDirection:()=>hC,traverseElements:()=>ef,updateProps:()=>wo});var j={};N.r(j),N.d(j,{createDimensions:()=>wA,createList:()=>HF,createScale:()=>zA,createSymbol:()=>Ma,createTextStyle:()=>HR,dataStack:()=>UF,enableHoverEmphasis:()=>ou,getECData:()=>dr,getLayoutRect:()=>pl,mixinAxisModelCommonMethods:()=>GR});var rt={};N.r(rt),N.d(rt,{MAX_SAFE_INTEGER:()=>sd,asc:()=>Hl,getPercentWithPrecision:()=>Pm,getPixelPrecision:()=>Vr,getPrecision:()=>Dl,getPrecisionSafe:()=>gf,isNumeric:()=>yu,isRadianAroundZero:()=>El,linearMap:()=>gr,nice:()=>Rp,numericToNumber:()=>oc,parseDate:()=>rc,quantile:()=>qd,quantity:()=>mf,quantityExponent:()=>Hc,reformIntervals:()=>Ad,remRadian:()=>Oh,round:()=>Fo});var ie={};N.r(ie),N.d(ie,{format:()=>Ny,parse:()=>rc});var ee={};N.r(ee),N.d(ee,{Arc:()=>lC,BezierCurve:()=>h_,BoundingRect:()=>Qn,Circle:()=>Zp,CompoundPath:()=>cC,Ellipse:()=>sC,Group:()=>zn,Image:()=>hs,IncrementalDisplayable:()=>lm,Line:()=>Yl,LinearGradient:()=>am,Polygon:()=>td,Polyline:()=>md,RadialGradient:()=>dC,Rect:()=>kr,Ring:()=>bv,Sector:()=>xc,Text:()=>lo,clipPointsByRect:()=>pC,clipRectByRect:()=>DE,createIcon:()=>Dv,extendPath:()=>f1,extendShape:()=>Yw,getShapeClass:()=>uC,getTransform:()=>Jp,initProps:()=>as,makeImage:()=>Qw,makePath:()=>f_,mergePath:()=>lu,registerShape:()=>Sc,resizePath:()=>xv,updateProps:()=>wo});var Ce={};N.r(Ce),N.d(Ce,{addCommas:()=>Bb,capitalFirst:()=>z0,encodeHTML:()=>so,formatTime:()=>U0,formatTpl:()=>Hy,getTextRect:()=>KR,getTooltipMarker:()=>H0,normalizeCssArray:()=>Nf,toCamelCase:()=>Lf,truncateText:()=>Id});var ve={};N.r(ve),N.d(ve,{bind:()=>at,clone:()=>xe,curry:()=>Se,defaults:()=>je,each:()=>te,extend:()=>Dt,filter:()=>Ve,indexOf:()=>Te,inherits:()=>bt,isArray:()=>Me,isFunction:()=>Nt,isObject:()=>Zi,isString:()=>Ii,map:()=>ge,merge:()=>Pt,reduce:()=>Re});var ue=function(i,t){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])})(i,t)};function P(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}ue(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var ii=function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},yt=new function i(){this.browser=new ii,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(yt.wxa=!0,yt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?yt.worker=!0:typeof navigator>"u"||0===navigator.userAgent.indexOf("Node.js")?(yt.node=!0,yt.svgSupported=!0):function Zt(i,t){var e=t.browser,n=i.match(/Firefox\/([\d.]+)/),s=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),a=i.match(/Edge?\/([\d.]+)/),l=/micromessenger/i.test(i);n&&(e.firefox=!0,e.version=n[1]),s&&(e.ie=!0,e.version=s[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),l&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var d=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in d||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in d)&&!("OTransition"in d),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,yt);const Tt=yt;var i,t,di=12,st="sans-serif",ri=di+"px "+st,tt=function Wt(i){var t={};if(typeof JSON>"u")return t;for(var e=0;e<i.length;e++){var n=String.fromCharCode(e+32),s=(i.charCodeAt(e)-20)/100;t[n]=s}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),Yt={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(e,n){if(!i){var s=Yt.createCanvas();i=s&&s.getContext("2d")}if(i)return t!==n&&(t=i.font=n||ri),i.measureText(e);e=e||"";var a=/((?:\d+)?\.?\d*)px/.exec(n=n||ri),l=a&&+a[1]||di,d=0;if(n.indexOf("mono")>=0)d=l*e.length;else for(var h=0;h<e.length;h++){var f=tt[e[h]];d+=null==f?l:f*l}return{width:d}},loadImage:function(i,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=i,n}};function Mi(i){for(var t in Yt)i[t]&&(Yt[t]=i[t])}var Qi=Re(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,t){return i["[object "+t+"]"]=!0,i},{}),tn=Re(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,t){return i["[object "+t+"Array]"]=!0,i},{}),dn=Object.prototype.toString,gn=Array.prototype,Sn=gn.forEach,Ni=gn.filter,St=gn.slice,mt=gn.map,jt=function(){}.constructor,It=jt?jt.prototype:null,$="__proto__",Kt=2311;function Qe(){return Kt++}function ui(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];typeof console<"u"&&console.error.apply(console,i)}function xe(i){if(null==i||"object"!=typeof i)return i;var t=i,e=dn.call(i);if("[object Array]"===e){if(!Po(i)){t=[];for(var n=0,s=i.length;n<s;n++)t[n]=xe(i[n])}}else if(tn[e]){if(!Po(i)){var a=i.constructor;if(a.from)t=a.from(i);else for(t=new a(i.length),n=0,s=i.length;n<s;n++)t[n]=i[n]}}else if(!Qi[e]&&!Po(i)&&!ki(i))for(var l in t={},i)i.hasOwnProperty(l)&&l!==$&&(t[l]=xe(i[l]));return t}function Pt(i,t,e){if(!Zi(t)||!Zi(i))return e?xe(t):i;for(var n in t)if(t.hasOwnProperty(n)&&n!==$){var s=i[n],a=t[n];!Zi(a)||!Zi(s)||Me(a)||Me(s)||ki(a)||ki(s)||Lt(a)||Lt(s)||Po(a)||Po(s)?(e||!(n in i))&&(i[n]=xe(t[n])):Pt(s,a,e)}return i}function qe(i,t){for(var e=i[0],n=1,s=i.length;n<s;n++)e=Pt(e,i[n],t);return e}function Dt(i,t){if(Object.assign)Object.assign(i,t);else for(var e in t)t.hasOwnProperty(e)&&e!==$&&(i[e]=t[e]);return i}function je(i,t,e){for(var n=Ri(t),s=0;s<n.length;s++){var a=n[s];(e?null!=t[a]:null==i[a])&&(i[a]=t[a])}return i}var Rt=Yt.createCanvas;function Te(i,t){if(i){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e}return-1}function bt(i,t){var e=i.prototype;function n(){}for(var s in n.prototype=t.prototype,i.prototype=new n,e)e.hasOwnProperty(s)&&(i.prototype[s]=e[s]);i.prototype.constructor=i,i.superClass=t}function Gt(i,t,e){if(i="prototype"in i?i.prototype:i,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),s=0;s<n.length;s++){var a=n[s];"constructor"!==a&&(e?null!=t[a]:null==i[a])&&(i[a]=t[a])}else je(i,t,e)}function Pe(i){return!(!i||"string"==typeof i)&&"number"==typeof i.length}function te(i,t,e){if(i&&t)if(i.forEach&&i.forEach===Sn)i.forEach(t,e);else if(i.length===+i.length)for(var n=0,s=i.length;n<s;n++)t.call(e,i[n],n,i);else for(var a in i)i.hasOwnProperty(a)&&t.call(e,i[a],a,i)}function ge(i,t,e){if(!i)return[];if(!t)return Yn(i);if(i.map&&i.map===mt)return i.map(t,e);for(var n=[],s=0,a=i.length;s<a;s++)n.push(t.call(e,i[s],s,i));return n}function Re(i,t,e,n){if(i&&t){for(var s=0,a=i.length;s<a;s++)e=t.call(n,e,i[s],s,i);return e}}function Ve(i,t,e){if(!i)return[];if(!t)return Yn(i);if(i.filter&&i.filter===Ni)return i.filter(t,e);for(var n=[],s=0,a=i.length;s<a;s++)t.call(e,i[s],s,i)&&n.push(i[s]);return n}function zt(i,t,e){if(i&&t)for(var n=0,s=i.length;n<s;n++)if(t.call(e,i[n],n,i))return i[n]}function Ri(i){if(!i)return[];if(Object.keys)return Object.keys(i);var t=[];for(var e in i)i.hasOwnProperty(e)&&t.push(e);return t}var at=It&&Nt(It.bind)?It.call.bind(It.bind):function _t(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return i.apply(t,e.concat(St.call(arguments)))}};function Se(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return i.apply(this,t.concat(St.call(arguments)))}}function Me(i){return Array.isArray?Array.isArray(i):"[object Array]"===dn.call(i)}function Nt(i){return"function"==typeof i}function Ii(i){return"string"==typeof i}function On(i){return"[object String]"===dn.call(i)}function Di(i){return"number"==typeof i}function Zi(i){var t=typeof i;return"function"===t||!!i&&"object"===t}function Lt(i){return!!Qi[dn.call(i)]}function ai(i){return!!tn[dn.call(i)]}function ki(i){return"object"==typeof i&&"number"==typeof i.nodeType&&"object"==typeof i.ownerDocument}function li(i){return null!=i.colorStops}function ci(i){return null!=i.image}function Ti(i){return"[object RegExp]"===dn.call(i)}function Xi(i){return i!=i}function ln(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0,n=i.length;e<n;e++)if(null!=i[e])return i[e]}function en(i,t){return i??t}function fn(i,t,e){return i??t??e}function Yn(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return St.apply(i,t)}function Fn(i){if("number"==typeof i)return[i,i,i,i];var t=i.length;return 2===t?[i[0],i[1],i[0],i[1]]:3===t?[i[0],i[1],i[2],i[1]]:i}function mr(i,t){if(!i)throw new Error(t)}function uo(i){return null==i?null:"function"==typeof i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Lo="__ec_primitive__";function eo(i){i[Lo]=!0}function Po(i){return i[Lo]}var oo=function(){function i(){this.data={}}return i.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},i.prototype.has=function(t){return this.data.hasOwnProperty(t)},i.prototype.get=function(t){return this.data[t]},i.prototype.set=function(t,e){return this.data[t]=e,this},i.prototype.keys=function(){return Ri(this.data)},i.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},i}(),nn="function"==typeof Map,to=function(){function i(t){var e=Me(t);this.data=function Mr(){return nn?new Map:new oo}();var n=this;function s(a,l){e?n.set(a,l):n.set(l,a)}t instanceof i?t.each(s):t&&te(t,s)}return i.prototype.hasKey=function(t){return this.data.has(t)},i.prototype.get=function(t){return this.data.get(t)},i.prototype.set=function(t,e){return this.data.set(t,e),e},i.prototype.each=function(t,e){this.data.forEach(function(n,s){t.call(e,n,s)})},i.prototype.keys=function(){var t=this.data.keys();return nn?Array.from(t):t},i.prototype.removeKey=function(t){this.data.delete(t)},i}();function Rn(i){return new to(i)}function pr(i,t){for(var e=new i.constructor(i.length+t.length),n=0;n<i.length;n++)e[n]=i[n];var s=i.length;for(n=0;n<t.length;n++)e[n+s]=t[n];return e}function ae(i,t){var e;if(Object.create)e=Object.create(i);else{var n=function(){};n.prototype=i,e=new n}return t&&Dt(e,t),e}function En(i){var t=i.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function oe(i,t){return i.hasOwnProperty(t)}function dt(){}var et=180/Math.PI,ti=function(i,t){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])})(i,t)};function Fi(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}ti(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function fo(i,t){return null==i&&(i=0),null==t&&(t=0),[i,t]}function fr(i,t){return i[0]=t[0],i[1]=t[1],i}function ls(i){return[i[0],i[1]]}function pa(i,t,e){return i[0]=t,i[1]=e,i}function Ia(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function xa(i,t,e,n){return i[0]=t[0]+e[0]*n,i[1]=t[1]+e[1]*n,i}function Cr(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function An(i){return Math.sqrt(Ur(i))}var yr=An;function Ur(i){return i[0]*i[0]+i[1]*i[1]}var ts=Ur;function fa(i,t,e){return i[0]=t[0]*e[0],i[1]=t[1]*e[1],i}function Xo(i,t,e){return i[0]=t[0]/e[0],i[1]=t[1]/e[1],i}function Mo(i,t){return i[0]*t[0]+i[1]*t[1]}function Kr(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function Do(i,t){var e=An(t);return 0===e?(i[0]=0,i[1]=0):(i[0]=t[0]/e,i[1]=t[1]/e),i}function gs(i,t){return Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}var er=gs;function ta(i,t){return(i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])}var is=ta;function No(i,t){return i[0]=-t[0],i[1]=-t[1],i}function io(i,t,e,n){return i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i}function mo(i,t,e){var n=t[0],s=t[1];return i[0]=e[0]*n+e[2]*s+e[4],i[1]=e[1]*n+e[3]*s+e[5],i}function ms(i,t,e){return i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i}function Ho(i,t,e){return i[0]=Math.max(t[0],e[0]),i[1]=Math.max(t[1],e[1]),i}var $s=function i(t,e){this.target=t,this.topTarget=e&&e.topTarget},nl=function(){function i(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new $s(e,t),"dragstart",t.event))},i.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,s=t.offsetY,a=n-this._x,l=s-this._y;this._x=n,this._y=s,e.drift(a,l,t),this.handler.dispatchToElement(new $s(e,t),"drag",t.event);var d=this.handler.findHover(n,s,e).target,h=this._dropTarget;this._dropTarget=d,e!==d&&(h&&d!==h&&this.handler.dispatchToElement(new $s(h,t),"dragleave",t.event),d&&d!==h&&this.handler.dispatchToElement(new $s(d,t),"dragenter",t.event))}},i.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new $s(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new $s(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},i}();const Pa=nl;var ws=function(){function i(t){t&&(this._$eventProcessor=t)}return i.prototype.on=function(t,e,n,s){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof e&&(s=n,n=e,e=null),!n||!t)return this;var l=this._$eventProcessor;null!=e&&l&&l.normalizeQuery&&(e=l.normalizeQuery(e)),a[t]||(a[t]=[]);for(var d=0;d<a[t].length;d++)if(a[t][d].h===n)return this;var h={h:n,query:e,ctx:s||this,callAtLast:n.zrEventfulCallAtLast},f=a[t].length-1,m=a[t][f];return m&&m.callAtLast?a[t].splice(f,0,h):a[t].push(h),this},i.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},i.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var s=[],a=0,l=n[t].length;a<l;a++)n[t][a].h!==e&&s.push(n[t][a]);n[t]=s}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},i.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var s=this._$handlers[t],a=this._$eventProcessor;if(s)for(var l=e.length,d=s.length,h=0;h<d;h++){var f=s[h];if(!a||!a.filter||null==f.query||a.filter(t,f.query))switch(l){case 0:f.h.call(f.ctx);break;case 1:f.h.call(f.ctx,e[0]);break;case 2:f.h.call(f.ctx,e[0],e[1]);break;default:f.h.apply(f.ctx,e)}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var s=this._$handlers[t],a=this._$eventProcessor;if(s)for(var l=e.length,d=e[l-1],h=s.length,f=0;f<h;f++){var m=s[f];if(!a||!a.filter||null==m.query||a.filter(t,m.query))switch(l){case 0:m.h.call(d);break;case 1:m.h.call(d,e[0]);break;case 2:m.h.call(d,e[0],e[1]);break;default:m.h.apply(d,e.slice(1,l-1))}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i}();const ns=ws;var ka=Math.log(2);function Dr(i,t,e,n,s,a){var l=n+"-"+s,d=i.length;if(a.hasOwnProperty(l))return a[l];if(1===t){var h=Math.round(Math.log((1<<d)-1&~s)/ka);return i[e][h]}for(var f=n|1<<e,m=e+1;n&1<<m;)m++;for(var _=0,C=0,w=0;C<d;C++){var D=1<<C;D&s||(_+=(w%2?-1:1)*i[e][C]*Dr(i,t-1,m,f,s|D,a),w++)}return a[l]=_,_}function rl(i,t){var e=[[i[0],i[1],1,0,0,0,-t[0]*i[0],-t[0]*i[1]],[0,0,0,i[0],i[1],1,-t[1]*i[0],-t[1]*i[1]],[i[2],i[3],1,0,0,0,-t[2]*i[2],-t[2]*i[3]],[0,0,0,i[2],i[3],1,-t[3]*i[2],-t[3]*i[3]],[i[4],i[5],1,0,0,0,-t[4]*i[4],-t[4]*i[5]],[0,0,0,i[4],i[5],1,-t[5]*i[4],-t[5]*i[5]],[i[6],i[7],1,0,0,0,-t[6]*i[6],-t[6]*i[7]],[0,0,0,i[6],i[7],1,-t[7]*i[6],-t[7]*i[7]]],n={},s=Dr(e,8,0,0,0,n);if(0!==s){for(var a=[],l=0;l<8;l++)for(var d=0;d<8;d++)null==a[d]&&(a[d]=0),a[d]+=((l+d)%2?-1:1)*Dr(e,7,0===l?1:0,1<<l,1<<d,n)/s*t[l];return function(h,f,m){var _=f*a[6]+m*a[7]+1;h[0]=(f*a[0]+m*a[1]+a[2])/_,h[1]=(f*a[3]+m*a[4]+a[5])/_}}}var Qs="___zrEVENTSAVED",Uo=[];function Sa(i,t,e,n,s){if(t.getBoundingClientRect&&Tt.domSupported&&!Ps(t)){var a=t[Qs]||(t[Qs]={}),l=function Fa(i,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],s=["top","bottom"],a=0;a<4;a++){var l=document.createElement("div"),h=a%2,f=(a>>1)%2;l.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[h]+":0",s[f]+":0",n[1-h]+":auto",s[1-f]+":auto",""].join("!important;"),i.appendChild(l),e.push(l)}return e}(t,a),d=function _l(i,t,e){for(var n=e?"invTrans":"trans",s=t[n],a=t.srcCoords,l=[],d=[],h=!0,f=0;f<4;f++){var m=i[f].getBoundingClientRect(),_=2*f,C=m.left,w=m.top;l.push(C,w),h=h&&a&&C===a[_]&&w===a[_+1],d.push(i[f].offsetLeft,i[f].offsetTop)}return h&&s?s:(t.srcCoords=l,t[n]=e?rl(d,l):rl(l,d))}(l,a,s);if(d)return d(i,e,n),!0}return!1}function Ps(i){return"CANVAS"===i.nodeName.toUpperCase()}var Ic=/([&<>"'])/g,_o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function so(i){return null==i?"":(i+"").replace(Ic,function(t,e){return _o[e]})}var Da=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ks=[],ia=Tt.browser.firefox&&+Tt.browser.version.split(".")[0]<39;function zo(i,t,e,n){return e=e||{},n?Pl(i,t,e):ia&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):Pl(i,t,e),e}function Pl(i,t,e){if(Tt.domSupported&&i.getBoundingClientRect){var n=t.clientX,s=t.clientY;if(Ps(i)){var a=i.getBoundingClientRect();return e.zrX=n-a.left,void(e.zrY=s-a.top)}if(Sa(ks,i,n,s))return e.zrX=ks[0],void(e.zrY=ks[1])}e.zrX=e.zrY=0}function Xn(i){return i||window.event}function Vs(i,t,e){if(null!=(t=Xn(t)).zrX)return t;var n=t.type;if(n&&n.indexOf("touch")>=0){var l="touchend"!==n?t.targetTouches[0]:t.changedTouches[0];l&&zo(i,l,t,e)}else{zo(i,t,t,e);var a=function pc(i){var t=i.wheelDelta;if(t)return t;var e=i.deltaX,n=i.deltaY;return null==e||null==n?t:3*Math.abs(0!==n?n:e)*(n>0?-1:n<0?1:e>0?-1:1)}(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var d=t.button;return null==t.which&&void 0!==d&&Da.test(t.type)&&(t.which=1&d?1:2&d?3:4&d?2:0),t}function bl(i,t,e,n){i.addEventListener(t,e,n)}function Ze(i,t,e,n){i.removeEventListener(t,e,n)}var ot=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0};function De(i){return 2===i.which||3===i.which}var kt=function(){function i(){this._track=[]}return i.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(t,e,n){var s=t.touches;if(s){for(var a={points:[],touches:[],target:e,event:t},l=0,d=s.length;l<d;l++){var h=s[l],f=zo(n,h,{});a.points.push([f.zrX,f.zrY]),a.touches.push(h)}this._track.push(a)}},i.prototype._recognize=function(t){for(var e in Ar)if(Ar.hasOwnProperty(e)){var n=Ar[e](this._track,t);if(n)return n}},i}();function Si(i){var t=i[1][0]-i[0][0],e=i[1][1]-i[0][1];return Math.sqrt(t*t+e*e)}var Ar={pinch:function(i,t){var e=i.length;if(e){var n=(i[e-1]||{}).points,s=(i[e-2]||{}).points||n;if(s&&s.length>1&&n&&n.length>1){var a=Si(n)/Si(s);!isFinite(a)&&(a=1),t.pinchScale=a;var l=function $n(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}(n);return t.pinchX=l[0],t.pinchY=l[1],{type:"pinch",target:i[0].target,event:t}}}}};function Bo(){return[1,0,0,1,0,0]}function na(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function Ql(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function ja(i,t,e){var s=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],l=t[1]*e[2]+t[3]*e[3],d=t[0]*e[4]+t[2]*e[5]+t[4],h=t[1]*e[4]+t[3]*e[5]+t[5];return i[0]=t[0]*e[0]+t[2]*e[1],i[1]=s,i[2]=a,i[3]=l,i[4]=d,i[5]=h,i}function ol(i,t,e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4]+e[0],i[5]=t[5]+e[1],i}function xs(i,t,e,n){void 0===n&&(n=[0,0]);var s=t[0],a=t[2],l=t[4],d=t[1],h=t[3],f=t[5],m=Math.sin(e),_=Math.cos(e);return i[0]=s*_+d*m,i[1]=-s*m+d*_,i[2]=a*_+h*m,i[3]=-a*m+_*h,i[4]=_*(l-n[0])+m*(f-n[1])+n[0],i[5]=_*(f-n[1])-m*(l-n[0])+n[1],i}function Zl(i,t,e){var n=e[0],s=e[1];return i[0]=t[0]*n,i[1]=t[1]*s,i[2]=t[2]*n,i[3]=t[3]*s,i[4]=t[4]*n,i[5]=t[5]*s,i}function Ea(i,t){var e=t[0],n=t[2],s=t[4],a=t[1],l=t[3],d=t[5],h=e*l-a*n;return h?(i[0]=l*(h=1/h),i[1]=-a*h,i[2]=-n*h,i[3]=e*h,i[4]=(n*d-l*s)*h,i[5]=(a*s-e*d)*h,i):null}function ga(i){var t=[1,0,0,1,0,0];return Ql(t,i),t}var rd=function(){function i(t,e){this.x=t||0,this.y=e||0}return i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(t,e){return this.x=t,this.y=e,this},i.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.scale=function(t){this.x*=t,this.y*=t},i.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},i.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},i.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},i.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},i.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},i.set=function(t,e,n){t.x=e,t.y=n},i.copy=function(t,e){t.x=e.x,t.y=e.y},i.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.lenSquare=function(t){return t.x*t.x+t.y*t.y},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},i.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},i.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},i.scaleAndAdd=function(t,e,n,s){t.x=e.x+n.x*s,t.y=e.y+n.y*s},i.lerp=function(t,e,n,s){var a=1-s;t.x=a*e.x+s*n.x,t.y=a*e.y+s*n.y},i}();const sr=rd;var Zs=Math.min,vs=Math.max,Ss=new sr,Oa=new sr,Wn=new sr,Gs=new sr,no=new sr,Ds=new sr,ra=function(){function i(t,e,n,s){n<0&&(t+=n,n=-n),s<0&&(e+=s,s=-s),this.x=t,this.y=e,this.width=n,this.height=s}return i.prototype.union=function(t){var e=Zs(t.x,this.x),n=Zs(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?vs(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?vs(t.y+t.height,this.y+this.height)-n:t.height,this.x=e,this.y=n},i.prototype.applyTransform=function(t){i.applyTransform(this,this,t)},i.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,s=t.height/e.height,a=[1,0,0,1,0,0];return ol(a,a,[-e.x,-e.y]),Zl(a,a,[n,s]),ol(a,a,[t.x,t.y]),a},i.prototype.intersect=function(t,e){if(!t)return!1;t instanceof i||(t=i.create(t));var n=this,s=n.x,a=n.x+n.width,l=n.y,d=n.y+n.height,h=t.x,f=t.x+t.width,m=t.y,_=t.y+t.height,C=!(a<h||f<s||d<m||_<l);if(e){var w=1/0,D=0,T=Math.abs(a-h),I=Math.abs(f-s),F=Math.abs(d-m),V=Math.abs(_-l),H=Math.min(T,I),re=Math.min(F,V);a<h||f<s?H>D&&(D=H,sr.set(Ds,T<I?-T:I,0)):H<w&&(w=H,sr.set(no,T<I?T:-I,0)),d<m||_<l?re>D&&(D=re,sr.set(Ds,0,F<V?-F:V)):H<w&&(w=H,sr.set(no,0,F<V?F:-V))}return e&&sr.copy(e,C?no:Ds),C},i.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(t){i.copy(this,t)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return 0===this.width||0===this.height},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},i.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},i.applyTransform=function(t,e,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var s=n[0],a=n[3],d=n[5];return t.x=e.x*s+n[4],t.y=e.y*a+d,t.width=e.width*s,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}Ss.x=Wn.x=e.x,Ss.y=Gs.y=e.y,Oa.x=Gs.x=e.x+e.width,Oa.y=Wn.y=e.y+e.height,Ss.transform(n),Gs.transform(n),Oa.transform(n),Wn.transform(n),t.x=Zs(Ss.x,Oa.x,Wn.x,Gs.x),t.y=Zs(Ss.y,Oa.y,Wn.y,Gs.y);var h=vs(Ss.x,Oa.x,Wn.x,Gs.x),f=vs(Ss.y,Oa.y,Wn.y,Gs.y);t.width=h-t.x,t.height=f-t.y}else t!==e&&i.copy(t,e)},i}();const Qn=ra;var La="silent";function Cl(){ot(this.event)}var ql=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.handler=null,e}return Fi(t,i),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(ns),$a=function i(t,e){this.x=t,this.y=e},wl=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],sl=new Qn(0,0,0,0),ko=function(i){function t(e,n,s,a,l){var d=i.call(this)||this;return d._hovered=new $a(0,0),d.storage=e,d.painter=n,d.painterRoot=a,d._pointerSize=l,s=s||new ql,d.proxy=null,d.setHandlerProxy(s),d._draggingMgr=new Pa(d),d}return Fi(t,i),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(te(wl,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,s=e.zrY,a=bo(this,n,s),l=this._hovered,d=l.target;d&&!d.__zr&&(d=(l=this.findHover(l.x,l.y)).target);var h=this._hovered=a?new $a(n,s):this.findHover(n,s),f=h.target,m=this.proxy;m.setCursor&&m.setCursor(f?f.cursor:"default"),d&&f!==d&&this.dispatchToElement(l,"mouseout",e),this.dispatchToElement(h,"mousemove",e),f&&f!==d&&this.dispatchToElement(h,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;"only_globalout"!==n&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==n&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new $a(0,0)},t.prototype.dispatch=function(e,n){var s=this[e];s&&s.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,s){var a=(e=e||{}).target;if(!a||!a.silent){for(var l="on"+n,d=function kl(i,t,e){return{type:i,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:Cl}}(n,e,s);a&&(a[l]&&(d.cancelBubble=!!a[l].call(a,d)),a.trigger(n,d),a=a.__hostTarget?a.__hostTarget:a.parent,!d.cancelBubble););d.cancelBubble||(this.trigger(n,d),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){"function"==typeof h[l]&&h[l].call(h,d),h.trigger&&h.trigger(n,d)}))}},t.prototype.findHover=function(e,n,s){var a=this.storage.getDisplayList(),l=new $a(e,n);if(Ka(a,l,e,n,s),this._pointerSize&&!l.target){for(var d=[],h=this._pointerSize,f=h/2,m=new Qn(e-f,n-f,h,h),_=a.length-1;_>=0;_--){var C=a[_];C!==s&&!C.ignore&&!C.ignoreCoarsePointer&&(!C.parent||!C.parent.ignoreCoarsePointer)&&(sl.copy(C.getBoundingRect()),C.transform&&sl.applyTransform(C.transform),sl.intersect(m)&&d.push(C))}if(d.length)for(var D=Math.PI/12,T=2*Math.PI,I=0;I<f;I+=4)for(var F=0;F<T;F+=D)if(Ka(d,l,e+I*Math.cos(F),n+I*Math.sin(F),s),l.target)return l}return l},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new kt);var s=this._gestureMgr;"start"===n&&s.clear();var a=s.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===n&&s.clear(),a){var l=a.type;e.gestureEvent=l;var d=new $a;d.target=a.target,this.dispatchToElement(d,l,a.event)}},t}(ns);function ma(i,t,e){if(i[i.rectHover?"rectContain":"contain"](t,e)){for(var n=i,s=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var l=n.getClipPath();if(l&&!l.contain(t,e))return!1}n.silent&&(s=!0),n=n.__hostTarget||n.parent}return!s||La}return!1}function Ka(i,t,e,n,s){for(var a=i.length-1;a>=0;a--){var l=i[a],d=void 0;if(l!==s&&!l.ignore&&(d=ma(l,e,n))&&(!t.topTarget&&(t.topTarget=l),d!==La)){t.target=l;break}}}function bo(i,t,e){var n=i.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){ko.prototype[i]=function(t){var a,l,e=t.zrX,n=t.zrY,s=bo(this,e,n);if(("mouseup"!==i||!s)&&(l=(a=this.findHover(e,n)).target),"mousedown"===i)this._downEl=l,this._downPoint=[t.zrX,t.zrY],this._upEl=l;else if("mouseup"===i)this._upEl=l;else if("click"===i){if(this._downEl!==this._upEl||!this._downPoint||er(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,i,t)}});const cs=ko;var fc=7;function xl(i,t,e,n){var s=t+1;if(s===e)return 1;if(n(i[s++],i[t])<0){for(;s<e&&n(i[s],i[s-1])<0;)s++;!function Na(i,t,e){for(e--;t<e;){var n=i[t];i[t++]=i[e],i[e--]=n}}(i,t,s)}else for(;s<e&&n(i[s],i[s-1])>=0;)s++;return s-t}function gc(i,t,e,n,s){for(n===t&&n++;n<e;n++){for(var h,a=i[n],l=t,d=n;l<d;)s(a,i[h=l+d>>>1])<0?d=h:l=h+1;var f=n-l;switch(f){case 3:i[l+3]=i[l+2];case 2:i[l+2]=i[l+1];case 1:i[l+1]=i[l];break;default:for(;f>0;)i[l+f]=i[l+f-1],f--}i[l]=a}}function Fl(i,t,e,n,s,a){var l=0,d=0,h=1;if(a(i,t[e+s])>0){for(d=n-s;h<d&&a(i,t[e+s+h])>0;)l=h,(h=1+(h<<1))<=0&&(h=d);h>d&&(h=d),l+=s,h+=s}else{for(d=s+1;h<d&&a(i,t[e+s-h])<=0;)l=h,(h=1+(h<<1))<=0&&(h=d);h>d&&(h=d);var f=l;l=s-h,h=s-f}for(l++;l<h;){var m=l+(h-l>>>1);a(i,t[e+m])>0?l=m+1:h=m}return h}function zr(i,t,e,n,s,a){var l=0,d=0,h=1;if(a(i,t[e+s])<0){for(d=s+1;h<d&&a(i,t[e+s-h])<0;)l=h,(h=1+(h<<1))<=0&&(h=d);h>d&&(h=d);var f=l;l=s-h,h=s-f}else{for(d=n-s;h<d&&a(i,t[e+s+h])>=0;)l=h,(h=1+(h<<1))<=0&&(h=d);h>d&&(h=d),l+=s,h+=s}for(l++;l<h;){var m=l+(h-l>>>1);a(i,t[e+m])<0?h=m:l=m+1}return h}function vo(i,t,e,n){e||(e=0),n||(n=i.length);var s=n-e;if(!(s<2)){var a=0;if(s<32)return void gc(i,e,n,e+(a=xl(i,e,n,t)),t);var l=function Jn(i,t){var n,s,e=fc,a=0,l=[];function m(w){var D=n[w],T=s[w],I=n[w+1],F=s[w+1];s[w]=T+F,w===a-3&&(n[w+1]=n[w+2],s[w+1]=s[w+2]),a--;var V=zr(i[I],i,D,T,0,t);D+=V,0!=(T-=V)&&0!==(F=Fl(i[D+T-1],i,I,F,F-1,t))&&(T<=F?function _(w,D,T,I){var F=0;for(F=0;F<D;F++)l[F]=i[w+F];var V=0,H=T,re=w;if(i[re++]=i[H++],0!=--I)if(1!==D){for(var de,Ee,Ue,fe=e;;){de=0,Ee=0,Ue=!1;do{if(t(i[H],l[V])<0){if(i[re++]=i[H++],Ee++,de=0,0==--I){Ue=!0;break}}else if(i[re++]=l[V++],de++,Ee=0,1==--D){Ue=!0;break}}while((de|Ee)<fe);if(Ue)break;do{if(0!==(de=zr(i[H],l,V,D,0,t))){for(F=0;F<de;F++)i[re+F]=l[V+F];if(re+=de,V+=de,(D-=de)<=1){Ue=!0;break}}if(i[re++]=i[H++],0==--I){Ue=!0;break}if(0!==(Ee=Fl(l[V],i,H,I,0,t))){for(F=0;F<Ee;F++)i[re+F]=i[H+F];if(re+=Ee,H+=Ee,0==(I-=Ee)){Ue=!0;break}}if(i[re++]=l[V++],1==--D){Ue=!0;break}fe--}while(de>=fc||Ee>=fc);if(Ue)break;fe<0&&(fe=0),fe+=2}if((e=fe)<1&&(e=1),1===D){for(F=0;F<I;F++)i[re+F]=i[H+F];i[re+I]=l[V]}else{if(0===D)throw new Error;for(F=0;F<D;F++)i[re+F]=l[V+F]}}else{for(F=0;F<I;F++)i[re+F]=i[H+F];i[re+I]=l[V]}else for(F=0;F<D;F++)i[re+F]=l[V+F]}(D,T,I,F):function C(w,D,T,I){var F=0;for(F=0;F<I;F++)l[F]=i[T+F];var V=w+D-1,H=I-1,re=T+I-1,fe=0,de=0;if(i[re--]=i[V--],0!=--D)if(1!==I){for(var Ee=e;;){var Ue=0,ze=0,nt=!1;do{if(t(l[H],i[V])<0){if(i[re--]=i[V--],Ue++,ze=0,0==--D){nt=!0;break}}else if(i[re--]=l[H--],ze++,Ue=0,1==--I){nt=!0;break}}while((Ue|ze)<Ee);if(nt)break;do{if(0!=(Ue=D-zr(l[H],i,w,D,D-1,t))){for(D-=Ue,de=1+(re-=Ue),fe=1+(V-=Ue),F=Ue-1;F>=0;F--)i[de+F]=i[fe+F];if(0===D){nt=!0;break}}if(i[re--]=l[H--],1==--I){nt=!0;break}if(0!=(ze=I-Fl(i[V],l,0,I,I-1,t))){for(I-=ze,de=1+(re-=ze),fe=1+(H-=ze),F=0;F<ze;F++)i[de+F]=l[fe+F];if(I<=1){nt=!0;break}}if(i[re--]=i[V--],0==--D){nt=!0;break}Ee--}while(Ue>=fc||ze>=fc);if(nt)break;Ee<0&&(Ee=0),Ee+=2}if((e=Ee)<1&&(e=1),1===I){for(de=1+(re-=D),fe=1+(V-=D),F=D-1;F>=0;F--)i[de+F]=i[fe+F];i[re]=l[H]}else{if(0===I)throw new Error;for(fe=re-(I-1),F=0;F<I;F++)i[fe+F]=l[F]}}else{for(de=1+(re-=D),fe=1+(V-=D),F=D-1;F>=0;F--)i[de+F]=i[fe+F];i[re]=l[H]}else for(fe=re-(I-1),F=0;F<I;F++)i[fe+F]=l[F]}(D,T,I,F))}return n=[],s=[],{mergeRuns:function h(){for(;a>1;){var w=a-2;if(w>=1&&s[w-1]<=s[w]+s[w+1]||w>=2&&s[w-2]<=s[w]+s[w-1])s[w-1]<s[w+1]&&w--;else if(s[w]>s[w+1])break;m(w)}},forceMergeRuns:function f(){for(;a>1;){var w=a-2;w>0&&s[w-1]<s[w+1]&&w--,m(w)}},pushRun:function d(w,D){n[a]=w,s[a]=D,a+=1}}}(i,t),d=function Xd(i){for(var t=0;i>=32;)t|=1&i,i>>=1;return i+t}(s);do{if((a=xl(i,e,n,t))<d){var h=s;h>d&&(h=d),gc(i,e,e+h,e+a,t),a=h}l.pushRun(e,a),l.mergeRuns(),s-=a,e+=a}while(0!==s);l.forceMergeRuns()}}var Fs=1,oa=4,le=!1;function vt(){le||(le=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Ae(i,t){return i.zlevel===t.zlevel?i.z===t.z?i.z2-t.z2:i.z-t.z:i.zlevel-t.zlevel}var it=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ae}return i.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},i.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},i.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,s=0,a=e.length;s<a;s++)this._updateAndAddDisplayable(e[s],null,t);n.length=this._displayListLen,vo(n,Ae)},i.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var s=t.getClipPath();if(t.ignoreClip)e=null;else if(s){e=e?e.slice():[];for(var a=s,l=t;a;)a.parent=l,a.updateTransform(),e.push(a),l=a,a=a.getClipPath()}if(t.childrenRef){for(var d=t.childrenRef(),h=0;h<d.length;h++){var f=d[h];t.__dirty&&(f.__dirty|=Fs),this._updateAndAddDisplayable(f,e,n)}t.__dirty=0}else{var m=t;e&&e.length?m.__clipPaths=e:m.__clipPaths&&m.__clipPaths.length>0&&(m.__clipPaths=[]),isNaN(m.z)&&(vt(),m.z=0),isNaN(m.z2)&&(vt(),m.z2=0),isNaN(m.zlevel)&&(vt(),m.zlevel=0),this._displayList[this._displayListLen++]=m}var _=t.getDecalElement&&t.getDecalElement();_&&this._updateAndAddDisplayable(_,e,n);var C=t.getTextGuideLine();C&&this._updateAndAddDisplayable(C,e,n);var w=t.getTextContent();w&&this._updateAndAddDisplayable(w,e,n)}},i.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},i.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var s=Te(this._roots,t);s>=0&&this._roots.splice(s,1)}},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}();const yi=it;var qi;qi=Tt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};const un=qi;var Bn={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return.5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return 0===i?0:Math.pow(1024,i-1)},exponentialOut:function(i){return 1===i?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return 0===i?0:1===i?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(2-Math.pow(2,-10*(i-1)))},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4))},elasticOut:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*i)*Math.sin((i-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(i){var t,e=.1;return 0===i?0:1===i?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(i*=2)<1?e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(i){var t=1.70158;return i*i*((t+1)*i-t)},backOut:function(i){var t=1.70158;return--i*i*((t+1)*i+t)+1},backInOut:function(i){var t=2.5949095;return(i*=2)<1?i*i*((t+1)*i-t)*.5:.5*((i-=2)*i*((t+1)*i+t)+2)},bounceIn:function(i){return 1-Bn.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?.5*Bn.bounceIn(2*i):.5*Bn.bounceOut(2*i-1)+.5}};const ro=Bn;var Wr=Math.pow,_r=Math.sqrt,jn=1e-8,Wo=1e-4,xi=_r(3),Yo=1/3,ys=fo(),Ro=fo(),va=fo();function ds(i){return i>-jn&&i<jn}function Xa(i){return i>jn||i<-jn}function Br(i,t,e,n,s){var a=1-s;return a*a*(a*i+3*s*t)+s*s*(s*n+3*a*e)}function sa(i,t,e,n,s){var a=1-s;return 3*(((t-i)*a+2*(e-t)*s)*a+(n-e)*s*s)}function Hs(i,t,e,n,s,a){var l=n+3*(t-e)-i,d=3*(e-2*t+i),h=3*(t-i),f=i-s,m=d*d-3*l*h,_=d*h-9*l*f,C=h*h-3*d*f,w=0;if(ds(m)&&ds(_))ds(d)?a[0]=0:(D=-h/d)>=0&&D<=1&&(a[w++]=D);else{var T=_*_-4*m*C;if(ds(T)){var I=_/m,F=-I/2;(D=-d/l+I)>=0&&D<=1&&(a[w++]=D),F>=0&&F<=1&&(a[w++]=F)}else if(T>0){var V=_r(T),H=m*d+1.5*l*(-_+V),re=m*d+1.5*l*(-_-V);(D=(-d-((H=H<0?-Wr(-H,Yo):Wr(H,Yo))+(re=re<0?-Wr(-re,Yo):Wr(re,Yo))))/(3*l))>=0&&D<=1&&(a[w++]=D)}else{var fe=(2*m*d-3*l*_)/(2*_r(m*m*m)),de=Math.acos(fe)/3,Ee=_r(m),Ue=Math.cos(de),D=(-d-2*Ee*Ue)/(3*l),ze=(F=(-d+Ee*(Ue+xi*Math.sin(de)))/(3*l),(-d+Ee*(Ue-xi*Math.sin(de)))/(3*l));D>=0&&D<=1&&(a[w++]=D),F>=0&&F<=1&&(a[w++]=F),ze>=0&&ze<=1&&(a[w++]=ze)}}return w}function Vo(i,t,e,n,s){var a=6*e-12*t+6*i,l=9*t+3*n-3*i-9*e,d=3*t-3*i,h=0;if(ds(l))Xa(a)&&(f=-d/a)>=0&&f<=1&&(s[h++]=f);else{var m=a*a-4*l*d;if(ds(m))s[0]=-a/(2*l);else if(m>0){var f,_=_r(m),C=(-a-_)/(2*l);(f=(-a+_)/(2*l))>=0&&f<=1&&(s[h++]=f),C>=0&&C<=1&&(s[h++]=C)}}return h}function Ya(i,t,e,n,s,a){var l=(t-i)*s+i,d=(e-t)*s+t,h=(n-e)*s+e,f=(d-l)*s+l,m=(h-d)*s+d,_=(m-f)*s+f;a[0]=i,a[1]=l,a[2]=f,a[3]=_,a[4]=_,a[5]=m,a[6]=h,a[7]=n}function Ol(i,t,e,n,s,a,l,d,h,f,m){var _,D,T,I,F,C=.005,w=1/0;ys[0]=h,ys[1]=f;for(var V=0;V<1;V+=.05)Ro[0]=Br(i,e,s,l,V),Ro[1]=Br(t,n,a,d,V),(I=is(ys,Ro))<w&&(_=V,w=I);w=1/0;for(var H=0;H<32&&!(C<Wo);H++)T=_+C,Ro[0]=Br(i,e,s,l,D=_-C),Ro[1]=Br(t,n,a,d,D),I=is(Ro,ys),D>=0&&I<w?(_=D,w=I):(va[0]=Br(i,e,s,l,T),va[1]=Br(t,n,a,d,T),F=is(va,ys),T<=1&&F<w?(_=T,w=F):C*=.5);return m&&(m[0]=Br(i,e,s,l,_),m[1]=Br(t,n,a,d,_)),_r(w)}function rs(i,t,e,n,s,a,l,d,h){for(var f=i,m=t,_=0,C=1/h,w=1;w<=h;w++){var D=w*C,T=Br(i,e,s,l,D),I=Br(t,n,a,d,D),F=T-f,V=I-m;_+=Math.sqrt(F*F+V*V),f=T,m=I}return _}function Tr(i,t,e,n){var s=1-n;return s*(s*i+2*n*t)+n*n*e}function kc(i,t,e,n){return 2*((1-n)*(t-i)+n*(e-t))}function Ne(i,t,e){var n=i+e-2*t;return 0===n?.5:(i-t)/n}function Z(i,t,e,n,s){var a=(t-i)*n+i,l=(e-t)*n+t,d=(l-a)*n+a;s[0]=i,s[1]=a,s[2]=d,s[3]=d,s[4]=l,s[5]=e}function G(i,t,e,n,s,a,l,d,h){var f,m=.005,_=1/0;ys[0]=l,ys[1]=d;for(var C=0;C<1;C+=.05)Ro[0]=Tr(i,e,s,C),Ro[1]=Tr(t,n,a,C),(w=is(ys,Ro))<_&&(f=C,_=w);_=1/0;for(var D=0;D<32&&!(m<Wo);D++){var T=f-m,I=f+m;Ro[0]=Tr(i,e,s,T),Ro[1]=Tr(t,n,a,T);var w=is(Ro,ys);if(T>=0&&w<_)f=T,_=w;else{va[0]=Tr(i,e,s,I),va[1]=Tr(t,n,a,I);var F=is(va,ys);I<=1&&F<_?(f=I,_=F):m*=.5}}return h&&(h[0]=Tr(i,e,s,f),h[1]=Tr(t,n,a,f)),_r(_)}function ce(i,t,e,n,s,a,l){for(var d=i,h=t,f=0,m=1/l,_=1;_<=l;_++){var C=_*m,w=Tr(i,e,s,C),D=Tr(t,n,a,C),T=w-d,I=D-h;f+=Math.sqrt(T*T+I*I),d=w,h=D}return f}var Fe=/cubic-bezier\(([0-9,\.e ]+)\)/;function ht(i){var t=i&&Fe.exec(i);if(t){var e=t[1].split(","),n=+uo(e[0]),s=+uo(e[1]),a=+uo(e[2]),l=+uo(e[3]);if(isNaN(n+s+a+l))return;var d=[];return function(h){return h<=0?0:h>=1?1:Hs(0,n,a,1,h,d)&&Br(0,s,l,1,d[0])}}}var Jt=function(){function i(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||dt,this.ondestroy=t.ondestroy||dt,this.onrestart=t.onrestart||dt,t.easing&&this.setEasing(t.easing)}return i.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,s=t-this._startTime-this._pausedTime,a=s/n;a<0&&(a=0),a=Math.min(a,1);var l=this.easingFunc,d=l?l(a):a;if(this.onframe(d),1===a){if(!this.loop)return!0;this._startTime=t-s%n,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(t){this.easing=t,this.easingFunc=Nt(t)?t:ro[t]||ht(t)},i}();const _i=Jt;var zi=function i(t){this.value=t},on=function(){function i(){this._len=0}return i.prototype.insert=function(t){var e=new zi(t);return this.insertEntry(e),e},i.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),Dn=function(){function i(t){this._list=new on,this._maxSize=10,this._map={},this._maxSize=t}return i.prototype.put=function(t,e){var n=this._list,s=this._map,a=null;if(null==s[t]){var l=n.len(),d=this._lastRemovedEntry;if(l>=this._maxSize&&l>0){var h=n.head;n.remove(h),delete s[h.key],a=h.value,this._lastRemovedEntry=h}d?d.value=e:d=new zi(e),d.key=t,n.insertEntry(d),s[t]=d}return a},i.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}();const hn=Dn;var nr={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _n(i){return(i=Math.round(i))<0?0:i>255?255:i}function sn(i){return i<0?0:i>1?1:i}function Eo(i){var t=i;return t.length&&"%"===t.charAt(t.length-1)?_n(parseFloat(t)/100*255):_n(parseInt(t,10))}function jr(i){var t=i;return t.length&&"%"===t.charAt(t.length-1)?sn(parseFloat(t)/100):sn(parseFloat(t))}function jo(i,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?i+(t-i)*e*6:2*e<1?t:3*e<2?i+(t-i)*(2/3-e)*6:i}function os(i,t,e){return i+(t-i)*e}function $o(i,t,e,n,s){return i[0]=t,i[1]=e,i[2]=n,i[3]=s,i}function Jl(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}var Qa=new hn(20),Es=null;function pn(i,t){Es&&Jl(Es,t),Es=Qa.put(i,Es||t.slice())}function ar(i,t){if(i){t=t||[];var e=Qa.get(i);if(e)return Jl(t,e);var n=(i+="").replace(/ /g,"").toLowerCase();if(n in nr)return Jl(t,nr[n]),pn(i,t),t;var a,s=n.length;if("#"===n.charAt(0))return 4===s||5===s?(a=parseInt(n.slice(1,4),16))>=0&&a<=4095?($o(t,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===s?parseInt(n.slice(4),16)/15:1),pn(i,t),t):void $o(t,0,0,0,1):7===s||9===s?(a=parseInt(n.slice(1,7),16))>=0&&a<=16777215?($o(t,(16711680&a)>>16,(65280&a)>>8,255&a,9===s?parseInt(n.slice(7),16)/255:1),pn(i,t),t):void $o(t,0,0,0,1):void 0;var l=n.indexOf("("),d=n.indexOf(")");if(-1!==l&&d+1===s){var h=n.substr(0,l),f=n.substr(l+1,d-(l+1)).split(","),m=1;switch(h){case"rgba":if(4!==f.length)return 3===f.length?$o(t,+f[0],+f[1],+f[2],1):$o(t,0,0,0,1);m=jr(f.pop());case"rgb":return f.length>=3?($o(t,Eo(f[0]),Eo(f[1]),Eo(f[2]),3===f.length?m:jr(f[3])),pn(i,t),t):void $o(t,0,0,0,1);case"hsla":return 4!==f.length?void $o(t,0,0,0,1):(f[3]=jr(f[3]),Aa(f,t),pn(i,t),t);case"hsl":return 3!==f.length?void $o(t,0,0,0,1):(Aa(f,t),pn(i,t),t);default:return}}$o(t,0,0,0,1)}}function Aa(i,t){var e=(parseFloat(i[0])%360+360)%360/360,n=jr(i[1]),s=jr(i[2]),a=s<=.5?s*(n+1):s+n-s*n,l=2*s-a;return $o(t=t||[],_n(255*jo(l,a,e+1/3)),_n(255*jo(l,a,e)),_n(255*jo(l,a,e-1/3)),1),4===i.length&&(t[3]=i[3]),t}function Go(i,t){var e=ar(i);if(e){for(var n=0;n<3;n++)e[n]=t<0?e[n]*(1-t)|0:(255-e[n])*t+e[n]|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return we(e,4===e.length?"rgba":"rgb")}}function ll(i){var t=ar(i);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Ba(i,t,e){if(t&&t.length&&i>=0&&i<=1){e=e||[];var n=i*(t.length-1),s=Math.floor(n),a=Math.ceil(n),l=t[s],d=t[a],h=n-s;return e[0]=_n(os(l[0],d[0],h)),e[1]=_n(os(l[1],d[1],h)),e[2]=_n(os(l[2],d[2],h)),e[3]=sn(os(l[3],d[3],h)),e}}var Za=Ba;function Zn(i,t,e){if(t&&t.length&&i>=0&&i<=1){var n=i*(t.length-1),s=Math.floor(n),a=Math.ceil(n),l=ar(t[s]),d=ar(t[a]),h=n-s,f=we([_n(os(l[0],d[0],h)),_n(os(l[1],d[1],h)),_n(os(l[2],d[2],h)),sn(os(l[3],d[3],h))],"rgba");return e?{color:f,leftIndex:s,rightIndex:a,value:n}:f}}var se=Zn;function Ft(i,t,e,n){var s=ar(i);if(i)return s=function al(i){if(i){var h,f,t=i[0]/255,e=i[1]/255,n=i[2]/255,s=Math.min(t,e,n),a=Math.max(t,e,n),l=a-s,d=(a+s)/2;if(0===l)h=0,f=0;else{f=d<.5?l/(a+s):l/(2-a-s);var m=((a-t)/6+l/2)/l,_=((a-e)/6+l/2)/l,C=((a-n)/6+l/2)/l;t===a?h=C-_:e===a?h=1/3+m-C:n===a&&(h=2/3+_-m),h<0&&(h+=1),h>1&&(h-=1)}var w=[360*h,f,d];return null!=i[3]&&w.push(i[3]),w}}(s),null!=t&&(s[0]=function cr(i){return(i=Math.round(i))<0?0:i>360?360:i}(t)),null!=e&&(s[1]=jr(e)),null!=n&&(s[2]=jr(n)),we(Aa(s),"rgba")}function z(i,t){var e=ar(i);if(e&&null!=t)return e[3]=sn(t),we(e,"rgba")}function we(i,t){if(i&&i.length){var e=i[0]+","+i[1]+","+i[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(e+=","+i[3]),t+"("+e+")"}}function $e(i,t){var e=ar(i);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function ei(){return we([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var Bi=new hn(100);function mn(i){if(Ii(i)){var t=Bi.get(i);return t||(t=Go(i,-.1),Bi.put(i,t)),t}if(li(i)){var e=Dt({},i);return e.colorStops=ge(i.colorStops,function(n){return{offset:n.offset,color:Go(n.color,-.1)}}),e}return i}var J=Math.round;function pe(i){var t;if(i&&"transparent"!==i){if("string"==typeof i&&i.indexOf("rgba")>-1){var e=ar(i);e&&(i="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else i="none";return{color:i,opacity:t??1}}var X=1e-4;function he(i){return i<X&&i>-X}function ke(i){return J(1e3*i)/1e3}function At(i){return J(1e4*i)/1e4}var $i={left:"start",right:"end",center:"middle",middle:"middle"};function Va(i){return i&&!!i.image}function Fc(i){return Va(i)||function yd(i){return i&&!!i.svgElement}(i)}function _d(i){return"linear"===i.type}function bd(i){return"radial"===i.type}function Sh(i){return i&&("linear"===i.type||"radial"===i.type)}function Jo(i){return"url(#"+i+")"}function od(i){var t=i.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function Co(i){var t=i.x||0,e=i.y||0,n=(i.rotation||0)*et,s=en(i.scaleX,1),a=en(i.scaleY,1),l=i.skewX||0,d=i.skewY||0,h=[];return(t||e)&&h.push("translate("+t+"px,"+e+"px)"),n&&h.push("rotate("+n+")"),(1!==s||1!==a)&&h.push("scale("+s+","+a+")"),(l||d)&&h.push("skew("+J(l*et)+"deg, "+J(d*et)+"deg)"),h.join(" ")}var vp=Tt.hasGlobalWindow&&Nt(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return null},qu=Array.prototype.slice;function Cd(i,t,e){return(t-i)*e+i}function rg(i,t,e,n){for(var s=t.length,a=0;a<s;a++)i[a]=Cd(t[a],e[a],n);return i}function Js(i,t,e,n){for(var s=t.length,a=0;a<s;a++)i[a]=t[a]+e[a]*n;return i}function vc(i,t,e,n){for(var s=t.length,a=s&&t[0].length,l=0;l<s;l++){i[l]||(i[l]=[]);for(var d=0;d<a;d++)i[l][d]=t[l][d]+e[l][d]*n}return i}function Sl(i,t){for(var e=i.length,n=t.length,s=e>n?t:i,a=Math.min(e,n),l=s[a-1]||{color:[0,0,0,0],offset:0},d=a;d<Math.max(e,n);d++)s.push({offset:l.offset,color:l.color.slice()})}function Os(i,t,e){var n=i,s=t;if(n.push&&s.push){var a=n.length,l=s.length;if(a!==l)if(a>l)n.length=l;else for(var h=a;h<l;h++)n.push(1===e?s[h]:qu.call(s[h]));var f=n[0]&&n[0].length;for(h=0;h<n.length;h++)if(1===e)isNaN(n[h])&&(n[h]=s[h]);else for(var m=0;m<f;m++)isNaN(n[h][m])&&(n[h][m]=s[h][m])}}function ec(i){if(Pe(i)){var t=i.length;if(Pe(i[0])){for(var e=[],n=0;n<t;n++)e.push(qu.call(i[n]));return e}return qu.call(i)}return i}function Ll(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=null==i[3]?1:i[3],"rgba("+i.join(",")+")"}function uy(i){return 4===i||5===i}function fu(i){return 1===i||2===i}var Dh=[0,0,0,0],Em=function(){function i(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var s=this.keyframes,a=s.length,l=!1,d=6,h=e;if(Pe(e)){var f=function pu(i){return Pe(i&&i[0])?2:1}(e);d=f,(1===f&&!Di(e[0])||2===f&&!Di(e[0][0]))&&(l=!0)}else if(Di(e)&&!Xi(e))d=0;else if(Ii(e))if(isNaN(+e)){var m=ar(e);m&&(h=m,d=3)}else d=0;else if(li(e)){var _=Dt({},h);_.colorStops=ge(e.colorStops,function(w){return{offset:w.offset,color:ar(w.color)}}),_d(e)?d=4:bd(e)&&(d=5),h=_}0===a?this.valType=d:(d!==this.valType||6===d)&&(l=!0),this.discrete=this.discrete||l;var C={time:t,value:h,rawValue:e,percent:0};return n&&(C.easing=n,C.easingFunc=Nt(n)?n:ro[n]||ht(n)),s.push(C),C},i.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(T,I){return T.time-I.time});for(var s=this.valType,a=n.length,l=n[a-1],d=this.discrete,h=fu(s),f=uy(s),m=0;m<a;m++){var _=n[m],C=_.value,w=l.value;_.percent=_.time/t,d||(h&&m!==a-1?Os(C,w,s):f&&Sl(C.colorStops,w.colorStops))}if(!d&&5!==s&&e&&this.needsAnimate()&&e.needsAnimate()&&s===e.valType&&!e._finished){this._additiveTrack=e;var D=n[0].value;for(m=0;m<a;m++)0===s?n[m].additiveValue=n[m].value-D:3===s?n[m].additiveValue=Js([],n[m].value,D,-1):fu(s)&&(n[m].additiveValue=1===s?Js([],n[m].value,D,-1):vc([],n[m].value,D,-1))}},i.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var m,w,D,n=null!=this._additiveTrack,s=n?"additiveValue":"value",a=this.valType,l=this.keyframes,d=l.length,h=this.propName,f=3===a,_=this._lastFr,C=Math.min;if(1===d)w=D=l[0];else{if(e<0)m=0;else if(e<this._lastFrP){for(m=C(_+1,d-1);m>=0&&!(l[m].percent<=e);m--);m=C(m,d-2)}else{for(m=_;m<d&&!(l[m].percent>e);m++);m=C(m-1,d-2)}D=l[m+1],w=l[m]}if(w&&D){this._lastFr=m,this._lastFrP=e;var I=D.percent-w.percent,F=0===I?1:C((e-w.percent)/I,1);D.easingFunc&&(F=D.easingFunc(F));var V=n?this._additiveValue:f?Dh:t[h];if((fu(a)||f)&&!V&&(V=this._additiveValue=[]),this.discrete)t[h]=F<1?w.rawValue:D.rawValue;else if(fu(a))1===a?rg(V,w[s],D[s],F):function hu(i,t,e,n){for(var s=t.length,a=s&&t[0].length,l=0;l<s;l++){i[l]||(i[l]=[]);for(var d=0;d<a;d++)i[l][d]=Cd(t[l][d],e[l][d],n)}}(V,w[s],D[s],F);else if(uy(a)){var H=w[s],re=D[s],fe=4===a;t[h]={type:fe?"linear":"radial",x:Cd(H.x,re.x,F),y:Cd(H.y,re.y,F),colorStops:ge(H.colorStops,function(Ee,Ue){var ze=re.colorStops[Ue];return{offset:Cd(Ee.offset,ze.offset,F),color:Ll(rg([],Ee.color,ze.color,F))}}),global:re.global},fe?(t[h].x2=Cd(H.x2,re.x2,F),t[h].y2=Cd(H.y2,re.y2,F)):t[h].r=Cd(H.r,re.r,F)}else if(f)rg(V,w[s],D[s],F),n||(t[h]=Ll(V));else{var de=Cd(w[s],D[s],F);n?this._additiveValue=de:t[h]=de}n&&this._addToTarget(t)}}},i.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,s=this._additiveValue;0===e?t[n]=t[n]+s:3===e?(ar(t[n],Dh),Js(Dh,Dh,s,1),t[n]=Ll(Dh)):1===e?Js(t[n],t[n],s,1):2===e&&vc(t[n],t[n],s,1)},i}(),Ls=function(){function i(t,e,n,s){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&s?ui("Can' use additive animation on looped animation."):(this._additiveAnimators=s,this._allowDiscrete=n)}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(t){this._target=t},i.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,Ri(e),n)},i.prototype.whenWithKeys=function(t,e,n,s){for(var a=this._tracks,l=0;l<n.length;l++){var d=n[l],h=a[d];if(!h){h=a[d]=new Em(d);var f=void 0,m=this._getAdditiveTrack(d);if(m){var _=m.keyframes,C=_[_.length-1];f=C&&C.value,3===m.valType&&f&&(f=Ll(f))}else f=this._target[d];if(null==f)continue;t>0&&h.addKeyframe(0,ec(f),s),this._trackKeys.push(d)}h.addKeyframe(t,ec(e[d]),s)}return this._maxTime=Math.max(this._maxTime,t),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},i.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},i.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var s=0;s<n.length;s++){var a=n[s].getTrack(t);a&&(e=a)}return e},i.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],s=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var l=this._trackKeys[a],d=this._tracks[l],h=this._getAdditiveTrack(l),f=d.keyframes,m=f.length;if(d.prepare(s,h),d.needsAnimate())if(!this._allowDiscrete&&d.discrete){var _=f[m-1];_&&(e._target[d.propName]=_.rawValue),d.setFinished()}else n.push(d)}if(n.length||this._force){var C=new _i({life:s,loop:this._loop,delay:this._delay||0,onframe:function(w){e._started=2;var D=e._additiveAnimators;if(D){for(var T=!1,I=0;I<D.length;I++)if(D[I]._clip){T=!0;break}T||(e._additiveAnimators=null)}for(I=0;I<n.length;I++)n[I].step(e._target,w);var F=e._onframeCbs;if(F)for(I=0;I<F.length;I++)F[I](e._target,w)},ondestroy:function(){e._doneCallback()}});this._clip=C,this.animation&&this.animation.addClip(C),t&&C.setEasing(t)}else this._doneCallback();return this}},i.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},i.prototype.delay=function(t){return this._delay=t,this},i.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},i.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},i.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(t){return this._tracks[t]},i.prototype.getTracks=function(){var t=this;return ge(this._trackKeys,function(e){return t._tracks[e]})},i.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,s=this._trackKeys,a=0;a<t.length;a++){var l=n[t[a]];l&&!l.isFinished()&&(e?l.step(this._target,1):1===this._started&&l.step(this._target,0),l.setFinished())}var d=!0;for(a=0;a<s.length;a++)if(!n[s[a]].isFinished()){d=!1;break}return d&&this._abortedCallback(),d},i.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var s=0;s<e.length;s++){var a=e[s],l=this._tracks[a];if(l&&!l.isFinished()){var d=l.keyframes,h=d[n?0:d.length-1];h&&(t[a]=ec(h.rawValue))}}}},i.prototype.__changeFinalValue=function(t,e){e=e||Ri(t);for(var n=0;n<e.length;n++){var s=e[n],a=this._tracks[s];if(a){var l=a.keyframes;if(l.length>1){var d=l.pop();a.addKeyframe(d.time,t[s]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},i}();const Xr=Ls;function Yd(){return(new Date).getTime()}var og=function(i){function t(e){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,n.stage=(e=e||{}).stage||{},n}return Fi(t,i),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,s=e.next;n?n.next=s:this._head=s,s?s.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=Yd()-this._pausedTime,s=n-this._time,a=this._head;a;){var l=a.next;a.step(n,s)&&(a.ondestroy(),this.removeClip(a)),a=l}this._time=n,e||(this.trigger("frame",s),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,un(function n(){e._running&&(un(n),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=Yd(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=Yd(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=Yd()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,n){n=n||{},this.start();var s=new Xr(e,n.loop);return this.addAnimator(s),s},t}(ns);const wd=og;var wr=Tt.domSupported,Lc=function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:i,touch:["touchstart","touchend","touchmove"],pointer:ge(i,function(s){var a=s.replace("mouse","pointer");return e.hasOwnProperty(a)?a:s})}}(),Eh_mouse=["mousemove","mouseup"],Eh_pointer=["pointermove","pointerup"],Am=!1;function Ah(i){var t=i.pointerType;return"pen"===t||"touch"===t}function xd(i){i&&(i.zrByTouch=!0)}function bp(i,t){for(var e=t,n=!1;e&&9!==e.nodeType&&!(n=e.domBelongToZr||e!==t&&e===i.painterRoot);)e=e.parentNode;return n}var cf=function i(t,e){this.stopPropagation=dt,this.stopImmediatePropagation=dt,this.preventDefault=dt,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Nl={mousedown:function(i){i=Vs(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=Vs(this.dom,i);var t=this.__mayPointerCapture;t&&(i.zrX!==t[0]||i.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=Vs(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){bp(this,(i=Vs(this.dom,i)).toElement||i.relatedTarget)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){Am=!0,i=Vs(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){Am||(i=Vs(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){xd(i=Vs(this.dom,i)),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),Nl.mousemove.call(this,i),Nl.mousedown.call(this,i)},touchmove:function(i){xd(i=Vs(this.dom,i)),this.handler.processGesture(i,"change"),Nl.mousemove.call(this,i)},touchend:function(i){xd(i=Vs(this.dom,i)),this.handler.processGesture(i,"end"),Nl.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<300&&Nl.click.call(this,i)},pointerdown:function(i){Nl.mousedown.call(this,i)},pointermove:function(i){Ah(i)||Nl.mousemove.call(this,i)},pointerup:function(i){Nl.mouseup.call(this,i)},pointerout:function(i){Ah(i)||Nl.mouseout.call(this,i)}};te(["click","dblclick","contextmenu"],function(i){Nl[i]=function(t){t=Vs(this.dom,t),this.trigger(i,t)}});var df={pointermove:function(i){Ah(i)||df.mousemove.call(this,i)},pointerup:function(i){df.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),t&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function Th(i,t,e,n){i.mounted[t]=e,i.listenerOpts[t]=n,bl(i.domTarget,t,e,n)}function uf(i){var t=i.mounted;for(var e in t)t.hasOwnProperty(e)&&Ze(i.domTarget,e,t[e],i.listenerOpts[e]);i.mounted={}}var ag=function i(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},Tm=function(i){function t(e,n){var s=i.call(this)||this;return s.__pointerCapturing=!1,s.dom=e,s.painterRoot=n,s._localHandlerScope=new ag(e,Nl),wr&&(s._globalHandlerScope=new ag(document,df)),function Cp(i,t){var e=t.domHandlers;Tt.pointerEventsSupported?te(Lc.pointer,function(n){Th(t,n,function(s){e[n].call(i,s)})}):(Tt.touchEventsSupported&&te(Lc.touch,function(n){Th(t,n,function(s){e[n].call(i,s),function gu(i){i.touching=!0,null!=i.touchTimer&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}(t)})}),te(Lc.mouse,function(n){Th(t,n,function(s){s=Xn(s),t.touching||e[n].call(i,s)})}))}(s,s._localHandlerScope),s}return Fi(t,i),t.prototype.dispose=function(){uf(this._localHandlerScope),wr&&uf(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,wr&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?function sg(i,t){function e(n){Th(t,n,function s(a){a=Xn(a),bp(i,a.target)||(a=function Nc(i,t){return Vs(i.dom,new cf(i,t),!0)}(i,a),t.domHandlers[n].call(i,a))},{capture:!0})}Tt.pointerEventsSupported?te(Eh_pointer,e):Tt.touchEventsSupported||te(Eh_mouse,e)}(this,n):uf(n)}},t}(ns);const Mm=Tm;var Rm=1;Tt.hasGlobalWindow&&(Rm=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Sd=Rm,mu="#333",wp="#ccc",cg=na;function ih(i){return i>5e-5||i<-5e-5}var Qd=[],Dd=[],nh=[1,0,0,1,0,0],Rh=Math.abs,dg=function(){function i(){}return i.prototype.getLocalTransform=function(t){return i.getLocalTransform(this,t)},i.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},i.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},i.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},i.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},i.prototype.needLocalTransform=function(){return ih(this.rotation)||ih(this.x)||ih(this.y)||ih(this.scaleX-1)||ih(this.scaleY-1)||ih(this.skewX)||ih(this.skewY)},i.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||[1,0,0,1,0,0],e?this.getLocalTransform(n):cg(n),t&&(e?ja(n,t,n):Ql(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(cg(n),this.invTransform=null)},i.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(Qd);var n=Qd[0]<0?-1:1,s=Qd[1]<0?-1:1,a=((Qd[0]-n)*e+n)/Qd[0]||0,l=((Qd[1]-s)*e+s)/Qd[1]||0;t[0]*=a,t[1]*=a,t[2]*=l,t[3]*=l}this.invTransform=this.invTransform||[1,0,0,1,0,0],Ea(this.invTransform,t)},i.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},i.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],s=Math.atan2(t[1],t[0]),a=Math.PI/2+s-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-s,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||[1,0,0,1,0,0],ja(Dd,t.invTransform,e),e=Dd);var n=this.originX,s=this.originY;(n||s)&&(nh[4]=n,nh[5]=s,ja(Dd,e,nh),Dd[4]-=n,Dd[5]-=s,e=Dd),this.setLocalTransform(e)}},i.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},i.prototype.transformCoordToLocal=function(t,e){var n=[t,e],s=this.invTransform;return s&&mo(n,n,s),n},i.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],s=this.transform;return s&&mo(n,n,s),n},i.prototype.getLineScale=function(){var t=this.transform;return t&&Rh(t[0]-1)>1e-10&&Rh(t[3]-1)>1e-10?Math.sqrt(Rh(t[0]*t[3]-t[2]*t[1])):1},i.prototype.copyTransform=function(t){vu(this,t)},i.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,s=t.originY||0,a=t.scaleX,l=t.scaleY,d=t.anchorX,h=t.anchorY,f=t.rotation||0,m=t.x,_=t.y,C=t.skewX?Math.tan(t.skewX):0,w=t.skewY?Math.tan(-t.skewY):0;if(n||s||d||h){var D=n+d,T=s+h;e[4]=-D*a-C*T*l,e[5]=-T*l-w*D*a}else e[4]=e[5]=0;return e[0]=a,e[3]=l,e[1]=w*a,e[2]=C*l,f&&xs(e,e,f),e[4]+=n+m,e[5]+=s+_,e},i.initDefaultProps=function(){var t=i.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),i}(),qa=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function vu(i,t){for(var e=0;e<qa.length;e++){var n=qa[e];i[n]=t[n]}}const ic=dg;var ug={};function cl(i,t){var e=ug[t=t||ri];e||(e=ug[t]=new hn(500));var n=e.get(i);return null==n&&(n=Yt.measureText(i,t).width,e.put(i,n)),n}function rh(i,t,e,n){var s=cl(i,t),a=hg(t),l=xp(0,s,e),d=Sp(0,a,n);return new Qn(l,d,s,a)}function pf(i,t,e,n){var s=((i||"")+"").split("\n");if(1===s.length)return rh(s[0],t,e,n);for(var l=new Qn(0,0,0,0),d=0;d<s.length;d++){var h=rh(s[d],t,e,n);0===d?l.copy(h):l.union(h)}return l}function xp(i,t,e){return"right"===e?i-=t:"center"===e&&(i-=t/2),i}function Sp(i,t,e){return"middle"===e?i-=t/2:"bottom"===e&&(i-=t),i}function hg(i){return cl("\u56fd",i)}function Ed(i,t){return"string"==typeof i?i.lastIndexOf("%")>=0?parseFloat(i)/100*t:parseFloat(i):i}function pg(i,t,e){var n=t.position||"inside",s=null!=t.distance?t.distance:5,a=e.height,l=e.width,d=a/2,h=e.x,f=e.y,m="left",_="top";if(n instanceof Array)h+=Ed(n[0],e.width),f+=Ed(n[1],e.height),m=null,_=null;else switch(n){case"left":h-=s,f+=d,m="right",_="middle";break;case"right":h+=s+l,f+=d,_="middle";break;case"top":h+=l/2,f-=s,m="center",_="bottom";break;case"bottom":h+=l/2,f+=a+s,m="center";break;case"inside":h+=l/2,f+=d,m="center",_="middle";break;case"insideLeft":h+=s,f+=d,_="middle";break;case"insideRight":h+=l-s,f+=d,m="right",_="middle";break;case"insideTop":h+=l/2,f+=s,m="center";break;case"insideBottom":h+=l/2,f+=a-s,m="center",_="bottom";break;case"insideTopLeft":h+=s,f+=s;break;case"insideTopRight":h+=l-s,f+=s,m="right";break;case"insideBottomLeft":h+=s,f+=a-s,_="bottom";break;case"insideBottomRight":h+=l-s,f+=a-s,m="right",_="bottom"}return(i=i||{}).x=h,i.y=f,i.align=m,i.verticalAlign=_,i}var fg="__zr_normal__",Bl=qa.concat(["ignore"]),py=Re(qa,function(i,t){return i[t]=!0,i},{ignore:!1}),Ih={},ya=new Qn(0,0,0,0),Vl=function(){function i(t){this.id=Qe(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return i.prototype._init=function(t){this.attr(t)},i.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=t,s[5]+=e,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,s=n.local,a=e.innerTransformable,l=void 0,d=void 0,h=!1;a.parent=s?this:null;var f=!1;if(a.copyTransform(e),null!=n.position){var m=ya;m.copy(n.layoutRect?n.layoutRect:this.getBoundingRect()),s||m.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Ih,n,m):pg(Ih,n,m),a.x=Ih.x,a.y=Ih.y,l=Ih.align,d=Ih.verticalAlign;var _=n.origin;if(_&&null!=n.rotation){var C=void 0,w=void 0;"center"===_?(C=.5*m.width,w=.5*m.height):(C=Ed(_[0],m.width),w=Ed(_[1],m.height)),f=!0,a.originX=-a.x+C+(s?0:m.x),a.originY=-a.y+w+(s?0:m.y)}}null!=n.rotation&&(a.rotation=n.rotation);var D=n.offset;D&&(a.x+=D[0],a.y+=D[1],f||(a.originX=-D[0],a.originY=-D[1]));var T=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,I=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),F=void 0,V=void 0,H=void 0;T&&this.canBeInsideText()?(V=n.insideStroke,(null==(F=n.insideFill)||"auto"===F)&&(F=this.getInsideTextFill()),(null==V||"auto"===V)&&(V=this.getInsideTextStroke(F),H=!0)):(V=n.outsideStroke,(null==(F=n.outsideFill)||"auto"===F)&&(F=this.getOutsideFill()),(null==V||"auto"===V)&&(V=this.getOutsideStroke(F),H=!0)),((F=F||"#000")!==I.fill||V!==I.stroke||H!==I.autoStroke||l!==I.align||d!==I.verticalAlign)&&(h=!0,I.fill=F,I.stroke=V,I.autoStroke=H,I.align=l,I.verticalAlign=d,e.setDefaultTextStyle(I)),e.__dirty|=Fs,h&&e.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(t){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?wp:mu},i.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&ar(e);n||(n=[255,255,255,1]);for(var s=n[3],a=this.__zr.isDarkMode(),l=0;l<3;l++)n[l]=n[l]*s+(a?0:255)*(1-s);return n[3]=1,we(n,"rgba")},i.prototype.traverse=function(t,e){},i.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},Dt(this.extra,e)):this[t]=e},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(Zi(t))for(var s=Ri(t),a=0;a<s.length;a++){var l=s[a];this.attrKV(l,t[l])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var s=this.animators[n],a=s.__fromStateTransition;if(!(s.getLoop()||a&&a!==fg)){var l=s.targetName;s.saveTo(l?e[l]:e)}}},i.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Bl)},i.prototype._savePrimaryToNormal=function(t,e,n){for(var s=0;s<n.length;s++){var a=n[s];null!=t[a]&&!(a in e)&&(e[a]=this[a])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(t){return this.states[t]},i.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},i.prototype.clearStates=function(t){this.useState(fg,!1,t)},i.prototype.useState=function(t,e,n,s){var a=t===fg;if(this.hasState()||!a){var d=this.currentStates,h=this.stateTransition;if(!(Te(d,t)>=0)||!e&&1!==d.length){var f;if(this.stateProxy&&!a&&(f=this.stateProxy(t)),f||(f=this.states&&this.states[t]),!f&&!a)return void ui("State "+t+" not exists.");a||this.saveCurrentToNormalState(f);var m=!!(f&&f.hoverLayer||s);m&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,f,this._normalState,e,!n&&!this.__inHover&&h&&h.duration>0,h);var _=this._textContent,C=this._textGuide;return _&&_.useState(t,e,n,m),C&&C.useState(t,e,n,m),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Fs),f}}},i.prototype.useStates=function(t,e,n){if(t.length){var s=[],a=this.currentStates,l=t.length,d=l===a.length;if(d)for(var h=0;h<l;h++)if(t[h]!==a[h]){d=!1;break}if(d)return;for(h=0;h<l;h++){var f=t[h],m=void 0;this.stateProxy&&(m=this.stateProxy(f,t)),m||(m=this.states[f]),m&&s.push(m)}var _=s[l-1],C=!!(_&&_.hoverLayer||n);C&&this._toggleHoverLayerFlag(!0);var w=this._mergeStates(s),D=this.stateTransition;this.saveCurrentToNormalState(w),this._applyStateObj(t.join(","),w,this._normalState,!1,!e&&!this.__inHover&&D&&D.duration>0,D);var T=this._textContent,I=this._textGuide;T&&T.useStates(t,e,C),I&&I.useStates(t,e,C),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!C&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Fs)}else this.clearStates()},i.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},i.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},i.prototype.removeState=function(t){var e=Te(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},i.prototype.replaceState=function(t,e,n){var s=this.currentStates.slice(),a=Te(s,t),l=Te(s,e)>=0;a>=0?l?s.splice(a,1):s[a]=e:n&&!l&&s.push(e),this.useStates(s)},i.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},i.prototype._mergeStates=function(t){for(var n,e={},s=0;s<t.length;s++){var a=t[s];Dt(e,a),a.textConfig&&Dt(n=n||{},a.textConfig)}return n&&(e.textConfig=n),e},i.prototype._applyStateObj=function(t,e,n,s,a,l){var d=!(e&&s);e&&e.textConfig?(this.textConfig=Dt({},s?this.textConfig:n.textConfig),Dt(this.textConfig,e.textConfig)):d&&n.textConfig&&(this.textConfig=n.textConfig);for(var h={},f=!1,m=0;m<Bl.length;m++){var _=Bl[m],C=a&&py[_];e&&null!=e[_]?C?(f=!0,h[_]=e[_]):this[_]=e[_]:d&&null!=n[_]&&(C?(f=!0,h[_]=n[_]):this[_]=n[_])}if(!a)for(m=0;m<this.animators.length;m++){var w=this.animators[m],D=w.targetName;w.getLoop()||w.__changeFinalValue(D?(e||n)[D]:e||n)}f&&this._transitionState(t,h,l)},i.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},i.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},i.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new ic,this._attachComponent(t),this._textContent=t,this.markRedraw())},i.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Dt(this.textConfig,t),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=Fs;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},i.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},i.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},i.prototype.animate=function(t,e,n){var a=new Xr(t?this[t]:this,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},i.prototype.addAnimator=function(t,e){var n=this.__zr,s=this;t.during(function(){s.updateDuringAnimation(e)}).done(function(){var a=s.animators,l=Te(a,t);l>=0&&a.splice(l,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(t){this.markRedraw()},i.prototype.stopAnimation=function(t,e){for(var n=this.animators,s=n.length,a=[],l=0;l<s;l++){var d=n[l];t&&t!==d.scope?a.push(d):d.stop(e)}return this.animators=a,this},i.prototype.animateTo=function(t,e,n){Bc(this,t,e,n)},i.prototype.animateFrom=function(t,e,n){Bc(this,t,e,n,!0)},i.prototype._transitionState=function(t,e,n,s){for(var a=Bc(this,e,n,s),l=0;l<a.length;l++)a[l].__fromStateTransition=t},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=function(){var t=i.prototype;function s(a,l,d,h){function f(m,_){Object.defineProperty(_,0,{get:function(){return m[d]},set:function(C){m[d]=C}}),Object.defineProperty(_,1,{get:function(){return m[h]},set:function(C){m[h]=C}})}Object.defineProperty(t,a,{get:function(){return this[l]||f(this,this[l]=[]),this[l]},set:function(m){this[d]=m[0],this[h]=m[1],this[l]=m,f(this,m)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Fs,Object.defineProperty&&(s("position","_legacyPos","x","y"),s("scale","_legacyScale","scaleX","scaleY"),s("origin","_legacyOrigin","originX","originY"))}(),i}();function Bc(i,t,e,n,s){var a=[];ul(i,"",i,t,e=e||{},n,a,s);var l=a.length,d=!1,h=e.done,f=e.aborted,m=function(){d=!0,--l<=0&&(d?h&&h():f&&f())},_=function(){--l<=0&&(d?h&&h():f&&f())};l||h&&h(),a.length>0&&e.during&&a[0].during(function(D,T){e.during(T)});for(var C=0;C<a.length;C++){var w=a[C];m&&w.done(m),_&&w.aborted(_),e.force&&w.duration(e.duration),w.start(e.easing)}return a}function ff(i,t,e){for(var n=0;n<e;n++)i[n]=t[n]}function Vc(i,t,e){if(Pe(t[e]))if(Pe(i[e])||(i[e]=[]),ai(t[e])){var n=t[e].length;i[e].length!==n&&(i[e]=new t[e].constructor(n),ff(i[e],t[e],n))}else{var s=t[e],a=i[e],l=s.length;if(function yc(i){return Pe(i[0])}(s))for(var d=s[0].length,h=0;h<l;h++)a[h]?ff(a[h],s[h],d):a[h]=Array.prototype.slice.call(s[h]);else ff(a,s,l);a.length=s.length}else i[e]=t[e]}function ul(i,t,e,n,s,a,l,d){for(var h=Ri(n),f=s.duration,m=s.delay,_=s.additive,C=s.setToFinal,w=!Zi(a),D=i.animators,T=[],I=0;I<h.length;I++){var V=n[F=h[I]];if(null!=V&&null!=e[F]&&(w||a[F]))if(!Zi(V)||Pe(V)||li(V))T.push(F);else{if(t){d||(e[F]=V,i.updateDuringAnimation(t));continue}ul(i,F,e[F],V,s,a&&a[F],l,d)}else d||(e[F]=V,i.updateDuringAnimation(t),T.push(F))}var H=T.length;if(!_&&H)for(var re=0;re<D.length;re++)if((fe=D[re]).targetName===t&&fe.stopTracks(T)){var Ee=Te(D,fe);D.splice(Ee,1)}if(s.force||(T=Ve(T,function(gt){return!function Pr(i,t){return i===t||Pe(i)&&Pe(t)&&function dl(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(i[n]!==t[n])return!1;return!0}(i,t)}(n[gt],e[gt])}),H=T.length),H>0||s.force&&!l.length){var fe,Ue=void 0,ze=void 0,nt=void 0;if(d)for(ze={},C&&(Ue={}),re=0;re<H;re++)ze[F=T[re]]=e[F],C?Ue[F]=n[F]:e[F]=n[F];else if(C)for(nt={},re=0;re<H;re++){var F;nt[F=T[re]]=ec(e[F]),Vc(e,n,F)}(fe=new Xr(e,!1,!1,_?Ve(D,function(Vt){return Vt.targetName===t}):null)).targetName=t,s.scope&&(fe.scope=s.scope),C&&Ue&&fe.whenWithKeys(0,Ue,T),nt&&fe.whenWithKeys(0,nt,T),fe.whenWithKeys(f??500,d?ze:n,T).delay(m||0),i.addAnimator(fe,t),l.push(fe)}}Gt(Vl,ns),Gt(Vl,ic);const Dp=Vl;var gg=function(i){function t(e){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return Fi(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,s=0;s<n.length;s++)if(n[s].name===e)return n[s]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var s=this._children,a=s.indexOf(n);a>=0&&(s.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var s=Te(this._children,e);return s>=0&&this.replaceAt(n,s),this},t.prototype.replaceAt=function(e,n){var s=this._children,a=s[n];if(e&&e!==this&&e.parent!==this&&e!==a){s[n]=e,a.parent=null;var l=this.__zr;l&&a.removeSelfFromZr(l),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,s=this._children,a=Te(s,e);return a<0||(s.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,s=0;s<e.length;s++){var a=e[s];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var s=this._children,a=0;a<s.length;a++)e.call(n,s[a],a);return this},t.prototype.traverse=function(e,n){for(var s=0;s<this._children.length;s++){var a=this._children[s],l=e.call(n,a);a.isGroup&&!l&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var n=new Qn(0,0,0,0),s=e||this._children,a=[],l=null,d=0;d<s.length;d++){var h=s[d];if(!h.ignore&&!h.invisible){var f=h.getBoundingRect(),m=h.getLocalTransform(a);m?(Qn.applyTransform(n,f,m),(l=l||n.clone()).union(n)):(l=l||f.clone()).union(f)}}return l||n},t}(Dp);gg.prototype.type="group";const zn=gg;var Zd,mg={},Ha={},mb=function(){function i(t,e,n){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new yi,l=n.renderer||"canvas";mg[l]||(l=Ri(mg)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var d=new mg[l](e,a,n,t),h=n.ssr||d.ssrOnly;this.storage=a,this.painter=d;var w,f=Tt.node||Tt.worker||h?null:new Mm(d.getViewportRoot(),d.root),m=n.useCoarsePointer;(null==m||"auto"===m?Tt.touchEventsSupported:!!m)&&(w=en(n.pointerSize,44)),this.handler=new cs(a,d,f,d.root,w),this.animation=new wd({stage:{update:h?null:function(){return s._flush(!0)}}}),h||this.animation.start()}return i.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},i.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},i.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function nc(i){if(!i)return!1;if("string"==typeof i)return $e(i,1)<.4;if(i.colorStops){for(var t=i.colorStops,e=0,n=t.length,s=0;s<n;s++)e+=$e(t[s].color,1);return(e/=n)<.4}return!1}(t))},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(t){this._darkMode=t},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},i.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},i.prototype.flush=function(){this._disposed||this._flush(!1)},i.prototype._flush=function(t){var e,n=Yd();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var s=Yd();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},i.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},i.prototype.resize=function(t){this._disposed||(this.painter.resize((t=t||{}).width,t.height),this.handler.resize())},i.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},i.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},i.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},i.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},i.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},i.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},i.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},i.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},i.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof zn&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},i.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function Ph(i){delete Ha[i]}(this.id))},i}();function Ep(i,t){var e=new mb(Qe(),i,t);return Ha[e.id]=e,e}function kh(i){i.dispose()}function Im(){for(var i in Ha)Ha.hasOwnProperty(i)&&Ha[i].dispose();Ha={}}function Gl(i){return Ha[i]}function Ap(i,t){mg[i]=t}function oh(i){if("function"==typeof Zd)return Zd(i)}function Tp(i){Zd=i}var Fh="5.6.0",vg=1e-4,Mp=20;function gr(i,t,e,n){var s=t[0],a=t[1],l=e[0],d=e[1],h=a-s,f=d-l;if(0===h)return 0===f?l:(l+d)/2;if(n)if(h>0){if(i<=s)return l;if(i>=a)return d}else{if(i>=s)return l;if(i<=a)return d}else{if(i===s)return l;if(i===a)return d}return(i-s)/h*f+l}function kn(i,t){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%"}return Ii(i)?function fy(i){return i.replace(/^\s+|\s+$/g,"")}(i).match(/%$/)?parseFloat(i)/100*t:parseFloat(i):null==i?NaN:+i}function Fo(i,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),Mp),i=(+i).toFixed(t),e?i:+i}function Hl(i){return i.sort(function(t,e){return t-e}),i}function Dl(i){if(i=+i,isNaN(i))return 0;if(i>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(i*t)/t===i)return e;return gf(i)}function gf(i){var t=i.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,s=e>0?e:t.length,a=t.indexOf(".");return Math.max(0,(a<0?0:s-1-a)-n)}function Vr(i,t){var e=Math.log,n=Math.LN10,s=Math.floor(e(i[1]-i[0])/n),a=Math.round(e(Math.abs(t[1]-t[0]))/n),l=Math.min(Math.max(-s+a,0),20);return isFinite(l)?l:20}function Pm(i,t,e){return i[t]&&sh(i,e)[t]||0}function sh(i,t){var e=Re(i,function(w,D){return w+(isNaN(D)?0:D)},0);if(0===e)return[];for(var n=Math.pow(10,t),s=ge(i,function(w){return(isNaN(w)?0:w)/e*n*100}),a=100*n,l=ge(s,function(w){return Math.floor(w)}),d=Re(l,function(w,D){return w+D},0),h=ge(s,function(w,D){return w-l[D]});d<a;){for(var f=Number.NEGATIVE_INFINITY,m=null,_=0,C=h.length;_<C;++_)h[_]>f&&(f=h[_],m=_);++l[m],h[m]=0,++d}return ge(l,function(w){return w/n})}function Gc(i,t){var e=Math.max(Dl(i),Dl(t)),n=i+t;return e>Mp?n:Fo(n,e)}var sd=9007199254740991;function Oh(i){var t=2*Math.PI;return(i%t+t)%t}function El(i){return i>-vg&&i<vg}var yg=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function rc(i){if(i instanceof Date)return i;if(Ii(i)){var t=yg.exec(i);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==i?new Date(NaN):new Date(Math.round(i))}function mf(i){return Math.pow(10,Hc(i))}function Hc(i){if(0===i)return 0;var t=Math.floor(Math.log(i)/Math.LN10);return i/Math.pow(10,t)>=10&&t++,t}function Rp(i,t){var e=Hc(i),n=Math.pow(10,e),s=i/n;return i=(t?s<1.5?1:s<2.5?2:s<4?3:s<7?5:10:s<1?1:s<2?2:s<3?3:s<5?5:10)*n,e>=-20?+i.toFixed(e<0?-e:0):i}function qd(i,t){var e=(i.length-1)*t+1,n=Math.floor(e),s=+i[n-1],a=e-n;return a?s+a*(i[n]-s):s}function Ad(i){i.sort(function(h,f){return d(h,f,0)?-1:1});for(var t=-1/0,e=1,n=0;n<i.length;){for(var s=i[n].interval,a=i[n].close,l=0;l<2;l++)s[l]<=t&&(s[l]=t,a[l]=l?1:1-e),t=s[l],e=a[l];s[0]===s[1]&&a[0]*a[1]!=1?i.splice(n,1):n++}return i;function d(h,f,m){return h.interval[m]<f.interval[m]||h.interval[m]===f.interval[m]&&(h.close[m]-f.close[m]==(m?-1:1)||!m&&d(h,f,1))}}function oc(i){var t=parseFloat(i);return t==i&&(0!==t||!Ii(i)||i.indexOf("x")<=0)?t:NaN}function yu(i){return!isNaN(oc(i))}function gy(){return Math.round(9*Math.random())}function vf(i,t){return 0===t?i:vf(t,i%t)}function Jd(i,t){return null==i?t:null==t?i:i*t/vf(i,t)}function km(i,t,e){return(t-i)*e+i}var _g="series\0",Td="\0_ec_\0";function Fr(i){return i instanceof Array?i:null==i?[]:[i]}function Ul(i,t,e){if(i){i[t]=i[t]||{},i.emphasis=i.emphasis||{},i.emphasis[t]=i.emphasis[t]||{};for(var n=0,s=e.length;n<s;n++){var a=e[n];!i.emphasis[t].hasOwnProperty(a)&&i[t].hasOwnProperty(a)&&(i.emphasis[t][a]=i[t][a])}}}var Ip=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Lh(i){return!Zi(i)||Me(i)||i instanceof Date?i:i.value}function Fm(i){return Zi(i)&&!(i instanceof Array)}function bg(i,t,e){var n="normalMerge"===e,s="replaceMerge"===e,a="replaceAll"===e;i=i||[],t=(t||[]).slice();var l=Rn();te(t,function(h,f){Zi(h)||(t[f]=null)});var d=function yf(i,t,e){var n=[];if("replaceAll"===e)return n;for(var s=0;s<i.length;s++){var a=i[s];a&&null!=a.id&&t.set(a.id,s),n.push({existing:"replaceMerge"===e||M(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}(i,l,e);return(n||s)&&function C0(i,t,e,n){te(n,function(s,a){if(s&&null!=s.id){var l=Nh(s.id),d=e.get(l);if(null!=d){var h=i[d];mr(!h.newOption,'Duplicated option on id "'+l+'".'),h.newOption=s,h.existing=t[d],n[a]=null}}})}(d,i,l,t),n&&function vb(i,t){te(t,function(e,n){if(e&&null!=e.name)for(var s=0;s<i.length;s++){var a=i[s].existing;if(!i[s].newOption&&a&&(null==a.id||null==e.id)&&!M(e)&&!M(a)&&_u("name",a,e))return i[s].newOption=e,void(t[n]=null)}})}(d,t),n||s?function Cg(i,t,e){te(t,function(n){if(n){for(var s,a=0;(s=i[a])&&(s.newOption||M(s.existing)||s.existing&&null!=n.id&&!_u("id",n,s.existing));)a++;s?(s.newOption=n,s.brandNew=e):i.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}(d,t,s):a&&function wg(i,t){te(t,function(e){i.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(d,t),function my(i){var t=Rn();te(i,function(e){var n=e.existing;n&&t.set(n.id,e)}),te(i,function(e){var n=e.newOption;mr(!n||null==n.id||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),te(i,function(e,n){var s=e.existing,a=e.newOption,l=e.keyInfo;if(Zi(a)){if(l.name=null!=a.name?Nh(a.name):s?s.name:_g+n,s)l.id=Nh(s.id);else if(null!=a.id)l.id=Nh(a.id);else{var d=0;do{l.id="\0"+l.name+"\0"+d++}while(t.get(l.id))}t.set(l.id,e)}})}(d),d}function _u(i,t,e){var n=Ns(t[i],null),s=Ns(e[i],null);return null!=n&&null!=s&&n===s}function Nh(i){return Ns(i,"")}function Ns(i,t){return null==i?t:Ii(i)?i:Di(i)||On(i)?i+"":t}function U(i){var t=i.name;return!(!t||!t.indexOf(_g))}function M(i){return i&&null!=i.id&&0===Nh(i.id).indexOf(Td)}function xt(i,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?Me(t.dataIndex)?ge(t.dataIndex,function(e){return i.indexOfRawIndex(e)}):i.indexOfRawIndex(t.dataIndex):null!=t.name?Me(t.name)?ge(t.name,function(e){return i.indexOfName(e)}):i.indexOfName(t.name):void 0}function Xe(){var i="__ec_inner_"+Xt++;return function(t){return t[i]||(t[i]={})}}var Xt=gy();function si(i,t,e){var n=Hi(t,e),a=n.queryOptionMap,d=n.others,h=e?e.defaultMainType:null;return!n.mainTypeSpecified&&h&&a.set(h,{}),a.each(function(f,m){var _=vn(i,m,f,{useDefault:h===m,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});d[m+"Models"]=_.models,d[m+"Model"]=_.models[0]}),d}function Hi(i,t){var e;if(Ii(i)){var n={};n[i+"Index"]=0,e=n}else e=i;var s=Rn(),a={},l=!1;return te(e,function(d,h){if("dataIndex"!==h&&"dataIndexInside"!==h){var f=h.match(/^(\w+)(Index|Id|Name)$/)||[],m=f[1],_=(f[2]||"").toLowerCase();!m||!_||t&&t.includeMainTypes&&Te(t.includeMainTypes,m)<0||(l=l||!!m,(s.get(m)||s.set(m,{}))[_]=d)}else a[h]=d}),{mainTypeSpecified:l,queryOptionMap:s,others:a}}var mi={useDefault:!0,enableAll:!1,enableNone:!1},Tn={useDefault:!1,enableAll:!0,enableNone:!0};function vn(i,t,e,n){n=n||mi;var s=e.index,a=e.id,l=e.name,d={models:null,specified:null!=s||null!=a||null!=l};if(!d.specified){var h=void 0;return d.models=n.useDefault&&(h=i.getComponent(t))?[h]:[],d}return"none"===s||!1===s?(mr(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),d.models=[],d):("all"===s&&(mr(n.enableAll,'`"all"` is not a valid value on index option.'),s=a=l=null),d.models=i.queryComponents({mainType:t,index:s,id:a,name:l}),d)}function Pn(i,t,e){i.setAttribute?i.setAttribute(t,e):i[t]=e}function rr(i,t){var e=Rn(),n=[];return te(i,function(s){var a=t(s);(e.get(a)||(n.push(a),e.set(a,[]))).push(s)}),{keys:n,buckets:e}}function or(i,t,e,n,s){var a=null==t||"auto"===t;if(null==n)return n;if(Di(n))return Fo(l=km(e||0,n,s),a?Math.max(Dl(e||0),Dl(n)):t);if(Ii(n))return s<1?e:n;for(var d=[],h=e,f=n,m=Math.max(h?h.length:0,f.length),_=0;_<m;++_){var C=i.getDimensionInfo(_);if(C&&"ordinal"===C.type)d[_]=(s<1&&h?h:f)[_];else{var w=h&&h[_]?h[_]:0,D=f[_],l=km(w,D,s);d[_]=Fo(l,a?Math.max(Dl(w),Dl(D)):t)}}return d}var Io=".",Qr="___EC__COMPONENT__CONTAINER___",As="___EC__EXTENDED_CLASS___";function Ko(i){var t={main:"",sub:""};if(i){var e=i.split(Io);t.main=e[0]||"",t.sub=e[1]||""}return t}function aa(i,t){i.$constructor=i,i.extend=function(e){var s,n=this;return function _a(i){return Nt(i)&&/^class\s/.test(Function.prototype.toString.call(i))}(n)?s=function(a){function l(){return a.apply(this,arguments)||this}return P(l,a),l}(n):(s=function(){(e.$constructor||n).apply(this,arguments)},bt(s,this)),Dt(s.prototype,e),s[As]=!0,s.extend=this.extend,s.superCall=Uc,s.superApply=_c,s.superClass=n,s}}function Al(i,t){i.extend=t.extend}var bu=Math.round(10*Math.random());function Uc(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(i,e)}function _c(i,t,e){return this.superClass.prototype[t].apply(i,e)}function zc(i){var t={};i.registerClass=function(n){var s=n.type||n.prototype.type;if(s){(function Ts(i){mr(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')})(s),n.prototype.type=s;var a=Ko(s);if(a.sub){if(a.sub!==Qr){var l=function e(n){var s=t[n.main];return(!s||!s[Qr])&&((s=t[n.main]={})[Qr]=!0),s}(a);l[a.sub]=n}}else t[a.main]=n}return n},i.getClass=function(n,s,a){var l=t[n];if(l&&l[Qr]&&(l=s?l[s]:null),a&&!l)throw new Error(s?"Component "+n+"."+(s||"")+" is used but not imported.":n+".type should be specified.");return l},i.getClassesByMainType=function(n){var s=Ko(n),a=[],l=t[s.main];return l&&l[Qr]?te(l,function(d,h){h!==Qr&&a.push(d)}):a.push(l),a},i.hasClass=function(n){var s=Ko(n);return!!t[s.main]},i.getAllClassMainTypes=function(){var n=[];return te(t,function(s,a){n.push(a)}),n},i.hasSubTypes=function(n){var s=Ko(n),a=t[s.main];return a&&a[Qr]}}function ba(i,t){for(var e=0;e<i.length;e++)i[e][1]||(i[e][1]=i[e][0]);return t=t||!1,function(n,s,a){for(var l={},d=0;d<i.length;d++){var h=i[d][1];if(!(s&&Te(s,h)>=0||a&&Te(a,h)<0)){var f=n.getShallow(h,t);null!=f&&(l[i[d][0]]=f)}}return l}}var Sg=ba([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Cu=function(){function i(){}return i.prototype.getAreaStyle=function(t,e){return Sg(this,t,e)},i}(),Rd=new hn(50);function _f(i){if("string"==typeof i){var t=Rd.get(i);return t&&t.image}return i}function wu(i,t,e,n,s){if(i){if("string"==typeof i){if(t&&t.__zrImageSrc===i||!e)return t;var a=Rd.get(i),l={hostEl:e,cb:n,cbPayload:s};return a?!Wc(t=a.image)&&a.pending.push(l):((t=Yt.loadImage(i,eu,eu)).__zrImageSrc=i,Rd.put(i,t.__cachedImgObj={image:t,pending:[l]})),t}return i}return t}function eu(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<i.pending.length;t++){var e=i.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}i.pending.length=0}function Wc(i){return i&&i.width&&i.height}var Pp=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Id(i,t,e,n,s){if(!t)return"";var a=(i+"").split("\n");s=bf(t,e,n,s);for(var l=0,d=a.length;l<d;l++)a[l]=Dg(a[l],s);return a.join("\n")}function bf(i,t,e,n){var s=Dt({},n=n||{});s.font=t,e=en(e,"..."),s.maxIterations=en(n.maxIterations,2);var a=s.minChar=en(n.minChar,0);s.cnCharWidth=cl("\u56fd",t);var l=s.ascCharWidth=cl("a",t);s.placeholder=en(n.placeholder,"");for(var d=i=Math.max(0,i-1),h=0;h<a&&d>=l;h++)d-=l;var f=cl(e,t);return f>d&&(e="",f=0),d=i-f,s.ellipsis=e,s.ellipsisWidth=f,s.contentWidth=d,s.containerWidth=i,s}function Dg(i,t){var e=t.containerWidth,n=t.font,s=t.contentWidth;if(!e)return"";var a=cl(i,n);if(a<=e)return i;for(var l=0;;l++){if(a<=s||l>=t.maxIterations){i+=t.ellipsis;break}var d=0===l?lD(i,s,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(i.length*s/a):0;a=cl(i=i.substr(0,d),n)}return""===i&&(i=t.placeholder),i}function lD(i,t,e,n){for(var s=0,a=0,l=i.length;a<l&&s<t;a++){var d=i.charCodeAt(a);s+=0<=d&&d<=127?e:n}return a}var vy=function i(){},kp=function i(t){this.tokens=[],t&&(this.tokens=t)},yb=function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function sc(i,t,e,n,s){var m,_,a=""===t,l=s&&e.rich[s]||{},d=i.lines,h=l.font||e.font,f=!1;if(n){var C=l.padding,w=C?C[1]+C[3]:0;if(null!=l.width&&"auto"!==l.width){var D=Ed(l.width,n.width)+w;d.length>0&&D+n.accumWidth>n.width&&(m=t.split("\n"),f=!0),n.accumWidth=D}else{var T=Om(t,h,n.width,n.breakAll,n.accumWidth);n.accumWidth=T.accumWidth+w,_=T.linesWidths,m=T.lines}}else m=t.split("\n");for(var I=0;I<m.length;I++){var F=m[I],V=new vy;if(V.styleName=s,V.text=F,V.isLineHolder=!F&&!a,V.width="number"==typeof l.width?l.width:_?_[I]:cl(F,h),I||f)d.push(new kp([V]));else{var H=(d[d.length-1]||(d[0]=new kp)).tokens,re=H.length;1===re&&H[0].isLineHolder?H[0]=V:(F||!re||a)&&H.push(V)}}}var Eg=Re(",&?/;] ".split(""),function(i,t){return i[t]=!0,i},{});function ad(i){return!function lh(i){var t=i.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(i)||!!Eg[i]}function Om(i,t,e,n,s){for(var a=[],l=[],d="",h="",f=0,m=0,_=0;_<i.length;_++){var C=i.charAt(_);if("\n"!==C){var w=cl(C,t),D=!n&&!ad(C);(a.length?m+w>e:s+m+w>e)?m?(d||h)&&(D?(d||(d=h,h="",m=f=0),a.push(d),l.push(m-f),h+=C,d="",m=f+=w):(h&&(d+=h,h="",f=0),a.push(d),l.push(m),d=C,m=w)):D?(a.push(h),l.push(f),h=C,f=w):(a.push(C),l.push(w)):(m+=w,D?(h+=C,f+=w):(h&&(d+=h,h="",f=0),d+=C))}else h&&(d+=h,m+=f),a.push(d),l.push(m),d="",h="",f=0,m=0}return!a.length&&!d&&(d=i,h="",f=0),h&&(d+=h),d&&(a.push(d),l.push(m)),1===a.length&&(m+=s),{accumWidth:m,lines:a,linesWidths:l}}var Gh="__zr_style_"+Math.round(10*Math.random()),ld={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Hh={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};ld[Gh]=!0;var Uh=["z","z2","invisible"],yy=["invisible"],ch=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype._init=function(e){for(var n=Ri(e),s=0;s<n.length;s++){var a=n[s];"style"===a?this.useStyle(e[a]):i.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,s,a){var l=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function _y(i,t,e){return xu.copy(i.getBoundingRect()),i.transform&&xu.applyTransform(i.transform),Cf.width=t,Cf.height=e,!xu.intersect(Cf)}(this,e,n)||l&&!l[0]&&!l[3])return!1;if(s&&this.__clipPaths)for(var d=0;d<this.__clipPaths.length;++d)if(this.__clipPaths[d].isZeroArea())return!1;if(a&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var s=this.transformCoordToLocal(e,n);return this.getBoundingRect().contain(s[0],s[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,s=this.getBoundingRect(),a=this.style,l=a.shadowBlur||0,d=a.shadowOffsetX||0,h=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Qn(0,0,0,0)),n?Qn.applyTransform(e,s,n):e.copy(s),(l||d||h)&&(e.width+=2*l+Math.abs(d),e.height+=2*l+Math.abs(h),e.x=Math.min(e.x,e.x+d-l),e.y=Math.min(e.y,e.y+h-l));var f=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-f),e.y=Math.floor(e.y-f),e.width=Math.ceil(e.width+1+2*f),e.height=Math.ceil(e.height+1+2*f))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Qn(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){"style"!==e?i.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return"string"==typeof e?this.style[e]=n:Dt(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return ae(ld,e)},t.prototype.useStyle=function(e){e[Gh]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[Gh]},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,Uh)},t.prototype._applyStateObj=function(e,n,s,a,l,d){i.prototype._applyStateObj.call(this,e,n,s,a,l,d);var f,h=!(n&&a);if(n&&n.style?l?a?f=n.style:(f=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(f,n.style)):(f=this._mergeStyle(this.createStyle(),a?this.style:s.style),this._mergeStyle(f,n.style)):h&&(f=s.style),f)if(l){var m=this.style;if(this.style=this.createStyle(h?{}:m),h)for(var _=Ri(m),C=0;C<_.length;C++)(w=_[C])in f&&(f[w]=f[w],this.style[w]=m[w]);var D=Ri(f);for(C=0;C<D.length;C++)this.style[w=D[C]]=this.style[w];this._transitionState(e,{style:f},d,this.getAnimationStyleProps())}else this.useStyle(f);var T=this.__inHover?yy:Uh;for(C=0;C<T.length;C++){var w=T[C];n&&null!=n[w]?this[w]=n[w]:h&&null!=s[w]&&(this[w]=s[w])}},t.prototype._mergeStates=function(e){for(var s,n=i.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var l=e[a];l.style&&this._mergeStyle(s=s||{},l.style)}return s&&(n.style=s),n},t.prototype._mergeStyle=function(e,n){return Dt(e,n),e},t.prototype.getAnimationStyleProps=function(){return Hh},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=2|Fs)),t;var e}(Dp),xu=new Qn(0,0,0,0),Cf=new Qn(0,0,0,0);const cd=ch;var bc=Math.min,ac=Math.max,wf=Math.sin,Su=Math.cos,Pd=2*Math.PI,Ag=fo(),dh=fo(),kd=fo();function Tg(i,t,e){if(0!==i.length){for(var n=i[0],s=n[0],a=n[0],l=n[1],d=n[1],h=1;h<i.length;h++)s=bc(s,(n=i[h])[0]),a=ac(a,n[0]),l=bc(l,n[1]),d=ac(d,n[1]);t[0]=s,t[1]=l,e[0]=a,e[1]=d}}function tu(i,t,e,n,s,a){s[0]=bc(i,e),s[1]=bc(t,n),a[0]=ac(i,e),a[1]=ac(t,n)}var xf=[],Lm=[];function Fp(i,t,e,n,s,a,l,d,h,f){var m=Vo,_=Br,C=m(i,e,s,l,xf);h[0]=1/0,h[1]=1/0,f[0]=-1/0,f[1]=-1/0;for(var w=0;w<C;w++){var D=_(i,e,s,l,xf[w]);h[0]=bc(D,h[0]),f[0]=ac(D,f[0])}for(C=m(t,n,a,d,Lm),w=0;w<C;w++){var T=_(t,n,a,d,Lm[w]);h[1]=bc(T,h[1]),f[1]=ac(T,f[1])}h[0]=bc(i,h[0]),f[0]=ac(i,f[0]),h[0]=bc(l,h[0]),f[0]=ac(l,f[0]),h[1]=bc(t,h[1]),f[1]=ac(t,f[1]),h[1]=bc(d,h[1]),f[1]=ac(d,f[1])}function _b(i,t,e,n,s,a,l,d){var h=Ne,f=Tr,m=ac(bc(h(i,e,s),1),0),_=ac(bc(h(t,n,a),1),0),C=f(i,e,s,m),w=f(t,n,a,_);l[0]=bc(i,s,C),l[1]=bc(t,a,w),d[0]=ac(i,s,C),d[1]=ac(t,a,w)}function by(i,t,e,n,s,a,l,d,h){var f=ms,m=Ho,_=Math.abs(s-a);if(_%Pd<1e-4&&_>1e-4)return d[0]=i-e,d[1]=t-n,h[0]=i+e,void(h[1]=t+n);if(Ag[0]=Su(s)*e+i,Ag[1]=wf(s)*n+t,dh[0]=Su(a)*e+i,dh[1]=wf(a)*n+t,f(d,Ag,dh),m(h,Ag,dh),(s%=Pd)<0&&(s+=Pd),(a%=Pd)<0&&(a+=Pd),s>a&&!l?a+=Pd:s<a&&l&&(s+=Pd),l){var C=a;a=s,s=C}for(var w=0;w<a;w+=Math.PI/2)w>s&&(kd[0]=Su(w)*e+i,kd[1]=wf(w)*n+t,f(d,kd,d),m(h,kd,h))}var us={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},dd=[],iu=[],hl=[],Du=[],Cc=[],Eu=[],nu=Math.min,bb=Math.max,Au=Math.cos,uh=Math.sin,lc=Math.abs,zh=Math.PI,Tl=2*zh,Mg=typeof Float32Array<"u",Tu=[];function Cy(i){return Math.round(i/zh*1e8)/1e8%2*zh}function Nm(i,t){var e=Cy(i[0]);e<0&&(e+=Tl);var s=i[1];s+=e-i[0],!t&&s-e>=Tl?s=e+Tl:t&&e-s>=Tl?s=e-Tl:!t&&e>s?s=e+(Tl-Cy(e-s)):t&&e<s&&(s=e-(Tl-Cy(s-e))),i[0]=e,i[1]=s}var Wh=function(){function i(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=lc(n/Sd/t)||0,this._uy=lc(n/Sd/e)||0)},i.prototype.setDPR=function(t){this.dpr=t},i.prototype.setContext=function(t){this._ctx=t},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(us.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},i.prototype.lineTo=function(t,e){var n=lc(t-this._xi),s=lc(e-this._yi),a=n>this._ux||s>this._uy;if(this.addData(us.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var l=n*n+s*s;l>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=l)}return this},i.prototype.bezierCurveTo=function(t,e,n,s,a,l){return this._drawPendingPt(),this.addData(us.C,t,e,n,s,a,l),this._ctx&&this._ctx.bezierCurveTo(t,e,n,s,a,l),this._xi=a,this._yi=l,this},i.prototype.quadraticCurveTo=function(t,e,n,s){return this._drawPendingPt(),this.addData(us.Q,t,e,n,s),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,s),this._xi=n,this._yi=s,this},i.prototype.arc=function(t,e,n,s,a,l){return this._drawPendingPt(),Tu[0]=s,Tu[1]=a,Nm(Tu,l),this.addData(us.A,t,e,n,n,s=Tu[0],(a=Tu[1])-s,0,l?0:1),this._ctx&&this._ctx.arc(t,e,n,s,a,l),this._xi=Au(a)*n+t,this._yi=uh(a)*n+e,this},i.prototype.arcTo=function(t,e,n,s,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,s,a),this},i.prototype.rect=function(t,e,n,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,s),this.addData(us.R,t,e,n,s),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(us.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},i.prototype.fill=function(t){t&&t.fill(),this.toStatic()},i.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(t){var e=t.length;(!this.data||this.data.length!==e)&&Mg&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},i.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,s=this._len,a=0;a<e;a++)n+=t[a].len();for(Mg&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+n)),a=0;a<e;a++)for(var l=t[a].data,d=0;d<l.length;d++)this.data[s++]=l[d];this._len=s},i.prototype.addData=function(t,e,n,s,a,l,d,h,f){if(this._saveData){var m=this.data;this._len+arguments.length>m.length&&(this._expandData(),m=this.data);for(var _=0;_<arguments.length;_++)m[this._len++]=arguments[_]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Mg&&this._len>11&&(this.data=new Float32Array(t)))}},i.prototype.getBoundingRect=function(){hl[0]=hl[1]=Cc[0]=Cc[1]=Number.MAX_VALUE,Du[0]=Du[1]=Eu[0]=Eu[1]=-Number.MAX_VALUE;var l,t=this.data,e=0,n=0,s=0,a=0;for(l=0;l<this._len;){var d=t[l++],h=1===l;switch(h&&(s=e=t[l],a=n=t[l+1]),d){case us.M:e=s=t[l++],n=a=t[l++],Cc[0]=s,Cc[1]=a,Eu[0]=s,Eu[1]=a;break;case us.L:tu(e,n,t[l],t[l+1],Cc,Eu),e=t[l++],n=t[l++];break;case us.C:Fp(e,n,t[l++],t[l++],t[l++],t[l++],t[l],t[l+1],Cc,Eu),e=t[l++],n=t[l++];break;case us.Q:_b(e,n,t[l++],t[l++],t[l],t[l+1],Cc,Eu),e=t[l++],n=t[l++];break;case us.A:var f=t[l++],m=t[l++],_=t[l++],C=t[l++],w=t[l++],D=t[l++]+w;l+=1;var T=!t[l++];h&&(s=Au(w)*_+f,a=uh(w)*C+m),by(f,m,_,C,w,D,T,Cc,Eu),e=Au(D)*_+f,n=uh(D)*C+m;break;case us.R:tu(s=e=t[l++],a=n=t[l++],s+t[l++],a+t[l++],Cc,Eu);break;case us.Z:e=s,n=a}ms(hl,hl,Cc),Ho(Du,Du,Eu)}return 0===l&&(hl[0]=hl[1]=Du[0]=Du[1]=0),new Qn(hl[0],hl[1],Du[0]-hl[0],Du[1]-hl[1])},i.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,s=this._uy,a=0,l=0,d=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var f=this._pathSegLen,m=0,_=0,C=0;C<e;){var w=t[C++],D=1===C;D&&(d=a=t[C],h=l=t[C+1]);var T=-1;switch(w){case us.M:a=d=t[C++],l=h=t[C++];break;case us.L:var I=t[C++],H=(F=t[C++])-l;(lc(V=I-a)>n||lc(H)>s||C===e-1)&&(T=Math.sqrt(V*V+H*H),a=I,l=F);break;case us.C:var re=t[C++],fe=t[C++],F=(I=t[C++],t[C++]),de=t[C++],Ee=t[C++];T=rs(a,l,re,fe,I,F,de,Ee,10),a=de,l=Ee;break;case us.Q:T=ce(a,l,re=t[C++],fe=t[C++],I=t[C++],F=t[C++],10),a=I,l=F;break;case us.A:var Ue=t[C++],ze=t[C++],nt=t[C++],gt=t[C++],Vt=t[C++],$t=t[C++],hi=$t+Vt;C+=1,D&&(d=Au(Vt)*nt+Ue,h=uh(Vt)*gt+ze),T=bb(nt,gt)*nu(Tl,Math.abs($t)),a=Au(hi)*nt+Ue,l=uh(hi)*gt+ze;break;case us.R:d=a=t[C++],h=l=t[C++],T=2*t[C++]+2*t[C++];break;case us.Z:var V=d-a;H=h-l,T=Math.sqrt(V*V+H*H),a=d,l=h}T>=0&&(f[_++]=T,m+=T)}return this._pathLen=m,m},i.prototype.rebuildPath=function(t,e){var d,h,f,m,_,C,D,V,re,fe,n=this.data,s=this._ux,a=this._uy,l=this._len,w=e<1,I=0,F=0,H=0;if(!w||(this._pathSegLen||this._calculateLength(),D=this._pathSegLen,V=e*this._pathLen))e:for(var de=0;de<l;){var Ee=n[de++],Ue=1===de;switch(Ue&&(d=f=n[de],h=m=n[de+1]),Ee!==us.L&&H>0&&(t.lineTo(re,fe),H=0),Ee){case us.M:d=f=n[de++],h=m=n[de++],t.moveTo(f,m);break;case us.L:_=n[de++],C=n[de++];var ze=lc(_-f),nt=lc(C-m);if(ze>s||nt>a){if(w){if(I+(gt=D[F++])>V){t.lineTo(f*(1-(Vt=(V-I)/gt))+_*Vt,m*(1-Vt)+C*Vt);break e}I+=gt}t.lineTo(_,C),f=_,m=C,H=0}else{var $t=ze*ze+nt*nt;$t>H&&(re=_,fe=C,H=$t)}break;case us.C:var hi=n[de++],gi=n[de++],Pi=n[de++],Yi=n[de++],ji=n[de++],rn=n[de++];if(w){if(I+(gt=D[F++])>V){Ya(f,hi,Pi,ji,Vt=(V-I)/gt,dd),Ya(m,gi,Yi,rn,Vt,iu),t.bezierCurveTo(dd[1],iu[1],dd[2],iu[2],dd[3],iu[3]);break e}I+=gt}t.bezierCurveTo(hi,gi,Pi,Yi,ji,rn),f=ji,m=rn;break;case us.Q:if(hi=n[de++],gi=n[de++],Pi=n[de++],Yi=n[de++],w){if(I+(gt=D[F++])>V){Z(f,hi,Pi,Vt=(V-I)/gt,dd),Z(m,gi,Yi,Vt,iu),t.quadraticCurveTo(dd[1],iu[1],dd[2],iu[2]);break e}I+=gt}t.quadraticCurveTo(hi,gi,Pi,Yi),f=Pi,m=Yi;break;case us.A:var bn=n[de++],In=n[de++],Vn=n[de++],lr=n[de++],ur=n[de++],Yr=n[de++],xo=n[de++],qr=!n[de++],br=Vn>lr?Vn:lr,Jr=lc(Vn-lr)>.001,Lr=ur+Yr,ir=!1;if(w&&(I+(gt=D[F++])>V&&(Lr=ur+Yr*(V-I)/gt,ir=!0),I+=gt),Jr&&t.ellipse?t.ellipse(bn,In,Vn,lr,xo,ur,Lr,qr):t.arc(bn,In,br,ur,Lr,qr),ir)break e;Ue&&(d=Au(ur)*Vn+bn,h=uh(ur)*lr+In),f=Au(Lr)*Vn+bn,m=uh(Lr)*lr+In;break;case us.R:d=f=n[de],h=m=n[de+1],_=n[de++],C=n[de++];var Nr=n[de++],Ra=n[de++];if(w){if(I+(gt=D[F++])>V){var Oo=V-I;t.moveTo(_,C),t.lineTo(_+nu(Oo,Nr),C),(Oo-=Nr)>0&&t.lineTo(_+Nr,C+nu(Oo,Ra)),(Oo-=Ra)>0&&t.lineTo(_+bb(Nr-Oo,0),C+Ra),(Oo-=Nr)>0&&t.lineTo(_,C+bb(Ra-Oo,0));break e}I+=gt}t.rect(_,C,Nr,Ra);break;case us.Z:if(w){var gt;if(I+(gt=D[F++])>V){var Vt;t.lineTo(f*(1-(Vt=(V-I)/gt))+d*Vt,m*(1-Vt)+h*Vt);break e}I+=gt}t.closePath(),f=d,m=h}}},i.prototype.clone=function(){var t=new i,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},i.CMD=us,i.initDefaultProps=function(){var t=i.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),i}();const zl=Wh;function jc(i,t,e,n,s,a,l){if(0===s)return!1;var h,d=s;if(l>t+d&&l>n+d||l<t-d&&l<n-d||a>i+d&&a>e+d||a<i-d&&a<e-d)return!1;if(i===e)return Math.abs(a-i)<=d/2;var m=(h=(t-n)/(i-e))*a-l+(i*n-e*t)/(i-e);return m*m/(h*h+1)<=d/2*d/2}function Op(i,t,e,n,s,a,l,d,h,f,m){if(0===h)return!1;var _=h;return!(m>t+_&&m>n+_&&m>a+_&&m>d+_||m<t-_&&m<n-_&&m<a-_&&m<d-_||f>i+_&&f>e+_&&f>s+_&&f>l+_||f<i-_&&f<e-_&&f<s-_&&f<l-_)&&Ol(i,t,e,n,s,a,l,d,f,m,null)<=_/2}function jh(i,t,e,n,s,a,l,d,h){if(0===l)return!1;var f=l;return!(h>t+f&&h>n+f&&h>a+f||h<t-f&&h<n-f&&h<a-f||d>i+f&&d>e+f&&d>s+f||d<i-f&&d<e-f&&d<s-f)&&G(i,t,e,n,s,a,d,h,null)<=f/2}var hh=2*Math.PI;function la(i){return(i%=hh)<0&&(i+=hh),i}var ud=2*Math.PI;function wy(i,t,e,n,s,a,l,d,h){if(0===l)return!1;var f=l;d-=i,h-=t;var m=Math.sqrt(d*d+h*h);if(m-f>e||m+f<e)return!1;if(Math.abs(n-s)%ud<1e-4)return!0;if(a){var _=n;n=la(s),s=la(_)}else n=la(n),s=la(s);n>s&&(s+=ud);var C=Math.atan2(h,d);return C<0&&(C+=ud),C>=n&&C<=s||C+ud>=n&&C+ud<=s}function wc(i,t,e,n,s,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var l=(a-t)/(n-t),d=n<t?1:-1;(1===l||0===l)&&(d=n<t?.5:-.5);var h=l*(e-i)+i;return h===s?1/0:h>s?d:0}var $c=zl.CMD,hd=2*Math.PI,Ja=[-1,-1,-1],Wl=[-1,-1];function Bm(){var i=Wl[0];Wl[0]=Wl[1],Wl[1]=i}function x0(i,t,e,n,s,a,l,d,h,f){if(f>t&&f>n&&f>a&&f>d||f<t&&f<n&&f<a&&f<d)return 0;var m=Hs(t,n,a,d,f,Ja);if(0===m)return 0;for(var _=0,C=-1,w=void 0,D=void 0,T=0;T<m;T++){var I=Ja[T],F=0===I||1===I?.5:1;Br(i,e,s,l,I)<h||(C<0&&(C=Vo(t,n,a,d,Wl),Wl[1]<Wl[0]&&C>1&&Bm(),w=Br(t,n,a,d,Wl[0]),C>1&&(D=Br(t,n,a,d,Wl[1]))),_+=2===C?I<Wl[0]?w<t?F:-F:I<Wl[1]?D<w?F:-F:d<D?F:-F:I<Wl[0]?w<t?F:-F:d<w?F:-F)}return _}function Sf(i,t,e,n,s,a,l,d){if(d>t&&d>n&&d>a||d<t&&d<n&&d<a)return 0;var h=function mc(i,t,e,n,s){var a=i-2*t+e,l=2*(t-i),d=i-n,h=0;if(ds(a))Xa(l)&&(f=-d/l)>=0&&f<=1&&(s[h++]=f);else{var m=l*l-4*a*d;if(ds(m))(f=-l/(2*a))>=0&&f<=1&&(s[h++]=f);else if(m>0){var f,_=_r(m),C=(-l-_)/(2*a);(f=(-l+_)/(2*a))>=0&&f<=1&&(s[h++]=f),C>=0&&C<=1&&(s[h++]=C)}}return h}(t,n,a,d,Ja);if(0===h)return 0;var f=Ne(t,n,a);if(f>=0&&f<=1){for(var m=0,_=Tr(t,n,a,f),C=0;C<h;C++){var w=0===Ja[C]||1===Ja[C]?.5:1;Tr(i,e,s,Ja[C])<l||(m+=Ja[C]<f?_<t?w:-w:a<_?w:-w)}return m}return w=0===Ja[0]||1===Ja[0]?.5:1,Tr(i,e,s,Ja[0])<l?0:a<t?w:-w}function Lp(i,t,e,n,s,a,l,d){if((d-=t)>e||d<-e)return 0;var h=Math.sqrt(e*e-d*d);Ja[0]=-h,Ja[1]=h;var f=Math.abs(n-s);if(f<1e-4)return 0;if(f>=hd-1e-4){n=0,s=hd;var m=a?1:-1;return l>=Ja[0]+i&&l<=Ja[1]+i?m:0}if(n>s){var _=n;n=s,s=_}n<0&&(n+=hd,s+=hd);for(var C=0,w=0;w<2;w++){var D=Ja[w];if(D+i>l){var T=Math.atan2(d,D);m=a?1:-1,T<0&&(T=hd+T),(T>=n&&T<=s||T+hd>=n&&T+hd<=s)&&(T>Math.PI/2&&T<1.5*Math.PI&&(m=-m),C+=m)}}return C}function Kc(i,t,e,n,s){for(var C,w,a=i.data,l=i.len(),d=0,h=0,f=0,m=0,_=0,D=0;D<l;){var T=a[D++],I=1===D;switch(T===$c.M&&D>1&&(e||(d+=wc(h,f,m,_,n,s))),I&&(m=h=a[D],_=f=a[D+1]),T){case $c.M:h=m=a[D++],f=_=a[D++];break;case $c.L:if(e){if(jc(h,f,a[D],a[D+1],t,n,s))return!0}else d+=wc(h,f,a[D],a[D+1],n,s)||0;h=a[D++],f=a[D++];break;case $c.C:if(e){if(Op(h,f,a[D++],a[D++],a[D++],a[D++],a[D],a[D+1],t,n,s))return!0}else d+=x0(h,f,a[D++],a[D++],a[D++],a[D++],a[D],a[D+1],n,s)||0;h=a[D++],f=a[D++];break;case $c.Q:if(e){if(jh(h,f,a[D++],a[D++],a[D],a[D+1],t,n,s))return!0}else d+=Sf(h,f,a[D++],a[D++],a[D],a[D+1],n,s)||0;h=a[D++],f=a[D++];break;case $c.A:var F=a[D++],V=a[D++],H=a[D++],re=a[D++],fe=a[D++],de=a[D++];D+=1;var Ee=!!(1-a[D++]);C=Math.cos(fe)*H+F,w=Math.sin(fe)*re+V,I?(m=C,_=w):d+=wc(h,f,C,w,n,s);var Ue=(n-F)*re/H+F;if(e){if(wy(F,V,re,fe,fe+de,Ee,t,Ue,s))return!0}else d+=Lp(F,V,re,fe,fe+de,Ee,Ue,s);h=Math.cos(fe+de)*H+F,f=Math.sin(fe+de)*re+V;break;case $c.R:if(m=h=a[D++],_=f=a[D++],C=m+a[D++],w=_+a[D++],e){if(jc(m,_,C,_,t,n,s)||jc(C,_,C,w,t,n,s)||jc(C,w,m,w,t,n,s)||jc(m,w,m,_,t,n,s))return!0}else d+=wc(C,_,C,w,n,s),d+=wc(m,w,m,_,n,s);break;case $c.Z:if(e){if(jc(h,f,m,_,t,n,s))return!0}else d+=wc(h,f,m,_,n,s);h=m,f=_}}return!e&&!function xy(i,t){return Math.abs(i-t)<1e-4}(f,_)&&(d+=wc(h,f,m,_,n,s)||0),0!==d}var Np=je({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},ld),Cb={style:je({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Hh.style)},Vm=qa.concat(["invisible","culling","z","z2","zlevel","parent"]),wb=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.update=function(){var e=this;i.prototype.update.call(this);var n=this.style;if(n.decal){var s=this._decalEl=this._decalEl||new t;s.buildPath===t.prototype.buildPath&&(s.buildPath=function(h){e.buildPath(h,e.shape)}),s.silent=!0;var a=s.style;for(var l in n)a[l]!==n[l]&&(a[l]=n[l]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var d=0;d<Vm.length;++d)s[Vm[d]]=this[Vm[d]];s.__dirty|=Fs}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=Ri(e);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var a=0;a<n.length;a++){var l=n[a],d=e[l];"style"===l?this.style?Dt(this.style,d):this.useStyle(d):"shape"===l?Dt(this.shape,d):i.prototype.attrKV.call(this,l,d)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(Ii(e)){var n=$e(e,0);return n>.5?mu:n>.2?"#eee":wp}if(e)return wp}return mu},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(Ii(n)){var s=this.__zr;if(!(!s||!s.isDarkMode())==$e(e,0)<.4)return n}},t.prototype.buildPath=function(e,n,s){},t.prototype.pathUpdated=function(){this.__dirty&=~oa},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new zl(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(null==n||"none"===n||!(e.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style.fill;return null!=n&&"none"!==n},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,s=!e;if(s){var a=!1;this.path||(a=!0,this.createPathProxy());var l=this.path;(a||this.__dirty&oa)&&(l.beginPath(),this.buildPath(l,this.shape,!1),this.pathUpdated()),e=l.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var d=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||s){d.copy(e);var h=n.strokeNoScale?this.getLineScale():1,f=n.lineWidth;this.hasFill()||(f=Math.max(f,this.strokeContainThreshold??4)),h>1e-10&&(d.width+=f/h,d.height+=f/h,d.x-=f/h/2,d.y-=f/h/2)}return d}return e},t.prototype.contain=function(e,n){var s=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),l=this.style;if(a.contain(e=s[0],n=s[1])){var d=this.path;if(this.hasStroke()){var h=l.lineWidth,f=l.strokeNoScale?this.getLineScale():1;if(f>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),function Sy(i,t,e,n){return Kc(i,t,!0,e,n)}(d,h/f,e,n)))return!0}if(this.hasFill())return function Rg(i,t,e){return Kc(i,0,!1,t,e)}(d,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=oa,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):i.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var s=this.shape;return s||(s=this.shape={}),"string"==typeof e?s[e]=n:Dt(s,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&oa)},t.prototype.createStyle=function(e){return ae(Np,e)},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=Dt({},this.shape))},t.prototype._applyStateObj=function(e,n,s,a,l,d){i.prototype._applyStateObj.call(this,e,n,s,a,l,d);var f,h=!(n&&a);if(n&&n.shape?l?a?f=n.shape:(f=Dt({},s.shape),Dt(f,n.shape)):(f=Dt({},a?this.shape:s.shape),Dt(f,n.shape)):h&&(f=s.shape),f)if(l){this.shape=Dt({},this.shape);for(var m={},_=Ri(f),C=0;C<_.length;C++){var w=_[C];"object"==typeof f[w]?this.shape[w]=f[w]:m[w]=f[w]}this._transitionState(e,{shape:m},d)}else this.shape=f,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var s,n=i.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var l=e[a];l.shape&&this._mergeStyle(s=s||{},l.shape)}return s&&(n.shape=s),n},t.prototype.getAnimationStyleProps=function(){return Cb},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(a){function l(d){var h=a.call(this,d)||this;return e.init&&e.init.call(h,d),h}return Fi(l,a),l.prototype.getDefaultStyle=function(){return xe(e.style)},l.prototype.getDefaultShape=function(){return xe(e.shape)},l}(t);for(var s in e)"function"==typeof e[s]&&(n.prototype[s]=e[s]);return n},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=2|Fs|oa)),t;var e}(cd);const $r=wb;var Gm=je({strokeFirst:!0,font:ri,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Np),Df=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Fi(t,i),t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return null!=n&&"none"!==n&&e.lineWidth>0},t.prototype.hasFill=function(){var n=this.style.fill;return null!=n&&"none"!==n},t.prototype.createStyle=function(e){return ae(Gm,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var n=e.text;null!=n?n+="":n="";var s=pf(n,e.font,e.textAlign,e.textBaseline);if(s.x+=e.x||0,s.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;s.x-=a/2,s.y-=a/2,s.width+=a,s.height+=a}this._rect=s}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(cd);Df.prototype.type="tspan";const Hm=Df;var S0=je({x:0,y:0},ld),Ef={style:je({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Hh.style)},Bp=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Fi(t,i),t.prototype.createStyle=function(e){return ae(S0,e)},t.prototype._getSize=function(e){var n=this.style,s=n[e];if(null!=s)return s;var a=function Af(i){return!!(i&&"string"!=typeof i&&i.width&&i.height)}(n.image)?n.image:this.__image;if(!a)return 0;var l="width"===e?"height":"width",d=n[l];return null==d?a[e]:a[e]/a[l]*d},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Ef},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Qn(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(cd);Bp.prototype.type="image";const hs=Bp;var Vp=Math.round;function Mu(i,t,e){if(t){var n=t.x1,s=t.x2,a=t.y1,l=t.y2;i.x1=n,i.x2=s,i.y1=a,i.y2=l;var d=e&&e.lineWidth;return d&&(Vp(2*n)===Vp(2*s)&&(i.x1=i.x2=pd(n,d,!0)),Vp(2*a)===Vp(2*l)&&(i.y1=i.y2=pd(a,d,!0))),i}}function Pg(i,t,e){if(t){var n=t.x,s=t.y,a=t.width,l=t.height;i.x=n,i.y=s,i.width=a,i.height=l;var d=e&&e.lineWidth;return d&&(i.x=pd(n,d,!0),i.y=pd(s,d,!0),i.width=Math.max(pd(n+a,d,!1)-i.x,0===a?0:1),i.height=Math.max(pd(s+l,d,!1)-i.y,0===l?0:1)),i}}function pd(i,t,e){if(!t)return i;var n=Vp(2*i);return(n+Vp(t))%2==0?n/2:(n+(e?1:-1))/2}var Dy=function i(){this.x=0,this.y=0,this.width=0,this.height=0},$h={},Um=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new Dy},t.prototype.buildPath=function(e,n){var s,a,l,d;if(this.subPixelOptimize){var h=Pg($h,n,this.style);s=h.x,a=h.y,l=h.width,d=h.height,h.r=n.r,n=h}else s=n.x,a=n.y,l=n.width,d=n.height;n.r?function Ig(i,t){var d,h,f,m,_,e=t.x,n=t.y,s=t.width,a=t.height,l=t.r;s<0&&(e+=s,s=-s),a<0&&(n+=a,a=-a),"number"==typeof l?d=h=f=m=l:l instanceof Array?1===l.length?d=h=f=m=l[0]:2===l.length?(d=f=l[0],h=m=l[1]):3===l.length?(d=l[0],h=m=l[1],f=l[2]):(d=l[0],h=l[1],f=l[2],m=l[3]):d=h=f=m=0,d+h>s&&(d*=s/(_=d+h),h*=s/_),f+m>s&&(f*=s/(_=f+m),m*=s/_),h+f>a&&(h*=a/(_=h+f),f*=a/_),d+m>a&&(d*=a/(_=d+m),m*=a/_),i.moveTo(e+d,n),i.lineTo(e+s-h,n),0!==h&&i.arc(e+s-h,n+h,h,-Math.PI/2,0),i.lineTo(e+s,n+a-f),0!==f&&i.arc(e+s-f,n+a-f,f,0,Math.PI/2),i.lineTo(e+m,n+a),0!==m&&i.arc(e+m,n+a-m,m,Math.PI/2,Math.PI),i.lineTo(e,n+d),0!==d&&i.arc(e+d,n+d,d,Math.PI,1.5*Math.PI)}(e,n):e.rect(s,a,l,d)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}($r);Um.prototype.type="rect";const kr=Um;var Kh={fill:"#000"},Fg={style:je({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Hh.style)},Gp=function(i){function t(e){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=Kh,n.attr(e),n}return Fi(t,i),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):i.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):i.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function Iu(i){Ay(i),te(i.rich,Ay)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Qn(0,0,0,0),n=this._children,s=[],a=null,l=0;l<n.length;l++){var d=n[l],h=d.getBoundingRect(),f=d.getLocalTransform(s);f?(e.copy(h),e.applyTransform(f),(a=a||e.clone()).union(e)):(a=a||h.clone()).union(h)}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Kh},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var s=n.rich,a=e.rich||s&&{};return Dt(e,n),s&&a?(this._mergeRich(a,s),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var s=Ri(n),a=0;a<s.length;a++){var l=s[a];e[l]=e[l]||{},Dt(e[l],n[l])}},t.prototype.getAnimationStyleProps=function(){return Fg},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||ri,s=e.padding,l=function w0(i,t){null!=i&&(i+="");var _,e=t.overflow,n=t.padding,s=t.font,a="truncate"===e,l=hg(s),d=en(t.lineHeight,l),h=!!t.backgroundColor,f="truncate"===t.lineOverflow,m=t.width,C=(_=null==m||"break"!==e&&"breakAll"!==e?i?i.split("\n"):[]:i?Om(i,t.font,m,"breakAll"===e,0).lines:[]).length*d,w=en(t.height,C);if(C>w&&f){var D=Math.floor(w/d);_=_.slice(0,D)}if(i&&a&&null!=m)for(var T=bf(m,s,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),I=0;I<_.length;I++)_[I]=Dg(_[I],T);var F=w,V=0;for(I=0;I<_.length;I++)V=Math.max(cl(_[I],s),V);null==m&&(m=V);var H=V;return n&&(F+=n[0]+n[2],H+=n[1]+n[3],m+=n[1]+n[3]),h&&(H=m),{lines:_,height:w,outerWidth:H,outerHeight:F,lineHeight:d,calculatedLineHeight:l,contentWidth:V,contentHeight:C,width:m}}(xb(e),e),d=fh(e),h=!!e.backgroundColor,f=l.outerHeight,m=l.outerWidth,_=l.contentWidth,C=l.lines,w=l.lineHeight,D=this._defaultStyle,T=e.x||0,I=e.y||0,F=e.align||D.align||"left",V=e.verticalAlign||D.verticalAlign||"top",H=T,re=Sp(I,l.contentHeight,V);if(d||s){var fe=xp(T,m,F),de=Sp(I,f,V);d&&this._renderBackground(e,e,fe,de,m,f)}re+=w/2,s&&(H=Wm(T,F,s),"top"===V?re+=s[0]:"bottom"===V&&(re-=s[2]));for(var Ee=0,Ue=!1,ze=(zm("fill"in e?e.fill:(Ue=!0,D.fill))),nt=(Pu("stroke"in e?e.stroke:h||D.autoStroke&&!Ue?null:(Ee=2,D.stroke))),gt=e.textShadowBlur>0,Vt=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),$t=l.calculatedLineHeight,hi=0;hi<C.length;hi++){var gi=this._getOrCreateChild(Hm),Pi=gi.createStyle();gi.useStyle(Pi),Pi.text=C[hi],Pi.x=H,Pi.y=re,F&&(Pi.textAlign=F),Pi.textBaseline="middle",Pi.opacity=e.opacity,Pi.strokeFirst=!0,gt&&(Pi.shadowBlur=e.textShadowBlur||0,Pi.shadowColor=e.textShadowColor||"transparent",Pi.shadowOffsetX=e.textShadowOffsetX||0,Pi.shadowOffsetY=e.textShadowOffsetY||0),Pi.stroke=nt,Pi.fill=ze,nt&&(Pi.lineWidth=e.lineWidth||Ee,Pi.lineDash=e.lineDash,Pi.lineDashOffset=e.lineDashOffset||0),Pi.font=n,D0(Pi,e),re+=w,Vt&&gi.setBoundingRect(new Qn(xp(Pi.x,e.width,Pi.textAlign),Sp(Pi.y,$t,Pi.textBaseline),_,$t))}},t.prototype._updateRichTexts=function(){var e=this.style,s=function Vh(i,t){var e=new yb;if(null!=i&&(i+=""),!i)return e;for(var h,n=t.width,s=t.height,a=t.overflow,l="break"!==a&&"breakAll"!==a||null==n?null:{width:n,accumWidth:0,breakAll:"breakAll"===a},d=Pp.lastIndex=0;null!=(h=Pp.exec(i));){var f=h.index;f>d&&sc(e,i.substring(d,f),t,l),sc(e,h[2],t,l,h[1]),d=Pp.lastIndex}d<i.length&&sc(e,i.substring(d,i.length),t,l);var m=[],_=0,C=0,w=t.padding,D="truncate"===a,T="truncate"===t.lineOverflow;function I(ji,rn,bn){ji.width=rn,ji.lineHeight=bn,_+=bn,C=Math.max(C,rn)}e:for(var F=0;F<e.lines.length;F++){for(var V=e.lines[F],H=0,re=0,fe=0;fe<V.tokens.length;fe++){var Ee=(de=V.tokens[fe]).styleName&&t.rich[de.styleName]||{},Ue=de.textPadding=Ee.padding,ze=Ue?Ue[1]+Ue[3]:0,nt=de.font=Ee.font||t.font;de.contentHeight=hg(nt);var gt=en(Ee.height,de.contentHeight);if(de.innerHeight=gt,Ue&&(gt+=Ue[0]+Ue[2]),de.height=gt,de.lineHeight=fn(Ee.lineHeight,t.lineHeight,gt),de.align=Ee&&Ee.align||t.align,de.verticalAlign=Ee&&Ee.verticalAlign||"middle",T&&null!=s&&_+de.lineHeight>s){fe>0?(V.tokens=V.tokens.slice(0,fe),I(V,re,H),e.lines=e.lines.slice(0,F+1)):e.lines=e.lines.slice(0,F);break e}var Vt=Ee.width,$t=null==Vt||"auto"===Vt;if("string"==typeof Vt&&"%"===Vt.charAt(Vt.length-1))de.percentWidth=Vt,m.push(de),de.contentWidth=cl(de.text,nt);else{if($t){var hi=Ee.backgroundColor,gi=hi&&hi.image;gi&&Wc(gi=_f(gi))&&(de.width=Math.max(de.width,gi.width*gt/gi.height))}var Pi=D&&null!=n?n-re:null;null!=Pi&&Pi<de.width?!$t||Pi<ze?(de.text="",de.width=de.contentWidth=0):(de.text=Id(de.text,Pi-ze,nt,t.ellipsis,{minChar:t.truncateMinChar}),de.width=de.contentWidth=cl(de.text,nt)):de.contentWidth=cl(de.text,nt)}de.width+=ze,re+=de.width,Ee&&(H=Math.max(H,de.lineHeight))}I(V,re,H)}for(e.outerWidth=e.width=en(n,C),e.outerHeight=e.height=en(s,_),e.contentHeight=_,e.contentWidth=C,w&&(e.outerWidth+=w[1]+w[3],e.outerHeight+=w[0]+w[2]),F=0;F<m.length;F++){var de;(de=m[F]).width=parseInt(de.percentWidth,10)/100*e.width}return e}(xb(e),e),a=s.width,l=s.outerWidth,d=s.outerHeight,h=e.padding,m=e.y||0,_=this._defaultStyle,w=e.verticalAlign||_.verticalAlign,D=xp(e.x||0,l,e.align||_.align),T=Sp(m,d,w),I=D,F=T;h&&(I+=h[3],F+=h[0]);var V=I+a;fh(e)&&this._renderBackground(e,e,D,T,l,d);for(var H=!!e.backgroundColor,re=0;re<s.lines.length;re++){for(var fe=s.lines[re],de=fe.tokens,Ee=de.length,Ue=fe.lineHeight,ze=fe.width,nt=0,gt=I,Vt=V,$t=Ee-1,hi=void 0;nt<Ee&&(!(hi=de[nt]).align||"left"===hi.align);)this._placeToken(hi,e,Ue,F,gt,"left",H),ze-=hi.width,gt+=hi.width,nt++;for(;$t>=0&&"right"===(hi=de[$t]).align;)this._placeToken(hi,e,Ue,F,Vt,"right",H),ze-=hi.width,Vt-=hi.width,$t--;for(gt+=(a-(gt-I)-(V-Vt)-ze)/2;nt<=$t;)this._placeToken(hi=de[nt],e,Ue,F,gt+hi.width/2,"center",H),gt+=hi.width,nt++;F+=Ue}},t.prototype._placeToken=function(e,n,s,a,l,d,h){var f=n.rich[e.styleName]||{};f.text=e.text;var m=e.verticalAlign,_=a+s/2;"top"===m?_=a+e.height/2:"bottom"===m&&(_=a+s-e.height/2),!e.isLineHolder&&fh(f)&&this._renderBackground(f,n,"right"===d?l-e.width:"center"===d?l-e.width/2:l,_-e.height/2,e.width,e.height);var w=!!f.backgroundColor,D=e.textPadding;D&&(l=Wm(l,d,D),_-=e.height/2-D[0]-e.innerHeight/2);var T=this._getOrCreateChild(Hm),I=T.createStyle();T.useStyle(I);var F=this._defaultStyle,V=!1,H=0,re=zm("fill"in f?f.fill:"fill"in n?n.fill:(V=!0,F.fill)),fe=Pu("stroke"in f?f.stroke:"stroke"in n?n.stroke:w||h||F.autoStroke&&!V?null:(H=2,F.stroke)),de=f.textShadowBlur>0||n.textShadowBlur>0;I.text=e.text,I.x=l,I.y=_,de&&(I.shadowBlur=f.textShadowBlur||n.textShadowBlur||0,I.shadowColor=f.textShadowColor||n.textShadowColor||"transparent",I.shadowOffsetX=f.textShadowOffsetX||n.textShadowOffsetX||0,I.shadowOffsetY=f.textShadowOffsetY||n.textShadowOffsetY||0),I.textAlign=d,I.textBaseline="middle",I.font=e.font||ri,I.opacity=fn(f.opacity,n.opacity,1),D0(I,f),fe&&(I.lineWidth=fn(f.lineWidth,n.lineWidth,H),I.lineDash=en(f.lineDash,n.lineDash),I.lineDashOffset=n.lineDashOffset||0,I.stroke=fe),re&&(I.fill=re);var Ee=e.contentWidth,Ue=e.contentHeight;T.setBoundingRect(new Qn(xp(I.x,Ee,I.textAlign),Sp(I.y,Ue,I.textBaseline),Ee,Ue))},t.prototype._renderBackground=function(e,n,s,a,l,d){var T,I,V,h=e.backgroundColor,f=e.borderWidth,m=e.borderColor,_=h&&h.image,C=h&&!_,w=e.borderRadius,D=this;if(C||e.lineHeight||f&&m){(T=this._getOrCreateChild(kr)).useStyle(T.createStyle()),T.style.fill=null;var F=T.shape;F.x=s,F.y=a,F.width=l,F.height=d,F.r=w,T.dirtyShape()}if(C)(V=T.style).fill=h||null,V.fillOpacity=en(e.fillOpacity,1);else if(_){(I=this._getOrCreateChild(hs)).onload=function(){D.dirtyStyle()};var H=I.style;H.image=h.image,H.x=s,H.y=a,H.width=l,H.height=d}f&&m&&((V=T.style).lineWidth=f,V.stroke=m,V.strokeOpacity=en(e.strokeOpacity,1),V.lineDash=e.borderDash,V.lineDashOffset=e.borderDashOffset||0,T.strokeContainThreshold=0,T.hasFill()&&T.hasStroke()&&(V.strokeFirst=!0,V.lineWidth*=2));var re=(T||I).style;re.shadowBlur=e.shadowBlur||0,re.shadowColor=e.shadowColor||"transparent",re.shadowOffsetX=e.shadowOffsetX||0,re.shadowOffsetY=e.shadowOffsetY||0,re.opacity=fn(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return Ru(e)&&(n=[e.fontStyle,e.fontWeight,Hp(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&uo(n)||e.textFont||e.font},t}(cd),Og={left:!0,right:1,center:1},Ey={top:1,bottom:1,middle:1},ph=["fontStyle","fontWeight","fontSize","fontFamily"];function Hp(i){return"string"!=typeof i||-1===i.indexOf("px")&&-1===i.indexOf("rem")&&-1===i.indexOf("em")?isNaN(+i)?di+"px":i+"px":i}function D0(i,t){for(var e=0;e<ph.length;e++){var n=ph[e],s=t[n];null!=s&&(i[n]=s)}}function Ru(i){return null!=i.fontSize||i.fontFamily||i.fontWeight}function Ay(i){if(i){i.font=Gp.makeFont(i);var t=i.align;"middle"===t&&(t="center"),i.align=null==t||Og[t]?t:"left";var e=i.verticalAlign;"center"===e&&(e="middle"),i.verticalAlign=null==e||Ey[e]?e:"top",i.padding&&(i.padding=Fn(i.padding))}}function Pu(i,t){return null==i||t<=0||"transparent"===i||"none"===i?null:i.image||i.colorStops?"#000":i}function zm(i){return null==i||"none"===i?null:i.image||i.colorStops?"#000":i}function Wm(i,t,e){return"right"===t?i-e[1]:"center"===t?i+e[3]/2-e[1]/2:i+e[3]}function xb(i){var t=i.text;return null!=t&&(t+=""),t}function fh(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}const lo=Gp;var dr=Xe(),Sb=function(i,t,e,n){if(n){var s=dr(n);s.dataIndex=e,s.dataType=t,s.seriesIndex=i,s.ssrType="chart","group"===n.type&&n.traverse(function(a){var l=dr(a);l.seriesIndex=i,l.dataIndex=e,l.dataType=t,l.ssrType="chart"})}},jm=1,Zo={},Tf=Xe(),Mf=Xe(),$m=0,Fd=1,Lg=2,Ca=["emphasis","blur","select"],Xc=["normal","emphasis","blur","select"],Od=10,jl=9,Yc="highlight",cc="downplay",Ld="select",ku="unselect",Xh="toggleSelect";function Ng(i){return null!=i&&"none"!==i}function Bg(i,t,e){i.onHoverStateChange&&(i.hoverState||0)!==e&&i.onHoverStateChange(t),i.hoverState=e}function Rf(i){Bg(i,"emphasis",Lg)}function Db(i){i.hoverState===Lg&&Bg(i,"normal",$m)}function Km(i){Bg(i,"blur",Fd)}function Eb(i){i.hoverState===Fd&&Bg(i,"normal",$m)}function Vg(i){i.selected=!0}function Ab(i){i.selected=!1}function Up(i,t,e){t(i,e)}function Nd(i,t,e){Up(i,t,e),i.isGroup&&i.traverse(function(n){Up(n,t,e)})}function If(i,t){switch(t){case"emphasis":i.hoverState=Lg;break;case"normal":i.hoverState=$m;break;case"blur":i.hoverState=Fd;break;case"select":i.selected=!0}}function Hg(i,t){var e=this.states[i];if(this.style){if("emphasis"===i)return function Gg(i,t,e,n){var s=e&&Te(e,"select")>=0,a=!1;if(i instanceof $r){var l=Tf(i),d=s&&l.selectFill||l.normalFill,h=s&&l.selectStroke||l.normalStroke;if(Ng(d)||Ng(h)){var f=(n=n||{}).style||{};"inherit"===f.fill?(a=!0,n=Dt({},n),(f=Dt({},f)).fill=d):!Ng(f.fill)&&Ng(d)?(a=!0,n=Dt({},n),(f=Dt({},f)).fill=mn(d)):!Ng(f.stroke)&&Ng(h)&&(a||(n=Dt({},n),f=Dt({},f)),f.stroke=mn(h)),n.style=f}}return n&&null==n.z2&&(a||(n=Dt({},n)),n.z2=i.z2+(i.z2EmphasisLift??Od)),n}(this,0,t,e);if("blur"===i)return function Qm(i,t,e){var n=Te(i.currentStates,t)>=0,s=i.style.opacity,a=n?null:function Xm(i,t,e,n){for(var s=i.style,a={},l=0;l<t.length;l++){var d=t[l];a[d]=s[d]??(n&&n[d])}for(l=0;l<i.animators.length;l++){var f=i.animators[l];f.__fromStateTransition&&f.__fromStateTransition.indexOf(e)<0&&"style"===f.targetName&&f.saveTo(a,t)}return a}(i,["opacity"],t,{opacity:1}),l=(e=e||{}).style||{};return null==l.opacity&&(e=Dt({},e),l=Dt({opacity:n?s:.1*a.opacity},l),e.style=l),e}(this,i,e);if("select"===i)return function Ym(i,t,e){return e&&null==e.z2&&((e=Dt({},e)).z2=i.z2+(i.z2SelectLift??jl)),e}(this,0,e)}return e}function dc(i){i.stateProxy=Hg;var t=i.getTextContent(),e=i.getTextGuideLine();t&&(t.stateProxy=Hg),e&&(e.stateProxy=Hg)}function Tb(i,t){!zp(i,t)&&!i.__highByOuter&&Nd(i,Rf)}function Zm(i,t){!zp(i,t)&&!i.__highByOuter&&Nd(i,Db)}function ru(i,t){i.__highByOuter|=1<<(t||0),Nd(i,Rf)}function Qc(i,t){!(i.__highByOuter&=~(1<<(t||0)))&&Nd(i,Db)}function Ml(i){Nd(i,Km)}function Ug(i){Nd(i,Eb)}function Fu(i){Nd(i,Vg)}function Ou(i){Nd(i,Ab)}function zp(i,t){return i.__highDownSilentOnTouch&&t.zrByTouch}function gd(i){var t=i.getModel(),e=[],n=[];t.eachComponent(function(s,a){var l=Mf(a),d="series"===s,h=d?i.getViewOfSeriesModel(a):i.getViewOfComponentModel(a);!d&&n.push(h),l.isBlured&&(h.group.traverse(function(f){Eb(f)}),d&&e.push(a)),l.isBlured=!1}),te(n,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(e,!1,t)})}function zg(i,t,e,n){var s=n.getModel();function a(f,m){for(var _=0;_<m.length;_++){var C=f.getItemGraphicEl(m[_]);C&&Ug(C)}}if(e=e||"coordinateSystem",null!=i&&t&&"none"!==t){var l=s.getSeriesByIndex(i),d=l.coordinateSystem;d&&d.master&&(d=d.master);var h=[];s.eachSeries(function(f){var m=l===f,_=f.coordinateSystem;if(_&&_.master&&(_=_.master),!("series"===e&&!m||"coordinateSystem"===e&&!(_&&d?_===d:m)||"series"===t&&m)){if(n.getViewOfSeriesModel(f).group.traverse(function(I){I.__highByOuter&&m&&"self"===t||Km(I)}),Pe(t))a(f.getData(),t);else if(Zi(t))for(var D=Ri(t),T=0;T<D.length;T++)a(f.getData(D[T]),t[D[T]]);h.push(f),Mf(f).isBlured=!0}}),s.eachComponent(function(f,m){if("series"!==f){var _=n.getViewOfComponentModel(m);_&&_.toggleBlurSeries&&_.toggleBlurSeries(h,!0,s)}})}}function Pf(i,t,e){if(null!=i&&null!=t){var n=e.getModel().getComponent(i,t);if(n){Mf(n).isBlured=!0;var s=e.getViewOfComponentModel(n);!s||!s.focusBlurEnabled||s.group.traverse(function(a){Km(a)})}}}function Wg(i,t,e,n){var s={focusSelf:!1,dispatchers:null};if(null==i||"series"===i||null==t||null==e)return s;var a=n.getModel().getComponent(i,t);if(!a)return s;var l=n.getViewOfComponentModel(a);if(!l||!l.findHighDownDispatchers)return s;for(var h,d=l.findHighDownDispatchers(e),f=0;f<d.length;f++)if("self"===dr(d[f]).focus){h=!0;break}return{focusSelf:h,dispatchers:d}}function Mb(i){te(i.getAllData(),function(e){var s=e.type;e.data.eachItemGraphicEl(function(a,l){i.isSelected(l,s)?Fu(a):Ou(a)})})}function T0(i){var t=[];return i.eachSeries(function(e){te(e.getAllData(),function(s){var l=s.type,d=e.getSelectedDataIndices();if(d.length>0){var h={dataIndex:d,seriesIndex:e.seriesIndex};null!=l&&(h.dataType=l),t.push(h)}})}),t}function ou(i,t,e){gh(i,!0),Nd(i,dc),uc(i,t,e)}function ea(i,t,e,n){n?function My(i){gh(i,!1)}(i):ou(i,t,e)}function uc(i,t,e){var n=dr(i);null!=t?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var $g=["emphasis","blur","select"],M0={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function el(i,t,e,n){e=e||"itemStyle";for(var s=0;s<$g.length;s++){var a=$g[s],l=t.getModel([a,e]);i.ensureState(a).style=n?n(l):l[M0[e]]()}}function gh(i,t){var e=!1===t,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function kf(i){return!(!i||!i.__highDownDispatcher)}function Ff(i){var t=i.type;return t===Ld||t===ku||t===Xh}function su(i){var t=i.type;return t===Yc||t===cc}var Pb=Xe();function Nu(i,t,e,n,s){var a;if(t&&t.ecModel){var l=t.ecModel.getUpdatePayload();a=l&&l.animation}var h="update"===i;if(t&&t.isAnimationEnabled()){var f=void 0,m=void 0,_=void 0;return n?(f=en(n.duration,200),m=en(n.easing,"cubicOut"),_=0):(f=t.getShallow(h?"animationDurationUpdate":"animationDuration"),m=t.getShallow(h?"animationEasingUpdate":"animationEasing"),_=t.getShallow(h?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(f=a.duration),null!=a.easing&&(m=a.easing),null!=a.delay&&(_=a.delay)),Nt(_)&&(_=_(e,s)),Nt(f)&&(f=f(e)),{duration:f||0,delay:_,easing:m}}return null}function R0(i,t,e,n,s,a,l){var h,d=!1;Nt(s)?(l=a,a=s,s=null):Zi(s)&&(a=s.cb,l=s.during,d=s.isFrom,h=s.removeOpt,s=s.dataIndex);var f="leave"===i;f||t.stopAnimation("leave");var m=Nu(i,n,s,f?h||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,s):null);if(m&&m.duration>0){var D={duration:m.duration,delay:m.delay||0,easing:m.easing,done:a,force:!!a||!!l,setToFinal:!f,scope:i,during:l};d?t.animateFrom(e,D):t.animateTo(e,D)}else t.stopAnimation(),!d&&t.attr(e),l&&l(1),a&&a()}function wo(i,t,e,n,s,a){R0("update",i,t,e,n,s,a)}function as(i,t,e,n,s,a){R0("enter",i,t,e,n,s,a)}function Ua(i){if(!i.__zr)return!0;for(var t=0;t<i.animators.length;t++)if("leave"===i.animators[t].scope)return!0;return!1}function Zc(i,t,e,n,s,a){Ua(i)||R0("leave",i,t,e,n,s,a)}function Wp(i,t,e,n){i.removeTextContent(),i.removeTextGuideLine(),Zc(i,{style:{opacity:0}},t,e,n)}function Kg(i,t,e){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(s){s.isGroup||Wp(s,t,e,n)}):Wp(i,t,e,n)}function Bd(i){Pb(i).oldStyle=i.style}var qm={};function kb(i,t){for(var e=0;e<Ca.length;e++){var n=Ca[e],s=t[n],a=i.ensureState(n);a.style=a.style||{},a.style.text=s}var l=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:t.normal}),i.useStates(l,!0)}function Jm(i,t,e){var d,n=i.labelFetcher,s=i.labelDataIndex,a=i.labelDimIndex,l=t.normal;n&&(d=n.getFormattedLabel(s,"normal",null,a,l&&l.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==d&&(d=Nt(i.defaultText)?i.defaultText(s,i,e):i.defaultText);for(var h={normal:d},f=0;f<Ca.length;f++){var m=Ca[f],_=t[m];h[m]=en(n?n.getFormattedLabel(s,m,null,a,_&&_.get("formatter")):null,d)}return h}function Rl(i,t,e,n){e=e||qm;for(var s=i instanceof lo,a=!1,l=0;l<Xc.length;l++)if((d=t[Xc[l]])&&d.getShallow("show")){a=!0;break}var h=s?i:i.getTextContent();if(a){s||(h||(h=new lo,i.setTextContent(h)),i.stateProxy&&(h.stateProxy=i.stateProxy));var f=Jm(e,t),m=t.normal,_=!!m.getShallow("show"),C=Ms(m,n&&n.normal,e,!1,!s);for(C.text=f.normal,s||i.setTextConfig(jp(m,e,!1)),l=0;l<Ca.length;l++){var d,w=Ca[l];if(d=t[w]){var D=h.ensureState(w),T=!!en(d.getShallow("show"),_);T!==_&&(D.ignore=!T),D.style=Ms(d,n&&n[w],e,!0,!s),D.style.text=f[w],s||(i.ensureState(w).textConfig=jp(d,e,!0))}}h.silent=!!m.getShallow("silent"),null!=h.style.x&&(C.x=h.style.x),null!=h.style.y&&(C.y=h.style.y),h.ignore=!_,h.useStyle(C),h.dirty(),e.enableTextSetter&&(o(h).setLabelText=function(F){var V=Jm(e,t,F);kb(h,V)})}else h&&(h.ignore=!0);i.dirty()}function za(i,t){for(var e={normal:i.getModel(t=t||"label")},n=0;n<Ca.length;n++){var s=Ca[n];e[s]=i.getModel([s,t])}return e}function Ms(i,t,e,n,s){var a={};return function Ry(i,t,e,n,s){e=e||qm;var h,a=t.ecModel,l=a&&a.option.textStyle,d=function Fb(i){for(var t;i&&i!==i.ecModel;){var e=(i.option||qm).rich;if(e){t=t||{};for(var n=Ri(e),s=0;s<n.length;s++)t[n[s]]=1}i=i.parentModel}return t}(t);if(d)for(var f in h={},d)if(d.hasOwnProperty(f)){var m=t.getModel(["rich",f]);Fy(h[f]={},m,l,e,n,s,!1,!0)}h&&(i.rich=h);var _=t.get("overflow");_&&(i.overflow=_);var C=t.get("minMargin");null!=C&&(i.margin=C),Fy(i,t,l,e,n,s,!0,!1)}(a,i,e,n,s),t&&Dt(a,t),a}function jp(i,t,e){t=t||{};var s,n={},a=i.getShallow("rotate"),l=en(i.getShallow("distance"),e?null:5),d=i.getShallow("offset");return"outside"===(s=i.getShallow("position")||(e?null:"inside"))&&(s=t.defaultOutsidePosition||"top"),null!=s&&(n.position=s),null!=d&&(n.offset=d),null!=a&&(a*=Math.PI/180,n.rotation=a),null!=l&&(n.distance=l),n.outsideFill="inherit"===i.get("color")?t.inheritColor||null:"auto",n}var Iy=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Py=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],ky=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Fy(i,t,e,n,s,a,l,d){e=!s&&e||qm;var h=n&&n.inheritColor,f=t.getShallow("color"),m=t.getShallow("textBorderColor"),_=en(t.getShallow("opacity"),e.opacity);("inherit"===f||"auto"===f)&&(f=h||null),("inherit"===m||"auto"===m)&&(m=h||null),a||(f=f||e.color,m=m||e.textBorderColor),null!=f&&(i.fill=f),null!=m&&(i.stroke=m);var C=en(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=C&&(i.lineWidth=C);var w=en(t.getShallow("textBorderType"),e.textBorderType);null!=w&&(i.lineDash=w);var D=en(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=D&&(i.lineDashOffset=D),!s&&null==_&&!d&&(_=n&&n.defaultOpacity),null!=_&&(i.opacity=_),!s&&!a&&null==i.fill&&n.inheritColor&&(i.fill=n.inheritColor);for(var T=0;T<Iy.length;T++)null!=(F=en(t.getShallow(I=Iy[T]),e[I]))&&(i[I]=F);for(T=0;T<Py.length;T++)null!=(F=t.getShallow(I=Py[T]))&&(i[I]=F);if(null==i.verticalAlign){var V=t.getShallow("baseline");null!=V&&(i.verticalAlign=V)}if(!l||!n.disableBox){for(T=0;T<ky.length;T++){var I,F;null!=(F=t.getShallow(I=ky[T]))&&(i[I]=F)}var H=t.getShallow("borderType");null!=H&&(i.borderDash=H),("auto"===i.backgroundColor||"inherit"===i.backgroundColor)&&h&&(i.backgroundColor=h),("auto"===i.borderColor||"inherit"===i.borderColor)&&h&&(i.borderColor=h)}}function r(i,t){var e=t&&t.getModel("textStyle");return uo([i.fontStyle||e&&e.getShallow("fontStyle")||"",i.fontWeight||e&&e.getShallow("fontWeight")||"",(i.fontSize||e&&e.getShallow("fontSize")||12)+"px",i.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var o=Xe();function c(i,t,e,n){if(i){var s=o(i);s.prevValue=s.value,s.value=e;var a=t.normal;s.valueAnimation=a.get("valueAnimation"),s.valueAnimation&&(s.precision=a.get("precision"),s.defaultInterpolatedText=n,s.statesModels=t)}}function p(i,t,e,n,s){var a=o(i);if(a.valueAnimation&&a.prevValue!==a.value){var l=a.defaultInterpolatedText,d=en(a.interpolatedValue,a.prevValue),h=a.value;i.percent=0,(null==a.prevValue?as:wo)(i,{percent:1},n,t,null,function f(m){var _=or(e,a.precision,d,h,m);a.interpolatedValue=1===m?null:_;var C=Jm({labelDataIndex:t,labelFetcher:s,defaultText:l?l(_):_+""},a.statesModels,_);kb(i,C)})}}var y=["textStyle","color"],S=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],R=new lo,L=function(){function i(){}return i.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(y):null)},i.prototype.getFont=function(){return r({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<S.length;n++)e[S[n]]=this.getShallow(S[n]);return R.useStyle(e),R.update(),R.getBoundingRect()},i}();const Q=L;var be=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Ie=ba(be),Je=function(){function i(){}return i.prototype.getLineStyle=function(t){return Ie(this,t)},i}(),Bt=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Ei=ba(Bt),Li=function(){function i(){}return i.prototype.getItemStyle=function(t,e){return Ei(this,t,e)},i}(),Wi=function(){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return i.prototype.init=function(t,e,n){for(var s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a]},i.prototype.mergeOption=function(t,e){Pt(this.option,t,!0)},i.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},i.prototype.getShallow=function(t,e){var n=this.option,s=null==n?n:n[t];if(null==s&&!e){var a=this.parentModel;a&&(s=a.getShallow(t))}return s},i.prototype.getModel=function(t,e){var n=null!=t,s=n?this.parsePath(t):null;return new i(n?this._doGet(s):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),this.ecModel)},i.prototype.isEmpty=function(){return null==this.option},i.prototype.restoreData=function(){},i.prototype.clone=function(){return new(0,this.constructor)(xe(this.option))},i.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},i.prototype.resolveParentPath=function(t){return t},i.prototype.isAnimationEnabled=function(){if(!Tt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var s=0;s<t.length&&(!t[s]||null!=(n=n&&"object"==typeof n?n[t[s]]:null));s++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},i}();aa(Wi),function ah(i){var t=["__\0is_clz",bu++].join("_");i.prototype[t]=!0,i.isInstance=function(e){return!(!e||!e[t])}}(Wi),Gt(Wi,Je),Gt(Wi,Li),Gt(Wi,Cu),Gt(Wi,Q);const Vi=Wi;var wn=Math.round(10*Math.random());function cn(i){return[i||"",wn++].join("_")}function Gn(i,t){return Pt(Pt({},i,!0),t,!0)}var Il="EN",$l={},mh={},Vd=Tt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||Il).toUpperCase().indexOf("ZH")>-1?"ZH":Il;function ev(i,t){i=i.toUpperCase(),mh[i]=new Vi(t),$l[i]=t}function Lb(i){return mh[i]}ev("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),ev("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var Yh=36e5,Bu=24*Yh,dD=365*Bu,tv={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Oy="{yyyy}-{MM}-{dd}",Nb={year:"{yyyy}",month:"{yyyy}-{MM}",day:Oy,hour:Oy+" "+tv.hour,minute:Oy+" "+tv.minute,second:Oy+" "+tv.second,millisecond:tv.none},Xg=["year","month","day","hour","minute","second","millisecond"],Ly=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function qc(i,t){return"0000".substr(0,t-(i+="").length)+i}function Yg(i){switch(i){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return i}}function gM(i){return i===Yg(i)}function Ny(i,t,e,n){var s=rc(i),a=s[k0(e)](),l=s[By(e)]()+1,d=Math.floor((l-1)/3)+1,h=s[F0(e)](),f=s["get"+(e?"UTC":"")+"Day"](),m=s[iv(e)](),_=(m-1)%12+1,C=s[Vy(e)](),w=s[O0(e)](),D=s[Qg(e)](),T=m>=12?"pm":"am",I=T.toUpperCase(),V=(n instanceof Vi?n:Lb(n||Vd)||function cD(){return mh[Il]}()).getModel("time"),H=V.get("month"),re=V.get("monthAbbr"),fe=V.get("dayOfWeek"),de=V.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,T+"").replace(/{A}/g,I+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,qc(a%100+"",2)).replace(/{Q}/g,d+"").replace(/{MMMM}/g,H[l-1]).replace(/{MMM}/g,re[l-1]).replace(/{MM}/g,qc(l,2)).replace(/{M}/g,l+"").replace(/{dd}/g,qc(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,fe[f]).replace(/{ee}/g,de[f]).replace(/{e}/g,f+"").replace(/{HH}/g,qc(m,2)).replace(/{H}/g,m+"").replace(/{hh}/g,qc(_+"",2)).replace(/{h}/g,_+"").replace(/{mm}/g,qc(C,2)).replace(/{m}/g,C+"").replace(/{ss}/g,qc(w,2)).replace(/{s}/g,w+"").replace(/{SSS}/g,qc(D,3)).replace(/{S}/g,D+"")}function P0(i,t){var e=rc(i),n=e[By(t)]()+1,s=e[F0(t)](),a=e[iv(t)](),l=e[Vy(t)](),d=e[O0(t)](),f=0===e[Qg(t)](),m=f&&0===d,_=m&&0===l,C=_&&0===a,w=C&&1===s;return w&&1===n?"year":w?"month":C?"day":_?"hour":m?"minute":f?"second":"millisecond"}function yM(i,t,e){var n=Di(i)?rc(i):i;switch(t=t||P0(i,e)){case"year":return n[k0(e)]();case"half-year":return n[By(e)]()>=6?1:0;case"quarter":return Math.floor((n[By(e)]()+1)/4);case"month":return n[By(e)]();case"day":return n[F0(e)]();case"half-day":return n[iv(e)]()/24;case"hour":return n[iv(e)]();case"minute":return n[Vy(e)]();case"second":return n[O0(e)]();case"millisecond":return n[Qg(e)]()}}function k0(i){return i?"getUTCFullYear":"getFullYear"}function By(i){return i?"getUTCMonth":"getMonth"}function F0(i){return i?"getUTCDate":"getDate"}function iv(i){return i?"getUTCHours":"getHours"}function Vy(i){return i?"getUTCMinutes":"getMinutes"}function O0(i){return i?"getUTCSeconds":"getSeconds"}function Qg(i){return i?"getUTCMilliseconds":"getMilliseconds"}function uD(i){return i?"setUTCFullYear":"setFullYear"}function L0(i){return i?"setUTCMonth":"setMonth"}function hD(i){return i?"setUTCDate":"setDate"}function N0(i){return i?"setUTCHours":"setHours"}function B0(i){return i?"setUTCMinutes":"setMinutes"}function co(i){return i?"setUTCSeconds":"setSeconds"}function V0(i){return i?"setUTCMilliseconds":"setMilliseconds"}function Bb(i){if(!yu(i))return Ii(i)?i:"-";var t=(i+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Lf(i,t){return i=(i||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var Nf=Fn;function G0(i,t,e){function s(m){return m&&uo(m)?m:"-"}function a(m){return!(null==m||isNaN(m)||!isFinite(m))}var l="time"===t,d=i instanceof Date;if(l||d){var h=l?rc(i):i;if(!isNaN(+h))return Ny(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(d)return"-"}if("ordinal"===t)return On(i)?s(i):Di(i)&&a(i)?i+"":"-";var f=oc(i);return a(f)?Bb(f):On(i)?s(i):"boolean"==typeof i?i+"":"-"}var Gy=["a","b","c","d","e","f","g"],Bf=function(i,t){return"{"+i+(t??"")+"}"};function Hy(i,t,e){Me(t)||(t=[t]);var n=t.length;if(!n)return"";for(var s=t[0].$vars||[],a=0;a<s.length;a++){var l=Gy[a];i=i.replace(Bf(l),Bf(l,0))}for(var d=0;d<n;d++)for(var h=0;h<s.length;h++){var f=t[d][s[h]];i=i.replace(Bf(Gy[h],d),e?so(f):f)}return i}function H0(i,t){var e=Ii(i)?{color:i,extraCssText:t}:i||{},n=e.color,s=e.type;t=e.extraCssText;var a=e.renderMode||"html";return n?"html"===a?"subItem"===s?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+so(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+so(n)+";"+(t||"")+'"></span>':{renderMode:a,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===s?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}function U0(i,t,e){("week"===i||"month"===i||"quarter"===i||"half-year"===i||"year"===i)&&(i="MM-dd\nyyyy");var n=rc(t),s=e?"getUTC":"get",a=n[s+"FullYear"](),l=n[s+"Month"]()+1,d=n[s+"Date"](),h=n[s+"Hours"](),f=n[s+"Minutes"](),m=n[s+"Seconds"](),_=n[s+"Milliseconds"]();return i.replace("MM",qc(l,2)).replace("M",l).replace("yyyy",a).replace("yy",qc(a%100+"",2)).replace("dd",qc(d,2)).replace("d",d).replace("hh",qc(h,2)).replace("h",h).replace("mm",qc(f,2)).replace("m",f).replace("ss",qc(m,2)).replace("s",m).replace("SSS",qc(_,3))}function z0(i){return i&&i.charAt(0).toUpperCase()+i.substr(1)}function $p(i,t){return t=t||"transparent",Ii(i)?i:Zi(i)&&i.colorStops&&(i.colorStops[0]||{}).color||t}function zy(i,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=i}else window.open(i,t)}var nv=te,pD=["left","right","top","bottom","width","height"],Zg=[["width","left","right"],["height","top","bottom"]];function W0(i,t,e,n,s){var a=0,l=0;null==n&&(n=1/0),null==s&&(s=1/0);var d=0;t.eachChild(function(h,f){var w,D,m=h.getBoundingRect(),_=t.childAt(f+1),C=_&&_.getBoundingRect();if("horizontal"===i){var T=m.width+(C?-C.x+m.x:0);(w=a+T)>n||h.newline?(a=0,w=T,l+=d+e,d=m.height):d=Math.max(d,m.height)}else{var I=m.height+(C?-C.y+m.y:0);(D=l+I)>s||h.newline?(a+=d+e,l=0,D=I,d=m.width):d=Math.max(d,m.width)}h.newline||(h.x=a,h.y=l,h.markRedraw(),"horizontal"===i?a=w+e:l=D+e)})}var Vf=W0;function pl(i,t,e){e=Nf(e||0);var n=t.width,s=t.height,a=kn(i.left,n),l=kn(i.top,s),d=kn(i.right,n),h=kn(i.bottom,s),f=kn(i.width,n),m=kn(i.height,s),_=e[2]+e[0],C=e[1]+e[3],w=i.aspect;switch(isNaN(f)&&(f=n-d-C-a),isNaN(m)&&(m=s-h-_-l),null!=w&&(isNaN(f)&&isNaN(m)&&(w>n/s?f=.8*n:m=.8*s),isNaN(f)&&(f=w*m),isNaN(m)&&(m=f/w)),isNaN(a)&&(a=n-d-f-C),isNaN(l)&&(l=s-h-m-_),i.left||i.right){case"center":a=n/2-f/2-e[3];break;case"right":a=n-f-C}switch(i.top||i.bottom){case"middle":case"center":l=s/2-m/2-e[0];break;case"bottom":l=s-m-_}a=a||0,l=l||0,isNaN(f)&&(f=n-C-a-(d||0)),isNaN(m)&&(m=s-_-l-(h||0));var D=new Qn(a+e[3],l+e[0],f,m);return D.margin=e,D}function Wy(i,t,e,n,s,a){var f,l=!s||!s.hv||s.hv[0],d=!s||!s.hv||s.hv[1],h=s&&s.boundingMode||"all";if((a=a||i).x=i.x,a.y=i.y,!l&&!d)return!1;if("raw"===h)f="group"===i.type?new Qn(0,0,+t.width||0,+t.height||0):i.getBoundingRect();else if(f=i.getBoundingRect(),i.needLocalTransform()){var m=i.getLocalTransform();(f=f.clone()).applyTransform(m)}var _=pl(je({width:f.width,height:f.height},t),e,n),C=l?_.x-f.x:0,w=d?_.y-f.y:0;return"raw"===h?(a.x=C,a.y=w):(a.x+=C,a.y+=w),a===i&&i.markRedraw(),!0}function jy(i){var t=i.layoutMode||i.constructor.layoutMode;return Zi(t)?t:t?{type:t}:null}function Gf(i,t,e){var n=e&&e.ignoreSize;!Me(n)&&(n=[n,n]);var s=l(Zg[0],0),a=l(Zg[1],1);function l(m,_){var C={},w=0,D={},T=0;if(nv(m,function(H){D[H]=i[H]}),nv(m,function(H){d(t,H)&&(C[H]=D[H]=t[H]),h(C,H)&&w++,h(D,H)&&T++}),n[_])return h(t,m[1])?D[m[2]]=null:h(t,m[2])&&(D[m[1]]=null),D;if(2===T||!w)return D;if(w>=2)return C;for(var F=0;F<m.length;F++){var V=m[F];if(!d(C,V)&&d(i,V)){C[V]=i[V];break}}return C}function d(m,_){return m.hasOwnProperty(_)}function h(m,_){return null!=m[_]&&"auto"!==m[_]}function f(m,_,C){nv(m,function(w){_[w]=C[w]})}f(Zg[0],i,s),f(Zg[1],i,a)}function hc(i){return gD({},i)}function gD(i,t){return t&&i&&nv(pD,function(e){t.hasOwnProperty(e)&&(i[e]=t[e])}),i}Se(W0,"vertical"),Se(W0,"horizontal");var bM=Xe(),$y=function(i){function t(e,n,s){var a=i.call(this,e,n,s)||this;return a.uid=cn("ec_cpt_model"),a}return P(t,i),t.prototype.init=function(e,n,s){this.mergeDefaultAndTheme(e,s)},t.prototype.mergeDefaultAndTheme=function(e,n){var s=jy(this),a=s?hc(e):{};Pt(e,n.getTheme().get(this.mainType)),Pt(e,this.getDefaultOption()),s&&Gf(e,a,s)},t.prototype.mergeOption=function(e,n){Pt(this.option,e,!0);var s=jy(this);s&&Gf(this.option,e,s)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function ss(i){return!(!i||!i[As])}(e))return e.defaultOption;var n=bM(this);if(!n.defaultOption){for(var s=[],a=e;a;){var l=a.prototype.defaultOption;l&&s.push(l),a=a.superClass}for(var d={},h=s.length-1;h>=0;h--)d=Pt(d,s[h],!0);n.defaultOption=d}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var a=e+"Id";return vn(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Vi);Al($y,Vi),zc($y),function xn(i){var t={};i.registerSubTypeDefaulter=function(e,n){var s=Ko(e);t[s.main]=n},i.determineSubType=function(e,n){var s=n.type;if(!s){var a=Ko(e).main;i.hasSubTypes(e)&&t[a]&&(s=t[a](n))}return s}}($y),function Nn(i,t){function n(a,l){return a[l]||(a[l]={predecessor:[],successor:[]}),a[l]}i.topologicalTravel=function(a,l,d,h){if(a.length){var f=function e(a){var l={},d=[];return te(a,function(h){var f=n(l,h),_=function s(a,l){var d=[];return te(a,function(h){Te(l,h)>=0&&d.push(h)}),d}(f.originalDeps=t(h),a);f.entryCount=_.length,0===f.entryCount&&d.push(h),te(_,function(C){Te(f.predecessor,C)<0&&f.predecessor.push(C);var w=n(l,C);Te(w.successor,C)<0&&w.successor.push(h)})}),{graph:l,noEntryList:d}}(l),m=f.graph,_=f.noEntryList,C={};for(te(a,function(V){C[V]=!0});_.length;){var w=_.pop(),D=m[w],T=!!C[w];T&&(d.call(h,w,D.originalDeps.slice()),delete C[w]),te(D.successor,T?F:I)}te(C,function(){throw new Error("")})}function I(V){m[V].entryCount--,0===m[V].entryCount&&_.push(V)}function F(V){C[V]=!0,I(V)}}}($y,function j0(i){var t=[];return te($y.getClassesByMainType(i),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=ge(t,function(e){return Ko(e).main}),"dataset"!==i&&Te(t,"dataset")<=0&&t.unshift("dataset"),t});const go=$y;var mD="";typeof navigator<"u"&&(mD=navigator.platform||"");var rv="rgba(0, 0, 0, 0.2)";const CM={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:rv,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:rv,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:rv,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:rv,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:rv,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:rv,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mD.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var $0=Rn(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Vu="original",Jc="arrayRows",Gd="objectRows",Qh="keyedColumns",Kp="typedArray",vD="unknown",Zh="column",ov="row",ca={Must:1,Might:2,Not:3},Vb=Xe();function K0(i,t,e){var n={},s=Gb(t);if(!s||!i)return n;var m,_,a=[],l=[],h=Vb(t.ecModel).datasetMap,f=s.uid+"_"+e.seriesLayoutBy;te(i=i.slice(),function(T,I){var F=Zi(T)?T:i[I]={name:T};"ordinal"===F.type&&null==m&&(m=I,_=D(F)),n[F.name]=[]});var C=h.get(f)||h.set(f,{categoryWayDim:_,valueWayDim:0});function w(T,I,F){for(var V=0;V<F;V++)T.push(I+V)}function D(T){var I=T.dimsDef;return I?I.length:1}return te(i,function(T,I){var F=T.name,V=D(T);if(null==m)w(n[F],H=C.valueWayDim,V),w(l,H,V),C.valueWayDim+=V;else if(m===I)w(n[F],0,V),w(a,0,V);else{var H;w(n[F],H=C.categoryWayDim,V),w(l,H,V),C.categoryWayDim+=V}}),a.length&&(n.itemName=a),l.length&&(n.seriesName=l),n}function X0(i,t,e){var n={};if(!Gb(i))return n;var d,a=t.sourceFormat,l=t.dimensionsDefine;(a===Gd||a===Qh)&&te(l,function(m,_){"name"===(Zi(m)?m.name:m)&&(d=_)});var h=function(){for(var m={},_={},C=[],w=0,D=Math.min(5,e);w<D;w++){var T=Hb(t.data,a,t.seriesLayoutBy,l,t.startIndex,w);C.push(T);var I=T===ca.Not;if(I&&null==m.v&&w!==d&&(m.v=w),(null==m.n||m.n===m.v||!I&&C[m.n]===ca.Not)&&(m.n=w),F(m)&&C[m.n]!==ca.Not)return m;I||(T===ca.Might&&null==_.v&&w!==d&&(_.v=w),(null==_.n||_.n===_.v)&&(_.n=w))}function F(V){return null!=V.v&&null!=V.n}return F(m)?m:F(_)?_:null}();if(h){n.value=[h.v];var f=d??h.n;n.itemName=[f],n.seriesName=[f]}return n}function Gb(i){if(!i.get("data",!0))return vn(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},mi).models[0]}function Ky(i,t){return Hb(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,t)}function Hb(i,t,e,n,s,a){var l,h,f;if(ai(i))return ca.Not;if(n){var m=n[a];Zi(m)?(h=m.name,f=m.type):Ii(m)&&(h=m)}if(null!=f)return"ordinal"===f?ca.Must:ca.Not;if(t===Jc){var _=i;if(e===ov){for(var C=_[a],w=0;w<(C||[]).length&&w<5;w++)if(null!=(l=re(C[s+w])))return l}else for(w=0;w<_.length&&w<5;w++){var D=_[s+w];if(D&&null!=(l=re(D[a])))return l}}else if(t===Gd){var T=i;if(!h)return ca.Not;for(w=0;w<T.length&&w<5;w++)if((I=T[w])&&null!=(l=re(I[h])))return l}else if(t===Qh){if(!h)return ca.Not;if(!(C=i[h])||ai(C))return ca.Not;for(w=0;w<C.length&&w<5;w++)if(null!=(l=re(C[w])))return l}else if(t===Vu){var V=i;for(w=0;w<V.length&&w<5;w++){var I,H=Lh(I=V[w]);if(!Me(H))return ca.Not;if(null!=(l=re(H[a])))return l}}function re(fe){var de=Ii(fe);return null!=fe&&Number.isFinite(Number(fe))&&""!==fe?de?ca.Might:ca.Not:de&&"-"!==fe?ca.Must:void 0}return ca.Not}var _D=Rn(),Y0=Xe(),wD=Xe(),Xy=function(){function i(){}return i.prototype.getColorFromPalette=function(t,e,n){var s=Fr(this.get("color",!0)),a=this.get("colorLayer",!0);return xD(this,Y0,s,a,t,e,n)},i.prototype.clearColorPalette=function(){!function Q0(i,t){t(i).paletteIdx=0,t(i).paletteNameMap={}}(this,Y0)},i}();function yh(i,t,e,n){var s=Fr(i.get(["aria","decal","decals"]));return xD(i,wD,s,null,t,e,n)}function xD(i,t,e,n,s,a,l){var d=t(a=a||i),h=d.paletteIdx||0,f=d.paletteNameMap=d.paletteNameMap||{};if(f.hasOwnProperty(s))return f[s];var m=null!=l&&n?function xM(i,t){for(var e=i.length,n=0;n<e;n++)if(i[n].length>t)return i[n];return i[e-1]}(n,l):e;if((m=m||e)&&m.length){var _=m[h];return s&&(f[s]=_),d.paletteIdx=(h+1)%m.length,_}}var Ub,sv,SD,Yy="\0_ec_inner",q0=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.init=function(e,n,s,a,l,d){a=a||{},this.option=null,this._theme=new Vi(a),this._locale=new Vi(l),this._optionManager=d},t.prototype.setOption=function(e,n,s){var a=ew(n);this._optionManager.setOption(e,s,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,ew(n))},t.prototype._resetOption=function(e,n){var s=!1,a=this._optionManager;if(!e||"recreate"===e){var l=a.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(l,n)):SD(this,l),s=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var d=a.getTimelineOption(this);d&&(s=!0,this._mergeOption(d,n))}if(!e||"recreate"===e||"media"===e){var h=a.getMediaOption(this);h.length&&te(h,function(f){s=!0,this._mergeOption(f,n)},this)}return s},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var s=this.option,a=this._componentsMap,l=this._componentsCount,d=[],h=Rn(),f=n&&n.replaceMergeMainTypeMap;(function wM(i){Vb(i).datasetMap=Rn()})(this),te(e,function(_,C){null!=_&&(go.hasClass(C)?C&&(d.push(C),h.set(C,!0)):s[C]=null==s[C]?xe(_):Pt(s[C],_,!0))}),f&&f.each(function(_,C){go.hasClass(C)&&!h.get(C)&&(d.push(C),h.set(C,!0))}),go.topologicalTravel(d,go.getAllClassMainTypes(),function m(_){var C=function CD(i,t,e){var n=_D.get(t);if(!n)return e;var s=n(i);return s?e.concat(s):e}(this,_,Fr(e[_])),w=a.get(_),T=bg(w,C,w?f&&f.get(_)?"replaceMerge":"normalMerge":"replaceAll");(function Y(i,t,e){te(i,function(n){var s=n.newOption;Zi(s)&&(n.keyInfo.mainType=t,n.keyInfo.subType=function _e(i,t,e,n){return t.type?t.type:e?e.subType:n.determineSubType(i,t)}(t,s,n.existing,e))})})(T,_,go),s[_]=null,a.set(_,null),l.set(_,0);var H,I=[],F=[],V=0;te(T,function(fe,de){var Ee=fe.existing,Ue=fe.newOption;if(Ue){var nt=go.getClass(_,fe.keyInfo.subType,!("series"===_));if(!nt)return;if("tooltip"===_){if(H)return;H=!0}if(Ee&&Ee.constructor===nt)Ee.name=fe.keyInfo.name,Ee.mergeOption(Ue,this),Ee.optionUpdated(Ue,!1);else{var $t=Dt({componentIndex:de},fe.keyInfo);Dt(Ee=new nt(Ue,this,this,$t),$t),fe.brandNew&&(Ee.__requireNewView=!0),Ee.init(Ue,this,this),Ee.optionUpdated(null,!0)}}else Ee&&(Ee.mergeOption({},this),Ee.optionUpdated({},!1));Ee?(I.push(Ee.option),F.push(Ee),V++):(I.push(void 0),F.push(void 0))},this),s[_]=I,a.set(_,F),l.set(_,V),"series"===_&&Ub(this)},this),this._seriesIndices||Ub(this)},t.prototype.getOption=function(){var e=xe(this.option);return te(e,function(n,s){if(go.hasClass(s)){for(var a=Fr(n),l=a.length,d=!1,h=l-1;h>=0;h--)a[h]&&!M(a[h])?d=!0:(a[h]=null,!d&&l--);a.length=l,e[s]=a}}),delete e[Yy],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var s=this._componentsMap.get(e);if(s){var a=s[n||0];if(a)return a;if(null==n)for(var l=0;l<s.length;l++)if(s[l])return s[l]}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var h,s=e.index,a=e.id,l=e.name,d=this._componentsMap.get(n);return d&&d.length?(null!=s?(h=[],te(Fr(s),function(f){d[f]&&h.push(d[f])})):h=null!=a?AD("id",a,d):null!=l?AD("name",l,d):Ve(d,function(f){return!!f}),J0(h,e)):[]},t.prototype.findComponents=function(e){var s=e.mainType,a=function d(f){var m=s+"Index",_=s+"Id",C=s+"Name";return!f||null==f[m]&&null==f[_]&&null==f[C]?null:{mainType:s,index:f[m],id:f[_],name:f[C]}}(e.query);return function h(f){return e.filter?Ve(f,e.filter):f}(J0(a?this.queryComponents(a):Ve(this._componentsMap.get(s),function(f){return!!f}),e))},t.prototype.eachComponent=function(e,n,s){var a=this._componentsMap;if(Nt(e)){var l=n,d=e;a.each(function(_,C){for(var w=0;_&&w<_.length;w++){var D=_[w];D&&d.call(l,C,D,D.componentIndex)}})}else for(var h=Ii(e)?a.get(e):Zi(e)?this.findComponents(e):null,f=0;h&&f<h.length;f++){var m=h[f];m&&n.call(s,m,m.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=Ns(e,null);return Ve(this._componentsMap.get("series"),function(s){return!!s&&null!=n&&s.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Ve(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Ve(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){sv(this),te(this._seriesIndices,function(s){var a=this._componentsMap.get("series")[s];e.call(n,a,s)},this)},t.prototype.eachRawSeries=function(e,n){te(this._componentsMap.get("series"),function(s){s&&e.call(n,s,s.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,s){sv(this),te(this._seriesIndices,function(a){var l=this._componentsMap.get("series")[a];l.subType===e&&n.call(s,l,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,s){return te(this.getSeriesByType(e),n,s)},t.prototype.isSeriesFiltered=function(e){return sv(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){sv(this);var s=[];te(this._seriesIndices,function(a){var l=this._componentsMap.get("series")[a];e.call(n,l,a)&&s.push(a)},this),this._seriesIndices=s,this._seriesIndicesMap=Rn(s)},t.prototype.restoreData=function(e){Ub(this);var n=this._componentsMap,s=[];n.each(function(a,l){go.hasClass(l)&&s.push(l)}),go.topologicalTravel(s,go.getAllClassMainTypes(),function(a){te(n.get(a),function(l){l&&("series"!==a||!function ED(i,t){if(t){var e=t.seriesIndex,n=t.seriesId,s=t.seriesName;return null!=e&&i.componentIndex!==e||null!=n&&i.id!==n||null!=s&&i.name!==s}}(l,e))&&l.restoreData()})})},t.internalField=(Ub=function(e){var n=e._seriesIndices=[];te(e._componentsMap.get("series"),function(s){s&&n.push(s.componentIndex)}),e._seriesIndicesMap=Rn(n)},sv=function(e){},void(SD=function(e,n){e.option={},e.option[Yy]=1,e._componentsMap=Rn({series:[]}),e._componentsCount=Rn();var s=n.aria;Zi(s)&&null==s.enabled&&(s.enabled=!0),function DM(i,t){var e=i.color&&!i.colorLayer;te(t,function(n,s){"colorLayer"===s&&e||go.hasClass(s)||("object"==typeof n?i[s]=i[s]?Pt(i[s],n,!1):xe(n):null==i[s]&&(i[s]=n))})}(n,e._theme.option),Pt(n,CM,!1),e._mergeOption(n,null)})),t}(Vi);function AD(i,t,e){if(Me(t)){var n=Rn();return te(t,function(a){null!=a&&null!=Ns(a,null)&&n.set(a,!0)}),Ve(e,function(a){return a&&n.get(a[i])})}var s=Ns(t,null);return Ve(e,function(a){return a&&null!=s&&a[i]===s})}function J0(i,t){return t.hasOwnProperty("subType")?Ve(i,function(e){return e&&e.subType===t.subType}):i}function ew(i){var t=Rn();return i&&te(Fr(i.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Gt(q0,Xy);const av=q0;var EM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const tw=function i(t){te(EM,function(e){this[e]=at(t[e],t)},this)};var iw={},AM=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(t,e){var n=[];te(iw,function(s,a){var l=s.create(t,e);n=n.concat(l||[])}),this._coordinateSystems=n},i.prototype.update=function(t,e){te(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(t,e){iw[t]=e},i.get=function(t){return iw[t]},i}();const qh=AM;var TM=/^(min|max)?(.+)$/,MM=function(){function i(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return i.prototype.setOption=function(t,e,n){t&&(te(Fr(t.series),function(l){l&&l.data&&ai(l.data)&&eo(l.data)}),te(Fr(t.dataset),function(l){l&&l.source&&ai(l.source)&&eo(l.source)})),t=xe(t);var s=this._optionBackup,a=function RM(i,t,e){var s,a,n=[],l=i.baseOption,d=i.timeline,h=i.options,f=i.media,m=!!i.media,_=!!(h||d||l&&l.timeline);function C(w){te(t,function(D){D(w,e)})}return l?(a=l).timeline||(a.timeline=d):((_||m)&&(i.options=i.media=null),a=i),m&&Me(f)&&te(f,function(w){w&&w.option&&(w.query?n.push(w):s||(s=w))}),C(a),te(h,function(w){return C(w)}),te(n,function(w){return C(w.option)}),{baseOption:a,timelineOptions:h||[],mediaDefault:s,mediaList:n}}(t,e,!s);this._newBaseOption=a.baseOption,s?(a.timelineOptions.length&&(s.timelineOptions=a.timelineOptions),a.mediaList.length&&(s.mediaList=a.mediaList),a.mediaDefault&&(s.mediaDefault=a.mediaDefault)):this._optionBackup=a},i.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],xe(t?e.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var s=t.getComponent("timeline");s&&(e=xe(n[s.getCurrentIndex()]))}return e},i.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),s=this._mediaList,a=this._mediaDefault,l=[],d=[];if(!s.length&&!a)return d;for(var h=0,f=s.length;h<f;h++)IM(s[h].query,e,n)&&l.push(h);return!l.length&&a&&(l=[-1]),l.length&&!function kM(i,t){return i.join(",")===t.join(",")}(l,this._currentMediaIndices)&&(d=ge(l,function(m){return xe(-1===m?a.option:s[m].option)})),this._currentMediaIndices=l,d},i}();function IM(i,t,e){var n={width:t,height:e,aspectratio:t/e},s=!0;return te(i,function(a,l){var d=l.match(TM);if(d&&d[1]&&d[2]){var h=d[1],f=d[2].toLowerCase();(function PM(i,t,e){return"min"===e?i>=t:"max"===e?i<=t:i===t})(n[f],a,h)||(s=!1)}}),s}const FM=MM;var _h=te,lv=Zi,zb=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function nw(i){var t=i&&i.itemStyle;if(t)for(var e=0,n=zb.length;e<n;e++){var s=zb[e],a=t.normal,l=t.emphasis;a&&a[s]&&(i[s]=i[s]||{},i[s].normal?Pt(i[s].normal,a[s]):i[s].normal=a[s],a[s]=null),l&&l[s]&&(i[s]=i[s]||{},i[s].emphasis?Pt(i[s].emphasis,l[s]):i[s].emphasis=l[s],l[s]=null)}}function Kl(i,t,e){if(i&&i[t]&&(i[t].normal||i[t].emphasis)){var n=i[t].normal,s=i[t].emphasis;n&&(e?(i[t].normal=i[t].emphasis=null,je(i[t],n)):i[t]=n),s&&(i.emphasis=i.emphasis||{},i.emphasis[t]=s,s.focus&&(i.emphasis.focus=s.focus),s.blurScope&&(i.emphasis.blurScope=s.blurScope))}}function Zy(i){Kl(i,"itemStyle"),Kl(i,"lineStyle"),Kl(i,"areaStyle"),Kl(i,"label"),Kl(i,"labelLine"),Kl(i,"upperLabel"),Kl(i,"edgeLabel")}function fl(i,t){var e=lv(i)&&i[t],n=lv(e)&&e.textStyle;if(n)for(var s=0,a=Ip.length;s<a;s++){var l=Ip[s];n.hasOwnProperty(l)&&(e[l]=n[l])}}function Gu(i){i&&(Zy(i),fl(i,"label"),i.emphasis&&fl(i.emphasis,"label"))}function Xp(i){return Me(i)?i:i?[i]:[]}function MD(i){return(Me(i)?i[0]:i)||{}}function PD(i){i&&te(uF,function(t){t[0]in i&&!(t[1]in i)&&(i[t[1]]=i[t[0]])})}var uF=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],kD=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Wb=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function jb(i){var t=i&&i.itemStyle;if(t)for(var e=0;e<Wb.length;e++){var n=Wb[e][1];null!=t[n]&&(t[Wb[e][0]]=t[n])}}function qy(i){i&&"edge"===i.alignTo&&null!=i.margin&&null==i.edgeDistance&&(i.edgeDistance=i.margin)}function FD(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function $b(i,t){if(i)for(var e=0;e<i.length;e++)t(i[e]),i[e]&&$b(i[e].children,t)}function OD(i,t){(function LM(i,t){_h(Xp(i.series),function(n){lv(n)&&function OM(i){if(lv(i)){nw(i),Zy(i),fl(i,"label"),fl(i,"upperLabel"),fl(i,"edgeLabel"),i.emphasis&&(fl(i.emphasis,"label"),fl(i.emphasis,"upperLabel"),fl(i.emphasis,"edgeLabel"));var t=i.markPoint;t&&(nw(t),Gu(t));var e=i.markLine;e&&(nw(e),Gu(e));var n=i.markArea;n&&Gu(n);var s=i.data;if("graph"===i.type){s=s||i.nodes;var a=i.links||i.edges;if(a&&!ai(a))for(var l=0;l<a.length;l++)Gu(a[l]);te(i.categories,function(f){Zy(f)})}if(s&&!ai(s))for(l=0;l<s.length;l++)Gu(s[l]);if((t=i.markPoint)&&t.data){var d=t.data;for(l=0;l<d.length;l++)Gu(d[l])}if((e=i.markLine)&&e.data){var h=e.data;for(l=0;l<h.length;l++)Me(h[l])?(Gu(h[l][0]),Gu(h[l][1])):Gu(h[l])}"gauge"===i.type?(fl(i,"axisLabel"),fl(i,"title"),fl(i,"detail")):"treemap"===i.type?(Kl(i.breadcrumb,"itemStyle"),te(i.levels,function(f){Zy(f)})):"tree"===i.type&&Zy(i.leaves)}}(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),_h(e,function(n){_h(Xp(i[n]),function(s){s&&(fl(s,"axisLabel"),fl(s.axisPointer,"label"))})}),_h(Xp(i.parallel),function(n){var s=n&&n.parallelAxisDefault;fl(s,"axisLabel"),fl(s&&s.axisPointer,"label")}),_h(Xp(i.calendar),function(n){Kl(n,"itemStyle"),fl(n,"dayLabel"),fl(n,"monthLabel"),fl(n,"yearLabel")}),_h(Xp(i.radar),function(n){fl(n,"name"),n.name&&null==n.axisName&&(n.axisName=n.name,delete n.name),null!=n.nameGap&&null==n.axisNameGap&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),_h(Xp(i.geo),function(n){lv(n)&&(Gu(n),_h(Xp(n.regions),function(s){Gu(s)}))}),_h(Xp(i.timeline),function(n){Gu(n),Kl(n,"label"),Kl(n,"itemStyle"),Kl(n,"controlStyle",!0);var s=n.data;Me(s)&&te(s,function(a){Zi(a)&&(Kl(a,"label"),Kl(a,"itemStyle"))})}),_h(Xp(i.toolbox),function(n){Kl(n,"iconStyle"),_h(n.feature,function(s){Kl(s,"iconStyle")})}),fl(MD(i.axisPointer),"label"),fl(MD(i.tooltip).axisPointer,"label")})(i,t),i.series=Fr(i.series),te(i.series,function(e){if(Zi(e)){var n=e.type;if("line"===n)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=e.clockWise&&(e.clockwise=e.clockWise),qy(e.label),(s=e.data)&&!ai(s))for(var a=0;a<s.length;a++)qy(s[a]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===n){var l=function RD(i,t){for(var e=t.split(","),n=i,s=0;s<e.length&&null!=(n=n&&n[e[s]]);s++);return n}(e,"pointer.color");null!=l&&function ID(i,t,e,n){for(var l,s=t.split(","),a=i,d=0;d<s.length-1;d++)null==a[l=s[d]]&&(a[l]={}),a=a[l];(n||null==a[s[d]])&&(a[s[d]]=e)}(e,"itemStyle.color",l)}else if("bar"===n){var s;if(jb(e),jb(e.backgroundStyle),jb(e.emphasis),(s=e.data)&&!ai(s))for(a=0;a<s.length;a++)"object"==typeof s[a]&&(jb(s[a]),jb(s[a]&&s[a].emphasis))}else if("sunburst"===n){var d=e.highlightPolicy;d&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=d)),FD(e),$b(e.data,FD)}else"graph"===n||"sankey"===n?function NM(i){i&&null!=i.focusNodeAdjacency&&(i.emphasis=i.emphasis||{},null==i.emphasis.focus&&(i.emphasis.focus="adjacency"))}(e):"map"===n&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&je(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),PD(e)}}),i.dataRange&&(i.visualMap=i.dataRange),te(kD,function(e){var n=i[e];n&&(Me(n)||(n=[n]),te(n,function(s){PD(s)}))})}function Jy(i){te(i,function(t,e){var n=[],s=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],l=t.data,d=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";l.modify(a,function(f,m,_){var w,D,C=l.get(t.stackedDimension,_);if(isNaN(C))return s;d?D=l.getRawIndex(_):w=l.get(t.stackedByDimension,_);for(var T=NaN,I=e-1;I>=0;I--){var F=i[I];if(d||(D=F.data.rawIndexOf(F.stackedByDimension,w)),D>=0){var V=F.data.getByRawIndex(F.stackResultDimension,D);if("all"===h||"positive"===h&&V>0||"negative"===h&&V<0||"samesign"===h&&C>=0&&V>0||"samesign"===h&&C<=0&&V<0){C=Gc(C,V),T=V;break}}}return n[0]=C,n[1]=T,n})})}var Xl=function i(t){this.data=t.data||(t.sourceFormat===Qh?{}:[]),this.sourceFormat=t.sourceFormat||vD,this.seriesLayoutBy=t.seriesLayoutBy||Zh,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var s=e[n];null==s.type&&Ky(this,n)===ca.Must&&(s.type="ordinal")}};function Yp(i){return i instanceof Xl}function cv(i,t,e){e=e||qg(i);var n=t.seriesLayoutBy,s=function dv(i,t,e,n,s){var a,l;if(!i)return{dimensionsDefine:Jg(s),startIndex:l,dimensionsDetectedCount:a};if(t===Jc){var d=i;"auto"===n||null==n?em(function(f){null!=f&&"-"!==f&&(Ii(f)?null==l&&(l=1):l=0)},e,d,10):l=Di(n)?n:n?1:0,!s&&1===l&&(s=[],em(function(f,m){s[m]=null!=f?f+"":""},e,d,1/0)),a=s?s.length:e===ov?d.length:d[0]?d[0].length:null}else if(t===Gd)s||(s=function uv(i){for(var e,t=0;t<i.length&&!(e=i[t++]););if(e)return Ri(e)}(i));else if(t===Qh)s||(s=[],te(i,function(f,m){s.push(m)}));else if(t===Vu){var h=Lh(i[0]);a=Me(h)&&h.length||1}return{startIndex:l,dimensionsDefine:Jg(s),dimensionsDetectedCount:a}}(i,e,n,t.sourceHeader,t.dimensions);return new Xl({data:i,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:xe(t)})}function Hd(i){return new Xl({data:i,sourceFormat:ai(i)?Kp:Vu})}function rw(i){return new Xl({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:xe(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function qg(i){var t=vD;if(ai(i))t=Kp;else if(Me(i)){0===i.length&&(t=Jc);for(var e=0,n=i.length;e<n;e++){var s=i[e];if(null!=s){if(Me(s)||ai(s)){t=Jc;break}if(Zi(s)){t=Gd;break}}}}else if(Zi(i))for(var a in i)if(oe(i,a)&&Pe(i[a])){t=Qh;break}return t}function Jg(i){if(i){var t=Rn();return ge(i,function(e,n){var s={name:(e=Zi(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==s.name)return s;s.name+="",null==s.displayName&&(s.displayName=s.name);var a=t.get(s.name);return a?s.name+="-"+a.count++:t.set(s.name,{count:1}),s})}}function em(i,t,e,n){if(t===ov)for(var s=0;s<e.length&&s<n;s++)i(e[s]?e[s][0]:null,s);else{var a=e[0]||[];for(s=0;s<a.length&&s<n;s++)i(a[s],s)}}function tm(i){var t=i.sourceFormat;return t===Gd||t===Qh}var Hu,Uu,zu,ow,sw,aw=function(){function i(t,e){var n=Yp(t)?t:Hd(t);this._source=n;var s=this._data=n.data;n.sourceFormat===Kp&&(this._offset=0,this._dimSize=e,this._data=s),sw(this,s,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(t,e){},i.prototype.appendData=function(t){},i.prototype.clean=function(){},i.protoInitialize=function(){var t=i.prototype;t.pure=!1,t.persistent=!0}(),i.internalField=function(){var t;sw=function(l,d,h){var f=h.sourceFormat,m=h.seriesLayoutBy,_=h.startIndex,C=h.dimensionsDefine;if(Dt(l,ow[BD(f,m)]),f===Kp)l.getItem=e,l.count=s,l.fillStorage=n;else{var D=cw(f,m);l.getItem=at(D,null,d,_,C);var T=uw(f,m);l.count=at(T,null,d,_,C)}};var e=function(l,d){d=d||[];for(var h=this._data,f=this._dimSize,m=f*(l-=this._offset),_=0;_<f;_++)d[_]=h[m+_];return d},n=function(l,d,h,f){for(var m=this._data,_=this._dimSize,C=0;C<_;C++){for(var w=f[C],D=null==w[0]?1/0:w[0],T=null==w[1]?-1/0:w[1],I=d-l,F=h[C],V=0;V<I;V++){var H=m[V*_+C];F[l+V]=H,H<D&&(D=H),H>T&&(T=H)}w[0]=D,w[1]=T}},s=function(){return this._data?this._data.length/this._dimSize:0};function a(l){for(var d=0;d<l.length;d++)this._data.push(l[d])}(t={})[Jc+"_"+Zh]={pure:!0,appendData:a},t[Jc+"_"+ov]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Gd]={pure:!0,appendData:a},t[Qh]={pure:!0,appendData:function(l){var d=this._data;te(l,function(h,f){for(var m=d[f]||(d[f]=[]),_=0;_<(h||[]).length;_++)m.push(h[_])})}},t[Vu]={appendData:a},t[Kp]={persistent:!1,pure:!0,appendData:function(l){this._data=l},clean:function(){this._offset+=this.count(),this._data=null}},ow=t}(),i}(),lw=function(i,t,e,n){return i[n]},LD=((Hu={})[Jc+"_"+Zh]=function(i,t,e,n){return i[n+t]},Hu[Jc+"_"+ov]=function(i,t,e,n,s){n+=t;for(var a=s||[],l=i,d=0;d<l.length;d++){var h=l[d];a[d]=h?h[n]:null}return a},Hu[Gd]=lw,Hu[Qh]=function(i,t,e,n,s){for(var a=s||[],l=0;l<e.length;l++){var h=i[e[l].name];a[l]=h?h[n]:null}return a},Hu[Vu]=lw,Hu);function cw(i,t){return LD[BD(i,t)]}var dw=function(i,t,e){return i.length},ND=((Uu={})[Jc+"_"+Zh]=function(i,t,e){return Math.max(0,i.length-t)},Uu[Jc+"_"+ov]=function(i,t,e){var n=i[0];return n?Math.max(0,n.length-t):0},Uu[Gd]=dw,Uu[Qh]=function(i,t,e){var s=i[e[0].name];return s?s.length:0},Uu[Vu]=dw,Uu);function uw(i,t){return ND[BD(i,t)]}var e_=function(i,t,e){return i[t]},BM=((zu={})[Jc]=e_,zu[Gd]=function(i,t,e){return i[e]},zu[Qh]=e_,zu[Vu]=function(i,t,e){var n=Lh(i);return n instanceof Array?n[t]:n},zu[Kp]=e_,zu);function VM(i){return BM[i]}function BD(i,t){return i===Jc?i+"_"+t:i}function hv(i,t,e){if(i){var n=i.getRawDataItem(t);if(null!=n){var s=i.getStore(),a=s.getSource().sourceFormat;if(null!=e){var l=i.getDimensionIndex(e),d=s.getDimensionProperty(l);return VM(a)(n,l,d)}var h=n;return a===Vu&&(h=Lh(n)),h}}}var pF=/\{@(.+?)\}/g,Kb=function(){function i(){}return i.prototype.getDataParams=function(t,e){var n=this.getData(e),s=this.getRawValue(t,e),a=n.getRawIndex(t),l=n.getName(t),d=n.getRawDataItem(t),h=n.getItemVisual(t,"style"),f=h&&h[n.getItemVisual(t,"drawType")||"fill"],m=h&&h.stroke,_=this.mainType,C="series"===_,w=n.userOutput&&n.userOutput.get();return{componentType:_,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:C?this.subType:null,seriesIndex:this.seriesIndex,seriesId:C?this.id:null,seriesName:C?this.name:null,name:l,dataIndex:a,data:d,dataType:e,value:s,color:f,borderColor:m,dimensionNames:w?w.fullDimensions:null,encode:w?w.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(t,e,n,s,a,l){e=e||"normal";var d=this.getData(n),h=this.getDataParams(t,n);return l&&(h.value=l.interpolatedValue),null!=s&&Me(h.value)&&(h.value=h.value[s]),a||(a=d.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),Nt(a)?(h.status=e,h.dimensionIndex=s,a(h)):Ii(a)?Hy(a,h).replace(pF,function(_,C){var w=C.length,D=C;"["===D.charAt(0)&&"]"===D.charAt(w-1)&&(D=+D.slice(1,w-1));var T=hv(d,t,D);if(l&&Me(l.interpolatedValue)){var I=d.getDimensionIndex(D);I>=0&&(T=l.interpolatedValue[I])}return null!=T?T+"":""}):void 0},i.prototype.getRawValue=function(t,e){return hv(this.getData(e),t)},i.prototype.formatTooltip=function(t,e,n){},i}();function GM(i){var t,e;return Zi(i)?i.type&&(e=i):t=i,{text:t,frag:e}}function t_(i){return new HM(i)}var HM=function(){function i(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return i.prototype.perform=function(t){var a,e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var s=this.context;s.data=s.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(a=this._plan(this.context));var _,l=m(this._modBy),d=this._modDataCount||0,h=m(t&&t.modBy),f=t&&t.modDataCount||0;function m(V){return!(V>=1)&&(V=1),V}(l!==h||d!==f)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,_=this._doReset(n)),this._modBy=h,this._modDataCount=f;var C=t&&t.step;if(this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var w=this._dueIndex,D=Math.min(null!=C?this._dueIndex+C:1/0,this._dueEnd);if(!n&&(_||w<D)){var T=this._progress;if(Me(T))for(var I=0;I<T.length;I++)this._doProgress(T[I],w,D,h,f);else this._doProgress(T,w,D,h,f)}this._dueIndex=D,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:D}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(t,e,n,s,a){VD.reset(e,n,s,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:VD.next},this.context)},i.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),Me(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},i}(),VD=function(){var i,t,e,n,s,a={reset:function(h,f,m,_){t=h,i=f,e=m,n=_,s=Math.ceil(n/e),a.next=e>1&&n>0?d:l}};return a;function l(){return t<i?t++:null}function d(){var h=t%s*e+Math.ceil(t/s),f=t>=i?null:h<n?h:t;return t++,f}}();function qo(i){throw new Error(i)}function Hf(i,t){var e=t&&t.type;return"ordinal"===e?i:("time"===e&&!Di(i)&&null!=i&&"-"!==i&&(i=+rc(i)),null==i||""===i?NaN:Number(i))}typeof console<"u"&&console.warn&&console;var WM=Rn({number:function(i){return parseFloat(i)},time:function(i){return+rc(i)},trim:function(i){return Ii(i)?uo(i):i}});function Yb(i){return WM.get(i)}var n_={lt:function(i,t){return i<t},lte:function(i,t){return i<=t},gt:function(i,t){return i>t},gte:function(i,t){return i>=t}},Qb=function(){function i(t,e){Di(e)||qo(""),this._opFn=n_[t],this._rvalFloat=oc(e)}return i.prototype.evaluate=function(t){return Di(t)?this._opFn(t,this._rvalFloat):this._opFn(oc(t),this._rvalFloat)},i}(),jM=function(){function i(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return i.prototype.evaluate=function(t,e){var n=Di(t)?t:oc(t),s=Di(e)?e:oc(e),a=isNaN(n),l=isNaN(s);if(a&&(n=this._incomparable),l&&(s=this._incomparable),a&&l){var d=Ii(t),h=Ii(e);d&&(n=h?t:0),h&&(s=d?e:0)}return n<s?this._resultLT:n>s?-this._resultLT:0},i}(),$M=function(){function i(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=oc(e)}return i.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n!==this._rvalTypeof&&("number"===n||"number"===this._rvalTypeof)&&(e=oc(t)===this._rvalFloat)}return this._isEQ?e:!e},i}();function KM(i,t){return"eq"===i||"ne"===i?new $M("eq"===i,t):oe(n_,i)?new Qb(i,t):null}var fw=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(t){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(t){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(t,e){},i.prototype.retrieveValueFromItem=function(t,e){},i.prototype.convertValue=function(t,e){return Hf(t,e)},i}();function GD(i){return mw(i.sourceFormat)||qo(""),i.data}function YM(i){var t=i.sourceFormat,e=i.data;if(mw(t)||qo(""),t===Jc){for(var s=[],a=0,l=e.length;a<l;a++)s.push(e[a].slice());return s}if(t===Gd){for(s=[],a=0,l=e.length;a<l;a++)s.push(Dt({},e[a]));return s}}function QM(i,t,e){if(null!=e){if(Di(e)||!isNaN(e)&&!oe(t,e))return i[e];if(oe(t,e))return t[e]}}function HD(i){return xe(i)}var gw=Rn();function qM(i,t,e,n){t.length||qo(""),Zi(i)||qo("");var l=gw.get(i.type);l||qo("");var d=ge(t,function(m){return function XM(i,t){var e=new fw,n=i.data,s=e.sourceFormat=i.sourceFormat,a=i.startIndex;i.seriesLayoutBy!==Zh&&qo("");var d=[],h={},f=i.dimensionsDefine;if(f)te(f,function(T,I){var F=T.name,V={index:I,name:F,displayName:T.displayName};d.push(V),null!=F&&(oe(h,F)&&qo(""),h[F]=V)});else for(var m=0;m<i.dimensionsDetectedCount;m++)d.push({index:m});var _=cw(s,Zh);t.__isBuiltIn&&(e.getRawDataItem=function(T){return _(n,a,d,T)},e.getRawData=at(GD,null,i)),e.cloneRawData=at(YM,null,i);var C=uw(s,Zh);e.count=at(C,null,n,a,d);var w=VM(s);e.retrieveValue=function(T,I){var F=_(n,a,d,T);return D(F,I)};var D=e.retrieveValueFromItem=function(T,I){if(null!=T){var F=d[I];if(F)return w(T,I,F.name)}};return e.getDimensionInfo=at(QM,null,d,h),e.cloneAllDimensionInfo=at(HD,null,d),e}(m,l)});return ge(Fr(l.transform({upstream:d[0],upstreamList:d,config:xe(i.config)})),function(m,_){Zi(m)||qo(""),m.data||qo(""),mw(qg(m.data))||qo("");var D,T=t[0];if(T&&0===_&&!m.dimensions){var I=T.startIndex;I&&(m.data=T.data.slice(0,I).concat(m.data)),D={seriesLayoutBy:Zh,sourceHeader:I,dimensions:T.metaRawOption.dimensions}}else D={seriesLayoutBy:Zh,sourceHeader:0,dimensions:m.dimensions};return cv(m.data,D,null)})}function mw(i){return i===Jc||i===Gd}var a_,r_="undefined",vw=typeof Uint32Array===r_?Array:Uint32Array,yw=typeof Uint16Array===r_?Array:Uint16Array,zD=typeof Int32Array===r_?Array:Int32Array,o_=typeof Float64Array===r_?Array:Float64Array,s_={float:o_,int:zD,ordinal:Array,number:Array,time:o_};function gv(i){return i>65535?vw:yw}function JM(i){var t=i.constructor;return t===Array?i.slice():new t(i)}function WD(i,t,e,n,s){var a=s_[e||"float"];if(s){var l=i[t],d=l&&l.length;if(d!==n){for(var h=new a(n),f=0;f<d;f++)h[f]=l[f];i[t]=h}}else i[t]=new a(n)}var Zb=function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Rn()}return i.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=t.getSource(),a=this.defaultDimValueGetter=a_[s.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],tm(s),this._dimensions=ge(e,function(d){return{type:d.type,property:d.property}}),this._initDataFromProvider(0,t.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,s=this._dimensions,a=n.get(t);if(null!=a){if(s[a].type===e)return a}else a=s.length;return s[a]={type:e},n.set(t,a),this._chunks[a]=new s_[e||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},i.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],s=this._dimensions[t],a=this._rawExtent,l=s.ordinalOffset||0,d=n.length;0===l&&(a[t]=[1/0,-1/0]);for(var h=a[t],f=l;f<d;f++){var m=n[f]=e.parseAndCollect(n[f]);isNaN(m)||(h[0]=Math.min(m,h[0]),h[1]=Math.max(m,h[1]))}s.ordinalMeta=e,s.ordinalOffset=d,s.type="ordinal"},i.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},i.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},i.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var s=e.count();return e.persistent||(s+=n),n<s&&this._initDataFromProvider(n,s,!0),[n,s]},i.prototype.appendValues=function(t,e){for(var n=this._chunks,s=this._dimensions,a=s.length,l=this._rawExtent,d=this.count(),h=d+Math.max(t.length,e||0),f=0;f<a;f++)WD(n,f,s[f].type,h,!0);for(var _=[],C=d;C<h;C++)for(var w=C-d,D=0;D<a;D++){var T=a_.arrayRows.call(this,t[w]||_,s[D].property,w,D);n[D][C]=T;var I=l[D];T<I[0]&&(I[0]=T),T>I[1]&&(I[1]=T)}return this._rawCount=this._count=h,{start:d,end:h}},i.prototype._initDataFromProvider=function(t,e,n){for(var s=this._provider,a=this._chunks,l=this._dimensions,d=l.length,h=this._rawExtent,f=ge(l,function(V){return V.property}),m=0;m<d;m++){var _=l[m];h[m]||(h[m]=[1/0,-1/0]),WD(a,m,_.type,e,n)}if(s.fillStorage)s.fillStorage(t,e,a,h);else for(var C=[],w=t;w<e;w++){C=s.getItem(w,C);for(var D=0;D<d;D++){var T=a[D],I=this._dimValueGetter(C,f[D],w,D);T[w]=I;var F=h[D];I<F[0]&&(F[0]=I),I>F[1]&&(F[1]=I)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=e,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.getValues=function(t,e){var n=[],s=[];if(null==e){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)s.push(a)}else s=t;a=0;for(var l=s.length;a<l;a++)n.push(this.get(s[a],e));return n},i.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},i.prototype.getSum=function(t){var n=0;if(this._chunks[t])for(var s=0,a=this.count();s<a;s++){var l=this.get(t,s);isNaN(l)||(n+=l)}return n},i.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,l){return a-l}),s=this.count();return 0===s?0:s%2==1?n[(s-1)/2]:(n[s/2]+n[s/2-1])/2},i.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var s=0,a=this._count-1;s<=a;){var l=(s+a)/2|0;if(e[l]<t)s=l+1;else{if(!(e[l]>t))return l;a=l-1}}return-1},i.prototype.indicesOfNearest=function(t,e,n){var a=this._chunks[t],l=[];if(!a)return l;null==n&&(n=1/0);for(var d=1/0,h=-1,f=0,m=0,_=this.count();m<_;m++){var w=e-a[this.getRawIndex(m)],D=Math.abs(w);D<=n&&((D<d||D===d&&w>=0&&h<0)&&(d=D,h=w,f=0),w===h&&(l[f++]=m))}return l.length=f,l},i.prototype.getIndices=function(){var t,e=this._indices;if(e){var s=this._count;if((n=e.constructor)===Array){t=new n(s);for(var a=0;a<s;a++)t[a]=e[a]}else t=new n(e.buffer,0,s)}else{var n;for(t=new(n=gv(this._rawCount))(this.count()),a=0;a<t.length;a++)t[a]=a}return t},i.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),s=n.count(),l=new(gv(n._rawCount))(s),d=[],h=t.length,f=0,m=t[0],_=n._chunks,C=0;C<s;C++){var w=void 0,D=n.getRawIndex(C);if(0===h)w=e(C);else if(1===h)w=e(_[m][D],C);else{for(var I=0;I<h;I++)d[I]=_[t[I]][D];d[I]=C,w=e.apply(null,d)}w&&(l[f++]=D)}return f<s&&(n._indices=l),n._count=f,n._extent=[],n._updateGetRawIdx(),n},i.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var s=Ri(t),a=s.length;if(!a)return this;var l=e.count(),h=new(gv(e._rawCount))(l),f=0,m=s[0],_=t[m][0],C=t[m][1],w=e._chunks,D=!1;if(!e._indices){var T=0;if(1===a){for(var I=w[s[0]],F=0;F<n;F++)((V=I[F])>=_&&V<=C||isNaN(V))&&(h[f++]=T),T++;D=!0}else if(2===a){I=w[s[0]];var H=w[s[1]],re=t[s[1]][0],fe=t[s[1]][1];for(F=0;F<n;F++){var de=H[F];((V=I[F])>=_&&V<=C||isNaN(V))&&(de>=re&&de<=fe||isNaN(de))&&(h[f++]=T),T++}D=!0}}if(!D)if(1===a)for(F=0;F<l;F++){var Ee=e.getRawIndex(F);((V=w[s[0]][Ee])>=_&&V<=C||isNaN(V))&&(h[f++]=Ee)}else for(F=0;F<l;F++){for(var Ue=!0,ze=(Ee=e.getRawIndex(F),0);ze<a;ze++){var V,nt=s[ze];((V=w[nt][Ee])<t[nt][0]||V>t[nt][1])&&(Ue=!1)}Ue&&(h[f++]=e.getRawIndex(F))}return f<l&&(e._indices=h),e._count=f,e._extent=[],e._updateGetRawIdx(),e},i.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},i.prototype.modify=function(t,e){this._updateDims(this,t,e)},i.prototype._updateDims=function(t,e,n){for(var s=t._chunks,a=[],l=e.length,d=t.count(),h=[],f=t._rawExtent,m=0;m<e.length;m++)f[e[m]]=[1/0,-1/0];for(var _=0;_<d;_++){for(var C=t.getRawIndex(_),w=0;w<l;w++)h[w]=s[e[w]][C];h[l]=_;var D=n&&n.apply(null,h);if(null!=D)for("object"!=typeof D&&(a[0]=D,D=a),m=0;m<D.length;m++){var T=e[m],I=D[m],F=f[T],V=s[T];V&&(V[C]=I),I<F[0]&&(F[0]=I),I>F[1]&&(F[1]=I)}}},i.prototype.lttbDownSample=function(t,e){var m,_,C,n=this.clone([t],!0),a=n._chunks[t],l=this.count(),d=0,h=Math.floor(1/e),f=this.getRawIndex(0),w=new(gv(this._rawCount))(Math.min(2*(Math.ceil(l/h)+2),l));w[d++]=f;for(var D=1;D<l-1;D+=h){for(var T=Math.min(D+h,l-1),I=Math.min(D+2*h,l),F=(I+T)/2,V=0,H=T;H<I;H++){var fe=a[re=this.getRawIndex(H)];isNaN(fe)||(V+=fe)}V/=I-T;var de=D,Ee=Math.min(D+h,l),Ue=D-1,ze=a[f];m=-1,C=de;var nt=-1,gt=0;for(H=de;H<Ee;H++){var re;fe=a[re=this.getRawIndex(H)],isNaN(fe)?(gt++,nt<0&&(nt=re)):(_=Math.abs((Ue-F)*(fe-ze)-(Ue-H)*(V-ze)))>m&&(m=_,C=re)}gt>0&&gt<Ee-de&&(w[d++]=Math.min(nt,C),C=Math.max(nt,C)),w[d++]=C,f=C}return w[d++]=this.getRawIndex(l-1),n._count=d,n._indices=w,n.getRawIndex=this._getRawIdx,n},i.prototype.downSample=function(t,e,n,s){for(var a=this.clone([t],!0),l=a._chunks,d=[],h=Math.floor(1/e),f=l[t],m=this.count(),_=a._rawExtent[t]=[1/0,-1/0],C=new(gv(this._rawCount))(Math.ceil(m/h)),w=0,D=0;D<m;D+=h){h>m-D&&(d.length=h=m-D);for(var T=0;T<h;T++){var I=this.getRawIndex(D+T);d[T]=f[I]}var F=n(d),V=this.getRawIndex(Math.min(D+s(d,F)||0,m-1));f[V]=F,F<_[0]&&(_[0]=F),F>_[1]&&(_[1]=F),C[w++]=V}return a._count=w,a._indices=C,a._updateGetRawIdx(),a},i.prototype.each=function(t,e){if(this._count)for(var n=t.length,s=this._chunks,a=0,l=this.count();a<l;a++){var d=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(s[t[0]][d],a);break;case 2:e(s[t[0]][d],s[t[1]][d],a);break;default:for(var h=0,f=[];h<n;h++)f[h]=s[t[h]][d];f[h]=a,e.apply(null,f)}}},i.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var l,s=this.count();if(!this._indices)return this._rawExtent[t].slice();if(l=this._extent[t])return l.slice();for(var d=(l=n)[0],h=l[1],f=0;f<s;f++){var _=e[this.getRawIndex(f)];_<d&&(d=_),_>h&&(h=_)}return this._extent[t]=l=[d,h],l},i.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],s=this._chunks,a=0;a<s.length;a++)n.push(s[a][e]);return n},i.prototype.clone=function(t,e){var n=new i,s=this._chunks,a=t&&Re(t,function(d,h){return d[h]=!0,d},{});if(a)for(var l=0;l<s.length;l++)n._chunks[l]=a[l]?JM(s[l]):s[l];else n._chunks=s;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},i.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=xe(this._extent),t._rawExtent=xe(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var s=0;s<n;s++)e[s]=this._indices[s]}else e=new t(this._indices);return e}return null},i.prototype._getRawIdxIdentity=function(t){return t},i.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=function(){function t(e,n,s,a){return Hf(e[a],this._dimensions[a])}a_={arrayRows:t,objectRows:function(e,n,s,a){return Hf(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,s,a){var l=e&&(null==e.value?e:e.value);return Hf(l instanceof Array?l[a]:l,this._dimensions[a])},typedArray:function(e,n,s,a){return e[a]}}}(),i}();const vv=Zb;var qb=function(){function i(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var s,a,t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length;if(Jb(t)){var l=t,d=void 0,h=void 0,f=void 0;if(n){var m=e[0];m.prepareSource(),d=(f=m.getSource()).data,h=f.sourceFormat,a=[m._getVersionSign()]}else h=ai(d=l.get("data",!0))?Kp:Vu,a=[];var _=this._getSourceMetaRawOption()||{},C=f&&f.metaRawOption||{},w=en(_.seriesLayoutBy,C.seriesLayoutBy)||null,D=en(_.sourceHeader,C.sourceHeader),T=en(_.dimensions,C.dimensions);s=w!==C.seriesLayoutBy||!!D!=!!C.sourceHeader||T?[cv(d,{seriesLayoutBy:w,sourceHeader:D,dimensions:T},h)]:[]}else{var F=t;if(n){var V=this._applyTransform(e);s=V.sourceList,a=V.upstreamSignList}else s=[cv(F.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(s,a)},i.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),s=e.get("fromTransformResult",!0);null!=s&&1!==t.length&&jD("");var l,d=[],h=[];return te(t,function(f){f.prepareSource();var m=f.getSource(s||0);null!=s&&!m&&jD(""),d.push(m),h.push(f._getVersionSign())}),n?l=function ZM(i,t,e){var n=Fr(i),s=n.length;s||qo("");for(var l=0,d=s;l<d;l++)t=qM(n[l],t),l!==d-1&&(t.length=Math.max(t.length,1));return t}(n,d):null!=s&&(l=[rw(d[0])]),{sourceList:l,upstreamSignList:h}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},i.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},i.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},i.prototype._innerGetDataStore=function(t,e,n){var a=this._storeList,l=a[0];l||(l=a[0]={});var d=l[n];if(!d){var h=this._getUpstreamSourceManagers()[0];Jb(this._sourceHost)&&h?d=h._innerGetDataStore(t,e,n):(d=new vv).initData(new aw(e,t.length),t),l[n]=d}return d},i.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Jb(t)){var e=Gb(t);return e?[e.getSourceManager()]:[]}return ge(function yD(i){return i.get("transform",!0)||i.get("fromTransformResult",!0)?vn(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},mi).models:[]}(t),function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var e,n,s,t=this._sourceHost;if(Jb(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),s=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),s=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:s}},i}();function _w(i){i.option.transform&&eo(i.option.transform)}function Jb(i){return"series"===i.mainType}function jD(i){throw new Error(i)}var bw="line-height:1";function eC(i,t){var e=i.color||"#6e7079",n=i.fontSize||12,s=i.fontWeight||"400",a=i.color||"#464646",l=i.fontSize||14,d=i.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+so(n+"")+"px;color:"+so(e)+";font-weight:"+so(s+""),valueStyle:"font-size:"+so(l+"")+"px;color:"+so(a)+";font-weight:"+so(d+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:s},valueStyle:{fontSize:l,fill:a,fontWeight:d}}}var $D=[0,10,20,30],Cw=["","\n","\n\n","\n\n\n"];function gl(i,t){return t.type=i,t}function ww(i){return"section"===i.type}function xw(i){return ww(i)?KD:XD}function Sw(i){if(ww(i)){var t=0,e=i.blocks.length,n=e>1||e>0&&!i.noHeader;return te(i.blocks,function(s){var a=Sw(s);a>=t&&(t=a+ +(n&&(!a||ww(s)&&!s.noHeader)))}),t}return 0}function KD(i,t,e,n){var s=t.noHeader,a=function QD(i){return{html:$D[i],richText:Cw[i]}}(Sw(t)),l=[],d=t.blocks||[];mr(!d||Me(d)),d=d||[];var h=i.orderMode;if(t.sortBlocks&&h){d=d.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(oe(f,h)){var m=new jM(f[h],null);d.sort(function(D,T){return m.evaluate(D.sortParam,T.sortParam)})}else"seriesDesc"===h&&d.reverse()}te(d,function(D,T){var I=t.valueFormatter,F=xw(D)(I?Dt(Dt({},i),{valueFormatter:I}):i,D,T>0?a.html:0,n);null!=F&&l.push(F)});var _="richText"===i.renderMode?l.join(a.richText):tC(l.join(""),s?e:a.html);if(s)return _;var C=G0(t.header,"ordinal",i.useUTC),w=eC(n,i.renderMode).nameStyle;return"richText"===i.renderMode?Aw(i,C,w)+a.richText+_:tC('<div style="'+w+";"+bw+';">'+so(C)+"</div>"+_,e)}function XD(i,t,e,n){var s=i.renderMode,a=t.noName,l=t.noValue,d=!t.markerType,h=t.name,f=i.useUTC,m=t.valueFormatter||i.valueFormatter||function(re){return ge(re=Me(re)?re:[re],function(fe,de){return G0(fe,Me(w)?w[de]:w,f)})};if(!a||!l){var _=d?"":i.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",s),C=a?"":G0(h,"ordinal",f),w=t.valueType,D=l?[]:m(t.value,t.dataIndex),T=!d||!a,I=!d&&a,F=eC(n,s),V=F.nameStyle,H=F.valueStyle;return"richText"===s?(d?"":_)+(a?"":Aw(i,C,V))+(l?"":function ZD(i,t,e,n,s){var a=[s];return e&&a.push({padding:[0,0,0,n?10:20],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(Me(t)?t.join("  "):t,a)}(i,D,T,I,H)):tC((d?"":_)+(a?"":function Dw(i,t,e){return'<span style="'+e+";"+(t?"margin-left:2px":"")+'">'+so(i)+"</span>"}(C,!d,V))+(l?"":function Ew(i,t,e,n){return'<span style="'+(t?"float:right;margin-left:"+(e?"10px":"20px"):"")+";"+n+'">'+ge(i=Me(i)?i:[i],function(l){return so(l)}).join("&nbsp;&nbsp;")+"</span>"}(D,T,I,H)),e)}}function YD(i,t,e,n,s,a){if(i)return xw(i)({useUTC:s,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:i.valueFormatter},i,0,a)}function tC(i,t){return'<div style="margin: '+t+"px 0 0;"+bw+';">'+i+'<div style="clear:both"></div></div>'}function Aw(i,t,e){return i.markupStyleCreator.wrapRichTextStyle(t,e)}function Tw(i,t){return $p(i.getData().getItemVisual(t,"style")[i.visualDrawType])}function Mw(i,t){return i.get("padding")??("richText"===t?[8,10]:10)}var iC=function(){function i(){this.richTextStyles={},this._nextStyleNameId=gy()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(t,e,n){var s="richText"===n?this._generateStyleName():null,a=H0({color:e,type:t,renderMode:n,markerId:s});return Ii(a)?a:(this.richTextStyles[s]=a.style,a.content)},i.prototype.wrapRichTextStyle=function(t,e){var n={};Me(e)?te(e,function(a){return Dt(n,a)}):Dt(n,e);var s=this._generateStyleName();return this.richTextStyles[s]=n,"{"+s+"|"+t+"}"},i}();function Rw(i){var m,_,C,w,t=i.series,e=i.dataIndex,n=i.multipleSeries,s=t.getData(),a=s.mapDimensionsAll("defaultedTooltip"),l=a.length,d=t.getRawValue(e),h=Me(d),f=Tw(t,e);if(l>1||h&&!l){var D=function qD(i,t,e,n,s){var a=t.getData(),l=Re(i,function(_,C,w){var D=a.getDimensionInfo(w);return _||D&&!1!==D.tooltip&&null!=D.displayName},!1),d=[],h=[],f=[];function m(_,C){var w=a.getDimensionInfo(C);!w||!1===w.otherDims.tooltip||(l?f.push(gl("nameValue",{markerType:"subItem",markerColor:s,name:w.displayName,value:_,valueType:w.type})):(d.push(_),h.push(w.type)))}return n.length?te(n,function(_){m(hv(a,e,_),_)}):te(i,m),{inlineValues:d,inlineValueTypes:h,blocks:f}}(d,t,e,a,f);m=D.inlineValues,_=D.inlineValueTypes,C=D.blocks,w=D.inlineValues[0]}else if(l){var T=s.getDimensionInfo(a[0]);w=m=hv(s,e,a[0]),_=T.type}else w=m=h?d[0]:d;var I=U(t),F=I&&t.name||"",V=s.getName(e),H=n?F:V;return gl("section",{header:F,noHeader:n||!I,sortParam:w,blocks:[gl("nameValue",{markerType:"item",markerColor:f,name:H,noName:!uo(H),value:m,valueType:_,dataIndex:e})].concat(C||[])})}var Qp=Xe();function im(i,t){return i.getName(t)||i.getId(t)}var bh="__universalTransitionEnabled",nC=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return P(t,i),t.prototype.init=function(e,n,s){this.seriesIndex=this.componentIndex,this.dataTask=t_({count:nm,reset:Pw}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,s),(Qp(this).sourceManager=new qb(this)).prepareSource();var l=this.getInitialData(e,s);rC(l,this),this.dataTask.context.data=l,Qp(this).dataBeforeProcessed=l,JD(this),this._initSelectedMapFromData(l)},t.prototype.mergeDefaultAndTheme=function(e,n){var s=jy(this),a=s?hc(e):{},l=this.subType;go.hasClass(l)&&(l+="Series"),Pt(e,n.getTheme().get(this.subType)),Pt(e,this.getDefaultOption()),Ul(e,"label",["show"]),this.fillDataTextStyle(e.data),s&&Gf(e,a,s)},t.prototype.mergeOption=function(e,n){e=Pt(this.option,e,!0),this.fillDataTextStyle(e.data);var s=jy(this);s&&Gf(this.option,e,s);var a=Qp(this).sourceManager;a.dirty(),a.prepareSource();var l=this.getInitialData(e,n);rC(l,this),this.dataTask.dirty(),this.dataTask.context.data=l,Qp(this).dataBeforeProcessed=l,JD(this),this._initSelectedMapFromData(l)},t.prototype.fillDataTextStyle=function(e){if(e&&!ai(e))for(var n=["show"],s=0;s<e.length;s++)e[s]&&e[s].label&&Ul(e[s],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var n=eE(this);if(n){var s=n.context.data;return null!=e&&s.getLinkedData?s.getLinkedData(e):s}return Qp(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=eE(this);if(n){var s=n.context;s.outputData=e,n!==this.dataTask&&(s.data=e)}Qp(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return Rn(e)},t.prototype.getSourceManager=function(){return Qp(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Qp(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,n,s){return Rw({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(Tt.node&&(!e||!e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,s){var a=this.ecModel,l=Xy.prototype.getColorFromPalette.call(this,e,n,s);return l||(l=a.getColorFromPalette(e,n,s)),l},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var s=this.option.selectedMap;if(s){var a=this.option.selectedMode,l=this.getData(n);if("series"===a||"all"===s)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var d=0;d<e.length;d++){var f=im(l,e[d]);s[f]=!1,this._selectedDataIndicesMap[f]=-1}}},t.prototype.toggleSelect=function(e,n){for(var s=[],a=0;a<e.length;a++)s[0]=e[a],this.isSelected(e[a],n)?this.unselect(s,n):this.select(s,n)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=Ri(e),s=[],a=0;a<n.length;a++){var l=e[n[a]];l>=0&&s.push(l)}return s},t.prototype.isSelected=function(e,n){var s=this.option.selectedMap;if(!s)return!1;var a=this.getData(n);return("all"===s||s[im(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[bh])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,n){var s,a,l=this.option,d=l.selectedMode,h=n.length;if(d&&h)if("series"===d)l.selectedMap="all";else if("multiple"===d){Zi(l.selectedMap)||(l.selectedMap={});for(var f=l.selectedMap,m=0;m<h;m++){var _=n[m];f[C=im(e,_)]=!0,this._selectedDataIndicesMap[C]=e.getRawIndex(_)}}else if("single"===d||!0===d){var w=n[h-1],C=im(e,w);l.selectedMap=((s={})[C]=!0,s),this._selectedDataIndicesMap=((a={})[C]=e.getRawIndex(w),a)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(s){var a=e.getRawDataItem(s);a&&a.selected&&n.push(s)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return go.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(go);function JD(i){var t=i.name;U(i)||(i.name=function Iw(i){var t=i.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return te(e,function(s){var a=t.getDimensionInfo(s);a.displayName&&n.push(a.displayName)}),n.join(" ")}(i)||t)}function nm(i){return i.model.getRawData().count()}function Pw(i){var t=i.model;return t.setData(t.getRawData().cloneShallow()),e1}function e1(i,t){t.outputData&&i.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function rC(i,t){te(pr(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(e){i.wrapMethod(e,Se(mF,t))})}function mF(i,t){var e=eE(i);return e&&e.setOutputEnd((t||this).count()),t}function eE(i){var t=(i.ecModel||{}).scheduler,e=t&&t.getPipeline(i.uid);if(e){var n=e.currentTask;if(n){var s=n.agentStubMap;s&&(n=s.get(i.uid))}return n}}Gt(nC,Kb),Gt(nC,Xy),Al(nC,go);const Us=nC;var kw=function(){function i(){this.group=new zn,this.uid=cn("viewComponent")}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,s){},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,s){},i.prototype.updateLayout=function(t,e,n,s){},i.prototype.updateVisual=function(t,e,n,s){},i.prototype.toggleBlurSeries=function(t,e,n){},i.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},i}();aa(kw),zc(kw);const Ks=kw;function yv(){var i=Xe();return function(t){var e=i(t),n=t.pipelineContext,s=!!e.large,a=!!e.progressiveRender,l=e.large=!(!n||!n.large),d=e.progressiveRender=!(!n||!n.progressiveRender);return(s!==l||a!==d)&&"reset"}}var Ta=zl.CMD,tE=[[],[],[]],iE=Math.sqrt,t1=Math.atan2;function Fw(i,t){if(t){var s,a,l,d,h,f,e=i.data,n=i.len(),m=Ta.M,_=Ta.C,C=Ta.L,w=Ta.R,D=Ta.A,T=Ta.Q;for(l=0,d=0;l<n;){switch(s=e[l++],d=l,a=0,s){case m:case C:a=1;break;case _:a=3;break;case T:a=2;break;case D:var I=t[4],F=t[5],V=iE(t[0]*t[0]+t[1]*t[1]),H=iE(t[2]*t[2]+t[3]*t[3]),re=t1(-t[1]/H,t[0]/V);e[l]*=V,e[l++]+=I,e[l]*=H,e[l++]+=F,e[l++]*=V,e[l++]*=H,e[l++]+=re,e[l++]+=re,d=l+=2;break;case w:f[0]=e[l++],f[1]=e[l++],mo(f,f,t),e[d++]=f[0],e[d++]=f[1],f[0]+=e[l++],f[1]+=e[l++],mo(f,f,t),e[d++]=f[0],e[d++]=f[1]}for(h=0;h<a;h++){var fe=tE[h];fe[0]=e[l++],fe[1]=e[l++],mo(fe,fe,t),e[d++]=fe[0],e[d++]=fe[1]}}i.increaseVersion()}}var Ow=Math.sqrt,l_=Math.sin,c_=Math.cos,ep=Math.PI;function nE(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function Lw(i,t){return(i[0]*t[0]+i[1]*t[1])/(nE(i)*nE(t))}function Nw(i,t){return(i[0]*t[1]<i[1]*t[0]?-1:1)*Math.acos(Lw(i,t))}function rE(i,t,e,n,s,a,l,d,h,f,m){var _=h*(ep/180),C=c_(_)*(i-e)/2+l_(_)*(t-n)/2,w=-1*l_(_)*(i-e)/2+c_(_)*(t-n)/2,D=C*C/(l*l)+w*w/(d*d);D>1&&(l*=Ow(D),d*=Ow(D));var T=(s===a?-1:1)*Ow((l*l*(d*d)-l*l*(w*w)-d*d*(C*C))/(l*l*(w*w)+d*d*(C*C)))||0,I=T*l*w/d,F=T*-d*C/l,V=(i+e)/2+c_(_)*I-l_(_)*F,H=(t+n)/2+l_(_)*I+c_(_)*F,re=Nw([1,0],[(C-I)/l,(w-F)/d]),fe=[(C-I)/l,(w-F)/d],de=[(-1*C-I)/l,(-1*w-F)/d],Ee=Nw(fe,de);if(Lw(fe,de)<=-1&&(Ee=ep),Lw(fe,de)>=1&&(Ee=0),Ee<0){var Ue=Math.round(Ee/ep*1e6)/1e6;Ee=2*ep+Ue%2*ep}m.addData(f,V,H,l,d,re,Ee,_,a)}var oE=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,vF=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,oC=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return Fi(t,i),t.prototype.applyTransform=function(e){},t}($r);function Wu(i){return null!=i.setData}function sE(i,t){var e=function Bw(i){var t=new zl;if(!i)return t;var l,e=0,n=0,s=e,a=n,d=zl.CMD,h=i.match(oE);if(!h)return t;for(var f=0;f<h.length;f++){for(var m=h[f],_=m.charAt(0),C=void 0,w=m.match(vF)||[],D=w.length,T=0;T<D;T++)w[T]=parseFloat(w[T]);for(var I=0;I<D;){var F=void 0,V=void 0,H=void 0,re=void 0,fe=void 0,de=void 0,Ee=void 0,Ue=e,ze=n,nt=void 0,gt=void 0;switch(_){case"l":e+=w[I++],n+=w[I++],t.addData(C=d.L,e,n);break;case"L":e=w[I++],n=w[I++],t.addData(C=d.L,e,n);break;case"m":e+=w[I++],n+=w[I++],t.addData(C=d.M,e,n),s=e,a=n,_="l";break;case"M":e=w[I++],n=w[I++],t.addData(C=d.M,e,n),s=e,a=n,_="L";break;case"h":e+=w[I++],t.addData(C=d.L,e,n);break;case"H":e=w[I++],t.addData(C=d.L,e,n);break;case"v":n+=w[I++],t.addData(C=d.L,e,n);break;case"V":n=w[I++],t.addData(C=d.L,e,n);break;case"C":t.addData(C=d.C,w[I++],w[I++],w[I++],w[I++],w[I++],w[I++]),e=w[I-2],n=w[I-1];break;case"c":t.addData(C=d.C,w[I++]+e,w[I++]+n,w[I++]+e,w[I++]+n,w[I++]+e,w[I++]+n),e+=w[I-2],n+=w[I-1];break;case"S":F=e,V=n,nt=t.len(),gt=t.data,l===d.C&&(F+=e-gt[nt-4],V+=n-gt[nt-3]),Ue=w[I++],ze=w[I++],e=w[I++],n=w[I++],t.addData(C=d.C,F,V,Ue,ze,e,n);break;case"s":F=e,V=n,nt=t.len(),gt=t.data,l===d.C&&(F+=e-gt[nt-4],V+=n-gt[nt-3]),Ue=e+w[I++],ze=n+w[I++],e+=w[I++],n+=w[I++],t.addData(C=d.C,F,V,Ue,ze,e,n);break;case"Q":Ue=w[I++],ze=w[I++],e=w[I++],n=w[I++],t.addData(C=d.Q,Ue,ze,e,n);break;case"q":Ue=w[I++]+e,ze=w[I++]+n,e+=w[I++],n+=w[I++],t.addData(C=d.Q,Ue,ze,e,n);break;case"T":F=e,V=n,nt=t.len(),gt=t.data,l===d.Q&&(F+=e-gt[nt-4],V+=n-gt[nt-3]),e=w[I++],n=w[I++],t.addData(C=d.Q,F,V,e,n);break;case"t":F=e,V=n,nt=t.len(),gt=t.data,l===d.Q&&(F+=e-gt[nt-4],V+=n-gt[nt-3]),e+=w[I++],n+=w[I++],t.addData(C=d.Q,F,V,e,n);break;case"A":H=w[I++],re=w[I++],fe=w[I++],de=w[I++],Ee=w[I++],rE(Ue=e,ze=n,e=w[I++],n=w[I++],de,Ee,H,re,fe,C=d.A,t);break;case"a":H=w[I++],re=w[I++],fe=w[I++],de=w[I++],Ee=w[I++],rE(Ue=e,ze=n,e+=w[I++],n+=w[I++],de,Ee,H,re,fe,C=d.A,t)}}("z"===_||"Z"===_)&&(t.addData(C=d.Z),e=s,n=a),l=C}return t.toStatic(),t}(i),n=Dt({},t);return n.buildPath=function(s){var a;Wu(s)?(s.setData(e.data),(a=s.getContext())&&s.rebuildPath(a,1)):e.rebuildPath(a=s,1)},n.applyTransform=function(s){Fw(e,s),this.dirtyShape()},n}function Vw(i,t){return new oC(sE(i,t))}function au(i,t){t=t||{};var e=new $r;return i.shape&&e.setShape(i.shape),e.setStyle(i.style),t.bakeTransform?Fw(e.path,i.getComputedTransform()):t.toLocal?e.setLocalTransform(i.getComputedTransform()):e.copyTransform(i),e.buildPath=i.buildPath,e.applyTransform=e.applyTransform,e.z=i.z,e.z2=i.z2,e.zlevel=i.zlevel,e}var aE=function i(){this.cx=0,this.cy=0,this.r=0},Gw=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new aE},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,2*Math.PI)},t}($r);Gw.prototype.type="circle";const Zp=Gw;var n1=function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},lE=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new n1},t.prototype.buildPath=function(e,n){var s=.5522848,a=n.cx,l=n.cy,d=n.rx,h=n.ry,f=d*s,m=h*s;e.moveTo(a-d,l),e.bezierCurveTo(a-d,l-m,a-f,l-h,a,l-h),e.bezierCurveTo(a+f,l-h,a+d,l-m,a+d,l),e.bezierCurveTo(a+d,l+m,a+f,l+h,a,l+h),e.bezierCurveTo(a-f,l+h,a-d,l+m,a-d,l),e.closePath()},t}($r);lE.prototype.type="ellipse";const sC=lE;var aC=Math.PI,rm=2*aC,om=Math.sin,sm=Math.cos,r1=Math.acos,ed=Math.atan2,Hw=Math.abs,_v=Math.sqrt,Uf=Math.max,ip=Math.min,ju=1e-4;function d_(i,t,e,n,s,a,l){var d=i-e,h=t-n,f=(l?a:-a)/_v(d*d+h*h),m=f*h,_=-f*d,C=i+m,w=t+_,D=e+m,T=n+_,I=(C+D)/2,F=(w+T)/2,V=D-C,H=T-w,re=V*V+H*H,fe=s-a,de=C*T-D*w,Ee=(H<0?-1:1)*_v(Uf(0,fe*fe*re-de*de)),Ue=(de*H-V*Ee)/re,ze=(-de*V-H*Ee)/re,nt=(de*H+V*Ee)/re,gt=(-de*V+H*Ee)/re,Vt=Ue-I,$t=ze-F,hi=nt-I,gi=gt-F;return Vt*Vt+$t*$t>hi*hi+gi*gi&&(Ue=nt,ze=gt),{cx:Ue,cy:ze,x0:-m,y0:-_,x1:Ue*(s/fe-1),y1:ze*(s/fe-1)}}var Uw=function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},u_=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new Uw},t.prototype.buildPath=function(e,n){!function s1(i,t){var e,n=Uf(t.r,0),s=Uf(t.r0||0,0),a=n>0;if(a||s>0){if(a||(n=s,s=0),s>n){var d=n;n=s,s=d}var h=t.startAngle,f=t.endAngle;if(!isNaN(h)&&!isNaN(f)){var m=t.cx,_=t.cy,C=!!t.clockwise,w=Hw(f-h),D=w>rm&&w%rm;if(D>ju&&(w=D),n>ju)if(w>rm-ju)i.moveTo(m+n*sm(h),_+n*om(h)),i.arc(m,_,n,h,f,!C),s>ju&&(i.moveTo(m+s*sm(f),_+s*om(f)),i.arc(m,_,s,f,h,C));else{var T=void 0,I=void 0,F=void 0,V=void 0,H=void 0,re=void 0,fe=void 0,de=void 0,Ee=void 0,Ue=void 0,ze=void 0,nt=void 0,gt=void 0,Vt=void 0,$t=void 0,hi=void 0,gi=n*sm(h),Pi=n*om(h),Yi=s*sm(f),ji=s*om(f),rn=w>ju;if(rn){var bn=t.cornerRadius;bn&&(e=function o1(i){var t;if(Me(i)){var e=i.length;if(!e)return i;t=1===e?[i[0],i[0],0,0]:2===e?[i[0],i[0],i[1],i[1]]:3===e?i.concat(i[2]):i}else t=[i,i,i,i];return t}(bn),T=e[0],I=e[1],F=e[2],V=e[3]);var In=Hw(n-s)/2;if(H=ip(In,F),re=ip(In,V),fe=ip(In,T),de=ip(In,I),ze=Ee=Uf(H,re),nt=Ue=Uf(fe,de),(Ee>ju||Ue>ju)&&(gt=n*sm(f),Vt=n*om(f),$t=s*sm(h),hi=s*om(h),w<aC)){var Vn=function cE(i,t,e,n,s,a,l,d){var h=e-i,f=n-t,m=l-s,_=d-a,C=_*h-m*f;if(!(C*C<ju))return[i+(C=(m*(t-a)-_*(i-s))/C)*h,t+C*f]}(gi,Pi,$t,hi,gt,Vt,Yi,ji);if(Vn){var lr=gi-Vn[0],ur=Pi-Vn[1],Yr=gt-Vn[0],xo=Vt-Vn[1],qr=1/om(r1((lr*Yr+ur*xo)/(_v(lr*lr+ur*ur)*_v(Yr*Yr+xo*xo)))/2),br=_v(Vn[0]*Vn[0]+Vn[1]*Vn[1]);ze=ip(Ee,(n-br)/(qr+1)),nt=ip(Ue,(s-br)/(qr-1))}}}if(rn)if(ze>ju){var Jr=ip(F,ze),Lr=ip(V,ze),ir=d_($t,hi,gi,Pi,n,Jr,C),Nr=d_(gt,Vt,Yi,ji,n,Lr,C);i.moveTo(m+ir.cx+ir.x0,_+ir.cy+ir.y0),ze<Ee&&Jr===Lr?i.arc(m+ir.cx,_+ir.cy,ze,ed(ir.y0,ir.x0),ed(Nr.y0,Nr.x0),!C):(Jr>0&&i.arc(m+ir.cx,_+ir.cy,Jr,ed(ir.y0,ir.x0),ed(ir.y1,ir.x1),!C),i.arc(m,_,n,ed(ir.cy+ir.y1,ir.cx+ir.x1),ed(Nr.cy+Nr.y1,Nr.cx+Nr.x1),!C),Lr>0&&i.arc(m+Nr.cx,_+Nr.cy,Lr,ed(Nr.y1,Nr.x1),ed(Nr.y0,Nr.x0),!C))}else i.moveTo(m+gi,_+Pi),i.arc(m,_,n,h,f,!C);else i.moveTo(m+gi,_+Pi);s>ju&&rn?nt>ju?(Jr=ip(T,nt),ir=d_(Yi,ji,gt,Vt,s,-(Lr=ip(I,nt)),C),Nr=d_(gi,Pi,$t,hi,s,-Jr,C),i.lineTo(m+ir.cx+ir.x0,_+ir.cy+ir.y0),nt<Ue&&Jr===Lr?i.arc(m+ir.cx,_+ir.cy,nt,ed(ir.y0,ir.x0),ed(Nr.y0,Nr.x0),!C):(Lr>0&&i.arc(m+ir.cx,_+ir.cy,Lr,ed(ir.y0,ir.x0),ed(ir.y1,ir.x1),!C),i.arc(m,_,s,ed(ir.cy+ir.y1,ir.cx+ir.x1),ed(Nr.cy+Nr.y1,Nr.cx+Nr.x1),C),Jr>0&&i.arc(m+Nr.cx,_+Nr.cy,Jr,ed(Nr.y1,Nr.x1),ed(Nr.y0,Nr.x0),!C))):(i.lineTo(m+Yi,_+ji),i.arc(m,_,s,f,h,C)):i.lineTo(m+Yi,_+ji)}else i.moveTo(m,_);i.closePath()}}}(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}($r);u_.prototype.type="sector";const xc=u_;var dE=function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0},zw=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new dE},t.prototype.buildPath=function(e,n){var s=n.cx,a=n.cy,l=2*Math.PI;e.moveTo(s+n.r,a),e.arc(s,a,n.r,0,l,!1),e.moveTo(s+n.r0,a),e.arc(s,a,n.r0,0,l,!0)},t}($r);zw.prototype.type="ring";const bv=zw;function Ww(i,t,e){var n=t.smooth,s=t.points;if(s&&s.length>=2){if(n){var a=function uE(i,t,e,n){var h,f,m,_,s=[],a=[],l=[],d=[];if(n){m=[1/0,1/0],_=[-1/0,-1/0];for(var C=0,w=i.length;C<w;C++)ms(m,m,i[C]),Ho(_,_,i[C]);ms(m,m,n[0]),Ho(_,_,n[1])}for(C=0,w=i.length;C<w;C++){var D=i[C];if(e)h=i[C?C-1:w-1],f=i[(C+1)%w];else{if(0===C||C===w-1){s.push(ls(i[C]));continue}h=i[C-1],f=i[C+1]}Cr(a,f,h),Kr(a,a,t);var T=gs(D,h),I=gs(D,f),F=T+I;0!==F&&(T/=F,I/=F),Kr(l,a,-T),Kr(d,a,I);var V=Ia([],D,l),H=Ia([],D,d);n&&(Ho(V,V,m),ms(V,V,_),Ho(H,H,m),ms(H,H,_)),s.push(V),s.push(H)}return e&&s.push(s.shift()),s}(s,n,e,t.smoothConstraint);i.moveTo(s[0][0],s[0][1]);for(var l=s.length,d=0;d<(e?l:l-1);d++){var h=a[2*d],f=a[2*d+1],m=s[(d+1)%l];i.bezierCurveTo(h[0],h[1],f[0],f[1],m[0],m[1])}}else{i.moveTo(s[0][0],s[0][1]),d=1;for(var _=s.length;d<_;d++)i.lineTo(s[d][0],s[d][1])}e&&i.closePath()}}var hE=function i(){this.points=null,this.smooth=0,this.smoothConstraint=null},jw=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultShape=function(){return new hE},t.prototype.buildPath=function(e,n){Ww(e,n,!0)},t}($r);jw.prototype.type="polygon";const td=jw;var pE=function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},fE=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new pE},t.prototype.buildPath=function(e,n){Ww(e,n,!1)},t}($r);fE.prototype.type="polyline";const md=fE;var a1={},l1=function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},gE=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new l1},t.prototype.buildPath=function(e,n){var s,a,l,d;if(this.subPixelOptimize){var h=Mu(a1,n,this.style);s=h.x1,a=h.y1,l=h.x2,d=h.y2}else s=n.x1,a=n.y1,l=n.x2,d=n.y2;var f=n.percent;0!==f&&(e.moveTo(s,a),f<1&&(l=s*(1-f)+l*f,d=a*(1-f)+d*f),e.lineTo(l,d))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}($r);gE.prototype.type="line";const Yl=gE;var Ud=[],c1=function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function mE(i,t,e){return null!=i.cpx2||null!=i.cpy2?[(e?sa:Br)(i.x1,i.cpx1,i.cpx2,i.x2,t),(e?sa:Br)(i.y1,i.cpy1,i.cpy2,i.y2,t)]:[(e?kc:Tr)(i.x1,i.cpx1,i.x2,t),(e?kc:Tr)(i.y1,i.cpy1,i.y2,t)]}var vE=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new c1},t.prototype.buildPath=function(e,n){var s=n.x1,a=n.y1,l=n.x2,d=n.y2,h=n.cpx1,f=n.cpy1,m=n.cpx2,_=n.cpy2,C=n.percent;0!==C&&(e.moveTo(s,a),null==m||null==_?(C<1&&(Z(s,h,l,C,Ud),h=Ud[1],l=Ud[2],Z(a,f,d,C,Ud),f=Ud[1],d=Ud[2]),e.quadraticCurveTo(h,f,l,d)):(C<1&&(Ya(s,h,m,l,C,Ud),h=Ud[1],m=Ud[2],l=Ud[3],Ya(a,f,_,d,C,Ud),f=Ud[1],_=Ud[2],d=Ud[3]),e.bezierCurveTo(h,f,m,_,l,d)))},t.prototype.pointAt=function(e){return mE(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=mE(this.shape,e,!0);return Do(n,n)},t}($r);vE.prototype.type="bezier-curve";const h_=vE;var d1=function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},yE=function(i){function t(e){return i.call(this,e)||this}return Fi(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new d1},t.prototype.buildPath=function(e,n){var s=n.cx,a=n.cy,l=Math.max(n.r,0),d=n.startAngle,h=n.endAngle,f=n.clockwise,m=Math.cos(d),_=Math.sin(d);e.moveTo(m*l+s,_*l+a),e.arc(s,a,l,d,h,!f)},t}($r);yE.prototype.type="arc";const lC=yE;var u1=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="compound",e}return Fi(t,i),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),s=0;s<e.length;s++)n=n||e[s].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),s=0;s<e.length;s++)e[s].path||e[s].createPathProxy(),e[s].path.setScale(n[0],n[1],e[s].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var s=n.paths||[],a=0;a<s.length;a++)s[a].buildPath(e,s[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),$r.prototype.getBoundingRect.call(this)},t}($r);const cC=u1;var _E=function(){function i(t){this.colorStops=t||[]}return i.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},i}();const $w=_E;var bE=function(i){function t(e,n,s,a,l,d){var h=i.call(this,l)||this;return h.x=e??0,h.y=n??0,h.x2=s??1,h.y2=a??0,h.type="linear",h.global=d||!1,h}return Fi(t,i),t}($w);const am=bE;var CE=function(i){function t(e,n,s,a,l){var d=i.call(this,a)||this;return d.x=e??.5,d.y=n??.5,d.r=s??.5,d.type="radial",d.global=l||!1,d}return Fi(t,i),t}($w);const dC=CE;var zf=[0,0],Wf=[0,0],p_=new sr,Cv=new sr,Kw=function(){function i(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new sr;for(n=0;n<2;n++)this._axes[n]=new sr;t&&this.fromBoundingRect(t,e)}return i.prototype.fromBoundingRect=function(t,e){var n=this._corners,s=this._axes,a=t.x,l=t.y,d=a+t.width,h=l+t.height;if(n[0].set(a,l),n[1].set(d,l),n[2].set(d,h),n[3].set(a,h),e)for(var f=0;f<4;f++)n[f].transform(e);for(sr.sub(s[0],n[1],n[0]),sr.sub(s[1],n[3],n[0]),s[0].normalize(),s[1].normalize(),f=0;f<2;f++)this._origin[f]=s[f].dot(n[0])},i.prototype.intersect=function(t,e){var n=!0,s=!e;return p_.set(1/0,1/0),Cv.set(0,0),!this._intersectCheckOneSide(this,t,p_,Cv,s,1)&&(n=!1,s)||!this._intersectCheckOneSide(t,this,p_,Cv,s,-1)&&(n=!1,s)||s||sr.copy(e,n?p_:Cv),n},i.prototype._intersectCheckOneSide=function(t,e,n,s,a,l){for(var d=!0,h=0;h<2;h++){var f=this._axes[h];if(this._getProjMinMaxOnAxis(h,t._corners,zf),this._getProjMinMaxOnAxis(h,e._corners,Wf),zf[1]<Wf[0]||zf[0]>Wf[1]){if(d=!1,a)return d;var m=Math.abs(Wf[0]-zf[1]),_=Math.abs(zf[0]-Wf[1]);Math.min(m,_)>s.len()&&sr.scale(s,f,m<_?-m*l:_*l)}else n&&(m=Math.abs(Wf[0]-zf[1]),_=Math.abs(zf[0]-Wf[1]),Math.min(m,_)<n.len()&&sr.scale(n,f,m<_?m*l:-_*l))}return d},i.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var s=this._axes[t],a=this._origin,l=e[0].dot(s)+a[t],d=l,h=l,f=1;f<e.length;f++){var m=e[f].dot(s)+a[t];d=Math.min(m,d),h=Math.max(m,h)}n[0]=d,n[1]=h},i}();const np=Kw;var h1=[],p1=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Fi(t,i),t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var s=0;s<e.length;s++)this.addDisplayable(e[s],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(n=this._displayables[e]).parent=this,n.update(),n.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var n;(n=this._temporaryDisplayables[e]).parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Qn(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var s=this._displayables[n],a=s.getBoundingRect().clone();s.needLocalTransform()&&a.applyTransform(s.getLocalTransform(h1)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var s=this.transformCoordToLocal(e,n);if(this.getBoundingRect().contain(s[0],s[1]))for(var l=0;l<this._displayables.length;l++)if(this._displayables[l].contain(e,n))return!0;return!1},t}(cd);const lm=p1;var Xw=Math.max,wv=Math.min,wE={};function Yw(i){return $r.extend(i)}var xE=function tp(i,t){var e=sE(i,t);return function(s){function a(l){var d=s.call(this,l)||this;return d.applyTransform=e.applyTransform,d.buildPath=e.buildPath,d}return Fi(a,s),a}(oC)};function f1(i,t){return xE(i,t)}function Sc(i,t){wE[i]=t}function uC(i){if(wE.hasOwnProperty(i))return wE[i]}function f_(i,t,e,n){var s=Vw(i,t);return e&&("center"===n&&(e=cm(e,s.getBoundingRect())),xv(s,e)),s}function Qw(i,t,e){var n=new hs({style:{image:i,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(s){"center"===e&&n.setStyle(cm(t,{width:s.width,height:s.height}))}});return n}function cm(i,t){var s,e=t.width/t.height,n=i.height*e;return s=n<=i.width?i.height:(n=i.width)/e,{x:i.x+i.width/2-n/2,y:i.y+i.height/2-s/2,width:n,height:s}}var lu=function Ch(i,t){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s].getUpdatedPathProxy(!0));var l=new $r(t);return l.createPathProxy(),l.buildPath=function(d){if(Wu(d)){d.appendPath(e);var h=d.getContext();h&&d.rebuildPath(h,1)}},l};function xv(i,t){if(i.applyTransform){var n=i.getBoundingRect().calculateTransform(t);i.applyTransform(n)}}function qp(i,t){return Mu(i,i,{lineWidth:t}),i}function zd(i){return Pg(i.shape,i.shape,i.style),i}var Zw=pd;function Jp(i,t){for(var e=na([]);i&&i!==t;)ja(e,i.getLocalTransform(),e),i=i.parent;return e}function $u(i,t,e){return t&&!Pe(t)&&(t=ic.getLocalTransform(t)),e&&(t=Ea([],t)),mo([],i,t)}function hC(i,t,e){var n=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),s=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),a=["left"===i?-n:"right"===i?n:0,"top"===i?-s:"bottom"===i?s:0];return a=$u(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function qw(i){return!i.isGroup}function Sv(i,t,e){if(i&&t){var a=function n(l){var d={};return l.traverse(function(h){qw(h)&&h.anid&&(d[h.anid]=h)}),d}(i);t.traverse(function(l){if(qw(l)&&l.anid){var d=a[l.anid];if(d){var h=s(l);l.attr(s(d)),wo(l,h,e,dr(l).dataIndex)}}})}function s(l){var d={x:l.x,y:l.y,rotation:l.rotation};return function SE(i){return null!=i.shape}(l)&&(d.shape=Dt({},l.shape)),d}}function pC(i,t){return ge(i,function(e){var n=e[0];n=Xw(n,t.x),n=wv(n,t.x+t.width);var s=e[1];return s=Xw(s,t.y),[n,s=wv(s,t.y+t.height)]})}function DE(i,t){var e=Xw(i.x,t.x),n=wv(i.x+i.width,t.x+t.width),s=Xw(i.y,t.y),a=wv(i.y+i.height,t.y+t.height);if(n>=e&&a>=s)return{x:e,y:s,width:n-e,height:a-s}}function Dv(i,t,e){var n=Dt({rectHover:!0},t),s=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},i)return 0===i.indexOf("image://")?(s.image=i.slice(8),je(s,e),new hs(n)):f_(i.replace("path://",""),n,e,"center")}function g_(i,t,e,n,s){for(var a=0,l=s[s.length-1];a<s.length;a++){var d=s[a];if(Ev(i,t,e,n,d[0],d[1],l[0],l[1]))return!0;l=d}}function Ev(i,t,e,n,s,a,l,d){var h=e-i,f=n-t,m=l-s,_=d-a,C=Jw(m,_,h,f);if(function g1(i){return i<=1e-6&&i>=-1e-6}(C))return!1;var w=i-s,D=t-a,T=Jw(w,D,h,f)/C;if(T<0||T>1)return!1;var I=Jw(w,D,m,_)/C;return!(I<0||I>1)}function Jw(i,t,e,n){return i*n-e*t}function Av(i){var t=i.itemTooltipOption,e=i.componentModel,n=i.itemName,s=Ii(t)?{formatter:t}:t,a=e.mainType,l=e.componentIndex,d={componentType:a,name:n,$vars:["name"]};d[a+"Index"]=l;var h=i.formatterParamsExtra;h&&te(Ri(h),function(m){oe(d,m)||(d[m]=h[m],d.$vars.push(m))});var f=dr(i.el);f.componentMainType=a,f.componentIndex=l,f.tooltipConfig={name:n,option:je({content:n,encodeHTMLContent:!0,formatterParams:d},s)}}function m_(i,t){var e;i.isGroup&&(e=t(i)),e||i.traverse(t)}function ef(i,t){if(i)if(Me(i))for(var e=0;e<i.length;e++)m_(i[e],t);else m_(i,t)}Sc("circle",Zp),Sc("ellipse",sC),Sc("sector",xc),Sc("ring",bv),Sc("polygon",td),Sc("polyline",md),Sc("rect",kr),Sc("line",Yl),Sc("bezierCurve",h_),Sc("arc",lC);var ex=Xe(),EE=yv(),tx=function(){function i(){this.group=new zn,this.uid=cn("viewChart"),this.renderTask=t_({plan:m1,reset:v1}),this.renderTask.context={view:this}}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,s){},i.prototype.highlight=function(t,e,n,s){var a=t.getData(s&&s.dataType);a&&Mv(a,s,"emphasis")},i.prototype.downplay=function(t,e,n,s){var a=t.getData(s&&s.dataType);a&&Mv(a,s,"normal")},i.prototype.remove=function(t,e){this.group.removeAll()},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,s){this.render(t,e,n,s)},i.prototype.updateLayout=function(t,e,n,s){this.render(t,e,n,s)},i.prototype.updateVisual=function(t,e,n,s){this.render(t,e,n,s)},i.prototype.eachRendered=function(t){ef(this.group,t)},i.markUpdateMethod=function(t,e){ex(t).updateMethod=e},i.protoInitialize=void(i.prototype.type="chart"),i}();function Tv(i,t,e){i&&kf(i)&&("emphasis"===t?ru:Qc)(i,e)}function Mv(i,t,e){var n=xt(i,t),s=t&&null!=t.highlightKey?function Lu(i){var t=Zo[i];return null==t&&jm<=32&&(t=Zo[i]=jm++),t}(t.highlightKey):null;null!=n?te(Fr(n),function(a){Tv(i.getItemGraphicEl(a),e,s)}):i.eachItemGraphicEl(function(a){Tv(a,e,s)})}function m1(i){return EE(i.model)}function v1(i){var t=i.model,e=i.ecModel,n=i.api,s=i.payload,a=t.pipelineContext.progressiveRender,l=i.view,d=s&&ex(s).updateMethod,h=a?"incrementalPrepareRender":d&&l[d]?d:"render";return"render"!==h&&l[h](t,e,n,s),y1[h]}aa(tx),zc(tx);var y1={incrementalPrepareRender:{progress:function(i,t){t.view.incrementalRender(i,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(i,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const fs=tx;var v_="\0__throttleOriginMethod",ix="\0__throttleRate",AE="\0__throttleType";function y_(i,t,e){var n,d,h,f,m,s=0,a=0,l=null;function _(){a=(new Date).getTime(),l=null,i.apply(h,f||[])}t=t||0;var C=function(){for(var w=[],D=0;D<arguments.length;D++)w[D]=arguments[D];n=(new Date).getTime(),h=this,f=w;var T=m||t,I=m||e;m=null,d=n-(I?s:a)-T,clearTimeout(l),I?l=setTimeout(_,T):d>=0?_():l=setTimeout(_,-d),s=n};return C.clear=function(){l&&(clearTimeout(l),l=null)},C.debounceNextCall=function(w){m=w},C}function Rv(i,t,e,n){var s=i[t];if(s){var a=s[v_]||s;if(s[ix]!==e||s[AE]!==n){if(null==e||!n)return i[t]=a;(s=i[t]=y_(a,e,"debounce"===n))[v_]=a,s[AE]=n,s[ix]=e}return s}}function __(i,t){var e=i[t];e&&e[v_]&&(e.clear&&e.clear(),i[t]=e[v_])}var _1=Xe(),b1={itemStyle:ba(Bt,!0),lineStyle:ba(be,!0)},yF={lineStyle:"stroke",itemStyle:"fill"};function C1(i,t){return i.visualStyleMapper||b1[t]||(console.warn("Unknown style type '"+t+"'."),b1.itemStyle)}function nx(i,t){return i.visualDrawType||yF[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var fC={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",s=i.getModel(n),l=C1(i,n)(s),d=s.getShallow("decal");d&&(e.setVisual("decal",d),d.dirty=!0);var h=nx(i,n),f=l[h],m=Nt(f)?f:null;if(!l[h]||m||"auto"===l.fill||"auto"===l.stroke){var C=i.getColorFromPalette(i.name,null,t.getSeriesCount());l[h]||(l[h]=C,e.setVisual("colorFromPalette",!0)),l.fill="auto"===l.fill||Nt(l.fill)?C:l.fill,l.stroke="auto"===l.stroke||Nt(l.stroke)?C:l.stroke}if(e.setVisual("style",l),e.setVisual("drawType",h),!t.isSeriesFiltered(i)&&m)return e.setVisual("colorFromPalette",!1),{dataEach:function(w,D){var T=i.getDataParams(D),I=Dt({},l);I[h]=m(T),w.setItemVisual(D,"style",I)}}}},b_=new Vi,w1={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!i.ignoreStyleOnData&&!t.isSeriesFiltered(i)){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",s=C1(i,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(l,d){var h=l.getRawDataItem(d);if(h&&h[n]){b_.option=h[n];var f=s(b_);Dt(l.ensureUniqueItemVisual(d,"style"),f),b_.option.decal&&(l.setItemVisual(d,"decal",b_.option.decal),b_.option.decal.dirty=!0),a in f&&l.setItemVisual(d,"colorFromPalette",!1)}}:null}}}},TE={performRawSeries:!0,overallReset:function(i){var t=Rn();i.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var s=e.type+"-"+n,a=t.get(s);a||t.set(s,a={}),_1(e).scope=a}}),i.eachSeries(function(e){if(!e.isColorBySeries()&&!i.isSeriesFiltered(e)){var n=e.getRawData(),s={},a=e.getData(),l=_1(e).scope,h=nx(e,e.visualStyleAccessPath||"itemStyle");a.each(function(f){var m=a.getRawIndex(f);s[m]=f}),n.each(function(f){var m=s[f];if(a.getItemVisual(m,"colorFromPalette")){var C=a.ensureUniqueItemVisual(m,"style"),w=n.getName(f)||f+"",D=n.count();C[h]=e.getColorFromPalette(w,l,D)}})}})}},jf=Math.PI,S1=function(){function i(t,e,n,s){this._stageTaskMap=Rn(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=n.concat(s)}return i.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var s=n.overallTask;s&&s.dirty()})},i.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),s=n.context,l=!e&&n.progressiveEnabled&&(!s||s.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,d=s&&s.modDataCount;return{step:l,modBy:null!=d?Math.ceil(d/l):null,modDataCount:d}}},i.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},i.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),a=t.getData().count(),l=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,d=t.get("large")&&a>=t.get("largeThreshold"),h="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=n.context={progressiveRender:l,modDataCount:h,large:d}},i.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=Rn();t.eachSeries(function(s){var a=s.getProgressive(),l=s.uid;n.set(l,{id:l,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:a&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(s,s.dataTask)})},i.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;te(this._allHandlers,function(s){var a=t.get(s.uid)||t.set(s.uid,{});mr(!(s.reset&&s.overallReset),""),s.reset&&this._createSeriesStageTask(s,a,e,n),s.overallReset&&this._createOverallStageTask(s,a,e,n)},this)},i.prototype.prepareView=function(t,e,n,s){var a=t.renderTask,l=a.context;l.model=e,l.ecModel=n,l.api=s,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},i.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},i.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},i.prototype._performStageTasks=function(t,e,n,s){s=s||{};var a=!1,l=this;function d(h,f){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(f.__pipeline.id))}te(t,function(h,f){if(!s.visualType||s.visualType===h.visualType){var m=l._stageTaskMap.get(h.uid),_=m.seriesTaskMap,C=m.overallTask;if(C){var w,D=C.agentStubMap;D.each(function(I){d(s,I)&&(I.dirty(),w=!0)}),w&&C.dirty(),l.updatePayload(C,n);var T=l.getPerformArgs(C,s.block);D.each(function(I){I.perform(T)}),C.perform(T)&&(a=!0)}else _&&_.each(function(I,F){d(s,I)&&I.dirty();var V=l.getPerformArgs(I,s.block);V.skip=!h.performRawSeries&&e.isSeriesFiltered(I.context.model),l.updatePayload(I,n),I.perform(V)&&(a=!0)})}}),this.unfinished=a||this.unfinished},i.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},i.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},i.prototype._createSeriesStageTask=function(t,e,n,s){var a=this,l=e.seriesTaskMap,d=e.seriesTaskMap=Rn(),h=t.seriesType,f=t.getTargetSeries;function m(_){var C=_.uid,w=d.set(C,l&&l.get(C)||t_({plan:ME,reset:T1,count:R1}));w.context={model:_,ecModel:n,api:s,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(_,w)}t.createOnAllSeries?n.eachRawSeries(m):h?n.eachRawSeriesByType(h,m):f&&f(n,s).each(m)},i.prototype._createOverallStageTask=function(t,e,n,s){var a=this,l=e.overallTask=e.overallTask||t_({reset:D1});l.context={ecModel:n,api:s,overallReset:t.overallReset,scheduler:a};var d=l.agentStubMap,h=l.agentStubMap=Rn(),f=t.seriesType,m=t.getTargetSeries,_=!0,C=!1;function D(T){var I=T.uid,F=h.set(I,d&&d.get(I)||(C=!0,t_({reset:E1,onDirty:A1})));F.context={model:T,overallProgress:_},F.agent=l,F.__block=_,a._pipe(T,F)}mr(!t.createOnAllSeries,""),f?n.eachRawSeriesByType(f,D):m?m(n,s).each(D):(_=!1,te(n.getSeries(),D)),C&&l.dirty()},i.prototype._pipe=function(t,e){var s=this._pipelineMap.get(t.uid);!s.head&&(s.head=e),s.tail&&s.tail.pipe(e),s.tail=e,e.__idxInPipeline=s.count++,e.__pipeline=s},i.wrapStageHandler=function(t,e){return Nt(t)&&(t={overallReset:t,seriesType:RE(t)}),t.uid=cn("stageHandler"),e&&(t.visualType=e),t},i}();function D1(i){i.overallReset(i.ecModel,i.api,i.payload)}function E1(i){return i.overallProgress&&_F}function _F(){this.agent.dirty(),this.getDownstream().dirty()}function A1(){this.agent&&this.agent.dirty()}function ME(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function T1(i){i.useClearVisual&&i.data.clearAllVisual();var t=i.resetDefines=Fr(i.reset(i.model,i.ecModel,i.api,i.payload));return t.length>1?ge(t,function(e,n){return Iv(n)}):M1}var M1=Iv(0);function Iv(i){return function(t,e){var n=e.data,s=e.resetDefines[i];if(s&&s.dataEach)for(var a=t.start;a<t.end;a++)s.dataEach(n,a);else s&&s.progress&&s.progress(t,n)}}function R1(i){return i.data.count()}function RE(i){gC=null;try{i(C_,rx)}catch{}return gC}var gC,C_={},rx={};function ox(i,t){for(var e in t.prototype)i[e]=dt}ox(C_,av),ox(rx,tw),C_.eachSeriesByType=C_.eachRawSeriesByType=function(i){gC=i},C_.eachComponent=function(i){"series"===i.mainType&&i.subType&&(gC=i.subType)};const IE=S1;var mC=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const I1={color:mC,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],mC]};var id="#B9B8CE",sx="#100C2A",vC=function(){return{axisLine:{lineStyle:{color:id}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},PE=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],kE={darkMode:!0,color:PE,backgroundColor:sx,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:id}},textStyle:{color:id},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:id}},dataZoom:{borderColor:"#71708A",textStyle:{color:id},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:id}},timeline:{lineStyle:{color:id},label:{color:id},controlStyle:{color:id,borderColor:id}},calendar:{itemStyle:{color:sx},dayLabel:{color:id},monthLabel:{color:id},yearLabel:{color:id}},timeAxis:vC(),logAxis:vC(),valueAxis:vC(),categoryAxis:vC(),line:{symbol:"circle"},graph:{color:PE},gauge:{title:{color:id},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:id},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};kE.categoryAxis.splitLine.show=!1;const ax=kE;var P1=function(){function i(){}return i.prototype.normalizeQuery=function(t){var e={},n={},s={};if(Ii(t)){var a=Ko(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var l=["Index","Name","Id"],d={name:1,dataIndex:1,dataType:1};te(t,function(h,f){for(var m=!1,_=0;_<l.length;_++){var C=l[_],w=f.lastIndexOf(C);if(w>0&&w===f.length-C.length){var D=f.slice(0,w);"data"!==D&&(e.mainType=D,e[C.toLowerCase()]=h,m=!0)}}d.hasOwnProperty(f)&&(n[f]=h,m=!0),m||(s[f]=h)})}return{cptQuery:e,dataQuery:n,otherQuery:s}},i.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var s=n.targetEl,a=n.packedEvent,l=n.model,d=n.view;if(!l||!d)return!0;var h=e.cptQuery,f=e.dataQuery;return m(h,l,"mainType")&&m(h,l,"subType")&&m(h,l,"index","componentIndex")&&m(h,l,"name")&&m(h,l,"id")&&m(f,a,"name")&&m(f,a,"dataIndex")&&m(f,a,"dataType")&&(!d.filterForExposedEvent||d.filterForExposedEvent(t,e.otherQuery,s,a));function m(_,C,w,D){return null==_[w]||C[D||w]===_[w]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),yC=["symbol","symbolSize","symbolRotate","symbolOffset"],FE=yC.concat(["symbolKeepAspect"]),k1={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData();if(i.legendIcon&&e.setVisual("legendIcon",i.legendIcon),i.hasSymbolVisual){for(var n={},s={},a=!1,l=0;l<yC.length;l++){var d=yC[l],h=i.get(d);Nt(h)?(a=!0,s[d]=h):n[d]=h}if(n.symbol=n.symbol||i.defaultSymbol,e.setVisual(Dt({legendIcon:i.legendIcon||n.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},n)),!t.isSeriesFiltered(i)){var f=Ri(s);return{dataEach:a?function m(_,C){for(var w=i.getRawValue(C),D=i.getDataParams(C),T=0;T<f.length;T++){var I=f[T];_.setItemVisual(C,I,s[I](w,D))}}:null}}}}},F1={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(i.hasSymbolVisual&&!t.isSeriesFiltered(i))return{dataEach:i.getData().hasItemOption?function n(s,a){for(var l=s.getItemModel(a),d=0;d<FE.length;d++){var h=FE[d],f=l.getShallow(h,!0);null!=f&&s.setItemVisual(a,h,f)}}:null}}};function lx(i,t,e){switch(e){case"color":return i.getItemVisual(t,"style")[i.getVisual("drawType")];case"opacity":return i.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(t,e)}}function w_(i,t){switch(t){case"color":return i.getVisual("style")[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(t)}}function OE(i,t,e,n){switch(e){case"color":i.ensureUniqueItemVisual(t,"style")[i.getVisual("drawType")]=n,i.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":i.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":i.setItemVisual(t,e,n)}}function LE(i,t){function e(n,s){var a=[];return n.eachComponent({mainType:"series",subType:i,query:s},function(l){a.push(l.seriesIndex)}),a}te([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){t(n[0],function(s,a,l){s=Dt({},s),l.dispatchAction(Dt(s,{type:n[1],seriesIndex:e(a,s)}))})})}function Pv(i,t,e,n,s){var a=i+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(l){for(var d=l.seriesIndex,h=l.option.selectedMap,f=s.selected,m=0;m<f.length;m++)if(f[m].seriesIndex===d){var _=l.getData(),C=xt(_,s.fromActionPayload);e.trigger(a,{type:a,seriesId:l.id,name:Me(C)?_.getName(C[0]):_.getName(C),selected:Ii(h)?h:Dt({},h)})}})}function $f(i,t,e){for(var n;i&&(!t(i)||(n=i,!e));)i=i.__hostTarget||i.parent;return n}var O1=Math.round(9*Math.random()),L1="function"==typeof Object.defineProperty,BE=function(){function i(){this._id="__ec_inner_"+O1++}return i.prototype.get=function(t){return this._guard(t)[this._id]},i.prototype.set=function(t,e){var n=this._guard(t);return L1?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},i.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},i.prototype.has=function(t){return!!this._guard(t)[this._id]},i.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},i}();const N1=BE;var B1=$r.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,s=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+s,n+a),i.lineTo(e-s,n+a),i.closePath()}}),V1=$r.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,s=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+s,n),i.lineTo(e,n+a),i.lineTo(e-s,n),i.closePath()}}),G1=$r.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.x,n=t.y,s=t.width/5*3,a=Math.max(s,t.height),l=s/2,d=l*l/(a-l),h=n-a+l+d,f=Math.asin(d/l),m=Math.cos(f)*l,_=Math.sin(f),C=Math.cos(f),w=.6*l,D=.7*l;i.moveTo(e-m,h+d),i.arc(e,h,l,Math.PI-f,2*Math.PI+f),i.bezierCurveTo(e+m-_*w,h+d+C*w,e,n-D,e,n),i.bezierCurveTo(e,n-D,e-m+_*w,h+d+C*w,e-m,h+d),i.closePath()}}),cx=$r.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.height,s=t.x,a=t.y,l=t.width/3*2;i.moveTo(s,a),i.lineTo(s+l,a+e),i.lineTo(s,a+e/4*3),i.lineTo(s-l,a+e),i.lineTo(s,a),i.closePath()}}),VE={line:function(i,t,e,n,s){s.x1=i,s.y1=t+n/2,s.x2=i+e,s.y2=t+n/2},rect:function(i,t,e,n,s){s.x=i,s.y=t,s.width=e,s.height=n},roundRect:function(i,t,e,n,s){s.x=i,s.y=t,s.width=e,s.height=n,s.r=Math.min(e,n)/4},square:function(i,t,e,n,s){var a=Math.min(e,n);s.x=i,s.y=t,s.width=a,s.height=a},circle:function(i,t,e,n,s){s.cx=i+e/2,s.cy=t+n/2,s.r=Math.min(e,n)/2},diamond:function(i,t,e,n,s){s.cx=i+e/2,s.cy=t+n/2,s.width=e,s.height=n},pin:function(i,t,e,n,s){s.x=i+e/2,s.y=t+n/2,s.width=e,s.height=n},arrow:function(i,t,e,n,s){s.x=i+e/2,s.y=t+n/2,s.width=e,s.height=n},triangle:function(i,t,e,n,s){s.cx=i+e/2,s.cy=t+n/2,s.width=e,s.height=n}},kv={};te({line:Yl,rect:kr,roundRect:kr,square:kr,circle:Zp,diamond:V1,pin:G1,arrow:cx,triangle:B1},function(i,t){kv[t]=new i});var H1=$r.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,t,e){var n=pg(i,t,e),s=this.shape;return s&&"pin"===s.symbolType&&"inside"===t.position&&(n.y=e.y+.4*e.height),n},buildPath:function(i,t,e){var n=t.symbolType;if("none"!==n){var s=kv[n];s||(s=kv[n="rect"]),VE[n](t.x,t.y,t.width,t.height,s.shape),s.buildPath(i,s.shape,e)}}});function U1(i,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=i:e.fill=i,this.markRedraw()}}function Ma(i,t,e,n,s,a,l){var h,d=0===i.indexOf("empty");return d&&(i=i.substr(5,1).toLowerCase()+i.substr(6)),(h=0===i.indexOf("image://")?Qw(i.slice(8),new Qn(t,e,n,s),l?"center":"cover"):0===i.indexOf("path://")?f_(i.slice(7),{},new Qn(t,e,n,s),l?"center":"cover"):new H1({shape:{symbolType:i,x:t,y:e,width:n,height:s}})).__isEmptyBrush=d,h.setColor=U1,a&&h.setColor(a),h}function Fv(i){return Me(i)||(i=[+i,+i]),[i[0]||0,i[1]||0]}function Kf(i,t){if(null!=i)return Me(i)||(i=[i,i]),[kn(i[0],t[0])||0,kn(en(i[1],i[0]),t[1])||0]}function cu(i){return isFinite(i)}function HE(i,t,e){for(var n="radial"===t.type?function z1(i,t,e){var n=e.width,s=e.height,a=Math.min(n,s),l=null==t.x?.5:t.x,d=null==t.y?.5:t.y,h=null==t.r?.5:t.r;return t.global||(l=l*n+e.x,d=d*s+e.y,h*=a),l=cu(l)?l:.5,d=cu(d)?d:.5,h=h>=0&&cu(h)?h:.5,i.createRadialGradient(l,d,0,l,d,h)}(i,t,e):function GE(i,t,e){var n=null==t.x?0:t.x,s=null==t.x2?1:t.x2,a=null==t.y?0:t.y,l=null==t.y2?0:t.y2;return t.global||(n=n*e.width+e.x,s=s*e.width+e.x,a=a*e.height+e.y,l=l*e.height+e.y),n=cu(n)?n:0,s=cu(s)?s:1,a=cu(a)?a:0,l=cu(l)?l:0,i.createLinearGradient(n,a,s,l)}(i,t,e),s=t.colorStops,a=0;a<s.length;a++)n.addColorStop(s[a].offset,s[a].color);return n}function Ov(i){return parseInt(i,10)}function Lv(i,t,e){var n=["width","height"][t],s=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],l=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var d=document.defaultView.getComputedStyle(i);return(i[s]||Ov(d[n])||Ov(i.style[n]))-(Ov(d[a])||0)-(Ov(d[l])||0)|0}function _C(i){var t=i.style,e=t.lineDash&&t.lineWidth>0&&function UE(i,t){return i&&"solid"!==i&&t>0?"dashed"===i?[4*t,2*t]:"dotted"===i?[t]:Di(i)?[i]:Me(i)?i:null:null}(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var s=t.strokeNoScale&&i.getLineScale?i.getLineScale():1;s&&1!==s&&(e=ge(e,function(a){return a/s}),n/=s)}return[e,n]}var W1=new zl(!0);function x_(i){var t=i.stroke;return!(null==t||"none"===t||!(i.lineWidth>0))}function bC(i){return"string"==typeof i&&"none"!==i}function S_(i){var t=i.fill;return null!=t&&"none"!==t}function hx(i,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=i.globalAlpha;i.globalAlpha=t.fillOpacity*t.opacity,i.fill(),i.globalAlpha=e}else i.fill()}function px(i,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=i.globalAlpha;i.globalAlpha=t.strokeOpacity*t.opacity,i.stroke(),i.globalAlpha=e}else i.stroke()}function CC(i,t,e){var n=wu(t.image,t.__image,e);if(Wc(n)){var s=i.createPattern(n,t.repeat||"repeat");if("function"==typeof DOMMatrix&&s&&s.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*et),a.scaleSelf(t.scaleX||1,t.scaleY||1),s.setTransform(a)}return s}}var zE=["shadowBlur","shadowOffsetX","shadowOffsetY"],fx=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function X1(i,t,e,n,s){var a=!1;if(!n&&t===(e=e||{}))return!1;if(n||t.opacity!==e.opacity){Wd(i,s),a=!0;var l=Math.max(Math.min(t.opacity,1),0);i.globalAlpha=isNaN(l)?ld.opacity:l}(n||t.blend!==e.blend)&&(a||(Wd(i,s),a=!0),i.globalCompositeOperation=t.blend||ld.blend);for(var d=0;d<zE.length;d++){var h=zE[d];(n||t[h]!==e[h])&&(a||(Wd(i,s),a=!0),i[h]=i.dpr*(t[h]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(Wd(i,s),a=!0),i.shadowColor=t.shadowColor||ld.shadowColor),a}function gx(i,t,e,n,s){var a=D_(t,s.inHover),l=n?null:e&&D_(e,s.inHover)||{};if(a===l)return!1;var d=X1(i,a,l,n,s);if((n||a.fill!==l.fill)&&(d||(Wd(i,s),d=!0),bC(a.fill)&&(i.fillStyle=a.fill)),(n||a.stroke!==l.stroke)&&(d||(Wd(i,s),d=!0),bC(a.stroke)&&(i.strokeStyle=a.stroke)),(n||a.opacity!==l.opacity)&&(d||(Wd(i,s),d=!0),i.globalAlpha=null==a.opacity?1:a.opacity),t.hasStroke()){var f=a.lineWidth/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);i.lineWidth!==f&&(d||(Wd(i,s),d=!0),i.lineWidth=f)}for(var m=0;m<fx.length;m++){var _=fx[m],C=_[0];(n||a[C]!==l[C])&&(d||(Wd(i,s),d=!0),i[C]=a[C]||_[1])}return d}function WE(i,t){var e=t.transform,n=i.dpr||1;e?i.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):i.setTransform(n,0,0,n,0,0)}var jE=1,mx=2,vx=3,yx=4;function Wd(i,t){t.batchFill&&i.fill(),t.batchStroke&&i.stroke(),t.batchFill="",t.batchStroke=""}function D_(i,t){return t&&i.__hoverStyle||i.style}function _x(i,t){dm(i,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function dm(i,t,e,n){var s=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=~Fs,void(t.__isRendered=!1);var a=t.__clipPaths,l=e.prevElClipPaths,d=!1,h=!1;if((!l||function ux(i,t){if(i===t||!i&&!t)return!1;if(!i||!t||i.length!==t.length)return!0;for(var e=0;e<i.length;e++)if(i[e]!==t[e])return!0;return!1}(a,l))&&(l&&l.length&&(Wd(i,e),i.restore(),h=d=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(Wd(i,e),i.save(),function bF(i,t,e){for(var n=!1,s=0;s<i.length;s++){var a=i[s];n=n||a.isZeroArea(),WE(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}(a,i,e),d=!0),e.prevElClipPaths=a),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var f=e.prevEl;f||(h=d=!0);var m=t instanceof $r&&t.autoBatch&&function $E(i){var t=S_(i),e=x_(i);return!(i.lineDash||!(+t^+e)||t&&"string"!=typeof i.fill||e&&"string"!=typeof i.stroke||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}(t.style);d||function Q1(i,t){return i&&t?i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]||i[4]!==t[4]||i[5]!==t[5]:!(!i&&!t)}(s,f.transform)?(Wd(i,e),WE(i,t)):m||Wd(i,e);var _=D_(t,e.inHover);t instanceof $r?(e.lastDrawType!==jE&&(h=!0,e.lastDrawType=jE),gx(i,t,f,h,e),(!m||!e.batchFill&&!e.batchStroke)&&i.beginPath(),function j1(i,t,e,n){var s,a=x_(e),l=S_(e),d=e.strokePercent,h=d<1,f=!t.path;(!t.silent||h)&&f&&t.createPathProxy();var m=t.path||W1,_=t.__dirty;if(!n){var C=e.fill,w=e.stroke,D=l&&!!C.colorStops,T=a&&!!w.colorStops,I=l&&!!C.image,F=a&&!!w.image,V=void 0,H=void 0,re=void 0,fe=void 0,de=void 0;(D||T)&&(de=t.getBoundingRect()),D&&(V=_?HE(i,C,de):t.__canvasFillGradient,t.__canvasFillGradient=V),T&&(H=_?HE(i,w,de):t.__canvasStrokeGradient,t.__canvasStrokeGradient=H),I&&(re=_||!t.__canvasFillPattern?CC(i,C,t):t.__canvasFillPattern,t.__canvasFillPattern=re),F&&(fe=_||!t.__canvasStrokePattern?CC(i,w,t):t.__canvasStrokePattern,t.__canvasStrokePattern=re),D?i.fillStyle=V:I&&(re?i.fillStyle=re:l=!1),T?i.strokeStyle=H:F&&(fe?i.strokeStyle=fe:a=!1)}var Ue,ze,Ee=t.getGlobalScale();m.setScale(Ee[0],Ee[1],t.segmentIgnoreThreshold),i.setLineDash&&e.lineDash&&(Ue=(s=_C(t))[0],ze=s[1]);var nt=!0;(f||_&oa)&&(m.setDPR(i.dpr),h?m.setContext(null):(m.setContext(i),nt=!1),m.reset(),t.buildPath(m,t.shape,n),m.toStatic(),t.pathUpdated()),nt&&m.rebuildPath(i,h?d:1),Ue&&(i.setLineDash(Ue),i.lineDashOffset=ze),n||(e.strokeFirst?(a&&px(i,e),l&&hx(i,e)):(l&&hx(i,e),a&&px(i,e))),Ue&&i.setLineDash([])}(i,t,_,m),m&&(e.batchFill=_.fill||"",e.batchStroke=_.stroke||"")):t instanceof Hm?(e.lastDrawType!==vx&&(h=!0,e.lastDrawType=vx),gx(i,t,f,h,e),function K1(i,t,e){var n,s=e.text;if(null!=s&&(s+=""),s){i.font=e.font||ri,i.textAlign=e.textAlign,i.textBaseline=e.textBaseline;var a=void 0,l=void 0;i.setLineDash&&e.lineDash&&(a=(n=_C(t))[0],l=n[1]),a&&(i.setLineDash(a),i.lineDashOffset=l),e.strokeFirst?(x_(e)&&i.strokeText(s,e.x,e.y),S_(e)&&i.fillText(s,e.x,e.y)):(S_(e)&&i.fillText(s,e.x,e.y),x_(e)&&i.strokeText(s,e.x,e.y)),a&&i.setLineDash([])}}(i,t,_)):t instanceof hs?(e.lastDrawType!==mx&&(h=!0,e.lastDrawType=mx),function Y1(i,t,e,n,s){X1(i,D_(t,s.inHover),e&&D_(e,s.inHover),n,s)}(i,t,f,h,e),function $1(i,t,e){var n=t.__image=wu(e.image,t.__image,t,t.onload);if(n&&Wc(n)){var s=e.x||0,a=e.y||0,l=t.getWidth(),d=t.getHeight(),h=n.width/n.height;if(null==l&&null!=d?l=d*h:null==d&&null!=l?d=l/h:null==l&&null==d&&(l=n.width,d=n.height),e.sWidth&&e.sHeight)i.drawImage(n,f=e.sx||0,m=e.sy||0,e.sWidth,e.sHeight,s,a,l,d);else if(e.sx&&e.sy){var f,m;i.drawImage(n,f=e.sx,m=e.sy,l-f,d-m,s,a,l,d)}else i.drawImage(n,s,a,l,d)}}(i,t,_)):t.getTemporalDisplayables&&(e.lastDrawType!==yx&&(h=!0,e.lastDrawType=yx),function Z1(i,t,e){var n=t.getDisplayables(),s=t.getTemporalDisplayables();i.save();var l,d,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover};for(l=t.getCursor(),d=n.length;l<d;l++)(h=n[l]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),dm(i,h,a,l===d-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h;for(var f=0,m=s.length;f<m;f++){var h;(h=s[f]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),dm(i,h,a,f===m-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),a.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,i.restore()}(i,t,e)),m&&n&&Wd(i,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var bx=new N1,Nv=new hn(100),Cx=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function um(i,t){if("none"===i)return null;var e=t.getDevicePixelRatio(),n=t.getZr(),s="svg"===n.painter.type;i.dirty&&bx.delete(i);var a=bx.get(i);if(a)return a;var l=je(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===l.backgroundColor&&(l.backgroundColor=null);var d={repeat:"repeat"};return function h(f){for(var m=[e],_=!0,C=0;C<Cx.length;++C){var w=l[Cx[C]];if(null!=w&&!Me(w)&&!Ii(w)&&!Di(w)&&"boolean"!=typeof w){_=!1;break}m.push(w)}var D;if(_){D=m.join(",")+(s?"-svg":"");var T=Nv.get(D);T&&(s?f.svgElement=T:f.image=T)}var Ue,I=Sx(l.dashArrayX),F=function KE(i){if(!i||"object"==typeof i&&0===i.length)return[0,0];if(Di(i)){var t=Math.ceil(i);return[t,t]}var e=ge(i,function(n){return Math.ceil(n)});return i.length%2?e.concat(e):e}(l.dashArrayY),V=xx(l.symbol),H=function XE(i){return ge(i,function(t){return YE(t)})}(I),re=YE(F),fe=!s&&Yt.createCanvas(),de=s&&{tag:"g",attrs:{},key:"dcl",children:[]},Ee=function ze(){for(var gt=1,Vt=0,$t=H.length;Vt<$t;++Vt)gt=Jd(gt,H[Vt]);var hi=1;for(Vt=0,$t=V.length;Vt<$t;++Vt)hi=Jd(hi,V[Vt].length);gt*=hi;var gi=re*H.length*V.length;return{width:Math.max(1,Math.min(gt,l.maxTileWidth)),height:Math.max(1,Math.min(gi,l.maxTileHeight))}}();fe&&(fe.width=Ee.width*e,fe.height=Ee.height*e,Ue=fe.getContext("2d")),function nt(){Ue&&(Ue.clearRect(0,0,fe.width,fe.height),l.backgroundColor&&(Ue.fillStyle=l.backgroundColor,Ue.fillRect(0,0,fe.width,fe.height)));for(var gt=0,Vt=0;Vt<F.length;++Vt)gt+=F[Vt];if(!(gt<=0))for(var $t=-re,hi=0,gi=0,Pi=0;$t<Ee.height;){if(hi%2==0){for(var Yi=gi/2%V.length,ji=0,rn=0,bn=0;ji<2*Ee.width;){var In=0;for(Vt=0;Vt<I[Pi].length;++Vt)In+=I[Pi][Vt];if(In<=0)break;if(rn%2==0){var Vn=.5*(1-l.symbolSize);br(ji+I[Pi][rn]*Vn,$t+F[hi]*Vn,I[Pi][rn]*l.symbolSize,F[hi]*l.symbolSize,V[Yi][bn/2%V[Yi].length])}ji+=I[Pi][rn],++bn,++rn===I[Pi].length&&(rn=0)}++Pi===I.length&&(Pi=0)}$t+=F[hi],++gi,++hi===F.length&&(hi=0)}function br(Jr,Lr,ir,Nr,Ra){var Oo=s?1:e,vl=Ma(Ra,Jr*Oo,Lr*Oo,ir*Oo,Nr*Oo,l.color,l.symbolKeepAspect);if(s){var tl=n.painter.renderOneToVNode(vl);tl&&de.children.push(tl)}else _x(Ue,vl)}}(),_&&Nv.put(D,fe||de),f.image=fe,f.svgElement=de,f.svgWidth=Ee.width,f.svgHeight=Ee.height}(d),d.rotation=l.rotation,d.scaleX=d.scaleY=s?1:1/e,bx.set(i,d),i.dirty=!1,d}function xx(i){if(!i||0===i.length)return[["rect"]];if(Ii(i))return[[i]];for(var t=!0,e=0;e<i.length;++e)if(!Ii(i[e])){t=!1;break}if(t)return xx([i]);var n=[];for(e=0;e<i.length;++e)Ii(i[e])?n.push([i[e]]):n.push(i[e]);return n}function Sx(i){if(!i||0===i.length)return[[0,0]];if(Di(i))return[[t=Math.ceil(i),t]];for(var e=!0,n=0;n<i.length;++n)if(!Di(i[n])){e=!1;break}if(e)return Sx([i]);var s=[];for(n=0;n<i.length;++n)if(Di(i[n])){var t=Math.ceil(i[n]);s.push([t,t])}else t=ge(i[n],function(d){return Math.ceil(d)}),s.push(t.length%2==1?t.concat(t):t);return s}function YE(i){for(var t=0,e=0;e<i.length;++e)t+=i[e];return i.length%2==1?2*t:t}const Ku=new ns;var Dx={};function QE(i){return Dx[i]}var J1="5.5.1",E_={zrender:"5.6.0"},iR=2e3,Bv=1e3,ZE=3e3,eA={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:Bv,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:ZE,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Dc="__flagInMainProcess",jd="__pendingUpdate",Ax="__needsUpdateStatus",Tx=/^[a-zA-Z0-9_]+$/,Vv="__connectUpdateStatus";function Mx(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return Rx(this,i,t)}}function DC(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rx(this,i,t)}}function Rx(i,t,e){return e[0]=e[0]&&e[0].toLowerCase(),ns.prototype[t].apply(i,e)}var nA=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t}(ns),Ix=nA.prototype;Ix.on=DC("on"),Ix.off=DC("off");var hm,Px,EC,rp,T_,AC,M_,pm,R_,rA,oA,kx,Fx,Gv,Ox,Lx,du,Nx,TC=function(i){function t(e,n,s){var a=i.call(this,new P1)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],s=s||{},Ii(n)&&(n=aA[n]),a._dom=e,s.ssr&&Tp(function(w){var D=dr(w),T=D.dataIndex;if(null!=T){var I=Rn();return I.set("series_index",D.seriesIndex),I.set("data_index",T),D.ssrType&&I.set("ssr_type",D.ssrType),I}});var m=a._zr=Ep(e,{renderer:s.renderer||"canvas",devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:en(s.useDirtyRect,!1),useCoarsePointer:en(s.useCoarsePointer,"auto"),pointerSize:s.pointerSize});a._ssr=s.ssr,a._throttledZrFlush=y_(at(m.flush,m),17),(n=xe(n))&&OD(n,!0),a._theme=n,a._locale=function Ob(i){if(Ii(i)){var t=$l[i.toUpperCase()]||{};return"ZH"===i||"EN"===i?xe(t):Pt(xe(t),xe($l[Il]),!1)}return Pt(xe(i),xe($l[Il]),!1)}(s.locale||Vd),a._coordSysMgr=new qh;var _=a._api=Ox(a);function C(w,D){return w.__prio-D.__prio}return vo(RC,C),vo(Ec,C),a._scheduler=new IE(a,_,Ec,RC),a._messageCenter=new nA,a._initEvents(),a.resize=at(a.resize,a),m.animation.on("frame",a._onframe,a),rA(m,a),oA(m,a),eo(a),a}return P(t,i),t.prototype._onframe=function(){if(!this._disposed){Nx(this);var e=this._scheduler;if(this[jd]){var n=this[jd].silent;this[Dc]=!0;try{hm(this),rp.update.call(this,null,this[jd].updateParams)}catch(h){throw this[Dc]=!1,this[jd]=null,h}this._zr.flush(),this[Dc]=!1,this[jd]=null,pm.call(this,n),R_.call(this,n)}else if(e.unfinished){var s=1,a=this._model,l=this._api;e.unfinished=!1;do{var d=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),AC(this,a),e.performVisualTasks(a),Gv(this,this._model,l,"remain",{}),s-=+new Date-d}while(s>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,s){if(!this[Dc]){if(this._disposed)return;var a,l,d;if(Zi(n)&&(s=n.lazyUpdate,a=n.silent,l=n.replaceMerge,d=n.transition,n=n.notMerge),this[Dc]=!0,!this._model||n){var h=new FM(this._api),f=this._theme,m=this._model=new av;m.scheduler=this._scheduler,m.ssr=this._ssr,m.init(null,null,null,f,this._locale,h)}this._model.setOption(e,{replaceMerge:l},Xf);var _={seriesTransition:d,optionChanged:!0};if(s)this[jd]={silent:a,updateParams:_},this[Dc]=!1,this.getZr().wakeUp();else{try{hm(this),rp.update.call(this,null,_)}catch(C){throw this[jd]=null,this[Dc]=!1,C}this._ssr||this._zr.flush(),this[jd]=null,this[Dc]=!1,pm.call(this,a),R_.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Tt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(Tt.svgSupported){var e=this._zr;return te(e.storage.getDisplayList(),function(s){s.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var s=this._model,a=[],l=this;te((e=e||{}).excludeComponents,function(h){s.eachComponent({mainType:h},function(f){var m=l._componentsMap[f.__viewId];m.group.ignore||(a.push(m),m.group.ignore=!0)})});var d="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return te(a,function(h){h.group.ignore=!1}),d}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var n="svg"===e.type,s=this.group,a=Math.min,l=Math.max,d=1/0;if(P_[s]){var h=d,f=d,m=-d,_=-d,C=[],w=e&&e.pixelRatio||this.getDevicePixelRatio();te(Uv,function(H,re){if(H.group===s){var fe=n?H.getZr().painter.getSvgDom().innerHTML:H.renderToCanvas(xe(e)),de=H.getDom().getBoundingClientRect();h=a(de.left,h),f=a(de.top,f),m=l(de.right,m),_=l(de.bottom,_),C.push({dom:fe,left:de.left,top:de.top})}});var D=(m*=w)-(h*=w),T=(_*=w)-(f*=w),I=Yt.createCanvas(),F=Ep(I,{renderer:n?"svg":"canvas"});if(F.resize({width:D,height:T}),n){var V="";return te(C,function(H){V+='<g transform="translate('+(H.left-h)+","+(H.top-f)+')">'+H.dom+"</g>"}),F.painter.getSvgRoot().innerHTML=V,e.connectedBackgroundColor&&F.painter.setBackgroundColor(e.connectedBackgroundColor),F.refreshImmediately(),F.painter.toDataURL()}return e.connectedBackgroundColor&&F.add(new kr({shape:{x:0,y:0,width:D,height:T},style:{fill:e.connectedBackgroundColor}})),te(C,function(H){var re=new hs({style:{x:H.left*w-h,y:H.top*w-f,image:H.dom}});F.add(re)}),F.refreshImmediately(),I.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,n){return T_(this,"convertToPixel",e,n)},t.prototype.convertFromPixel=function(e,n){return T_(this,"convertFromPixel",e,n)},t.prototype.containPixel=function(e,n){var a;if(!this._disposed)return te(si(this._model,e),function(d,h){h.indexOf("Models")>=0&&te(d,function(f){var m=f.coordinateSystem;if(m&&m.containPoint)a=a||!!m.containPoint(n);else if("seriesModels"===h){var _=this._chartsMap[f.__viewId];_&&_.containPoint&&(a=a||_.containPoint(n,f))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var a=si(this._model,e,{defaultMainType:"series"}),d=a.seriesModel.getData(),h=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?d.indexOfRawIndex(a.dataIndex):null;return null!=h?lx(d,h,n):w_(d,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;te(sA,function(n){var s=function(a){var h,l=e.getModel(),d=a.target;if("globalout"===n?h={}:d&&$f(d,function(D){var T=dr(D);if(T&&null!=T.dataIndex){var I=T.dataModel||l.getSeriesByIndex(T.seriesIndex);return h=I&&I.getDataParams(T.dataIndex,T.dataType,d)||{},!0}if(T.eventData)return h=Dt({},T.eventData),!0},!0),h){var m=h.componentType,_=h.componentIndex;("markLine"===m||"markPoint"===m||"markArea"===m)&&(m="series",_=h.seriesIndex);var C=m&&null!=_&&l.getComponent(m,_),w=C&&e["series"===C.mainType?"_chartsMap":"_componentsMap"][C.__viewId];h.event=a,h.type=n,e._$eventProcessor.eventInfo={targetEl:d,packedEvent:h,model:C,view:w},e.trigger(n,h)}};s.zrEventfulCallAtLast=!0,e._zr.on(n,s,e)}),te(Hv,function(n,s){e._messageCenter.on(s,function(a){this.trigger(s,a)},e)}),te(["selectchanged"],function(n){e._messageCenter.on(n,function(s){this.trigger(n,s)},e)}),function NE(i,t,e){i.on("selectchanged",function(n){var s=e.getModel();n.isFromClick?(Pv("map","selectchanged",t,s,n),Pv("pie","selectchanged",t,s,n)):"select"===n.fromAction?(Pv("map","selected",t,s,n),Pv("pie","selected",t,s,n)):"unselect"===n.fromAction&&(Pv("map","unselected",t,s,n),Pv("pie","unselected",t,s,n))})}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&Pn(this.getDom(),cA,"");var n=this,s=n._api,a=n._model;te(n._componentsViews,function(l){l.dispose(a,s)}),te(n._chartsViews,function(l){l.dispose(a,s)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Uv[n.id]}},t.prototype.resize=function(e){if(!this[Dc]){if(this._disposed)return;this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),n){var s=n.resetOption("media"),a=e&&e.silent;this[jd]&&(null==a&&(a=this[jd].silent),s=!0,this[jd]=null),this[Dc]=!0;try{s&&hm(this),rp.update.call(this,{type:"resize",animation:Dt({duration:0},e&&e.animation)})}catch(l){throw this[Dc]=!1,l}this[Dc]=!1,pm.call(this,a),R_.call(this,a)}}},t.prototype.showLoading=function(e,n){if(!this._disposed&&(Zi(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),lA[e])){var s=lA[e](this._api,n),a=this._zr;this._loadingFX=s,a.add(s)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var n=Dt({},e);return n.type=Hv[e.type],n},t.prototype.dispatchAction=function(e,n){if(!this._disposed&&(Zi(n)||(n={silent:!!n}),I_[e.type]&&this._model)){if(this[Dc])return void this._pendingActions.push(e);var s=n.silent;M_.call(this,e,s);var a=n.flush;a?this._zr.flush():!1!==a&&Tt.browser.weChat&&this._throttledZrFlush(),pm.call(this,s),R_.call(this,s)}},t.prototype.updateLabelLayout=function(){Ku.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(!this._disposed){var n=e.seriesIndex;this.getModel().getSeriesByIndex(n).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(_){_.clearColorPalette(),_.eachSeries(function(C){C.clearColorPalette()})}function s(_){for(var C=[],w=_.currentStates,D=0;D<w.length;D++){var T=w[D];"emphasis"===T||"blur"===T||"select"===T||C.push(T)}_.selected&&_.states.select&&C.push("select"),_.hoverState===Lg&&_.states.emphasis?C.push("emphasis"):_.hoverState===Fd&&_.states.blur&&C.push("blur"),_.useStates(C)}function d(_,C){if(!_.preventAutoZ){var w=_.get("z")||0,D=_.get("zlevel")||0;C.eachRendered(function(T){return h(T,w,D,-1/0),!0})}}function h(_,C,w,D){var T=_.getTextContent(),I=_.getTextGuideLine();if(_.isGroup)for(var V=_.childrenRef(),H=0;H<V.length;H++)D=Math.max(h(V[H],C,w,D),D);else _.z=C,_.zlevel=w,D=Math.max(_.z2,D);if(T&&(T.z=C,T.zlevel=w,isFinite(D)&&(T.z2=D+2)),I){var re=_.textGuideLineConfig;I.z=C,I.zlevel=w,isFinite(D)&&(I.z2=D+(re&&re.showAbove?1:-1))}return D}function f(_,C){C.eachRendered(function(w){if(!Ua(w)){var D=w.getTextContent(),T=w.getTextGuideLine();w.stateTransition&&(w.stateTransition=null),D&&D.stateTransition&&(D.stateTransition=null),T&&T.stateTransition&&(T.stateTransition=null),w.hasState()?(w.prevStates=w.currentStates,w.clearStates()):w.prevStates&&(w.prevStates=null)}})}function m(_,C){var w=_.getModel("stateAnimation"),D=_.isAnimationEnabled(),T=w.get("duration"),I=T>0?{duration:T,delay:w.get("delay"),easing:w.get("easing")}:null;C.eachRendered(function(F){if(F.states&&F.states.emphasis){if(Ua(F))return;if(F instanceof $r&&function Ib(i){var t=Tf(i);t.normalFill=i.style.fill,t.normalStroke=i.style.stroke;var e=i.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}(F),F.__dirty){var V=F.prevStates;V&&F.useStates(V)}if(D){F.stateTransition=I;var H=F.getTextContent(),re=F.getTextGuideLine();H&&(H.stateTransition=I),re&&(re.stateTransition=I)}F.__dirty&&s(F)}})}hm=function(_){var C=_._scheduler;C.restorePipelines(_._model),C.prepareStageTasks(),Px(_,!0),Px(_,!1),C.plan()},Px=function(_,C){for(var w=_._model,D=_._scheduler,T=C?_._componentsViews:_._chartsViews,I=C?_._componentsMap:_._chartsMap,F=_._zr,V=_._api,H=0;H<T.length;H++)T[H].__alive=!1;function re(de){var Ee=de.__requireNewView;de.__requireNewView=!1;var Ue="_ec_"+de.id+"_"+de.type,ze=!Ee&&I[Ue];if(!ze){var nt=Ko(de.type);(ze=new(C?Ks.getClass(nt.main,nt.sub):fs.getClass(nt.sub))).init(w,V),I[Ue]=ze,T.push(ze),F.add(ze.group)}de.__viewId=ze.__id=Ue,ze.__alive=!0,ze.__model=de,ze.group.__ecComponentInfo={mainType:de.mainType,index:de.componentIndex},!C&&D.prepareView(ze,de,w,V)}for(C?w.eachComponent(function(de,Ee){"series"!==de&&re(Ee)}):w.eachSeries(re),H=0;H<T.length;){var fe=T[H];fe.__alive?H++:(!C&&fe.renderTask.dispose(),F.remove(fe.group),fe.dispose(w,V),T.splice(H,1),I[fe.__id]===fe&&delete I[fe.__id],fe.__id=fe.group.__ecComponentInfo=null)}},EC=function(_,C,w,D,T){var I=_._model;if(I.setUpdatePayload(w),D){var F={};F[D+"Id"]=w[D+"Id"],F[D+"Index"]=w[D+"Index"],F[D+"Name"]=w[D+"Name"];var V={mainType:D,query:F};T&&(V.subType=T);var re,H=w.excludeSeriesId;null!=H&&(re=Rn(),te(Fr(H),function(de){var Ee=Ns(de,null);null!=Ee&&re.set(Ee,!0)})),I&&I.eachComponent(V,function(de){if(!re||null==re.get(de.id))if(su(w))if(de instanceof Us)w.type===Yc&&!w.notBlur&&!de.get(["emphasis","disabled"])&&function E0(i,t,e){var n=i.seriesIndex,s=i.getData(t.dataType);if(s){var a=xt(s,t);a=(Me(a)?a[0]:a)||0;var l=s.getItemGraphicEl(a);if(!l)for(var d=s.count(),h=0;!l&&h<d;)l=s.getItemGraphicEl(h++);if(l){var f=dr(l);zg(n,f.focus,f.blurScope,e)}else{var m=i.get(["emphasis","focus"]),_=i.get(["emphasis","blurScope"]);null!=m&&zg(n,m,_,e)}}}(de,w,_._api);else{var Ue=Wg(de.mainType,de.componentIndex,w.name,_._api),nt=Ue.dispatchers;w.type===Yc&&Ue.focusSelf&&!w.notBlur&&Pf(de.mainType,de.componentIndex,_._api),nt&&te(nt,function(gt){w.type===Yc?ru(gt):Qc(gt)})}else Ff(w)&&de instanceof Us&&(function Ty(i,t,e){if(Ff(t)){var n=t.dataType,a=xt(i.getData(n),t);Me(a)||(a=[a]),i[t.type===Xh?"toggleSelect":t.type===Ld?"select":"unselect"](a,n)}}(de,w),Mb(de),du(_))},_),I&&I.eachComponent(V,function(de){re&&null!=re.get(de.id)||fe(_["series"===D?"_chartsMap":"_componentsMap"][de.__viewId])},_)}else te([].concat(_._componentsViews).concat(_._chartsViews),fe);function fe(de){de&&de.__alive&&de[C]&&de[C](de.__model,I,_._api,w)}},rp={prepareAndUpdate:function(_){hm(this),rp.update.call(this,_,{optionChanged:null!=_.newOption})},update:function(_,C){var w=this._model,D=this._api,T=this._zr,I=this._coordSysMgr,F=this._scheduler;if(w){w.setUpdatePayload(_),F.restoreData(w,_),F.performSeriesTasks(w),I.create(w,D),F.performDataProcessorTasks(w,_),AC(this,w),I.update(w,D),e(w),F.performVisualTasks(w,_),kx(this,w,D,_,C);var V=w.get("backgroundColor")||"transparent",H=w.get("darkMode");T.setBackgroundColor(V),null!=H&&"auto"!==H&&T.setDarkMode(H),Ku.trigger("afterupdate",w,D)}},updateTransform:function(_){var C=this,w=this._model,D=this._api;if(w){w.setUpdatePayload(_);var T=[];w.eachComponent(function(F,V){if("series"!==F){var H=C.getViewOfComponentModel(V);if(H&&H.__alive)if(H.updateTransform){var re=H.updateTransform(V,w,D,_);re&&re.update&&T.push(H)}else T.push(H)}});var I=Rn();w.eachSeries(function(F){var V=C._chartsMap[F.__viewId];if(V.updateTransform){var H=V.updateTransform(F,w,D,_);H&&H.update&&I.set(F.uid,1)}else I.set(F.uid,1)}),e(w),this._scheduler.performVisualTasks(w,_,{setDirty:!0,dirtyMap:I}),Gv(this,w,D,_,{},I),Ku.trigger("afterupdate",w,D)}},updateView:function(_){var C=this._model;C&&(C.setUpdatePayload(_),fs.markUpdateMethod(_,"updateView"),e(C),this._scheduler.performVisualTasks(C,_,{setDirty:!0}),kx(this,C,this._api,_,{}),Ku.trigger("afterupdate",C,this._api))},updateVisual:function(_){var C=this,w=this._model;w&&(w.setUpdatePayload(_),w.eachSeries(function(D){D.getData().clearAllVisual()}),fs.markUpdateMethod(_,"updateVisual"),e(w),this._scheduler.performVisualTasks(w,_,{visualType:"visual",setDirty:!0}),w.eachComponent(function(D,T){if("series"!==D){var I=C.getViewOfComponentModel(T);I&&I.__alive&&I.updateVisual(T,w,C._api,_)}}),w.eachSeries(function(D){C._chartsMap[D.__viewId].updateVisual(D,w,C._api,_)}),Ku.trigger("afterupdate",w,this._api))},updateLayout:function(_){rp.update.call(this,_)}},T_=function(_,C,w,D){if(!_._disposed)for(var F,T=_._model,I=_._coordSysMgr.getCoordinateSystems(),V=si(T,w),H=0;H<I.length;H++){var re=I[H];if(re[C]&&null!=(F=re[C](T,V,D)))return F}},AC=function(_,C){var w=_._chartsMap,D=_._scheduler;C.eachSeries(function(T){D.updateStreamModes(T,w[T.__viewId])})},M_=function(_,C){var w=this,D=this.getModel(),T=_.type,I=_.escapeConnect,F=I_[T],V=F.actionInfo,H=(V.update||"update").split(":"),re=H.pop(),fe=null!=H[0]&&Ko(H[0]);this[Dc]=!0;var de=[_],Ee=!1;_.batch&&(Ee=!0,de=ge(_.batch,function(hi){return(hi=je(Dt({},hi),_)).batch=null,hi}));var ze,Ue=[],nt=Ff(_),gt=su(_);if(gt&&gd(this._api),te(de,function(hi){if((ze=(ze=F.action(hi,w._model,w._api))||Dt({},hi)).type=V.event||ze.type,Ue.push(ze),gt){var gi=Hi(_),ji=gi.mainTypeSpecified?gi.queryOptionMap.keys()[0]:"series";EC(w,re,hi,ji),du(w)}else nt?(EC(w,re,hi,"series"),du(w)):fe&&EC(w,re,hi,fe.main,fe.sub)}),"none"!==re&&!gt&&!nt&&!fe)try{this[jd]?(hm(this),rp.update.call(this,_),this[jd]=null):rp[re].call(this,_)}catch(hi){throw this[Dc]=!1,hi}if(ze=Ee?{type:V.event||T,escapeConnect:I,batch:Ue}:Ue[0],this[Dc]=!1,!C){var Vt=this._messageCenter;if(Vt.trigger(ze.type,ze),nt){var $t={type:"selectchanged",escapeConnect:I,selected:T0(D),isFromClick:_.isFromClick||!1,fromAction:_.type,fromActionPayload:_};Vt.trigger($t.type,$t)}}},pm=function(_){for(var C=this._pendingActions;C.length;){var w=C.shift();M_.call(this,w,_)}},R_=function(_){!_&&this.trigger("updated")},rA=function(_,C){_.on("rendered",function(w){C.trigger("rendered",w),_.animation.isFinished()&&!C[jd]&&!C._scheduler.unfinished&&!C._pendingActions.length&&C.trigger("finished")})},oA=function(_,C){_.on("mouseover",function(w){var T=$f(w.target,kf);T&&(function jg(i,t,e){var n=dr(i),s=Wg(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=s.dispatchers;a?(s.focusSelf&&Pf(n.componentMainType,n.componentIndex,e),te(a,function(d){return Tb(d,t)})):(zg(n.seriesIndex,n.focus,n.blurScope,e),"self"===n.focus&&Pf(n.componentMainType,n.componentIndex,e),Tb(i,t))}(T,w,C._api),du(C))}).on("mouseout",function(w){var T=$f(w.target,kf);T&&(function A0(i,t,e){gd(e);var n=dr(i),s=Wg(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;s?te(s,function(a){return Zm(a,t)}):Zm(i,t)}(T,w,C._api),du(C))}).on("click",function(w){var T=$f(w.target,function(V){return null!=dr(V).dataIndex},!0);if(T){var I=T.selected?"unselect":"select",F=dr(T);C._api.dispatchAction({type:I,dataType:F.dataType,dataIndexInside:F.dataIndex,seriesIndex:F.seriesIndex,isFromClick:!0})}})},kx=function(_,C,w,D,T){(function n(_){var C=[],w=[],D=!1;if(_.eachComponent(function(V,H){var re=H.get("zlevel")||0,fe=H.get("z")||0,de=H.getZLevelKey();D=D||!!de,("series"===V?w:C).push({zlevel:re,z:fe,idx:H.componentIndex,type:V,key:de})}),D){var I,F,T=C.concat(w);vo(T,function(V,H){return V.zlevel===H.zlevel?V.z-H.z:V.zlevel-H.zlevel}),te(T,function(V){var H=_.getComponent(V.type,V.idx),re=V.zlevel,fe=V.key;null!=I&&(re=Math.max(I,re)),fe?(re===I&&fe!==F&&re++,F=fe):F&&(re===I&&re++,F=""),I=re,H.setZLevel(re)})}})(C),Fx(_,C,w,D,T),te(_._chartsViews,function(I){I.__alive=!1}),Gv(_,C,w,D,T),te(_._chartsViews,function(I){I.__alive||I.remove(C,w)})},Fx=function(_,C,w,D,T,I){te(I||_._componentsViews,function(F){var V=F.__model;f(0,F),F.render(V,C,w,D),d(V,F),m(V,F)})},Gv=function(_,C,w,D,T,I){var F=_._scheduler;T=Dt(T||{},{updatedSeries:C.getSeries()}),Ku.trigger("series:beforeupdate",C,w,T);var V=!1;C.eachSeries(function(H){var re=_._chartsMap[H.__viewId];re.__alive=!0;var fe=re.renderTask;F.updatePayload(fe,D),f(0,re),I&&I.get(H.uid)&&fe.dirty(),fe.perform(F.getPerformArgs(fe))&&(V=!0),re.group.silent=!!H.get("silent"),function l(_,C){var w=_.get("blendMode")||null;C.eachRendered(function(D){D.isGroup||(D.style.blend=w)})}(H,re),Mb(H)}),F.unfinished=V||F.unfinished,Ku.trigger("series:layoutlabels",C,w,T),Ku.trigger("series:transition",C,w,T),C.eachSeries(function(H){var re=_._chartsMap[H.__viewId];d(H,re),m(H,re)}),function a(_,C){var T=0;_._zr.storage.traverse(function(I){I.isGroup||T++}),T>C.get("hoverLayerThreshold")&&!Tt.node&&!Tt.worker&&C.eachSeries(function(I){if(!I.preventUsingHoverLayer){var F=_._chartsMap[I.__viewId];F.__alive&&F.eachRendered(function(V){V.states.emphasis&&(V.states.emphasis.hoverLayer=!0)})}})}(_,C),Ku.trigger("series:afterupdate",C,w,T)},du=function(_){_[Ax]=!0,_.getZr().wakeUp()},Nx=function(_){_[Ax]&&(_.getZr().storage.traverse(function(C){Ua(C)||s(C)}),_[Ax]=!1)},Ox=function(_){return new(function(C){function w(){return null!==C&&C.apply(this,arguments)||this}return P(w,C),w.prototype.getCoordinateSystems=function(){return _._coordSysMgr.getCoordinateSystems()},w.prototype.getComponentByElement=function(D){for(;D;){var T=D.__ecComponentInfo;if(null!=T)return _._model.getComponent(T.mainType,T.index);D=D.parent}},w.prototype.enterEmphasis=function(D,T){ru(D,T),du(_)},w.prototype.leaveEmphasis=function(D,T){Qc(D,T),du(_)},w.prototype.enterBlur=function(D){Ml(D),du(_)},w.prototype.leaveBlur=function(D){Ug(D),du(_)},w.prototype.enterSelect=function(D){Fu(D),du(_)},w.prototype.leaveSelect=function(D){Ou(D),du(_)},w.prototype.getModel=function(){return _.getModel()},w.prototype.getViewOfComponentModel=function(D){return _.getViewOfComponentModel(D)},w.prototype.getViewOfSeriesModel=function(D){return _.getViewOfSeriesModel(D)},w}(tw))(_)},Lx=function(_){function C(w,D){for(var T=0;T<w.length;T++)w[T][Vv]=D}te(Hv,function(w,D){_._messageCenter.on(D,function(T){if(P_[_.group]&&0!==_[Vv]){if(T&&T.escapeConnect)return;var I=_.makeActionFromEvent(T),F=[];te(Uv,function(V){V!==_&&V.group===_.group&&F.push(V)}),C(F,0),te(F,function(V){1!==V[Vv]&&V.dispatchAction(I)}),C(F,2)}})})}}(),t}(ns),MC=TC.prototype;MC.on=Mx("on"),MC.off=Mx("off"),MC.one=function(i,t,e){var n=this;this.on.call(this,i,function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];t&&t.apply&&t.apply(this,a),n.off(i,s)},e)};var sA=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],I_={},Hv={},Ec=[],Xf=[],RC=[],aA={},lA={},Uv={},P_={},Bx=+new Date-0,EF=+new Date-0,cA="_echarts_instance_";function AF(i,t,e){var n=!(e&&e.ssr);if(n){var s=IC(i);if(s)return s}var a=new TC(i,t,e);return a.id="ec_"+Bx++,Uv[a.id]=a,n&&Pn(i,cA,a.id),Lx(a),Ku.trigger("afterinit",a),a}function k_(i){if(Me(i)){var t=i;i=null,te(t,function(e){null!=e.group&&(i=e.group)}),i=i||"g_"+EF++,te(t,function(e){e.group=i})}return P_[i]=!0,i}function dA(i){P_[i]=!1}var Vx=dA;function sR(i){Ii(i)?i=Uv[i]:i instanceof TC||(i=IC(i)),i instanceof TC&&!i.isDisposed()&&i.dispose()}function IC(i){return Uv[function xr(i,t){return i.getAttribute?i.getAttribute(t):i[t]}(i,cA)]}function aR(i){return Uv[i]}function Gx(i,t){aA[i]=t}function Hx(i){Te(Xf,i)<0&&Xf.push(i)}function F_(i,t){zx(Ec,i,t,iR)}function Ux(i){fm("afterinit",i)}function uA(i){fm("afterupdate",i)}function fm(i,t){Ku.on(i,t)}function uu(i,t,e){Nt(t)&&(e=t,t="");var n=Zi(i)?i.type:[i,i={event:t}][0];i.event=(i.event||n).toLowerCase(),!Hv[t=i.event]&&(mr(Tx.test(n)&&Tx.test(t)),I_[n]||(I_[n]={action:e,actionInfo:i}),Hv[t]=n)}function lR(i,t){qh.register(i,t)}function hA(i){var t=qh.get(i);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function pA(i,t){zx(RC,i,t,Bv,"layout")}function tf(i,t){zx(RC,i,t,ZE,"visual")}var gm=[];function zx(i,t,e,n,s){if((Nt(t)||Zi(t))&&(e=t,t=n),!(Te(gm,e)>=0)){gm.push(e);var a=IE.wrapStageHandler(e,s);a.__prio=t,a.__raw=e,i.push(a)}}function PC(i,t){lA[i]=t}function Wx(i){Mi({createCanvas:i})}function cR(i,t,e){var n=QE("registerMap");n&&n(i,t,e)}function dR(i){var t=QE("getMap");return t&&t(i)}var uR=function UD(i){var t=(i=xe(i)).type;t||qo("");var n=t.split(":");2!==n.length&&qo("");var s=!1;"echarts"===n[0]&&(t=n[1],s=!0),i.__isBuiltIn=s,gw.set(t,i)};tf(2e3,fC),tf(4500,w1),tf(4500,TE),tf(2e3,k1),tf(4500,F1),tf(7e3,function CF(i,t){i.eachRawSeries(function(e){if(!i.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(l){var d=n.getItemVisual(l,"decal");d&&(n.ensureUniqueItemVisual(l,"style").decal=um(d,t))});var s=n.getVisual("decal");s&&(n.getVisual("style").decal=um(s,t))}})}),Hx(OD),F_(900,function Jh(i){var t=Rn();i.eachSeries(function(e){var n=e.get("stack");if(n){var s=t.get(n)||t.set(n,[]),a=e.getData(),l={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!l.stackedDimension||!l.isStackedByIndex&&!l.stackedByDimension)return;s.length&&a.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(l)}}),t.each(Jy)}),PC("default",function x1(i,t){je(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new zn,n=new kr({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var l,s=new lo({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new kr({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(a),t.showSpinner&&((l=new lC({shape:{startAngle:-jf/2,endAngle:-jf/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*jf/2}).start("circularInOut"),l.animateShape(!0).when(1e3,{startAngle:3*jf/2}).delay(300).start("circularInOut"),e.add(l)),e.resize=function(){var d=s.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,f=(i.getWidth()-2*h-(t.showSpinner&&d?10:0)-d)/2-(t.showSpinner&&d?0:5+d/2)+(t.showSpinner?0:d/2)+(d?0:h),m=i.getHeight()/2;t.showSpinner&&l.setShape({cx:f,cy:m}),a.setShape({x:f-h,y:m-h,width:2*h,height:2*h}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},e.resize(),e}),uu({type:Yc,event:Yc,update:Yc},dt),uu({type:cc,event:cc,update:cc},dt),uu({type:Ld,event:Ld,update:Ld},dt),uu({type:ku,event:ku,update:ku},dt),uu({type:Xh,event:Xh,update:Xh},dt),Gx("light",I1),Gx("dark",ax);var hR={},fA=[],pR={registerPreprocessor:Hx,registerProcessor:F_,registerPostInit:Ux,registerPostUpdate:uA,registerUpdateLifecycle:fm,registerAction:uu,registerCoordinateSystem:lR,registerLayout:pA,registerVisual:tf,registerTransform:uR,registerLoading:PC,registerMap:cR,registerImpl:function q1(i,t){Dx[i]=t},PRIORITY:eA,ComponentModel:go,ComponentView:Ks,SeriesModel:Us,ChartView:fs,registerComponentModel:function(i){go.registerClass(i)},registerComponentView:function(i){Ks.registerClass(i)},registerSeriesModel:function(i){Us.registerClass(i)},registerChartView:function(i){fs.registerClass(i)},registerSubTypeDefaulter:function(i,t){go.registerSubTypeDefaulter(i,t)},registerPainter:function(i,t){Ap(i,t)}};function Or(i){Me(i)?te(i,function(t){Or(t)}):Te(fA,i)>=0||(fA.push(i),Nt(i)&&(i={install:i}),i.install(pR))}function zv(i){return null==i?0:i.length||1}function gA(i){return i}var mA=function(){function i(t,e,n,s,a,l){this._old=t,this._new=e,this._oldKeyGetter=n||gA,this._newKeyGetter=s||gA,this.context=a,this._diffModeMultiple="multiple"===l}return i.prototype.add=function(t){return this._add=t,this},i.prototype.update=function(t){return this._update=t,this},i.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},i.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},i.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},i.prototype.remove=function(t){return this._remove=t,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},s=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,s,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var l=0;l<t.length;l++){var d=s[l],h=n[d],f=zv(h);if(f>1){var m=h.shift();1===h.length&&(n[d]=h[0]),this._update&&this._update(m,l)}else 1===f?(n[d]=null,this._update&&this._update(h,l)):this._remove&&this._remove(l)}this._performRestAdd(a,n)},i.prototype._executeMultiple=function(){var e=this._new,n={},s={},a=[],l=[];this._initIndexMap(this._old,n,a,"_oldKeyGetter"),this._initIndexMap(e,s,l,"_newKeyGetter");for(var d=0;d<a.length;d++){var h=a[d],f=n[h],m=s[h],_=zv(f),C=zv(m);if(_>1&&1===C)this._updateManyToOne&&this._updateManyToOne(m,f),s[h]=null;else if(1===_&&C>1)this._updateOneToMany&&this._updateOneToMany(m,f),s[h]=null;else if(1===_&&1===C)this._update&&this._update(m,f),s[h]=null;else if(_>1&&C>1)this._updateManyToMany&&this._updateManyToMany(m,f),s[h]=null;else if(_>1)for(var w=0;w<_;w++)this._remove&&this._remove(f[w]);else this._remove&&this._remove(f)}this._performRestAdd(l,s)},i.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var s=t[n],a=e[s],l=zv(a);if(l>1)for(var d=0;d<l;d++)this._add&&this._add(a[d]);else 1===l&&this._add&&this._add(a);e[s]=null}},i.prototype._initIndexMap=function(t,e,n,s){for(var a=this._diffModeMultiple,l=0;l<t.length;l++){var d="_ec_"+this[s](t[l],l);if(a||(n[l]=d),e){var h=e[d],f=zv(h);0===f?(e[d]=l,a&&n.push(d)):1===f?e[d]=[h,l]:h.push(l)}}},i}();const op=mA;var fR=function(){function i(t,e){this._encode=t,this._schema=e}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function kC(i,t){return i.hasOwnProperty(t)||(i[t]=[]),i[t]}function FC(i){return"category"===i?"ordinal":"time"===i?"time":"float"}const O_=function i(t){this.otherDims={},null!=t&&Dt(this,t)};var _A=Xe(),mR={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},bA=function(){function i(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=yR(this.source)))},i.prototype.getSourceDimensionIndex=function(t){return en(this._dimNameMap.get(t),-1)},i.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},i.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=tm(this.source),n=!_R(t),s="",a=[],l=0,d=0;l<t;l++){var h=void 0,f=void 0,m=void 0,_=this.dimensions[d];if(_&&_.storeDimIndex===l)h=e?_.name:null,f=_.type,m=_.ordinalMeta,d++;else{var C=this.getSourceDimension(l);C&&(h=e?C.name:null,f=C.type)}a.push({property:h,type:f,ordinalMeta:m}),e&&null!=h&&(!_||!_.isCalculationCoord)&&(s+=n?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),s+="$",s+=mR[f]||"f",m&&(s+=m.uid),s+="$"}var w=this.source;return{dimensions:a,hash:[w.seriesLayoutBy,w.startIndex,s].join("$$")}},i.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var s=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(s=a.name),n++;else{var l=this.getSourceDimension(e);l&&(s=l.name)}t.push(s)}return t},i.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function vR(i){return i instanceof bA}function jx(i){for(var t=Rn(),e=0;e<(i||[]).length;e++){var n=i[e],s=Zi(n)?n.name:n;null!=s&&null==t.get(s)&&t.set(s,e)}return t}function yR(i){var t=_A(i);return t.dimNameMap||(t.dimNameMap=jx(i.dimensionsDefine))}function _R(i){return i>30}var $x,Wv,jv,L_,$v,LC,CA,OC=Zi,mm=ge,TF=typeof Int32Array>"u"?Array:Int32Array,RF=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],IF=["_approximateExtent"],PF=function(){function i(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,s=!1;vR(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(s=!0,n=t),n=n||["x","y"];for(var a={},l=[],d={},h=!1,f={},m=0;m<n.length;m++){var _=n[m],C=Ii(_)?new O_({name:_}):_ instanceof O_?_:new O_(_),w=C.name;C.type=C.type||"float",C.coordDim||(C.coordDim=w,C.coordDimIndex=0);var D=C.otherDims=C.otherDims||{};l.push(w),a[w]=C,null!=f[w]&&(h=!0),C.createInvertedIndices&&(d[w]=[]),0===D.itemName&&(this._nameDimIdx=m),0===D.itemId&&(this._idDimIdx=m),s&&(C.storeDimIndex=m)}if(this.dimensions=l,this._dimInfos=a,this._initGetDimensionInfo(h),this.hostModel=e,this._invertedIndicesMap=d,this._dimOmitted){var T=this._dimIdxToName=Rn();te(l,function(I){T.set(a[I].storeDimIndex,I)})}}return i.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var s=this._schema.getSourceDimension(e);return s?s.name:void 0},i.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},i.prototype._recognizeDimIndex=function(t){if(Di(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},i.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},i.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},i.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var s=n.encode[t];return s?s[e]:null},i.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(t,e,n){var a,s=this;if(t instanceof vv&&(a=t),!a){var l=this.dimensions,d=Yp(t)||Pe(t)?new aw(t,l.length):t;a=new vv;var h=mm(l,function(f){return{type:s._dimInfos[f].type,property:f}});a.initData(d,h,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function gR(i,t){var e={},n=e.encode={},s=Rn(),a=[],l=[],d={};te(i.dimensions,function(C){var w=i.getDimensionInfo(C),D=w.coordDim;if(D){var T=w.coordDimIndex;kC(n,D)[T]=C,w.isExtraCoord||(s.set(D,1),function vA(i){return!("ordinal"===i||"time"===i)}(w.type)&&(a[0]=C),kC(d,D)[T]=i.getDimensionIndex(w.name)),w.defaultTooltip&&l.push(C)}$0.each(function(I,F){var V=kC(n,F),H=w.otherDims[F];null!=H&&!1!==H&&(V[H]=w.name)})});var h=[],f={};s.each(function(C,w){var D=n[w];f[w]=D[0],h=h.concat(D)}),e.dataDimsOnCoord=h,e.dataDimIndicesOnCoord=ge(h,function(C){return i.getDimensionInfo(C).storeDimIndex}),e.encodeFirstDimNotExtra=f;var m=n.label;m&&m.length&&(a=m.slice());var _=n.tooltip;return _&&_.length?l=_.slice():l.length||(l=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=l,e.userOutput=new fR(d,t),e}(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},i.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),s=n.start,a=n.end,l=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var d=s;d<a;d++)this._nameList[d]=e[d-s],l&&CA(this,d)},i.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var s=this._dimInfos[e[n]];s.ordinalMeta&&t.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==Kp&&!t.fillStorage},i.prototype._doInit=function(t,e){if(!(t>=e)){var s=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,l=this._idList;if(s.getSource().sourceFormat===Vu&&!s.pure)for(var f=[],m=t;m<e;m++){var _=s.getItem(m,f);if(!this.hasItemOption&&Fm(_)&&(this.hasItemOption=!0),_){var C=_.name;null==a[m]&&null!=C&&(a[m]=Ns(C,null));var w=_.id;null==l[m]&&null!=w&&(l[m]=Ns(w,null))}}if(this._shouldMakeIdFromName())for(m=t;m<e;m++)CA(this,m);$x(this)}},i.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},i.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},i.prototype.setCalculationInfo=function(t,e){OC(t)?Dt(this._calculationInfo,t):this._calculationInfo[t]=e},i.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=jv(this,this._nameDimIdx,e)),null==n&&(n=""),n},i.prototype._getCategory=function(t,e){var n=this._store.get(t,e),s=this._store.getOrdinalMeta(t);return s?s.categories[n]:n},i.prototype.getId=function(t){return Wv(this,this.getRawIndex(t))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(t,e){var s=this._dimInfos[t];if(s)return this._store.get(s.storeDimIndex,e)},i.prototype.getByRawIndex=function(t,e){var s=this._dimInfos[t];if(s)return this._store.getByRawIndex(s.storeDimIndex,e)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},i.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},i.prototype.getValues=function(t,e){var n=this,s=this._store;return Me(t)?s.getValues(mm(t,function(a){return n._getStoreDimIndex(a)}),e):s.getValues(t)},i.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,s=e.length;n<s;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},i.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},i.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},i.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},i.prototype.rawIndexOf=function(t,e){var s=(t&&this._invertedIndicesMap[t])[e];return null==s||isNaN(s)?-1:s},i.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},i.prototype.each=function(t,e,n){Nt(t)&&(n=e,e=t,t=[]);var s=n||this,a=mm(L_(t),this._getStoreDimIndex,this);this._store.each(a,s?at(e,s):e)},i.prototype.filterSelf=function(t,e,n){Nt(t)&&(n=e,e=t,t=[]);var s=n||this,a=mm(L_(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,s?at(e,s):e),this},i.prototype.selectRange=function(t){var e=this,n={},s=Ri(t),a=[];return te(s,function(l){var d=e._getStoreDimIndex(l);n[d]=t[l],a.push(d)}),this._store=this._store.selectRange(n),this},i.prototype.mapArray=function(t,e,n){Nt(t)&&(n=e,e=t,t=[]);var s=[];return this.each(t,function(){s.push(e&&e.apply(this,arguments))},n=n||this),s},i.prototype.map=function(t,e,n,s){var a=n||s||this,l=mm(L_(t),this._getStoreDimIndex,this),d=LC(this);return d._store=this._store.map(l,a?at(e,a):e),d},i.prototype.modify=function(t,e,n,s){var l=n||s||this,d=mm(L_(t),this._getStoreDimIndex,this);this._store.modify(d,l?at(e,l):e)},i.prototype.downSample=function(t,e,n,s){var a=LC(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,s),a},i.prototype.lttbDownSample=function(t,e){var n=LC(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},i.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},i.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new Vi(n,e,e&&e.ecModel)},i.prototype.diff=function(t){var e=this;return new op(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Wv(t,n)},function(n){return Wv(e,n)})},i.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},i.prototype.setVisual=function(t,e){this._visual=this._visual||{},OC(t)?Dt(this._visual,t):this._visual[t]=e},i.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t];return(n&&n[e])??this.getVisual(e)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,s=n[t];s||(s=n[t]={});var a=s[e];return null==a&&(Me(a=this.getVisual(e))?a=a.slice():OC(a)&&(a=Dt({},a)),s[e]=a),a},i.prototype.setItemVisual=function(t,e,n){var s=this._itemVisuals[t]||{};this._itemVisuals[t]=s,OC(e)?Dt(s,e):s[e]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(t,e){OC(t)?Dt(this._layout,t):this._layout[t]=e},i.prototype.getLayout=function(t){return this._layout[t]},i.prototype.getItemLayout=function(t){return this._itemLayouts[t]},i.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?Dt(this._itemLayouts[t]||{},e):e},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(t,e){Sb(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},i.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},i.prototype.eachItemGraphicEl=function(t,e){te(this._graphicEls,function(n,s){n&&t&&t.call(e,n,s)})},i.prototype.cloneShallow=function(t){return t||(t=new i(this._schema?this._schema:mm(this.dimensions,this._getDimInfo,this),this.hostModel)),$v(t,this),t._store=this._store,t},i.prototype.wrapMethod=function(t,e){var n=this[t];Nt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var s=n.apply(this,arguments);return e.apply(this,[s].concat(Yn(arguments)))})},i.internalField=($x=function(t){var e=t._invertedIndicesMap;te(e,function(n,s){var a=t._dimInfos[s],l=a.ordinalMeta,d=t._store;if(l){n=e[s]=new TF(l.categories.length);for(var h=0;h<n.length;h++)n[h]=-1;for(h=0;h<d.count();h++)n[d.get(a.storeDimIndex,h)]=h}})},jv=function(t,e,n){return Ns(t._getCategory(e,n),null)},Wv=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=jv(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},L_=function(t){return Me(t)||(t=null!=t?[t]:[]),t},LC=function(t){var e=new i(t._schema?t._schema:mm(t.dimensions,t._getDimInfo,t),t.hostModel);return $v(e,t),e},$v=function(t,e){te(RF.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,te(IF,function(n){t[n]=xe(e[n])}),t._calculationInfo=Dt({},e._calculationInfo)},void(CA=function(t,e){var n=t._nameList,s=t._idList,a=t._nameDimIdx,l=t._idDimIdx,d=n[e],h=s[e];if(null==d&&null!=a&&(n[e]=d=jv(t,a,e)),null==h&&null!=l&&(s[e]=h=jv(t,l,e)),null==h&&null!=d){var f=t._nameRepeatCount,m=f[d]=(f[d]||0)+1;h=d,m>1&&(h+="__ec__"+m),s[e]=h}})),i}();const nd=PF;function wA(i,t){return Kv(i,t).dimensions}function Kv(i,t){Yp(i)||(i=Hd(i));var e=(t=t||{}).coordDimensions||[],n=t.dimensionsDefine||i.dimensionsDefine||[],s=Rn(),a=[],l=function wR(i,t,e,n){var s=Math.max(i.dimensionsDetectedCount||1,t.length,e.length,n||0);return te(t,function(a){var l;Zi(a)&&(l=a.dimsDef)&&(s=Math.max(s,l.length))}),s}(i,e,n,t.dimensionsCount),d=t.canOmitUnusedDimensions&&_R(l),h=n===i.dimensionsDefine,f=h?yR(i):jx(n),m=t.encodeDefine;!m&&t.encodeDefaulter&&(m=t.encodeDefaulter(i,l));for(var _=Rn(m),C=new zD(l),w=0;w<C.length;w++)C[w]=-1;function D(ze){var nt=C[ze];if(nt<0){var gt=n[ze],Vt=Zi(gt)?gt:{name:gt},$t=new O_,hi=Vt.name;return null!=hi&&null!=f.get(hi)&&($t.name=$t.displayName=hi),null!=Vt.type&&($t.type=Vt.type),null!=Vt.displayName&&($t.displayName=Vt.displayName),C[ze]=a.length,$t.storeDimIndex=ze,a.push($t),$t}return a[nt]}if(!d)for(w=0;w<l;w++)D(w);_.each(function(ze,nt){var gt=Fr(ze).slice();if(1===gt.length&&!Ii(gt[0])&&gt[0]<0)_.set(nt,!1);else{var Vt=_.set(nt,[]);te(gt,function($t,hi){var gi=Ii($t)?f.get($t):$t;null!=gi&&gi<l&&(Vt[hi]=gi,I(D(gi),nt,hi))})}});var T=0;function I(ze,nt,gt){null!=$0.get(nt)?ze.otherDims[nt]=gt:(ze.coordDim=nt,ze.coordDimIndex=gt,s.set(nt,!0))}te(e,function(ze){var nt,gt,Vt,$t;if(Ii(ze))nt=ze,$t={};else{nt=($t=ze).name;var hi=$t.ordinalMeta;$t.ordinalMeta=null,($t=Dt({},$t)).ordinalMeta=hi,gt=$t.dimsDef,Vt=$t.otherDims,$t.name=$t.coordDim=$t.coordDimIndex=$t.dimsDef=$t.otherDims=null}var gi=_.get(nt);if(!1!==gi){if(!(gi=Fr(gi)).length)for(var Pi=0;Pi<(gt&&gt.length||1);Pi++){for(;T<l&&null!=D(T).coordDim;)T++;T<l&&gi.push(T++)}te(gi,function(Yi,ji){var rn=D(Yi);if(h&&null!=$t.type&&(rn.type=$t.type),I(je(rn,$t),nt,ji),null==rn.name&&gt){var bn=gt[ji];!Zi(bn)&&(bn={name:bn}),rn.name=rn.displayName=bn.name,rn.defaultTooltip=bn.defaultTooltip}Vt&&je(rn.otherDims,Vt)})}});var F=t.generateCoord,V=t.generateCoordCount,H=null!=V;V=F?V||1:0;var re=F||"value";function fe(ze){null==ze.name&&(ze.name=ze.coordDim)}if(d)te(a,function(ze){fe(ze)}),a.sort(function(ze,nt){return ze.storeDimIndex-nt.storeDimIndex});else for(var de=0;de<l;de++){var Ee=D(de);null==Ee.coordDim&&(Ee.coordDim=kF(re,s,H),Ee.coordDimIndex=0,(!F||V<=0)&&(Ee.isExtraCoord=!0),V--),fe(Ee),null==Ee.type&&(Ky(i,de)===ca.Must||Ee.isExtraCoord&&(null!=Ee.otherDims.itemName||null!=Ee.otherDims.seriesName))&&(Ee.type="ordinal")}return function CR(i){for(var t=Rn(),e=0;e<i.length;e++){var n=i[e],s=n.name,a=t.get(s)||0;a>0&&(n.name=s+(a-1)),a++,t.set(s,a)}}(a),new bA({source:i,dimensions:a,fullDimensionCount:l,dimensionOmitted:d})}function kF(i,t,e){if(e||t.hasKey(i)){for(var n=0;t.hasKey(i+n);)n++;i+=n}return t.set(i,!0),i}var xR=function i(t){this.coordSysDims=[],this.axisMap=Rn(),this.categoryAxisMap=Rn(),this.coordSysName=t},NC={cartesian2d:function(i,t,e,n){var s=i.getReferringComponents("xAxis",mi).models[0],a=i.getReferringComponents("yAxis",mi).models[0];t.coordSysDims=["x","y"],e.set("x",s),e.set("y",a),Xv(s)&&(n.set("x",s),t.firstCategoryDimIndex=0),Xv(a)&&(n.set("y",a),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(i,t,e,n){var s=i.getReferringComponents("singleAxis",mi).models[0];t.coordSysDims=["single"],e.set("single",s),Xv(s)&&(n.set("single",s),t.firstCategoryDimIndex=0)},polar:function(i,t,e,n){var s=i.getReferringComponents("polar",mi).models[0],a=s.findAxisModel("radiusAxis"),l=s.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",a),e.set("angle",l),Xv(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),Xv(l)&&(n.set("angle",l),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(i,t,e,n){t.coordSysDims=["lng","lat"]},parallel:function(i,t,e,n){var s=i.ecModel,a=s.getComponent("parallel",i.get("parallelIndex")),l=t.coordSysDims=a.dimensions.slice();te(a.parallelAxisIndex,function(d,h){var f=s.getComponent("parallelAxis",d),m=l[h];e.set(m,f),Xv(f)&&(n.set(m,f),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=h))})}};function Xv(i){return"category"===i.get("type")}function xA(i,t,e){var a,l,d,n=(e=e||{}).byIndex,s=e.stackedCoordDimension;!function SR(i){return!vR(i.schema)}(t)?(a=(l=t.schema).dimensions,d=t.store):a=t;var f,m,_,C,h=!(!i||!i.get("stack"));if(te(a,function(V,H){Ii(V)&&(a[H]=V={name:V}),h&&!V.isExtraCoord&&(!n&&!f&&V.ordinalMeta&&(f=V),!m&&"ordinal"!==V.type&&"time"!==V.type&&(!s||s===V.coordDim)&&(m=V))}),m&&!n&&!f&&(n=!0),m){_="__\0ecstackresult_"+i.id,C="__\0ecstackedover_"+i.id,f&&(f.createInvertedIndices=!0);var w=m.coordDim,D=m.type,T=0;te(a,function(V){V.coordDim===w&&T++});var I={name:_,coordDim:w,coordDimIndex:T,type:D,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},F={name:C,coordDim:C,coordDimIndex:T+1,type:D,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};l?(d&&(I.storeDimIndex=d.ensureCalculationDimension(C,D),F.storeDimIndex=d.ensureCalculationDimension(_,D)),l.appendCalculationDimension(I),l.appendCalculationDimension(F)):(a.push(I),a.push(F))}return{stackedDimension:m&&m.name,stackedByDimension:f&&f.name,isStackedByIndex:n,stackedOverDimension:C,stackResultDimension:_}}function nf(i,t){return!!t&&t===i.getCalculationInfo("stackedDimension")}function Kx(i,t){return nf(i,t)?i.getCalculationInfo("stackResultDimension"):t}const sp=function ER(i,t,e){e=e||{};var s,n=t.getSourceManager(),a=!1;i?(a=!0,s=Hd(i)):a=(s=n.getSource()).sourceFormat===Vu;var l=function N_(i){var t=i.get("coordinateSystem"),e=new xR(t),n=NC[t];if(n)return n(i,e,e.axisMap,e.categoryAxisMap),e}(t),d=function DR(i,t){var s,e=i.get("coordinateSystem"),n=qh.get(e);return t&&t.coordSysDims&&(s=ge(t.coordSysDims,function(a){var l={name:a},d=t.axisMap.get(a);if(d){var h=d.get("type");l.type=FC(h)}return l})),s||(s=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),s}(t,l),h=e.useEncodeDefaulter,f=Nt(h)?h:h?Se(K0,d,t):null,_=Kv(s,{coordDimensions:d,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:f,canOmitUnusedDimensions:!a}),C=function Xx(i,t,e){var n,s;return e&&te(i,function(a,l){var h=e.categoryAxisMap.get(a.coordDim);h&&(null==n&&(n=l),a.ordinalMeta=h.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(s=!0)}),!s&&null!=n&&(i[n].otherDims.itemName=0),n}(_.dimensions,e.createInvertedIndices,l),w=a?null:n.getSharedDataStore(_),D=xA(t,{schema:_,store:w}),T=new nd(_,t);T.setCalculationInfo(D);var I=null!=C&&function AR(i){if(i.sourceFormat===Vu){var t=function TR(i){for(var t=0;t<i.length&&null==i[t];)t++;return i[t]}(i.data||[]);return!Me(Lh(t))}}(s)?function(F,V,H,re){return re===C?H:this.defaultDimValueGetter(F,V,H,re)}:null;return T.hasItemOption=!1,T.initData(a?s:w,null,I),T};var SA=function(){function i(t){this._setting=t||{},this._extent=[1/0,-1/0]}return i.prototype.getSetting=function(t){return this._setting[t]},i.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},i.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},i.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},i.prototype.isBlank=function(){return this._isBlank},i.prototype.setBlank=function(t){this._isBlank=t},i}();zc(SA);const rf=SA;var MR=0,RR=function(){function i(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++MR}return i.createByAxisModel=function(t){var e=t.option,n=e.data,s=n&&ge(n,IR);return new i({categories:s,needCollect:!s,deduplication:!1!==e.dedplication})},i.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},i.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!Ii(t)&&!n)return t;if(n&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var s=this._getOrCreateMap();return null==(e=s.get(t))&&(n?(this.categories[e=this.categories.length]=t,s.set(t,e)):e=NaN),e},i.prototype._getOrCreateMap=function(){return this._map||(this._map=Rn(this.categories))},i}();function IR(i){return Zi(i)&&null!=i.value?i.value:i+""}const Yx=RR;function BC(i){return"interval"===i.type||"log"===i.type}function Zx(i){var t=Math.pow(10,Hc(i)),e=i/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,Fo(e*t)}function DA(i){return Dl(i)+2}function qx(i,t,e){i[t]=Math.max(Math.min(i[t],e[1]),e[0])}function Jx(i,t){return i>=t[0]&&i<=t[1]}function Ac(i,t){return t[1]===t[0]?.5:(i-t[0])/(t[1]-t[0])}function B_(i,t){return i*(t[1]-t[0])+t[0]}var eS=function(i){function t(e){var n=i.call(this,e)||this;n.type="ordinal";var s=n.getSetting("ordinalMeta");return s||(s=new Yx({})),Me(s)&&(s=new Yx({categories:ge(s,function(a){return Zi(a)?a.value:a})})),n._ordinalMeta=s,n._extent=n.getSetting("extent")||[0,s.categories.length-1],n}return P(t,i),t.prototype.parse=function(e){return null==e?NaN:Ii(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Jx(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return Ac(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(B_(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],n=this._extent,s=n[0];s<=n[1];)e.push({value:s}),s++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var n=e.ordinalNumbers,s=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],l=0,d=this._ordinalMeta.categories.length,h=Math.min(d,n.length);l<h;++l){var f=n[l];s[l]=f,a[f]=l}for(var m=0;l<d;++l){for(;null!=a[m];)m++;s.push(m),a[m]=l}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var n=this._ticksByOrdinalNumber;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getRawOrdinalNumber=function(e){var n=this._ordinalNumbersByTick;return n&&e>=0&&e<n.length?n[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var n=this.getRawOrdinalNumber(e.value),s=this._ordinalMeta.categories[n];return null==s?"":s+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(rf);rf.registerClass(eS);const tS=eS;var Yf=Fo,AA=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return P(t,i),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Jx(e,this._extent)},t.prototype.normalize=function(e){return Ac(e,this._extent)},t.prototype.scale=function(e){return B_(e,this._extent)},t.prototype.setExtent=function(e,n){var s=this._extent;isNaN(e)||(s[0]=parseFloat(e)),isNaN(n)||(s[1]=parseFloat(n))},t.prototype.unionExtent=function(e){var n=this._extent;e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=DA(e)},t.prototype.getTicks=function(e){var n=this._interval,s=this._extent,a=this._niceExtent,l=this._intervalPrecision,d=[];if(!n)return d;s[0]<a[0]&&d.push(e?{value:Yf(a[0]-n,l)}:{value:s[0]});for(var f=a[0];f<=a[1]&&(d.push({value:f}),(f=Yf(f+n,l))!==d[d.length-1].value);)if(d.length>1e4)return[];var m=d.length?d[d.length-1].value:a[1];return s[1]>m&&d.push(e?{value:Yf(m+n,l)}:{value:s[1]}),d},t.prototype.getMinorTicks=function(e){for(var n=this.getTicks(!0),s=[],a=this.getExtent(),l=1;l<n.length;l++){for(var h=n[l-1],f=0,m=[],C=(n[l].value-h.value)/e;f<e-1;){var w=Yf(h.value+(f+1)*C);w>a[0]&&w<a[1]&&m.push(w),f++}s.push(m)}return s},t.prototype.getLabel=function(e,n){if(null==e)return"";var s=n&&n.precision;return null==s?s=Dl(e.value)||0:"auto"===s&&(s=this._intervalPrecision),Bb(Yf(e.value,s,!0))},t.prototype.calcNiceTicks=function(e,n,s){e=e||5;var a=this._extent,l=a[1]-a[0];if(isFinite(l)){l<0&&(l=-l,a.reverse());var d=function Qx(i,t,e,n){var s={},l=s.interval=Rp((i[1]-i[0])/t,!0);null!=e&&l<e&&(l=s.interval=e),null!=n&&l>n&&(l=s.interval=n);var d=s.intervalPrecision=DA(l);return function EA(i,t){!isFinite(i[0])&&(i[0]=t[0]),!isFinite(i[1])&&(i[1]=t[1]),qx(i,0,t),qx(i,1,t),i[0]>i[1]&&(i[0]=i[1])}(s.niceTickExtent=[Fo(Math.ceil(i[0]/l)*l,d),Fo(Math.floor(i[1]/l)*l,d)],i),s}(a,e,n,s);this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1])if(0!==n[0]){var s=Math.abs(n[0]);e.fixMax||(n[1]+=s/2),n[0]-=s/2}else n[1]=1;isFinite(n[1]-n[0])||(n[0]=0,n[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var l=this._interval;e.fixMin||(n[0]=Yf(Math.floor(n[0]/l)*l)),e.fixMax||(n[1]=Yf(Math.ceil(n[1]/l)*l))},t.prototype.setNiceExtent=function(e,n){this._niceExtent=[e,n]},t.type="interval",t}(rf);rf.registerClass(AA);const ap=AA;var sf=typeof Float32Array<"u",TA=sf?Float32Array:Array;function Xu(i){return Me(i)?sf?new Float32Array(i):i:new TA(i)}var V_="__ec_stack_";function iS(i){return i.get("stack")||V_+i.seriesIndex}function MA(i){return i.dim+i.index}function IA(i,t){var e=[];return t.eachSeriesByType(i,function(n){OA(n)&&e.push(n)}),e}function PA(i){var t=function PR(i){var t={};te(i,function(h){var m=h.coordinateSystem.getBaseAxis();if("time"===m.type||"value"===m.type)for(var _=h.getData(),C=m.dim+"_"+m.index,w=_.getDimensionIndex(_.mapDimension(m.dim)),D=_.getStore(),T=0,I=D.count();T<I;++T){var F=D.get(w,T);t[C]?t[C].push(F):t[C]=[F]}});var e={};for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];if(s){s.sort(function(h,f){return h-f});for(var a=null,l=1;l<s.length;++l){var d=s[l]-s[l-1];d>0&&(a=null===a?d:Math.min(a,d))}e[n]=a}}return e}(i),e=[];return te(i,function(n){var d,a=n.coordinateSystem.getBaseAxis(),l=a.getExtent();if("category"===a.type)d=a.getBandWidth();else if("value"===a.type||"time"===a.type){var f=t[a.dim+"_"+a.index],m=Math.abs(l[1]-l[0]),_=a.scale.getExtent(),C=Math.abs(_[1]-_[0]);d=f?m/C*f:m}else{var w=n.getData();d=Math.abs(l[1]-l[0])/w.count()}var D=kn(n.get("barWidth"),d),T=kn(n.get("barMaxWidth"),d),I=kn(n.get("barMinWidth")||(rS(n)?.5:1),d),F=n.get("barGap"),V=n.get("barCategoryGap");e.push({bandWidth:d,barWidth:D,barMaxWidth:T,barMinWidth:I,barGap:F,barCategoryGap:V,axisKey:MA(a),stackId:iS(n)})}),kA(e)}function kA(i){var t={};te(i,function(n,s){var a=n.axisKey,l=n.bandWidth,d=t[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=d.stacks;t[a]=d;var f=n.stackId;h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var m=n.barWidth;m&&!h[f].width&&(h[f].width=m,m=Math.min(d.remainedWidth,m),d.remainedWidth-=m);var _=n.barMaxWidth;_&&(h[f].maxWidth=_);var C=n.barMinWidth;C&&(h[f].minWidth=C);var w=n.barGap;null!=w&&(d.gap=w);var D=n.barCategoryGap;null!=D&&(d.categoryGap=D)});var e={};return te(t,function(n,s){e[s]={};var a=n.stacks,l=n.bandWidth,d=n.categoryGap;if(null==d){var h=Ri(a).length;d=Math.max(35-4*h,15)+"%"}var f=kn(d,l),m=kn(n.gap,1),_=n.remainedWidth,C=n.autoWidthCount,w=(_-f)/(C+(C-1)*m);w=Math.max(w,0),te(a,function(F){var V=F.maxWidth,H=F.minWidth;if(F.width){var re=F.width;V&&(re=Math.min(re,V)),H&&(re=Math.max(re,H)),F.width=re,_-=re+m*re,C--}else re=w,V&&V<re&&(re=Math.min(V,_)),H&&H>re&&(re=H),re!==w&&(F.width=re,_-=re+m*re,C--)}),w=(_-f)/(C+(C-1)*m),w=Math.max(w,0);var T,D=0;te(a,function(F,V){F.width||(F.width=w),T=F,D+=F.width*(1+m)}),T&&(D-=T.width*m);var I=-D/2;te(a,function(F,V){e[s][V]=e[s][V]||{bandWidth:l,offset:I,width:F.width},I+=F.width*(1+m)})}),e}function kR(i,t){var e=IA(i,t),n=PA(e);te(e,function(s){var a=s.getData(),d=s.coordinateSystem.getBaseAxis(),h=iS(s),f=n[MA(d)][h];a.setLayout({bandWidth:f.bandWidth,offset:f.offset,size:f.width})})}function nS(i){return{seriesType:i,plan:yv(),reset:function(t){if(OA(t)){var e=t.getData(),n=t.coordinateSystem,s=n.getBaseAxis(),a=n.getOtherAxis(s),l=e.getDimensionIndex(e.mapDimension(a.dim)),d=e.getDimensionIndex(e.mapDimension(s.dim)),h=t.get("showBackground",!0),f=e.mapDimension(a.dim),m=e.getCalculationInfo("stackResultDimension"),_=nf(e,f)&&!!e.getCalculationInfo("stackedOnSeries"),C=a.isHorizontal(),w=function OF(i,t){var e=t.model.get("startValue");return e||(e=0),t.toGlobalCoord(t.dataToCoord("log"===t.type?e>0?e:1:e))}(0,a),D=rS(t),T=t.get("barMinHeight")||0,I=m&&e.getDimensionIndex(m),F=e.getLayout("size"),V=e.getLayout("offset");return{progress:function(H,re){for(var gt,fe=H.count,de=D&&Xu(3*fe),Ee=D&&h&&Xu(3*fe),Ue=D&&Xu(fe),ze=n.master.getRect(),nt=C?ze.width:ze.height,Vt=re.getStore(),$t=0;null!=(gt=H.next());){var hi=Vt.get(_?I:l,gt),gi=Vt.get(d,gt),Pi=w,Yi=void 0;_&&(Yi=+hi-Vt.get(l,gt));var ji=void 0,rn=void 0,bn=void 0,In=void 0;if(C){var Vn=n.dataToPoint([hi,gi]);_&&(Pi=n.dataToPoint([Yi,gi])[0]),ji=Pi,rn=Vn[1]+V,bn=Vn[0]-Pi,In=F,Math.abs(bn)<T&&(bn=(bn<0?-1:1)*T)}else Vn=n.dataToPoint([gi,hi]),_&&(Pi=n.dataToPoint([gi,Yi])[1]),ji=Vn[0]+V,rn=Pi,bn=F,In=Vn[1]-Pi,Math.abs(In)<T&&(In=(In<=0?-1:1)*T);D?(de[$t]=ji,de[$t+1]=rn,de[$t+2]=C?bn:In,Ee&&(Ee[$t]=C?ze.x:ji,Ee[$t+1]=C?rn:ze.y,Ee[$t+2]=nt),Ue[gt]=gt):re.setItemLayout(gt,{x:ji,y:rn,width:bn,height:In}),$t+=3}D&&re.setLayout({largePoints:de,largeDataIndices:Ue,largeBackgroundPoints:Ee,valueAxisHorizontal:C})}}}}}}function OA(i){return i.coordinateSystem&&"cartesian2d"===i.coordinateSystem.type}function rS(i){return i.pipelineContext&&i.pipelineContext.large}var sS=function(i){function t(e){var n=i.call(this,e)||this;return n.type="time",n}return P(t,i),t.prototype.getLabel=function(e){var n=this.getSetting("useUTC");return Ny(e.value,Nb[function mM(i){switch(i){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Yg(this._minLevelUnit))]||Nb.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,n,s){var a=this.getSetting("useUTC");return function vM(i,t,e,n,s){var a=null;if(Ii(e))a=e;else if(Nt(e))a=e(i.value,t,{level:i.level});else{var l=Dt({},tv);if(i.level>0)for(var d=0;d<Xg.length;++d)l[Xg[d]]="{primary|"+l[Xg[d]]+"}";var h=e?!1===e.inherit?e:je(e,l):l,f=P0(i.value,s);if(h[f])a=h[f];else if(h.inherit){for(d=Ly.indexOf(f)-1;d>=0;--d)if(h[f]){a=h[f];break}a=a||l.none}if(Me(a)){var _=null==i.level?0:i.level>=0?i.level:a.length+i.level;a=a[_=Math.min(_,a.length-1)]}}return Ny(new Date(i.value),a,s,n)}(e,n,s,this.getSetting("locale"),a)},t.prototype.getTicks=function(){var n=this._extent,s=[];if(!this._interval)return s;s.push({value:n[0],level:0});var a=this.getSetting("useUTC"),l=function OR(i,t,e,n){var a=Ly,l=0;function d(nt,gt,Vt,$t,hi,gi,Pi){for(var Yi=new Date(gt),ji=gt,rn=Yi[$t]();ji<Vt&&ji<=n[1];)Pi.push({value:ji}),Yi[hi](rn+=nt),ji=Yi.getTime();Pi.push({value:ji,notAdd:!0})}function h(nt,gt,Vt){var $t=[],hi=!gt.length;if(!function FR(i,t,e,n){var s=rc(t),a=rc(e),l=function(D){return yM(s,D,n)===yM(a,D,n)},d=function(){return l("year")},h=function(){return d()&&l("month")},f=function(){return h()&&l("day")},m=function(){return f()&&l("hour")},_=function(){return m()&&l("minute")},C=function(){return _()&&l("second")};switch(i){case"year":return d();case"month":return h();case"day":return f();case"hour":return m();case"minute":return _();case"second":return C();case"millisecond":return C()&&l("millisecond")}}(Yg(nt),n[0],n[1],e)){hi&&(gt=[{value:VA(new Date(n[0]),nt,e)},{value:n[1]}]);for(var gi=0;gi<gt.length-1;gi++){var Pi=gt[gi].value,Yi=gt[gi+1].value;if(Pi!==Yi){var ji=void 0,rn=void 0,bn=void 0;switch(nt){case"year":ji=Math.max(1,Math.round(t/Bu/365)),rn=k0(e),bn=uD(e);break;case"half-year":case"quarter":case"month":ji=NA(t),rn=By(e),bn=L0(e);break;case"week":case"half-week":case"day":ji=LA(t),rn=F0(e),bn=hD(e),!0;break;case"half-day":case"quarter-day":case"hour":ji=Yv(t),rn=iv(e),bn=N0(e);break;case"minute":ji=H_(t,!0),rn=Vy(e),bn=B0(e);break;case"second":ji=H_(t,!1),rn=O0(e),bn=co(e);break;case"millisecond":ji=BA(t),rn=Qg(e),bn=V0(e)}d(ji,Pi,Yi,rn,bn,0,$t),"year"===nt&&Vt.length>1&&0===gi&&Vt.unshift({value:Vt[0].value-ji})}}for(gi=0;gi<$t.length;gi++)Vt.push($t[gi]);return $t}}for(var f=[],m=[],_=0,C=0,w=0;w<a.length&&l++<1e4;++w){var D=Yg(a[w]);if(gM(a[w])&&(h(a[w],f[f.length-1]||[],m),D!==(a[w+1]?Yg(a[w+1]):null))){if(m.length){C=_,m.sort(function(nt,gt){return nt.value-gt.value});for(var I=[],F=0;F<m.length;++F){var V=m[F].value;(0===F||m[F-1].value!==V)&&(I.push(m[F]),V>=n[0]&&V<=n[1]&&_++)}var H=(n[1]-n[0])/t;if(_>1.5*H&&C>H/1.5||(f.push(I),_>H||i===a[w]))break}m=[]}}var re=Ve(ge(f,function(nt){return Ve(nt,function(gt){return gt.value>=n[0]&&gt.value<=n[1]&&!gt.notAdd})}),function(nt){return nt.length>0}),fe=[],de=re.length-1;for(w=0;w<re.length;++w)for(var Ee=re[w],Ue=0;Ue<Ee.length;++Ue)fe.push({value:Ee[Ue].value,level:de-w});fe.sort(function(nt,gt){return nt.value-gt.value});var ze=[];for(w=0;w<fe.length;++w)(0===w||fe[w].value!==fe[w-1].value)&&ze.push(fe[w]);return ze}(this._minLevelUnit,this._approxInterval,a,n);return(s=s.concat(l)).push({value:n[1],level:0}),s},t.prototype.calcNiceExtent=function(e){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Bu,n[1]+=Bu),n[1]===-1/0&&n[0]===1/0){var s=new Date;n[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),n[0]=n[1]-Bu}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,n,s){var a=this._extent;this._approxInterval=(a[1]-a[0])/(e=e||10),null!=n&&this._approxInterval<n&&(this._approxInterval=n),null!=s&&this._approxInterval>s&&(this._approxInterval=s);var d=G_.length,h=Math.min(function(i,t,e,n){for(;e<n;){var s=e+n>>>1;i[s][1]<t?e=s+1:n=s}return e}(G_,this._approxInterval,0,d),d-1);this._interval=G_[h][1],this._minLevelUnit=G_[Math.max(h-1,0)][0]},t.prototype.parse=function(e){return Di(e)?e:+rc(e)},t.prototype.contain=function(e){return Jx(this.parse(e),this._extent)},t.prototype.normalize=function(e){return Ac(this.parse(e),this._extent)},t.prototype.scale=function(e){return B_(e,this._extent)},t.type="time",t}(ap),G_=[["second",1e3],["minute",6e4],["hour",Yh],["quarter-day",6*Yh],["half-day",12*Yh],["day",1.2*Bu],["half-week",3.5*Bu],["week",7*Bu],["month",31*Bu],["quarter",95*Bu],["half-year",dD/2],["year",dD]];function LA(i,t){return(i/=Bu)>16?16:i>7.5?7:i>3.5?4:i>1.5?2:1}function NA(i){return(i/=30*Bu)>6?6:i>3?3:i>2?2:1}function Yv(i){return(i/=Yh)>12?12:i>6?6:i>3.5?4:i>2?2:1}function H_(i,t){return(i/=t?6e4:1e3)>30?30:i>20?20:i>15?15:i>10?10:i>5?5:i>2?2:1}function BA(i){return Rp(i,!0)}function VA(i,t,e){var n=new Date(i);switch(Yg(t)){case"year":case"month":n[L0(e)](0);case"day":n[hD(e)](1);case"hour":n[N0(e)](0);case"minute":n[B0(e)](0);case"second":n[co(e)](0),n[V0(e)](0)}return n.getTime()}rf.registerClass(sS);const GA=sS;var LR=rf.prototype,Qv=ap.prototype,NR=Fo,LF=Math.floor,NF=Math.ceil,aS=Math.pow,lp=Math.log,VC=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new ap,e._interval=0,e}return P(t,i),t.prototype.getTicks=function(e){var s=this._extent,a=this._originalScale.getExtent();return ge(Qv.getTicks.call(this,e),function(d){var h=d.value,f=Fo(aS(this.base,h));return f=h===s[0]&&this._fixMin?GC(f,a[0]):f,{value:f=h===s[1]&&this._fixMax?GC(f,a[1]):f}},this)},t.prototype.setExtent=function(e,n){var s=lp(this.base);e=lp(Math.max(0,e))/s,n=lp(Math.max(0,n))/s,Qv.setExtent.call(this,e,n)},t.prototype.getExtent=function(){var e=this.base,n=LR.getExtent.call(this);n[0]=aS(e,n[0]),n[1]=aS(e,n[1]);var a=this._originalScale.getExtent();return this._fixMin&&(n[0]=GC(n[0],a[0])),this._fixMax&&(n[1]=GC(n[1],a[1])),n},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var n=this.base;e[0]=lp(e[0])/lp(n),e[1]=lp(e[1])/lp(n),LR.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,n){this.unionExtent(e.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(e){e=e||10;var n=this._extent,s=n[1]-n[0];if(!(s===1/0||s<=0)){var a=mf(s);for(e/s*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var d=[Fo(NF(n[0]/a)*a),Fo(LF(n[1]/a)*a)];this._interval=a,this._niceExtent=d}},t.prototype.calcNiceExtent=function(e){Qv.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Jx(e=lp(e)/lp(this.base),this._extent)},t.prototype.normalize=function(e){return Ac(e=lp(e)/lp(this.base),this._extent)},t.prototype.scale=function(e){return e=B_(e,this._extent),aS(this.base,e)},t.type="log",t}(rf),HA=VC.prototype;function GC(i,t){return NR(i,Dl(t))}HA.getMinorTicks=Qv.getMinorTicks,HA.getLabel=Qv.getLabel,rf.registerClass(VC);const BR=VC;var BF=function(){function i(t,e,n){this._prepareParams(t,e,n)}return i.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var s=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var a=e.get("min",!0);null==a&&(a=e.get("startValue",!0));var l=this._modelMinRaw=a;Nt(l)?this._modelMinNum=lS(t,l({min:n[0],max:n[1]})):"dataMin"!==l&&(this._modelMinNum=lS(t,l));var d=this._modelMaxRaw=e.get("max",!0);if(Nt(d)?this._modelMaxNum=lS(t,d({min:n[0],max:n[1]})):"dataMax"!==d&&(this._modelMaxNum=lS(t,d)),s)this._axisDataLen=e.getCategories().length;else{var h=e.get("boundaryGap"),f=Me(h)?h:[h||0,h||0];this._boundaryGapInner="boolean"==typeof f[0]||"boolean"==typeof f[1]?[0,0]:[Ed(f[0],1),Ed(f[1],1)]}},i.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,s=this._axisDataLen,a=this._boundaryGapInner,l=t?null:n-e||Math.abs(e),d="dataMin"===this._modelMinRaw?e:this._modelMinNum,h="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,f=null!=d,m=null!=h;null==d&&(d=t?s?0:NaN:e-a[0]*l),null==h&&(h=t?s?s-1:NaN:n+a[1]*l),(null==d||!isFinite(d))&&(d=NaN),(null==h||!isFinite(h))&&(h=NaN);var _=Xi(d)||Xi(h)||t&&!s;this._needCrossZero&&(d>0&&h>0&&!f&&(d=0),d<0&&h<0&&!m&&(h=0));var C=this._determinedMin,w=this._determinedMax;return null!=C&&(d=C,f=!0),null!=w&&(h=w,m=!0),{min:d,max:h,minFixed:f,maxFixed:m,isBlank:_}},i.prototype.modifyDataMinMax=function(t,e){this[GF[t]]=e},i.prototype.setDeterminedMinMax=function(t,e){this[VF[t]]=e},i.prototype.freeze=function(){this.frozen=!0},i}(),VF={min:"_determinedMin",max:"_determinedMax"},GF={min:"_dataMin",max:"_dataMax"};function VR(i,t,e){var n=i.rawExtentInfo;return n||(n=new BF(i,t,e),i.rawExtentInfo=n,n)}function lS(i,t){return null==t?null:Xi(t)?NaN:i.parse(t)}function cS(i,t){var e=i.type,n=VR(i,t,i.getExtent()).calculate();i.setBlank(n.isBlank);var s=n.min,a=n.max,l=t.ecModel;if(l&&"time"===e){var d=IA("bar",l),h=!1;if(te(d,function(_){h=h||_.getBaseAxis()===t.axis}),h){var f=PA(d),m=function HC(i,t,e,n){var s=e.axis.getExtent(),a=s[1]-s[0],l=function FA(i,t,e){if(i&&t){var n=i[MA(t)];return null!=n&&null!=e?n[iS(e)]:n}}(n,e.axis);if(void 0===l)return{min:i,max:t};var d=1/0;te(l,function(w){d=Math.min(w.offset,d)});var h=-1/0;te(l,function(w){h=Math.max(w.offset+w.width,h)}),d=Math.abs(d),h=Math.abs(h);var f=d+h,m=t-i,C=m/(1-(d+h)/a)-m;return{min:i-=C*(d/f),max:t+=C*(h/f)}}(s,a,t,f);s=m.min,a=m.max}}return{extent:[s,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function vm(i,t){var e=t,n=cS(i,e),s=n.extent,a=e.get("splitNumber");i instanceof BR&&(i.base=e.get("logBase"));var l=i.type,d=e.get("interval"),h="interval"===l||"time"===l;i.setExtent(s[0],s[1]),i.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:h?e.get("minInterval"):null,maxInterval:h?e.get("maxInterval"):null}),null!=d&&i.setInterval&&i.setInterval(d)}function U_(i,t){if(t=t||i.get("type"))switch(t){case"category":return new tS({ordinalMeta:i.getOrdinalMeta?i.getOrdinalMeta():i.getCategories(),extent:[1/0,-1/0]});case"time":return new GA({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new(rf.getClass(t)||ap)}}function Yu(i){var n,t=i.getLabelModel().get("formatter"),e="category"===i.type?i.scale.getExtent()[0]:null;return"time"===i.scale.type?(n=t,function(s,a){return i.scale.getFormattedLabel(s,a,n)}):Ii(t)?function(n){return function(s){var a=i.scale.getLabel(s);return n.replace("{value}",a??"")}}(t):Nt(t)?function(n){return function(s,a){return null!=e&&(a=s.value-e),n(UC(i,s),a,null!=s.level?{level:s.level}:null)}}(t):function(n){return i.scale.getLabel(n)}}function UC(i,t){return"category"===i.type?i.scale.getLabel(t):t.value}function uS(i,t){var e=t*Math.PI/180,n=i.width,s=i.height,a=n*Math.abs(Math.cos(e))+Math.abs(s*Math.sin(e)),l=n*Math.abs(Math.sin(e))+Math.abs(s*Math.cos(e));return new Qn(i.x,i.y,a,l)}function hS(i){return i.get("interval")??"auto"}function zC(i){return"category"===i.type&&0===hS(i.getLabelModel())}function Zv(i,t){var e={};return te(i.mapDimensionsAll(t),function(n){e[Kx(i,n)]=!0}),Ri(e)}var z_=function(){function i(){}return i.prototype.getNeedCrossZero=function(){return!this.option.scale},i.prototype.getCoordSysModel=function(){},i}();function HF(i){return sp(null,i)}var UF={isDimensionStacked:nf,enableDataStack:xA,getStackedDimension:Kx};function zA(i,t){var e=t;t instanceof Vi||(e=new Vi(t));var n=U_(e);return n.setExtent(i[0],i[1]),vm(n,e),n}function GR(i){Gt(i,z_)}function HR(i,t){return Ms(i,null,null,"normal"!==(t=t||{}).state)}var UR=1e-8;function WA(i,t){return Math.abs(i-t)<UR}function Qf(i,t,e){var n=0,s=i[0];if(!s)return!1;for(var a=1;a<i.length;a++){var l=i[a];n+=wc(s[0],s[1],l[0],l[1],t,e),s=l}var d=i[0];return(!WA(s[0],d[0])||!WA(s[1],d[1]))&&(n+=wc(s[0],s[1],d[0],d[1],t,e)),0!==n}var jA=[];function jC(i,t){for(var e=0;e<i.length;e++)mo(i[e],i[e],t)}function $A(i,t,e,n){for(var s=0;s<i.length;s++){var a=i[s];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(ms(t,t,a),Ho(e,e,a))}}var pS=function(){function i(t){this.name=t}return i.prototype.setCenter=function(t){this._center=t},i.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},i}(),$C=function i(t,e){this.type="polygon",this.exterior=t,this.interiors=e},WR=function i(t){this.type="linestring",this.points=t},fS=function(i){function t(e,n,s){var a=i.call(this,e)||this;return a.type="geoJSON",a.geometries=n,a._center=s&&[s[0],s[1]],a}return P(t,i),t.prototype.calcCenter=function(){for(var n,e=this.geometries,s=0,a=0;a<e.length;a++){var l=e[a],d=l.exterior,h=d&&d.length;h>s&&(n=l,s=h)}if(n)return function zR(i){for(var t=0,e=0,n=0,s=i.length,a=i[s-1][0],l=i[s-1][1],d=0;d<s;d++){var h=i[d][0],f=i[d][1],m=a*f-h*l;t+=m,e+=(a+h)*m,n+=(l+f)*m,a=h,l=f}return t?[e/t/3,n/t/3,t]:[i[0][0]||0,i[0][1]||0]}(n.exterior);var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},t.prototype.getBoundingRect=function(e){var n=this._rect;if(n&&!e)return n;var s=[1/0,1/0],a=[-1/0,-1/0];return te(this.geometries,function(d){"polygon"===d.type?$A(d.exterior,s,a,e):te(d.points,function(h){$A(h,s,a,e)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1])||(s[0]=s[1]=a[0]=a[1]=0),n=new Qn(s[0],s[1],a[0]-s[0],a[1]-s[1]),e||(this._rect=n),n},t.prototype.contain=function(e){var n=this.getBoundingRect(),s=this.geometries;if(!n.contain(e[0],e[1]))return!1;e:for(var a=0,l=s.length;a<l;a++){var d=s[a];if("polygon"===d.type){var f=d.interiors;if(Qf(d.exterior,e[0],e[1])){for(var m=0;m<(f?f.length:0);m++)if(Qf(f[m],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,n,s,a){var l=this.getBoundingRect(),d=l.width/l.height;s?a||(a=s/d):s=d*a;for(var h=new Qn(e,n,s,a),f=l.calculateTransform(h),m=this.geometries,_=0;_<m.length;_++){var C=m[_];"polygon"===C.type?(jC(C.exterior,f),te(C.interiors,function(w){jC(w,f)})):te(C.points,function(w){jC(w,f)})}(l=this._rect).copy(h),this._center=[l.x+l.width/2,l.y+l.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var n=new t(e,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(pS),gS=function(i){function t(e,n){var s=i.call(this,e)||this;return s.type="geoSVG",s._elOnlyForCalculate=n,s}return P(t,i),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,n=e.getBoundingRect(),s=[n.x+n.width/2,n.y+n.height/2],a=na(jA),l=e;l&&!l.isGeoSVGGraphicRoot;)ja(a,l.getLocalTransform(),a),l=l.parent;return Ea(a,a),mo(s,s,a),s},t}(pS);function mS(i,t,e){for(var n=0;n<i.length;n++)i[n]=$R(i[n],t[n],e)}function $R(i,t,e){for(var n=[],s=t[0],a=t[1],l=0;l<i.length;l+=2){var d=i.charCodeAt(l)-64,h=i.charCodeAt(l+1)-64;d=d>>1^-(1&d),h=h>>1^-(1&h),s=d+=s,a=h+=a,n.push([d/e,h/e])}return n}function KA(i,t){return i=function jR(i){if(!i.UTF8Encoding)return i;var t=i,e=t.UTF8Scale;return null==e&&(e=1024),te(t.features,function(s){var a=s.geometry,l=a.encodeOffsets,d=a.coordinates;if(l)switch(a.type){case"LineString":a.coordinates=$R(d,l,e);break;case"Polygon":case"MultiLineString":mS(d,l,e);break;case"MultiPolygon":te(d,function(h,f){return mS(h,l[f],e)})}}),t.UTF8Encoding=!1,t}(i),ge(Ve(i.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var n=e.properties,s=e.geometry,a=[];switch(s.type){case"Polygon":var l=s.coordinates;a.push(new $C(l[0],l.slice(1)));break;case"MultiPolygon":te(s.coordinates,function(h){h[0]&&a.push(new $C(h[0],h.slice(1)))});break;case"LineString":a.push(new WR([s.coordinates]));break;case"MultiLineString":a.push(new WR(s.coordinates))}var d=new fS(n[t||"name"],a,n.cp);return d.properties=n,d})}function KR(i,t,e,n,s,a,l,d){return new lo({style:{text:i,font:t,align:e,verticalAlign:n,padding:s,rich:a,overflow:l?"truncate":null,lineHeight:d}}).getBoundingRect()}var W_=Xe();function XA(i,t){var e=ge(t,function(n){return i.scale.parse(n)});return"time"===i.type&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function ZA(i,t){var a,l,e=YR(i,"labels"),n=hS(t);return eT(e,n)||(Nt(n)?a=nT(i,n):(l="auto"===n?function tT(i){return W_(i).autoInterval??(W_(i).autoInterval=i.calculateCategoryInterval())}(i):n,a=j_(i,l)),KC(e,n,{labels:a,labelCategoryInterval:l}))}function YR(i,t){return W_(i)[t]||(W_(i)[t]=[])}function eT(i,t){for(var e=0;e<i.length;e++)if(i[e].key===t)return i[e].value}function KC(i,t,e){return i.push({key:t,value:e}),e}function j_(i,t,e){var n=Yu(i),s=i.scale,a=s.getExtent(),l=i.getLabelModel(),d=[],h=Math.max((t||0)+1,1),f=a[0],m=s.count();0!==f&&h>1&&m/h>2&&(f=Math.round(Math.ceil(f/h)*h));var _=zC(i),C=l.get("showMinLabel")||_,w=l.get("showMaxLabel")||_;C&&f!==a[0]&&T(a[0]);for(var D=f;D<=a[1];D+=h)T(D);function T(I){var F={value:I};d.push(e?I:{formattedLabel:n(F),rawLabel:s.getLabel(F),tickValue:I})}return w&&D-h!==a[1]&&T(a[1]),d}function nT(i,t,e){var n=i.scale,s=Yu(i),a=[];return te(n.getTicks(),function(l){var d=n.getLabel(l),h=l.value;t(l.value,d)&&a.push(e?h:{formattedLabel:s(l),rawLabel:d,tickValue:h})}),a}var rT=[0,1],oT=function(){function i(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return i.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),s=Math.max(e[0],e[1]);return t>=n&&t<=s},i.prototype.containData=function(t){return this.scale.contain(t)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(t){return Vr(t||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},i.prototype.dataToCoord=function(t,e){var n=this._extent,s=this.scale;return t=s.normalize(t),this.onBand&&"ordinal"===s.type&&vS(n=n.slice(),s.count()),gr(t,rT,n,e)},i.prototype.coordToData=function(t,e){var n=this._extent,s=this.scale;this.onBand&&"ordinal"===s.type&&vS(n=n.slice(),s.count());var a=gr(t,n,rT,e);return this.scale.scale(a)},i.prototype.pointToData=function(t,e){},i.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),a=ge(function YA(i,t){var e=i.getTickModel().get("customValues");return e?{ticks:XA(i,e)}:"category"===i.type?function qA(i,t){var a,l,e=YR(i,"ticks"),n=hS(t),s=eT(e,n);if(s)return s;if((!t.get("show")||i.scale.isBlank())&&(a=[]),Nt(n))a=nT(i,n,!0);else if("auto"===n){var d=ZA(i,i.getLabelModel());l=d.labelCategoryInterval,a=ge(d.labels,function(h){return h.tickValue})}else a=j_(i,l=n,!0);return KC(e,n,{ticks:a,tickCategoryInterval:l})}(i,t):{ticks:ge(i.scale.getTicks(),function(n){return n.value})}}(this,e).ticks,function(d){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(d):d),tickValue:d}},this);return function zF(i,t,e,n){var s=t.length;if(i.onBand&&!e&&s){var l,a=i.getExtent();if(1===s)t[0].coord=a[0],l=t[1]={coord:a[1]};else{var f=(t[s-1].coord-t[0].coord)/(t[s-1].tickValue-t[0].tickValue);te(t,function(w){w.coord-=f/2});var m=i.scale.getExtent();t.push(l={coord:t[s-1].coord+f*(1+m[1]-t[s-1].tickValue)})}var _=a[0]>a[1];C(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&C(a[0],t[0].coord)&&t.unshift({coord:a[0]}),C(a[1],l.coord)&&(n?l.coord=a[1]:t.pop()),n&&C(l.coord,a[1])&&t.push({coord:a[1]})}function C(w,D){return w=Fo(w),D=Fo(D),_?w>D:w<D}}(this,a,e.get("alignWithLabel"),t.clamp),a},i.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),ge(this.scale.getMinorTicks(e),function(a){return ge(a,function(l){return{coord:this.dataToCoord(l),tickValue:l}},this)},this)},i.prototype.getViewLabels=function(){return function XR(i){var t=i.getLabelModel().get("customValues");if(t){var e=Yu(i);return{labels:XA(i,t).map(function(n){var s={value:n};return{formattedLabel:e(s),rawLabel:i.scale.getLabel(s),tickValue:n}})}}return"category"===i.type?function QA(i){var t=i.getLabelModel(),e=ZA(i,t);return!t.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}(i):function JA(i){var t=i.scale.getTicks(),e=Yu(i);return{labels:ge(t,function(n,s){return{level:n.level,formattedLabel:e(n,s),rawLabel:i.scale.getLabel(n),tickValue:n.value}})}}(i)}(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var s=Math.abs(t[1]-t[0]);return Math.abs(s)/n},i.prototype.calculateCategoryInterval=function(){return function iT(i){var t=function QR(i){var t=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(i),e=Yu(i),n=(t.axisRotate-t.labelRotate)/180*Math.PI,s=i.scale,a=s.getExtent(),l=s.count();if(a[1]-a[0]<1)return 0;var d=1;l>40&&(d=Math.max(1,Math.floor(l/40)));for(var h=a[0],f=i.dataToCoord(h+1)-i.dataToCoord(h),m=Math.abs(f*Math.cos(n)),_=Math.abs(f*Math.sin(n)),C=0,w=0;h<=a[1];h+=d){var T,I=pf(e({value:h}),t.font,"center","top");T=1.3*I.height,C=Math.max(C,1.3*I.width,7),w=Math.max(w,T,7)}var F=C/m,V=w/_;isNaN(F)&&(F=1/0),isNaN(V)&&(V=1/0);var H=Math.max(0,Math.floor(Math.min(F,V))),re=W_(i.model),fe=i.getExtent(),de=re.lastAutoInterval,Ee=re.lastTickCount;return null!=de&&null!=Ee&&Math.abs(de-H)<=1&&Math.abs(Ee-l)<=1&&de>H&&re.axisExtent0===fe[0]&&re.axisExtent1===fe[1]?H=de:(re.lastTickCount=l,re.lastAutoInterval=H,re.axisExtent0=fe[0],re.axisExtent1=fe[1]),H}(this)},i}();function vS(i,t){var s=(i[1]-i[0])/t/2;i[0]+=s,i[1]-=s}const Qu=oT;function WF(i){var t=go.extend(i);return go.registerClass(t),t}function ZR(i){var t=Ks.extend(i);return Ks.registerClass(t),t}function jF(i){var t=Us.extend(i);return Us.registerClass(t),t}function $F(i){var t=fs.extend(i);return fs.registerClass(t),t}var $_=2*Math.PI,ym=zl.CMD,KF=["top","right","bottom","left"];function XF(i,t,e,n,s){var a=e.width,l=e.height;switch(i){case"top":n.set(e.x+a/2,e.y-t),s.set(0,-1);break;case"bottom":n.set(e.x+a/2,e.y+l+t),s.set(0,1);break;case"left":n.set(e.x-t,e.y+l/2),s.set(-1,0);break;case"right":n.set(e.x+a+t,e.y+l/2),s.set(1,0)}}function YF(i,t,e,n,s,a,l,d,h){l-=i,d-=t;var f=Math.sqrt(l*l+d*d),m=(l/=f)*e+i,_=(d/=f)*e+t;if(Math.abs(n-s)%$_<1e-4)return h[0]=m,h[1]=_,f-e;if(a){var C=n;n=la(s),s=la(C)}else n=la(n),s=la(s);n>s&&(s+=$_);var w=Math.atan2(d,l);if(w<0&&(w+=$_),w>=n&&w<=s||w+$_>=n&&w+$_<=s)return h[0]=m,h[1]=_,f-e;var D=e*Math.cos(n)+i,T=e*Math.sin(n)+t,I=e*Math.cos(s)+i,F=e*Math.sin(s)+t,V=(D-l)*(D-l)+(T-d)*(T-d),H=(I-l)*(I-l)+(F-d)*(F-d);return V<H?(h[0]=D,h[1]=T,Math.sqrt(V)):(h[0]=I,h[1]=F,Math.sqrt(H))}function yS(i,t,e,n,s,a,l,d){var h=s-i,f=a-t,m=e-i,_=n-t,C=Math.sqrt(m*m+_*_),D=(h*(m/=C)+f*(_/=C))/C;d&&(D=Math.min(Math.max(D,0),1));var T=l[0]=i+(D*=C)*m,I=l[1]=t+D*_;return Math.sqrt((T-s)*(T-s)+(I-a)*(I-a))}function qR(i,t,e,n,s,a,l){e<0&&(i+=e,e=-e),n<0&&(t+=n,n=-n);var d=i+e,h=t+n,f=l[0]=Math.min(Math.max(s,i),d),m=l[1]=Math.min(Math.max(a,t),h);return Math.sqrt((f-s)*(f-s)+(m-a)*(m-a))}var wh=[];function QF(i,t,e){var n=qR(t.x,t.y,t.width,t.height,i.x,i.y,wh);return e.set(wh[0],wh[1]),n}function ZF(i,t,e){for(var d,h,n=0,s=0,a=0,l=0,f=1/0,m=t.data,_=i.x,C=i.y,w=0;w<m.length;){var D=m[w++];1===w&&(a=n=m[w],l=s=m[w+1]);var T=f;switch(D){case ym.M:n=a=m[w++],s=l=m[w++];break;case ym.L:T=yS(n,s,m[w],m[w+1],_,C,wh,!0),n=m[w++],s=m[w++];break;case ym.C:T=Ol(n,s,m[w++],m[w++],m[w++],m[w++],m[w],m[w+1],_,C,wh),n=m[w++],s=m[w++];break;case ym.Q:T=G(n,s,m[w++],m[w++],m[w],m[w+1],_,C,wh),n=m[w++],s=m[w++];break;case ym.A:var I=m[w++],F=m[w++],V=m[w++],H=m[w++],re=m[w++],fe=m[w++];w+=1;var de=!!(1-m[w++]);d=Math.cos(re)*V+I,h=Math.sin(re)*H+F,w<=1&&(a=d,l=h),T=YF(I,F,H,re,re+fe,de,(_-I)*H/V+I,C,wh),n=Math.cos(re+fe)*V+I,s=Math.sin(re+fe)*H+F;break;case ym.R:T=qR(a=n=m[w++],l=s=m[w++],m[w++],m[w++],_,C,wh);break;case ym.Z:T=yS(n,s,a,l,_,C,wh,!0),n=a,s=l}T<f&&(f=T,e.set(wh[0],wh[1]))}return f}var cp=new sr,Xs=new sr,ml=new sr,dp=new sr,af=new sr;function u(i,t){if(i){var e=i.getTextGuideLine(),n=i.getTextContent();if(n&&e){var s=i.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],l=s.candidates||KF,d=n.getBoundingRect().clone();d.applyTransform(n.getComputedTransform());var h=1/0,f=s.anchor,m=i.getComputedTransform(),_=m&&Ea([],m),C=t.get("length2")||0;f&&ml.copy(f);for(var w=0;w<l.length;w++){XF(l[w],0,d,cp,dp),sr.scaleAndAdd(Xs,cp,dp,C),Xs.transform(_);var T=i.getBoundingRect(),I=f?f.distance(Xs):i instanceof $r?ZF(Xs,i.path,ml):QF(Xs,T,ml);I<h&&(h=I,Xs.transform(m),ml.transform(m),ml.toArray(a[0]),Xs.toArray(a[1]),cp.toArray(a[2]))}x(a,t.get("minTurnAngle")),e.setShape({points:a})}}}var g=[],v=new sr;function x(i,t){if(t<=180&&t>0){t=t/180*Math.PI,cp.fromArray(i[0]),Xs.fromArray(i[1]),ml.fromArray(i[2]),sr.sub(dp,cp,Xs),sr.sub(af,ml,Xs);var e=dp.len(),n=af.len();if(!(e<.001||n<.001)){dp.scale(1/e),af.scale(1/n);var s=dp.dot(af);if(Math.cos(t)<s){var l=yS(Xs.x,Xs.y,ml.x,ml.y,cp.x,cp.y,g,!1);v.fromArray(g),v.scaleAndAdd(af,l/Math.tan(Math.PI-t));var d=ml.x!==Xs.x?(v.x-Xs.x)/(ml.x-Xs.x):(v.y-Xs.y)/(ml.y-Xs.y);if(isNaN(d))return;d<0?sr.copy(v,Xs):d>1&&sr.copy(v,ml),v.toArray(i[1])}}}}function A(i,t,e){if(e<=180&&e>0){e=e/180*Math.PI,cp.fromArray(i[0]),Xs.fromArray(i[1]),ml.fromArray(i[2]),sr.sub(dp,Xs,cp),sr.sub(af,ml,Xs);var n=dp.len(),s=af.len();if(!(n<.001||s<.001)&&(dp.scale(1/n),af.scale(1/s),dp.dot(t)<Math.cos(e))){var d=yS(Xs.x,Xs.y,ml.x,ml.y,cp.x,cp.y,g,!1);v.fromArray(g);var h=Math.PI/2,m=h+Math.acos(af.dot(t))-e;if(m>=h)sr.copy(v,ml);else{v.scaleAndAdd(af,d/Math.tan(Math.PI/2-m));var _=ml.x!==Xs.x?(v.x-Xs.x)/(ml.x-Xs.x):(v.y-Xs.y)/(ml.y-Xs.y);if(isNaN(_))return;_<0?sr.copy(v,Xs):_>1&&sr.copy(v,ml)}v.toArray(i[1])}}}function k(i,t,e,n){var s="normal"===e,a=s?i:i.ensureState(e);a.ignore=t;var l=n.get("smooth");l&&!0===l&&(l=.3),a.shape=a.shape||{},l>0&&(a.shape.smooth=l);var d=n.getModel("lineStyle").getLineStyle();s?i.useStyle(d):a.style=d}function W(i,t){var e=t.smooth,n=t.points;if(n)if(i.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var s=er(n[0],n[1]),a=er(n[1],n[2]);if(!s||!a)return i.lineTo(n[1][0],n[1][1]),void i.lineTo(n[2][0],n[2][1]);var l=Math.min(s,a)*e,d=io([],n[1],n[0],l/s),h=io([],n[1],n[2],l/a),f=io([],d,h,.5);i.bezierCurveTo(d[0],d[1],d[0],d[1],f[0],f[1]),i.bezierCurveTo(h[0],h[1],h[0],h[1],n[2][0],n[2][1])}else for(var m=1;m<n.length;m++)i.lineTo(n[m][0],n[m][1])}function ne(i,t,e){var n=i.getTextGuideLine(),s=i.getTextContent();if(s){for(var a=t.normal,l=a.get("show"),d=s.ignore,h=0;h<Xc.length;h++){var f=Xc[h],m=t[f],_="normal"===f;if(m){var C=m.get("show");if((_?d:en(s.states[f]&&s.states[f].ignore,d))||!en(C,l)){var D=_?n:n&&n.states[f];D&&(D.ignore=!0),n&&k(n,!0,f,m);continue}n||(n=new md,i.setTextGuideLine(n),!_&&(d||!l)&&k(n,!0,"normal",t.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),k(n,!1,f,m)}}if(n){je(n.style,e),n.style.fill=null;var T=a.get("showAbove");(i.textGuideLineConfig=i.textGuideLineConfig||{}).showAbove=T||!1,n.buildPath=W}}else n&&i.removeTextGuideLine()}function me(i,t){for(var e={normal:i.getModel(t=t||"labelLine")},n=0;n<Ca.length;n++){var s=Ca[n];e[s]=i.getModel([s,t])}return e}function He(i){for(var t=[],e=0;e<i.length;e++){var n=i[e];if(!n.defaultAttr.ignore){var s=n.label,a=s.getComputedTransform(),l=s.getBoundingRect(),d=!a||a[1]<1e-5&&a[2]<1e-5,h=s.style.margin||0,f=l.clone();f.applyTransform(a),f.x-=h/2,f.y-=h/2,f.width+=h,f.height+=h;var m=d?new np(l,a):null;t.push({label:s,labelLine:n.labelLine,rect:f,localRect:l,obb:m,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:d,transform:a})}}return t}function Mt(i,t,e,n,s,a){var l=i.length;if(!(l<2)){i.sort(function(ze,nt){return ze.rect[t]-nt.rect[t]});for(var h,d=0,f=!1,m=[],_=0,C=0;C<l;C++){var w=i[C],D=w.rect;(h=D[t]-d)<0&&(D[t]-=h,w.label[t]-=h,f=!0);var T=Math.max(-h,0);m.push(T),_+=T,d=D[t]+D[e]}_>0&&a&&de(-_/l,0,l);var V,H,I=i[0],F=i[l-1];return re(),V<0&&Ee(-V,.8),H<0&&Ee(H,.8),re(),fe(V,H,1),fe(H,V,-1),re(),V<0&&Ue(-V),H<0&&Ue(H),f}function re(){V=I.rect[t]-n,H=s-F.rect[t]-F.rect[e]}function fe(ze,nt,gt){if(ze<0){var Vt=Math.min(nt,-ze);if(Vt>0){de(Vt*gt,0,l);var $t=Vt+ze;$t<0&&Ee(-$t*gt,1)}else Ee(-ze*gt,1)}}function de(ze,nt,gt){0!==ze&&(f=!0);for(var Vt=nt;Vt<gt;Vt++){var $t=i[Vt];$t.rect[t]+=ze,$t.label[t]+=ze}}function Ee(ze,nt){for(var gt=[],Vt=0,$t=1;$t<l;$t++){var hi=i[$t-1].rect,gi=Math.max(i[$t].rect[t]-hi[t]-hi[e],0);gt.push(gi),Vt+=gi}if(Vt){var Pi=Math.min(Math.abs(ze)/Vt,nt);if(ze>0)for($t=0;$t<l-1;$t++)de(gt[$t]*Pi,0,$t+1);else for($t=l-1;$t>0;$t--)de(-gt[$t-1]*Pi,$t,l)}}function Ue(ze){var nt=ze<0?-1:1;ze=Math.abs(ze);for(var gt=Math.ceil(ze/(l-1)),Vt=0;Vt<l-1;Vt++)if(nt>0?de(gt,0,Vt+1):de(-gt,l-Vt-1,l),(ze-=gt)<=0)return}}function Gi(i,t,e,n){return Mt(i,"y","height",t,e,n)}function Ki(i){var t=[];i.sort(function(T,I){return I.priority-T.priority});var e=new Qn(0,0,0,0);function n(T){if(!T.ignore){var I=T.ensureState("emphasis");null==I.ignore&&(I.ignore=!1)}T.ignore=!0}for(var s=0;s<i.length;s++){var a=i[s],l=a.axisAligned,d=a.localRect,h=a.transform,f=a.label,m=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var _=a.obb,C=!1,w=0;w<t.length;w++){var D=t[w];if(e.intersect(D.rect)){if(l&&D.axisAligned){C=!0;break}if(D.obb||(D.obb=new np(D.localRect,D.transform)),_||(_=new np(d,h)),_.intersect(D.obb)){C=!0;break}}}C?(n(f),m&&n(m)):(f.attr("ignore",a.defaultAttr.ignore),m&&m.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function yn(i){if(i){for(var t=[],e=0;e<i.length;e++)t.push(i[e].slice());return t}}function Ln(i,t){var e=i.label,n=t&&t.getTextGuideLine();return{dataIndex:i.dataIndex,dataType:i.dataType,seriesIndex:i.seriesModel.seriesIndex,text:i.label.style.text,rect:i.hostRect,labelRect:i.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:yn(n&&n.shape.points)}}var Kn=["align","verticalAlign","width","height","fontSize"],tr=new ic,Mn=Xe(),Zr=Xe();function yo(i,t,e){for(var n=0;n<e.length;n++){var s=e[n];null!=t[s]&&(i[s]=t[s])}}var bs=["x","y","rotation"],$d=function(){function i(){this._labelList=[],this._chartViewList=[]}return i.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},i.prototype._addLabel=function(t,e,n,s,a){var l=s.style,h=s.__hostTarget.textConfig||{},f=s.getComputedTransform(),m=s.getBoundingRect().plain();Qn.applyTransform(m,m,f),f?tr.setLocalTransform(f):(tr.x=tr.y=tr.rotation=tr.originX=tr.originY=0,tr.scaleX=tr.scaleY=1),tr.rotation=la(tr.rotation);var C,_=s.__hostTarget;if(_){C=_.getBoundingRect().plain();var w=_.getComputedTransform();Qn.applyTransform(C,C,w)}var D=C&&_.getTextGuideLine();this._labelList.push({label:s,labelLine:D,seriesModel:n,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:m,hostRect:C,priority:C?C.width*C.height:0,defaultAttr:{ignore:s.ignore,labelGuideIgnore:D&&D.ignore,x:tr.x,y:tr.y,scaleX:tr.scaleX,scaleY:tr.scaleY,rotation:tr.rotation,style:{x:l.x,y:l.y,align:l.align,verticalAlign:l.verticalAlign,width:l.width,height:l.height,fontSize:l.fontSize},cursor:s.cursor,attachedPos:h.position,attachedRot:h.rotation}})},i.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,s=n.get("labelLayout");(Nt(s)||Ri(s).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var l=a.getTextContent(),d=dr(a);l&&!l.disableLabelLayout&&e._addLabel(d.dataIndex,d.dataType,n,l,s)})},i.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function s(H,re){return function(){u(H,re)}}for(var a=0;a<this._labelList.length;a++){var l=this._labelList[a],d=l.label,h=d.__hostTarget,f=l.defaultAttr,m=void 0;m=Nt(l.layoutOption)?l.layoutOption(Ln(l,h)):l.layoutOption,l.computedLayoutOption=m=m||{};var _=Math.PI/180;h&&h.setTextConfig({local:!1,position:null!=m.x||null!=m.y?null:f.attachedPos,rotation:null!=m.rotate?m.rotate*_:f.attachedRot,offset:[m.dx||0,m.dy||0]});var C=!1;if(null!=m.x?(d.x=kn(m.x,e),d.setStyle("x",0),C=!0):(d.x=f.x,d.setStyle("x",f.style.x)),null!=m.y?(d.y=kn(m.y,n),d.setStyle("y",0),C=!0):(d.y=f.y,d.setStyle("y",f.style.y)),m.labelLinePoints){var w=h.getTextGuideLine();w&&(w.setShape({points:m.labelLinePoints}),C=!1)}Mn(d).needsUpdateLabelLine=C,d.rotation=null!=m.rotate?m.rotate*_:f.rotation,d.scaleX=f.scaleX,d.scaleY=f.scaleY;for(var T=0;T<Kn.length;T++){var I=Kn[T];d.setStyle(I,null!=m[I]?m[I]:f.style[I])}if(m.draggable){if(d.draggable=!0,d.cursor="move",h){var F=l.seriesModel;null!=l.dataIndex&&(F=l.seriesModel.getData(l.dataType).getItemModel(l.dataIndex)),d.on("drag",s(h,F.getModel("labelLine")))}}else d.off("drag"),d.cursor=f.cursor}},i.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),s=He(this._labelList),a=Ve(s,function(h){return"shiftX"===h.layoutOption.moveOverlap}),l=Ve(s,function(h){return"shiftY"===h.layoutOption.moveOverlap});(function fi(i,t,e,n){Mt(i,"x","width",t,e,n)})(a,0,e),Gi(l,0,n),Ki(Ve(s,function(h){return h.layoutOption.hideOverlap}))},i.prototype.processLabelsOverall=function(){var t=this;te(this._chartViewList,function(e){var n=e.__model,s=e.ignoreLabelLineUpdate,a=n.isAnimationEnabled();e.group.traverse(function(l){if(l.ignore&&!l.forceLabelAnimation)return!0;var d=!s,h=l.getTextContent();!d&&h&&(d=Mn(h).needsUpdateLabelLine),d&&t._updateLabelLine(l,n),a&&t._animateLabels(l,n)})})},i.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),s=dr(t),a=s.dataIndex;if(n&&null!=a){var l=e.getData(s.dataType),d=l.getItemModel(a),h={},f=l.getItemVisual(a,"style");if(f){var m=l.getVisual("drawType");h.stroke=f[m]}var _=d.getModel("labelLine");ne(t,me(d),h),u(t,_)}},i.prototype._animateLabels=function(t,e){var n=t.getTextContent(),s=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Ua(t))){var l=(a=Mn(n)).oldLayout,d=dr(t),h=d.dataIndex,f={x:n.x,y:n.y,rotation:n.rotation},m=e.getData(d.dataType);if(l){n.attr(l);var C=t.prevStates;C&&(Te(C,"select")>=0&&n.attr(a.oldLayoutSelect),Te(C,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),wo(n,f,e,h)}else if(n.attr(f),!o(n).valueAnimation){var _=en(n.style.opacity,1);n.style.opacity=0,as(n,{style:{opacity:_}},e,h)}if(a.oldLayout=f,n.states.select){var w=a.oldLayoutSelect={};yo(w,f,bs),yo(w,n.states.select,bs)}if(n.states.emphasis){var D=a.oldLayoutEmphasis={};yo(D,f,bs),yo(D,n.states.emphasis,bs)}p(n,h,m,e,e)}if(s&&!s.ignore&&!s.invisible){var a=Zr(s),T={points:s.shape.points};(l=a.oldLayout)?(s.attr({shape:l}),wo(s,{shape:T},e)):(s.setShape(T),s.style.strokePercent=0,as(s,{style:{strokePercent:1}},e)),a.oldLayout=T}},i}();const lf=$d;var Zf=Xe();function XC(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){var s=Zf(e).labelManager;s||(s=Zf(e).labelManager=new lf),s.clearLabels()}),i.registerUpdateLifecycle("series:layoutlabels",function(t,e,n){var s=Zf(e).labelManager;n.updatedSeries.forEach(function(a){s.addLabelsOfSeries(e.getViewOfSeriesModel(a))}),s.updateLayoutConfig(e),s.layout(e),s.processLabelsOverall()})}function sT(i,t,e){var n=Yt.createCanvas(),s=t.getWidth(),a=t.getHeight(),l=n.style;return l&&(l.position="absolute",l.left="0",l.top="0",l.width=s+"px",l.height=a+"px",n.setAttribute("data-zr-dom-id",i)),n.width=s*e,n.height=a*e,n}Or(XC);var JR=function(i){function t(e,n,s){var l,a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,s=s||Sd,"string"==typeof e?l=sT(e,n,s):Zi(e)&&(e=(l=e).id),a.id=e,a.dom=l;var d=l.style;return d&&(En(l),l.onselectstart=function(){return!1},d.padding="0",d.margin="0",d.borderWidth="0"),a.painter=n,a.dpr=s,a}return Fi(t,i),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=sT("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,s,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var I,l=[],d=this.maxRepaintRectCount,h=!1,f=new Qn(0,0,0,0);function m(V){if(V.isFinite()&&!V.isZero())if(0===l.length)(H=new Qn(0,0,0,0)).copy(V),l.push(H);else{for(var re=!1,fe=1/0,de=0,Ee=0;Ee<l.length;++Ee){var Ue=l[Ee];if(Ue.intersect(V)){var ze=new Qn(0,0,0,0);ze.copy(Ue),ze.union(V),l[Ee]=ze,re=!0;break}if(h){f.copy(V),f.union(Ue);var $t=f.width*f.height-V.width*V.height-Ue.width*Ue.height;$t<fe&&(fe=$t,de=Ee)}}var H;h&&(l[de].union(V),re=!0),re||((H=new Qn(0,0,0,0)).copy(V),l.push(H)),h||(h=l.length>=d)}}for(var _=this.__startIndex;_<this.__endIndex;++_)if(C=e[_]){var w=C.shouldBePainted(s,a,!0,!0);(D=C.__isRendered&&(C.__dirty&Fs||!w)?C.getPrevPaintRect():null)&&m(D);var T=w&&(C.__dirty&Fs||!C.__isRendered)?C.getPaintRect():null;T&&m(T)}for(_=this.__prevStartIndex;_<this.__prevEndIndex;++_){var C,D;w=(C=n[_])&&C.shouldBePainted(s,a,!0,!0),!C||w&&C.__zr||!C.__isRendered||(D=C.getPrevPaintRect())&&m(D)}do{for(I=!1,_=0;_<l.length;)if(l[_].isZero())l.splice(_,1);else{for(var F=_+1;F<l.length;)l[_].intersect(l[F])?(I=!0,l[_].union(l[F]),l.splice(F,1)):F++;_++}}while(I);return this._paintRects=l,l},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var s=this.dpr,a=this.dom,l=a.style,d=this.domBack;l&&(l.width=e+"px",l.height=n+"px"),a.width=e*s,a.height=n*s,d&&(d.width=e*s,d.height=n*s,1!==s&&this.ctxBack.scale(s,s))},t.prototype.clear=function(e,n,s){var a=this.dom,l=this.ctx,d=a.width,h=a.height;n=n||this.clearColor;var f=this.motionBlur&&!e,m=this.lastFrameAlpha,_=this.dpr,C=this;f&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,d/_,h/_));var w=this.domBack;function D(T,I,F,V){if(l.clearRect(T,I,F,V),n&&"transparent"!==n){var H=void 0;li(n)?(H=(n.global||n.__width===F&&n.__height===V)&&n.__canvasGradient||HE(l,n,{x:0,y:0,width:F,height:V}),n.__canvasGradient=H,n.__width=F,n.__height=V):ci(n)&&(n.scaleX=n.scaleX||_,n.scaleY=n.scaleY||_,H=CC(l,n,{dirty:function(){C.setUnpainted(),C.painter.refresh()}})),l.save(),l.fillStyle=H||n,l.fillRect(T,I,F,V),l.restore()}f&&(l.save(),l.globalAlpha=m,l.drawImage(w,T,I,F,V),l.restore())}!s||f?D(0,0,d,h):s.length&&te(s,function(T){D(T.x*_,T.y*_,T.width*_,T.height*_)})},t}(ns);const eI=JR;var K_=314159,eU=function(){function i(t,e,n,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=Dt({},n||{}),this.dpr=n.devicePixelRatio||Sd,this._singleCanvas=a,this.root=t,t.style&&(En(t),t.innerHTML=""),this.storage=e;var d=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(a){var m=t,_=m.width,C=m.height;null!=n.width&&(_=n.width),null!=n.height&&(C=n.height),this.dpr=n.devicePixelRatio||1,m.width=_*this.dpr,m.height=C*this.dpr,this._width=_,this._height=C;var w=new eI(m,this,this.dpr);w.__builtin__=!0,w.initContext(),h[K_]=w,w.zlevel=K_,d.push(K_),this._domRoot=t}else{this._width=Lv(t,0,n),this._height=Lv(t,1,n);var f=this._domRoot=function JH(i,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+i+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}(this._width,this._height);t.appendChild(f)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<s.length;a++){var d=this._layers[s[a]];!d.__builtin__&&d.refresh&&d.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var a,s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l=0;l<e;l++){var d=t[l];d.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),a||(a=n.ctx).save(),dm(a,d,s,l===e-1))}a&&a.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(1e5)},i.prototype.paintOne=function(t,e){_x(t,e)},i.prototype._paintList=function(t,e,n,s){if(this._redrawId===s){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),l=a.finished,d=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),d&&this._paintHoverList(t),l)this.eachLayer(function(f){f.afterBrush&&f.afterBrush()});else{var h=this;un(function(){h._paintList(t,e,n,s)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(K_).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(s){s.virtual&&t.drawImage(s.dom,0,0,e,n)})},i.prototype._doPaintList=function(t,e,n){for(var s=this,a=[],l=this._opts.useDirtyRect,d=0;d<this._zlevelList.length;d++){var f=this._layers[this._zlevelList[d]];f.__builtin__&&f!==this._hoverlayer&&(f.__dirty||n)&&a.push(f)}for(var m=!0,_=!1,C=function(T){var I=a[T],F=I.ctx,V=l&&I.createRepaintRects(t,e,w._width,w._height),H=n?I.__startIndex:I.__drawIndex,re=!n&&I.incremental&&Date.now,fe=re&&Date.now(),de=I.zlevel===w._zlevelList[0]?w._backgroundColor:null;if(I.__startIndex===I.__endIndex)I.clear(!1,de,V);else if(H===I.__startIndex){var Ee=t[H];(!Ee.incremental||!Ee.notClear||n)&&I.clear(!1,de,V)}-1===H&&(console.error("For some unknown reason. drawIndex is -1"),H=I.__startIndex);var Ue,ze=function($t){var hi={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(Ue=H;Ue<I.__endIndex;Ue++){var gi=t[Ue];if(gi.__inHover&&(_=!0),s._doPaintEl(gi,I,l,$t,hi,Ue===I.__endIndex-1),re&&Date.now()-fe>15)break}hi.prevElClipPaths&&F.restore()};if(V)if(0===V.length)Ue=I.__endIndex;else for(var nt=w.dpr,gt=0;gt<V.length;++gt){var Vt=V[gt];F.save(),F.beginPath(),F.rect(Vt.x*nt,Vt.y*nt,Vt.width*nt,Vt.height*nt),F.clip(),ze(Vt),F.restore()}else F.save(),ze(),F.restore();I.__drawIndex=Ue,I.__drawIndex<I.__endIndex&&(m=!1)},w=this,D=0;D<a.length;D++)C(D);return Tt.wxa&&te(this._layers,function(T){T&&T.ctx&&T.ctx.draw&&T.ctx.draw()}),{finished:m,needsRefreshHover:_}},i.prototype._doPaintEl=function(t,e,n,s,a,l){var d=e.ctx;if(n){var h=t.getPaintRect();(!s||h&&h.intersect(s))&&(dm(d,t,a,l),t.setPrevPaintRect(h))}else dm(d,t,a,l)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=K_);var n=this._layers[t];return n||((n=new eI("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Pt(n,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Pt(n,this._layerConfig[t-.01],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},i.prototype.insertLayer=function(t,e){var n=this._layers,s=this._zlevelList,a=s.length,l=this._domRoot,d=null,h=-1;if(!n[t]&&function qH(i){return!(!i||!i.__builtin__&&("function"!=typeof i.resize||"function"!=typeof i.refresh))}(e)){if(a>0&&t>s[0]){for(h=0;h<a-1&&!(s[h]<t&&s[h+1]>t);h++);d=n[s[h]]}if(s.splice(h+1,0,t),n[t]=e,!e.virtual)if(d){var f=d.dom;f.nextSibling?l.insertBefore(e.dom,f.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom);e.painter||(e.painter=this)}},i.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,s=0;s<n.length;s++){var a=n[s];t.call(e,this._layers[a],a)}},i.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,s=0;s<n.length;s++){var a=n[s],l=this._layers[a];l.__builtin__&&t.call(e,l,a)}},i.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,s=0;s<n.length;s++){var a=n[s],l=this._layers[a];l.__builtin__||t.call(e,l,a)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){function e(_){a&&(a.__endIndex!==_&&(a.__dirty=!0),a.__endIndex=_)}if(this.eachBuiltinLayer(function(_,C){_.__dirty=_.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++)if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var d,h,a=null,l=0;for(h=0;h<t.length;h++){var s,f=(s=t[h]).zlevel,m=void 0;d!==f&&(d=f,l=0),s.incremental?((m=this.getLayer(f+.001,this._needsManuallyCompositing)).incremental=!0,l=1):m=this.getLayer(f+(l>0?.01:0),this._needsManuallyCompositing),m.__builtin__||ui("ZLevel "+f+" has been used by unkown layer "+m.id),m!==a&&(m.__used=!0,m.__startIndex!==h&&(m.__dirty=!0),m.__startIndex=h,m.__drawIndex=m.incremental?-1:h,e(h),a=m),s.__dirty&Fs&&!s.__inHover&&(m.__dirty=!0,m.incremental&&m.__drawIndex<0&&(m.__drawIndex=h))}e(h),this.eachBuiltinLayer(function(_,C){!_.__used&&_.getElementCount()>0&&(_.__dirty=!0,_.__startIndex=_.__endIndex=_.__drawIndex=0),_.__dirty&&_.__drawIndex<0&&(_.__drawIndex=_.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,te(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?Pt(n[t],e,!0):n[t]=e;for(var s=0;s<this._zlevelList.length;s++){var a=this._zlevelList[s];a!==t&&a!==t+.01||Pt(this._layers[a],n[t],!0)}}},i.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,s=e[t];s&&(s.dom.parentNode.removeChild(s.dom),delete e[t],n.splice(Te(n,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var s=this._opts,a=this.root;if(null!=t&&(s.width=t),null!=e&&(s.height=e),t=Lv(a,0,s),e=Lv(a,1,s),n.style.display="",this._width!==t||e!==this._height){for(var l in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(l)&&this._layers[l].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(K_).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[K_].dom;var e=new eI("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var s=e.dom.width,a=e.dom.height;this.eachLayer(function(_){_.__builtin__?n.drawImage(_.dom,0,0,s,a):_.renderToCanvas&&(n.save(),_.renderToCanvas(n),n.restore())})}else for(var l={inHover:!1,viewWidth:this._width,viewHeight:this._height},d=this.storage.getDisplayList(!0),h=0,f=d.length;h<f;h++)dm(n,d[h],l,h===f-1);return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}();const tU=eU;var tI=Math.sin,iI=Math.cos,JF=Math.PI,X_=2*Math.PI,nU=180/JF,rU=function(){function i(){}return i.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},i.prototype.moveTo=function(t,e){this._add("M",t,e)},i.prototype.lineTo=function(t,e){this._add("L",t,e)},i.prototype.bezierCurveTo=function(t,e,n,s,a,l){this._add("C",t,e,n,s,a,l)},i.prototype.quadraticCurveTo=function(t,e,n,s){this._add("Q",t,e,n,s)},i.prototype.arc=function(t,e,n,s,a,l){this.ellipse(t,e,n,n,0,s,a,l)},i.prototype.ellipse=function(t,e,n,s,a,l,d,h){var D,f=d-l,m=!h,_=Math.abs(f),C=he(_-X_)||(m?f>=X_:-f>=X_),w=f>0?f%X_:f%X_+X_;D=!!C||!he(_)&&w>=JF==!!m;var T=t+n*iI(l),I=e+s*tI(l);this._start&&this._add("M",T,I);var F=Math.round(a*nU);if(C){var V=1/this._p,H=(m?1:-1)*(X_-V);this._add("A",n,s,F,1,+m,t+n*iI(l+H),e+s*tI(l+H)),V>.01&&this._add("A",n,s,F,0,+m,T,I)}else{var re=t+n*iI(d),fe=e+s*tI(d);this._add("A",n,s,F,+D,+m,re,fe)}},i.prototype.rect=function(t,e,n,s){this._add("M",t,e),this._add("l",n,0),this._add("l",0,s),this._add("l",-n,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(t,e,n,s,a,l,d,h,f){for(var m=[],_=this._p,C=1;C<arguments.length;C++){var w=arguments[C];if(isNaN(w))return void(this._invalid=!0);m.push(Math.round(w*_)/_)}this._d.push(t+m.join(" ")),this._start="Z"===t},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}();const eO=rU;var _S="none",oU=Math.round,nI=["lineCap","miterLimit","lineJoin"],lU=ge(nI,function(i){return"stroke-"+i.toLowerCase()});var tO="http://www.w3.org/2000/svg",iO="http://www.w3.org/1999/xlink",dU="http://www.w3.org/2000/xmlns/",uU="http://www.w3.org/XML/1998/namespace",nO="ecmeta_";function rO(i){return document.createElementNS(tO,i)}function Tc(i,t,e,n,s){return{tag:i,attrs:e||{},children:n,text:s,key:t}}function rI(i,t){var e=(t=t||{}).newline?"\n":"";return function n(s){var a=s.children,l=s.tag,h=s.text;return function hU(i,t){var e=[];if(t)for(var n in t){var s=t[n],a=n;!1!==s&&(!0!==s&&null!=s&&(a+='="'+s+'"'),e.push(a))}return"<"+i+" "+e.join(" ")+">"}(l,s.attrs)+("style"!==l?so(h):h||"")+(a?""+e+ge(a,function(f){return n(f)}).join(e)+e:"")+function pU(i){return"</"+i+">"}(l)}(i)}function oI(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oO(i,t,e,n){return Tc("svg","root",{width:i,height:t,xmlns:tO,"xmlns:xlink":iO,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+i+" "+t},e)}var gU=0;function sO(){return gU++}var aO={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Y_="transform-origin";function mU(i,t,e){var n=Dt({},i.shape);Dt(n,t),i.buildPath(e,n);var s=new eO;return s.reset(od(i)),e.rebuildPath(s,1),s.generateStr(),s.getStr()}function vU(i,t){var e=t.originX,n=t.originY;(e||n)&&(i[Y_]=e+"px "+n+"px")}var yU={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function lO(i,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=i,e}function cO(i){return Ii(i)?aO[i]?"cubic-bezier("+aO[i]+")":ht(i)?i:"":""}function lT(i,t,e,n){var s=i.animators,a=s.length,l=[];if(i instanceof cC){var d=function _U(i,t,e){var a,l,s={};if(te(i.shape.paths,function(h){var f=oI(e.zrId);f.animation=!0,lT(h,{},f,!0);var m=f.cssAnims,_=f.cssNodes,C=Ri(m),w=C.length;if(w){var D=m[l=C[w-1]];for(var T in D){var I=D[T];s[T]=s[T]||{d:""},s[T].d+=I.d||""}for(var F in _){var V=_[F].animation;V.indexOf(l)>=0&&(a=V)}}}),a){t.d=!1;var d=lO(s,e);return a.replace(l,d)}}(i,t,e);if(d)l.push(d);else if(!a)return}else if(!a)return;for(var h={},f=0;f<a;f++){var m=s[f],_=[m.getMaxTime()/1e3+"s"],C=cO(m.getClip().easing),w=m.getDelay();_.push(C||"linear"),w&&_.push(w/1e3+"s"),m.getLoop()&&_.push("infinite");var D=_.join(" ");h[D]=h[D]||[D,[]],h[D][1].push(m)}function T(V){var H=V[1],re=H.length,fe={},de={},Ee={},Ue="animation-timing-function";function ze(br,Jr,Lr){for(var ir=br.getTracks(),Nr=br.getMaxTime(),Ra=0;Ra<ir.length;Ra++){var Oo=ir[Ra];if(Oo.needsAnimate()){var vl=Oo.keyframes,tl=Oo.propName;if(Lr&&(tl=Lr(tl)),tl)for(var Kd=0;Kd<vl.length;Kd++){var Dm=vl[Kd],Zu=Math.round(Dm.time/Nr*100)+"%",cM=cO(Dm.easing),dy=Dm.rawValue;(Ii(dy)||Di(dy))&&(Jr[Zu]=Jr[Zu]||{},Jr[Zu][tl]=Dm.rawValue,cM&&(Jr[Zu][Ue]=cM))}}}}for(var nt=0;nt<re;nt++)(Vt=(gt=H[nt]).targetName)?"shape"===Vt&&ze(gt,de):!n&&ze(gt,fe);for(var $t in fe){var hi={};vu(hi,i),Dt(hi,fe[$t]);var gi=Co(hi),Pi=fe[$t][Ue];Ee[$t]=gi?{transform:gi}:{},vU(Ee[$t],hi),Pi&&(Ee[$t][Ue]=Pi)}var Yi,ji=!0;for(var $t in de){Ee[$t]=Ee[$t]||{};var rn=!Yi;Pi=de[$t][Ue],rn&&(Yi=new zl);var bn=Yi.len();Yi.reset(),Ee[$t].d=mU(i,de[$t],Yi);var In=Yi.len();if(!rn&&bn!==In){ji=!1;break}Pi&&(Ee[$t][Ue]=Pi)}if(!ji)for(var $t in Ee)delete Ee[$t].d;if(!n)for(nt=0;nt<re;nt++){var gt,Vt;"style"===(Vt=(gt=H[nt]).targetName)&&ze(gt,Ee,function(ir){return yU[ir]})}var ur,Vn=Ri(Ee),lr=!0;for(nt=1;nt<Vn.length;nt++){var Yr=Vn[nt-1];if(Ee[Yr][Y_]!==Ee[Vn[nt]][Y_]){lr=!1;break}ur=Ee[Yr][Y_]}if(lr&&ur){for(var $t in Ee)Ee[$t][Y_]&&delete Ee[$t][Y_];t[Y_]=ur}if(Ve(Vn,function(br){return Ri(Ee[br]).length>0}).length)return lO(Ee,e)+" "+V[0]+" both"}for(var I in h)(d=T(h[I]))&&l.push(d);if(l.length){var F=e.zrId+"-cls-"+sO();e.cssNodes["."+F]={animation:l.join(",")},t.class=F}}function dO(i,t,e,n){var s=JSON.stringify(i),a=e.cssStyleCache[s];a||(a=e.zrId+"-cls-"+sO(),e.cssStyleCache[s]=a,e.cssNodes["."+a+(n?":hover":"")]=i),t.class=t.class?t.class+" "+a:a}var bS=Math.round;function uO(i){return i&&Ii(i.src)}function hO(i){return i&&Nt(i.toDataURL)}function sI(i,t,e,n){(function cU(i,t,e,n){var s=null==t.opacity?1:t.opacity;if(e instanceof hs)i("opacity",s);else{if(function sU(i){var t=i.fill;return null!=t&&t!==_S}(t)){var a=pe(t.fill);i("fill",a.color);var l=null!=t.fillOpacity?t.fillOpacity*a.opacity*s:a.opacity*s;(n||l<1)&&i("fill-opacity",l)}else i("fill",_S);if(function aU(i){var t=i.stroke;return null!=t&&t!==_S}(t)){var d=pe(t.stroke);i("stroke",d.color);var h=t.strokeNoScale?e.getLineScale():1,f=h?(t.lineWidth||0)/h:0,m=null!=t.strokeOpacity?t.strokeOpacity*d.opacity*s:d.opacity*s,_=t.strokeFirst;if((n||1!==f)&&i("stroke-width",f),(n||_)&&i("paint-order",_?"stroke":"fill"),(n||m<1)&&i("stroke-opacity",m),t.lineDash){var C=_C(e),w=C[0],D=C[1];w&&(D=oU(D||0),i("stroke-dasharray",w.join(",")),(D||n)&&i("stroke-dashoffset",D))}else n&&i("stroke-dasharray",_S);for(var T=0;T<nI.length;T++){var I=nI[T];if(n||t[I]!==Np[I]){var F=t[I]||Np[I];F&&i(lU[T],F)}}}else n&&i("stroke",_S)}})(function(s,a){var l="fill"===s||"stroke"===s;l&&Sh(a)?yO(t,i,s,n):l&&Fc(a)?_O(e,i,s,n):i[s]=l&&"none"===a?"transparent":a},t,e,!1),function AU(i,t,e){var n=i.style;if(function Ir(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)}(n)){var s=function Qo(i){var t=i.style,e=i.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}(i),a=e.shadowCache,l=a[s];if(!l){var d=i.getGlobalScale(),h=d[0],f=d[1];if(!h||!f)return;var m=n.shadowOffsetX||0,_=n.shadowOffsetY||0,C=n.shadowBlur,w=pe(n.shadowColor),D=w.opacity,T=w.color,V=C/2/h+" "+C/2/f;l=e.zrId+"-s"+e.shadowIdx++,e.defs[l]=Tc("filter",l,{id:l,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Tc("feDropShadow","",{dx:m/h,dy:_/f,stdDeviation:V,"flood-color":T,"flood-opacity":D})]),a[s]=l}t.filter=Jo(l)}}(e,i,n)}function aI(i,t){var e=oh(t);e&&(e.each(function(n,s){null!=n&&(i[(nO+s).toLowerCase()]=n+"")}),t.isSilent()&&(i[nO+"silent"]="true"))}function pO(i){return he(i[0]-1)&&he(i[1])&&he(i[2])&&he(i[3]-1)}function lI(i,t,e){if(t&&(!function CU(i){return he(i[4])&&he(i[5])}(t)||!pO(t))){var n=e?10:1e4;i.transform=pO(t)?"translate("+bS(t[4]*n)/n+" "+bS(t[5]*n)/n+")":function Ji(i){return"matrix("+ke(i[0])+","+ke(i[1])+","+ke(i[2])+","+ke(i[3])+","+At(i[4])+","+At(i[5])+")"}(t)}}function fO(i,t,e){for(var n=i.points,s=[],a=0;a<n.length;a++)s.push(bS(n[a][0]*e)/e),s.push(bS(n[a][1]*e)/e);t.points=s.join(" ")}function gO(i){return!i.smooth}var xU={circle:[function wU(i){var t=ge(i,function(e){return"string"==typeof e?[e,e]:e});return function(e,n,s){for(var a=0;a<t.length;a++){var l=t[a],d=e[l[0]];null!=d&&(n[l[1]]=bS(d*s)/s)}}}(["cx","cy","r"])],polyline:[fO,gO],polygon:[fO,gO]};function mO(i,t){var e=i.style,n=i.shape,s=xU[i.type],a={},l=t.animation,d="path",h=i.style.strokePercent,f=t.compress&&od(i)||4;if(!s||t.willUpdate||s[1]&&!s[1](n)||l&&function SU(i){for(var t=i.animators,e=0;e<t.length;e++)if("shape"===t[e].targetName)return!0;return!1}(i)||h<1){var _=!i.path||i.shapeChanged();i.path||i.createPathProxy();var C=i.path;_&&(C.beginPath(),i.buildPath(C,i.shape),i.pathUpdated());var w=C.getVersion(),D=i,T=D.__svgPathBuilder;(D.__svgPathVersion!==w||!T||h!==D.__svgPathStrokePercent)&&(T||(T=D.__svgPathBuilder=new eO),T.reset(f),C.rebuildPath(T,h),T.generateStr(),D.__svgPathVersion=w,D.__svgPathStrokePercent=h),a.d=T.getStr()}else{d=i.type;var m=Math.pow(10,f);s[0](n,a,m)}return lI(a,i.transform),sI(a,e,i,t),aI(a,i),t.animation&&lT(i,a,t),t.emphasis&&function bU(i,t,e){if(!i.ignore)if(i.isSilent())dO(n={"pointer-events":"none"},t,e,!0);else{var s=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},a=s.fill;if(!a){var l=i.style&&i.style.fill,d=i.states.select&&i.states.select.style&&i.states.select.style.fill,h=i.currentStates.indexOf("select")>=0&&d||l;h&&(a=mn(h))}var f=s.lineWidth;f&&(f/=!s.strokeNoScale&&i.transform?i.transform[0]:1);var n={cursor:"pointer"};a&&(n.fill=a),s.stroke&&(n.stroke=s.stroke),f&&(n["stroke-width"]=f),dO(n,t,e,!0)}}(i,a,t),Tc(d,i.id+"",a)}function vO(i,t){return i instanceof $r?mO(i,t):i instanceof hs?function DU(i,t){var e=i.style,n=e.image;if(n&&!Ii(n)&&(uO(n)?n=n.src:hO(n)&&(n=n.toDataURL())),n){var s=e.x||0,a=e.y||0,h={href:n,width:e.width,height:e.height};return s&&(h.x=s),a&&(h.y=a),lI(h,i.transform),sI(h,e,i,t),aI(h,i),t.animation&&lT(i,h,t),Tc("image",i.id+"",h)}}(i,t):i instanceof Hm?function EU(i,t){var e=i.style,n=e.text;if(null!=n&&(n+=""),n&&!isNaN(e.x)&&!isNaN(e.y)){var s=e.font||ri,a=e.x||0,l=function Hn(i,t,e){return"top"===e?i+=t/2:"bottom"===e&&(i-=t/2),i}(e.y||0,hg(s),e.textBaseline),h={"dominant-baseline":"central","text-anchor":$i[e.textAlign]||e.textAlign};if(Ru(e)){var f="",m=e.fontStyle,_=Hp(e.fontSize);if(!parseFloat(_))return;var w=e.fontWeight;f+="font-size:"+_+";font-family:"+(e.fontFamily||st)+";",m&&"normal"!==m&&(f+="font-style:"+m+";"),w&&"normal"!==w&&(f+="font-weight:"+w+";"),h.style=f}else h.style="font: "+s;return n.match(/\s/)&&(h["xml:space"]="preserve"),a&&(h.x=a),l&&(h.y=l),lI(h,i.transform),sI(h,e,i,t),aI(h,i),t.animation&&lT(i,h,t),Tc("text",i.id+"",h,void 0,n)}}(i,t):void 0}function yO(i,t,e,n){var a,s=i[e],l={gradientUnits:s.global?"userSpaceOnUse":"objectBoundingBox"};if(_d(s))a="linearGradient",l.x1=s.x,l.y1=s.y,l.x2=s.x2,l.y2=s.y2;else{if(!bd(s))return;a="radialGradient",l.cx=en(s.x,.5),l.cy=en(s.y,.5),l.r=en(s.r,.5)}for(var d=s.colorStops,h=[],f=0,m=d.length;f<m;++f){var _=100*At(d[f].offset)+"%",w=pe(d[f].color),T=w.opacity,I={offset:_};I["stop-color"]=w.color,T<1&&(I["stop-opacity"]=T),h.push(Tc("stop",f+"",I))}var V=rI(Tc(a,"",l,h)),H=n.gradientCache,re=H[V];re||(re=n.zrId+"-g"+n.gradientIdx++,H[V]=re,l.id=re,n.defs[re]=Tc(a,re,l,h)),t[e]=Jo(re)}function _O(i,t,e,n){var _,s=i.style[e],a=i.getBoundingRect(),l={},d=s.repeat,h="no-repeat"===d,f="repeat-x"===d,m="repeat-y"===d;if(Va(s)){var C=s.imageWidth,w=s.imageHeight,D=void 0,T=s.image;if(Ii(T)?D=T:uO(T)?D=T.src:hO(T)&&(D=T.toDataURL()),typeof Image>"u"){var I="Image width/height must been given explictly in svg-ssr renderer.";mr(C,I),mr(w,I)}else if(null==C||null==w){var F=function(nt,gt){if(nt){var Vt=nt.elm,$t=C||gt.width,hi=w||gt.height;"pattern"===nt.tag&&(f?(hi=1,$t/=a.width):m&&($t=1,hi/=a.height)),nt.attrs.width=$t,nt.attrs.height=hi,Vt&&(Vt.setAttribute("width",$t),Vt.setAttribute("height",hi))}},V=wu(D,null,i,function(nt){h||F(de,nt),F(_,nt)});V&&V.width&&V.height&&(C=C||V.width,w=w||V.height)}_=Tc("image","img",{href:D,width:C,height:w}),l.width=C,l.height=w}else s.svgElement&&(_=xe(s.svgElement),l.width=s.svgWidth,l.height=s.svgHeight);if(_){var H,re;h?H=re=1:f?(re=1,H=l.width/a.width):m?(H=1,re=l.height/a.height):l.patternUnits="userSpaceOnUse",null!=H&&!isNaN(H)&&(l.width=H),null!=re&&!isNaN(re)&&(l.height=re);var fe=Co(s);fe&&(l.patternTransform=fe);var de=Tc("pattern","",l,[_]),Ee=rI(de),Ue=n.patternCache,ze=Ue[Ee];ze||(ze=n.zrId+"-p"+n.patternIdx++,Ue[Ee]=ze,l.id=ze,de=n.defs[ze]=Tc("pattern",ze,l,[_])),t[e]=Jo(ze)}}function TU(i,t,e){var n=e.clipPathCache,s=e.defs,a=n[i.id];if(!a){var l={id:a=e.zrId+"-c"+e.clipPathIdx++};n[i.id]=a,s[a]=Tc("clipPath",a,l,[mO(i,e)])}t["clip-path"]=Jo(a)}function bO(i){return document.createTextNode(i)}function Q_(i,t,e){i.insertBefore(t,e)}function CO(i,t){i.removeChild(t)}function wO(i,t){i.appendChild(t)}function xO(i){return i.parentNode}function SO(i){return i.nextSibling}function cI(i,t){i.textContent=t}var DO=58,MU=120,RU=Tc("","");function dI(i){return void 0===i}function qf(i){return void 0!==i}function IU(i,t,e){for(var n={},s=t;s<=e;++s){var a=i[s].key;void 0!==a&&(n[a]=s)}return n}function CS(i,t){return i.tag===t.tag&&i.key===t.key}function wS(i){var t,e=i.children,n=i.tag;if(qf(n)){var s=i.elm=rO(n);if(uI(RU,i),Me(e))for(t=0;t<e.length;++t){var a=e[t];null!=a&&wO(s,wS(a))}else qf(i.text)&&!Zi(i.text)&&wO(s,bO(i.text))}else i.elm=bO(i.text);return i.elm}function EO(i,t,e,n,s){for(;n<=s;++n){var a=e[n];null!=a&&Q_(i,wS(a),t)}}function cT(i,t,e,n){for(;e<=n;++e){var s=t[e];null!=s&&(qf(s.tag)?CO(xO(s.elm),s.elm):CO(i,s.elm))}}function uI(i,t){var e,n=t.elm,s=i&&i.attrs||{},a=t.attrs||{};if(s!==a){for(e in a){var l=a[e];s[e]!==l&&(!0===l?n.setAttribute(e,""):!1===l?n.removeAttribute(e):"style"===e?n.style.cssText=l:e.charCodeAt(0)!==MU?n.setAttribute(e,l):"xmlns:xlink"===e||"xmlns"===e?n.setAttributeNS(dU,e,l):e.charCodeAt(3)===DO?n.setAttributeNS(uU,e,l):e.charCodeAt(5)===DO?n.setAttributeNS(iO,e,l):n.setAttribute(e,l))}for(e in s)e in a||n.removeAttribute(e)}}function YC(i,t){var e=t.elm=i.elm,n=i.children,s=t.children;i!==t&&(uI(i,t),dI(t.text)?qf(n)&&qf(s)?n!==s&&function PU(i,t,e){for(var _,C,w,n=0,s=0,a=t.length-1,l=t[0],d=t[a],h=e.length-1,f=e[0],m=e[h];n<=a&&s<=h;)null==l?l=t[++n]:null==d?d=t[--a]:null==f?f=e[++s]:null==m?m=e[--h]:CS(l,f)?(YC(l,f),l=t[++n],f=e[++s]):CS(d,m)?(YC(d,m),d=t[--a],m=e[--h]):CS(l,m)?(YC(l,m),Q_(i,l.elm,SO(d.elm)),l=t[++n],m=e[--h]):CS(d,f)?(YC(d,f),Q_(i,d.elm,l.elm),d=t[--a],f=e[++s]):(dI(_)&&(_=IU(t,n,a)),dI(C=_[f.key])||(w=t[C]).tag!==f.tag?Q_(i,wS(f),l.elm):(YC(w,f),t[C]=void 0,Q_(i,w.elm,l.elm)),f=e[++s]);(n<=a||s<=h)&&(n>a?EO(i,null==e[h+1]?null:e[h+1].elm,e,s,h):cT(i,t,n,a))}(e,n,s):qf(s)?(qf(i.text)&&cI(e,""),EO(e,null,s,0,s.length-1)):qf(n)?cT(e,n,0,n.length-1):qf(i.text)&&cI(e,""):i.text!==t.text&&(qf(n)&&cT(e,n,0,n.length-1),cI(e,t.text)))}var FU=0,OU=function(){function i(t,e,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=n=Dt({},n),this.root=t,this._id="zr"+FU++,this._oldVNode=oO(n.width,n.height),t&&!n.ssr){var s=this._viewport=document.createElement("div");s.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=rO("svg");uI(null,this._oldVNode),s.appendChild(a),t.appendChild(s)}this.resize(n.width,n.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function kU(i,t){if(CS(i,t))YC(i,t);else{var e=i.elm,n=xO(e);wS(t),null!==n&&(Q_(n,t.elm,SO(e)),cT(n,[i],0,0))}}(this._oldVNode,t),this._oldVNode=t}},i.prototype.renderOneToVNode=function(t){return vO(t,oI(this._id))},i.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),n=this._width,s=this._height,a=oI(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis;var l=[],d=this._bgVNode=function LU(i,t,e,n){var s;if(e&&"none"!==e)if(s=Tc("rect","bg",{width:i,height:t,x:"0",y:"0"}),Sh(e))yO({fill:e},s.attrs,"fill",n);else if(Fc(e))_O({style:{fill:e},dirty:dt,getBoundingRect:function(){return{width:i,height:t}}},s.attrs,"fill",n);else{var a=pe(e),d=a.opacity;s.attrs.fill=a.color,d<1&&(s.attrs["fill-opacity"]=d)}return s}(n,s,this._backgroundColor,a);d&&l.push(d);var h=t.compress?null:this._mainVNode=Tc("g","main",{},[]);this._paintList(e,a,h?h.children:l),h&&l.push(h);var f=ge(Ri(a.defs),function(C){return a.defs[C]});if(f.length&&l.push(Tc("defs","defs",{},f)),t.animation){var m=function fU(i,t,e){var n=(e=e||{}).newline?"\n":"",s=" {"+n,a=n+"}",l=ge(Ri(i),function(h){return h+s+ge(Ri(i[h]),function(f){return f+":"+i[h][f]+";"}).join(n)+a}).join(n),d=ge(Ri(t),function(h){return"@keyframes "+h+s+ge(Ri(t[h]),function(f){return f+s+ge(Ri(t[h][f]),function(m){var _=t[h][f][m];return"d"===m&&(_='path("'+_+'")'),m+":"+_+";"}).join(n)+a}).join(n)+a}).join(n);return l||d?["<![CDATA[",l,d,"]]>"].join(n):""}(a.cssNodes,a.cssAnims,{newline:!0});if(m){var _=Tc("style","stl",{},[],m);l.push(_)}}return oO(n,s,l,t.useViewBox)},i.prototype.renderToString=function(t){return rI(this.renderToVNode({animation:en((t=t||{}).cssAnimation,!0),emphasis:en(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:en(t.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(t,e,n){for(var d,h,s=t.length,a=[],l=0,f=0,m=0;m<s;m++){var _=t[m];if(!_.invisible){var C=_.__clipPaths,w=C&&C.length||0,D=h&&h.length||0,T=void 0;for(T=Math.max(w-1,D-1);T>=0&&(!C||!h||C[T]!==h[T]);T--);for(var I=D-1;I>T;I--)d=a[--l-1];for(var F=T+1;F<w;F++){var V={};TU(C[F],V,e);var H=Tc("g","clip-g-"+f++,V,[]);(d?d.children:n).push(H),a[l++]=H,d=H}h=C;var re=vO(_,e);re&&(d?d.children:n).push(re)}}},i.prototype.resize=function(t,e){var n=this._opts,s=this.root,a=this._viewport;if(null!=t&&(n.width=t),null!=e&&(n.height=e),s&&a&&(a.style.display="none",t=Lv(s,0,n),e=Lv(s,1,n),a.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,a){var l=a.style;l.width=t+"px",l.height=e+"px"}if(Fc(this._backgroundColor))this.refresh();else{var d=this._svgDom;d&&(d.setAttribute("width",t),d.setAttribute("height",e));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",e))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(t){var e=this.renderToString(),n="data:image/svg+xml;";return t?(e=vp(e))&&n+"base64,"+e:n+"charset=UTF-8,"+encodeURIComponent(e)},i}();const NU=OU;var VU=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return P(t,i),t.prototype.getInitialData=function(e){return sp(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var n=new zn,s=Ma("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);n.add(s),s.setStyle(e.lineStyle);var a=this.getData().getVisual("symbol"),l=this.getData().getVisual("symbolRotate"),d="none"===a?"circle":a,h=.8*e.itemHeight,f=Ma(d,(e.itemWidth-h)/2,(e.itemHeight-h)/2,h,h,e.itemStyle.fill);return n.add(f),f.setStyle(e.itemStyle),f.rotation=("inherit"===e.iconRotate?l:e.iconRotate||0)*Math.PI/180,f.setOrigin([e.itemWidth/2,e.itemHeight/2]),d.indexOf("empty")>-1&&(f.style.stroke=f.style.fill,f.style.fill="#fff",f.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Us);const GU=VU;function QC(i,t){var e=i.mapDimensionsAll("defaultedLabel"),n=e.length;if(1===n){var s=hv(i,t,e[0]);return null!=s?s+"":null}if(n){for(var a=[],l=0;l<e.length;l++)a.push(hv(i,t,e[l]));return a.join(" ")}}function TO(i,t){var e=i.mapDimensionsAll("defaultedLabel");if(!Me(t))return t+"";for(var n=[],s=0;s<e.length;s++){var a=i.getDimensionIndex(e[s]);a>=0&&n.push(t[a])}return n.join(" ")}var HU=function(i){function t(e,n,s,a){var l=i.call(this)||this;return l.updateData(e,n,s,a),l}return P(t,i),t.prototype._createSymbol=function(e,n,s,a,l){this.removeAll();var d=Ma(e,-1,-1,2,2,null,l);d.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),d.drift=UU,this._symbolType=e,this.add(d)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){ru(this.childAt(0))},t.prototype.downplay=function(){Qc(this.childAt(0))},t.prototype.setZ=function(e,n){var s=this.childAt(0);s.zlevel=e,s.z=n},t.prototype.setDraggable=function(e,n){var s=this.childAt(0);s.draggable=e,s.cursor=!n&&e?"move":s.cursor},t.prototype.updateData=function(e,n,s,a){this.silent=!1;var l=e.getItemVisual(n,"symbol")||"circle",d=e.hostModel,h=t.getSymbolSize(e,n),f=l!==this._symbolType,m=a&&a.disableAnimation;if(f){var _=e.getItemVisual(n,"symbolKeepAspect");this._createSymbol(l,e,n,h,_)}else{(C=this.childAt(0)).silent=!1;var w={scaleX:h[0]/2,scaleY:h[1]/2};m?C.attr(w):wo(C,w,d,n),Bd(C)}if(this._updateCommon(e,n,h,s,a),f){var C=this.childAt(0);m||(w={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:C.style.opacity}},C.scaleX=C.scaleY=0,C.style.opacity=0,as(C,w,d,n))}m&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,n,s,a,l){var f,m,_,C,w,D,T,I,F,d=this.childAt(0),h=e.hostModel;if(a&&(f=a.emphasisItemStyle,m=a.blurItemStyle,_=a.selectItemStyle,C=a.focus,w=a.blurScope,T=a.labelStatesModels,I=a.hoverScale,F=a.cursorStyle,D=a.emphasisDisabled),!a||e.hasItemOption){var V=a&&a.itemModel?a.itemModel:e.getItemModel(n),H=V.getModel("emphasis");f=H.getModel("itemStyle").getItemStyle(),_=V.getModel(["select","itemStyle"]).getItemStyle(),m=V.getModel(["blur","itemStyle"]).getItemStyle(),C=H.get("focus"),w=H.get("blurScope"),D=H.get("disabled"),T=za(V),I=H.getShallow("scale"),F=V.getShallow("cursor")}var re=e.getItemVisual(n,"symbolRotate");d.attr("rotation",(re||0)*Math.PI/180||0);var fe=Kf(e.getItemVisual(n,"symbolOffset"),s);fe&&(d.x=fe[0],d.y=fe[1]),F&&d.attr("cursor",F);var de=e.getItemVisual(n,"style"),Ee=de.fill;if(d instanceof hs){var Ue=d.style;d.useStyle(Dt({image:Ue.image,x:Ue.x,y:Ue.y,width:Ue.width,height:Ue.height},de))}else d.useStyle(d.__isEmptyBrush?Dt({},de):de),d.style.decal=null,d.setColor(Ee,l&&l.symbolInnerColor),d.style.strokeNoScale=!0;var ze=e.getItemVisual(n,"liftZ"),nt=this._z2;null!=ze?null==nt&&(this._z2=d.z2,d.z2+=ze):null!=nt&&(d.z2=nt,this._z2=null);var gt=l&&l.useNameLabel;Rl(d,T,{labelFetcher:h,labelDataIndex:n,defaultText:function Vt(gi){return gt?e.getName(gi):QC(e,gi)},inheritColor:Ee,defaultOpacity:de.opacity}),this._sizeX=s[0]/2,this._sizeY=s[1]/2;var $t=d.ensureState("emphasis");$t.style=f,d.ensureState("select").style=_,d.ensureState("blur").style=m;var hi=null==I||!0===I?Math.max(1.1,3/this._sizeY):isFinite(I)&&I>0?+I:1;$t.scaleX=this._sizeX*hi,$t.scaleY=this._sizeY*hi,this.setSymbolScale(1),ea(this,C,w,D)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,n,s){var a=this.childAt(0),l=dr(this).dataIndex,d=s&&s.animation;if(this.silent=a.silent=!0,s&&s.fadeLabel){var h=a.getTextContent();h&&Zc(h,{style:{opacity:0}},n,{dataIndex:l,removeOpt:d,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Zc(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:l,cb:e,removeOpt:d})},t.getSymbolSize=function(e,n){return Fv(e.getItemVisual(n,"symbolSize"))},t}(zn);function UU(i,t){this.parent.drift(i,t)}const xS=HU;function hI(i,t,e,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(e))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==i.getItemVisual(e,"symbol")}function MO(i){return null!=i&&!Zi(i)&&(i={isIgnore:i}),i||{}}function RO(i){var t=i.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:za(t),cursorStyle:t.get("cursor")}}var zU=function(){function i(t){this.group=new zn,this._SymbolCtor=t||xS}return i.prototype.updateData=function(t,e){this._progressiveEls=null,e=MO(e);var n=this.group,s=t.hostModel,a=this._data,l=this._SymbolCtor,d=e.disableAnimation,h=RO(t),f={disableAnimation:d},m=e.getSymbolPoint||function(_){return t.getItemLayout(_)};a||n.removeAll(),t.diff(a).add(function(_){var C=m(_);if(hI(t,C,_,e)){var w=new l(t,_,h,f);w.setPosition(C),t.setItemGraphicEl(_,w),n.add(w)}}).update(function(_,C){var w=a.getItemGraphicEl(C),D=m(_);if(hI(t,D,_,e)){var T=t.getItemVisual(_,"symbol")||"circle",I=w&&w.getSymbolType&&w.getSymbolType();if(!w||I&&I!==T)n.remove(w),(w=new l(t,_,h,f)).setPosition(D);else{w.updateData(t,_,h,f);var F={x:D[0],y:D[1]};d?w.attr(F):wo(w,F,s)}n.add(w),t.setItemGraphicEl(_,w)}else n.remove(w)}).remove(function(_){var C=a.getItemGraphicEl(_);C&&C.fadeOut(function(){n.remove(C)},s)}).execute(),this._getSymbolPoint=m,this._data=t},i.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(n,s){var a=t._getSymbolPoint(s);n.setPosition(a),n.markRedraw()})},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=RO(t),this._data=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e,n){function s(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=MO(n);for(var a=t.start;a<t.end;a++){var l=e.getItemLayout(a);if(hI(e,l,a,n)){var d=new this._SymbolCtor(e,a,this._seriesScope);d.traverse(s),d.setPosition(l),this.group.add(d),e.setItemGraphicEl(a,d),this._progressiveEls.push(d)}}},i.prototype.eachRendered=function(t){ef(this._progressiveEls||this.group,t)},i.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(s){s.fadeOut(function(){e.remove(s)},n.hostModel)}):e.removeAll()},i}();const SS=zU;function IO(i,t,e){var n=i.getBaseAxis(),s=i.getOtherAxis(n),a=function WU(i,t){var e=0,n=i.scale.getExtent();return"start"===t?e=n[0]:"end"===t?e=n[1]:Di(t)&&!isNaN(t)?e=t:n[0]>0?e=n[0]:n[1]<0&&(e=n[1]),e}(s,e),l=n.dim,d=s.dim,h=t.mapDimension(d),f=t.mapDimension(l),m="x"===d||"radius"===d?1:0,_=ge(i.dimensions,function(D){return t.mapDimension(D)}),C=!1,w=t.getCalculationInfo("stackResultDimension");return nf(t,_[0])&&(C=!0,_[0]=w),nf(t,_[1])&&(C=!0,_[1]=w),{dataDimsForPoint:_,valueStart:a,valueAxisDim:d,baseAxisDim:l,stacked:!!C,valueDim:h,baseDim:f,baseDataOffset:m,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function PO(i,t,e,n){var s=NaN;i.stacked&&(s=e.get(e.getCalculationInfo("stackedOverDimension"),n)),isNaN(s)&&(s=i.valueStart);var a=i.baseDataOffset,l=[];return l[a]=e.get(i.baseDim,n),l[1-a]=s,t.dataToPoint(l)}var qv=Math.min,Jv=Math.max;function Z_(i,t){return isNaN(i)||isNaN(t)}function pI(i,t,e,n,s,a,l,d,h){for(var f,m,_,C,w,D,T=e,I=0;I<n;I++){var F=t[2*T],V=t[2*T+1];if(T>=s||T<0)break;if(Z_(F,V)){if(h){T+=a;continue}break}if(T===e)i[a>0?"moveTo":"lineTo"](F,V),_=F,C=V;else{var H=F-f,re=V-m;if(H*H+re*re<.5){T+=a;continue}if(l>0){for(var fe=T+a,de=t[2*fe],Ee=t[2*fe+1];de===F&&Ee===V&&I<n;)I++,de=t[2*(fe+=a)],Ee=t[2*fe+1],H=(F=t[2*(T+=a)])-f,re=(V=t[2*T+1])-m;var Ue=I+1;if(h)for(;Z_(de,Ee)&&Ue<n;)Ue++,de=t[2*(fe+=a)],Ee=t[2*fe+1];var ze=.5,nt=0,gt=0,Vt=void 0,$t=void 0;if(Ue>=n||Z_(de,Ee))w=F,D=V;else{nt=de-f,gt=Ee-m;var hi=F-f,gi=de-F,Pi=V-m,Yi=Ee-V,ji=void 0,rn=void 0;if("x"===d){var bn=nt>0?1:-1;w=F-bn*(ji=Math.abs(hi))*l,D=V,Vt=F+bn*(rn=Math.abs(gi))*l,$t=V}else if("y"===d){var In=gt>0?1:-1;w=F,D=V-In*(ji=Math.abs(Pi))*l,Vt=F,$t=V+In*(rn=Math.abs(Yi))*l}else ji=Math.sqrt(hi*hi+Pi*Pi),w=F-nt*l*(1-(ze=(rn=Math.sqrt(gi*gi+Yi*Yi))/(rn+ji))),D=V-gt*l*(1-ze),$t=V+gt*l*ze,Vt=qv(Vt=F+nt*l*ze,Jv(de,F)),$t=qv($t,Jv(Ee,V)),Vt=Jv(Vt,qv(de,F)),D=V-(gt=($t=Jv($t,qv(Ee,V)))-V)*ji/rn,w=qv(w=F-(nt=Vt-F)*ji/rn,Jv(f,F)),D=qv(D,Jv(m,V)),Vt=F+(nt=F-(w=Jv(w,qv(f,F))))*rn/ji,$t=V+(gt=V-(D=Jv(D,qv(m,V))))*rn/ji}i.bezierCurveTo(_,C,w,D,F,V),_=Vt,C=$t}else i.lineTo(F,V)}f=F,m=V,T+=a}return I}var kO=function i(){this.smooth=0,this.smoothConstraint=!0},KU=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polyline",n}return P(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kO},t.prototype.buildPath=function(e,n){var s=n.points,a=0,l=s.length/2;if(n.connectNulls){for(;l>0&&Z_(s[2*l-2],s[2*l-1]);l--);for(;a<l&&Z_(s[2*a],s[2*a+1]);a++);}for(;a<l;)a+=pI(e,s,a,l,l,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(e,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var d,h,a=this.path.data,l=zl.CMD,f="x"===n,m=[],_=0;_<a.length;){var w=void 0,D=void 0,T=void 0,I=void 0,F=void 0,V=void 0,H=void 0;switch(a[_++]){case l.M:d=a[_++],h=a[_++];break;case l.L:if(w=a[_++],D=a[_++],(H=f?(e-d)/(w-d):(e-h)/(D-h))<=1&&H>=0){var re=f?(D-h)*H+h:(w-d)*H+d;return f?[e,re]:[re,e]}d=w,h=D;break;case l.C:w=a[_++],D=a[_++],T=a[_++],I=a[_++],F=a[_++],V=a[_++];var fe=f?Hs(d,w,T,F,e,m):Hs(h,D,I,V,e,m);if(fe>0)for(var de=0;de<fe;de++){var Ee=m[de];if(Ee<=1&&Ee>=0)return re=f?Br(h,D,I,V,Ee):Br(d,w,T,F,Ee),f?[e,re]:[re,e]}d=F,h=V}}},t}($r),XU=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t}(kO),FO=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-polygon",n}return P(t,i),t.prototype.getDefaultShape=function(){return new XU},t.prototype.buildPath=function(e,n){var s=n.points,a=n.stackedOnPoints,l=0,d=s.length/2,h=n.smoothMonotone;if(n.connectNulls){for(;d>0&&Z_(s[2*d-2],s[2*d-1]);d--);for(;l<d&&Z_(s[2*l],s[2*l+1]);l++);}for(;l<d;){var f=pI(e,s,l,d,d,1,n.smooth,h,n.connectNulls);pI(e,a,l+f-1,f,d,-1,n.stackedOnSmooth,h,n.connectNulls),l+=f+1,e.closePath()}},t}($r);function OO(i,t,e,n,s){var a=i.getArea(),l=a.x,d=a.y,h=a.width,f=a.height,m=e.get(["lineStyle","width"])||2;l-=m/2,d-=m/2,h+=m,f+=m,h=Math.ceil(h),l!==Math.floor(l)&&(l=Math.floor(l),h++);var _=new kr({shape:{x:l,y:d,width:h,height:f}});if(t){var C=i.getBaseAxis(),w=C.isHorizontal(),D=C.inverse;w?(D&&(_.shape.x+=h),_.shape.width=0):(D||(_.shape.y+=f),_.shape.height=0);var T=Nt(s)?function(I){s(I,_)}:null;as(_,{shape:{width:h,height:f,x:l,y:d}},e,null,n,T)}return _}function LO(i,t,e){var n=i.getArea(),s=Fo(n.r0,1),a=Fo(n.r,1),l=new xc({shape:{cx:Fo(i.cx,1),cy:Fo(i.cy,1),r0:s,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return t&&("angle"===i.getBaseAxis().dim?l.shape.endAngle=n.startAngle:l.shape.r=s,as(l,{shape:{endAngle:n.endAngle,r:a}},e)),l}function DS(i,t,e,n,s){return i?"polar"===i.type?LO(i,t,e):"cartesian2d"===i.type?OO(i,t,e,n,s):null:null}function q_(i,t){return i.type===t}function NO(i,t){if(i.length===t.length){for(var e=0;e<i.length;e++)if(i[e]!==t[e])return;return!0}}function BO(i){for(var t=1/0,e=1/0,n=-1/0,s=-1/0,a=0;a<i.length;){var l=i[a++],d=i[a++];isNaN(l)||(t=Math.min(l,t),n=Math.max(l,n)),isNaN(d)||(e=Math.min(d,e),s=Math.max(d,s))}return[[t,e],[n,s]]}function VO(i,t){var e=BO(i),n=e[0],s=e[1],a=BO(t),l=a[0],d=a[1];return Math.max(Math.abs(n[0]-l[0]),Math.abs(n[1]-l[1]),Math.abs(s[0]-d[0]),Math.abs(s[1]-d[1]))}function GO(i){return Di(i)?i:i?.5:0}function ey(i,t,e,n){var s=t.getBaseAxis(),a="x"===s.dim||"radius"===s.dim?0:1,l=[],d=0,h=[],f=[],m=[],_=[];if(n){for(d=0;d<i.length;d+=2)!isNaN(i[d])&&!isNaN(i[d+1])&&_.push(i[d],i[d+1]);i=_}for(d=0;d<i.length-2;d+=2)switch(m[0]=i[d+2],m[1]=i[d+3],f[0]=i[d],f[1]=i[d+1],l.push(f[0],f[1]),e){case"end":h[a]=m[a],h[1-a]=f[1-a],l.push(h[0],h[1]);break;case"middle":var w=[];h[a]=w[a]=(f[a]+m[a])/2,h[1-a]=f[1-a],w[1-a]=m[1-a],l.push(h[0],h[1]),l.push(w[0],w[1]);break;default:h[a]=f[a],h[1-a]=m[1-a],l.push(h[0],h[1])}return l.push(i[d++],i[d++]),l}function e5(i,t){return isNaN(i)||isNaN(t)}function HO(i,t){return[i[2*t],i[2*t+1]]}function UO(i){if(i.get(["endLabel","show"]))return!0;for(var t=0;t<Ca.length;t++)if(i.get([Ca[t],"endLabel","show"]))return!0;return!1}function fI(i,t,e,n){if(q_(t,"cartesian2d")){var s=n.getModel("endLabel"),a=s.get("valueAnimation"),l=n.getData(),d={lastFrameIndex:0},h=UO(n)?function(w,D){i._endLabelOnDuring(w,D,l,d,a,s,t)}:null,f=t.getBaseAxis().isHorizontal(),m=OO(t,e,n,function(){var w=i._endLabel;w&&e&&null!=d.originalX&&w.attr({x:d.originalX,y:d.originalY})},h);if(!n.get("clip",!0)){var _=m.shape,C=Math.max(_.width,_.height);f?(_.y-=C,_.height+=2*C):(_.x-=C,_.width+=2*C)}return h&&h(1,m),m}return LO(t,e,n)}var o5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.init=function(){var e=new zn,n=new SS;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=e},t.prototype.render=function(e,n,s){var a=this,l=e.coordinateSystem,d=this.group,h=e.getData(),f=e.getModel("lineStyle"),m=e.getModel("areaStyle"),_=h.getLayout("points")||[],C="polar"===l.type,w=this._coordSys,D=this._symbolDraw,T=this._polyline,I=this._polygon,F=this._lineGroup,V=!n.ssr&&e.get("animation"),H=!m.isEmpty(),re=m.get("origin"),fe=IO(l,h,re),de=H&&function YU(i,t,e){if(!e.valueDim)return[];for(var n=t.count(),s=Xu(2*n),a=0;a<n;a++){var l=PO(e,i,t,a);s[2*a]=l[0],s[2*a+1]=l[1]}return s}(l,h,fe),Ee=e.get("showSymbol"),Ue=e.get("connectNulls"),ze=Ee&&!C&&function qU(i,t,e){var n=i.get("showAllSymbol"),s="auto"===n;if(!n||s){var a=e.getAxesByScale("ordinal")[0];if(a&&(!s||!function JU(i,t){var e=i.getExtent(),n=Math.abs(e[1]-e[0])/i.scale.count();isNaN(n)&&(n=0);for(var s=t.count(),a=Math.max(1,Math.round(s/5)),l=0;l<s;l+=a)if(1.5*xS.getSymbolSize(t,l)[i.isHorizontal()?1:0]>n)return!1;return!0}(a,t))){var l=t.mapDimension(a.dim),d={};return te(a.getViewLabels(),function(h){var f=a.scale.getRawOrdinalNumber(h.tickValue);d[f]=1}),function(h){return!d.hasOwnProperty(t.get(l,h))}}}}(e,h,l),nt=this._data;nt&&nt.eachItemGraphicEl(function(xo,qr){xo.__temp&&(d.remove(xo),nt.setItemGraphicEl(qr,null))}),Ee||D.remove(),d.add(F);var Vt,gt=!C&&e.get("step");l&&l.getArea&&e.get("clip",!0)&&(null!=(Vt=l.getArea()).width?(Vt.x-=.1,Vt.y-=.1,Vt.width+=.2,Vt.height+=.2):Vt.r0&&(Vt.r0-=.5,Vt.r+=.5)),this._clipShapeForSymbol=Vt;var $t=function ZU(i,t,e){var n=i.getVisual("visualMeta");if(n&&n.length&&i.count()&&"cartesian2d"===t.type){for(var s,a,l=n.length-1;l>=0;l--){var d=i.getDimensionInfo(n[l].dimension);if("x"===(s=d&&d.coordDim)||"y"===s){a=n[l];break}}if(a){var h=t.getAxis(s),f=ge(a.stops,function(H){return{coord:h.toGlobalCoord(h.dataToCoord(H.value)),color:H.color}}),m=f.length,_=a.outerColors.slice();m&&f[0].coord>f[m-1].coord&&(f.reverse(),_.reverse());var C=function QU(i,t){var s,a,e=[],n=i.length;function l(m,_,C){var w=m.coord;return{coord:C,color:Zn((C-w)/(_.coord-w),[m.color,_.color])}}for(var d=0;d<n;d++){var h=i[d],f=h.coord;if(f<0)s=h;else{if(f>t){a?e.push(l(a,h,t)):s&&e.push(l(s,h,0),l(s,h,t));break}s&&(e.push(l(s,h,0)),s=null),e.push(h),a=h}}return e}(f,"x"===s?e.getWidth():e.getHeight()),w=C.length;if(!w&&m)return f[0].coord<0?_[1]?_[1]:f[m-1].color:_[0]?_[0]:f[0].color;var T=C[0].coord-10,I=C[w-1].coord+10,F=I-T;if(F<.001)return"transparent";te(C,function(H){H.offset=(H.coord-T)/F}),C.push({offset:w?C[w-1].offset:.5,color:_[1]||"transparent"}),C.unshift({offset:w?C[0].offset:.5,color:_[0]||"transparent"});var V=new am(0,0,0,0,C,!0);return V[s]=T,V[s+"2"]=I,V}}}(h,l,s)||h.getVisual("style")[h.getVisual("drawType")];if(T&&w.type===l.type&&gt===this._step){H&&!I?I=this._newPolygon(_,de):I&&!H&&(F.remove(I),I=this._polygon=null),C||this._initOrUpdateEndLabel(e,l,$p($t));var hi=F.getClipPath();hi?as(hi,{shape:fI(this,l,!1,e).shape},e):F.setClipPath(fI(this,l,!0,e)),Ee&&D.updateData(h,{isIgnore:ze,clipShape:Vt,disableAnimation:!0,getSymbolPoint:function(xo){return[_[2*xo],_[2*xo+1]]}}),(!NO(this._stackedOnPoints,de)||!NO(this._points,_))&&(V?this._doUpdateAnimation(h,de,l,s,gt,re,Ue):(gt&&(_=ey(_,l,gt,Ue),de&&(de=ey(de,l,gt,Ue))),T.setShape({points:_}),I&&I.setShape({points:_,stackedOnPoints:de})))}else Ee&&D.updateData(h,{isIgnore:ze,clipShape:Vt,disableAnimation:!0,getSymbolPoint:function(xo){return[_[2*xo],_[2*xo+1]]}}),V&&this._initSymbolLabelAnimation(h,l,Vt),gt&&(_=ey(_,l,gt,Ue),de&&(de=ey(de,l,gt,Ue))),T=this._newPolyline(_),H?I=this._newPolygon(_,de):I&&(F.remove(I),I=this._polygon=null),C||this._initOrUpdateEndLabel(e,l,$p($t)),F.setClipPath(fI(this,l,!0,e));var Pi=e.getModel("emphasis"),Yi=Pi.get("focus"),ji=Pi.get("blurScope"),rn=Pi.get("disabled");T.useStyle(je(f.getLineStyle(),{fill:"none",stroke:$t,lineJoin:"bevel"})),el(T,e,"lineStyle"),T.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(T.getState("emphasis").style.lineWidth=+T.style.lineWidth+1),dr(T).seriesIndex=e.seriesIndex,ea(T,Yi,ji,rn);var In=GO(e.get("smooth")),Vn=e.get("smoothMonotone");if(T.setShape({smooth:In,smoothMonotone:Vn,connectNulls:Ue}),I){var lr=h.getCalculationInfo("stackedOnSeries"),ur=0;I.useStyle(je(m.getAreaStyle(),{fill:$t,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),lr&&(ur=GO(lr.get("smooth"))),I.setShape({smooth:In,stackedOnSmooth:ur,smoothMonotone:Vn,connectNulls:Ue}),el(I,e,"areaStyle"),dr(I).seriesIndex=e.seriesIndex,ea(I,Yi,ji,rn)}var Yr=function(xo){a._changePolyState(xo)};h.eachItemGraphicEl(function(xo){xo&&(xo.onHoverStateChange=Yr)}),this._polyline.onHoverStateChange=Yr,this._data=h,this._coordSys=l,this._stackedOnPoints=de,this._points=_,this._step=gt,this._valueOrigin=re,e.get("triggerLineEvent")&&(this.packEventData(e,T),I&&this.packEventData(e,I))},t.prototype.packEventData=function(e,n){dr(n).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,n,s,a){var l=e.getData(),d=xt(l,a);if(this._changePolyState("emphasis"),!(d instanceof Array)&&null!=d&&d>=0){var h=l.getLayout("points"),f=l.getItemGraphicEl(d);if(!f){var m=h[2*d],_=h[2*d+1];if(isNaN(m)||isNaN(_)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(m,_))return;var C=e.get("zlevel")||0,w=e.get("z")||0;(f=new xS(l,d)).x=m,f.y=_,f.setZ(C,w);var D=f.getSymbolPath().getTextContent();D&&(D.zlevel=C,D.z=w,D.z2=this._polyline.z2+1),f.__temp=!0,l.setItemGraphicEl(d,f),f.stopSymbolAnimation(!0),this.group.add(f)}f.highlight()}else fs.prototype.highlight.call(this,e,n,s,a)},t.prototype.downplay=function(e,n,s,a){var l=e.getData(),d=xt(l,a);if(this._changePolyState("normal"),null!=d&&d>=0){var h=l.getItemGraphicEl(d);h&&(h.__temp?(l.setItemGraphicEl(d,null),this.group.remove(h)):h.downplay())}else fs.prototype.downplay.call(this,e,n,s,a)},t.prototype._changePolyState=function(e){var n=this._polygon;If(this._polyline,e),n&&If(n,e)},t.prototype._newPolyline=function(e){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new KU({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(e,n){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new FO({shape:{points:e,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},t.prototype._initSymbolLabelAnimation=function(e,n,s){var a,l,d=n.getBaseAxis(),h=d.inverse;"cartesian2d"===n.type?(a=d.isHorizontal(),l=!1):"polar"===n.type&&(a="angle"===d.dim,l=!0);var f=e.hostModel,m=f.get("animationDuration");Nt(m)&&(m=m(null));var _=f.get("animationDelay")||0,C=Nt(_)?_(null):_;e.eachItemGraphicEl(function(w,D){var T=w;if(T){var F=void 0,V=void 0,H=void 0;if(s)if(l){var re=s,fe=n.pointToCoord([w.x,w.y]);a?(F=re.startAngle,V=re.endAngle,H=-fe[1]/180*Math.PI):(F=re.r0,V=re.r,H=fe[0])}else a?(F=s.x,V=s.x+s.width,H=w.x):(F=s.y+s.height,V=s.y,H=w.y);var Ee=V===F?0:(H-F)/(V-F);h&&(Ee=1-Ee);var Ue=Nt(_)?_(D):m*Ee+C,ze=T.getSymbolPath(),nt=ze.getTextContent();T.attr({scaleX:0,scaleY:0}),T.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Ue}),nt&&nt.animateFrom({style:{opacity:0}},{duration:300,delay:Ue}),ze.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,n,s){var a=e.getModel("endLabel");if(UO(e)){var l=e.getData(),d=this._polyline,h=l.getLayout("points");if(!h)return d.removeTextContent(),void(this._endLabel=null);var f=this._endLabel;f||((f=this._endLabel=new lo({z2:200})).ignoreClip=!0,d.setTextContent(this._endLabel),d.disableLabelAnimation=!0);var m=function t5(i){for(var t=i.length/2;t>0&&e5(i[2*t-2],i[2*t-1]);t--);return t-1}(h);m>=0&&(Rl(d,za(e,"endLabel"),{inheritColor:s,labelFetcher:e,labelDataIndex:m,defaultText:function(_,C,w){return null!=w?TO(l,w):QC(l,_)},enableTextSetter:!0},function r5(i,t){var e=t.getBaseAxis(),n=e.isHorizontal(),s=e.inverse,a=n?s?"right":"left":"center",l=n?"middle":s?"top":"bottom";return{normal:{align:i.get("align")||a,verticalAlign:i.get("verticalAlign")||l}}}(a,n)),d.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,n,s,a,l,d,h){var f=this._endLabel,m=this._polyline;if(f){e<1&&null==a.originalX&&(a.originalX=f.x,a.originalY=f.y);var _=s.getLayout("points"),C=s.hostModel,w=C.get("connectNulls"),D=d.get("precision"),T=d.get("distance")||0,I=h.getBaseAxis(),F=I.isHorizontal(),V=I.inverse,H=n.shape,re=V?F?H.x:H.y+H.height:F?H.x+H.width:H.y,fe=(F?T:0)*(V?-1:1),de=(F?0:-T)*(V?-1:1),Ee=F?"x":"y",Ue=function n5(i,t,e){for(var a,l,n=i.length/2,s="x"===e?0:1,d=0,h=-1,f=0;f<n;f++)if(l=i[2*f+s],!isNaN(l)&&!isNaN(i[2*f+1-s])){if(0===f){a=l;continue}if(a<=t&&l>=t||a>=t&&l<=t){h=f;break}d=f,a=l}return{range:[d,h],t:(t-a)/(l-a)}}(_,re,Ee),ze=Ue.range,nt=ze[1]-ze[0],gt=void 0;if(nt>=1){if(nt>1&&!w){var Vt=HO(_,ze[0]);f.attr({x:Vt[0]+fe,y:Vt[1]+de}),l&&(gt=C.getRawValue(ze[0]))}else{(Vt=m.getPointOn(re,Ee))&&f.attr({x:Vt[0]+fe,y:Vt[1]+de});var $t=C.getRawValue(ze[0]),hi=C.getRawValue(ze[1]);l&&(gt=or(s,D,$t,hi,Ue.t))}a.lastFrameIndex=ze[0]}else{var gi=1===e||a.lastFrameIndex>0?ze[0]:0;Vt=HO(_,gi),l&&(gt=C.getRawValue(gi)),f.attr({x:Vt[0]+fe,y:Vt[1]+de})}if(l){var Pi=o(f);"function"==typeof Pi.setLabelText&&Pi.setLabelText(gt)}}},t.prototype._doUpdateAnimation=function(e,n,s,a,l,d,h){var f=this._polyline,m=this._polygon,_=e.hostModel,C=function $U(i,t,e,n,s,a,l,d){for(var h=function jU(i,t){var e=[];return t.diff(i).add(function(n){e.push({cmd:"+",idx:n})}).update(function(n,s){e.push({cmd:"=",idx:s,idx1:n})}).remove(function(n){e.push({cmd:"-",idx:n})}).execute(),e}(i,t),f=[],m=[],_=[],C=[],w=[],D=[],T=[],I=IO(s,t,l),F=i.getLayout("points")||[],V=t.getLayout("points")||[],H=0;H<h.length;H++){var re=h[H],fe=!0,de=void 0,Ee=void 0;switch(re.cmd){case"=":var Ue=F[de=2*re.idx],ze=F[de+1],nt=V[Ee=2*re.idx1],gt=V[Ee+1];(isNaN(Ue)||isNaN(ze))&&(Ue=nt,ze=gt),f.push(Ue,ze),m.push(nt,gt),_.push(e[de],e[de+1]),C.push(n[Ee],n[Ee+1]),T.push(t.getRawIndex(re.idx1));break;case"+":var Vt=re.idx,$t=I.dataDimsForPoint,hi=s.dataToPoint([t.get($t[0],Vt),t.get($t[1],Vt)]);Ee=2*Vt,f.push(hi[0],hi[1]),m.push(V[Ee],V[Ee+1]);var gi=PO(I,s,t,Vt);_.push(gi[0],gi[1]),C.push(n[Ee],n[Ee+1]),T.push(t.getRawIndex(Vt));break;case"-":fe=!1}fe&&(w.push(re),D.push(D.length))}D.sort(function(Yr,xo){return T[Yr]-T[xo]});var Pi=f.length,Yi=Xu(Pi),ji=Xu(Pi),rn=Xu(Pi),bn=Xu(Pi),In=[];for(H=0;H<D.length;H++){var Vn=D[H],lr=2*H,ur=2*Vn;Yi[lr]=f[ur],Yi[lr+1]=f[ur+1],ji[lr]=m[ur],ji[lr+1]=m[ur+1],rn[lr]=_[ur],rn[lr+1]=_[ur+1],bn[lr]=C[ur],bn[lr+1]=C[ur+1],In[H]=w[Vn]}return{current:Yi,next:ji,stackedOnCurrent:rn,stackedOnNext:bn,status:In}}(this._data,e,this._stackedOnPoints,n,this._coordSys,0,this._valueOrigin),w=C.current,D=C.stackedOnCurrent,T=C.next,I=C.stackedOnNext;if(l&&(w=ey(C.current,s,l,h),D=ey(C.stackedOnCurrent,s,l,h),T=ey(C.next,s,l,h),I=ey(C.stackedOnNext,s,l,h)),VO(w,T)>3e3||m&&VO(D,I)>3e3)return f.stopAnimation(),f.setShape({points:T}),void(m&&(m.stopAnimation(),m.setShape({points:T,stackedOnPoints:I})));f.shape.__points=C.current,f.shape.points=w;var F={shape:{points:T}};C.current!==w&&(F.shape.__points=C.next),f.stopAnimation(),wo(f,F,_),m&&(m.setShape({points:w,stackedOnPoints:D}),m.stopAnimation(),wo(m,{shape:{stackedOnPoints:I}},_),f.shape.points!==m.shape.points&&(m.shape.points=f.shape.points));for(var V=[],H=C.status,re=0;re<H.length;re++)if("="===H[re].cmd){var de=e.getItemGraphicEl(H[re].idx1);de&&V.push({el:de,ptIdx:re})}f.animators&&f.animators.length&&f.animators[0].during(function(){m&&m.dirtyShape();for(var Ee=f.shape.__points,Ue=0;Ue<V.length;Ue++){var ze=V[Ue].el,nt=2*V[Ue].ptIdx;ze.x=Ee[nt],ze.y=Ee[nt+1],ze.markRedraw()}})},t.prototype.remove=function(e){var n=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(a,l){a.__temp&&(n.remove(a),s.setItemGraphicEl(l,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(fs);const s5=o5;function ES(i,t){return{seriesType:i,plan:yv(),reset:function(e){var n=e.getData(),s=e.coordinateSystem,l=t||e.pipelineContext.large;if(s){var d=ge(s.dimensions,function(w){return n.mapDimension(w)}).slice(0,2),h=d.length,f=n.getCalculationInfo("stackResultDimension");nf(n,d[0])&&(d[0]=f),nf(n,d[1])&&(d[1]=f);var m=n.getStore(),_=n.getDimensionIndex(d[0]),C=n.getDimensionIndex(d[1]);return h&&{progress:function(w,D){for(var I=l&&Xu((w.end-w.start)*h),F=[],V=[],H=w.start,re=0;H<w.end;H++){var fe=void 0;if(1===h){var de=m.get(_,H);fe=s.dataToPoint(de,null,V)}else F[0]=m.get(_,H),F[1]=m.get(C,H),fe=s.dataToPoint(F,null,V);l?(I[re++]=fe[0],I[re++]=fe[1]):D.setItemLayout(H,fe.slice())}l&&D.setLayout("points",I)}}}}}}var a5={average:function(i){for(var t=0,e=0,n=0;n<i.length;n++)isNaN(i[n])||(t+=i[n],e++);return 0===e?NaN:t/e},sum:function(i){for(var t=0,e=0;e<i.length;e++)t+=i[e]||0;return t},max:function(i){for(var t=-1/0,e=0;e<i.length;e++)i[e]>t&&(t=i[e]);return isFinite(t)?t:NaN},min:function(i){for(var t=1/0,e=0;e<i.length;e++)i[e]<t&&(t=i[e]);return isFinite(t)?t:NaN},minmax:function(i){for(var t=-1/0,e=-1/0,n=0;n<i.length;n++){var s=i[n],a=Math.abs(s);a>t&&(t=a,e=s)}return isFinite(e)?e:NaN},nearest:function(i){return i[0]}},l5=function(i){return Math.round(i.length/2)};function zO(i){return{seriesType:i,reset:function(t,e,n){var s=t.getData(),a=t.get("sampling"),l=t.coordinateSystem,d=s.count();if(d>10&&"cartesian2d"===l.type&&a){var h=l.getBaseAxis(),f=l.getOtherAxis(h),m=h.getExtent(),_=n.getDevicePixelRatio(),C=Math.abs(m[1]-m[0])*(_||1),w=Math.round(d/C);if(isFinite(w)&&w>1){"lttb"===a&&t.setData(s.lttbDownSample(s.mapDimension(f.dim),1/w));var D=void 0;Ii(a)?D=a5[a]:Nt(a)&&(D=a),D&&t.setData(s.downSample(s.mapDimension(f.dim),1/w,D,l5))}}}}}var WO=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.getInitialData=function(e,n){return sp(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,n,s){var a=this.coordinateSystem;if(a&&a.clampData){var l=a.clampData(e),d=a.dataToPoint(l);if(s)te(a.getAxes(),function(C,w){if("category"===C.type&&null!=n){var D=C.getTicksCoords(),T=C.getTickModel().get("alignWithLabel"),I=l[w],F="x1"===n[w]||"y1"===n[w];if(F&&!T&&(I+=1),D.length<2)return;if(2===D.length)return void(d[w]=C.toGlobalCoord(C.getExtent()[F?1:0]));for(var V=void 0,H=void 0,re=1,fe=0;fe<D.length;fe++){var de=D[fe].coord,Ee=fe===D.length-1?D[fe-1].tickValue+re:D[fe].tickValue;if(Ee===I){H=de;break}if(Ee<I)V=de;else if(null!=V&&Ee>I){H=(de+V)/2;break}1===fe&&(re=Ee-D[0].tickValue)}null==H&&(V?V&&(H=D[D.length-1].coord):H=D[0].coord),d[w]=C.toGlobalCoord(H)}});else{var h=this.getData(),f=h.getLayout("offset"),m=h.getLayout("size"),_=a.getBaseAxis().isHorizontal()?0:1;d[_]+=f+m/2}return d}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Us);Us.registerClass(WO);const dT=WO;var d5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.getInitialData=function(){return sp(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>e&&(e=n),e},t.prototype.brushSelector=function(e,n,s){return s.rect(n.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=Gn(dT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(dT);const u5=d5;var h5=function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},p5=function(i){function t(e){var n=i.call(this,e)||this;return n.type="sausage",n}return P(t,i),t.prototype.getDefaultShape=function(){return new h5},t.prototype.buildPath=function(e,n){var s=n.cx,a=n.cy,l=Math.max(n.r0||0,0),d=Math.max(n.r,0),h=.5*(d-l),f=l+h,m=n.startAngle,_=n.endAngle,C=n.clockwise,w=2*Math.PI,D=C?_-m<w:m-_<w;D||(m=_-(C?w:-w));var T=Math.cos(m),I=Math.sin(m),F=Math.cos(_),V=Math.sin(_);D?(e.moveTo(T*l+s,I*l+a),e.arc(T*f+s,I*f+a,h,-Math.PI+m,m,!C)):e.moveTo(T*d+s,I*d+a),e.arc(s,a,d,m,_,!C),e.arc(F*f+s,V*f+a,h,_-2*Math.PI,_-Math.PI,!C),0!==l&&e.arc(s,a,l,_,m,C)},t}($r);const uT=p5;function hT(i,t,e){return t*Math.sin(i)*(e?-1:1)}function pT(i,t,e){return t*Math.cos(i)*(e?1:-1)}function J_(i,t,e){var n=i.get("borderRadius");if(null==n)return e?{cornerRadius:0}:null;Me(n)||(n=[n,n,n,n]);var s=Math.abs(t.r||0-t.r0||0);return{cornerRadius:ge(n,function(a){return Ed(a,s)})}}var gI=Math.max,mI=Math.min,v5=function(i){function t(){var e=i.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return P(t,i),t.prototype.render=function(e,n,s,a){this._model=e,this._removeOnRenderedListener(s),this._updateDrawMode(e);var l=e.get("coordinateSystem");("cartesian2d"===l||"polar"===l)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,n,s):this._renderNormal(e,n,s,a))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,n){this._progressiveEls=[],this._incrementalRenderLarge(e,n)},t.prototype.eachRendered=function(e){ef(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(null==this._isLargeDraw||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e,n,s,a){var _,l=this.group,d=e.getData(),h=this._data,f=e.coordinateSystem,m=f.getBaseAxis();"cartesian2d"===f.type?_=m.isHorizontal():"polar"===f.type&&(_="angle"===m.dim);var C=e.isAnimationEnabled()?e:null,w=function y5(i,t){var e=i.get("realtimeSort",!0),n=t.getBaseAxis();if(e&&"category"===n.type&&"cartesian2d"===t.type)return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}(e,f);w&&this._enableRealtimeSort(w,d,s);var D=e.get("clip",!0)||w,T=function m5(i,t){var e=i.getArea&&i.getArea();if(q_(i,"cartesian2d")){var n=i.getBaseAxis();if("category"!==n.type||!n.onBand){var s=t.getLayout("bandWidth");n.isHorizontal()?(e.x-=s,e.width+=2*s):(e.y-=s,e.height+=2*s)}}return e}(f,d);l.removeClipPath();var I=e.get("roundCap",!0),F=e.get("showBackground",!0),V=e.getModel("backgroundStyle"),H=V.get("borderRadius")||0,re=[],fe=this._backgroundEls,de=a&&a.isInitSort,Ee=a&&"changeAxisOrder"===a.type;function Ue(gt){var Vt=fT[f.type](d,gt),$t=function D5(i,t,e){return new("polar"===i.type?xc:kr)({shape:tL(t,e,i),silent:!0,z2:0})}(f,_,Vt);return $t.useStyle(V.getItemStyle()),$t.setShape("cartesian2d"===f.type?"r":"cornerRadius",H),re[gt]=$t,$t}d.diff(h).add(function(gt){var Vt=d.getItemModel(gt),$t=fT[f.type](d,gt,Vt);if(F&&Ue(gt),d.hasValue(gt)&&YO[f.type]($t)){var hi=!1;D&&(hi=jO[f.type](T,$t));var gi=$O[f.type](e,d,gt,$t,_,C,m.model,!1,I);w&&(gi.forceLabelAnimation=!0),ZO(gi,d,gt,Vt,$t,e,_,"polar"===f.type),de?gi.attr({shape:$t}):w?KO(w,C,gi,$t,gt,_,!1,!1):as(gi,{shape:$t},e,gt),d.setItemGraphicEl(gt,gi),l.add(gi),gi.ignore=hi}}).update(function(gt,Vt){var $t=d.getItemModel(gt),hi=fT[f.type](d,gt,$t);if(F){var gi=void 0;0===fe.length?gi=Ue(Vt):((gi=fe[Vt]).useStyle(V.getItemStyle()),gi.setShape("cartesian2d"===f.type?"r":"cornerRadius",H),re[gt]=gi);var Pi=fT[f.type](d,gt);wo(gi,{shape:tL(_,Pi,f)},C,gt)}var ji=h.getItemGraphicEl(Vt);if(d.hasValue(gt)&&YO[f.type](hi)){var rn=!1;if(D&&(rn=jO[f.type](T,hi))&&l.remove(ji),ji?Bd(ji):ji=$O[f.type](e,d,gt,hi,_,C,m.model,!!ji,I),w&&(ji.forceLabelAnimation=!0),Ee){var bn=ji.getTextContent();if(bn){var In=o(bn);null!=In.prevValue&&(In.prevValue=In.value)}}else ZO(ji,d,gt,$t,hi,e,_,"polar"===f.type);de?ji.attr({shape:hi}):w?KO(w,C,ji,hi,gt,_,!0,Ee):wo(ji,{shape:hi},e,gt,null),d.setItemGraphicEl(gt,ji),ji.ignore=rn,l.add(ji)}else l.remove(ji)}).remove(function(gt){var Vt=h.getItemGraphicEl(gt);Vt&&Kg(Vt,e,gt)}).execute();var ze=this._backgroundGroup||(this._backgroundGroup=new zn);ze.removeAll();for(var nt=0;nt<re.length;++nt)ze.add(re[nt]);l.add(ze),this._backgroundEls=re,this._data=d},t.prototype._renderLarge=function(e,n,s){this._clear(),JO(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,n){this._removeBackground(),JO(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var n=e.get("clip",!0)&&DS(e.coordinateSystem,!1,e),s=this.group;n?s.setClipPath(n):s.removeClipPath()},t.prototype._enableRealtimeSort=function(e,n,s){var a=this;if(n.count()){var l=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,e,s),this._isFirstFrame=!1;else{var d=function(h){var f=n.getItemGraphicEl(h),m=f&&f.shape;return m&&Math.abs(l.isHorizontal()?m.height:m.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,d,l,s)},s.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,n,s){var a=[];return e.each(e.mapDimension(n.dim),function(l,d){var h=s(d);a.push({dataIndex:d,mappedValue:h=h??NaN,ordinalNumber:l})}),a.sort(function(l,d){return d.mappedValue-l.mappedValue}),{ordinalNumbers:ge(a,function(l){return l.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,n,s){for(var a=s.scale,l=e.mapDimension(s.dim),d=Number.MAX_VALUE,h=0,f=a.getOrdinalMeta().categories.length;h<f;++h){var m=e.rawIndexOf(l,a.getRawOrdinalNumber(h)),_=m<0?Number.MIN_VALUE:n(e.indexOfRawIndex(m));if(_>d)return!0;d=_}return!1},t.prototype._isOrderDifferentInView=function(e,n){for(var s=n.scale,a=s.getExtent(),l=Math.max(0,a[0]),d=Math.min(a[1],s.getOrdinalMeta().categories.length-1);l<=d;++l)if(e.ordinalNumbers[l]!==s.getRawOrdinalNumber(l))return!0},t.prototype._updateSortWithinSameData=function(e,n,s,a){if(this._isOrderChangedWithinSameData(e,n,s)){var l=this._dataSort(e,s,n);this._isOrderDifferentInView(l,s)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:l}))}},t.prototype._dispatchInitSort=function(e,n,s){var a=n.baseAxis,l=this._dataSort(e,a,function(d){return e.get(e.mapDimension(n.otherAxis.dim),d)});s.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:l})},t.prototype.remove=function(e,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(e,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var n=this.group,s=this._data;e&&e.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(a){Kg(a,e,dr(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(fs),jO={cartesian2d:function(i,t){var e=t.width<0?-1:1,n=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var s=i.x+i.width,a=i.y+i.height,l=gI(t.x,i.x),d=mI(t.x+t.width,s),h=gI(t.y,i.y),f=mI(t.y+t.height,a),m=d<l,_=f<h;return t.x=m&&l>s?d:l,t.y=_&&h>a?f:h,t.width=m?0:d-l,t.height=_?0:f-h,e<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),m||_},polar:function(i,t){var e=t.r0<=t.r?1:-1;if(e<0){var n=t.r;t.r=t.r0,t.r0=n}var s=mI(t.r,i.r),a=gI(t.r0,i.r0);t.r=s,t.r0=a;var l=s-a<0;return e<0&&(n=t.r,t.r=t.r0,t.r0=n),l}},$O={cartesian2d:function(i,t,e,n,s,a,l,d,h){var f=new kr({shape:Dt({},n),z2:1});return f.__dataIndex=e,f.name="item",a&&(f.shape[s?"height":"width"]=0),f},polar:function(i,t,e,n,s,a,l,d,h){var f=!s&&h?uT:xc,m=new f({shape:n,z2:1});m.name="item";var _=QO(s);if(m.calculateTextPosition=function f5(i,t){var e=(t=t||{}).isRoundCap;return function(n,s,a){var l=s.position;if(!l||l instanceof Array)return pg(n,s,a);var d=i(l),h=null!=s.distance?s.distance:5,f=this.shape,m=f.cx,_=f.cy,C=f.r,w=f.r0,D=(C+w)/2,T=f.startAngle,I=f.endAngle,F=(T+I)/2,V=e?Math.abs(C-w)/2:0,H=Math.cos,re=Math.sin,fe=m+C*H(T),de=_+C*re(T),Ee="left",Ue="top";switch(d){case"startArc":fe=m+(w-h)*H(F),de=_+(w-h)*re(F),Ee="center",Ue="top";break;case"insideStartArc":fe=m+(w+h)*H(F),de=_+(w+h)*re(F),Ee="center",Ue="bottom";break;case"startAngle":fe=m+D*H(T)+hT(T,h+V,!1),de=_+D*re(T)+pT(T,h+V,!1),Ee="right",Ue="middle";break;case"insideStartAngle":fe=m+D*H(T)+hT(T,-h+V,!1),de=_+D*re(T)+pT(T,-h+V,!1),Ee="left",Ue="middle";break;case"middle":fe=m+D*H(F),de=_+D*re(F),Ee="center",Ue="middle";break;case"endArc":fe=m+(C+h)*H(F),de=_+(C+h)*re(F),Ee="center",Ue="bottom";break;case"insideEndArc":fe=m+(C-h)*H(F),de=_+(C-h)*re(F),Ee="center",Ue="top";break;case"endAngle":fe=m+D*H(I)+hT(I,h+V,!0),de=_+D*re(I)+pT(I,h+V,!0),Ee="left",Ue="middle";break;case"insideEndAngle":fe=m+D*H(I)+hT(I,-h+V,!0),de=_+D*re(I)+pT(I,-h+V,!0),Ee="right",Ue="middle";break;default:return pg(n,s,a)}return(n=n||{}).x=fe,n.y=de,n.align=Ee,n.verticalAlign=Ue,n}}(_,{isRoundCap:f===uT}),a){var w=s?"r":"endAngle",D={};m.shape[w]=s?n.r0:n.startAngle,D[w]=n[w],(d?wo:as)(m,{shape:D},a)}return m}};function KO(i,t,e,n,s,a,l,d){var h,f;a?(f={x:n.x,width:n.width},h={y:n.y,height:n.height}):(f={y:n.y,height:n.height},h={x:n.x,width:n.width}),d||(l?wo:as)(e,{shape:h},t,s,null),(l?wo:as)(e,{shape:f},t?i.baseAxis.model:null,s)}function XO(i,t){for(var e=0;e<t.length;e++)if(!isFinite(i[t[e]]))return!0;return!1}var _5=["x","y","width","height"],b5=["cx","cy","r","startAngle","endAngle"],YO={cartesian2d:function(i){return!XO(i,_5)},polar:function(i){return!XO(i,b5)}},fT={cartesian2d:function(i,t,e){var n=i.getItemLayout(t),s=e?function w5(i,t){var e=i.get(["itemStyle","borderColor"]);if(!e||"none"===e)return 0;var n=i.get(["itemStyle","borderWidth"])||0,s=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,s,a)}(e,n):0,a=n.width>0?1:-1,l=n.height>0?1:-1;return{x:n.x+a*s/2,y:n.y+l*s/2,width:n.width-a*s,height:n.height-l*s}},polar:function(i,t,e){var n=i.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function QO(i){return function(t){var e=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+e;default:return n}}}(i)}function ZO(i,t,e,n,s,a,l,d){var h=t.getItemVisual(e,"style");if(d){if(!a.get("roundCap")){var m=i.shape;Dt(m,J_(n.getModel("itemStyle"),m,!0)),i.setShape(m)}}else{var f=n.get(["itemStyle","borderRadius"])||0;i.setShape("r",f)}i.useStyle(h);var C=n.getShallow("cursor");C&&i.attr("cursor",C);var w=d?l?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":l?s.height>=0?"bottom":"top":s.width>=0?"right":"left",D=za(n);Rl(i,D,{labelFetcher:a,labelDataIndex:e,defaultText:QC(a.getData(),e),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:w});var T=i.getTextContent();if(d&&T){var I=n.get(["label","position"]);i.textConfig.inside="middle"===I||null,function g5(i,t,e,n){if(Di(n))i.setTextConfig({rotation:n});else if(Me(t))i.setTextConfig({rotation:0});else{var h,s=i.shape,a=s.clockwise?s.startAngle:s.endAngle,l=s.clockwise?s.endAngle:s.startAngle,d=(a+l)/2,f=e(t);switch(f){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=d;break;case"startAngle":case"insideStartAngle":h=a;break;case"endAngle":case"insideEndAngle":h=l;break;default:return void i.setTextConfig({rotation:0})}var m=1.5*Math.PI-h;"middle"===f&&m>Math.PI/2&&m<1.5*Math.PI&&(m-=Math.PI),i.setTextConfig({rotation:m})}}(i,"outside"===I?w:I,QO(l),n.get(["label","rotate"]))}c(T,D,a.getRawValue(e),function(V){return TO(t,V)});var F=n.getModel(["emphasis"]);ea(i,F.get("focus"),F.get("blurScope"),F.get("disabled")),el(i,n),function C5(i){return null!=i.startAngle&&null!=i.endAngle&&i.startAngle===i.endAngle}(s)&&(i.style.fill="none",i.style.stroke="none",te(i.states,function(V){V.style&&(V.style.fill=V.style.stroke="none")}))}var x5=function i(){},qO=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeBar",n}return P(t,i),t.prototype.getDefaultShape=function(){return new x5},t.prototype.buildPath=function(e,n){for(var s=n.points,a=this.baseDimIdx,l=1-this.baseDimIdx,d=[],h=[],f=this.barWidth,m=0;m<s.length;m+=3)h[a]=f,h[l]=s[m+2],d[a]=s[m+a],d[l]=s[m+l],e.rect(d[0],d[1],h[0],h[1])},t}($r);function JO(i,t,e,n){var s=i.getData(),a=s.getLayout("valueAxisHorizontal")?1:0,l=s.getLayout("largeDataIndices"),d=s.getLayout("size"),h=i.getModel("backgroundStyle"),f=s.getLayout("largeBackgroundPoints");if(f){var m=new qO({shape:{points:f},incremental:!!n,silent:!0,z2:0});m.baseDimIdx=a,m.largeDataIndices=l,m.barWidth=d,m.useStyle(h.getItemStyle()),t.add(m),e&&e.push(m)}var _=new qO({shape:{points:s.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});_.baseDimIdx=a,_.largeDataIndices=l,_.barWidth=d,t.add(_),_.useStyle(s.getVisual("style")),dr(_).seriesIndex=i.seriesIndex,i.get("silent")||(_.on("mousedown",eL),_.on("mousemove",eL)),e&&e.push(_)}var eL=y_(function(i){var e=function S5(i,t,e){for(var n=i.baseDimIdx,s=1-n,a=i.shape.points,l=i.largeDataIndices,d=[],h=[],f=i.barWidth,m=0,_=a.length/3;m<_;m++){var C=3*m;if(h[n]=f,h[s]=a[C+2],d[n]=a[C+n],d[s]=a[C+s],h[s]<0&&(d[s]+=h[s],h[s]=-h[s]),t>=d[0]&&t<=d[0]+h[0]&&e>=d[1]&&e<=d[1]+h[1])return l[m]}return-1}(this,i.offsetX,i.offsetY);dr(this).dataIndex=e>=0?e:null},30,!1);function tL(i,t,e){if(q_(e,"cartesian2d")){var n=t,s=e.getArea();return{x:i?n.x:s.x,y:i?s.y:n.y,width:i?n.width:s.width,height:i?s.height:n.height}}return{cx:(s=e.getArea()).cx,cy:s.cy,r0:i?s.r0:t.r0,r:i?s.r:t.r,startAngle:i?t.startAngle:0,endAngle:i?t.endAngle:2*Math.PI}}const E5=v5;var iL=2*Math.PI,gT=Math.PI/180;function nL(i,t){return pl(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function rL(i,t){var e=nL(i,t),n=i.get("center"),s=i.get("radius");Me(s)||(s=[0,s]);var m,_,a=kn(e.width,t.getWidth()),l=kn(e.height,t.getHeight()),d=Math.min(a,l),h=kn(s[0],d/2),f=kn(s[1],d/2),C=i.coordinateSystem;if(C){var w=C.dataToPoint(n);m=w[0]||0,_=w[1]||0}else Me(n)||(n=[n,n]),m=kn(n[0],a)+e.x,_=kn(n[1],l)+e.y;return{cx:m,cy:_,r0:h,r:f}}function T5(i,t,e){t.eachSeriesByType(i,function(n){var s=n.getData(),a=s.mapDimension("value"),l=nL(n,e),d=rL(n,e),h=d.cx,f=d.cy,m=d.r,_=d.r0,C=-n.get("startAngle")*gT,w=n.get("endAngle"),D=n.get("padAngle")*gT;w="auto"===w?C-iL:-w*gT;var I=n.get("minAngle")*gT+D,F=0;s.each(a,function(Yi){!isNaN(Yi)&&F++});var V=s.getSum(a),H=Math.PI/(V||F)*2,re=n.get("clockwise"),fe=n.get("roseType"),de=n.get("stillShowZeroSum"),Ee=s.getDataExtent(a);Ee[0]=0;var Ue=re?1:-1,ze=[C,w],nt=Ue*D/2;Nm(ze,!re),C=ze[0],w=ze[1];var gt=oL(n);gt.startAngle=C,gt.endAngle=w,gt.clockwise=re;var Vt=Math.abs(w-C),$t=Vt,hi=0,gi=C;if(s.setLayout({viewRect:l,r:m}),s.each(a,function(Yi,ji){var rn;if(isNaN(Yi))s.setItemLayout(ji,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:re,cx:h,cy:f,r0:_,r:fe?NaN:m});else{(rn="area"!==fe?0===V&&de?H:Yi*H:Vt/F)<I?(rn=I,$t-=I):hi+=Yi;var bn=gi+Ue*rn,In=0,Vn=0;D>rn?Vn=In=gi+Ue*rn/2:(In=gi+nt,Vn=bn-nt),s.setItemLayout(ji,{angle:rn,startAngle:In,endAngle:Vn,clockwise:re,cx:h,cy:f,r0:_,r:fe?gr(Yi,Ee,[_,m]):m}),gi=bn}}),$t<iL&&F)if($t<=.001){var Pi=Vt/F;s.each(a,function(Yi,ji){if(!isNaN(Yi)){var rn=s.getItemLayout(ji);rn.angle=Pi;var bn=0,In=0;Pi<D?In=bn=C+Ue*(ji+.5)*Pi:(bn=C+Ue*ji*Pi+nt,In=C+Ue*(ji+1)*Pi-nt),rn.startAngle=bn,rn.endAngle=In}})}else H=$t/hi,gi=C,s.each(a,function(Yi,ji){if(!isNaN(Yi)){var rn=s.getItemLayout(ji),bn=rn.angle===I?I:Yi*H,In=0,Vn=0;bn<D?Vn=In=gi+Ue*bn/2:(In=gi+nt,Vn=gi+Ue*bn-nt),rn.startAngle=In,rn.endAngle=Vn,gi+=Ue*bn}})})}var oL=Xe();function AS(i){return{seriesType:i,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var s=t.getData();s.filterSelf(function(a){for(var l=s.getName(a),d=0;d<n.length;d++)if(!n[d].isSelected(l))return!1;return!0})}}}}var M5=Math.PI/180;function sL(i,t,e,n,s,a,l,d,h,f){if(!(i.length<2)){for(var C=i.length,w=0;w<C;w++)"outer"===i[w].position&&"labelLine"===i[w].labelAlignTo&&(i[w].linePoints[1][0]+=i[w].label.x-f,i[w].label.x=f);Gi(i,h,h+l)&&function _(T){for(var I={list:[],maxY:0},F={list:[],maxY:0},V=0;V<T.length;V++)if("none"===T[V].labelAlignTo){var H=T[V],re=H.label.y>e?F:I,fe=Math.abs(H.label.y-e);if(fe>=re.maxY){var de=H.label.x-t-H.len2*s,Ee=n+H.len,Ue=Math.abs(de)<Ee?Math.sqrt(fe*fe/(1-de*de/Ee/Ee)):Ee;re.rB=Ue,re.maxY=fe}re.list.push(H)}m(I),m(F)}(i)}function m(T){for(var I=T.rB,F=I*I,V=0;V<T.list.length;V++){var H=T.list[V],re=Math.abs(H.label.y-e),fe=n+H.len,de=fe*fe,Ee=Math.sqrt((1-Math.abs(re*re/F))*de),Ue=t+(Ee+H.len2)*s;aL(H,H.targetTextWidth-(Ue-H.label.x)*s,!0),H.label.x=Ue}}}function aL(i,t,e){if(void 0===e&&(e=!1),null==i.labelStyleWidth){var n=i.label,s=n.style,a=i.rect,l=s.backgroundColor,d=s.padding,h=d?d[1]+d[3]:0,f=s.overflow,m=a.width+(l?0:h);if(t<m||e){var _=a.height;if(f&&f.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-h);var C=n.getBoundingRect();n.setStyle("width",Math.ceil(C.width)),n.setStyle("backgroundColor",l)}else{var w=t-h;n.setStyle("width",t<m?w:e?w>i.unconstrainedWidth?null:w:null)}var T=n.getBoundingRect();a.width=T.width,a.height=T.height+((n.style.margin||0)+2.1),a.y-=(a.height-_)/2}}}function vI(i){return"center"===i.position}var P5=function(i){function t(e,n,s){var a=i.call(this)||this;a.z2=2;var l=new lo;return a.setTextContent(l),a.updateData(e,n,s,!0),a}return P(t,i),t.prototype.updateData=function(e,n,s,a){var l=this,d=e.hostModel,h=e.getItemModel(n),f=h.getModel("emphasis"),m=e.getItemLayout(n),_=Dt(J_(h.getModel("itemStyle"),m,!0),m);if(isNaN(_.startAngle))l.setShape(_);else{if(a){l.setShape(_);var C=d.getShallow("animationType");d.ecModel.ssr?(as(l,{scaleX:0,scaleY:0},d,{dataIndex:n,isFrom:!0}),l.originX=_.cx,l.originY=_.cy):"scale"===C?(l.shape.r=m.r0,as(l,{shape:{r:m.r}},d,n)):null!=s?(l.setShape({startAngle:s,endAngle:s}),as(l,{shape:{startAngle:m.startAngle,endAngle:m.endAngle}},d,n)):(l.shape.endAngle=m.startAngle,wo(l,{shape:{endAngle:m.endAngle}},d,n))}else Bd(l),wo(l,{shape:_},d,n);l.useStyle(e.getItemVisual(n,"style")),el(l,h);var w=(m.startAngle+m.endAngle)/2,D=d.get("selectedOffset"),T=Math.cos(w)*D,I=Math.sin(w)*D,F=h.getShallow("cursor");F&&l.attr("cursor",F),this._updateLabel(d,e,n),l.ensureState("emphasis").shape=Dt({r:m.r+(f.get("scale")&&f.get("scaleSize")||0)},J_(f.getModel("itemStyle"),m)),Dt(l.ensureState("select"),{x:T,y:I,shape:J_(h.getModel(["select","itemStyle"]),m)}),Dt(l.ensureState("blur"),{shape:J_(h.getModel(["blur","itemStyle"]),m)});var V=l.getTextGuideLine(),H=l.getTextContent();V&&Dt(V.ensureState("select"),{x:T,y:I}),Dt(H.ensureState("select"),{x:T,y:I}),ea(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))}},t.prototype._updateLabel=function(e,n,s){var a=this,l=n.getItemModel(s),d=l.getModel("labelLine"),h=n.getItemVisual(s,"style"),f=h&&h.fill,m=h&&h.opacity;Rl(a,za(l),{labelFetcher:n.hostModel,labelDataIndex:s,inheritColor:f,defaultOpacity:m,defaultText:e.getFormattedLabel(s,"normal")||n.getName(s)});var _=a.getTextContent();a.setTextConfig({position:null,rotation:null}),_.attr({z2:10});var C=e.get(["label","position"]);if("outside"!==C&&"outer"!==C)a.removeTextGuideLine();else{var w=this.getTextGuideLine();w||(w=new md,this.setTextGuideLine(w)),ne(this,me(l),{stroke:f,opacity:fn(d.get(["lineStyle","opacity"]),m,1)})}},t}(xc),k5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return P(t,i),t.prototype.render=function(e,n,s,a){var f,l=e.getData(),d=this._data,h=this.group;if(!d&&l.count()>0){for(var m=l.getItemLayout(0),_=1;isNaN(m&&m.startAngle)&&_<l.count();++_)m=l.getItemLayout(_);m&&(f=m.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),0===l.count()&&e.get("showEmptyCircle")){var C=oL(e),w=new xc({shape:Dt(rL(e,s),C)});w.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=w,h.add(w)}l.diff(d).add(function(D){var T=new P5(l,D,f);l.setItemGraphicEl(D,T),h.add(T)}).update(function(D,T){var I=d.getItemGraphicEl(T);I.updateData(l,D,f),I.off("click"),h.add(I),l.setItemGraphicEl(D,I)}).remove(function(D){Kg(d.getItemGraphicEl(D),e,D)}).execute(),function I5(i){var n,s,t=i.getData(),e=[],a=!1,l=(i.get("minShowLabelAngle")||0)*M5,d=t.getLayout("viewRect"),h=t.getLayout("r"),f=d.width,m=d.x,_=d.y,C=d.height;function w(de){de.ignore=!0}t.each(function(de){var Ee=t.getItemGraphicEl(de),Ue=Ee.shape,ze=Ee.getTextContent(),nt=Ee.getTextGuideLine(),gt=t.getItemModel(de),Vt=gt.getModel("label"),$t=Vt.get("position")||gt.get(["emphasis","label","position"]),hi=Vt.get("distanceToLabelLine"),gi=Vt.get("alignTo"),Pi=kn(Vt.get("edgeDistance"),f),Yi=Vt.get("bleedMargin"),ji=gt.getModel("labelLine"),rn=ji.get("length");rn=kn(rn,f);var bn=ji.get("length2");if(bn=kn(bn,f),Math.abs(Ue.endAngle-Ue.startAngle)<l)return te(ze.states,w),ze.ignore=!0,void(nt&&(te(nt.states,w),nt.ignore=!0));if(function D(de){if(!de.ignore)return!0;for(var Ee in de.states)if(!1===de.states[Ee].ignore)return!0;return!1}(ze)){var ur,Yr,xo,qr,In=(Ue.startAngle+Ue.endAngle)/2,Vn=Math.cos(In),lr=Math.sin(In);n=Ue.cx,s=Ue.cy;var br="inside"===$t||"inner"===$t;if("center"===$t)ur=Ue.cx,Yr=Ue.cy,qr="center";else{var Jr=(br?(Ue.r+Ue.r0)/2*Vn:Ue.r*Vn)+n,Lr=(br?(Ue.r+Ue.r0)/2*lr:Ue.r*lr)+s;if(ur=Jr+3*Vn,Yr=Lr+3*lr,!br){var ir=Jr+Vn*(rn+h-Ue.r),Nr=Lr+lr*(rn+h-Ue.r),Ra=ir+(Vn<0?-1:1)*bn;ur="edge"===gi?Vn<0?m+Pi:m+f-Pi:Ra+(Vn<0?-hi:hi),Yr=Nr,xo=[[Jr,Lr],[ir,Nr],[Ra,Nr]]}qr=br?"center":"edge"===gi?Vn>0?"right":"left":Vn>0?"left":"right"}var vl=Math.PI,tl=0,Kd=Vt.get("rotate");if(Di(Kd))tl=Kd*(vl/180);else if("center"===$t)tl=0;else if("radial"===Kd||!0===Kd)tl=Vn<0?-In+vl:-In;else if("tangential"===Kd&&"outside"!==$t&&"outer"!==$t){var Zu=Math.atan2(Vn,lr);Zu<0&&(Zu=2*vl+Zu),lr>0&&(Zu=vl+Zu),tl=Zu-vl}if(a=!!tl,ze.x=ur,ze.y=Yr,ze.rotation=tl,ze.setStyle({verticalAlign:"middle"}),br){ze.setStyle({align:qr});var iF=ze.states.select;iF&&(iF.x+=ze.x,iF.y+=ze.y)}else{var dy=ze.getBoundingRect().clone();dy.applyTransform(ze.getComputedTransform());var yH=(ze.style.margin||0)+2.1;dy.y-=yH/2,dy.height+=yH,e.push({label:ze,labelLine:nt,position:$t,len:rn,len2:bn,minTurnAngle:ji.get("minTurnAngle"),maxSurfaceAngle:ji.get("maxSurfaceAngle"),surfaceNormal:new sr(Vn,lr),linePoints:xo,textAlign:qr,labelDistance:hi,labelAlignTo:gi,edgeDistance:Pi,bleedMargin:Yi,rect:dy,unconstrainedWidth:dy.width,labelStyleWidth:ze.style.width})}Ee.setTextConfig({inside:br})}}),!a&&i.get("avoidLabelOverlap")&&function R5(i,t,e,n,s,a,l,d){for(var h=[],f=[],m=Number.MAX_VALUE,_=-Number.MAX_VALUE,C=0;C<i.length;C++){var w=i[C].label;vI(i[C])||(w.x<t?(m=Math.min(m,w.x),h.push(i[C])):(_=Math.max(_,w.x),f.push(i[C])))}for(C=0;C<i.length;C++)if(!vI(D=i[C])&&D.linePoints){if(null!=D.labelStyleWidth)continue;w=D.label;var I,T=D.linePoints;D.targetTextWidth=I="edge"===D.labelAlignTo?w.x<t?T[2][0]-D.labelDistance-l-D.edgeDistance:l+s-D.edgeDistance-T[2][0]-D.labelDistance:"labelLine"===D.labelAlignTo?w.x<t?m-l-D.bleedMargin:l+s-_-D.bleedMargin:w.x<t?w.x-l-D.bleedMargin:l+s-w.x-D.bleedMargin,aL(D,I)}for(sL(f,t,e,n,1,0,a,0,d,_),sL(h,t,e,n,-1,0,a,0,d,m),C=0;C<i.length;C++){var D;if(!vI(D=i[C])&&D.linePoints){var V=(w=D.label).style.padding,fe=D.rect.width+(w.style.backgroundColor?0:V?V[1]+V[3]:0),de=(T=D.linePoints)[1][0]-T[2][0];"edge"===D.labelAlignTo?T[2][0]=w.x<t?l+D.edgeDistance+fe+D.labelDistance:l+s-D.edgeDistance-fe-D.labelDistance:(T[2][0]=w.x<t?w.x+D.labelDistance:w.x-D.labelDistance,T[1][0]=T[2][0]+de),T[1][1]=T[2][1]=w.y}}}(e,n,s,h,f,C,m,_);for(var T=0;T<e.length;T++){var I=e[T],F=I.label,V=I.labelLine,H=isNaN(F.x)||isNaN(F.y);if(F){F.setStyle({align:I.textAlign}),H&&(te(F.states,w),F.ignore=!0);var re=F.states.select;re&&(re.x+=F.x,re.y+=F.y)}if(V){var fe=I.linePoints;H||!fe?(te(V.states,w),V.ignore=!0):(x(fe,I.minTurnAngle),A(fe,I.surfaceNormal,I.maxSurfaceAngle),V.setShape({points:fe}),F.__hostTarget.textGuideLineConfig={anchor:new sr(fe[0][0],fe[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=l)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var a=n.getData().getItemLayout(0);if(a){var l=e[0]-a.cx,d=e[1]-a.cy,h=Math.sqrt(l*l+d*d);return h<=a.r&&h>=a.r0}},t.type="pie",t}(fs);const F5=k5;function ZC(i,t,e){t=Me(t)&&{coordDimensions:t}||Dt({encodeDefine:i.getEncode()},t);var n=i.getSource(),s=Kv(n,t).dimensions,a=new nd(s,i);return a.initData(n,e),a}var O5=function(){function i(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},i.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},i.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},i}();const TS=O5;var L5=Xe(),N5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new TS(at(this.getData,this),at(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return ZC(this,{coordDimensions:["value"],encodeDefaulter:Se(X0,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),s=L5(n),a=s.seats;if(!a){var l=[];n.each(n.mapDimension("value"),function(h){l.push(h)}),a=s.seats=sh(l,n.hostModel.get("percentPrecision"))}var d=i.prototype.getDataParams.call(this,e);return d.percent=a[e]||0,d.$vars.push("percent"),d},t.prototype._defaultLabelLine=function(e){Ul(e,"labelLine",["show"]);var n=e.labelLine,s=e.emphasis.labelLine;n.show=n.show&&e.label.show,s.show=s.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Us);const B5=N5;var H5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return P(t,i),t.prototype.getInitialData=function(e,n){return sp(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,n,s){return s.point(n.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Us);const U5=H5;var z5=function i(){},W5=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return P(t,i),t.prototype.getDefaultShape=function(){return new z5},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,n){var _,s=n.points,a=n.size,l=this.symbolProxy,d=l.shape,h=e.getContext?e.getContext():e,m=this.softClipShape;if(h&&a[0]<4)this._ctx=h;else{for(this._ctx=null,_=this._off;_<s.length;){var C=s[_++],w=s[_++];isNaN(C)||isNaN(w)||m&&!m.contain(C,w)||(d.x=C-a[0]/2,d.y=w-a[1]/2,d.width=a[0],d.height=a[1],l.buildPath(e,d,!0))}this.incremental&&(this._off=_,this.notClear=!0)}},t.prototype.afterBrush=function(){var d,e=this.shape,n=e.points,s=e.size,a=this._ctx,l=this.softClipShape;if(a){for(d=this._off;d<n.length;){var h=n[d++],f=n[d++];isNaN(h)||isNaN(f)||l&&!l.contain(h,f)||a.fillRect(h-s[0]/2,f-s[1]/2,s[0],s[1])}this.incremental&&(this._off=d,this.notClear=!0)}},t.prototype.findDataIndex=function(e,n){for(var s=this.shape,a=s.points,l=s.size,d=Math.max(l[0],4),h=Math.max(l[1],4),f=a.length/2-1;f>=0;f--){var m=2*f,_=a[m]-d/2,C=a[m+1]-h/2;if(e>=_&&n>=C&&e<=_+d&&n<=C+h)return f}return-1},t.prototype.contain=function(e,n){var s=this.transformCoordToLocal(e,n);return this.getBoundingRect().contain(e=s[0],n=s[1])?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var n=this.shape,s=n.points,a=n.size,l=a[0],d=a[1],h=1/0,f=1/0,m=-1/0,_=-1/0,C=0;C<s.length;){var w=s[C++],D=s[C++];h=Math.min(w,h),m=Math.max(w,m),f=Math.min(D,f),_=Math.max(D,_)}e=this._rect=new Qn(h-l/2,f-d/2,m-h+l,_-f+d)}return e},t}($r),j5=function(){function i(){this.group=new zn}return i.prototype.updateData=function(t,e){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,e)},i.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(n){null!=n.startIndex&&(e=new Float32Array(e.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",e),n.reset()})},i.prototype.incrementalPrepareUpdate=function(t){this._clear()},i.prototype.incrementalUpdate=function(t,e,n){var s=this._newAdded[0],a=e.getLayout("points"),l=s&&s.shape.points;if(l&&l.length<2e4){var d=l.length,h=new Float32Array(d+a.length);h.set(l),h.set(a,d),s.endIndex=t.end,s.setShape({points:h})}else{this._newAdded=[];var f=this._create();f.startIndex=t.start,f.endIndex=t.end,f.incremental=!0,f.setShape({points:a}),this._setCommon(f,e,n)}},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new W5({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},i.prototype._setCommon=function(t,e,n){var s=e.hostModel;n=n||{};var a=e.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=Ma(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var l=t.shape.size[0]<4;t.useStyle(s.getModel("itemStyle").getItemStyle(l?["color","shadowBlur","shadowColor"]:["color"]));var d=e.getVisual("style"),h=d&&d.fill;h&&t.setColor(h);var f=dr(t);f.seriesIndex=s.seriesIndex,t.on("mousemove",function(m){f.dataIndex=null;var _=t.hoverDataIdx;_>=0&&(f.dataIndex=_+(t.startIndex||0))})},i.prototype.remove=function(){this._clear()},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}();const $5=j5;var K5=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.getData();this._updateSymbolDraw(a,e).updateData(a,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,s){var a=e.getData();this._updateSymbolDraw(a,e).incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(e,n,s){this._symbolDraw.incrementalUpdate(e,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=e.end===n.getData().count()},t.prototype.updateTransform=function(e,n,s){var a=e.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var l=ES("").reset(e,n,s);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get("clip",!0)){var n=e.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,n){var s=this._symbolDraw,l=n.pipelineContext.large;return(!s||l!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=l?new $5:new SS,this._isLargeDraw=l,this.group.removeAll()),this.group.add(s.group),s},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(fs);const X5=K5;var Y5=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(go);const Q5=Y5;var yI=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",mi).models[0]},t.type="cartesian2dAxis",t}(go);Gt(yI,z_);var cL={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Z5=Pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},cL),_I=Pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},cL);const dL={category:Z5,value:_I,time:Pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},_I),log:je({logBase:10},_I)};var e3={value:1,category:1,time:1,log:1};function qC(i,t,e,n){te(e3,function(s,a){var l=Pt(Pt({},dL[a],!0),n,!0),d=function(h){function f(){var m=null!==h&&h.apply(this,arguments)||this;return m.type=t+"Axis."+a,m}return P(f,h),f.prototype.mergeDefaultAndTheme=function(m,_){var C=jy(this),w=C?hc(m):{};Pt(m,_.getTheme().get(a+"Axis")),Pt(m,this.getDefaultOption()),m.type=uL(m),C&&Gf(m,w,C)},f.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Yx.createByAxisModel(this))},f.prototype.getCategories=function(m){var _=this.option;if("category"===_.type)return m?_.data:this.__ordinalMeta.categories},f.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},f.type=t+"Axis."+a,f.defaultOption=l,f}(e);i.registerComponentModel(d)}),i.registerSubTypeDefaulter(t+"Axis",uL)}function uL(i){return i.type||(i.data?"category":"value")}var t3=function(){function i(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return i.prototype.getAxis=function(t){return this._axes[t]},i.prototype.getAxes=function(){return ge(this._dimList,function(t){return this._axes[t]},this)},i.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Ve(this.getAxes(),function(e){return e.scale.type===t})},i.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},i}(),bI=["x","y"];function hL(i){return"interval"===i.type||"time"===i.type}var r3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=bI,e}return P(t,i),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,n=this.getAxis("y").scale;if(hL(e)&&hL(n)){var s=e.getExtent(),a=n.getExtent(),l=this.dataToPoint([s[0],a[0]]),d=this.dataToPoint([s[1],a[1]]),h=s[1]-s[0],f=a[1]-a[0];if(h&&f){var m=(d[0]-l[0])/h,_=(d[1]-l[1])/f,D=this._transform=[m,0,0,_,l[0]-s[0]*m,l[1]-a[0]*_];this._invTransform=Ea([],D)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var n=this.getAxis("x"),s=this.getAxis("y");return n.contain(n.toLocalCoord(e[0]))&&s.contain(s.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,n){var s=this.dataToPoint(e),a=this.dataToPoint(n),l=this.getArea(),d=new Qn(s[0],s[1],a[0]-s[0],a[1]-s[1]);return l.intersect(d)},t.prototype.dataToPoint=function(e,n,s){s=s||[];var a=e[0],l=e[1];if(this._transform&&null!=a&&isFinite(a)&&null!=l&&isFinite(l))return mo(s,e,this._transform);var d=this.getAxis("x"),h=this.getAxis("y");return s[0]=d.toGlobalCoord(d.dataToCoord(a,n)),s[1]=h.toGlobalCoord(h.dataToCoord(l,n)),s},t.prototype.clampData=function(e,n){var s=this.getAxis("x").scale,a=this.getAxis("y").scale,l=s.getExtent(),d=a.getExtent(),h=s.parse(e[0]),f=a.parse(e[1]);return(n=n||[])[0]=Math.min(Math.max(Math.min(l[0],l[1]),h),Math.max(l[0],l[1])),n[1]=Math.min(Math.max(Math.min(d[0],d[1]),f),Math.max(d[0],d[1])),n},t.prototype.pointToData=function(e,n){var s=[];if(this._invTransform)return mo(s,e,this._invTransform);var a=this.getAxis("x"),l=this.getAxis("y");return s[0]=a.coordToData(a.toLocalCoord(e[0]),n),s[1]=l.coordToData(l.toLocalCoord(e[1]),n),s},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var n=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-e,l=Math.min(s[0],s[1])-e,d=Math.max(n[0],n[1])-a+e,h=Math.max(s[0],s[1])-l+e;return new Qn(a,l,d,h)},t}(t3);const o3=r3;var s3=function(i){function t(e,n,s,a,l){var d=i.call(this,e,n,s)||this;return d.index=0,d.type=a||"value",d.position=l||"bottom",d}return P(t,i),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),e&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(e,n){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),n)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Qu);const a3=s3;function CI(i,t,e){e=e||{};var n=i.coordinateSystem,s=t.axis,a={},l=s.getAxesOnZeroOf()[0],d=s.position,h=l?"onZero":d,f=s.dim,m=n.getRect(),_=[m.x,m.x+m.width,m.y,m.y+m.height],C={left:0,right:1,top:0,bottom:1,onZero:2},w=t.get("offset")||0,D="x"===f?[_[2]-w,_[3]+w]:[_[0]-w,_[1]+w];if(l){var T=l.toGlobalCoord(l.dataToCoord(0));D[C.onZero]=Math.max(Math.min(T,D[1]),D[0])}a.position=["y"===f?D[C[h]]:_[0],"x"===f?D[C[h]]:_[3]],a.rotation=Math.PI/2*("x"===f?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[d],a.labelOffset=l?D[C[d]]-D[C.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),ln(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var F=t.get(["axisLabel","rotate"]);return a.labelRotate="top"===h?-F:F,a.z2=1,a}function pL(i){return"cartesian2d"===i.get("coordinateSystem")}function fL(i){var t={xAxisModel:null,yAxisModel:null};return te(t,function(e,n){var s=n.replace(/Model$/,""),a=i.getReferringComponents(s,mi).models[0];t[n]=a}),t}var wI=Math.log;function gL(i,t,e){var n=ap.prototype,s=n.getTicks.call(e),a=n.getTicks.call(e,!0),l=s.length-1,d=n.getInterval.call(e),h=cS(i,t),f=h.extent,m=h.fixMin,_=h.fixMax;if("log"===i.type){var C=wI(i.base);f=[wI(f[0])/C,wI(f[1])/C]}i.setExtent(f[0],f[1]),i.calcNiceExtent({splitNumber:l,fixMin:m,fixMax:_});var w=n.getExtent.call(i);m&&(f[0]=w[0]),_&&(f[1]=w[1]);var D=n.getInterval.call(i),T=f[0],I=f[1];if(m&&_)D=(I-T)/l;else if(m)for(I=f[0]+D*l;I<f[1]&&isFinite(I)&&isFinite(f[1]);)D=Zx(D),I=f[0]+D*l;else if(_)for(T=f[1]-D*l;T>f[0]&&isFinite(T)&&isFinite(f[0]);)D=Zx(D),T=f[1]-D*l;else{i.getTicks().length-1>l&&(D=Zx(D));var V=D*l;(T=Fo((I=Math.ceil(f[1]/D)*D)-V))<0&&f[0]>=0?(T=0,I=Fo(V)):I>0&&f[1]<=0&&(I=0,T=-Fo(V))}var H=(s[0].value-a[0].value)/d,re=(s[l].value-a[l].value)/d;n.setExtent.call(i,T+D*H,I+D*re),n.setInterval.call(i,D),(H||re)&&n.setNiceExtent.call(i,T+D,I-D)}var l3=function(){function i(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=bI,this._initCartesian(t,e,n),this.model=t}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(t,e){var n=this._axesMap;function s(l){var d,h=Ri(l),f=h.length;if(f){for(var m=[],_=f-1;_>=0;_--){var w=l[+h[_]],D=w.model,T=w.scale;BC(T)&&D.get("alignTicks")&&null==D.get("interval")?m.push(w):(vm(T,D),BC(T)&&(d=w))}m.length&&(d||vm((d=m.pop()).scale,d.model),te(m,function(I){gL(I.scale,I.model,d.scale)}))}}this._updateScale(t,this.model),s(n.x),s(n.y);var a={};te(n.x,function(l){mL(n,"y",l,a)}),te(n.y,function(l){mL(n,"x",l,a)}),this.resize(this.model,e)},i.prototype.resize=function(t,e,n){var s=t.getBoxLayoutParams(),a=!n&&t.get("containLabel"),l=pl(s,{width:e.getWidth(),height:e.getHeight()});this._rect=l;var d=this._axesList;function h(){te(d,function(f){var m=f.isHorizontal(),_=m?[0,l.width]:[0,l.height],C=f.inverse?1:0;f.setExtent(_[C],_[1-C]),function c3(i,t){var e=i.getExtent(),n=e[0]+e[1];i.toGlobalCoord="x"===i.dim?function(s){return s+t}:function(s){return n-s+t},i.toLocalCoord="x"===i.dim?function(s){return s-t}:function(s){return n-s+t}}(f,m?l.x:l.y)})}h(),a&&(te(d,function(f){if(!f.model.get(["axisLabel","inside"])){var m=function dS(i){var e=i.scale;if(i.model.get(["axisLabel","show"])&&!e.isBlank()){var n,s,a=e.getExtent();s=e instanceof tS?e.count():(n=e.getTicks()).length;var h,l=i.getLabelModel(),d=Yu(i),f=1;s>40&&(f=Math.ceil(s/40));for(var m=0;m<s;m+=f){var C=d(n?n[m]:{value:a[0]+m},m),D=uS(l.getTextRect(C),l.get("rotate")||0);h?h.union(D):h=D}return h}}(f);if(m){var _=f.isHorizontal()?"height":"width",C=f.model.get(["axisLabel","margin"]);l[_]-=m[_]+C,"top"===f.position?l.y+=m.height+C:"left"===f.position&&(l.x+=m.width+C)}}}),h()),te(this._coordsList,function(f){f.calcAffineTransform()})},i.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];Zi(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var s=0,a=this._coordsList;s<a.length;s++)if(a[s].getAxis("x").index===t||a[s].getAxis("y").index===e)return a[s]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(t,e,n){var s=this._findConvertTarget(e);return s.cartesian?s.cartesian.dataToPoint(n):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(n)):null},i.prototype.convertFromPixel=function(t,e,n){var s=this._findConvertTarget(e);return s.cartesian?s.cartesian.pointToData(n):s.axis?s.axis.coordToData(s.axis.toLocalCoord(n)):null},i.prototype._findConvertTarget=function(t){var d,h,e=t.seriesModel,n=t.xAxisModel||e&&e.getReferringComponents("xAxis",mi).models[0],s=t.yAxisModel||e&&e.getReferringComponents("yAxis",mi).models[0],a=t.gridModel;return e?Te(this._coordsList,d=e.coordinateSystem)<0&&(d=null):n&&s?d=this.getCartesian(n.componentIndex,s.componentIndex):n?h=this.getAxis("x",n.componentIndex):s?h=this.getAxis("y",s.componentIndex):a&&a.coordinateSystem===this&&(d=this._coordsList[0]),{cartesian:d,axis:h}},i.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},i.prototype._initCartesian=function(t,e,n){var s=this,a=this,l={left:!1,right:!1,top:!1,bottom:!1},d={x:{},y:{}},h={x:0,y:0};if(e.eachComponent("xAxis",f("x"),this),e.eachComponent("yAxis",f("y"),this),!h.x||!h.y)return this._axesMap={},void(this._axesList=[]);function f(m){return function(_,C){if(xI(_,t)){var w=_.get("position");"x"===m?"top"!==w&&"bottom"!==w&&(w=l.bottom?"top":"bottom"):"left"!==w&&"right"!==w&&(w=l.left?"right":"left"),l[w]=!0;var D=new a3(m,U_(_),[0,0],_.get("type"),w);D.onBand="category"===D.type&&_.get("boundaryGap"),D.inverse=_.get("inverse"),_.axis=D,D.model=_,D.grid=a,D.index=C,a._axesList.push(D),d[m][C]=D,h[m]++}}}this._axesMap=d,te(d.x,function(m,_){te(d.y,function(C,w){var D="x"+_+"y"+w,T=new o3(D);T.master=s,T.model=t,s._coordsMap[D]=T,s._coordsList.push(T),T.addAxis(m),T.addAxis(C)})})},i.prototype._updateScale=function(t,e){function n(s,a){te(Zv(s,a.dim),function(l){a.scale.unionExtentFromData(s,l)})}te(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),"category"===s.type){var a=s.model.get("categorySortInfo");s.scale.setSortInfo(a)}}),t.eachSeries(function(s){if(pL(s)){var a=fL(s),l=a.xAxisModel,d=a.yAxisModel;if(!xI(l,e)||!xI(d,e))return;var h=this.getCartesian(l.componentIndex,d.componentIndex),f=s.getData(),m=h.getAxis("x"),_=h.getAxis("y");n(f,m),n(f,_)}},this)},i.prototype.getTooltipAxes=function(t){var e=[],n=[];return te(this.getCartesians(),function(s){var a=null!=t&&"auto"!==t?s.getAxis(t):s.getBaseAxis(),l=s.getOtherAxis(a);Te(e,a)<0&&e.push(a),Te(n,l)<0&&n.push(l)}),{baseAxes:e,otherAxes:n}},i.create=function(t,e){var n=[];return t.eachComponent("grid",function(s,a){var l=new i(s,t,e);l.name="grid_"+a,l.resize(s,e,!0),s.coordinateSystem=l,n.push(l)}),t.eachSeries(function(s){if(pL(s)){var a=fL(s),l=a.xAxisModel,d=a.yAxisModel,h=l.getCoordSysModel();s.coordinateSystem=h.coordinateSystem.getCartesian(l.componentIndex,d.componentIndex)}}),n},i.dimensions=bI,i}();function xI(i,t){return i.getCoordSysModel()===t}function mL(i,t,e,n){e.getAxesOnZeroOf=function(){return a?[a]:[]};var a,s=i[t],l=e.model,d=l.get(["axisLine","onZero"]),h=l.get(["axisLine","onZeroAxisIndex"]);if(d){if(null!=h)vL(s[h])&&(a=s[h]);else for(var f in s)if(s.hasOwnProperty(f)&&vL(s[f])&&!n[m(s[f])]){a=s[f];break}a&&(n[m(a)]=!0)}function m(_){return _.dim+"_"+_.index}}function vL(i){return i&&"category"!==i.type&&"time"!==i.type&&function UA(i){var t=i.scale.getExtent(),e=t[0],n=t[1];return!(e>0&&n>0||e<0&&n<0)}(i)}const d3=l3;var ty=Math.PI,eb=function(){function i(t,e){this.group=new zn,this.opt=e,this.axisModel=t,je(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new zn({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return i.prototype.hasBuilder=function(t){return!!yL[t]},i.prototype.add=function(t){yL[t](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(t,e,n){var a,l,s=Oh(e-t);return El(s)?(l=n>0?"top":"bottom",a="center"):El(s-ty)?(l=n>0?"bottom":"top",a="center"):(l="middle",a=s>0&&s<ty?n>0?"right":"left":n>0?"left":"right"),{rotation:s,textAlign:a,textVerticalAlign:l}},i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},i.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},i}(),yL={axisLine:function(i,t,e,n){var s=t.get(["axisLine","show"]);if("auto"===s&&i.handleAutoShown&&(s=i.handleAutoShown("axisLine")),s){var a=t.axis.getExtent(),l=n.transform,d=[a[0],0],h=[a[1],0],f=d[0]>h[0];l&&(mo(d,d,l),mo(h,h,l));var m=Dt({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),_=new Yl({shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:m,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});qp(_.shape,_.style.lineWidth),_.anid="line",e.add(_);var C=t.get(["axisLine","symbol"]);if(null!=C){var w=t.get(["axisLine","symbolSize"]);Ii(C)&&(C=[C,C]),(Ii(w)||Di(w))&&(w=[w,w]);var D=Kf(t.get(["axisLine","symbolOffset"])||0,w),T=w[0],I=w[1];te([{rotate:i.rotation+Math.PI/2,offset:D[0],r:0},{rotate:i.rotation-Math.PI/2,offset:D[1],r:Math.sqrt((d[0]-h[0])*(d[0]-h[0])+(d[1]-h[1])*(d[1]-h[1]))}],function(F,V){if("none"!==C[V]&&null!=C[V]){var H=Ma(C[V],-T/2,-I/2,T,I,m.stroke,!0),re=F.r+F.offset,fe=f?h:d;H.attr({rotation:F.rotate,x:fe[0]+re*Math.cos(i.rotation),y:fe[1]-re*Math.sin(i.rotation),silent:!0,z2:11}),e.add(H)}})}}},axisTickLabel:function(i,t,e,n){var s=function p3(i,t,e,n){var s=e.axis,a=e.getModel("axisTick"),l=a.get("show");if("auto"===l&&n.handleAutoShown&&(l=n.handleAutoShown("axisTick")),l&&!s.scale.isBlank()){for(var d=a.getModel("lineStyle"),h=n.tickDirection*a.get("length"),m=CL(s.getTicksCoords(),t.transform,h,je(d.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),_=0;_<m.length;_++)i.add(m[_]);return m}}(e,n,t,i),a=function g3(i,t,e,n){var s=e.axis;if(ln(n.axisLabelShow,e.get(["axisLabel","show"]))&&!s.scale.isBlank()){var l=e.getModel("axisLabel"),d=l.get("margin"),h=s.getViewLabels(),f=(ln(n.labelRotate,l.get("rotate"))||0)*ty/180,m=eb.innerTextLayout(n.rotation,f,n.labelDirection),_=e.getCategories&&e.getCategories(!0),C=[],w=eb.isLabelSilent(e),D=e.get("triggerEvent");return te(h,function(T,I){var F="ordinal"===s.scale.type?s.scale.getRawOrdinalNumber(T.tickValue):T.tickValue,V=T.formattedLabel,H=T.rawLabel,re=l;if(_&&_[F]){var fe=_[F];Zi(fe)&&fe.textStyle&&(re=new Vi(fe.textStyle,l,e.ecModel))}var de=re.getTextColor()||e.get(["axisLine","lineStyle","color"]),Ee=s.dataToCoord(F),Ue=re.getShallow("align",!0)||m.textAlign,ze=en(re.getShallow("alignMinLabel",!0),Ue),nt=en(re.getShallow("alignMaxLabel",!0),Ue),gt=re.getShallow("verticalAlign",!0)||re.getShallow("baseline",!0)||m.textVerticalAlign,Vt=en(re.getShallow("verticalAlignMinLabel",!0),gt),$t=en(re.getShallow("verticalAlignMaxLabel",!0),gt),hi=new lo({x:Ee,y:n.labelOffset+n.labelDirection*d,rotation:m.rotation,silent:w,z2:10+(T.level||0),style:Ms(re,{text:V,align:0===I?ze:I===h.length-1?nt:Ue,verticalAlign:0===I?Vt:I===h.length-1?$t:gt,fill:Nt(de)?de("category"===s.type?H:"value"===s.type?F+"":F,I):de})});if(hi.anid="label_"+F,D){var gi=eb.makeAxisEventDataBase(e);gi.targetType="axisLabel",gi.value=H,gi.tickIndex=I,"category"===s.type&&(gi.dataIndex=F),dr(hi).eventData=gi}t.add(hi),hi.updateTransform(),C.push(hi),i.add(hi),hi.decomposeTransform()}),C}}(e,n,t,i);(function h3(i,t,e){if(!zC(i.axis)){var n=i.get(["axisLabel","showMinLabel"]),s=i.get(["axisLabel","showMaxLabel"]),a=(t=t||[])[0],l=t[1],d=t[t.length-1],h=t[t.length-2],f=(e=e||[])[0],m=e[1],_=e[e.length-1],C=e[e.length-2];!1===n?(up(a),up(f)):_L(a,l)&&(n?(up(l),up(m)):(up(a),up(f))),!1===s?(up(d),up(_)):_L(h,d)&&(s?(up(h),up(C)):(up(d),up(_)))}})(t,a,s),function f3(i,t,e,n){var s=e.axis,a=e.getModel("minorTick");if(a.get("show")&&!s.scale.isBlank()){var l=s.getMinorTicksCoords();if(l.length)for(var d=a.getModel("lineStyle"),h=n*a.get("length"),f=je(d.getLineStyle(),je(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),m=0;m<l.length;m++)for(var _=CL(l[m],t.transform,h,f,"minorticks_"+m),C=0;C<_.length;C++)i.add(_[C])}}(e,n,t,i.tickDirection),t.get(["axisLabel","hideOverlap"])&&Ki(He(ge(a,function(d){return{label:d,priority:d.z2,defaultAttr:{ignore:d.ignore}}})))},axisName:function(i,t,e,n){var s=ln(i.axisName,t.get("name"));if(s){var C,D,a=t.get("nameLocation"),l=i.nameDirection,d=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,f=t.axis.getExtent(),m=f[0]>f[1]?-1:1,_=["start"===a?f[0]-m*h:"end"===a?f[1]+m*h:(f[0]+f[1])/2,bL(a)?i.labelOffset+l*h:0],w=t.get("nameRotate");null!=w&&(w=w*ty/180),bL(a)?C=eb.innerTextLayout(i.rotation,w??i.rotation,l):(C=function u3(i,t,e,n){var a,l,s=Oh(e-i),d=n[0]>n[1],h="start"===t&&!d||"start"!==t&&d;return El(s-ty/2)?(l=h?"bottom":"top",a="center"):El(s-1.5*ty)?(l=h?"top":"bottom",a="center"):(l="middle",a=s<1.5*ty&&s>ty/2?h?"left":"right":h?"right":"left"),{rotation:s,textAlign:a,textVerticalAlign:l}}(i.rotation,a,w||0,f),null!=(D=i.axisNameAvailableWidth)&&(D=Math.abs(D/Math.sin(C.rotation)),!isFinite(D)&&(D=null)));var T=d.getFont(),I=t.get("nameTruncate",!0)||{},F=I.ellipsis,V=ln(i.nameTruncateMaxWidth,I.maxWidth,D),H=new lo({x:_[0],y:_[1],rotation:C.rotation,silent:eb.isLabelSilent(t),style:Ms(d,{text:s,font:T,overflow:"truncate",width:V,ellipsis:F,fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:d.get("align")||C.textAlign,verticalAlign:d.get("verticalAlign")||C.textVerticalAlign}),z2:1});if(Av({el:H,componentModel:t,itemName:s}),H.__fullText=s,H.anid="name",t.get("triggerEvent")){var re=eb.makeAxisEventDataBase(t);re.targetType="axisName",re.name=s,dr(H).eventData=re}n.add(H),H.updateTransform(),e.add(H),H.decomposeTransform()}}};function up(i){i&&(i.ignore=!0)}function _L(i,t){var e=i&&i.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(e&&n){var s=na([]);return xs(s,s,-i.rotation),e.applyTransform(ja([],s,i.getLocalTransform())),n.applyTransform(ja([],s,t.getLocalTransform())),e.intersect(n)}}function bL(i){return"middle"===i||"center"===i}function CL(i,t,e,n,s){for(var a=[],l=[],d=[],h=0;h<i.length;h++){var f=i[h].coord;l[0]=f,l[1]=0,d[0]=f,d[1]=e,t&&(mo(l,l,t),mo(d,d,t));var m=new Yl({shape:{x1:l[0],y1:l[1],x2:d[0],y2:d[1]},style:n,z2:2,autoBatch:!0,silent:!0});qp(m.shape,m.style.lineWidth),m.anid=s+"_"+i[h].tickValue,a.push(m)}return a}const _m=eb;function SI(i,t){return"all"===i||Me(i)&&Te(i,t)>=0||i===t}function DI(i){var t=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[MS(i)]}function EI(i){return!!i.get(["handle","show"])}function MS(i){return i.type+"||"+i.id}var wL={},x3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s,a){this.axisPointerClass&&function C3(i){var t=DI(i);if(t){var e=t.axisPointerModel,n=t.axis.scale,s=e.option,a=e.get("status"),l=e.get("value");null!=l&&(l=n.parse(l));var d=EI(e);null==a&&(s.status=d?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(null==l||l>h[1])&&(l=h[1]),l<h[0]&&(l=h[0]),s.value=l,d&&(s.status=t.axis.scale.isBlank()?"hide":"show")}}(e),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,s,!0)},t.prototype.updateAxisPointer=function(e,n,s,a){this._doUpdateAxisPointerClass(e,s,!1)},t.prototype.remove=function(e,n){var s=this._axisPointer;s&&s.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,s){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var l=function w3(i){var t=DI(i);return t&&t.axisPointerModel}(e);l?(this._axisPointer||(this._axisPointer=new a)).render(e,l,n,s):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){wL[e]=n},t.getAxisPointerClass=function(e){return e&&wL[e]},t.type="axis",t}(Ks);const tb=x3;var AI=Xe();function xL(i,t,e,n){var s=e.axis;if(!s.scale.isBlank()){var a=e.getModel("splitArea"),l=a.getModel("areaStyle"),d=l.get("color"),h=n.coordinateSystem.getRect(),f=s.getTicksCoords({tickModel:a,clamp:!0});if(f.length){var m=d.length,_=AI(i).splitAreaColors,C=Rn(),w=0;if(_)for(var D=0;D<f.length;D++){var T=_.get(f[D].tickValue);if(null!=T){w=(T+(m-1)*D)%m;break}}var I=s.toGlobalCoord(f[0].coord),F=l.getAreaStyle();for(d=Me(d)?d:[d],D=1;D<f.length;D++){var V=s.toGlobalCoord(f[D].coord),H=void 0,re=void 0,fe=void 0,de=void 0;s.isHorizontal()?(re=h.y,de=h.height,I=(H=I)+(fe=V-H)):(H=h.x,fe=h.width,I=(re=I)+(de=V-re));var Ee=f[D-1].tickValue;null!=Ee&&C.set(Ee,w),t.add(new kr({anid:null!=Ee?"area_"+Ee:null,shape:{x:H,y:re,width:fe,height:de},style:je({fill:d[w]},F),autoBatch:!0,silent:!0})),w=(w+1)%m}AI(i).splitAreaColors=C}}}function SL(i){AI(i).splitAreaColors=null}var S3=["axisLine","axisTickLabel","axisName"],D3=["splitArea","splitLine","minorSplitLine"],DL=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return P(t,i),t.prototype.render=function(e,n,s,a){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new zn,this.group.add(this._axisGroup),e.get("show")){var d=e.getCoordSysModel(),h=CI(d,e),f=new _m(e,Dt({handleAutoShown:function(_){for(var C=d.coordinateSystem.getCartesians(),w=0;w<C.length;w++)if(BC(C[w].getOtherAxis(e.axis).scale))return!0;return!1}},h));te(S3,f.add,f),this._axisGroup.add(f.getGroup()),te(D3,function(_){e.get([_,"show"])&&E3[_](this,this._axisGroup,e,d)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||Sv(l,this._axisGroup,e),i.prototype.render.call(this,e,n,s,a)}},t.prototype.remove=function(){SL(this)},t.type="cartesianAxis",t}(tb),E3={splitLine:function(i,t,e,n){var s=e.axis;if(!s.scale.isBlank()){var a=e.getModel("splitLine"),l=a.getModel("lineStyle"),d=l.get("color");d=Me(d)?d:[d];for(var h=n.coordinateSystem.getRect(),f=s.isHorizontal(),m=0,_=s.getTicksCoords({tickModel:a}),C=[],w=[],D=l.getLineStyle(),T=0;T<_.length;T++){var I=s.toGlobalCoord(_[T].coord);f?(C[0]=I,C[1]=h.y,w[0]=I,w[1]=h.y+h.height):(C[0]=h.x,C[1]=I,w[0]=h.x+h.width,w[1]=I);var F=m++%d.length,H=new Yl({anid:null!=_[T].tickValue?"line_"+_[T].tickValue:null,autoBatch:!0,shape:{x1:C[0],y1:C[1],x2:w[0],y2:w[1]},style:je({stroke:d[F]},D),silent:!0});qp(H.shape,D.lineWidth),t.add(H)}}},minorSplitLine:function(i,t,e,n){var s=e.axis,l=e.getModel("minorSplitLine").getModel("lineStyle"),d=n.coordinateSystem.getRect(),h=s.isHorizontal(),f=s.getMinorTicksCoords();if(f.length)for(var m=[],_=[],C=l.getLineStyle(),w=0;w<f.length;w++)for(var D=0;D<f[w].length;D++){var T=s.toGlobalCoord(f[w][D].coord);h?(m[0]=T,m[1]=d.y,_[0]=T,_[1]=d.y+d.height):(m[0]=d.x,m[1]=T,_[0]=d.x+d.width,_[1]=T);var I=new Yl({anid:"minor_line_"+f[w][D].tickValue,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:_[0],y2:_[1]},style:C,silent:!0});qp(I.shape,C.lineWidth),t.add(I)}},splitArea:function(i,t,e,n){xL(i,t,e,n)}},EL=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="xAxis",t}(DL),A3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=EL.type,e}return P(t,i),t.type="yAxis",t}(DL),T3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="grid",e}return P(t,i),t.prototype.render=function(e,n){this.group.removeAll(),e.get("show")&&this.group.add(new kr({shape:e.coordinateSystem.getRect(),style:je({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ks),AL={offset:0};function TL(i){i.registerComponentView(T3),i.registerComponentModel(Q5),i.registerCoordinateSystem("cartesian2d",d3),qC(i,"x",yI,AL),qC(i,"y",yI,AL),i.registerComponentView(EL),i.registerComponentView(A3),i.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function R3(i){i.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],s=t.coordinateSystem;if(s){var a=s.getIndicatorAxes();te(a,function(l,d){e.each(e.mapDimension(a[d].dim),function(h,f){n[f]=n[f]||[];var m=s.dataToPoint(h,d);n[f][d]=ML(m)?m:RL(s)})}),e.each(function(l){var d=zt(n[l],function(h){return ML(h)})||RL(s);n[l].push(d.slice()),e.setItemLayout(l,n[l])})}})}function ML(i){return!isNaN(i[0])&&!isNaN(i[1])}function RL(i){return[i.cx,i.cy]}function I3(i){var t=i.polar;if(t){Me(t)||(t=[t]);var e=[];te(t,function(n,s){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),i.radar=i.radar||[],Me(i.radar)||(i.radar=[i.radar]),i.radar.push(n)):e.push(n)}),i.polar=e}te(i.series,function(n){n&&"radar"===n.type&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var P3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.coordinateSystem,l=this.group,d=e.getData(),h=this._data;function f(C,w){var D=C.getItemVisual(w,"symbol")||"circle";if("none"!==D){var T=Fv(C.getItemVisual(w,"symbolSize")),I=Ma(D,-1,-1,2,2),F=C.getItemVisual(w,"symbolRotate")||0;return I.attr({style:{strokeNoScale:!0},z2:100,scaleX:T[0]/2,scaleY:T[1]/2,rotation:F*Math.PI/180||0}),I}}function m(C,w,D,T,I,F){D.removeAll();for(var V=0;V<w.length-1;V++){var H=f(T,I);H&&(H.__dimIdx=V,C[V]?(H.setPosition(C[V]),Ke[F?"initProps":"updateProps"](H,{x:w[V][0],y:w[V][1]},e,I)):H.setPosition(w[V]),D.add(H))}}function _(C){return ge(C,function(w){return[a.cx,a.cy]})}d.diff(h).add(function(C){var w=d.getItemLayout(C);if(w){var D=new td,T=new md,I={shape:{points:w}};D.shape.points=_(w),T.shape.points=_(w),as(D,I,e,C),as(T,I,e,C);var F=new zn,V=new zn;F.add(T),F.add(D),F.add(V),m(T.shape.points,w,V,d,C,!0),d.setItemGraphicEl(C,F)}}).update(function(C,w){var D=h.getItemGraphicEl(w),T=D.childAt(0),I=D.childAt(1),F=D.childAt(2),V={shape:{points:d.getItemLayout(C)}};V.shape.points&&(m(T.shape.points,V.shape.points,F,d,C,!1),Bd(I),Bd(T),wo(T,V,e),wo(I,V,e),d.setItemGraphicEl(C,D))}).remove(function(C){l.remove(h.getItemGraphicEl(C))}).execute(),d.eachItemGraphicEl(function(C,w){var D=d.getItemModel(w),T=C.childAt(0),I=C.childAt(1),F=C.childAt(2),V=d.getItemVisual(w,"style"),H=V.fill;l.add(C),T.useStyle(je(D.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:H})),el(T,D,"lineStyle"),el(I,D,"areaStyle");var re=D.getModel("areaStyle"),fe=re.isEmpty()&&re.parentModel.isEmpty();I.ignore=fe,te(["emphasis","select","blur"],function(Ue){var ze=D.getModel([Ue,"areaStyle"]),nt=ze.isEmpty()&&ze.parentModel.isEmpty();I.ensureState(Ue).ignore=nt&&fe}),I.useStyle(je(re.getAreaStyle(),{fill:H,opacity:.7,decal:V.decal}));var de=D.getModel("emphasis"),Ee=de.getModel("itemStyle").getItemStyle();F.eachChild(function(Ue){if(Ue instanceof hs){var ze=Ue.style;Ue.useStyle(Dt({image:ze.image,x:ze.x,y:ze.y,width:ze.width,height:ze.height},V))}else Ue.useStyle(V),Ue.setColor(H),Ue.style.strokeNoScale=!0;Ue.ensureState("emphasis").style=xe(Ee);var gt=d.getStore().get(d.getDimensionIndex(Ue.__dimIdx),w);(null==gt||isNaN(gt))&&(gt=""),Rl(Ue,za(D),{labelFetcher:d.hostModel,labelDataIndex:w,labelDimIndex:Ue.__dimIdx,defaultText:gt,inheritColor:H,defaultOpacity:V.opacity})}),ea(C,de.get("focus"),de.get("blurScope"),de.get("disabled"))}),this._data=d},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(fs);const k3=P3;var F3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return P(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new TS(at(this.getData,this),at(this.getRawData,this))},t.prototype.getInitialData=function(e,n){return ZC(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,n,s){var a=this.getData(),d=this.coordinateSystem.getIndicatorAxes(),h=this.getData().getName(e),f=""===h?this.name:h,m=Tw(this,e);return gl("section",{header:f,sortBlocks:!0,blocks:ge(d,function(_){var C=a.get(a.mapDimension(_.dim),e);return gl("nameValue",{markerType:"subItem",markerColor:m,name:_.name,value:C,sortParam:C})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var n=this.getData(),s=this.coordinateSystem,a=n.getValues(ge(s.dimensions,function(f){return n.mapDimension(f)}),e),l=0,d=a.length;l<d;l++)if(!isNaN(a[l])){var h=s.getIndicatorAxes();return s.coordToPoint(h[l].dataToCoord(a[l]),l)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Us);const O3=F3;var RS=dL.value;function mT(i,t){return je({show:t},i)}var L3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),n=this.get("splitNumber"),s=this.get("scale"),a=this.get("axisLine"),l=this.get("axisTick"),d=this.get("axisLabel"),h=this.get("axisName"),f=this.get(["axisName","show"]),m=this.get(["axisName","formatter"]),_=this.get("axisNameGap"),C=this.get("triggerEvent"),w=ge(this.get("indicator")||[],function(D){null!=D.max&&D.max>0&&!D.min?D.min=0:null!=D.min&&D.min<0&&!D.max&&(D.max=0);var T=h;null!=D.color&&(T=je({color:D.color},h));var I=Pt(xe(D),{boundaryGap:e,splitNumber:n,scale:s,axisLine:a,axisTick:l,axisLabel:d,name:D.text,showName:f,nameLocation:"end",nameGap:_,nameTextStyle:T,triggerEvent:C},!1);Ii(m)?I.name=m.replace("{value}",I.name??""):Nt(m)&&(I.name=m(I.name,I));var V=new Vi(I,null,this.ecModel);return Gt(V,z_.prototype),V.mainType="radar",V.componentIndex=this.componentIndex,V},this);this._indicatorModels=w},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Pt({lineStyle:{color:"#bbb"}},RS.axisLine),axisLabel:mT(RS.axisLabel,!1),axisTick:mT(RS.axisTick,!1),splitLine:mT(RS.splitLine,!0),splitArea:mT(RS.splitArea,!0),indicator:[]},t}(go);const N3=L3;var B3=["axisLine","axisTickLabel","axisName"],V3=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var n=e.coordinateSystem;te(ge(n.getIndicatorAxes(),function(l){var d=l.model.get("showName")?l.name:"";return new _m(l.model,{axisName:d,position:[n.cx,n.cy],rotation:l.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(l){te(B3,l.add,l),this.group.add(l.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var n=e.coordinateSystem,s=n.getIndicatorAxes();if(s.length){var a=e.get("shape"),l=e.getModel("splitLine"),d=e.getModel("splitArea"),h=l.getModel("lineStyle"),f=d.getModel("areaStyle"),m=l.get("show"),_=d.get("show"),C=h.get("color"),w=f.get("color"),D=Me(C)?C:[C],T=Me(w)?w:[w],I=[],F=[];if("circle"===a)for(var H=s[0].getTicksCoords(),re=n.cx,fe=n.cy,de=0;de<H.length;de++)m&&I[V(I,D,de)].push(new Zp({shape:{cx:re,cy:fe,r:H[de].coord}})),_&&de<H.length-1&&F[V(F,T,de)].push(new bv({shape:{cx:re,cy:fe,r0:H[de].coord,r:H[de+1].coord}}));else{var Ue,ze=ge(s,function(gi,Pi){var Yi=gi.getTicksCoords();return Ue=null==Ue?Yi.length-1:Math.min(Yi.length-1,Ue),ge(Yi,function(ji){return n.coordToPoint(ji.coord,Pi)})}),nt=[];for(de=0;de<=Ue;de++){for(var gt=[],Vt=0;Vt<s.length;Vt++)gt.push(ze[Vt][de]);gt[0]&&gt.push(gt[0].slice()),m&&I[V(I,D,de)].push(new md({shape:{points:gt}})),_&&nt&&F[V(F,T,de-1)].push(new td({shape:{points:gt.concat(nt)}})),nt=gt.slice().reverse()}}var $t=h.getLineStyle(),hi=f.getAreaStyle();te(F,function(gi,Pi){this.group.add(lu(gi,{style:je({stroke:"none",fill:T[Pi%T.length]},hi),silent:!0}))},this),te(I,function(gi,Pi){this.group.add(lu(gi,{style:je({fill:"none",stroke:D[Pi%D.length]},$t),silent:!0}))},this)}function V(gi,Pi,Yi){var ji=Yi%Pi.length;return gi[ji]=gi[ji]||[],ji}},t.type="radar",t}(Ks);const G3=V3;var H3=function(i){function t(e,n,s){var a=i.call(this,e,n,s)||this;return a.type="value",a.angle=0,a.name="",a}return P(t,i),t}(Qu);const U3=H3;var z3=function(){function i(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=ge(t.getIndicatorModels(),function(s,a){var l="indicator_"+a,d=new U3(l,new ap);return d.name=s.get("name"),d.model=s,s.axis=d,this.dimensions.push(l),d},this),this.resize(t,n)}return i.prototype.getIndicatorAxes=function(){return this._indicatorAxes},i.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},i.prototype.coordToPoint=function(t,e){var s=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(s),this.cy-t*Math.sin(s)]},i.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,s=Math.sqrt(e*e+n*n);e/=s,n/=s;for(var d,a=Math.atan2(-n,e),l=1/0,h=-1,f=0;f<this._indicatorAxes.length;f++){var m=this._indicatorAxes[f],_=Math.abs(a-m.angle);_<l&&(d=m,h=f,l=_)}return[h,+(d&&d.coordToData(s))]},i.prototype.resize=function(t,e){var n=t.get("center"),s=e.getWidth(),a=e.getHeight(),l=Math.min(s,a)/2;this.cx=kn(n[0],s),this.cy=kn(n[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var d=t.get("radius");(Ii(d)||Di(d))&&(d=[0,d]),this.r0=kn(d[0],l),this.r=kn(d[1],l),te(this._indicatorAxes,function(h,f){h.setExtent(this.r0,this.r);var m=this.startAngle+f*Math.PI*2/this._indicatorAxes.length;m=Math.atan2(Math.sin(m),Math.cos(m)),h.angle=m},this)},i.prototype.update=function(t,e){var n=this._indicatorAxes,s=this._model;te(n,function(d){d.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(d,h){if("radar"===d.get("coordinateSystem")&&t.getComponent("radar",d.get("radarIndex"))===s){var f=d.getData();te(n,function(m){m.scale.unionExtentFromData(f,f.mapDimension(m.dim))})}},this);var a=s.get("splitNumber"),l=new ap;l.setExtent(0,a),l.setInterval(1),te(n,function(d,h){gL(d.scale,d.model,l)})},i.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.create=function(t,e){var n=[];return t.eachComponent("radar",function(s){var a=new i(s,t,e);n.push(a),s.coordinateSystem=a}),t.eachSeriesByType("radar",function(s){"radar"===s.get("coordinateSystem")&&(s.coordinateSystem=n[s.get("radarIndex")||0])}),n},i.dimensions=[],i}();const W3=z3;function j3(i){i.registerCoordinateSystem("radar",W3),i.registerComponentModel(N3),i.registerComponentView(G3),i.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(n){e.setItemVisual(n,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var IL="\0_ec_interaction_mutex";function PL(i,t){return!!TI(i)[t]}function TI(i){return i[IL]||(i[IL]={})}uu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},dt);var Y3=function(i){function t(e){var n=i.call(this)||this;n._zr=e;var s=at(n._mousedownHandler,n),a=at(n._mousemoveHandler,n),l=at(n._mouseupHandler,n),d=at(n._mousewheelHandler,n),h=at(n._pinchHandler,n);return n.enable=function(f,m){this.disable(),this._opt=je(xe(m)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==f&&(f=!0),(!0===f||"move"===f||"pan"===f)&&(e.on("mousedown",s),e.on("mousemove",a),e.on("mouseup",l)),(!0===f||"scale"===f||"zoom"===f)&&(e.on("mousewheel",d),e.on("pinch",h))},n.disable=function(){e.off("mousedown",s),e.off("mousemove",a),e.off("mouseup",l),e.off("mousewheel",d),e.off("pinch",h)},n}return P(t,i),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!De(e)){for(var n=e.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var s=e.offsetX,a=e.offsetY;this.pointerChecker&&this.pointerChecker(e,s,a)&&(this._x=s,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&vT("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!PL(this._zr,"globalPan")){var n=e.offsetX,s=e.offsetY,a=this._x,l=this._y,d=n-a,h=s-l;this._x=n,this._y=s,this._opt.preventDefaultMouseMove&&ot(e.event),kL(this,"pan","moveOnMouseMove",e,{dx:d,dy:h,oldX:a,oldY:l,newX:n,newY:s,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){De(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var n=vT("zoomOnMouseWheel",e,this._opt),s=vT("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,l=Math.abs(a),d=e.offsetX,h=e.offsetY;if(0!==a&&(n||s)){if(n){var f=l>3?1.4:l>1?1.2:1.1;MI(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?f:1/f,originX:d,originY:h,isAvailableBehavior:null})}if(s){var _=Math.abs(a);MI(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(_>3?.4:_>1?.15:.05),originX:d,originY:h,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){PL(this._zr,"globalPan")||MI(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(ns);function MI(i,t,e,n,s){i.pointerChecker&&i.pointerChecker(n,s.originX,s.originY)&&(ot(n.event),kL(i,t,e,n,s))}function kL(i,t,e,n,s){s.isAvailableBehavior=at(vT,null,e,n),i.trigger(t,s)}function vT(i,t,e){var n=e[i];return!i||n&&(!Ii(n)||t.event[n+"Key"])}const IS=Y3;function RI(i,t,e){var n=i.target;n.x+=t,n.y+=e,n.dirty()}function II(i,t,e,n){var s=i.target,a=i.zoomLimit,l=i.zoom=i.zoom||1;if(l*=t,a){var d=a.min||0;l=Math.max(Math.min(a.max||1/0,l),d)}var f=l/i.zoom;i.zoom=l,s.x-=(e-s.x)*(f-1),s.y-=(n-s.y)*(f-1),s.scaleX*=f,s.scaleY*=f,s.dirty()}var Q3={axisPointer:1,tooltip:1,brush:1};function yT(i,t,e){var n=t.getComponentByElement(i.topTarget),s=n&&n.coordinateSystem;return n&&n!==e&&!Q3.hasOwnProperty(n.mainType)&&s&&s.model!==e}function FL(i){Ii(i)&&(i=(new DOMParser).parseFromString(i,"text/xml"));var e=i;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var PI,_T={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},OL=Ri(_T),bT={"alignment-baseline":"textBaseline","stop-color":"stopColor"},LL=Ri(bT),Z3=function(){function i(){this._defs={},this._root=null}return i.prototype.parse=function(t,e){e=e||{};var n=FL(t);this._defsUsePending=[];var s=new zn;this._root=s;var m,_,a=[],l=n.getAttribute("viewBox")||"",d=parseFloat(n.getAttribute("width")||e.width),h=parseFloat(n.getAttribute("height")||e.height);isNaN(d)&&(d=null),isNaN(h)&&(h=null),xh(n,s,null,!0,!1);for(var f=n.firstChild;f;)this._parseNode(f,s,a,null,!1,!1),f=f.nextSibling;if(function e4(i,t){for(var e=0;e<t.length;e++){var n=t[e];n[0].style[n[1]]=i[n[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],l){var C=CT(l);C.length>=4&&(m={x:parseFloat(C[0]||0),y:parseFloat(C[1]||0),width:parseFloat(C[2]),height:parseFloat(C[3])})}if(m&&null!=d&&null!=h&&(_=WL(m,{x:0,y:0,width:d,height:h}),!e.ignoreViewBox)){var w=s;(s=new zn).add(w),w.scaleX=w.scaleY=_.scale,w.x=_.x,w.y=_.y}return!e.ignoreRootClip&&null!=d&&null!=h&&s.setClipPath(new kr({shape:{x:0,y:0,width:d,height:h}})),{root:s,width:d,height:h,viewBoxRect:m,viewBoxTransform:_,named:a}},i.prototype._parseNode=function(t,e,n,s,a,l){var h,d=t.nodeName.toLowerCase(),f=s;if("defs"===d&&(a=!0),"text"===d&&(l=!0),"defs"===d||"switch"===d)h=e;else{if(!a){var m=PI[d];if(m&&oe(PI,d)){h=m.call(this,t,e);var _=t.getAttribute("name");if(_){var C={name:_,namedFrom:null,svgNodeTagLower:d,el:h};n.push(C),"g"===d&&(f=C)}else s&&n.push({name:s.name,namedFrom:s,svgNodeTagLower:d,el:h});e.add(h)}}var w=NL[d];if(w&&oe(NL,d)){var D=w.call(this,t),T=t.getAttribute("id");T&&(this._defs[T]=D)}}if(h&&h.isGroup)for(var I=t.firstChild;I;)1===I.nodeType?this._parseNode(I,h,n,f,a,l):3===I.nodeType&&l&&this._parseText(I,h),I=I.nextSibling},i.prototype._parseText=function(t,e){var n=new Hm({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});hp(e,n),xh(t,n,this._defsUsePending,!1,!1),function q3(i,t){var e=t.__selfStyle;if(e){var n=e.textBaseline,s=n;n&&"auto"!==n&&"baseline"!==n?"before-edge"===n||"text-before-edge"===n?s="top":"after-edge"===n||"text-after-edge"===n?s="bottom":("central"===n||"mathematical"===n)&&(s="middle"):s="alphabetic",i.style.textBaseline=s}var a=t.__inheritedStyle;if(a){var l=a.textAlign,d=l;l&&("middle"===l&&(d="center"),i.style.textAlign=d)}}(n,e);var s=n.style,a=s.fontSize;a&&a<9&&(s.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var l=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=l;var d=n.getBoundingRect();return this._textX+=d.width,e.add(n),n},i.internalField=void(PI={g:function(t,e){var n=new zn;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n},rect:function(t,e){var n=new kr;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,e){var n=new Zp;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,e){var n=new Yl;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,e){var n=new sC;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,e){var s,n=t.getAttribute("points");n&&(s=GL(n));var a=new td({shape:{points:s||[]},silent:!0});return hp(e,a),xh(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var s,n=t.getAttribute("points");n&&(s=GL(n));var a=new md({shape:{points:s||[]},silent:!0});return hp(e,a),xh(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var n=new hs;return hp(e,n),xh(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,e){var n=t.getAttribute("x")||"0",s=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",l=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(s)+parseFloat(l);var d=new zn;return hp(e,d),xh(t,d,this._defsUsePending,!1,!0),d},tspan:function(t,e){var n=t.getAttribute("x"),s=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=s&&(this._textY=parseFloat(s));var a=t.getAttribute("dx")||"0",l=t.getAttribute("dy")||"0",d=new zn;return hp(e,d),xh(t,d,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(l),d},path:function(t,e){var s=Vw(t.getAttribute("d")||"");return hp(e,s),xh(t,s,this._defsUsePending,!1,!1),s.silent=!0,s}}),i}(),NL={lineargradient:function(i){var t=parseInt(i.getAttribute("x1")||"0",10),e=parseInt(i.getAttribute("y1")||"0",10),n=parseInt(i.getAttribute("x2")||"10",10),s=parseInt(i.getAttribute("y2")||"0",10),a=new am(t,e,n,s);return BL(i,a),VL(i,a),a},radialgradient:function(i){var t=parseInt(i.getAttribute("cx")||"0",10),e=parseInt(i.getAttribute("cy")||"0",10),n=parseInt(i.getAttribute("r")||"0",10),s=new dC(t,e,n);return BL(i,s),VL(i,s),s}};function BL(i,t){"userSpaceOnUse"===i.getAttribute("gradientUnits")&&(t.global=!0)}function VL(i,t){for(var e=i.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var s,n=e.getAttribute("offset");s=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var a={};zL(e,a,a);var l=a.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:s,color:l})}e=e.nextSibling}}function hp(i,t){i&&i.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),je(t.__inheritedStyle,i.__inheritedStyle))}function GL(i){for(var t=CT(i),e=[],n=0;n<t.length;n+=2){var s=parseFloat(t[n]),a=parseFloat(t[n+1]);e.push([s,a])}return e}function xh(i,t,e,n,s){var a=t,l=a.__inheritedStyle=a.__inheritedStyle||{},d={};1===i.nodeType&&(function r4(i,t){var e=i.getAttribute("transform");if(e){e=e.replace(/,/g," ");var n=[],s=null;e.replace(n4,function(_,C,w){return n.push(C,w),""});for(var a=n.length-1;a>0;a-=2){var d=n[a-1],h=CT(n[a]);switch(s=s||[1,0,0,1,0,0],d){case"translate":ol(s,s,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":Zl(s,s,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":xs(s,s,-parseFloat(h[0])*kI,[parseFloat(h[1]||"0"),parseFloat(h[2]||"0")]);break;case"skewX":ja(s,[1,0,Math.tan(parseFloat(h[0])*kI),1,0,0],s);break;case"skewY":ja(s,[1,Math.tan(parseFloat(h[0])*kI),0,1,0,0],s);break;case"matrix":s[0]=parseFloat(h[0]),s[1]=parseFloat(h[1]),s[2]=parseFloat(h[2]),s[3]=parseFloat(h[3]),s[4]=parseFloat(h[4]),s[5]=parseFloat(h[5])}}t.setLocalTransform(s)}}(i,t),zL(i,l,d),n||function o4(i,t,e){for(var n=0;n<OL.length;n++)null!=(a=i.getAttribute(s=OL[n]))&&(t[_T[s]]=a);for(n=0;n<LL.length;n++){var s,a;null!=(a=i.getAttribute(s=LL[n]))&&(e[bT[s]]=a)}}(i,l,d)),a.style=a.style||{},null!=l.fill&&(a.style.fill=HL(a,"fill",l.fill,e)),null!=l.stroke&&(a.style.stroke=HL(a,"stroke",l.stroke,e)),te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=l[h]&&(a.style[h]=parseFloat(l[h]))}),te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){null!=l[h]&&(a.style[h]=l[h])}),s&&(a.__selfStyle=d),l.lineDash&&(a.style.lineDash=ge(CT(l.lineDash),function(h){return parseFloat(h)})),("hidden"===l.visibility||"collapse"===l.visibility)&&(a.invisible=!0),"none"===l.display&&(a.ignore=!0)}var J3=/^url\(\s*#(.*?)\)/;function HL(i,t,e,n){var s=e&&e.match(J3);if(!s)return"none"===e&&(e=null),e;var a=uo(s[1]);n.push([i,t,a])}var t4=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function CT(i){return i.match(t4)||[]}var n4=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,kI=Math.PI/180,UL=/([^\s:;]+)\s*:\s*([^:;]+)/g;function zL(i,t,e){var n=i.getAttribute("style");if(n){UL.lastIndex=0;for(var s;null!=(s=UL.exec(n));){var a=s[1],l=oe(_T,a)?_T[a]:null;l&&(t[l]=s[2]);var d=oe(bT,a)?bT[a]:null;d&&(e[d]=s[2])}}}function WL(i,t){var s=Math.min(t.width/i.width,t.height/i.height);return{scale:s,x:-(i.x+i.width/2)*s+(t.x+t.width/2),y:-(i.y+i.height/2)*s+(t.y+t.height/2)}}for(var a4=Rn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),l4=function(){function i(t,e){this.type="geoSVG",this._usedGraphicMap=Rn(),this._freedGraphics=[],this._mapName=t,this._parsedXML=FL(e)}return i.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function d4(i){var t=[],e=Rn();return te(i,function(n){if(null==n.namedFrom){var s=new gS(n.name,n.el);t.push(s),e.set(n.name,s)}}),{regions:t,regionsMap:e}}(t.named),s=e.regionsMap;this._regions=e.regions,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},i.prototype._buildGraphic=function(t){var e,n;try{e=t&&function s4(i,t){return(new Z3).parse(i,t)}(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},mr(null!=(n=e.root))}catch(I){throw new Error("Invalid svg format\n"+I.message)}var s=new zn;s.add(n),s.isGeoSVGGraphicRoot=!0;var a=e.width,l=e.height,d=e.viewBoxRect,h=this._boundingRect;if(!h){var f=void 0,m=void 0,_=void 0,C=void 0;if(null!=a?(f=0,_=a):d&&(f=d.x,_=d.width),null!=l?(m=0,C=l):d&&(m=d.y,C=d.height),null==f||null==m){var w=n.getBoundingRect();null==f&&(f=w.x,_=w.width),null==m&&(m=w.y,C=w.height)}h=this._boundingRect=new Qn(f,m,_,C)}if(d){var D=WL(d,h);n.scaleX=n.scaleY=D.scale,n.x=D.x,n.y=D.y}s.setClipPath(new kr({shape:h.plain()}));var T=[];return te(e.named,function(I){null!=a4.get(I.svgNodeTagLower)&&(T.push(I),function c4(i){i.silent=!1,i.isGroup&&i.traverse(function(t){t.silent=!1})}(I.el))}),{root:s,boundingRect:h,named:T}},i.prototype.useGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,n),n)},i.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,n=e.get(t);n&&(e.removeKey(t),this._freedGraphics.push(n))},i}(),FI=[126,25],ib=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],nb=0;nb<ib.length;nb++)for(var JC=0;JC<ib[nb].length;JC++)ib[nb][JC][0]/=10.5,ib[nb][JC][1]/=-14,ib[nb][JC][0]+=FI[0],ib[nb][JC][1]+=FI[1];var h4={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},f4=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],v4=function(){function i(t,e,n){this.type="geoJSON",this._parsedMap=Rn(),this._mapName=t,this._specialAreas=n,this._geoJSON=function _4(i){return Ii(i)?typeof JSON<"u"&&JSON.parse?JSON.parse(i):new Function("return ("+i+");")():i}(e)}return i.prototype.load=function(t,e){var n=this._parsedMap.get(e=e||"name");if(!n){var s=this._parseToRegions(e);n=this._parsedMap.set(e,{regions:s,boundingRect:y4(s)})}var a=Rn(),l=[];return te(n.regions,function(d){var h=d.name;t&&oe(t,h)&&(d=d.cloneShallow(h=t[h])),l.push(d),a.set(h,d)}),{regions:l,boundingRect:n.boundingRect||new Qn(0,0,0,0),regionsMap:a}},i.prototype._parseToRegions=function(t){var s,e=this._mapName,n=this._geoJSON;try{s=n?KA(n,t):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function u4(i,t){if("china"===i){for(var e=0;e<t.length;e++)if("\u5357\u6d77\u8bf8\u5c9b"===t[e].name)return;t.push(new fS("\u5357\u6d77\u8bf8\u5c9b",ge(ib,function(n){return{type:"polygon",exterior:n}}),FI))}}(e,s),te(s,function(a){var l=a.name;(function p4(i,t){if("china"===i){var e=h4[t.name];if(e){var n=t.getCenter();n[0]+=e[0]/10.5,n[1]+=-e[1]/14,t.setCenter(n)}}})(e,a),function g4(i,t){"china"===i&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:f4[0]})}(e,a);var d=this._specialAreas&&this._specialAreas[l];d&&a.transformTo(d.left,d.top,d.width,d.height)},this),s},i.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},i}();function y4(i){for(var t,e=0;e<i.length;e++){var n=i[e].getBoundingRect();(t=t||n.clone()).union(n)}return t}var PS=Rn();const bm={registerMap:function(i,t,e){if(t.svg){var n=new l4(i,t.svg);PS.set(i,n)}else{var s=t.geoJson||t.geoJSON;s&&!t.features?e=t.specialAreas:s=t,n=new v4(i,s,e),PS.set(i,n)}},getGeoResource:function(i){return PS.get(i)},getMapForUser:function(i){var t=PS.get(i);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(i,t,e){var n=PS.get(i);if(n)return n.load(t,e)}};var OI=["rect","circle","line","ellipse","polygon","polyline","path"],b4=Rn(OI),C4=Rn(OI.concat(["g"])),w4=Rn(OI.concat(["g"])),$L=Xe();function wT(i){var t=i.getItemStyle(),e=i.get("areaColor");return null!=e&&(t.fill=e),t}function KL(i){var t=i.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var x4=function(){function i(t){var e=new zn;this.uid=cn("ec_map_draw"),this._controller=new IS(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new zn),e.add(this._svgGroup=new zn)}return i.prototype.draw=function(t,e,n,s,a){var l="geo"===t.mainType,d=t.getData&&t.getData();l&&e.eachComponent({mainType:"series",subType:"map"},function(F){!d&&F.getHostGeoModel()===t&&(d=F.getData())});var h=t.coordinateSystem,f=this._regionsGroup,m=this.group,_=h.getTransformInfo(),C=_.raw,w=_.roam;!f.childAt(0)||a?(m.x=w.x,m.y=w.y,m.scaleX=w.scaleX,m.scaleY=w.scaleY,m.dirty()):wo(m,w,t);var T=d&&d.getVisual("visualMeta")&&d.getVisual("visualMeta").length>0,I={api:n,geo:h,mapOrGeoModel:t,data:d,isVisualEncodedByVisualMap:T,isGeo:l,transformInfoRaw:C};"geoJSON"===h.resourceType?this._buildGeoJSON(I):"geoSVG"===h.resourceType&&this._buildSVG(I),this._updateController(t,e,n),this._updateMapSelectHandler(t,f,n,s)},i.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=Rn(),n=Rn(),s=this._regionsGroup,a=t.transformInfoRaw,l=t.mapOrGeoModel,d=t.data,h=t.geo.projection,f=h&&h.stream;function m(w,D){return D&&(w=D(w)),w&&[w[0]*a.scaleX+a.x,w[1]*a.scaleY+a.y]}function _(w){for(var D=[],T=!f&&h&&h.project,I=0;I<w.length;++I){var F=m(w[I],T);F&&D.push(F)}return D}function C(w){return{shape:{points:_(w)}}}s.removeAll(),te(t.geo.regions,function(w){var D=w.name,T=e.get(D),I=n.get(D)||{},F=I.dataIdx,V=I.regionModel;T||(T=e.set(D,new zn),s.add(T),F=d?d.indexOfName(D):null,V=t.isGeo?l.getRegionModel(D):d?d.getItemModel(F):null,n.set(D,{dataIdx:F,regionModel:V}));var H=[],re=[];te(w.geometries,function(Ee){if("polygon"===Ee.type){var Ue=[Ee.exterior].concat(Ee.interiors||[]);f&&(Ue=JL(Ue,f)),te(Ue,function(nt){H.push(new td(C(nt)))})}else{var ze=Ee.points;f&&(ze=JL(ze,f,!0)),te(ze,function(nt){re.push(new md(C(nt)))})}});var fe=m(w.getCenter(),h&&h.project);function de(Ee,Ue){if(Ee.length){var ze=new cC({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Ee}});T.add(ze),XL(t,ze,F,V),YL(t,ze,D,V,l,F,fe),Ue&&(KL(ze),te(ze.states,KL))}}de(H),de(re,!0)}),e.each(function(w,D){var T=n.get(D),F=T.regionModel;QL(t,w,D,F,l,T.dataIdx),ZL(t,w,D,F,l),qL(t,w,D,F,l)},this)},i.prototype._buildSVG=function(t){var e=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var s=this._svgDispatcherMap=Rn(),a=!1;te(this._svgGraphicRecord.named,function(l){var d=l.name,h=t.mapOrGeoModel,f=t.data,m=l.svgNodeTagLower,_=l.el,C=f?f.indexOfName(d):null,w=h.getRegionModel(d);null!=b4.get(m)&&_ instanceof cd&&XL(t,_,C,w),_ instanceof cd&&(_.culling=!0),_.z2EmphasisLift=0,l.namedFrom||(null!=w4.get(m)&&YL(t,_,d,w,h,C,null),QL(t,_,d,w,h,C),ZL(t,_,d,w,h),null==C4.get(m))||("self"===qL(t,_,d,w,h)&&(a=!0),(s.get(d)||s.set(d,[])).push(_))},this),this._enableBlurEntireSVG(a,t)},i.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var s=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){dc(a);var l=a.ensureState("blur").style||{};null==l.opacity&&null!=s&&(l.opacity=s),a.ensureState("emphasis")}})}},i.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},i.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var n=e.coordinateSystem;if("geoJSON"===n.resourceType){var s=this._regionsGroupByName;if(s){var a=s.get(t);return a?[a]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},i.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},i.prototype._useSVG=function(t){var e=bm.getGeoResource(t);if(e&&"geoSVG"===e.type){var n=e.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},i.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=bm.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},i.prototype._updateController=function(t,e,n){var s=t.coordinateSystem,a=this._controller,l=this._controllerHost;l.zoomLimit=t.get("scaleLimit"),l.zoom=s.getZoom(),a.enable(t.get("roam")||!1);var d=t.mainType;function h(){var f={type:"geoRoam",componentType:d};return f[d+"Id"]=t.id,f}a.off("pan").on("pan",function(f){this._mouseDownFlag=!1,RI(l,f.dx,f.dy),n.dispatchAction(Dt(h(),{dx:f.dx,dy:f.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(f){this._mouseDownFlag=!1,II(l,f.scale,f.originX,f.originY),n.dispatchAction(Dt(h(),{totalZoom:l.zoom,zoom:f.scale,originX:f.originX,originY:f.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(f,m,_){return s.containPoint([m,_])&&!yT(f,n,t)})},i.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=$L(e).ignore)})},i.prototype._updateMapSelectHandler=function(t,e,n,s){var a=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){a._mouseDownFlag=!0}),e.on("click",function(l){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},i}();function XL(i,t,e,n){var s=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),l=n.getModel(["blur","itemStyle"]),d=n.getModel(["select","itemStyle"]),h=wT(s),f=wT(a),m=wT(d),_=wT(l),C=i.data;if(C){var w=C.getItemVisual(e,"style"),D=C.getItemVisual(e,"decal");i.isVisualEncodedByVisualMap&&w.fill&&(h.fill=w.fill),D&&(h.decal=um(D,i.api))}t.setStyle(h),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=f,t.ensureState("select").style=m,t.ensureState("blur").style=_,dc(t)}function YL(i,t,e,n,s,a,l){var d=i.data,h=i.isGeo,f=d&&isNaN(d.get(d.mapDimension("value"),a)),m=d&&d.getItemLayout(a);if(h||f||m&&m.showLabel){var _=h?e:a,C=void 0;(!d||a>=0)&&(C=s);var w=l?{normal:{align:"center",verticalAlign:"middle"}}:null;Rl(t,za(n),{labelFetcher:C,labelDataIndex:_,defaultText:e},w);var D=t.getTextContent();if(D&&($L(D).ignore=D.ignore,t.textConfig&&l)){var T=t.getBoundingRect().clone();t.textConfig.layoutRect=T,t.textConfig.position=[(l[0]-T.x)/T.width*100+"%",(l[1]-T.y)/T.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function QL(i,t,e,n,s,a){i.data?i.data.setItemGraphicEl(a,t):dr(t).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:e,region:n&&n.option||{}}}function ZL(i,t,e,n,s){i.data||Av({el:t,componentModel:s,itemName:e,itemTooltipOption:n.get("tooltip")})}function qL(i,t,e,n,s){t.highDownSilentOnTouch=!!s.get("selectedMode");var a=n.getModel("emphasis"),l=a.get("focus");return ea(t,l,a.get("blurScope"),a.get("disabled")),i.isGeo&&function Rb(i,t,e){var n=dr(i);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=e}(t,s,e),l}function JL(i,t,e){var s,n=[];function a(){s=[]}function l(){s.length&&(n.push(s),s=[])}var d=t({polygonStart:a,polygonEnd:l,lineStart:a,lineEnd:l,point:function(h,f){isFinite(h)&&isFinite(f)&&s.push([h,f])},sphere:function(){}});return!e&&d.polygonStart(),te(i,function(h){d.lineStart();for(var f=0;f<h.length;f++)d.point(h[f][0],h[f][1]);d.lineEnd()}),!e&&d.polygonEnd(),n}const eN=x4;var S4=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var l=this.group;if(l.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===e.id)(d=this._mapDraw)&&l.add(d.group);else if(e.needsDrawMap){var d=this._mapDraw||new eN(s);l.add(d.group),d.draw(e,n,s,this,a),this._mapDraw=d}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(e,n,s)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,n,s){var a=e.originalData,l=this.group;a.each(a.mapDimension("value"),function(d,h){if(!isNaN(d)){var f=a.getItemLayout(h);if(f&&f.point){var m=f.point,_=f.offset,C=new Zp({style:{fill:e.getData().getVisual("style").fill},shape:{cx:m[0]+9*_,cy:m[1],r:3},silent:!0,z2:8+(_?0:Od+1)});if(!_){var w=e.mainSeries.getData(),D=a.getName(h),T=w.indexOfName(D),I=a.getItemModel(h),F=I.getModel("label"),V=w.getItemGraphicEl(T);Rl(C,za(I),{labelFetcher:{getFormattedLabel:function(H,re){return e.getFormattedLabel(T,re)}},defaultText:D}),C.disableLabelAnimation=!0,F.get("position")||C.setTextConfig({position:"bottom"}),V.onHoverStateChange=function(H){If(C,H)}}l.add(C)}}})},t.type="map",t}(fs);const D4=S4;var E4=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(n){if(null!=n){var s=this.getData().getName(n),a=this.coordinateSystem,l=a.getRegion(s);return l&&a.dataToPoint(l.getCenter())}},e}return P(t,i),t.prototype.getInitialData=function(e){for(var n=ZC(this,{coordDimensions:["value"],encodeDefaulter:Se(X0,this)}),s=Rn(),a=[],l=0,d=n.count();l<d;l++){var h=n.getName(l);s.set(h,!0)}return te(bm.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(m){var _=m.name;s.get(_)||a.push(_)}),n.appendValues([],a),n},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var n=this.getData();return n.get(n.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var n=this.getData();return n.getItemModel(n.indexOfName(e))},t.prototype.formatTooltip=function(e,n,s){for(var a=this.getData(),l=this.getRawValue(e),d=a.getName(e),h=this.seriesGroup,f=[],m=0;m<h.length;m++){var _=h[m].originalData.indexOfName(d),C=a.mapDimension("value");isNaN(h[m].originalData.get(C,_))||f.push(h[m].name)}return gl("section",{header:f.join(", "),noHeader:!f.length,blocks:[gl("nameValue",{name:d,value:l})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var n=e.icon||"roundRect",s=Ma(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return s.setStyle(e.itemStyle),s.style.stroke="none",n.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Us);const A4=E4;function M4(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getHostGeoModel(),s=n?"o"+n.id:"i"+e.getMapType();(t[s]=t[s]||[]).push(e)}),te(t,function(e,n){for(var s=function T4(i,t){var e={};return te(i,function(n){n.each(n.mapDimension("value"),function(s,a){var l="ec-"+n.getName(a);e[l]=e[l]||[],isNaN(s)||e[l].push(s)})}),i[0].map(i[0].mapDimension("value"),function(n,s){for(var a="ec-"+i[0].getName(s),l=0,d=1/0,h=-1/0,f=e[a].length,m=0;m<f;m++)d=Math.min(d,e[a][m]),h=Math.max(h,e[a][m]),l+=e[a][m];return 0===f?NaN:"min"===t?d:"max"===t?h:"average"===t?l/f:l})}(ge(e,function(l){return l.getData()}),e[0].get("mapValueCalculation")),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(s.cloneShallow()),e[a].mainSeries=e[0]})}function R4(i){var t={};i.eachSeriesByType("map",function(e){var n=e.getMapType();if(!e.getHostGeoModel()&&!t[n]){var s={};te(e.seriesGroup,function(l){var d=l.coordinateSystem,h=l.originalData;l.get("showLegendSymbol")&&i.getComponent("legend")&&h.each(h.mapDimension("value"),function(f,m){var _=h.getName(m),C=d.getRegion(_);if(C&&!isNaN(f)){var w=s[_]||0,D=d.dataToPoint(C.getCenter());s[_]=w+1,h.setItemLayout(m,{point:D,offset:w})}})});var a=e.getData();a.each(function(l){var d=a.getName(l),h=a.getItemLayout(l)||{};h.showLabel=!s[d],a.setItemLayout(l,h)}),t[n]=!0}})}var tN=mo,I4=function(i){function t(e){var n=i.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new ic,n._rawTransformable=new ic,n.name=e,n}return P(t,i),t.prototype.setBoundingRect=function(e,n,s,a){return this._rect=new Qn(e,n,s,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,n,s,a){this._transformTo(e,n,s,a),this._viewRect=new Qn(e,n,s,a)},t.prototype._transformTo=function(e,n,s,a){var l=this.getBoundingRect(),d=this._rawTransformable;d.transform=l.calculateTransform(new Qn(e,n,s,a));var h=d.parent;d.parent=null,d.decomposeTransform(),d.parent=h,this._updateTransform()},t.prototype.setCenter=function(e,n){e&&(this._center=[kn(e[0],n.getWidth()),kn(e[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var n=this.zoomLimit;n&&(null!=n.max&&(e=Math.min(n.max,e)),null!=n.min&&(e=Math.max(n.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,s=this.getDefaultCenter(),a=this.getCenter(),l=this.getZoom();a=mo([],a,e),s=mo([],s,e),n.originX=a[0],n.originY=a[1],n.x=s[0]-a[0],n.y=s[1]-a[1],n.scaleX=n.scaleY=l,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,n=this._rawTransformable;n.parent=e,e.updateTransform(),n.updateTransform(),Ql(this.transform||(this.transform=[]),n.transform||[1,0,0,1,0,0]),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],Ea(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,n=this._roamTransformable,s=new ic;return s.transform=n.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,n,s){var a=n?this._rawTransform:this.transform;return s=s||[],a?tN(s,e,a):fr(s,e)},t.prototype.pointToData=function(e){var n=this.invTransform;return n?tN([],e,n):[e[0],e[1]]},t.prototype.convertToPixel=function(e,n,s){var a=iN(n);return a===this?a.dataToPoint(s):null},t.prototype.convertFromPixel=function(e,n,s){var a=iN(n);return a===this?a.pointToData(s):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(ic);function iN(i){var t=i.seriesModel;return t?t.coordinateSystem:null}const kS=I4;var P4={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},nN=["lng","lat"],rN=function(i){function t(e,n,s){var a=i.call(this,e)||this;a.dimensions=nN,a.type="geo",a._nameCoordMap=Rn(),a.map=n;var C,l=s.projection,d=bm.load(n,s.nameMap,s.nameProperty),h=bm.getGeoResource(n),m=(a.resourceType=h?h.type:null,a.regions=d.regions),_=P4[h.type];if(a._regionsMap=d.regionsMap,a.regions=d.regions,a.projection=l,l)for(var w=0;w<m.length;w++){var D=m[w].getBoundingRect(l);(C=C||D.clone()).union(D)}else C=d.boundingRect;return a.setBoundingRect(C.x,C.y,C.width,C.height),a.aspectScale=l?1:en(s.aspectScale,_.aspectScale),a._invertLongitute=!l&&_.invertLongitute,a}return P(t,i),t.prototype._transformTo=function(e,n,s,a){var l=this.getBoundingRect(),d=this._invertLongitute;l=l.clone(),d&&(l.y=-l.y-l.height);var h=this._rawTransformable;h.transform=l.calculateTransform(new Qn(e,n,s,a));var f=h.parent;h.parent=null,h.decomposeTransform(),h.parent=f,d&&(h.scaleY=-h.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var n=this.regions,s=0;s<n.length;s++){var a=n[s];if("geoJSON"===a.type&&a.contain(e))return n[s]}},t.prototype.addGeoCoord=function(e,n){this._nameCoordMap.set(e,n)},t.prototype.getGeoCoord=function(e){var n=this._regionsMap.get(e);return this._nameCoordMap.get(e)||n&&n.getCenter()},t.prototype.dataToPoint=function(e,n,s){if(Ii(e)&&(e=this.getGeoCoord(e)),e){var a=this.projection;return a&&(e=a.project(e)),e&&this.projectedToPoint(e,n,s)}},t.prototype.pointToData=function(e){var n=this.projection;return n&&(e=n.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return i.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,n,s){return i.prototype.dataToPoint.call(this,e,n,s)},t.prototype.convertToPixel=function(e,n,s){var a=oN(n);return a===this?a.dataToPoint(s):null},t.prototype.convertFromPixel=function(e,n,s){var a=oN(n);return a===this?a.pointToData(s):null},t}(kS);function oN(i){var t=i.geoModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",mi).models[0]||{}).coordinateSystem:null}Gt(rN,kS);const sN=rN;function aN(i,t){var e=i.get("boundingCoords");if(null!=e){var n=e[0],s=e[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(s[0])&&isFinite(s[1])){var a=this.projection;if(a){var l=n[0],d=n[1],h=s[0],f=s[1];n=[1/0,1/0],s=[-1/0,-1/0];var m=function(de,Ee,Ue,ze){for(var nt=Ue-de,gt=ze-Ee,Vt=0;Vt<=100;Vt++){var $t=Vt/100,hi=a.project([de+nt*$t,Ee+gt*$t]);ms(n,n,hi),Ho(s,s,hi)}};m(l,d,h,d),m(h,d,h,f),m(h,f,l,f),m(l,f,h,d)}this.setBoundingRect(n[0],n[1],s[0]-n[0],s[1]-n[1])}}var V,H,re,_=this.getBoundingRect(),C=i.get("layoutCenter"),w=i.get("layoutSize"),D=t.getWidth(),T=t.getHeight(),I=_.width/_.height*this.aspectScale,F=!1;if(C&&w&&(V=[kn(C[0],D),kn(C[1],T)],H=kn(w,Math.min(D,T)),!isNaN(V[0])&&!isNaN(V[1])&&!isNaN(H)&&(F=!0)),F)re={},I>1?(re.width=H,re.height=H/I):(re.height=H,re.width=H*I),re.y=V[1]-re.height/2,re.x=V[0]-re.width/2;else{var fe=i.getBoxLayoutParams();fe.aspect=I,re=pl(fe,{width:D,height:T})}this.setViewRect(re.x,re.y,re.width,re.height),this.setCenter(i.get("center"),t),this.setZoom(i.get("zoom"))}var F4=function(){function i(){this.dimensions=nN}return i.prototype.create=function(t,e){var n=[];function s(l){return{nameProperty:l.get("nameProperty"),aspectScale:l.get("aspectScale"),projection:l.get("projection")}}t.eachComponent("geo",function(l,d){var h=l.get("map"),f=new sN(h+d,h,Dt({nameMap:l.get("nameMap")},s(l)));f.zoomLimit=l.get("scaleLimit"),n.push(f),l.coordinateSystem=f,f.model=l,f.resize=aN,f.resize(l,e)}),t.eachSeries(function(l){if("geo"===l.get("coordinateSystem")){var h=l.get("geoIndex")||0;l.coordinateSystem=n[h]}});var a={};return t.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var d=l.getMapType();a[d]=a[d]||[],a[d].push(l)}}),te(a,function(l,d){var h=ge(l,function(m){return m.get("nameMap")}),f=new sN(d,d,Dt({nameMap:qe(h)},s(l[0])));f.zoomLimit=ln.apply(null,ge(l,function(m){return m.get("scaleLimit")})),n.push(f),f.resize=aN,f.resize(l[0],e),te(l,function(m){m.coordinateSystem=f,function k4(i,t){te(t.get("geoCoord"),function(e,n){i.addGeoCoord(n,e)})}(f,m)})}),n},i.prototype.getFilledRegions=function(t,e,n,s){for(var a=(t||[]).slice(),l=Rn(),d=0;d<a.length;d++)l.set(a[d].name,a[d]);return te(bm.load(e,n,s).regions,function(f){var m=f.name;!l.get(m)&&a.push({name:m})}),a},i}();const lN=new F4;var L4=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n,s){var a=bm.getGeoResource(e.map);if(a&&"geoJSON"===a.type){var l=e.itemStyle=e.itemStyle||{};"color"in l||(l.color="#eee")}this.mergeDefaultAndTheme(e,s),Ul(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,n=this.option;n.regions=lN.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var s={};this._optionModelMap=Re(n.regions||[],function(a,l){var d=l.name;return d&&(a.set(d,new Vi(l,e,e.ecModel)),l.selected&&(s[d]=!0)),a},Rn()),n.selectedMap||(n.selectedMap=s)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Vi(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,n){var a=this.getRegionModel(e).get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]),l={name:e};return Nt(a)?(l.status=n,a(l)):Ii(a)?a.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var n=this.option,s=n.selectedMode;s&&("multiple"!==s&&(n.selectedMap=null),(n.selectedMap||(n.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var n=this.option.selectedMap;n&&(n[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var n=this.option.selectedMap;return!(!n||!n[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(go);const N4=L4;function cN(i,t){return i.pointToProjected?i.pointToProjected(t):i.pointToData(t)}function LI(i,t,e,n){var s=i.getZoom(),a=i.getCenter(),l=t.zoom,d=i.projectedToPoint?i.projectedToPoint(a):i.dataToPoint(a);if(null!=t.dx&&null!=t.dy&&(d[0]-=t.dx,d[1]-=t.dy,i.setCenter(cN(i,d),n)),null!=l){if(e){var h=e.min||0;l=Math.max(Math.min(s*l,e.max||1/0),h)/s}i.scaleX*=l,i.scaleY*=l;var _=(t.originY-i.y)*(l-1);i.x-=(t.originX-i.x)*(l-1),i.y-=_,i.updateTransform(),i.setCenter(cN(i,d),n),i.setZoom(l*s)}return{center:i.getCenter(),zoom:i.getZoom()}}var B4=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return P(t,i),t.prototype.init=function(e,n){this._api=n},t.prototype.render=function(e,n,s,a){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new eN(s));var l=this._mapDraw;l.draw(e,n,s,this,a),l.group.on("click",this._handleRegionClick,this),l.group.silent=e.get("silent"),this.group.add(l.group),this.updateSelectStatus(e,n,s)},t.prototype._handleRegionClick=function(e){var n;$f(e.target,function(s){return null!=(n=dr(s).eventData)},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(e,n,s){var a=this;this._mapDraw.group.traverse(function(l){var d=dr(l).eventData;if(d)return a._model.isSelected(d.name)?s.enterSelect(l):s.leaveSelect(l),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Ks);const V4=B4;function G4(i,t,e){bm.registerMap(i,t,e)}function dN(i){function t(e,n){n.update="geo:updateSelectStatus",i.registerAction(n,function(s,a){var l={},d=[];return a.eachComponent({mainType:"geo",query:s},function(h){h[e](s.name),te(h.coordinateSystem.regions,function(_){l[_.name]=h.isSelected(_.name)||!1});var m=[];te(l,function(_,C){l[C]&&m.push(C)}),d.push({geoIndex:h.componentIndex,name:m})}),{selected:l,allSelected:d,name:s.name}})}i.registerCoordinateSystem("geo",lN),i.registerComponentModel(N4),i.registerComponentView(V4),i.registerImpl("registerMap",G4),i.registerImpl("getMap",function(e){return bm.getMapForUser(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),i.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,n,s){var a=e.componentType||"series";n.eachComponent({mainType:a,query:e},function(l){var d=l.coordinateSystem;if("geo"===d.type){var h=LI(d,e,l.get("scaleLimit"),s);l.setCenter&&l.setCenter(h.center),l.setZoom&&l.setZoom(h.zoom),"series"===a&&te(l.seriesGroup,function(f){f.setCenter(h.center),f.setZoom(h.zoom)})}})})}function z4(i,t){var e=i.isExpand?i.children:[],n=i.parentNode.children,s=i.hierNode.i?n[i.hierNode.i-1]:null;if(e.length){!function $4(i){for(var t=i.children,e=t.length,n=0,s=0;--e>=0;){var a=t[e];a.hierNode.prelim+=n,a.hierNode.modifier+=n,n+=a.hierNode.shift+(s+=a.hierNode.change)}}(i);var a=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;s?(i.hierNode.prelim=s.hierNode.prelim+t(i,s),i.hierNode.modifier=i.hierNode.prelim-a):i.hierNode.prelim=a}else s&&(i.hierNode.prelim=s.hierNode.prelim+t(i,s));i.parentNode.hierNode.defaultAncestor=function K4(i,t,e,n){if(t){for(var s=i,a=i,l=a.parentNode.children[0],d=t,h=s.hierNode.modifier,f=a.hierNode.modifier,m=l.hierNode.modifier,_=d.hierNode.modifier;d=NI(d),a=BI(a),d&&a;){s=NI(s),l=BI(l),s.hierNode.ancestor=i;var C=d.hierNode.prelim+_-a.hierNode.prelim-f+n(d,a);C>0&&(Y4(X4(d,i,e),i,C),f+=C,h+=C),_+=d.hierNode.modifier,f+=a.hierNode.modifier,h+=s.hierNode.modifier,m+=l.hierNode.modifier}d&&!NI(s)&&(s.hierNode.thread=d,s.hierNode.modifier+=_-h),a&&!BI(l)&&(l.hierNode.thread=a,l.hierNode.modifier+=f-m,e=i)}return e}(i,s,i.parentNode.hierNode.defaultAncestor||n[0],t)}function W4(i){i.setLayout({x:i.hierNode.prelim+i.parentNode.hierNode.modifier},!0),i.hierNode.modifier+=i.parentNode.hierNode.modifier}function uN(i){return arguments.length?i:Q4}function FS(i,t){return i-=Math.PI/2,{x:t*Math.cos(i),y:t*Math.sin(i)}}function NI(i){var t=i.children;return t.length&&i.isExpand?t[t.length-1]:i.hierNode.thread}function BI(i){var t=i.children;return t.length&&i.isExpand?t[0]:i.hierNode.thread}function X4(i,t,e){return i.hierNode.ancestor.parentNode===t.parentNode?i.hierNode.ancestor:e}function Y4(i,t,e){var n=e/(t.hierNode.i-i.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,i.hierNode.change+=n}function Q4(i,t){return i.parentNode===t.parentNode?1:2}var Z4=function i(){this.parentPoint=[],this.childPoints=[]},q4=function(i){function t(e){return i.call(this,e)||this}return P(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Z4},t.prototype.buildPath=function(e,n){var s=n.childPoints,a=s.length,l=n.parentPoint,d=s[0],h=s[a-1];if(1===a)return e.moveTo(l[0],l[1]),void e.lineTo(d[0],d[1]);var f=n.orient,m="TB"===f||"BT"===f?0:1,_=1-m,C=kn(n.forkPosition,1),w=[];w[m]=l[m],w[_]=l[_]+(h[_]-l[_])*C,e.moveTo(l[0],l[1]),e.lineTo(w[0],w[1]),e.moveTo(d[0],d[1]),w[m]=d[m],e.lineTo(w[0],w[1]),w[m]=h[m],e.lineTo(w[0],w[1]),e.lineTo(h[0],h[1]);for(var D=1;D<a-1;D++){var T=s[D];e.moveTo(T[0],T[1]),w[m]=T[m],e.lineTo(w[0],w[1])}},t}($r),J4=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new zn,e}return P(t,i),t.prototype.init=function(e,n){this._controller=new IS(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,n,s){var a=e.getData(),l=e.layoutInfo,d=this._mainGroup;"radial"===e.get("layout")?(d.x=l.x+l.width/2,d.y=l.y+l.height/2):(d.x=l.x,d.y=l.y),this._updateViewCoordSys(e,s),this._updateController(e,n,s);var f=this._data;a.diff(f).add(function(m){hN(a,m)&&pN(a,m,null,d,e)}).update(function(m,_){var C=f.getItemGraphicEl(_);hN(a,m)?pN(a,m,C,d,e):C&&mN(f,_,C,d,e)}).remove(function(m){var _=f.getItemGraphicEl(m);_&&mN(f,m,_,d,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&a.eachItemGraphicEl(function(m,_){m.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:_})})}),this._data=a},t.prototype._updateViewCoordSys=function(e,n){var s=e.getData(),a=[];s.each(function(_){var C=s.getItemLayout(_);C&&!isNaN(C.x)&&!isNaN(C.y)&&a.push([+C.x,+C.y])});var l=[],d=[];Tg(a,l,d);var h=this._min,f=this._max;d[0]-l[0]==0&&(l[0]=h?h[0]:l[0]-1,d[0]=f?f[0]:d[0]+1),d[1]-l[1]==0&&(l[1]=h?h[1]:l[1]-1,d[1]=f?f[1]:d[1]+1);var m=e.coordinateSystem=new kS;m.zoomLimit=e.get("scaleLimit"),m.setBoundingRect(l[0],l[1],d[0]-l[0],d[1]-l[1]),m.setCenter(e.get("center"),n),m.setZoom(e.get("zoom")),this.group.attr({x:m.x,y:m.y,scaleX:m.scaleX,scaleY:m.scaleY}),this._min=l,this._max=d},t.prototype._updateController=function(e,n,s){var a=this,l=this._controller,d=this._controllerHost,h=this.group;l.setPointerChecker(function(f,m,_){var C=h.getBoundingRect();return C.applyTransform(h.transform),C.contain(m,_)&&!yT(f,s,e)}),l.enable(e.get("roam")),d.zoomLimit=e.get("scaleLimit"),d.zoom=e.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(f){RI(d,f.dx,f.dy),s.dispatchAction({seriesId:e.id,type:"treeRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){II(d,f.scale,f.originX,f.originY),s.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),a._updateNodeAndLinkScale(e),s.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var n=e.getData(),s=this._getNodeGlobalScale(e);n.eachItemGraphicEl(function(a,l){a.setSymbolScale(s)})},t.prototype._getNodeGlobalScale=function(e){var n=e.coordinateSystem;if("view"!==n.type)return 1;var s=this._nodeScaleRatio,a=n.scaleX||1;return((n.getZoom()-1)*s+1)/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(fs);function hN(i,t){var e=i.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function pN(i,t,e,n,s){var a=!e,l=i.tree.getNodeByDataIndex(t),d=l.getModel(),h=l.getVisual("style").fill,f=!1===l.isExpand&&0!==l.children.length?h:"#fff",m=i.tree.root,_=l.parentNode===m?l:l.parentNode||l,C=i.getItemGraphicEl(_.dataIndex),w=_.getLayout(),D=C?{x:C.__oldX,y:C.__oldY,rawX:C.__radialOldRawX,rawY:C.__radialOldRawY}:w,T=l.getLayout();a?((e=new xS(i,t,null,{symbolInnerColor:f,useNameLabel:!0})).x=D.x,e.y=D.y):e.updateData(i,t,null,{symbolInnerColor:f,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=T.rawX,e.__radialRawY=T.rawY,n.add(e),i.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,wo(e,{x:T.x,y:T.y},s);var I=e.getSymbolPath();if("radial"===s.get("layout")){var F=m.children[0],V=F.getLayout(),H=F.children.length,re=void 0,fe=void 0;if(T.x===V.x&&!0===l.isExpand&&F.children.length){var de={x:(F.children[0].getLayout().x+F.children[H-1].getLayout().x)/2,y:(F.children[0].getLayout().y+F.children[H-1].getLayout().y)/2};(re=Math.atan2(de.y-V.y,de.x-V.x))<0&&(re=2*Math.PI+re),(fe=de.x<V.x)&&(re-=Math.PI)}else(re=Math.atan2(T.y-V.y,T.x-V.x))<0&&(re=2*Math.PI+re),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(fe=T.x<V.x)&&(re-=Math.PI):(fe=T.x>V.x)||(re-=Math.PI);var Ee=fe?"left":"right",Ue=d.getModel("label"),ze=Ue.get("rotate"),nt=ze*(Math.PI/180),gt=I.getTextContent();gt&&(I.setTextConfig({position:Ue.get("position")||Ee,rotation:null==ze?-re:nt,origin:"center"}),gt.setStyle("verticalAlign","middle"))}var Vt=d.get(["emphasis","focus"]),$t="relative"===Vt?pr(l.getAncestorsIndices(),l.getDescendantIndices()):"ancestor"===Vt?l.getAncestorsIndices():"descendant"===Vt?l.getDescendantIndices():null;$t&&(dr(e).focus=$t),function ez(i,t,e,n,s,a,l,d){var h=t.getModel(),f=i.get("edgeShape"),m=i.get("layout"),_=i.getOrient(),C=i.get(["lineStyle","curveness"]),w=i.get("edgeForkPosition"),D=h.getModel("lineStyle").getLineStyle(),T=n.__edge;if("curve"===f)t.parentNode&&t.parentNode!==e&&(T||(T=n.__edge=new h_({shape:VI(m,_,C,s,s)})),wo(T,{shape:VI(m,_,C,a,l)},i));else if("polyline"===f&&"orthogonal"===m&&t!==e&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var I=t.children,F=[],V=0;V<I.length;V++){var H=I[V].getLayout();F.push([H.x,H.y])}T||(T=n.__edge=new q4({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:_,forkPosition:w}})),wo(T,{shape:{parentPoint:[l.x,l.y],childPoints:F}},i)}T&&("polyline"!==f||t.isExpand)&&(T.useStyle(je({strokeNoScale:!0,fill:null},D)),el(T,h,"lineStyle"),dc(T),d.add(T))}(s,l,m,e,D,w,T,n),e.__edge&&(e.onHoverStateChange=function(hi){if("blur"!==hi){var gi=l.parentNode&&i.getItemGraphicEl(l.parentNode.dataIndex);gi&&gi.hoverState===Fd||If(e.__edge,hi)}})}function fN(i,t,e,n,s){var l=gN(t.tree.root,i),d=l.source,h=l.sourceLayout,f=t.getItemGraphicEl(i.dataIndex);if(f){var m=t.getItemGraphicEl(d.dataIndex),C=f.__edge||(!1===d.isExpand||1===d.children.length?m.__edge:void 0),w=n.get("edgeShape"),D=n.get("layout"),T=n.get("orient"),I=n.get(["lineStyle","curveness"]);C&&("curve"===w?Zc(C,{shape:VI(D,T,I,h,h),style:{opacity:0}},n,{cb:function(){e.remove(C)},removeOpt:s}):"polyline"===w&&"orthogonal"===n.get("layout")&&Zc(C,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},n,{cb:function(){e.remove(C)},removeOpt:s}))}}function gN(i,t){for(var n,e=t.parentNode===i?t:t.parentNode||t;null==(n=e.getLayout());)e=e.parentNode===i?e:e.parentNode||e;return{source:e,sourceLayout:n}}function mN(i,t,e,n,s){var a=i.tree.getNodeByDataIndex(t),d=gN(i.tree.root,a).sourceLayout,h={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};Zc(e,{x:d.x+1,y:d.y+1},s,{cb:function(){n.remove(e),i.setItemGraphicEl(t,null)},removeOpt:h}),e.fadeOut(null,i.hostModel,{fadeLabel:!0,animation:h}),a.children.forEach(function(f){fN(f,i,n,s,h)}),fN(a,i,n,s,h)}function VI(i,t,e,n,s){var a,l,d,h,f,m,_,C;if("radial"===i){m=s.rawX,C=s.rawY;var w=FS(f=n.rawX,_=n.rawY),D=FS(f,_+(C-_)*e),T=FS(m,C+(_-C)*e),I=FS(m,C);return{x1:w.x||0,y1:w.y||0,x2:I.x||0,y2:I.y||0,cpx1:D.x||0,cpy1:D.y||0,cpx2:T.x||0,cpy2:T.y||0}}return f=n.x,_=n.y,m=s.x,C=s.y,("LR"===t||"RL"===t)&&(a=f+(m-f)*e,l=_,d=m+(f-m)*e,h=C),("TB"===t||"BT"===t)&&(a=f,l=_+(C-_)*e,d=m,h=C+(_-C)*e),{x1:f,y1:_,x2:m,y2:C,cpx1:a,cpy1:l,cpx2:d,cpy2:h}}const tz=J4;var pp=Xe();function nz(i,t){if(function lz(i){return pp(i).mainData===i}(this)){var e=Dt({},pp(this).datas);e[this.dataType]=t,vN(t,e,i)}else GI(t,this.dataType,pp(this).mainData,i);return t}function rz(i,t){return i.struct&&i.struct.update(),t}function oz(i,t){return te(pp(t).datas,function(e,n){e!==t&&GI(e.cloneShallow(),n,t,i)}),t}function sz(i){var t=pp(this).mainData;return null==i||null==t?t:pp(t).datas[i]}function az(){var i=pp(this).mainData;return null==i?[{data:i}]:ge(Ri(pp(i).datas),function(t){return{type:t,data:pp(i).datas[t]}})}function vN(i,t,e){pp(i).datas={},te(t,function(n,s){GI(n,s,i,e)})}function GI(i,t,e,n){pp(e).datas[t]=i,pp(i).mainData=e,i.dataType=t,n.struct&&(i[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=i),i.getLinkedData=sz,i.getLinkedDataAll=az}const yN=function iz(i){var t=i.mainData,e=i.datas;e||(e={main:t},i.datasAttr={main:"data"}),i.datas=i.mainData=null,vN(t,e,i),te(e,function(n){te(t.TRANSFERABLE_METHODS,function(s){n.wrapMethod(s,Se(nz,i))})}),t.wrapMethod("cloneShallow",Se(oz,i)),te(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,Se(rz,i))}),mr(e[t.dataType]===t)};var cz=function(){function i(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return i.prototype.isRemoved=function(){return this.dataIndex<0},i.prototype.eachNode=function(t,e,n){Nt(t)&&(n=e,e=t,t=null),Ii(t=t||{})&&(t={order:t});var l,s=t.order||"preorder",a=this[t.attr||"children"];"preorder"===s&&(l=e.call(n,this));for(var d=0;!l&&d<a.length;d++)a[d].eachNode(t,e,n);"postorder"===s&&e.call(n,this)},i.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var s=this.children[n];s.updateDepthAndHeight(t+1),s.height>e&&(e=s.height)}this.height=e+1},i.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,s=n.length;e<s;e++){var a=n[e].getNodeById(t);if(a)return a}},i.prototype.contains=function(t){if(t===this)return!0;for(var e=0,n=this.children,s=n.length;e<s;e++){var a=n[e].contains(t);if(a)return a}},i.prototype.getAncestors=function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},i.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},i.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},i.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},i.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},i.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},i.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},i.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},i.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},i.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},i.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},i.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},i.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},i}(),dz=function(){function i(t){this.type="tree",this._nodes=[],this.hostModel=t}return i.prototype.eachNode=function(t,e,n){this.root.eachNode(t,e,n)},i.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},i.prototype.getNodeById=function(t){return this.root.getNodeById(t)},i.prototype.update=function(){for(var t=this.data,e=this._nodes,n=0,s=e.length;n<s;n++)e[n].dataIndex=-1;for(n=0,s=t.count();n<s;n++)e[t.getRawIndex(n)].dataIndex=n},i.prototype.clearLayouts=function(){this.data.clearItemLayouts()},i.createTree=function(t,e,n){var s=new i(e),a=[],l=1;!function d(m,_){var C=m.value;l=Math.max(l,Me(C)?C.length:1),a.push(m);var w=new cz(Ns(m.name,""),s);_?function uz(i,t){i.parentNode!==t&&(t.children.push(i),i.parentNode=t)}(w,_):s.root=w,s._nodes.push(w);var D=m.children;if(D)for(var T=0;T<D.length;T++)d(D[T],w)}(t),s.root.updateDepthAndHeight(0);var h=Kv(a,{coordDimensions:["value"],dimensionsCount:l}).dimensions,f=new nd(h,e);return f.initData(a),n&&n(f),yN({mainData:f,struct:s,structAttr:"tree"}),s.update(),s},i}();const HI=dz;function OS(i,t,e){if(i&&Te(t,i.type)>=0){var n=e.getData().tree.root,s=i.targetNode;if(Ii(s)&&(s=n.getNodeById(s)),s&&n.contains(s))return{node:s};var a=i.targetNodeId;if(null!=a&&(s=n.getNodeById(a)))return{node:s}}}function _N(i){for(var t=[];i;)(i=i.parentNode)&&t.push(i);return t.reverse()}function UI(i,t){return Te(_N(i),t)>=0}function xT(i,t){for(var e=[];i;){var n=i.dataIndex;e.push({name:i.name,dataIndex:n,value:t.getRawValue(n)}),i=i.parentNode}return e.reverse(),e}var hz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return P(t,i),t.prototype.getInitialData=function(e){var n={name:e.name,children:e.data},a=new Vi(e.leaves||{},this,this.ecModel),l=HI.createTree(n,this,function d(_){_.wrapMethod("getItemModel",function(C,w){var D=l.getNodeByDataIndex(w);return D&&D.children.length&&D.isExpand||(C.parentModel=a),C})}),h=0;l.eachNode("preorder",function(_){_.depth>h&&(h=_.depth)});var m=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:h;return l.root.eachNode("preorder",function(_){var C=_.hostTree.data.getRawDataItem(_.dataIndex);_.isExpand=C&&null!=C.collapsed?!C.collapsed:_.depth<=m}),l.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,n,s){for(var a=this.getData().tree,l=a.root.children[0],d=a.getNodeByDataIndex(e),h=d.getValue(),f=d.name;d&&d!==l;)f=d.parentNode.name+"."+f,d=d.parentNode;return gl("nameValue",{name:f,value:h,noValue:isNaN(h)||null==h})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=xT(s,this),n.collapsed=!s.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Us);const pz=hz;function LS(i,t){for(var n,e=[i];n=e.pop();)if(t(n),n.isExpand){var s=n.children;if(s.length)for(var a=s.length-1;a>=0;a--)e.push(s[a])}}function gz(i,t){i.eachSeriesByType("tree",function(e){!function mz(i,t){var e=function j4(i,t){return pl(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(i,t);i.layoutInfo=e;var n=i.get("layout"),s=0,a=0,l=null;"radial"===n?(s=2*Math.PI,a=Math.min(e.height,e.width)/2,l=uN(function(H,re){return(H.parentNode===re.parentNode?1:2)/H.depth})):(s=e.width,a=e.height,l=uN());var d=i.getData().tree.root,h=d.children[0];if(h){(function U4(i){var t=i;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,s,e=[t];n=e.pop();)if(s=n.children,n.isExpand&&s.length)for(var l=s.length-1;l>=0;l--){var d=s[l];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:l,thread:null},e.push(d)}})(d),function fz(i,t,e){for(var a,n=[i],s=[];a=n.pop();)if(s.push(a),a.isExpand){var l=a.children;if(l.length)for(var d=0;d<l.length;d++)n.push(l[d])}for(;a=s.pop();)t(a,e)}(h,z4,l),d.hierNode.modifier=-h.hierNode.prelim,LS(h,W4);var f=h,m=h,_=h;LS(h,function(H){var re=H.getLayout().x;re<f.getLayout().x&&(f=H),re>m.getLayout().x&&(m=H),H.depth>_.depth&&(_=H)});var C=f===m?1:l(f,m)/2,w=C-f.getLayout().x,D=0,T=0,I=0,F=0;if("radial"===n)D=s/(m.getLayout().x+C+w),T=a/(_.depth-1||1),LS(h,function(H){var re=FS(I=(H.getLayout().x+w)*D,F=(H.depth-1)*T);H.setLayout({x:re.x,y:re.y,rawX:I,rawY:F},!0)});else{var V=i.getOrient();"RL"===V||"LR"===V?(T=a/(m.getLayout().x+C+w),D=s/(_.depth-1||1),LS(h,function(H){F=(H.getLayout().x+w)*T,H.setLayout({x:I="LR"===V?(H.depth-1)*D:s-(H.depth-1)*D,y:F},!0)})):("TB"===V||"BT"===V)&&(D=s/(m.getLayout().x+C+w),T=a/(_.depth-1||1),LS(h,function(H){I=(H.getLayout().x+w)*D,H.setLayout({x:I,y:F="TB"===V?(H.depth-1)*T:a-(H.depth-1)*T},!0)}))}}}(e,t)})}function vz(i){i.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(s){var l=s.getModel().getModel("itemStyle").getItemStyle();Dt(e.ensureUniqueItemVisual(s.dataIndex,"style"),l)})})}var bN=["treemapZoomToNode","treemapRender","treemapMove"];function CN(i){var t=i.getData(),n={};t.tree.eachNode(function(s){for(var a=s;a&&a.depth>1;)a=a.parentNode;var l=yh(i.ecModel,a.name||a.dataIndex+"",n);s.setVisual("decal",l)})}var Cz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return P(t,i),t.prototype.getInitialData=function(e,n){var s={name:e.name,children:e.data};wN(s);var a=e.levels||[],l=this.designatedVisualItemStyle={},d=new Vi({itemStyle:l},this,n);a=e.levels=function wz(i,t){var e=Fr(t.get("color")),n=Fr(t.get(["aria","decal","decals"]));if(e){var s,a;te(i=i||[],function(d){var h=new Vi(d),f=h.get("color"),m=h.get("decal");(h.get(["itemStyle","color"])||f&&"none"!==f)&&(s=!0),(h.get(["itemStyle","decal"])||m&&"none"!==m)&&(a=!0)});var l=i[0]||(i[0]={});return s||(l.color=e.slice()),!a&&n&&(l.decal=n.slice()),i}}(a,n);var h=ge(a||[],function(_){return new Vi(_,d,n)},this),f=HI.createTree(s,this,function m(_){_.wrapMethod("getItemModel",function(C,w){var D=f.getNodeByDataIndex(w);return C.parentModel=(D?h[D.depth]:null)||d,C})});return f.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,n,s){var a=this.getData(),l=this.getRawValue(e);return gl("nameValue",{name:a.getName(e),value:l})},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return n.treeAncestors=xT(s,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},Dt(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var n=this._idIndexMap;n||(n=this._idIndexMap=Rn(),this._idIndexMapCount=0);var s=n.get(e);return null==s&&n.set(e,s=this._idIndexMapCount++),s},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){CN(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Us);function wN(i){var t=0;te(i.children,function(n){wN(n);var s=n.value;Me(s)&&(s=s[0]),t+=s});var e=i.value;Me(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Me(i.value)?i.value[0]=e:i.value=e}const xz=Cz;var Dz=function(){function i(t){this.group=new zn,t.add(this.group)}return i.prototype.render=function(t,e,n,s){var a=t.getModel("breadcrumb"),l=this.group;if(l.removeAll(),a.get("show")&&n){var d=a.getModel("itemStyle"),h=a.getModel("emphasis"),f=d.getModel("textStyle"),m=h.getModel(["itemStyle","textStyle"]),_={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,_,f),this._renderContent(t,_,d,h,f,m,s),Wy(l,_.pos,_.box)}},i.prototype._prepare=function(t,e,n){for(var s=t;s;s=s.parentNode){var a=Ns(s.getModel().get("name"),""),l=n.getTextRect(a),d=Math.max(l.width+16,e.emptyItemWidth);e.totalWidth+=d+8,e.renderList.push({node:s,text:a,width:d})}},i.prototype._renderContent=function(t,e,n,s,a,l,d){for(var h=0,f=e.emptyItemWidth,m=t.get(["breadcrumb","height"]),_=function _M(i,t,e){var n=t.width,s=t.height,a=kn(i.left,n),l=kn(i.top,s),d=kn(i.right,n),h=kn(i.bottom,s);return(isNaN(a)||isNaN(parseFloat(i.left)))&&(a=0),(isNaN(d)||isNaN(parseFloat(i.right)))&&(d=n),(isNaN(l)||isNaN(parseFloat(i.top)))&&(l=0),(isNaN(h)||isNaN(parseFloat(i.bottom)))&&(h=s),e=Nf(e||0),{width:Math.max(d-a-e[1]-e[3],0),height:Math.max(h-l-e[0]-e[2],0)}}(e.pos,e.box),C=e.totalWidth,w=e.renderList,D=s.getModel("itemStyle").getItemStyle(),T=w.length-1;T>=0;T--){var I=w[T],F=I.node,V=I.width,H=I.text;C>_.width&&(C-=V-f,V=f,H=null);var re=new td({shape:{points:Ez(h,0,V,m,T===w.length-1,0===T)},style:je(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new lo({style:Ms(a,{text:H})}),textConfig:{position:"inside"},z2:1e4*Od,onclick:Se(d,F)});re.disableLabelAnimation=!0,re.getTextContent().ensureState("emphasis").style=Ms(l,{text:H}),re.ensureState("emphasis").style=D,ea(re,s.get("focus"),s.get("blurScope"),s.get("disabled")),this.group.add(re),Az(re,t,F),h+=V+8}},i.prototype.remove=function(){this.group.removeAll()},i}();function Ez(i,t,e,n,s,a){var l=[[s?i:i-5,t],[i+e,t],[i+e,t+n],[s?i:i-5,t+n]];return!a&&l.splice(2,0,[i+e+5,t+n/2]),!s&&l.push([i,t+n/2]),l}function Az(i,t,e){dr(i).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&xT(e,t)}}const Tz=Dz;var Mz=function(){function i(){this._storage=[],this._elExistsMap={}}return i.prototype.add=function(t,e,n,s,a){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:n,delay:s,easing:a}),!0)},i.prototype.finished=function(t){return this._finishedCallback=t,this},i.prototype.start=function(){for(var t=this,e=this._storage.length,n=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},s=0,a=this._storage.length;s<a;s++){var l=this._storage[s];l.el.animateTo(l.target,{duration:l.duration,delay:l.delay,easing:l.easing,setToFinal:!0,done:n,aborted:n})}return this},i}(),WI=zn,SN=kr,AN="upperLabel",Iz=10*Od,Pz=2*Od,kz=3*Od,rb=ba([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),TN=function(i){var t=rb(i);return t.stroke=t.fill=t.lineWidth=null,t},ST=Xe(),Fz=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return P(t,i),t.prototype.render=function(e,n,s,a){if(!(Te(n.findComponents({mainType:"series",subType:"treemap",query:a}),e)<0)){this.seriesModel=e,this.api=s,this.ecModel=n;var h=OS(a,["treemapZoomToNode","treemapRootToNode"],e),f=a&&a.type,m=e.layoutInfo,_=!this._oldTree,C=this._storage,w="treemapRootToNode"===f&&h&&C?{rootNodeGroup:C.nodeGroup[h.node.getRawIndex()],direction:a.direction}:null,D=this._giveContainerGroup(m),T=e.get("animation"),I=this._doRender(D,e,w);!T||_||f&&"treemapZoomToNode"!==f&&"treemapRootToNode"!==f?I.renderFinally():this._doAnimation(D,I,e,w),this._resetController(s),this._renderBreadcrumb(e,s,h)}},t.prototype._giveContainerGroup=function(e){var n=this._containerGroup;return n||(n=this._containerGroup=new WI,this._initEvents(n),this.group.add(n)),n.x=e.x,n.y=e.y,n},t.prototype._doRender=function(e,n,s){var a=n.getData().tree,l=this._oldTree,d={nodeGroup:[],background:[],content:[]},h={nodeGroup:[],background:[],content:[]},f=this._storage,m=[];function _(V,H,re,fe){return function Oz(i,t,e,n,s,a,l,d,h,f){if(l){var m=l.getLayout(),_=i.getData(),C=l.getModel();if(_.setItemGraphicEl(l.dataIndex,null),m&&m.isInView){var w=m.width,D=m.height,T=m.borderWidth,I=m.invisible,F=l.getRawIndex(),V=d&&d.getRawIndex(),H=l.viewChildren,re=m.upperHeight,fe=H&&H.length,de=C.getModel("itemStyle"),Ee=C.getModel(["emphasis","itemStyle"]),Ue=C.getModel(["blur","itemStyle"]),ze=C.getModel(["select","itemStyle"]),nt=de.get("borderRadius")||0,gt=ur("nodeGroup",WI);if(gt){if(h.add(gt),gt.x=m.x||0,gt.y=m.y||0,gt.markRedraw(),ST(gt).nodeWidth=w,ST(gt).nodeHeight=D,m.isAboveViewRoot)return gt;var Vt=ur("background",SN,f,Pz);Vt&&function rn(qr,br,Jr){var Lr=dr(br);if(Lr.dataIndex=l.dataIndex,Lr.seriesIndex=i.seriesIndex,br.setShape({x:0,y:0,width:w,height:D,r:nt}),I)In(br);else{br.invisible=!1;var ir=l.getVisual("style"),Nr=ir.stroke,Ra=TN(de);Ra.fill=Nr;var Oo=rb(Ee);Oo.fill=Ee.get("borderColor");var vl=rb(Ue);vl.fill=Ue.get("borderColor");var tl=rb(ze);tl.fill=ze.get("borderColor"),Jr?Vn(br,Nr,ir.opacity,{x:T,y:0,width:w-2*T,height:re}):br.removeTextContent(),br.setStyle(Ra),br.ensureState("emphasis").style=Oo,br.ensureState("blur").style=vl,br.ensureState("select").style=tl,dc(br)}qr.add(br)}(gt,Vt,fe&&m.upperLabelHeight);var $t=C.getModel("emphasis"),hi=$t.get("focus"),gi=$t.get("blurScope"),Pi=$t.get("disabled"),Yi="ancestor"===hi?l.getAncestorsIndices():"descendant"===hi?l.getDescendantIndices():hi;if(fe)kf(gt)&&gh(gt,!1),Vt&&(gh(Vt,!Pi),_.setItemGraphicEl(l.dataIndex,Vt),uc(Vt,Yi,gi));else{var ji=ur("content",SN,f,kz);ji&&function bn(qr,br){var Jr=dr(br);Jr.dataIndex=l.dataIndex,Jr.seriesIndex=i.seriesIndex;var Lr=Math.max(w-2*T,0),ir=Math.max(D-2*T,0);if(br.culling=!0,br.setShape({x:T,y:T,width:Lr,height:ir,r:nt}),I)In(br);else{br.invisible=!1;var Nr=l.getVisual("style"),Ra=Nr.fill,Oo=TN(de);Oo.fill=Ra,Oo.decal=Nr.decal;var vl=rb(Ee),tl=rb(Ue),Kd=rb(ze);Vn(br,Ra,Nr.opacity,null),br.setStyle(Oo),br.ensureState("emphasis").style=vl,br.ensureState("blur").style=tl,br.ensureState("select").style=Kd,dc(br)}qr.add(br)}(gt,ji),Vt.disableMorphing=!0,Vt&&kf(Vt)&&gh(Vt,!1),gh(gt,!Pi),_.setItemGraphicEl(l.dataIndex,gt),uc(gt,Yi,gi)}return gt}}}function In(qr){!qr.invisible&&a.push(qr)}function Vn(qr,br,Jr,Lr){var ir=C.getModel(Lr?AN:"label"),Nr=Ns(C.get("name"),null),Ra=ir.getShallow("show");Rl(qr,za(C,Lr?AN:"label"),{defaultText:Ra?Nr:null,inheritColor:br,defaultOpacity:Jr,labelFetcher:i,labelDataIndex:l.dataIndex});var Oo=qr.getTextContent();if(Oo){var vl=Oo.style,tl=Fn(vl.padding||0);Lr&&(qr.setTextConfig({layoutRect:Lr}),Oo.disableLabelLayout=!0),Oo.beforeUpdate=function(){var Dm=Math.max((Lr?Lr.width:qr.shape.width)-tl[1]-tl[3],0),Zu=Math.max((Lr?Lr.height:qr.shape.height)-tl[0]-tl[2],0);(vl.width!==Dm||vl.height!==Zu)&&Oo.setStyle({width:Dm,height:Zu})},vl.truncateMinChar=2,vl.lineOverflow="truncate",lr(vl,Lr,m);var Kd=Oo.getState("emphasis");lr(Kd?Kd.style:null,Lr,m)}}function lr(qr,br,Jr){var Lr=qr?qr.text:null;if(!br&&Jr.isLeafRoot&&null!=Lr){var ir=i.get("drillDownIcon",!0);qr.text=ir?ir+" "+Lr:Lr}}function ur(qr,br,Jr,Lr){var ir=null!=V&&e[qr][V],Nr=s[qr];return ir?(e[qr][V]=null,function Yr(qr,br){var Jr=qr[F]={};br instanceof WI?(Jr.oldX=br.x,Jr.oldY=br.y):Jr.oldShape=Dt({},br.shape)}(Nr,ir)):I||((ir=new br)instanceof cd&&(ir.z2=function Lz(i,t){return i*Iz+t}(Jr,Lr)),function xo(qr,br){var Jr=qr[F]={},Lr=l.parentNode,ir=br instanceof zn;if(Lr&&(!n||"drillDown"===n.direction)){var Nr=0,Ra=0,Oo=s.background[Lr.getRawIndex()];!n&&Oo&&Oo.oldShape&&(Nr=Oo.oldShape.width,Ra=Oo.oldShape.height),ir?(Jr.oldX=0,Jr.oldY=Ra):Jr.oldShape={x:Nr,y:Ra,width:0,height:0}}Jr.fadein=!ir}(Nr,ir)),t[qr][F]=ir}}(n,h,f,s,d,m,V,H,re,fe)}!function T(V,H,re,fe,de){function Ee(ze){return ze.getId()}function Ue(ze,nt){var gt=null!=ze?V[ze]:null,Vt=null!=nt?H[nt]:null,$t=_(gt,Vt,re,de);$t&&T(gt&&gt.viewChildren||[],Vt&&Vt.viewChildren||[],$t,fe,de+1)}fe?(H=V,te(V,function(ze,nt){!ze.isRemoved()&&Ue(nt,nt)})):new op(H,V,Ee,Ee).add(Ue).update(Ue).remove(Se(Ue,null)).execute()}(a.root?[a.root]:[],l&&l.root?[l.root]:[],e,a===l||!l,0);var C=function I(V){var H={nodeGroup:[],background:[],content:[]};return V&&te(V,function(re,fe){var de=H[fe];te(re,function(Ee){Ee&&(de.push(Ee),ST(Ee).willDelete=!0)})}),H}(f);if(this._oldTree=a,this._storage=h,this._controllerHost){var w=this.seriesModel.layoutInfo,D=a.root.getLayout();D.width===w.width&&D.height===w.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:d,willDeleteEls:C,renderFinally:function F(){te(C,function(V){te(V,function(H){H.parent&&H.parent.remove(H)})}),te(m,function(V){V.invisible=!0,V.dirty()})}}},t.prototype._doAnimation=function(e,n,s,a){var l=s.get("animationDurationUpdate"),d=s.get("animationEasing"),h=(Nt(l)?0:l)||0,f=(Nt(d)?null:d)||"cubicOut",m=function Rz(){return new Mz}();te(n.willDeleteEls,function(_,C){te(_,function(w,D){if(!w.invisible){var I,T=w.parent,F=ST(T);if(a&&"drillDown"===a.direction)I=T===a.rootNodeGroup?{shape:{x:0,y:0,width:F.nodeWidth,height:F.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var V=0,H=0;F.willDelete||(V=F.nodeWidth/2,H=F.nodeHeight/2),I="nodeGroup"===C?{x:V,y:H,style:{opacity:0}}:{shape:{x:V,y:H,width:0,height:0},style:{opacity:0}}}I&&m.add(w,I,h,0,f)}})}),te(this._storage,function(_,C){te(_,function(w,D){var T=n.lastsForAnimation[C][D],I={};T&&(w instanceof zn?null!=T.oldX&&(I.x=w.x,I.y=w.y,w.x=T.oldX,w.y=T.oldY):(T.oldShape&&(I.shape=Dt({},w.shape),w.setShape(T.oldShape)),T.fadein?(w.setStyle("opacity",0),I.style={opacity:1}):1!==w.style.opacity&&(I.style={opacity:1})),m.add(w,I,h,0,f))})},this),this._state="animating",m.finished(at(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(e){var n=this._controller,s=this._controllerHost;s||(this._controllerHost={target:this.group},s=this._controllerHost),n||((n=this._controller=new IS(e.getZr())).enable(this.seriesModel.get("roam")),s.zoomLimit=this.seriesModel.get("scaleLimit"),s.zoom=this.seriesModel.get("zoom"),n.on("pan",at(this._onPan,this)),n.on("zoom",at(this._onZoom,this)));var a=new Qn(0,0,e.getWidth(),e.getHeight());n.setPointerChecker(function(l,d,h){return a.contain(d,h)})},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var s=n.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+e.dx,y:s.y+e.dy,width:s.width,height:s.height}})}},t.prototype._onZoom=function(e){var n=e.originX,s=e.originY,a=e.scale;if("animating"!==this._state){var l=this.seriesModel.getData().tree.root;if(!l)return;var d=l.getLayout();if(!d)return;var f,h=new Qn(d.x,d.y,d.width,d.height),m=this._controllerHost;f=m.zoomLimit;var _=m.zoom=m.zoom||1;if(_*=a,f){var C=f.min||0;_=Math.max(Math.min(f.max||1/0,_),C)}var D=_/m.zoom;m.zoom=_;var T=this.seriesModel.layoutInfo,I=[1,0,0,1,0,0];ol(I,I,[-(n-=T.x),-(s-=T.y)]),Zl(I,I,[D,D]),ol(I,I,[n,s]),h.applyTransform(I),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:h.x,y:h.y,width:h.width,height:h.height}})}},t.prototype._initEvents=function(e){var n=this;e.on("click",function(s){if("ready"===n._state){var a=n.seriesModel.get("nodeClick",!0);if(a){var l=n.findTarget(s.offsetX,s.offsetY);if(l){var d=l.node;if(d.getLayout().isLeafRoot)n._rootToNode(l);else if("zoomToNode"===a)n._zoomToNode(l);else if("link"===a){var h=d.hostTree.data.getItemModel(d.dataIndex),f=h.get("link",!0),m=h.get("target",!0)||"blank";f&&zy(f,m)}}}}},this)},t.prototype._renderBreadcrumb=function(e,n,s){var a=this;s||(s=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(s={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new Tz(this.group))).render(e,n,s.node,function(l){"animating"!==a._state&&(UI(e.getViewRoot(),l)?a._rootToNode({node:l}):a._zoomToNode({node:l}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,n){var s;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(l){var d=this._storage.background[l.getRawIndex()];if(d){var h=d.transformCoordToLocal(e,n),f=d.shape;if(!(f.x<=h[0]&&h[0]<=f.x+f.width&&f.y<=h[1]&&h[1]<=f.y+f.height))return!1;s={node:l,offsetX:h[0],offsetY:h[1]}}},this),s},t.type="treemap",t}(fs);const Nz=Fz;var BS=te,Bz=Zi,DT=-1,jI=function(){function i(t){var e=t.mappingMethod,n=t.type,s=this.option=xe(t);this.type=n,this.mappingMethod=e,this._normalizeData=Hz[e];var a=i.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[e],"piecewise"===e?($I(s),function Vz(i){var t=i.pieceList;i.hasSpecialVisual=!1,te(t,function(e,n){e.originIndex=n,null!=e.visual&&(i.hasSpecialVisual=!0)})}(s)):"category"===e?s.categories?function Gz(i){var t=i.categories,e=i.categoryMap={},n=i.visual;if(BS(t,function(l,d){e[l]=d}),!Me(n)){var s=[];Zi(n)?BS(n,function(l,d){s[e[d]??DT]=l}):s[DT]=n,n=RN(i,s)}for(var a=t.length-1;a>=0;a--)null==n[a]&&(delete e[t[a]],t.pop())}(s):$I(s,!0):(mr("linear"!==e||s.dataExtent),$I(s))}return i.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},i.prototype.getNormalizer=function(){return at(this._normalizeData,this)},i.listVisualTypes=function(){return Ri(i.visualHandlers)},i.isValidType=function(t){return i.visualHandlers.hasOwnProperty(t)},i.eachVisual=function(t,e,n){Zi(t)?te(t,e,n):e.call(n,t)},i.mapVisual=function(t,e,n){var s,a=Me(t)?[]:Zi(t)?{}:(s=!0,null);return i.eachVisual(t,function(l,d){var h=e.call(n,l,d);s?a=h:a[d]=h}),a},i.retrieveVisuals=function(t){var n,e={};return t&&BS(i.visualHandlers,function(s,a){t.hasOwnProperty(a)&&(e[a]=t[a],n=!0)}),n?e:null},i.prepareVisualTypes=function(t){if(Me(t))t=t.slice();else{if(!Bz(t))return[];var e=[];BS(t,function(n,s){e.push(s)}),t=e}return t.sort(function(n,s){return"color"===s&&"color"!==n&&0===n.indexOf("color")?1:-1}),t},i.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},i.findPieceIndex=function(t,e,n){for(var s,a=1/0,l=0,d=e.length;l<d;l++){var h=e[l].value;if(null!=h){if(h===t||Ii(h)&&h===t+"")return l;n&&C(h,l)}}for(l=0,d=e.length;l<d;l++){var f=e[l],m=f.interval,_=f.close;if(m){if(m[0]===-1/0){if(AT(_[1],t,m[1]))return l}else if(m[1]===1/0){if(AT(_[0],m[0],t))return l}else if(AT(_[0],m[0],t)&&AT(_[1],t,m[1]))return l;n&&C(m[0],l),n&&C(m[1],l)}}if(n)return t===1/0?e.length-1:t===-1/0?0:s;function C(w,D){var T=Math.abs(w-t);T<a&&(a=T,s=D)}},i.visualHandlers={color:{applyVisual:VS("color"),getColorMapper:function(){var t=this.option;return at("category"===t.mappingMethod?function(e,n){return!n&&(e=this._normalizeData(e)),GS.call(this,e)}:function(e,n,s){var a=!!s;return!n&&(e=this._normalizeData(e)),s=Ba(e,t.parsedVisual,s),a?s:we(s,"rgba")},this)},_normalizedToVisual:{linear:function(t){return we(Ba(t,this.option.parsedVisual),"rgba")},category:GS,piecewise:function(t,e){var n=XI.call(this,e);return null==n&&(n=we(Ba(t,this.option.parsedVisual),"rgba")),n},fixed:ob}},colorHue:ET(function(t,e){return Ft(t,e)}),colorSaturation:ET(function(t,e){return Ft(t,null,e)}),colorLightness:ET(function(t,e){return Ft(t,null,null,e)}),colorAlpha:ET(function(t,e){return z(t,e)}),decal:{applyVisual:VS("decal"),_normalizedToVisual:{linear:null,category:GS,piecewise:null,fixed:null}},opacity:{applyVisual:VS("opacity"),_normalizedToVisual:KI([0,1])},liftZ:{applyVisual:VS("liftZ"),_normalizedToVisual:{linear:ob,category:ob,piecewise:ob,fixed:ob}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:MN,category:GS,piecewise:function(t,e){var n=XI.call(this,e);return null==n&&(n=MN.call(this,t)),n},fixed:ob}},symbolSize:{applyVisual:VS("symbolSize"),_normalizedToVisual:KI([0,1])}},i}();function $I(i,t){var e=i.visual,n=[];Zi(e)?BS(e,function(a){n.push(a)}):null!=e&&n.push(e),!t&&1===n.length&&!{color:1,symbol:1}.hasOwnProperty(i.type)&&(n[1]=n[0]),RN(i,n)}function ET(i){return{applyVisual:function(t,e,n){var s=this.mapValueToVisual(t);n("color",i(e("color"),s))},_normalizedToVisual:KI([0,1])}}function MN(i){var t=this.option.visual;return t[Math.round(gr(i,[0,1],[0,t.length-1],!0))]||{}}function VS(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function GS(i){var t=this.option.visual;return t[this.option.loop&&i!==DT?i%t.length:i]}function ob(){return this.option.visual[0]}function KI(i){return{linear:function(t){return gr(t,i,this.option.visual,!0)},category:GS,piecewise:function(t,e){var n=XI.call(this,e);return null==n&&(n=gr(t,i,this.option.visual,!0)),n},fixed:ob}}function XI(i){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var s=e[jI.findPieceIndex(i,e)];if(s&&s.visual)return s.visual[this.type]}}function RN(i,t){return i.visual=t,"color"===i.type&&(i.parsedVisual=ge(t,function(e){return ar(e)||[0,0,0,1]})),t}var Hz={linear:function(i){return gr(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var t=this.option.pieceList,e=jI.findPieceIndex(i,t,!0);if(null!=e)return gr(e,[0,t.length-1],[0,1],!0)},category:function(i){return(this.option.categories?this.option.categoryMap[i]:i)??DT},fixed:dt};function AT(i,t,e){return i?t<=e:t<e}const vd=jI;var IN=Xe();const zz={seriesType:"treemap",reset:function(i){var e=i.getData().tree.root;e.isRemoved()||PN(e,{},i.getViewRoot().getAncestors(),i)}};function PN(i,t,e,n){var s=i.getModel(),a=i.getLayout(),l=i.hostTree.data;if(a&&!a.invisible&&a.isInView){var C,d=s.getModel("itemStyle"),h=function Wz(i,t,e){var n=Dt({},t),s=e.designatedVisualItemStyle;return te(["color","colorAlpha","colorSaturation"],function(a){s[a]=t[a];var l=i.get(a);s[a]=null,null!=l&&(n[a]=l)}),n}(d,t,n),f=l.ensureUniqueItemVisual(i.dataIndex,"style"),m=d.get("borderColor"),_=d.get("borderColorSaturation");null!=_&&(m=function jz(i,t){return null!=t?Ft(t,null,null,i):null}(_,C=kN(h))),f.stroke=m;var w=i.viewChildren;if(w&&w.length){var D=function $z(i,t,e,n,s,a){if(a&&a.length){var l=QI(t,"color")||null!=s.color&&"none"!==s.color&&(QI(t,"colorAlpha")||QI(t,"colorSaturation"));if(l){var d=t.get("visualMin"),h=t.get("visualMax"),f=e.dataExtent.slice();null!=d&&d<f[0]&&(f[0]=d),null!=h&&h>f[1]&&(f[1]=h);var m=t.get("colorMappingBy"),_={type:l.name,dataExtent:f,visual:l.range};"color"!==_.type||"index"!==m&&"id"!==m?_.mappingMethod="linear":(_.mappingMethod="category",_.loop=!0);var C=new vd(_);return IN(C).drColorMappingBy=m,C}}}(0,s,a,0,h,w);te(w,function(T,I){if(T.depth>=e.length||T===e[T.depth]){var F=function Kz(i,t,e,n,s,a){var l=Dt({},t);if(s){var d=s.type,h="color"===d&&IN(s).drColorMappingBy,f="index"===h?n:"id"===h?a.mapIdToIndex(e.getId()):e.getValue(i.get("visualDimension"));l[d]=s.mapValueToVisual(f)}return l}(s,h,T,I,D,n);PN(T,F,e,n)}})}else C=kN(h),f.fill=C}}function kN(i){var t=YI(i,"color");if(t){var e=YI(i,"colorAlpha"),n=YI(i,"colorSaturation");return n&&(t=Ft(t,null,null,n)),e&&(t=z(t,e)),t}}function YI(i,t){var e=i[t];if(null!=e&&"none"!==e)return e}function QI(i,t){var e=i.get(t);return Me(e)&&e.length?{name:t,range:e}:null}var HS=Math.max,TT=Math.min,FN=ln,ZI=te,ON=["itemStyle","borderWidth"],Xz=["itemStyle","gapWidth"],Yz=["upperLabel","show"],Qz=["upperLabel","height"];const Zz={seriesType:"treemap",reset:function(i,t,e,n){var s=e.getWidth(),a=e.getHeight(),l=i.option,d=pl(i.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),h=l.size||[],f=kn(FN(d.width,h[0]),s),m=kn(FN(d.height,h[1]),a),_=n&&n.type,w=OS(n,["treemapZoomToNode","treemapRootToNode"],i),D="treemapRender"===_||"treemapMove"===_?n.rootRect:null,T=i.getViewRoot(),I=_N(T);if("treemapMove"!==_){var F="treemapZoomToNode"===_?function n8(i,t,e,n,s){var a=(t||{}).node,l=[n,s];if(!a||a===e)return l;for(var d,h=n*s,f=h*i.option.zoomToNodeRatio;d=a.parentNode;){for(var m=0,_=d.children,C=0,w=_.length;C<w;C++)m+=_[C].getValue();var D=a.getValue();if(0===D)return l;f*=m/D;var T=d.getModel(),I=T.get(ON);(f+=4*I*I+(3*I+Math.max(I,VN(T)))*Math.pow(f,.5))>sd&&(f=sd),a=d}f<h&&(f=h);var V=Math.pow(f/h,.5);return[n*V,s*V]}(i,w,T,f,m):D?[D.width,D.height]:[f,m],V=l.sort;V&&"asc"!==V&&"desc"!==V&&(V="desc");var H={squareRatio:l.squareRatio,sort:V,leafDepth:l.leafDepth};T.hostTree.clearLayouts();var re={x:0,y:0,width:F[0],height:F[1],area:F[0]*F[1]};T.setLayout(re),LN(T,H,!1,0),re=T.getLayout(),ZI(I,function(de,Ee){var Ue=(I[Ee+1]||T).getValue();de.setLayout(Dt({dataExtent:[Ue,Ue],borderWidth:0,upperHeight:0},re))})}var fe=i.getData().tree.root;fe.setLayout(function r8(i,t,e){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!e)return n;var s=e.node,a=s.getLayout();if(!a)return n;for(var l=[a.width/2,a.height/2],d=s;d;){var h=d.getLayout();l[0]+=h.x,l[1]+=h.y,d=d.parentNode}return{x:i.width/2-l[0],y:i.height/2-l[1]}}(d,D,w),!0),i.setLayoutInfo(d),BN(fe,new Qn(-d.x,-d.y,s,a),I,T,0)}};function LN(i,t,e,n){var s,a;if(!i.isRemoved()){var l=i.getLayout();s=l.width,a=l.height;var d=i.getModel(),h=d.get(ON),f=d.get(Xz)/2,m=VN(d),_=Math.max(h,m),C=h-f,w=_-f;i.setLayout({borderWidth:h,upperHeight:_,upperLabelHeight:m},!0);var D=(s=HS(s-2*C,0))*(a=HS(a-C-w,0)),T=function qz(i,t,e,n,s,a){var l=i.children||[],d=n.sort;"asc"!==d&&"desc"!==d&&(d=null);var h=null!=n.leafDepth&&n.leafDepth<=a;if(s&&!h)return i.viewChildren=[];l=Ve(l,function(w){return!w.isRemoved()}),function e8(i,t){t&&i.sort(function(e,n){var s="asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===s?"asc"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:s})}(l,d);var f=function t8(i,t,e){for(var n=0,s=0,a=t.length;s<a;s++)n+=t[s].getValue();var d,l=i.get("visualDimension");return t&&t.length?"value"===l&&e?(d=[t[t.length-1].getValue(),t[0].getValue()],"asc"===e&&d.reverse()):(d=[1/0,-1/0],ZI(t,function(h){var f=h.getValue(l);f<d[0]&&(d[0]=f),f>d[1]&&(d[1]=f)})):d=[NaN,NaN],{sum:n,dataExtent:d}}(t,l,d);if(0===f.sum)return i.viewChildren=[];if(f.sum=function Jz(i,t,e,n,s){if(!n)return e;for(var a=i.get("visibleMin"),l=s.length,d=l,h=l-1;h>=0;h--){var f=s["asc"===n?l-h-1:h].getValue();f/e*t<a&&(d=h,e-=f)}return s.splice("asc"===n?0:d,l-d),e}(t,e,f.sum,d,l),0===f.sum)return i.viewChildren=[];for(var m=0,_=l.length;m<_;m++){var C=l[m].getValue()/f.sum*e;l[m].setLayout({area:C})}return h&&(l.length&&i.setLayout({isLeafRoot:!0},!0),l.length=0),i.viewChildren=l,i.setLayout({dataExtent:f.dataExtent},!0),l}(i,d,D,t,e,n);if(T.length){var I={x:C,y:w,width:s,height:a},F=TT(s,a),V=1/0,H=[];H.area=0;for(var re=0,fe=T.length;re<fe;){var de=T[re];H.push(de),H.area+=de.getLayout().area;var Ee=i8(H,F,t.squareRatio);Ee<=V?(re++,V=Ee):(H.area-=H.pop().getLayout().area,NN(H,F,I,f,!1),F=TT(I.width,I.height),H.length=H.area=0,V=1/0)}if(H.length&&NN(H,F,I,f,!0),!e){var Ue=d.get("childrenVisibleMin");null!=Ue&&D<Ue&&(e=!0)}for(re=0,fe=T.length;re<fe;re++)LN(T[re],t,e,n+1)}}}function i8(i,t,e){for(var n=0,s=1/0,a=0,l=void 0,d=i.length;a<d;a++)(l=i[a].getLayout().area)&&(l<s&&(s=l),l>n&&(n=l));var h=i.area*i.area,f=t*t*e;return h?HS(f*n/h,h/(f*s)):1/0}function NN(i,t,e,n,s){var a=t===e.width?0:1,l=1-a,d=["x","y"],h=["width","height"],f=e[d[a]],m=t?i.area/t:0;(s||m>e[h[l]])&&(m=e[h[l]]);for(var _=0,C=i.length;_<C;_++){var w=i[_],D={},T=m?w.getLayout().area/m:0,I=D[h[l]]=HS(m-2*n,0),F=e[d[a]]+e[h[a]]-f,V=_===C-1||F<T?F:T,H=D[h[a]]=HS(V-2*n,0);D[d[l]]=e[d[l]]+TT(n,I/2),D[d[a]]=f+TT(n,H/2),f+=V,w.setLayout(D,!0)}e[d[l]]+=m,e[h[l]]-=m}function BN(i,t,e,n,s){var a=i.getLayout(),l=e[s],d=l&&l===i;if(!(l&&!d||s===e.length&&i!==n)){i.setLayout({isInView:!0,invisible:!d&&!t.intersect(a),isAboveViewRoot:d},!0);var h=new Qn(t.x-a.x,t.y-a.y,t.width,t.height);ZI(i.viewChildren||[],function(f){BN(f,h,e,n,s+1)})}}function VN(i){return i.get(Yz)?i.get(Qz):0}function s8(i){var t=i.findComponents({mainType:"legend"});!t||!t.length||i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),a=e.getGraph().data,l=n.mapArray(n.getName);a.filterSelf(function(d){var f=a.getItemModel(d).getShallow("category");if(null!=f){Di(f)&&(f=l[f]);for(var m=0;m<t.length;m++)if(!t[m].isSelected(f))return!1}return!0})})}function a8(i){var t={};i.eachSeriesByType("graph",function(e){var n=e.getCategoriesData(),s=e.getData(),a={};n.each(function(l){var d=n.getName(l);a["ec-"+d]=l;var h=n.getItemModel(l),f=h.getModel("itemStyle").getItemStyle();f.fill||(f.fill=e.getColorFromPalette(d,t)),n.setItemVisual(l,"style",f);for(var m=["symbol","symbolSize","symbolKeepAspect"],_=0;_<m.length;_++){var C=h.getShallow(m[_],!0);null!=C&&n.setItemVisual(l,m[_],C)}}),n.count()&&s.each(function(l){var h=s.getItemModel(l).getShallow("category");if(null!=h){Ii(h)&&(h=a["ec-"+h]);var f=n.getItemVisual(h,"style");Dt(s.ensureUniqueItemVisual(l,"style"),f);for(var _=["symbol","symbolSize","symbolKeepAspect"],C=0;C<_.length;C++)s.setItemVisual(l,_[C],n.getItemVisual(h,_[C]))}})})}function MT(i){return i instanceof Array||(i=[i,i]),i}function l8(i){i.eachSeriesByType("graph",function(t){var e=t.getGraph(),n=t.getEdgeData(),s=MT(t.get("edgeSymbol")),a=MT(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",s&&s[0]),n.setVisual("toSymbol",s&&s[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(l){var d=n.getItemModel(l),h=e.getEdgeByIndex(l),f=MT(d.getShallow("symbol",!0)),m=MT(d.getShallow("symbolSize",!0)),_=d.getModel("lineStyle").getLineStyle(),C=n.ensureUniqueItemVisual(l,"style");switch(Dt(C,_),C.stroke){case"source":var w=h.node1.getVisual("style");C.stroke=w&&w.fill;break;case"target":w=h.node2.getVisual("style"),C.stroke=w&&w.fill}f[0]&&h.setVisual("fromSymbol",f[0]),f[1]&&h.setVisual("toSymbol",f[1]),m[0]&&h.setVisual("fromSymbolSize",m[0]),m[1]&&h.setVisual("toSymbolSize",m[1])})})}var RT=function(i){return i.get("autoCurveness")||null},GN=function(i,t){var e=RT(i),n=20,s=[];if(Di(e))n=e;else if(Me(e))return void(i.__curvenessList=e);t>n&&(n=t);var a=n%2?n+2:n+3;s=[];for(var l=0;l<a;l++)s.push((l%2?l+1:l)/10*(l%2?-1:1));i.__curvenessList=s},US=function(i,t,e){var n=[i.id,i.dataIndex].join("."),s=[t.id,t.dataIndex].join(".");return[e.uid,n,s].join("--\x3e")},HN=function(i){var t=i.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},c8=function(i,t){var e=US(i.node1,i.node2,t);return t.__edgeMap[e]},d8=function(i,t){return JI(US(i.node1,i.node2,t),t)+JI(US(i.node2,i.node1,t),t)},JI=function(i,t){var e=t.__edgeMap;return e[i]?e[i].length:0};function eP(i,t,e,n){var s=RT(t),a=Me(s);if(!s)return null;var l=c8(i,t);if(!l)return null;for(var d=-1,h=0;h<l.length;h++)if(l[h]===e){d=h;break}var f=d8(i,t);GN(t,f),i.lineStyle=i.lineStyle||{};var m=US(i.node1,i.node2,t),_=t.__curvenessList,C=a||f%2?0:1;if(l.isForward)return _[C+d];var w=HN(m),D=JI(w,t),T=_[d+D+C];return n?a?s&&0===s[0]?(D+C)%2?T:-T:((D%2?0:1)+C)%2?T:-T:(D+C)%2?T:-T:_[d+D+C]}function UN(i){var t=i.coordinateSystem;if(!t||"view"===t.type){var e=i.getGraph();e.eachNode(function(n){var s=n.getModel();n.setLayout([+s.get("x"),+s.get("y")])}),tP(e,i)}}function tP(i,t){i.eachEdge(function(e,n){var s=fn(e.getModel().get(["lineStyle","curveness"]),-eP(e,t,n,!0),0),a=ls(e.node1.getLayout()),l=ls(e.node2.getLayout()),d=[a,l];+s&&d.push([(a[0]+l[0])/2-(a[1]-l[1])*s,(a[1]+l[1])/2-(l[0]-a[0])*s]),e.setLayout(d)})}function p8(i,t){i.eachSeriesByType("graph",function(e){var n=e.get("layout"),s=e.coordinateSystem;if(s&&"view"!==s.type){var a=e.getData(),l=[];te(s.dimensions,function(C){l=l.concat(a.mapDimensionsAll(C))});for(var d=0;d<a.count();d++){for(var h=[],f=!1,m=0;m<l.length;m++){var _=a.get(l[m],d);isNaN(_)||(f=!0),h.push(_)}a.setItemLayout(d,f?s.dataToPoint(h):[NaN,NaN])}tP(a.graph,e)}else(!n||"none"===n)&&UN(e)})}function zS(i){var t=i.coordinateSystem;if("view"!==t.type)return 1;var e=i.option.nodeScaleRatio,n=t.scaleX;return((t.getZoom()-1)*e+1)/n}function WS(i){var t=i.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var zN=Math.PI,iP=[];function nP(i,t,e,n){var s=i.coordinateSystem;if(!s||"view"===s.type){var a=s.getBoundingRect(),l=i.getData(),d=l.graph,h=a.width/2+a.x,f=a.height/2+a.y,m=Math.min(a.width,a.height)/2,_=l.count();if(l.setLayout({cx:h,cy:f}),_){if(e){var C=s.pointToData(n),T=[C[0]-h,C[1]-f];Do(T,T),Kr(T,T,m),e.setLayout([h+T[0],f+T[1]],!0),WN(e,i.get(["circular","rotateLabel"]),h,f)}f8[t](i,d,l,m,h,f,_),d.eachEdge(function(F,V){var de,H=fn(F.getModel().get(["lineStyle","curveness"]),eP(F,i,V),0),re=ls(F.node1.getLayout()),fe=ls(F.node2.getLayout());+H&&(de=[h*(H*=3)+(re[0]+fe[0])/2*(1-H),f*H+(re[1]+fe[1])/2*(1-H)]),F.setLayout([re,fe,de])})}}}var f8={value:function(i,t,e,n,s,a,l){var d=0,h=e.getSum("value"),f=2*Math.PI/(h||l);t.eachNode(function(m){var _=m.getValue("value"),C=f*(h?_:1)/2;d+=C,m.setLayout([n*Math.cos(d)+s,n*Math.sin(d)+a]),d+=C})},symbolSize:function(i,t,e,n,s,a,l){var d=0;iP.length=l;var h=zS(i);t.eachNode(function(_){var C=WS(_);isNaN(C)&&(C=2),C<0&&(C=0),C*=h;var w=Math.asin(C/2/n);isNaN(w)&&(w=zN/2),iP[_.dataIndex]=w,d+=2*w});var f=(2*zN-d)/l/2,m=0;t.eachNode(function(_){var C=f+iP[_.dataIndex];m+=C,(!_.getLayout()||!_.getLayout().fixed)&&_.setLayout([n*Math.cos(m)+s,n*Math.sin(m)+a]),m+=C})}};function WN(i,t,e,n){var s=i.getGraphicEl();if(s){var l=i.getModel().get(["label","rotate"])||0,d=s.getSymbolPath();if(t){var h=i.getLayout(),f=Math.atan2(h[1]-n,h[0]-e);f<0&&(f=2*Math.PI+f);var m=h[0]<e;m&&(f-=Math.PI);var _=m?"left":"right";d.setTextConfig({rotation:-f,position:_,origin:"center"});var C=d.ensureState("emphasis");Dt(C.textConfig||(C.textConfig={}),{position:_})}else d.setTextConfig({rotation:l*=Math.PI/180})}}function g8(i){i.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&nP(t,"symbolSize")})}var e0=xa;function v8(i){i.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},s=t.getGraph(),a=s.data,l=s.edgeData,d=t.getModel("force"),h=d.get("initLayout");t.preservedPoints?a.each(function(H){var re=a.getId(H);a.setItemLayout(H,n[re]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&nP(t,"value"):UN(t);var f=a.getDataExtent("value"),m=l.getDataExtent("value"),_=d.get("repulsion"),C=d.get("edgeLength"),w=Me(_)?_:[_,_],D=Me(C)?C:[C,C];D=[D[1],D[0]];var T=a.mapArray("value",function(H,re){var fe=a.getItemLayout(re),de=gr(H,f,w);return isNaN(de)&&(de=(w[0]+w[1])/2),{w:de,rep:de,fixed:a.getItemModel(re).get("fixed"),p:!fe||isNaN(fe[0])||isNaN(fe[1])?null:fe}}),I=l.mapArray("value",function(H,re){var fe=s.getEdgeByIndex(re),de=gr(H,m,D);isNaN(de)&&(de=(D[0]+D[1])/2);var Ee=fe.getModel(),Ue=fn(fe.getModel().get(["lineStyle","curveness"]),-eP(fe,t,re,!0),0);return{n1:T[fe.node1.dataIndex],n2:T[fe.node2.dataIndex],d:de,curveness:Ue,ignoreForceLayout:Ee.get("ignoreForceLayout")}}),F=e.getBoundingRect(),V=function m8(i,t,e){for(var n=i,s=t,a=e.rect,l=a.width,d=a.height,h=[a.x+l/2,a.y+d/2],f=null==e.gravity?.1:e.gravity,m=0;m<n.length;m++){var _=n[m];_.p||(_.p=fo(l*(Math.random()-.5)+h[0],d*(Math.random()-.5)+h[1])),_.pp=ls(_.p),_.edges=null}var D,T,C=null==e.friction?.6:e.friction,w=C;return{warmUp:function(){w=.8*C},setFixed:function(I){n[I].fixed=!0},setUnfixed:function(I){n[I].fixed=!1},beforeStep:function(I){D=I},afterStep:function(I){T=I},step:function(I){D&&D(n,s);for(var F=[],V=n.length,H=0;H<s.length;H++){var re=s[H];if(!re.ignoreForceLayout){Cr(F,(de=re.n2).p,(fe=re.n1).p);var Ee=An(F)-re.d,Ue=de.w/(fe.w+de.w);isNaN(Ue)&&(Ue=0),Do(F,F),!fe.fixed&&e0(fe.p,fe.p,F,Ue*Ee*w),!de.fixed&&e0(de.p,de.p,F,-(1-Ue)*Ee*w)}}for(H=0;H<V;H++)(ze=n[H]).fixed||(Cr(F,h,ze.p),e0(ze.p,ze.p,F,f*w));for(H=0;H<V;H++)for(var fe=n[H],nt=H+1;nt<V;nt++){var de;Cr(F,(de=n[nt]).p,fe.p),0===(Ee=An(F))&&(pa(F,Math.random()-.5,Math.random()-.5),Ee=1);var gt=(fe.rep+de.rep)/Ee/Ee;!fe.fixed&&e0(fe.pp,fe.pp,F,gt),!de.fixed&&e0(de.pp,de.pp,F,-gt)}var Vt=[];for(H=0;H<V;H++){var ze;(ze=n[H]).fixed||(Cr(Vt,ze.p,ze.pp),e0(ze.p,ze.p,Vt,w),fr(ze.pp,ze.p))}var $t=(w*=.992)<.01;T&&T(n,s,$t),I&&I($t)}}}(T,I,{rect:F,gravity:d.get("gravity"),friction:d.get("friction")});V.beforeStep(function(H,re){for(var fe=0,de=H.length;fe<de;fe++)H[fe].fixed&&fr(H[fe].p,s.getNodeByIndex(fe).getLayout())}),V.afterStep(function(H,re,fe){for(var de=0,Ee=H.length;de<Ee;de++)H[de].fixed||s.getNodeByIndex(de).setLayout(H[de].p),n[a.getId(de)]=H[de].p;for(de=0,Ee=re.length;de<Ee;de++){var Ue=re[de],ze=s.getEdgeByIndex(de),nt=Ue.n1.p,gt=Ue.n2.p,Vt=ze.getLayout();(Vt=Vt?Vt.slice():[])[0]=Vt[0]||[],Vt[1]=Vt[1]||[],fr(Vt[0],nt),fr(Vt[1],gt),+Ue.curveness&&(Vt[2]=[(nt[0]+gt[0])/2-(nt[1]-gt[1])*Ue.curveness,(nt[1]+gt[1])/2-(gt[0]-nt[0])*Ue.curveness]),ze.setLayout(Vt)}}),t.forceLayout=V,t.preservedPoints=n,V.step()}else t.forceLayout=null})}function _8(i,t){var e=[];return i.eachSeriesByType("graph",function(n){var s=n.get("coordinateSystem");if(!s||"view"===s){var a=n.getData(),d=[],h=[];Tg(a.mapArray(function(I){var F=a.getItemModel(I);return[+F.get("x"),+F.get("y")]}),d,h),h[0]-d[0]==0&&(h[0]+=1,d[0]-=1),h[1]-d[1]==0&&(h[1]+=1,d[1]-=1);var f=(h[0]-d[0])/(h[1]-d[1]),m=function y8(i,t,e){return pl(Dt(i.getBoxLayoutParams(),{aspect:e}),{width:t.getWidth(),height:t.getHeight()})}(n,t,f);isNaN(f)&&(d=[m.x,m.y],h=[m.x+m.width,m.y+m.height]);var _=h[0]-d[0],C=h[1]-d[1],w=m.width,D=m.height,T=n.coordinateSystem=new kS;T.zoomLimit=n.get("scaleLimit"),T.setBoundingRect(d[0],d[1],_,C),T.setViewRect(m.x,m.y,w,D),T.setCenter(n.get("center"),t),T.setZoom(n.get("zoom")),e.push(T)}}),e}var jN=Yl.prototype,rP=h_.prototype,$N=function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function oP(i){return isNaN(+i.cpx1)||isNaN(+i.cpy1)}!function(i){P(function t(){return null!==i&&i.apply(this,arguments)||this},i)}($N);var b8=function(i){function t(e){var n=i.call(this,e)||this;return n.type="ec-line",n}return P(t,i),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $N},t.prototype.buildPath=function(e,n){oP(n)?jN.buildPath.call(this,e,n):rP.buildPath.call(this,e,n)},t.prototype.pointAt=function(e){return oP(this.shape)?jN.pointAt.call(this,e):rP.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var n=this.shape,s=oP(n)?[n.x2-n.x1,n.y2-n.y1]:rP.tangentAt.call(this,e);return Do(s,s)},t}($r);const C8=b8;var sP=["fromSymbol","toSymbol"];function KN(i){return"_"+i+"Type"}function XN(i,t,e){var n=t.getItemVisual(e,i);if(!n||"none"===n)return n;var s=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),l=t.getItemVisual(e,i+"Offset"),d=t.getItemVisual(e,i+"KeepAspect"),h=Fv(s);return n+h+Kf(l||0,h)+(a||"")+(d||"")}function YN(i,t,e){var n=t.getItemVisual(e,i);if(n&&"none"!==n){var s=t.getItemVisual(e,i+"Size"),a=t.getItemVisual(e,i+"Rotate"),l=t.getItemVisual(e,i+"Offset"),d=t.getItemVisual(e,i+"KeepAspect"),h=Fv(s),f=Kf(l||0,h),m=Ma(n,-h[0]/2+f[0],-h[1]/2+f[1],h[0],h[1],null,d);return m.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,m.name=i,m}}function aP(i,t){i.x1=t[0][0],i.y1=t[0][1],i.x2=t[1][0],i.y2=t[1][1],i.percent=1;var e=t[2];e?(i.cpx1=e[0],i.cpy1=e[1]):(i.cpx1=NaN,i.cpy1=NaN)}var x8=function(i){function t(e,n,s){var a=i.call(this)||this;return a._createLine(e,n,s),a}return P(t,i),t.prototype._createLine=function(e,n,s){var a=e.hostModel,d=function w8(i){var t=new C8({name:"line",subPixelOptimize:!0});return aP(t.shape,i),t}(e.getItemLayout(n));d.shape.percent=0,as(d,{shape:{percent:1}},a,n),this.add(d),te(sP,function(h){var f=YN(h,e,n);this.add(f),this[KN(h)]=XN(h,e,n)},this),this._updateCommonStl(e,n,s)},t.prototype.updateData=function(e,n,s){var a=e.hostModel,l=this.childOfName("line"),d=e.getItemLayout(n),h={shape:{}};aP(h.shape,d),wo(l,h,a,n),te(sP,function(f){var m=XN(f,e,n),_=KN(f);if(this[_]!==m){this.remove(this.childOfName(f));var C=YN(f,e,n);this.add(C)}this[_]=m},this),this._updateCommonStl(e,n,s)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,n,s){var a=e.hostModel,l=this.childOfName("line"),d=s&&s.emphasisLineStyle,h=s&&s.blurLineStyle,f=s&&s.selectLineStyle,m=s&&s.labelStatesModels,_=s&&s.emphasisDisabled,C=s&&s.focus,w=s&&s.blurScope;if(!s||e.hasItemOption){var D=e.getItemModel(n),T=D.getModel("emphasis");d=T.getModel("lineStyle").getLineStyle(),h=D.getModel(["blur","lineStyle"]).getLineStyle(),f=D.getModel(["select","lineStyle"]).getLineStyle(),_=T.get("disabled"),C=T.get("focus"),w=T.get("blurScope"),m=za(D)}var I=e.getItemVisual(n,"style"),F=I.stroke;l.useStyle(I),l.style.fill=null,l.style.strokeNoScale=!0,l.ensureState("emphasis").style=d,l.ensureState("blur").style=h,l.ensureState("select").style=f,te(sP,function(de){var Ee=this.childOfName(de);if(Ee){Ee.setColor(F),Ee.style.opacity=I.opacity;for(var Ue=0;Ue<Ca.length;Ue++){var ze=Ca[Ue],nt=l.getState(ze);if(nt){var gt=nt.style||{},Vt=Ee.ensureState(ze),$t=Vt.style||(Vt.style={});null!=gt.stroke&&($t[Ee.__isEmptyBrush?"stroke":"fill"]=gt.stroke),null!=gt.opacity&&($t.opacity=gt.opacity)}}Ee.markRedraw()}},this);var V=a.getRawValue(n);Rl(this,m,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(de,Ee){return a.getFormattedLabel(de,Ee,e.dataType)}},inheritColor:F||"#000",defaultOpacity:I.opacity,defaultText:(null==V?e.getName(n):isFinite(V)?Fo(V):V)+""});var H=this.getTextContent();if(H){var re=m.normal;H.__align=H.style.align,H.__verticalAlign=H.style.verticalAlign,H.__position=re.get("position")||"middle";var fe=re.get("distance");Me(fe)||(fe=[fe,fe]),H.__labelDistance=fe}this.setTextConfig({position:null,local:!0,inside:!1}),ea(this,C,w,_)},t.prototype.highlight=function(){ru(this)},t.prototype.downplay=function(){Qc(this)},t.prototype.updateLayout=function(e,n){this.setLinePoints(e.getItemLayout(n))},t.prototype.setLinePoints=function(e){var n=this.childOfName("line");aP(n.shape,e),n.dirty()},t.prototype.beforeUpdate=function(){var e=this,n=e.childOfName("fromSymbol"),s=e.childOfName("toSymbol"),a=e.getTextContent();if(n||s||a&&!a.ignore){for(var l=1,d=this.parent;d;)d.scaleX&&(l/=d.scaleX),d=d.parent;var h=e.childOfName("line");if(this.__dirty||h.__dirty){var f=h.shape.percent,m=h.pointAt(0),_=h.pointAt(f),C=Cr([],_,m);if(Do(C,C),n&&(n.setPosition(m),w(n,0),n.scaleX=n.scaleY=l*f,n.markRedraw()),s&&(s.setPosition(_),w(s,1),s.scaleX=s.scaleY=l*f,s.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var D=void 0,T=void 0,I=a.__labelDistance,F=I[0]*l,V=I[1]*l,H=f/2,re=h.tangentAt(H),fe=[re[1],-re[0]],de=h.pointAt(H);fe[1]>0&&(fe[0]=-fe[0],fe[1]=-fe[1]);var Ee=re[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var Ue=-Math.atan2(re[1],re[0]);_[0]<m[0]&&(Ue=Math.PI+Ue),a.rotation=Ue}var ze=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":ze=-V,T="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":ze=V,T="top";break;default:ze=0,T="middle"}switch(a.__position){case"end":a.x=C[0]*F+_[0],a.y=C[1]*V+_[1],D=C[0]>.8?"left":C[0]<-.8?"right":"center",T=C[1]>.8?"top":C[1]<-.8?"bottom":"middle";break;case"start":a.x=-C[0]*F+m[0],a.y=-C[1]*V+m[1],D=C[0]>.8?"right":C[0]<-.8?"left":"center",T=C[1]>.8?"bottom":C[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=F*Ee+m[0],a.y=m[1]+ze,D=re[0]<0?"right":"left",a.originX=-F*Ee,a.originY=-ze;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=de[0],a.y=de[1]+ze,D="center",a.originY=-ze;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-F*Ee+_[0],a.y=_[1]+ze,D=re[0]>=0?"right":"left",a.originX=F*Ee,a.originY=-ze}a.scaleX=a.scaleY=l,a.setStyle({verticalAlign:a.__verticalAlign||T,align:a.__align||D})}}}function w(nt,gt){var Vt=nt.__specifiedRotation;if(null==Vt){var $t=h.tangentAt(gt);nt.attr("rotation",(1===gt?-1:1)*Math.PI/2-Math.atan2($t[1],$t[0]))}else nt.attr("rotation",Vt)}},t}(zn);const lP=x8;var S8=function(){function i(t){this.group=new zn,this._LineCtor=t||lP}return i.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var n=this,s=n.group,a=n._lineData;n._lineData=t,a||s.removeAll();var l=QN(t);t.diff(a).add(function(d){e._doAdd(t,d,l)}).update(function(d,h){e._doUpdate(a,t,h,d,l)}).remove(function(d){s.remove(a.getItemGraphicEl(d))}).execute()},i.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,n){e.updateLayout(t,n)},this)},i.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=QN(t),this._lineData=null,this.group.removeAll()},i.prototype.incrementalUpdate=function(t,e){function n(d){!d.isGroup&&!function D8(i){return i.animators&&i.animators.length>0}(d)&&(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var s=t.start;s<t.end;s++)if(cP(e.getItemLayout(s))){var l=new this._LineCtor(e,s,this._seriesScope);l.traverse(n),this.group.add(l),e.setItemGraphicEl(s,l),this._progressiveEls.push(l)}},i.prototype.remove=function(){this.group.removeAll()},i.prototype.eachRendered=function(t){ef(this._progressiveEls||this.group,t)},i.prototype._doAdd=function(t,e,n){if(cP(t.getItemLayout(e))){var a=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,a),this.group.add(a)}},i.prototype._doUpdate=function(t,e,n,s,a){var l=t.getItemGraphicEl(n);cP(e.getItemLayout(s))?(l?l.updateData(e,s,a):l=new this._LineCtor(e,s,a),e.setItemGraphicEl(s,l),this.group.add(l)):this.group.remove(l)},i}();function QN(i){var t=i.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:za(t)}}function ZN(i){return isNaN(i[0])||isNaN(i[1])}function cP(i){return i&&!ZN(i[0])&&!ZN(i[1])}const dP=S8;var uP=[],hP=[],pP=[],t0=Tr,fP=is,qN=Math.abs;function JN(i,t,e){for(var d,n=i[0],s=i[1],a=i[2],l=1/0,h=e*e,f=.1,m=.1;m<=.9;m+=.1)uP[0]=t0(n[0],s[0],a[0],m),uP[1]=t0(n[1],s[1],a[1],m),(_=qN(fP(uP,t)-h))<l&&(l=_,d=m);for(var C=0;C<32;C++){var w=d+f;hP[0]=t0(n[0],s[0],a[0],d),hP[1]=t0(n[1],s[1],a[1],d),pP[0]=t0(n[0],s[0],a[0],w),pP[1]=t0(n[1],s[1],a[1],w);var _=fP(hP,t)-h;if(qN(_)<.01)break;var D=fP(pP,t)-h;f/=2,_<0?D>=0?d+=f:d-=f:D>=0?d-=f:d+=f}return d}function gP(i,t){var e=[],n=Z,s=[[],[],[]],a=[[],[]],l=[];t/=2,i.eachEdge(function(d,h){var f=d.getLayout(),m=d.getVisual("fromSymbol"),_=d.getVisual("toSymbol");f.__original||(f.__original=[ls(f[0]),ls(f[1])],f[2]&&f.__original.push(ls(f[2])));var C=f.__original;if(null!=f[2]){if(fr(s[0],C[0]),fr(s[1],C[2]),fr(s[2],C[1]),m&&"none"!==m){var w=WS(d.node1),D=JN(s,C[0],w*t);n(s[0][0],s[1][0],s[2][0],D,e),s[0][0]=e[3],s[1][0]=e[4],n(s[0][1],s[1][1],s[2][1],D,e),s[0][1]=e[3],s[1][1]=e[4]}_&&"none"!==_&&(w=WS(d.node2),D=JN(s,C[1],w*t),n(s[0][0],s[1][0],s[2][0],D,e),s[1][0]=e[1],s[2][0]=e[2],n(s[0][1],s[1][1],s[2][1],D,e),s[1][1]=e[1],s[2][1]=e[2]),fr(f[0],s[0]),fr(f[1],s[2]),fr(f[2],s[1])}else fr(a[0],C[0]),fr(a[1],C[1]),Cr(l,a[1],a[0]),Do(l,l),m&&"none"!==m&&(w=WS(d.node1),xa(a[0],a[0],l,w*t)),_&&"none"!==_&&(w=WS(d.node2),xa(a[1],a[1],l,-w*t)),fr(f[0],a[0]),fr(f[1],a[1])})}function e2(i){return"view"===i.type}var E8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n){var s=new SS,a=new dP,l=this.group;this._controller=new IS(n.getZr()),this._controllerHost={target:l},l.add(s.group),l.add(a.group),this._symbolDraw=s,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(e,n,s){var a=this,l=e.coordinateSystem;this._model=e;var d=this._symbolDraw,h=this._lineDraw,f=this.group;if(e2(l)){var m={x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY};this._firstRender?f.attr(m):wo(f,m,e)}gP(e.getGraph(),zS(e));var _=e.getData();d.updateData(_);var C=e.getEdgeData();h.updateData(C),this._updateNodeAndLinkScale(),this._updateController(e,n,s),clearTimeout(this._layoutTimeout);var w=e.forceLayout,D=e.get(["force","layoutAnimation"]);w&&this._startForceLayoutIteration(w,D);var T=e.get("layout");_.graph.eachNode(function(H){var re=H.dataIndex,fe=H.getGraphicEl(),de=H.getModel();if(fe){fe.off("drag").off("dragend");var Ee=de.get("draggable");Ee&&fe.on("drag",function(ze){switch(T){case"force":w.warmUp(),!a._layouting&&a._startForceLayoutIteration(w,D),w.setFixed(re),_.setItemLayout(re,[fe.x,fe.y]);break;case"circular":_.setItemLayout(re,[fe.x,fe.y]),H.setLayout({fixed:!0},!0),nP(e,"symbolSize",H,[ze.offsetX,ze.offsetY]),a.updateLayout(e);break;default:_.setItemLayout(re,[fe.x,fe.y]),tP(e.getGraph(),e),a.updateLayout(e)}}).on("dragend",function(){w&&w.setUnfixed(re)}),fe.setDraggable(Ee,!!de.get("cursor")),"adjacency"===de.get(["emphasis","focus"])&&(dr(fe).focus=H.getAdjacentDataIndices())}}),_.graph.eachEdge(function(H){var re=H.getGraphicEl(),fe=H.getModel().get(["emphasis","focus"]);re&&"adjacency"===fe&&(dr(re).focus={edge:[H.dataIndex],node:[H.node1.dataIndex,H.node2.dataIndex]})});var I="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),F=_.getLayout("cx"),V=_.getLayout("cy");_.graph.eachNode(function(H){WN(H,I,F,V)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,n){var s=this;!function a(){e.step(function(l){s.updateLayout(s._model),(s._layouting=!l)&&(n?s._layoutTimeout=setTimeout(a,16):a())})}()},t.prototype._updateController=function(e,n,s){var a=this,l=this._controller,d=this._controllerHost,h=this.group;l.setPointerChecker(function(f,m,_){var C=h.getBoundingRect();return C.applyTransform(h.transform),C.contain(m,_)&&!yT(f,s,e)}),e2(e.coordinateSystem)?(l.enable(e.get("roam")),d.zoomLimit=e.get("scaleLimit"),d.zoom=e.coordinateSystem.getZoom(),l.off("pan").off("zoom").on("pan",function(f){RI(d,f.dx,f.dy),s.dispatchAction({seriesId:e.id,type:"graphRoam",dx:f.dx,dy:f.dy})}).on("zoom",function(f){II(d,f.scale,f.originX,f.originY),s.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:f.scale,originX:f.originX,originY:f.originY}),a._updateNodeAndLinkScale(),gP(e.getGraph(),zS(e)),a._lineDraw.updateLayout(),s.updateLabelLayout()})):l.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,n=e.getData(),s=zS(e);n.eachItemGraphicEl(function(a,l){a&&a.setSymbolScale(s)})},t.prototype.updateLayout=function(e){gP(e.getGraph(),zS(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(fs);const A8=E8;function n0(i){return"_EC_"+i}var T8=function(){function i(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(t,e){var n=this._nodesMap;if(!n[n0(t=null==t?""+e:""+t)]){var s=new sb(t,e);return s.hostGraph=this,this.nodes.push(s),n[n0(t)]=s,s}},i.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},i.prototype.getNodeById=function(t){return this._nodesMap[n0(t)]},i.prototype.addEdge=function(t,e,n){var s=this._nodesMap,a=this._edgesMap;if(Di(t)&&(t=this.nodes[t]),Di(e)&&(e=this.nodes[e]),t instanceof sb||(t=s[n0(t)]),e instanceof sb||(e=s[n0(e)]),t&&e){var l=t.id+"-"+e.id,d=new t2(t,e,n);return d.hostGraph=this,this._directed&&(t.outEdges.push(d),e.inEdges.push(d)),t.edges.push(d),t!==e&&e.edges.push(d),this.edges.push(d),a[l]=d,d}},i.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},i.prototype.getEdge=function(t,e){t instanceof sb&&(t=t.id),e instanceof sb&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},i.prototype.eachNode=function(t,e){for(var n=this.nodes,s=n.length,a=0;a<s;a++)n[a].dataIndex>=0&&t.call(e,n[a],a)},i.prototype.eachEdge=function(t,e){for(var n=this.edges,s=n.length,a=0;a<s;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(e,n[a],a)},i.prototype.breadthFirstTraverse=function(t,e,n,s){if(e instanceof sb||(e=this._nodesMap[n0(e)]),e){for(var a="out"===n?"outEdges":"in"===n?"inEdges":"edges",l=0;l<this.nodes.length;l++)this.nodes[l].__visited=!1;if(!t.call(s,e,null))for(var d=[e];d.length;){var h=d.shift(),f=h[a];for(l=0;l<f.length;l++){var m=f[l],_=m.node1===h?m.node2:m.node1;if(!_.__visited){if(t.call(s,_,h))return;d.push(_),_.__visited=!0}}}}},i.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,s=this.edges,a=0,l=n.length;a<l;a++)n[a].dataIndex=-1;for(a=0,l=t.count();a<l;a++)n[t.getRawIndex(a)].dataIndex=a;for(e.filterSelf(function(d){var h=s[e.getRawIndex(d)];return h.node1.dataIndex>=0&&h.node2.dataIndex>=0}),a=0,l=s.length;a<l;a++)s[a].dataIndex=-1;for(a=0,l=e.count();a<l;a++)s[e.getRawIndex(a)].dataIndex=a},i.prototype.clone=function(){for(var t=new i(this._directed),e=this.nodes,n=this.edges,s=0;s<e.length;s++)t.addNode(e[s].id,e[s].dataIndex);for(s=0;s<n.length;s++){var a=n[s];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},i}(),sb=function(){function i(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return i.prototype.degree=function(){return this.edges.length},i.prototype.inDegree=function(){return this.inEdges.length},i.prototype.outDegree=function(){return this.outEdges.length},i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},i.prototype.getTrajectoryDataIndices=function(){for(var t=Rn(),e=Rn(),n=0;n<this.edges.length;n++){var s=this.edges[n];if(!(s.dataIndex<0)){t.set(s.dataIndex,!0);for(var a=[s.node1],l=[s.node2],d=0;d<a.length;){var h=a[d];d++,e.set(h.dataIndex,!0);for(var f=0;f<h.inEdges.length;f++)t.set(h.inEdges[f].dataIndex,!0),a.push(h.inEdges[f].node1)}for(d=0;d<l.length;){var m=l[d];for(d++,e.set(m.dataIndex,!0),f=0;f<m.outEdges.length;f++)t.set(m.outEdges[f].dataIndex,!0),l.push(m.outEdges[f].node2)}}}return{edge:t.keys(),node:e.keys()}},i}(),t2=function(){function i(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=n??-1}return i.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},i.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},i.prototype.getTrajectoryDataIndices=function(){var t=Rn(),e=Rn();t.set(this.dataIndex,!0);for(var n=[this.node1],s=[this.node2],a=0;a<n.length;){var l=n[a];a++,e.set(l.dataIndex,!0);for(var d=0;d<l.inEdges.length;d++)t.set(l.inEdges[d].dataIndex,!0),n.push(l.inEdges[d].node1)}for(a=0;a<s.length;){var h=s[a];for(a++,e.set(h.dataIndex,!0),d=0;d<h.outEdges.length;d++)t.set(h.outEdges[d].dataIndex,!0),s.push(h.outEdges[d].node2)}return{edge:t.keys(),node:e.keys()}},i}();function n2(i,t){return{getValue:function(e){var n=this[i][t];return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,n){this.dataIndex>=0&&this[i][t].setItemVisual(this.dataIndex,e,n)},getVisual:function(e){return this[i][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,n){this.dataIndex>=0&&this[i][t].setItemLayout(this.dataIndex,e,n)},getLayout:function(){return this[i][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[i][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[i][t].getRawIndex(this.dataIndex)}}}Gt(sb,n2("hostGraph","data")),Gt(t2,n2("hostGraph","edgeData"));const M8=T8;function r2(i,t,e,n,s){for(var a=new M8(n),l=0;l<i.length;l++)a.addNode(ln(i[l].id,i[l].name,l),l);var d=[],h=[],f=0;for(l=0;l<t.length;l++){var m=t[l],_=m.source,C=m.target;a.addEdge(_,C,f)&&(h.push(m),d.push(ln(Ns(m.id,null),_+" > "+C)),f++)}var D,w=e.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)D=sp(i,e);else{var T=qh.get(w),I=T&&T.dimensions||[];Te(I,"value")<0&&I.concat(["value"]);var F=Kv(i,{coordDimensions:I,encodeDefine:e.getEncode()}).dimensions;(D=new nd(F,e)).initData(i)}var V=new nd(["value"],e);return V.initData(h,d),s&&s(D,V),yN({mainData:D,struct:a,structAttr:"graph",datas:{node:D,edge:V},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var R8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return P(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments);var n=this;function s(){return n._categoriesData}this.legendVisualProvider=new TS(s,s),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){i.prototype.mergeDefaultAndTheme.apply(this,arguments),Ul(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,n){var s=e.edges||e.links||[],a=e.data||e.nodes||[],l=this;if(a&&s){!function u8(i){RT(i)&&(i.__curvenessList=[],i.__edgeMap={},GN(i))}(this);var d=r2(a,s,this,!0,function h(f,m){f.wrapMethod("getItemModel",function(D){var F=l._categoriesModels[D.getShallow("category")];return F&&(F.parentModel=D.parentModel,D.parentModel=F),D});var _=Vi.prototype.getModel;function C(D,T){var I=_.call(this,D,T);return I.resolveParentPath=w,I}function w(D){if(D&&("label"===D[0]||"label"===D[1])){var T=D.slice();return"label"===D[0]?T[0]="edgeLabel":"label"===D[1]&&(T[1]="edgeLabel"),T}return D}m.wrapMethod("getItemModel",function(D){return D.resolveParentPath=w,D.getModel=C,D})});return te(d.edges,function(f){!function h8(i,t,e,n){if(RT(e)){var s=US(i,t,e),a=e.__edgeMap,l=a[HN(s)];a[s]&&!l?a[s].isForward=!0:l&&a[s]&&(l.isForward=!0,a[s].isForward=!1),a[s]=a[s]||[],a[s].push(n)}}(f.node1,f.node2,this,f.dataIndex)},this),d.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,n,s){if("edge"===s){var a=this.getData(),l=this.getDataParams(e,s),d=a.graph.getEdgeByIndex(e),h=a.getName(d.node1.dataIndex),f=a.getName(d.node2.dataIndex),m=[];return null!=h&&m.push(h),null!=f&&m.push(f),gl("nameValue",{name:m.join(" > "),value:l.value,noValue:null==l.value})}return Rw({series:this,dataIndex:e,multipleSeries:n})},t.prototype._updateCategoriesData=function(){var e=ge(this.option.categories||[],function(s){return null!=s.value?s:Dt({value:0},s)}),n=new nd(["value"],this);n.initData(e),this._categoriesData=n,this._categoriesModels=n.mapArray(function(s){return n.getItemModel(s)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return i.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Us);const I8=R8;var P8={type:"graphRoam",event:"graphRoam",update:"none"},F8=function i(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},O8=function(i){function t(e){var n=i.call(this,e)||this;return n.type="pointer",n}return P(t,i),t.prototype.getDefaultShape=function(){return new F8},t.prototype.buildPath=function(e,n){var s=Math.cos,a=Math.sin,l=n.r,d=n.width,h=n.angle,f=n.x-s(h)*d*(d>=l/3?1:2),m=n.y-a(h)*d*(d>=l/3?1:2);h=n.angle-Math.PI/2,e.moveTo(f,m),e.lineTo(n.x+s(h)*d,n.y+a(h)*d),e.lineTo(n.x+s(n.angle)*l,n.y+a(n.angle)*l),e.lineTo(n.x-s(h)*d,n.y-a(h)*d),e.lineTo(f,m)},t}($r);const L8=O8;function IT(i,t){var e=null==i?"":i+"";return t&&(Ii(t)?e=t.replace("{value}",e):Nt(t)&&(e=t(i))),e}var B8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){this.group.removeAll();var a=e.get(["axisLine","lineStyle","color"]),l=function N8(i,t){var e=i.get("center"),n=t.getWidth(),s=t.getHeight(),a=Math.min(n,s);return{cx:kn(e[0],t.getWidth()),cy:kn(e[1],t.getHeight()),r:kn(i.get("radius"),a/2)}}(e,s);this._renderMain(e,n,s,a,l),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,n,s,a,l){var d=this.group,h=e.get("clockwise"),f=-e.get("startAngle")/180*Math.PI,m=-e.get("endAngle")/180*Math.PI,_=e.getModel("axisLine"),w=_.get("roundCap")?uT:xc,D=_.get("show"),T=_.getModel("lineStyle"),I=T.get("width"),F=[f,m];Nm(F,!h);for(var V=(m=F[1])-(f=F[0]),H=f,re=[],fe=0;D&&fe<a.length;fe++){var Ee=new w({shape:{startAngle:H,endAngle:m=f+V*Math.min(Math.max(a[fe][0],0),1),cx:l.cx,cy:l.cy,clockwise:h,r0:l.r-I,r:l.r},silent:!0});Ee.setStyle({fill:a[fe][1]}),Ee.setStyle(T.getLineStyle(["color","width"])),re.push(Ee),H=m}re.reverse(),te(re,function(ze){return d.add(ze)});var Ue=function(ze){if(ze<=0)return a[0][1];var nt;for(nt=0;nt<a.length;nt++)if(a[nt][0]>=ze&&(0===nt?0:a[nt-1][0])<ze)return a[nt][1];return a[nt-1][1]};this._renderTicks(e,n,s,Ue,l,f,m,h,I),this._renderTitleAndDetail(e,n,s,Ue,l),this._renderAnchor(e,l),this._renderPointer(e,n,s,Ue,l,f,m,h,I)},t.prototype._renderTicks=function(e,n,s,a,l,d,h,f,m){for(var hi,gi,_=this.group,C=l.cx,w=l.cy,D=l.r,T=+e.get("min"),I=+e.get("max"),F=e.getModel("splitLine"),V=e.getModel("axisTick"),H=e.getModel("axisLabel"),re=e.get("splitNumber"),fe=V.get("splitNumber"),de=kn(F.get("length"),D),Ee=kn(V.get("length"),D),Ue=d,ze=(h-d)/re,nt=ze/fe,gt=F.getModel("lineStyle").getLineStyle(),Vt=V.getModel("lineStyle").getLineStyle(),$t=F.get("distance"),Pi=0;Pi<=re;Pi++){if(hi=Math.cos(Ue),gi=Math.sin(Ue),F.get("show")){var ji=new Yl({shape:{x1:hi*(D-(Yi=$t?$t+m:m))+C,y1:gi*(D-Yi)+w,x2:hi*(D-de-Yi)+C,y2:gi*(D-de-Yi)+w},style:gt,silent:!0});"auto"===gt.stroke&&ji.setStyle({stroke:a(Pi/re)}),_.add(ji)}if(H.get("show")){var Yi=H.get("distance")+$t,rn=IT(Fo(Pi/re*(I-T)+T),H.get("formatter")),bn=a(Pi/re),In=hi*(D-de-Yi)+C,Vn=gi*(D-de-Yi)+w,lr=H.get("rotate"),ur=0;"radial"===lr?(ur=-Ue+2*Math.PI)>Math.PI/2&&(ur+=Math.PI):"tangential"===lr?ur=-Ue-Math.PI/2:Di(lr)&&(ur=lr*Math.PI/180),_.add(new lo(0===ur?{style:Ms(H,{text:rn,x:In,y:Vn,verticalAlign:gi<-.8?"top":gi>.8?"bottom":"middle",align:hi<-.4?"left":hi>.4?"right":"center"},{inheritColor:bn}),silent:!0}:{style:Ms(H,{text:rn,x:In,y:Vn,verticalAlign:"middle",align:"center"},{inheritColor:bn}),silent:!0,originX:In,originY:Vn,rotation:ur}))}if(V.get("show")&&Pi!==re){Yi=(Yi=V.get("distance"))?Yi+m:m;for(var Yr=0;Yr<=fe;Yr++){hi=Math.cos(Ue),gi=Math.sin(Ue);var xo=new Yl({shape:{x1:hi*(D-Yi)+C,y1:gi*(D-Yi)+w,x2:hi*(D-Ee-Yi)+C,y2:gi*(D-Ee-Yi)+w},silent:!0,style:Vt});"auto"===Vt.stroke&&xo.setStyle({stroke:a((Pi+Yr/fe)/re)}),_.add(xo),Ue+=nt}Ue-=nt}else Ue+=ze}},t.prototype._renderPointer=function(e,n,s,a,l,d,h,f,m){var _=this.group,C=this._data,w=this._progressEls,D=[],T=e.get(["pointer","show"]),I=e.getModel("progress"),F=I.get("show"),V=e.getData(),H=V.mapDimension("value"),re=+e.get("min"),fe=+e.get("max"),de=[re,fe],Ee=[d,h];function Ue(nt,gt){var In,$t=V.getItemModel(nt).getModel("pointer"),hi=kn($t.get("width"),l.r),gi=kn($t.get("length"),l.r),Pi=e.get(["pointer","icon"]),Yi=$t.get("offsetCenter"),ji=kn(Yi[0],l.r),rn=kn(Yi[1],l.r),bn=$t.get("keepAspect");return(In=Pi?Ma(Pi,ji-hi/2,rn-gi,hi,gi,null,bn):new L8({shape:{angle:-Math.PI/2,width:hi,r:gi,x:ji,y:rn}})).rotation=-(gt+Math.PI/2),In.x=l.cx,In.y=l.cy,In}function ze(nt,gt){var $t=I.get("roundCap")?uT:xc,hi=I.get("overlap"),gi=hi?I.get("width"):m/V.count(),ji=new $t({shape:{startAngle:d,endAngle:gt,cx:l.cx,cy:l.cy,clockwise:f,r0:hi?l.r-gi:l.r-(nt+1)*gi,r:hi?l.r:l.r-nt*gi}});return hi&&(ji.z2=fe-V.get(H,nt)%fe),ji}(F||T)&&(V.diff(C).add(function(nt){var gt=V.get(H,nt);if(T){var Vt=Ue(nt,d);as(Vt,{rotation:-((isNaN(+gt)?Ee[0]:gr(gt,de,Ee,!0))+Math.PI/2)},e),_.add(Vt),V.setItemGraphicEl(nt,Vt)}if(F){var $t=ze(nt,d),hi=I.get("clip");as($t,{shape:{endAngle:gr(gt,de,Ee,hi)}},e),_.add($t),Sb(e.seriesIndex,V.dataType,nt,$t),D[nt]=$t}}).update(function(nt,gt){var Vt=V.get(H,nt);if(T){var $t=C.getItemGraphicEl(gt),hi=$t?$t.rotation:d,gi=Ue(nt,hi);gi.rotation=hi,wo(gi,{rotation:-((isNaN(+Vt)?Ee[0]:gr(Vt,de,Ee,!0))+Math.PI/2)},e),_.add(gi),V.setItemGraphicEl(nt,gi)}if(F){var Pi=w[gt],ji=ze(nt,Pi?Pi.shape.endAngle:d),rn=I.get("clip");wo(ji,{shape:{endAngle:gr(Vt,de,Ee,rn)}},e),_.add(ji),Sb(e.seriesIndex,V.dataType,nt,ji),D[nt]=ji}}).execute(),V.each(function(nt){var gt=V.getItemModel(nt),Vt=gt.getModel("emphasis"),$t=Vt.get("focus"),hi=Vt.get("blurScope"),gi=Vt.get("disabled");if(T){var Pi=V.getItemGraphicEl(nt),Yi=V.getItemVisual(nt,"style"),ji=Yi.fill;if(Pi instanceof hs){var rn=Pi.style;Pi.useStyle(Dt({image:rn.image,x:rn.x,y:rn.y,width:rn.width,height:rn.height},Yi))}else Pi.useStyle(Yi),"pointer"!==Pi.type&&Pi.setColor(ji);Pi.setStyle(gt.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===Pi.style.fill&&Pi.setStyle("fill",a(gr(V.get(H,nt),de,[0,1],!0))),Pi.z2EmphasisLift=0,el(Pi,gt),ea(Pi,$t,hi,gi)}if(F){var bn=D[nt];bn.useStyle(V.getItemVisual(nt,"style")),bn.setStyle(gt.getModel(["progress","itemStyle"]).getItemStyle()),bn.z2EmphasisLift=0,el(bn,gt),ea(bn,$t,hi,gi)}}),this._progressEls=D)},t.prototype._renderAnchor=function(e,n){var s=e.getModel("anchor");if(s.get("show")){var l=s.get("size"),d=s.get("icon"),h=s.get("offsetCenter"),f=s.get("keepAspect"),m=Ma(d,n.cx-l/2+kn(h[0],n.r),n.cy-l/2+kn(h[1],n.r),l,l,null,f);m.z2=s.get("showAbove")?1:0,m.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(m)}},t.prototype._renderTitleAndDetail=function(e,n,s,a,l){var d=this,h=e.getData(),f=h.mapDimension("value"),m=+e.get("min"),_=+e.get("max"),C=new zn,w=[],D=[],T=e.isAnimationEnabled(),I=e.get(["pointer","showAbove"]);h.diff(this._data).add(function(F){w[F]=new lo({silent:!0}),D[F]=new lo({silent:!0})}).update(function(F,V){w[F]=d._titleEls[V],D[F]=d._detailEls[V]}).execute(),h.each(function(F){var V=h.getItemModel(F),H=h.get(f,F),re=new zn,fe=a(gr(H,[m,_],[0,1],!0)),de=V.getModel("title");if(de.get("show")){var Ee=de.get("offsetCenter"),Ue=l.cx+kn(Ee[0],l.r),ze=l.cy+kn(Ee[1],l.r);(nt=w[F]).attr({z2:I?0:2,style:Ms(de,{x:Ue,y:ze,text:h.getName(F),align:"center",verticalAlign:"middle"},{inheritColor:fe})}),re.add(nt)}var gt=V.getModel("detail");if(gt.get("show")){var Vt=gt.get("offsetCenter"),$t=l.cx+kn(Vt[0],l.r),hi=l.cy+kn(Vt[1],l.r),gi=kn(gt.get("width"),l.r),Pi=kn(gt.get("height"),l.r),Yi=e.get(["progress","show"])?h.getItemVisual(F,"style").fill:fe,nt=D[F],ji=gt.get("formatter");nt.attr({z2:I?0:2,style:Ms(gt,{x:$t,y:hi,text:IT(H,ji),width:isNaN(gi)?null:gi,height:isNaN(Pi)?null:Pi,align:"center",verticalAlign:"middle"},{inheritColor:Yi})}),c(nt,{normal:gt},H,function(bn){return IT(bn,ji)}),T&&p(nt,F,h,e,{getFormattedLabel:function(bn,In,Vn,lr,ur,Yr){return IT(Yr?Yr.interpolatedValue:H,ji)}}),re.add(nt)}C.add(re)}),this.group.add(C),this._titleEls=w,this._detailEls=D},t.type="gauge",t}(fs);const V8=B8;var G8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return P(t,i),t.prototype.getInitialData=function(e,n){return ZC(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Us);const H8=G8;var z8=["itemStyle","opacity"],W8=function(i){function t(e,n){var s=i.call(this)||this,a=s,l=new md,d=new lo;return a.setTextContent(d),s.setTextGuideLine(l),s.updateData(e,n,!0),s}return P(t,i),t.prototype.updateData=function(e,n,s){var a=this,l=e.hostModel,d=e.getItemModel(n),h=e.getItemLayout(n),f=d.getModel("emphasis"),m=d.get(z8);m=m??1,s||Bd(a),a.useStyle(e.getItemVisual(n,"style")),a.style.lineJoin="round",s?(a.setShape({points:h.points}),a.style.opacity=0,as(a,{style:{opacity:m}},l,n)):wo(a,{style:{opacity:m},shape:{points:h.points}},l,n),el(a,d),this._updateLabel(e,n),ea(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e,n){var s=this,a=this.getTextGuideLine(),l=s.getTextContent(),d=e.hostModel,h=e.getItemModel(n),m=e.getItemLayout(n).label,_=e.getItemVisual(n,"style"),C=_.fill;Rl(l,za(h),{labelFetcher:e.hostModel,labelDataIndex:n,defaultOpacity:_.opacity,defaultText:e.getName(n)},{normal:{align:m.textAlign,verticalAlign:m.verticalAlign}}),s.setTextConfig({local:!0,inside:!!m.inside,insideStroke:C,outsideFill:C});var w=m.linePoints;a.setShape({points:w}),s.textGuideLineConfig={anchor:w?new sr(w[0][0],w[0][1]):null},wo(l,{style:{x:m.x,y:m.y}},d,n),l.attr({rotation:m.rotation,originX:m.x,originY:m.y,z2:10}),ne(s,me(h),{stroke:C})},t}(td),j8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.getData(),l=this._data,d=this.group;a.diff(l).add(function(h){var f=new W8(a,h);a.setItemGraphicEl(h,f),d.add(f)}).update(function(h,f){var m=l.getItemGraphicEl(f);m.updateData(a,h),d.add(m),a.setItemGraphicEl(h,m)}).remove(function(h){Kg(l.getItemGraphicEl(h),e,h)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(fs);const $8=j8;var K8=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new TS(at(this.getData,this),at(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,n){return ZC(this,{coordDimensions:["value"],encodeDefaulter:Se(X0,this)})},t.prototype._defaultLabelLine=function(e){Ul(e,"labelLine",["show"]);var n=e.labelLine,s=e.emphasis.labelLine;n.show=n.show&&e.label.show,s.show=s.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var n=this.getData(),s=i.prototype.getDataParams.call(this,e),a=n.mapDimension("value"),l=n.getSum(a);return s.percent=l?+(n.get(a,e)/l*100).toFixed(2):0,s.$vars.push("percent"),s},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Us);const X8=K8;function q8(i,t){i.eachSeriesByType("funnel",function(e){var n=e.getData(),s=n.mapDimension("value"),a=e.get("sort"),l=function Y8(i,t){return pl(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),d=e.get("orient"),h=l.width,f=l.height,m=function Q8(i,t){for(var e=i.mapDimension("value"),n=i.mapArray(e,function(h){return h}),s=[],a="ascending"===t,l=0,d=i.count();l<d;l++)s[l]=l;return Nt(t)?s.sort(t):"none"!==t&&s.sort(function(h,f){return a?n[h]-n[f]:n[f]-n[h]}),s}(n,a),_=l.x,C=l.y,w="horizontal"===d?[kn(e.get("minSize"),f),kn(e.get("maxSize"),f)]:[kn(e.get("minSize"),h),kn(e.get("maxSize"),h)],D=n.getDataExtent(s),T=e.get("min"),I=e.get("max");null==T&&(T=Math.min(D[0],0)),null==I&&(I=D[1]);var F=e.get("funnelAlign"),V=e.get("gap"),re=(("horizontal"===d?h:f)-V*(n.count()-1))/n.count(),fe=function(hi,gi){if("horizontal"===d){var Yi=gr(n.get(s,hi)||0,[T,I],w,!0),ji=void 0;switch(F){case"top":ji=C;break;case"center":ji=C+(f-Yi)/2;break;case"bottom":ji=C+(f-Yi)}return[[gi,ji],[gi,ji+Yi]]}var In,bn=gr(n.get(s,hi)||0,[T,I],w,!0);switch(F){case"left":In=_;break;case"center":In=_+(h-bn)/2;break;case"right":In=_+h-bn}return[[In,gi],[In+bn,gi]]};"ascending"===a&&(re=-re,V=-V,"horizontal"===d?_+=h:C+=f,m=m.reverse());for(var de=0;de<m.length;de++){var Ee=m[de],Ue=m[de+1],ze=n.getItemModel(Ee);if("horizontal"===d){var nt=ze.get(["itemStyle","width"]);null==nt?nt=re:(nt=kn(nt,h),"ascending"===a&&(nt=-nt));var gt=fe(Ee,_),Vt=fe(Ue,_+nt);_+=nt+V,n.setItemLayout(Ee,{points:gt.concat(Vt.slice().reverse())})}else{var $t=ze.get(["itemStyle","height"]);null==$t?$t=re:($t=kn($t,f),"ascending"===a&&($t=-$t)),gt=fe(Ee,C),Vt=fe(Ue,C+$t),C+=$t+V,n.setItemLayout(Ee,{points:gt.concat(Vt.slice().reverse())})}}!function Z8(i){var e=i.hostModel.get("orient");i.each(function(n){var _,C,w,D,s=i.getItemModel(n),l=s.getModel("label").get("position"),d=s.getModel("labelLine"),h=i.getItemLayout(n),f=h.points,m="inner"===l||"inside"===l||"center"===l||"insideLeft"===l||"insideRight"===l;if(m)"insideLeft"===l?(C=(f[0][0]+f[3][0])/2+5,w=(f[0][1]+f[3][1])/2,_="left"):"insideRight"===l?(C=(f[1][0]+f[2][0])/2-5,w=(f[1][1]+f[2][1])/2,_="right"):(C=(f[0][0]+f[1][0]+f[2][0]+f[3][0])/4,w=(f[0][1]+f[1][1]+f[2][1]+f[3][1])/4,_="center"),D=[[C,w],[C,w]];else{var T=void 0,I=void 0,F=void 0,V=void 0,H=d.get("length");"left"===l?(I=(f[3][1]+f[0][1])/2,C=(F=(T=(f[3][0]+f[0][0])/2)-H)-5,_="right"):"right"===l?(I=(f[1][1]+f[2][1])/2,C=(F=(T=(f[1][0]+f[2][0])/2)+H)+5,_="left"):"top"===l?(T=(f[3][0]+f[0][0])/2,w=(V=(I=(f[3][1]+f[0][1])/2)-H)-5,_="center"):"bottom"===l?(T=(f[1][0]+f[2][0])/2,w=(V=(I=(f[1][1]+f[2][1])/2)+H)+5,_="center"):"rightTop"===l?(T="horizontal"===e?f[3][0]:f[1][0],I="horizontal"===e?f[3][1]:f[1][1],"horizontal"===e?(w=(V=I-H)-5,_="center"):(C=(F=T+H)+5,_="top")):"rightBottom"===l?(T=f[2][0],I=f[2][1],"horizontal"===e?(w=(V=I+H)+5,_="center"):(C=(F=T+H)+5,_="bottom")):"leftTop"===l?(T=f[0][0],I="horizontal"===e?f[0][1]:f[1][1],"horizontal"===e?(w=(V=I-H)-5,_="center"):(C=(F=T-H)-5,_="right")):"leftBottom"===l?(T="horizontal"===e?f[1][0]:f[3][0],I="horizontal"===e?f[1][1]:f[2][1],"horizontal"===e?(w=(V=I+H)+5,_="center"):(C=(F=T-H)-5,_="right")):(T=(f[1][0]+f[2][0])/2,I=(f[1][1]+f[2][1])/2,"horizontal"===e?(w=(V=I+H)+5,_="center"):(C=(F=T+H)+5,_="left")),"horizontal"===e?C=F=T:w=V=I,D=[[T,I],[F,V]]}h.label={linePoints:D,x:C,y:w,verticalAlign:"middle",textAlign:_,inside:m}})}(n)})}var tW=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new zn,e._initialized=!1,e}return P(t,i),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,n,s,a){this._progressiveEls=null;var l=this._dataGroup,d=e.getData(),h=this._data,f=e.coordinateSystem,m=f.dimensions,_=a2(e);if(d.diff(h).add(function C(I){mP(s2(d,l,I,m,f),d,I,_)}).update(function w(I,F){var V=h.getItemGraphicEl(F),H=o2(d,I,m,f);d.setItemGraphicEl(I,V),wo(V,{shape:{points:H}},e,I),Bd(V),mP(V,d,I,_)}).remove(function D(I){var F=h.getItemGraphicEl(I);l.remove(F)}).execute(),!this._initialized){this._initialized=!0;var T=function iW(i,t,e){var n=i.model,s=i.getRect(),a=new kr({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),l="horizontal"===n.get("layout")?"width":"height";return a.setShape(l,0),as(a,{shape:{width:s.width,height:s.height}},t,e),a}(f,e,function(){setTimeout(function(){l.removeClipPath()})});l.setClipPath(T)}this._data=d},t.prototype.incrementalPrepareRender=function(e,n,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,n,s){for(var a=n.getData(),l=n.coordinateSystem,d=l.dimensions,h=a2(n),f=this._progressiveEls=[],m=e.start;m<e.end;m++){var _=s2(a,this._dataGroup,m,d,l);_.incremental=!0,mP(_,a,m,h),f.push(_)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(fs);function o2(i,t,e,n){for(var s=[],a=0;a<e.length;a++){var l=e[a],d=i.get(i.mapDimension(l),t);nW(d,n.getAxis(l).type)||s.push(n.dataToPoint(d,l))}return s}function s2(i,t,e,n,s){var a=o2(i,e,n,s),l=new md({shape:{points:a},z2:10});return t.add(l),i.setItemGraphicEl(e,l),l}function a2(i){var t=i.get("smooth",!0);return!0===t&&(t=.3),Xi(t=oc(t))&&(t=0),{smooth:t}}function mP(i,t,e,n){i.useStyle(t.getItemVisual(e,"style")),i.style.fill=null,i.setShape("smooth",n.smooth);var s=t.getItemModel(e),a=s.getModel("emphasis");el(i,s,"lineStyle"),ea(i,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function nW(i,t){return"category"===t?null==i:null==i||isNaN(i)}const rW=tW;var oW=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return P(t,i),t.prototype.getInitialData=function(e,n){return sp(null,this,{useEncodeDefaulter:at(sW,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var n=this.coordinateSystem,s=this.getData(),a=[];return n.eachActiveState(s,function(l,d){e===l&&a.push(s.getRawIndex(d))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Us);function sW(i){var t=i.ecModel.getComponent("parallel",i.get("parallelIndex"));if(t){var e={};return te(t.dimensions,function(n){var s=function aW(i){return+i.replace("dim","")}(n);e[n]=s}),e}}const lW=oW;var cW=["lineStyle","opacity"],dW={seriesType:"parallel",reset:function(i,t){var e=i.coordinateSystem,n={normal:i.get(["lineStyle","opacity"]),active:i.get("activeOpacity"),inactive:i.get("inactiveOpacity")};return{progress:function(s,a){e.eachActiveState(a,function(l,d){var h=n[l];if("normal"===l&&a.hasItemOption){var f=a.getItemModel(d).get(cW,!0);null!=f&&(h=f)}a.ensureUniqueItemVisual(d,"style").opacity=h},s.start,s.end)}}}};const uW=dW;function hW(i){(function pW(i){if(!i.parallel){var t=!1;te(i.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(i.parallel=[{}])}})(i),function fW(i){te(Fr(i.parallelAxis),function(e){if(Zi(e)){var n=e.parallelIndex||0,s=Fr(i.parallel)[n];s&&s.parallelAxisDefault&&Pt(e,s.parallelAxisDefault,!1)}})}(i)}var mW=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){this._model=e,this._api=s,this._handlers||(this._handlers={},te(vW,function(a,l){s.getZr().on(l,this._handlers[l]=at(a,this))},this)),Rv(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,n){__(this,"_throttledDispatchExpand"),te(this._handlers,function(s,a){n.getZr().off(a,s)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(Dt({type:"parallelAxisExpand"},e))},t.type="parallel",t}(Ks),vW={mousedown:function(i){vP(this,"click")&&(this._mouseDownPoint=[i.offsetX,i.offsetY])},mouseup:function(i){var t=this._mouseDownPoint;if(vP(this,"click")&&t){var e=[i.offsetX,i.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]);"none"!==s.behavior&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(i){if(!this._mouseDownPoint&&vP(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([i.offsetX,i.offsetY]),n=e.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function vP(i,t){var e=i._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}const yW=mW;var _W=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(){i.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&Pt(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,n){var s=e.get("parallelIndex");return null!=s&&n.getComponent("parallel",s)===this},t.prototype.setAxisExpand=function(e){te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){e.hasOwnProperty(n)&&(this.option[n]=e[n])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[];te(Ve(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){e.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(go);const bW=_W;var CW=function(i){function t(e,n,s,a,l){var d=i.call(this,e,n,s)||this;return d.type=a||"value",d.axisIndex=l,d}return P(t,i),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(Qu);const wW=CW;function ab(i,t,e,n,s,a){i=i||0;var l=e[1]-e[0];if(null!=s&&(s=r0(s,[0,l])),null!=a&&(a=Math.max(a,s??0)),"all"===n){var d=Math.abs(t[1]-t[0]);d=r0(d,[0,l]),s=a=r0(d,[s,a]),n=0}t[0]=r0(t[0],e),t[1]=r0(t[1],e);var h=yP(t,n);t[n]+=i;var _,f=s||0,m=e.slice();return h.sign<0?m[0]+=f:m[1]-=f,t[n]=r0(t[n],m),_=yP(t,n),null!=s&&(_.sign!==h.sign||_.span<s)&&(t[1-n]=t[n]+h.sign*s),_=yP(t,n),null!=a&&_.span>a&&(t[1-n]=t[n]+_.sign*a),t}function yP(i,t){var e=i[t]-i[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function r0(i,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,i))}var _P=te,l2=Math.min,c2=Math.max,d2=Math.floor,xW=Math.ceil,u2=Fo,SW=Math.PI,DW=function(){function i(t,e,n){this.type="parallel",this._axesMap=Rn(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var a=t.parallelAxisIndex;_P(t.dimensions,function(l,d){var h=a[d],f=e.getComponent("parallelAxis",h),m=this._axesMap.set(l,new wW(l,U_(f),[0,0],f.get("type"),h));m.onBand="category"===m.type&&f.get("boundaryGap"),m.inverse=f.get("inverse"),f.axis=m,m.model=f,m.coordinateSystem=f.coordinateSystem=this},this)},i.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},i.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),n=e.axisBase,s=e.layoutBase,a=e.pixelDimIndex,l=t[1-a],d=t[a];return l>=n&&l<=n+e.axisLength&&d>=s&&d<=s+e.layoutLength},i.prototype.getModel=function(){return this._model},i.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(n){if(t.contains(n,e)){var s=n.getData();_P(this.dimensions,function(a){var l=this._axesMap.get(a);l.scale.unionExtentFromData(s,s.mapDimension(a)),vm(l.scale,l.model)},this)}},this)},i.prototype.resize=function(t,e){this._rect=pl(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},i.prototype.getRect=function(){return this._rect},i.prototype._makeLayoutInfo=function(){var D,t=this._model,e=this._rect,n=["x","y"],s=["width","height"],a=t.get("layout"),l="horizontal"===a?0:1,d=e[s[l]],h=[0,d],f=this.dimensions.length,m=PT(t.get("axisExpandWidth"),h),_=PT(t.get("axisExpandCount")||0,[0,f]),C=t.get("axisExpandable")&&f>3&&f>_&&_>1&&m>0&&d>0,w=t.get("axisExpandWindow");w?(D=PT(w[1]-w[0],h),w[1]=w[0]+D):(D=PT(m*(_-1),h),(w=[m*(t.get("axisExpandCenter")||d2(f/2))-D/2])[1]=w[0]+D);var I=(d-D)/(f-_);I<3&&(I=0);var F=[d2(u2(w[0]/m,1))+1,xW(u2(w[1]/m,1))-1];return{layout:a,pixelDimIndex:l,layoutBase:e[n[l]],layoutLength:d,axisBase:e[n[1-l]],axisLength:e[s[1-l]],axisExpandable:C,axisExpandWidth:m,axisCollapseWidth:I,axisExpandWindow:w,axisCount:f,winInnerIndices:F,axisExpandWindow0Pos:I/m*w[0]}},i.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,n=this.dimensions,s=this._makeLayoutInfo(),a=s.layout;e.each(function(l){var d=[0,s.axisLength],h=l.inverse?1:0;l.setExtent(d[h],d[1-h])}),_P(n,function(l,d){var h=(s.axisExpandable?AW:EW)(d,s),f={horizontal:{x:h.position,y:s.axisLength},vertical:{x:0,y:h.position}},_=[f[a].x+t.x,f[a].y+t.y],C={horizontal:SW/2,vertical:0}[a],w=[1,0,0,1,0,0];xs(w,w,C),ol(w,w,_),this._axesLayout[l]={position:_,rotation:C,transform:w,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},i.prototype.getAxis=function(t){return this._axesMap.get(t)},i.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},i.prototype.eachActiveState=function(t,e,n,s){null==n&&(n=0),null==s&&(s=t.count());var a=this._axesMap,l=this.dimensions,d=[],h=[];te(l,function(I){d.push(t.mapDimension(I)),h.push(a.get(I).model)});for(var f=this.hasAxisBrushed(),m=n;m<s;m++){var _=void 0;if(f){_="active";for(var C=t.getValues(d,m),w=0,D=l.length;w<D;w++)if("inactive"===h[w].getActiveState(C[w])){_="inactive";break}}else _="normal";e(_,m)}},i.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,n=!1,s=0,a=t.length;s<a;s++)"normal"!==e.get(t[s]).model.getActiveState()&&(n=!0);return n},i.prototype.axisCoordToPoint=function(t,e){return $u([t,0],this._axesLayout[e].transform)},i.prototype.getAxisLayout=function(t){return xe(this._axesLayout[t])},i.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,s=e.axisExpandWindow.slice(),a=s[1]-s[0],l=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:s};var h,d=t[n]-e.layoutBase-e.axisExpandWindow0Pos,f="slide",m=e.axisCollapseWidth,_=this._model.get("axisExpandSlideTriggerArea"),C=null!=_[0];if(m)C&&m&&d<a*_[0]?(f="jump",h=d-a*_[2]):C&&m&&d>a*(1-_[0])?(f="jump",h=d-a*(1-_[2])):(h=d-a*_[1])>=0&&(h=d-a*(1-_[1]))<=0&&(h=0),(h*=e.axisExpandWidth/m)?ab(h,s,l,"all"):f="none";else{var w=s[1]-s[0];(s=[c2(0,l[1]*d/w-w/2)])[1]=l2(l[1],s[0]+w),s[0]=s[1]-w}return{axisExpandWindow:s,behavior:f}},i}();function PT(i,t){return l2(c2(i,t[0]),t[1])}function EW(i,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*i,axisNameAvailableWidth:e,axisLabelShow:!0}}function AW(i,t){var d,m,n=t.axisExpandWidth,a=t.axisCollapseWidth,l=t.winInnerIndices,h=a,f=!1;return i<l[0]?(d=i*a,m=a):i<=l[1]?(d=t.axisExpandWindow0Pos+i*n-t.axisExpandWindow[0],h=n,f=!0):(d=t.layoutLength-(t.axisCount-1-i)*a,m=a),{position:d,axisNameAvailableWidth:h,axisLabelShow:f,nameTruncateMaxWidth:m}}const TW=DW;var RW={create:function MW(i,t){var e=[];return i.eachComponent("parallel",function(n,s){var a=new TW(n,i,t);a.name="parallel_"+s,a.resize(n,t),n.coordinateSystem=a,a.model=n,e.push(a)}),i.eachSeries(function(n){if("parallel"===n.get("coordinateSystem")){var s=n.getReferringComponents("parallel",mi).models[0];n.coordinateSystem=s.coordinateSystem}}),e}};const IW=RW;var h2=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return P(t,i),t.prototype.getAreaSelectStyle=function(){return ba([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var n=this.activeIntervals=xe(e);if(n)for(var s=n.length-1;s>=0;s--)Hl(n[s])},t.prototype.getActiveState=function(e){var n=this.activeIntervals;if(!n.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===n.length){var s=n[0];if(s[0]<=e&&e<=s[1])return"active"}else for(var a=0,l=n.length;a<l;a++)if(n[a][0]<=e&&e<=n[a][1])return"active";return"inactive"},t}(go);Gt(h2,z_);const p2=h2;var lb=!0,jS=Math.min,o0=Math.max,PW=Math.pow,kW=1e4,FW=6,OW=6,f2="globalPan",LW={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},NW={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},g2={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},BW=0,VW=function(i){function t(e){var n=i.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new zn,n._uid="brushController_"+BW++,te($W,function(s,a){this._handlers[a]=at(s,this)},n),n}return P(t,i),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var n=this._zr;this._enableGlobalPan||function K3(i,t,e){TI(i)[t]=e}(n,f2,this._uid),te(this._handlers,function(s,a){n.on(a,s)}),this._brushType=e.brushType,this._brushOption=Pt(xe(g2),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;(function X3(i,t,e){var n=TI(i);n[t]===e&&(n[t]=null)})(e,f2,this._uid),te(this._handlers,function(n,s){e.off(s,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var n=this._panels={};te(e,function(s){n[s.panelId]=xe(s)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=ge(e,function(C){return Pt(xe(g2),C,!0)});var s=this._covers,a=this._covers=[],l=this,d=this._creatingCover;return new op(s,e,function f(C,w){return h(C.__brushOption,w)},h).add(m).update(m).remove(function _(C){s[C]!==d&&l.group.remove(s[C])}).execute(),this;function h(C,w){return(null!=C.id?C.id:"\0-brush-index-"+w)+"-"+C.brushType}function m(C,w){var D=e[C];if(null!=w&&s[w]===d)a[C]=s[w];else{var T=a[C]=null!=w?(s[w].__brushOption=D,s[w]):v2(l,m2(l,D));bP(l,T)}}},t.prototype.unmount=function(){return this.enableBrush(!1),xP(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(ns);function m2(i,t){var e=kT[t.brushType].createCover(i,t);return e.__brushOption=t,_2(e,t),i.group.add(e),e}function v2(i,t){var e=CP(t);return e.endCreating&&(e.endCreating(i,t),_2(t,t.__brushOption)),t}function y2(i,t){var e=t.__brushOption;CP(t).updateCoverShape(i,t,e.range,e)}function _2(i,t){var e=t.z;null==e&&(e=kW),i.traverse(function(n){n.z=e,n.z2=e})}function bP(i,t){CP(t).updateCommon(i,t),y2(i,t)}function CP(i){return kT[i.__brushOption.brushType]}function wP(i,t,e){var n=i._panels;if(!n)return lb;var s,a=i._transform;return te(n,function(l){l.isTargetByCursor(t,e,a)&&(s=l)}),s}function b2(i,t){var e=i._panels;if(!e)return lb;var n=t.__brushOption.panelId;return null!=n?e[n]:lb}function xP(i){var t=i._covers,e=t.length;return te(t,function(n){i.group.remove(n)},i),t.length=0,!!e}function cb(i,t){var e=ge(i._covers,function(n){var s=n.__brushOption,a=xe(s.range);return{brushType:s.brushType,panelId:s.panelId,range:a}});i.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function C2(i){var t=i.length-1;return t<0&&(t=0),[i[0],i[t]]}function w2(i,t,e,n){var s=new zn;return s.add(new kr({name:"main",style:DP(e),silent:!0,draggable:!0,cursor:"move",drift:Se(D2,i,t,s,["n","s","w","e"]),ondragend:Se(cb,t,{isEnd:!0})})),te(n,function(a){s.add(new kr({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Se(D2,i,t,s,a),ondragend:Se(cb,t,{isEnd:!0})}))}),s}function x2(i,t,e,n){var s=n.brushStyle.lineWidth||0,a=o0(s,OW),l=e[0][0],d=e[1][0],h=l-s/2,f=d-s/2,m=e[0][1],_=e[1][1],C=m-a+s/2,w=_-a+s/2,D=m-l,T=_-d,I=D+s,F=T+s;Cm(i,t,"main",l,d,D,T),n.transformable&&(Cm(i,t,"w",h,f,a,F),Cm(i,t,"e",C,f,a,F),Cm(i,t,"n",h,f,I,a),Cm(i,t,"s",h,w,I,a),Cm(i,t,"nw",h,f,a,a),Cm(i,t,"ne",C,f,a,a),Cm(i,t,"sw",h,w,a,a),Cm(i,t,"se",C,w,a,a))}function SP(i,t){var e=t.__brushOption,n=e.transformable,s=t.childAt(0);s.useStyle(DP(e)),s.attr({silent:!n,cursor:n?"move":"default"}),te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var l=t.childOfName(a.join("")),d=1===a.length?EP(i,a[0]):function UW(i,t){var e=[EP(i,t[0]),EP(i,t[1])];return("e"===e[0]||"w"===e[0])&&e.reverse(),e.join("")}(i,a);l&&l.attr({silent:!n,invisible:!n,cursor:n?NW[d]+"-resize":null})})}function Cm(i,t,e,n,s,a,l){var d=t.childOfName(e);d&&d.setShape(function WW(i){var t=jS(i[0][0],i[1][0]),e=jS(i[0][1],i[1][1]);return{x:t,y:e,width:o0(i[0][0],i[1][0])-t,height:o0(i[0][1],i[1][1])-e}}(AP(i,t,[[n,s],[n+a,s+l]])))}function DP(i){return je({strokeNoScale:!0},i.brushStyle)}function S2(i,t,e,n){var s=[jS(i,e),jS(t,n)],a=[o0(i,e),o0(t,n)];return[[s[0],a[0]],[s[1],a[1]]]}function EP(i,t){var s=hC({w:"left",e:"right",n:"top",s:"bottom"}[t],function HW(i){return Jp(i.group)}(i));return{left:"w",right:"e",top:"n",bottom:"s"}[s]}function D2(i,t,e,n,s,a){var l=e.__brushOption,d=i.toRectRange(l.range),h=E2(t,s,a);te(n,function(f){var m=LW[f];d[m[0]][m[1]]+=h[m[0]]}),l.range=i.fromRectRange(S2(d[0][0],d[1][0],d[0][1],d[1][1])),bP(t,e),cb(t,{isEnd:!1})}function zW(i,t,e,n){var s=t.__brushOption.range,a=E2(i,e,n);te(s,function(l){l[0]+=a[0],l[1]+=a[1]}),bP(i,t),cb(i,{isEnd:!1})}function E2(i,t,e){var n=i.group,s=n.transformCoordToLocal(t,e),a=n.transformCoordToLocal(0,0);return[s[0]-a[0],s[1]-a[1]]}function AP(i,t,e){var n=b2(i,t);return n&&n!==lb?n.clipPath(e,i._transform):xe(e)}function TP(i){var t=i.event;t.preventDefault&&t.preventDefault()}function MP(i,t,e){return i.childOfName("main").contain(t,e)}function A2(i,t,e,n){var d,s=i._creatingCover,a=i._creatingPanel,l=i._brushOption;if(i._track.push(e.slice()),function GW(i){var t=i._track;if(!t.length)return!1;var e=t[t.length-1],n=t[0],s=e[0]-n[0],a=e[1]-n[1];return PW(s*s+a*a,.5)>FW}(i)||s){if(a&&!s){"single"===l.brushMode&&xP(i);var h=xe(l);h.brushType=T2(h.brushType,a),h.panelId=a===lb?null:a.panelId,s=i._creatingCover=m2(i,h),i._covers.push(s)}if(s){var f=kT[T2(i._brushType,a)];s.__brushOption.range=f.getCreatingRange(AP(i,s,i._track)),n&&(v2(i,s),f.updateCommon(i,s)),y2(i,s),d={isEnd:n}}}else n&&"single"===l.brushMode&&l.removeOnClick&&wP(i,t,e)&&xP(i)&&(d={isEnd:n,removeOnClick:!0});return d}function T2(i,t){return"auto"===i?t.defaultBrushType:i}var $W={mousedown:function(i){if(this._dragging)M2(this,i);else if(!i.target||!i.target.draggable){TP(i);var t=this.group.transformCoordToLocal(i.offsetX,i.offsetY);this._creatingCover=null,(this._creatingPanel=wP(this,i,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(i){var n=this.group.transformCoordToLocal(i.offsetX,i.offsetY);if(function jW(i,t,e){if(i._brushType&&!function KW(i,t,e){var n=i._zr;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}(i,t.offsetX,t.offsetY)){var n=i._zr,s=i._covers,a=wP(i,t,e);if(!i._dragging)for(var l=0;l<s.length;l++){var d=s[l].__brushOption;if(a&&(a===lb||d.panelId===a.panelId)&&kT[d.brushType].contain(s[l],e[0],e[1]))return}a&&n.setCursorStyle("crosshair")}}(this,i,n),this._dragging){TP(i);var s=A2(this,i,n,!1);s&&cb(this,s)}},mouseup:function(i){M2(this,i)}};function M2(i,t){if(i._dragging){TP(t);var s=i.group.transformCoordToLocal(t.offsetX,t.offsetY),a=A2(i,t,s,!0);i._dragging=!1,i._track=[],i._creatingCover=null,a&&cb(i,a)}}var kT={lineX:R2(0),lineY:R2(1),rect:{createCover:function(i,t){function e(n){return n}return w2({toRectRange:e,fromRectRange:e},i,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(i){var t=C2(i);return S2(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(i,t,e,n){x2(i,t,e,n)},updateCommon:SP,contain:MP},polygon:{createCover:function(i,t){var e=new zn;return e.add(new md({name:"main",style:DP(t),silent:!0})),e},getCreatingRange:function(i){return i},endCreating:function(i,t){t.remove(t.childAt(0)),t.add(new td({name:"main",draggable:!0,drift:Se(zW,i,t),ondragend:Se(cb,i,{isEnd:!0})}))},updateCoverShape:function(i,t,e,n){t.childAt(0).setShape({points:AP(i,t,e)})},updateCommon:SP,contain:MP}};function R2(i){return{createCover:function(t,e){return w2({toRectRange:function(n){var s=[n,[0,100]];return i&&s.reverse(),s},fromRectRange:function(n){return n[i]}},t,e,[[["w"],["e"]],[["n"],["s"]]][i])},getCreatingRange:function(t){var e=C2(t);return[jS(e[0][i],e[1][i]),o0(e[0][i],e[1][i])]},updateCoverShape:function(t,e,n,s){var a,l=b2(t,e);if(l!==lb&&l.getLinearBrushOtherExtent)a=l.getLinearBrushOtherExtent(i);else{var d=t._zr;a=[0,[d.getWidth(),d.getHeight()][1-i]]}var h=[n,a];i&&h.reverse(),x2(t,e,h,s)},updateCommon:SP,contain:MP}}const RP=VW;function I2(i){return i=IP(i),function(t){return pC(t,i)}}function P2(i,t){return i=IP(i),function(e){var n=t??e,a=n?i.x:i.y;return[a,a+((n?i.width:i.height)||0)]}}function k2(i,t,e){var n=IP(i);return function(s,a){return n.contain(a[0],a[1])&&!yT(s,t,e)}}function IP(i){return Qn.create(i)}var XW=["axisLine","axisTickLabel","axisName"],YW=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n){i.prototype.init.apply(this,arguments),(this._brushController=new RP(n.getZr())).on("brush",at(this._onBrush,this))},t.prototype.render=function(e,n,s,a){if(!function QW(i,t,e){return e&&"axisAreaSelect"===e.type&&t.findComponents({mainType:"parallelAxis",query:e})[0]===i}(e,n,a)){this.axisModel=e,this.api=s,this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new zn,this.group.add(this._axisGroup),e.get("show")){var d=function qW(i,t){return t.getComponent("parallel",i.get("parallelIndex"))}(e,n),h=d.coordinateSystem,f=e.getAreaSelectStyle(),m=f.width,w=Dt({strokeContainThreshold:m},h.getAxisLayout(e.axis.dim)),D=new _m(e,w);te(XW,D.add,D),this._axisGroup.add(D.getGroup()),this._refreshBrushController(w,f,e,d,m,s),Sv(l,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,n,s,a,l,d){var h=s.axis.getExtent(),f=h[1]-h[0],m=Math.min(30,.1*Math.abs(f)),_=Qn.create({x:h[0],y:-l/2,width:f,height:l});_.x-=m,_.width+=2*m,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:I2(_),isTargetByCursor:k2(_,d,a),getLinearBrushOtherExtent:P2(_,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(function ZW(i){var t=i.axis;return ge(i.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(s))},t.prototype._onBrush=function(e){var s=this.axisModel,a=s.axis,l=ge(e.areas,function(d){return[a.coordToData(d.range[0],!0),a.coordToData(d.range[1],!0)]});(!s.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:l})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Ks);const JW=YW;var e6={type:"axisAreaSelect",event:"axisAreaSelected"},n6={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function F2(i){i.registerComponentView(yW),i.registerComponentModel(bW),i.registerCoordinateSystem("parallel",IW),i.registerPreprocessor(hW),i.registerComponentModel(p2),i.registerComponentView(JW),qC(i,"parallel",p2,n6),function t6(i){i.registerAction(e6,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),i.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}(i)}var o6=function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},s6=function(i){function t(e){return i.call(this,e)||this}return P(t,i),t.prototype.getDefaultShape=function(){return new o6},t.prototype.buildPath=function(e,n){var s=n.extent;e.moveTo(n.x1,n.y1),e.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),"vertical"===n.orient?(e.lineTo(n.x2+s,n.y2),e.bezierCurveTo(n.cpx2+s,n.cpy2,n.cpx1+s,n.cpy1,n.x1+s,n.y1)):(e.lineTo(n.x2,n.y2+s),e.bezierCurveTo(n.cpx2,n.cpy2+s,n.cpx1,n.cpy1+s,n.x1,n.y1+s)),e.closePath()},t.prototype.highlight=function(){ru(this)},t.prototype.downplay=function(){Qc(this)},t}($r),a6=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return P(t,i),t.prototype.render=function(e,n,s){var a=this,l=e.getGraph(),d=this.group,h=e.layoutInfo,f=h.width,m=h.height,_=e.getData(),C=e.getData("edge"),w=e.get("orient");this._model=e,d.removeAll(),d.x=h.x,d.y=h.y,l.eachEdge(function(D){var T=new s6,I=dr(T);I.dataIndex=D.dataIndex,I.seriesIndex=e.seriesIndex,I.dataType="edge";var $t,hi,gi,Pi,Yi,ji,rn,bn,F=D.getModel(),V=F.getModel("lineStyle"),H=V.get("curveness"),re=D.node1.getLayout(),fe=D.node1.getModel(),de=fe.get("localX"),Ee=fe.get("localY"),Ue=D.node2.getLayout(),ze=D.node2.getModel(),nt=ze.get("localX"),gt=ze.get("localY"),Vt=D.getLayout();T.shape.extent=Math.max(1,Vt.dy),T.shape.orient=w,"vertical"===w?(Yi=$t=(null!=de?de*f:re.x)+Vt.sy,ji=(hi=(null!=Ee?Ee*m:re.y)+re.dy)*(1-H)+(Pi=null!=gt?gt*m:Ue.y)*H,rn=gi=(null!=nt?nt*f:Ue.x)+Vt.ty,bn=hi*H+Pi*(1-H)):(Yi=($t=(null!=de?de*f:re.x)+re.dx)*(1-H)+(gi=null!=nt?nt*f:Ue.x)*H,ji=hi=(null!=Ee?Ee*m:re.y)+Vt.sy,rn=$t*H+gi*(1-H),bn=Pi=(null!=gt?gt*m:Ue.y)+Vt.ty),T.setShape({x1:$t,y1:hi,x2:gi,y2:Pi,cpx1:Yi,cpy1:ji,cpx2:rn,cpy2:bn}),T.useStyle(V.getItemStyle()),O2(T.style,w,D);var In=""+F.get("value"),Vn=za(F,"edgeLabel");Rl(T,Vn,{labelFetcher:{getFormattedLabel:function(Yr,xo,qr,br,Jr,Lr){return e.getFormattedLabel(Yr,xo,"edge",br,fn(Jr,Vn.normal&&Vn.normal.get("formatter"),In),Lr)}},labelDataIndex:D.dataIndex,defaultText:In}),T.setTextConfig({position:"inside"});var lr=F.getModel("emphasis");el(T,F,"lineStyle",function(Yr){var xo=Yr.getItemStyle();return O2(xo,w,D),xo}),d.add(T),C.setItemGraphicEl(D.dataIndex,T);var ur=lr.get("focus");ea(T,"adjacency"===ur?D.getAdjacentDataIndices():"trajectory"===ur?D.getTrajectoryDataIndices():ur,lr.get("blurScope"),lr.get("disabled"))}),l.eachNode(function(D){var T=D.getLayout(),I=D.getModel(),F=I.get("localX"),V=I.get("localY"),H=I.getModel("emphasis"),re=I.get(["itemStyle","borderRadius"])||0,fe=new kr({shape:{x:null!=F?F*f:T.x,y:null!=V?V*m:T.y,width:T.dx,height:T.dy,r:re},style:I.getModel("itemStyle").getItemStyle(),z2:10});Rl(fe,za(I),{labelFetcher:{getFormattedLabel:function(Ee,Ue){return e.getFormattedLabel(Ee,Ue,"node")}},labelDataIndex:D.dataIndex,defaultText:D.id}),fe.disableLabelAnimation=!0,fe.setStyle("fill",D.getVisual("color")),fe.setStyle("decal",D.getVisual("style").decal),el(fe,I),d.add(fe),_.setItemGraphicEl(D.dataIndex,fe),dr(fe).dataType="node";var de=H.get("focus");ea(fe,"adjacency"===de?D.getAdjacentDataIndices():"trajectory"===de?D.getTrajectoryDataIndices():de,H.get("blurScope"),H.get("disabled"))}),_.eachItemGraphicEl(function(D,T){_.getItemModel(T).get("draggable")&&(D.drift=function(F,V){a._focusAdjacencyDisabled=!0,this.shape.x+=F,this.shape.y+=V,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:_.getRawIndex(T),localX:this.shape.x/f,localY:this.shape.y/m})},D.ondragend=function(){a._focusAdjacencyDisabled=!1},D.draggable=!0,D.cursor="move")}),!this._data&&e.isAnimationEnabled()&&d.setClipPath(function l6(i,t,e){var n=new kr({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return as(n,{shape:{width:i.width+20}},t,e),n}(d.getBoundingRect(),e,function(){d.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(fs);function O2(i,t,e){switch(i.fill){case"source":i.fill=e.node1.getVisual("color"),i.decal=e.node1.getVisual("style").decal;break;case"target":i.fill=e.node2.getVisual("color"),i.decal=e.node2.getVisual("style").decal;break;case"gradient":var n=e.node1.getVisual("color"),s=e.node2.getVisual("color");Ii(n)&&Ii(s)&&(i.fill=new am(0,0,+("horizontal"===t),+("vertical"===t),[{color:n,offset:0},{color:s,offset:1}]))}}const c6=a6;var d6=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.getInitialData=function(e,n){var s=e.edges||e.links,a=e.data||e.nodes,l=e.levels;this.levelModels=[];for(var d=this.levelModels,h=0;h<l.length;h++)null!=l[h].depth&&l[h].depth>=0&&(d[l[h].depth]=new Vi(l[h],this,n));if(a&&s)return r2(a,s,this,!0,function m(_,C){_.wrapMethod("getItemModel",function(w,D){var T=w.parentModel,I=T.getData().getItemLayout(D);if(I){var V=T.levelModels[I.depth];V&&(w.parentModel=V)}return w}),C.wrapMethod("getItemModel",function(w,D){var T=w.parentModel,F=T.getGraph().getEdgeByIndex(D).node1.getLayout();if(F){var H=T.levelModels[F.depth];H&&(w.parentModel=H)}return w})}).data},t.prototype.setNodePosition=function(e,n){var a=(this.option.data||this.option.nodes)[e];a.localX=n[0],a.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,n,s){function a(w){return isNaN(w)||null==w}if("edge"===s){var l=this.getDataParams(e,s),d=l.data,h=l.value;return gl("nameValue",{name:d.source+" -- "+d.target,value:h,noValue:a(h)})}var _=this.getGraph().getNodeByIndex(e).getLayout().value,C=this.getDataParams(e,s).data.name;return gl("nameValue",{name:null!=C?C+"":null,value:_,noValue:a(_)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,n){var s=i.prototype.getDataParams.call(this,e,n);if(null==s.value&&"node"===n){var l=this.getGraph().getNodeByIndex(e).getLayout().value;s.value=l}return s},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Us);const u6=d6;function h6(i,t){i.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth"),s=e.get("nodeGap"),a=function p6(i,t){return pl(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=a;var l=a.width,d=a.height,h=e.getGraph(),f=h.nodes,m=h.edges;!function g6(i){te(i,function(t){var e=ny(t.outEdges,FT),n=ny(t.inEdges,FT),s=t.getValue()||0,a=Math.max(e,n,s);t.setLayout({value:a},!0)})}(f),function f6(i,t,e,n,s,a,l,d,h){(function m6(i,t,e,n,s,a,l){for(var d=[],h=[],f=[],m=[],_=0,C=0;C<t.length;C++)d[C]=1;for(C=0;C<i.length;C++)h[C]=i[C].inEdges.length,0===h[C]&&f.push(i[C]);for(var w=-1;f.length;){for(var D=0;D<f.length;D++){var T=f[D],I=T.hostGraph.data.getRawDataItem(T.dataIndex),F=null!=I.depth&&I.depth>=0;F&&I.depth>w&&(w=I.depth),T.setLayout({depth:F?I.depth:_},!0),T.setLayout("vertical"===a?{dy:e}:{dx:e},!0);for(var V=0;V<T.outEdges.length;V++){var H=T.outEdges[V];d[t.indexOf(H)]=0;var fe=H.node2;0==--h[i.indexOf(fe)]&&m.indexOf(fe)<0&&m.push(fe)}}++_,f=m,m=[]}for(C=0;C<d.length;C++)if(1===d[C])throw new Error("Sankey is a DAG, the original data has cycle!");var Ee=w>_-1?w:_-1;l&&"left"!==l&&function v6(i,t,e,n){if("right"===t){for(var s=[],a=i,l=0;a.length;){for(var d=0;d<a.length;d++){var h=a[d];h.setLayout({skNodeHeight:l},!0);for(var f=0;f<h.inEdges.length;f++){var m=h.inEdges[f];s.indexOf(m.node1)<0&&s.push(m.node1)}}a=s,s=[],++l}te(i,function(_){L2(_)||_.setLayout({depth:Math.max(0,n-_.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function y6(i,t){te(i,function(e){!L2(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}(i,n)}(i,l,0,Ee),function _6(i,t,e){te(i,function(n){var s=n.getLayout().depth*t;n.setLayout("vertical"===e?{y:s}:{x:s},!0)})}(i,"vertical"===a?(s-e)/Ee:(n-e)/Ee,a)})(i,t,e,s,a,d,h),function b6(i,t,e,n,s,a,l){var d=function C6(i,t){var e=[],n="vertical"===t?"y":"x",s=rr(i,function(a){return a.getLayout()[n]});return s.keys.sort(function(a,l){return a-l}),te(s.keys,function(a){e.push(s.buckets.get(a))}),e}(i,l);(function w6(i,t,e,n,s,a){var l=1/0;te(i,function(d){var h=d.length,f=0;te(d,function(_){f+=_.getLayout().value});var m="vertical"===a?(n-(h-1)*s)/f:(e-(h-1)*s)/f;m<l&&(l=m)}),te(i,function(d){te(d,function(h,f){var m=h.getLayout().value*l;"vertical"===a?(h.setLayout({x:f},!0),h.setLayout({dx:m},!0)):(h.setLayout({y:f},!0),h.setLayout({dy:m},!0))})}),te(t,function(d){var h=+d.getValue()*l;d.setLayout({dy:h},!0)})})(d,t,e,n,s,l),PP(d,s,e,n,l);for(var h=1;a>0;a--)x6(d,h*=.99,l),PP(d,s,e,n,l),T6(d,h,l),PP(d,s,e,n,l)}(i,t,a,s,n,l,d),function M6(i,t){var e="vertical"===t?"x":"y";te(i,function(n){n.outEdges.sort(function(s,a){return s.node2.getLayout()[e]-a.node2.getLayout()[e]}),n.inEdges.sort(function(s,a){return s.node1.getLayout()[e]-a.node1.getLayout()[e]})}),te(i,function(n){var s=0,a=0;te(n.outEdges,function(l){l.setLayout({sy:s},!0),s+=l.getLayout().dy}),te(n.inEdges,function(l){l.setLayout({ty:a},!0),a+=l.getLayout().dy})})}(i,d)}(f,m,n,s,l,d,0!==Ve(f,function(T){return 0===T.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function L2(i){var t=i.hostGraph.data.getRawDataItem(i.dataIndex);return null!=t.depth&&t.depth>=0}function PP(i,t,e,n,s){var a="vertical"===s?"x":"y";te(i,function(l){l.sort(function(T,I){return T.getLayout()[a]-I.getLayout()[a]});for(var d,h,f,m=0,_=l.length,C="vertical"===s?"dx":"dy",w=0;w<_;w++)(f=m-(h=l[w]).getLayout()[a])>0&&(d=h.getLayout()[a]+f,h.setLayout("vertical"===s?{x:d}:{y:d},!0)),m=h.getLayout()[a]+h.getLayout()[C]+t;if((f=m-t-("vertical"===s?n:e))>0)for(d=h.getLayout()[a]-f,h.setLayout("vertical"===s?{x:d}:{y:d},!0),m=d,w=_-2;w>=0;--w)(f=(h=l[w]).getLayout()[a]+h.getLayout()[C]+t-m)>0&&(d=h.getLayout()[a]-f,h.setLayout("vertical"===s?{x:d}:{y:d},!0)),m=h.getLayout()[a]})}function x6(i,t,e){te(i.slice().reverse(),function(n){te(n,function(s){if(s.outEdges.length){var a=ny(s.outEdges,S6,e)/ny(s.outEdges,FT);if(isNaN(a)){var l=s.outEdges.length;a=l?ny(s.outEdges,D6,e)/l:0}if("vertical"===e){var d=s.getLayout().x+(a-iy(s,e))*t;s.setLayout({x:d},!0)}else{var h=s.getLayout().y+(a-iy(s,e))*t;s.setLayout({y:h},!0)}}})})}function S6(i,t){return iy(i.node2,t)*i.getValue()}function D6(i,t){return iy(i.node2,t)}function E6(i,t){return iy(i.node1,t)*i.getValue()}function A6(i,t){return iy(i.node1,t)}function iy(i,t){return"vertical"===t?i.getLayout().x+i.getLayout().dx/2:i.getLayout().y+i.getLayout().dy/2}function FT(i){return i.getValue()}function ny(i,t,e){for(var n=0,s=i.length,a=-1;++a<s;){var l=+t(i[a],e);isNaN(l)||(n+=l)}return n}function T6(i,t,e){te(i,function(n){te(n,function(s){if(s.inEdges.length){var a=ny(s.inEdges,E6,e)/ny(s.inEdges,FT);if(isNaN(a)){var l=s.inEdges.length;a=l?ny(s.inEdges,A6,e)/l:0}if("vertical"===e){var d=s.getLayout().x+(a-iy(s,e))*t;s.setLayout({x:d},!0)}else{var h=s.getLayout().y+(a-iy(s,e))*t;s.setLayout({y:h},!0)}}})})}function R6(i){i.eachSeriesByType("sankey",function(t){var e=t.getGraph(),n=e.nodes,s=e.edges;if(n.length){var a=1/0,l=-1/0;te(n,function(d){var h=d.getLayout().value;h<a&&(a=h),h>l&&(l=h)}),te(n,function(d){var f=new vd({type:"color",mappingMethod:"linear",dataExtent:[a,l],visual:t.get("color")}).mapValueToVisual(d.getLayout().value),m=d.getModel().get(["itemStyle","color"]);null!=m?(d.setVisual("color",m),d.setVisual("style",{fill:m})):(d.setVisual("color",f),d.setVisual("style",{fill:f}))})}s.length&&te(s,function(d){var h=d.getModel().get("lineStyle");d.setVisual("style",h)})})}var N2=function(){function i(){}return i.prototype.getInitialData=function(t,e){var n,h,s=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),l=s.get("type"),d=a.get("type");"category"===l?(t.layout="horizontal",n=s.getOrdinalMeta(),h=!0):"category"===d?(t.layout="vertical",n=a.getOrdinalMeta(),h=!0):t.layout=t.layout||"horizontal";var f=["x","y"],m="horizontal"===t.layout?0:1,_=this._baseAxisDim=f[m],C=f[1-m],w=[s,a],D=w[m].get("type"),T=w[1-m].get("type"),I=t.data;if(I&&h){var F=[];te(I,function(re,fe){var de;Me(re)?(de=re.slice(),re.unshift(fe)):Me(re.value)?((de=Dt({},re)).value=de.value.slice(),re.value.unshift(fe)):de=re,F.push(de)}),t.data=F}var V=this.defaultValueDimensions,H=[{name:_,type:FC(D),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:C,type:FC(T),dimsDef:V.slice()}];return ZC(this,{coordDimensions:H,dimensionsCount:V.length+1,encodeDefaulter:Se(K0,H,this)})},i.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},i}(),B2=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return P(t,i),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Us);Gt(B2,N2,!0);const P6=B2;var k6=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.getData(),l=this.group,d=this._data;this._data||l.removeAll();var h="horizontal"===e.get("layout")?1:0;a.diff(d).add(function(f){if(a.hasValue(f)){var _=V2(a.getItemLayout(f),a,f,h,!0);a.setItemGraphicEl(f,_),l.add(_)}}).update(function(f,m){var _=d.getItemGraphicEl(m);if(a.hasValue(f)){var C=a.getItemLayout(f);_?(Bd(_),G2(C,_,a,f)):_=V2(C,a,f,h),l.add(_),a.setItemGraphicEl(f,_)}else l.remove(_)}).remove(function(f){var m=d.getItemGraphicEl(f);m&&l.remove(m)}).execute(),this._data=a},t.prototype.remove=function(e){var n=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(fs),F6=function i(){},O6=function(i){function t(e){var n=i.call(this,e)||this;return n.type="boxplotBoxPath",n}return P(t,i),t.prototype.getDefaultShape=function(){return new F6},t.prototype.buildPath=function(e,n){var s=n.points,a=0;for(e.moveTo(s[a][0],s[a][1]),a++;a<4;a++)e.lineTo(s[a][0],s[a][1]);for(e.closePath();a<s.length;a++)e.moveTo(s[a][0],s[a][1]),a++,e.lineTo(s[a][0],s[a][1])},t}($r);function V2(i,t,e,n,s){var a=i.ends,l=new O6({shape:{points:s?L6(a,n,i):a}});return G2(i,l,t,e,s),l}function G2(i,t,e,n,s){(0,Ke[s?"initProps":"updateProps"])(t,{shape:{points:i.ends}},e.hostModel,n),t.useStyle(e.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var d=e.getItemModel(n),h=d.getModel("emphasis");el(t,d),ea(t,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function L6(i,t,e){return ge(i,function(n){return(n=n.slice())[t]=e.initBaseline,n})}const N6=k6;var $S=te;function B6(i){var t=function V6(i){var t=[],e=[];return i.eachSeriesByType("boxplot",function(n){var s=n.getBaseAxis(),a=Te(e,s);a<0&&(e[a=e.length]=s,t[a]={axis:s,seriesModels:[]}),t[a].seriesModels.push(n)}),t}(i);$S(t,function(e){var n=e.seriesModels;n.length&&(function G6(i){var d,t=i.axis,e=i.seriesModels,n=e.length,s=i.boxWidthList=[],a=i.boxOffsetList=[],l=[];if("category"===t.type)d=t.getBandWidth();else{var h=0;$S(e,function(D){h=Math.max(h,D.getData().count())});var f=t.getExtent();d=Math.abs(f[1]-f[0])/h}$S(e,function(D){var T=D.get("boxWidth");Me(T)||(T=[T,T]),l.push([kn(T[0],d)||0,kn(T[1],d)||0])});var m=.8*d-2,_=m/n*.3,C=(m-_*(n-1))/n,w=C/2-m/2;$S(e,function(D,T){a.push(w),w+=_+C,s.push(Math.min(Math.max(C,l[T][0]),l[T][1]))})}(e),$S(n,function(s,a){!function H6(i,t,e){var n=i.coordinateSystem,s=i.getData(),a=e/2,l="horizontal"===i.get("layout")?0:1,d=1-l,h=["x","y"],f=s.mapDimension(h[l]),m=s.mapDimensionsAll(h[d]);if(!(null==f||m.length<5))for(var _=0;_<s.count();_++){var C=s.get(f,_),w=H(C,m[2],_),D=H(C,m[0],_),T=H(C,m[1],_),I=H(C,m[3],_),F=H(C,m[4],_),V=[];re(V,T,!1),re(V,I,!0),V.push(D,T,F,I),fe(V,D),fe(V,F),fe(V,w),s.setItemLayout(_,{initBaseline:w[d],ends:V})}function H(de,Ee,Ue){var gt,ze=s.get(Ee,Ue),nt=[];return nt[l]=de,nt[d]=ze,isNaN(de)||isNaN(ze)?gt=[NaN,NaN]:(gt=n.dataToPoint(nt))[l]+=t,gt}function re(de,Ee,Ue){var ze=Ee.slice(),nt=Ee.slice();ze[l]+=a,nt[l]-=a,Ue?de.push(ze,nt):de.push(nt,ze)}function fe(de,Ee){var Ue=Ee.slice(),ze=Ee.slice();Ue[l]-=a,ze[l]+=a,de.push(Ue,ze)}}(s,e.boxOffsetList[a],e.boxWidthList[a])}))})}var z6={type:"echarts:boxplot",transform:function(t){var e=t.upstream;e.sourceFormat!==Jc&&qo("");var s=function U6(i,t){for(var e=[],n=[],s=(t=t||{}).boundIQR,a="none"===s||0===s,l=0;l<i.length;l++){var d=Hl(i[l].slice()),h=qd(d,.25),f=qd(d,.5),m=qd(d,.75),_=d[0],C=d[d.length-1],w=(s??1.5)*(m-h),D=a?_:Math.max(_,h-w),T=a?C:Math.min(C,m+w),I=t.itemNameFormatter,F=Nt(I)?I({value:l}):Ii(I)?I.replace("{value}",l+""):l+"";e.push([F,D,h,f,m,T]);for(var V=0;V<d.length;V++){var H=d[V];(H<D||H>T)&&n.push([F,H])}}return{boxData:e,outliers:n}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:s.boxData},{data:s.outliers}]}},j6=["color","borderColor"],$6=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,n,s){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,n,s,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,n):this._incrementalRenderNormal(e,n)},t.prototype.eachRendered=function(e){ef(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var n=e.pipelineContext.large;(null==this._isLargeDraw||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(e){var n=e.getData(),s=this._data,a=this.group,l=n.getLayout("isSimpleBox"),d=e.get("clip",!0),h=e.coordinateSystem,f=h.getArea&&h.getArea();this._data||a.removeAll(),n.diff(s).add(function(m){if(n.hasValue(m)){var _=n.getItemLayout(m);if(d&&H2(f,_))return;var C=kP(_,0,!0);as(C,{shape:{points:_.ends}},e,m),FP(C,n,m,l),a.add(C),n.setItemGraphicEl(m,C)}}).update(function(m,_){var C=s.getItemGraphicEl(_);if(n.hasValue(m)){var w=n.getItemLayout(m);d&&H2(f,w)?a.remove(C):(C?(wo(C,{shape:{points:w.ends}},e,m),Bd(C)):C=kP(w),FP(C,n,m,l),a.add(C),n.setItemGraphicEl(m,C))}else a.remove(C)}).remove(function(m){var _=s.getItemGraphicEl(m);_&&a.remove(_)}).execute(),this._data=n},t.prototype._renderLarge=function(e){this._clear(),U2(e,this.group);var n=e.get("clip",!0)?DS(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,n){for(var l,s=n.getData(),a=s.getLayout("isSimpleBox");null!=(l=e.next());){var h=kP(s.getItemLayout(l));FP(h,s,l,a),h.incremental=!0,this.group.add(h),this._progressiveEls.push(h)}},t.prototype._incrementalRenderLarge=function(e,n){U2(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(fs),K6=function i(){},X6=function(i){function t(e){var n=i.call(this,e)||this;return n.type="normalCandlestickBox",n}return P(t,i),t.prototype.getDefaultShape=function(){return new K6},t.prototype.buildPath=function(e,n){var s=n.points;this.__simpleBox?(e.moveTo(s[4][0],s[4][1]),e.lineTo(s[6][0],s[6][1])):(e.moveTo(s[0][0],s[0][1]),e.lineTo(s[1][0],s[1][1]),e.lineTo(s[2][0],s[2][1]),e.lineTo(s[3][0],s[3][1]),e.closePath(),e.moveTo(s[4][0],s[4][1]),e.lineTo(s[5][0],s[5][1]),e.moveTo(s[6][0],s[6][1]),e.lineTo(s[7][0],s[7][1]))},t}($r);function kP(i,t,e){var n=i.ends;return new X6({shape:{points:e?Y6(n,i):n},z2:100})}function H2(i,t){for(var e=!0,n=0;n<t.ends.length;n++)if(i.contain(t.ends[n][0],t.ends[n][1])){e=!1;break}return e}function FP(i,t,e,n){var s=t.getItemModel(e);i.useStyle(t.getItemVisual(e,"style")),i.style.strokeNoScale=!0,i.__simpleBox=n,el(i,s)}function Y6(i,t){return ge(i,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var Q6=function i(){},OP=function(i){function t(e){var n=i.call(this,e)||this;return n.type="largeCandlestickBox",n}return P(t,i),t.prototype.getDefaultShape=function(){return new Q6},t.prototype.buildPath=function(e,n){for(var s=n.points,a=0;a<s.length;)if(this.__sign===s[a++]){var l=s[a++];e.moveTo(l,s[a++]),e.lineTo(l,s[a++])}else a+=3},t}($r);function U2(i,t,e,n){var s=i.getData(),a=s.getLayout("largePoints"),l=new OP({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(l);var d=new OP({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(d);var h=new OP({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(h),LP(1,l,i),LP(-1,d,i),LP(0,h,i),n&&(l.incremental=!0,d.incremental=!0),e&&e.push(l,d)}function LP(i,t,e,n){var s=e.get(["itemStyle",i>0?"borderColor":"borderColor0"])||e.get(["itemStyle",i>0?"color":"color0"]);0===i&&(s=e.get(["itemStyle","borderColorDoji"]));var a=e.getModel("itemStyle").getItemStyle(j6);t.useStyle(a),t.style.fill=null,t.style.stroke=s}const Z6=$6;var z2=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return P(t,i),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,n,s){var a=n.getItemLayout(e);return a&&s.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Us);Gt(z2,N2,!0);const q6=z2;function J6(i){!i||!Me(i.series)||te(i.series,function(t){Zi(t)&&"k"===t.type&&(t.type="candlestick")})}var e7=["itemStyle","borderColor"],t7=["itemStyle","borderColor0"],n7=["itemStyle","borderColorDoji"],r7=["itemStyle","color"],o7=["itemStyle","color0"],s7={seriesType:"candlestick",plan:yv(),performRawSeries:!0,reset:function(i,t){function e(a,l){return l.get(a>0?r7:o7)}function n(a,l){return l.get(0===a?n7:a>0?e7:t7)}if(!t.isSeriesFiltered(i))return!i.pipelineContext.large&&{progress:function(a,l){for(var d;null!=(d=a.next());){var h=l.getItemModel(d),f=l.getItemLayout(d).sign,m=h.getItemStyle();m.fill=e(f,h),m.stroke=n(f,h)||m.fill,Dt(l.ensureUniqueItemVisual(d,"style"),m)}}}}};const a7=s7;var l7={seriesType:"candlestick",plan:yv(),reset:function(i){var t=i.coordinateSystem,e=i.getData(),n=function c7(i,t){var n,e=i.getBaseAxis(),s="category"===e.type?e.getBandWidth():(n=e.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=kn(en(i.get("barMaxWidth"),s),s),l=kn(en(i.get("barMinWidth"),1),s),d=i.get("barWidth");return null!=d?kn(d,s):Math.max(Math.min(s/2,a),l)}(i,e),l=["x","y"],d=e.getDimensionIndex(e.mapDimension(l[0])),h=ge(e.mapDimensionsAll(l[1]),e.getDimensionIndex,e),f=h[0],m=h[1],_=h[2],C=h[3];if(e.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(d<0||h.length<4))return{progress:i.pipelineContext.large?function D(T,I){for(var H,de,F=Xu(4*T.count),V=0,re=[],fe=[],Ee=I.getStore(),Ue=!!i.get(["itemStyle","borderColorDoji"]);null!=(de=T.next());){var ze=Ee.get(d,de),nt=Ee.get(f,de),gt=Ee.get(m,de),Vt=Ee.get(_,de),$t=Ee.get(C,de);isNaN(ze)||isNaN(Vt)||isNaN($t)?(F[V++]=NaN,V+=3):(F[V++]=W2(Ee,de,nt,gt,m,Ue),re[0]=ze,re[1]=Vt,H=t.dataToPoint(re,null,fe),F[V++]=H?H[0]:NaN,F[V++]=H?H[1]:NaN,re[1]=$t,H=t.dataToPoint(re,null,fe),F[V++]=H?H[1]:NaN)}I.setLayout("largePoints",F)}:function w(T,I){for(var F,V=I.getStore();null!=(F=T.next());){var H=V.get(d,F),re=V.get(f,F),fe=V.get(m,F),de=V.get(_,F),Ee=V.get(C,F),Ue=Math.min(re,fe),ze=Math.max(re,fe),nt=Yi(Ue,H),gt=Yi(ze,H),Vt=Yi(de,H),$t=Yi(Ee,H),hi=[];ji(hi,gt,0),ji(hi,nt,1),hi.push(bn($t),bn(gt),bn(Vt),bn(nt));var Pi=!!I.getItemModel(F).get(["itemStyle","borderColorDoji"]);I.setItemLayout(F,{sign:W2(V,F,re,fe,m,Pi),initBaseline:re>fe?gt[1]:nt[1],ends:hi,brushRect:(In=de,Vn=Ee,lr=H,ur=void 0,Yr=void 0,ur=Yi(In,lr),Yr=Yi(Vn,lr),ur[0]-=n/2,Yr[0]-=n/2,{x:ur[0],y:ur[1],width:n,height:Yr[1]-ur[1]})})}var In,Vn,lr,ur,Yr;function Yi(In,Vn){var lr=[];return lr[0]=Vn,lr[1]=In,isNaN(Vn)||isNaN(In)?[NaN,NaN]:t.dataToPoint(lr)}function ji(In,Vn,lr){var ur=Vn.slice(),Yr=Vn.slice();ur[0]=Zw(ur[0]+n/2,1,!1),Yr[0]=Zw(Yr[0]-n/2,1,!0),lr?In.push(ur,Yr):In.push(Yr,ur)}function bn(In){return In[0]=Zw(In[0],1),In}}}}};function W2(i,t,e,n,s,a){return e>n?-1:e<n?1:a?0:t>0?i.get(s,t-1)<=n?1:-1:1}const d7=l7;function j2(i,t){var e=t.rippleEffectColor||t.color;i.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var h7=function(i){function t(e,n){var s=i.call(this)||this,a=new xS(e,n),l=new zn;return s.add(a),s.add(l),s.updateData(e,n),s}return P(t,i),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var n=e.symbolType,s=e.color,a=e.rippleNumber,l=this.childAt(1),d=0;d<a;d++){var h=Ma(n,-1,-1,2,2,s);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var f=-d/a*e.period+e.effectOffset;h.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(f).start(),h.animateStyle(!0).when(e.period,{opacity:0}).delay(f).start(),l.add(h)}j2(l,e)},t.prototype.updateEffectAnimation=function(e){for(var n=this._effectCfg,s=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],l=0;l<a.length;l++){var d=a[l];if(n[d]!==e[d])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}j2(s,e)},t.prototype.highlight=function(){ru(this)},t.prototype.downplay=function(){Qc(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,n){var s=this,a=e.hostModel;this.childAt(0).updateData(e,n);var l=this.childAt(1),d=e.getItemModel(n),h=e.getItemVisual(n,"symbol"),f=Fv(e.getItemVisual(n,"symbolSize")),m=e.getItemVisual(n,"style"),_=m&&m.fill,C=d.getModel("emphasis");l.setScale(f),l.traverse(function(I){I.setStyle("fill",_)});var w=Kf(e.getItemVisual(n,"symbolOffset"),f);w&&(l.x=w[0],l.y=w[1]);var D=e.getItemVisual(n,"symbolRotate");l.rotation=(D||0)*Math.PI/180||0;var T={};T.showEffectOn=a.get("showEffectOn"),T.rippleScale=d.get(["rippleEffect","scale"]),T.brushType=d.get(["rippleEffect","brushType"]),T.period=1e3*d.get(["rippleEffect","period"]),T.effectOffset=n/e.count(),T.z=a.getShallow("z")||0,T.zlevel=a.getShallow("zlevel")||0,T.symbolType=h,T.color=_,T.rippleEffectColor=d.get(["rippleEffect","color"]),T.rippleNumber=d.get(["rippleEffect","number"]),"render"===T.showEffectOn?(this._effectCfg?this.updateEffectAnimation(T):this.startEffectAnimation(T),this._effectCfg=T):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(I){"emphasis"===I?"render"!==T.showEffectOn&&s.startEffectAnimation(T):"normal"===I&&"render"!==T.showEffectOn&&s.stopEffectAnimation()}),this._effectCfg=T,ea(this,C.get("focus"),C.get("blurScope"),C.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(zn);const p7=h7;var f7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(){this._symbolDraw=new SS(p7)},t.prototype.render=function(e,n,s){var a=e.getData(),l=this._symbolDraw;l.updateData(a,{clipShape:this._getClipShape(e)}),this.group.add(l.group)},t.prototype._getClipShape=function(e){var n=e.coordinateSystem,s=n&&n.getArea&&n.getArea();return e.get("clip",!0)?s:null},t.prototype.updateTransform=function(e,n,s){var a=e.getData();this.group.dirty();var l=ES("").reset(e,n,s);l.progress&&l.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var n=e.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=ga(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(fs);const g7=f7;var m7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return P(t,i),t.prototype.getInitialData=function(e,n){return sp(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,n,s){return s.point(n.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Us);const v7=m7;var _7=function(i){function t(e,n,s){var a=i.call(this)||this;return a.add(a.createLine(e,n,s)),a._updateEffectSymbol(e,n),a}return P(t,i),t.prototype.createLine=function(e,n,s){return new lP(e,n,s)},t.prototype._updateEffectSymbol=function(e,n){var a=e.getItemModel(n).getModel("effect"),l=a.get("symbolSize"),d=a.get("symbol");Me(l)||(l=[l,l]);var h=e.getItemVisual(n,"style"),f=a.get("color")||h&&h.stroke,m=this.childAt(1);this._symbolType!==d&&(this.remove(m),(m=Ma(d,-.5,-.5,1,1,f)).z2=100,m.culling=!0,this.add(m)),m&&(m.setStyle("shadowColor",f),m.setStyle(a.getItemStyle(["color"])),m.scaleX=l[0],m.scaleY=l[1],m.setColor(f),this._symbolType=d,this._symbolScale=l,this._updateEffectAnimation(e,a,n))},t.prototype._updateEffectAnimation=function(e,n,s){var a=this.childAt(1);if(a){var l=e.getItemLayout(s),d=1e3*n.get("period"),h=n.get("loop"),f=n.get("roundTrip"),m=n.get("constantSpeed"),_=ln(n.get("delay"),function(w){return w/e.count()*d/3});if(a.ignore=!0,this._updateAnimationPoints(a,l),m>0&&(d=this._getLineLength(a)/m*1e3),d!==this._period||h!==this._loop||f!==this._roundTrip){a.stopAnimation();var C=void 0;C=Nt(_)?_(s):_,a.__t>0&&(C=-d*a.__t),this._animateSymbol(a,d,C,h,f)}this._period=d,this._loop=h,this._roundTrip=f}},t.prototype._animateSymbol=function(e,n,s,a,l){if(n>0){e.__t=0;var d=this,h=e.animate("",a).when(l?2*n:n,{__t:l?2:1}).delay(s).during(function(){d._updateSymbolPosition(e)});a||h.done(function(){d.remove(e)}),h.start()}},t.prototype._getLineLength=function(e){return er(e.__p1,e.__cp1)+er(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,n){e.__p1=n[0],e.__p2=n[1],e.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(e,n,s){this.childAt(0).updateData(e,n,s),this._updateEffectSymbol(e,n)},t.prototype._updateSymbolPosition=function(e){var n=e.__p1,s=e.__p2,a=e.__cp1,l=e.__t<1?e.__t:2-e.__t,d=[e.x,e.y],h=d.slice(),f=Tr,m=kc;d[0]=f(n[0],a[0],s[0],l),d[1]=f(n[1],a[1],s[1],l);var _=e.__t<1?m(n[0],a[0],s[0],l):m(s[0],a[0],n[0],1-l),C=e.__t<1?m(n[1],a[1],s[1],l):m(s[1],a[1],n[1],1-l);e.rotation=-Math.atan2(C,_)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*er(h,d),1===l&&(d[0]=h[0]+(d[0]-h[0])/2,d[1]=h[1]+(d[1]-h[1])/2)):e.scaleY=1===e.__lastT?2*er(n,d):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=d[0],e.y=d[1]},t.prototype.updateLayout=function(e,n){this.childAt(0).updateLayout(e,n);var s=e.getItemModel(n).getModel("effect");this._updateEffectAnimation(e,s,n)},t}(zn);const $2=_7;var b7=function(i){function t(e,n,s){var a=i.call(this)||this;return a._createPolyline(e,n,s),a}return P(t,i),t.prototype._createPolyline=function(e,n,s){var a=e.getItemLayout(n),l=new md({shape:{points:a}});this.add(l),this._updateCommonStl(e,n,s)},t.prototype.updateData=function(e,n,s){var a=e.hostModel;wo(this.childAt(0),{shape:{points:e.getItemLayout(n)}},a,n),this._updateCommonStl(e,n,s)},t.prototype._updateCommonStl=function(e,n,s){var a=this.childAt(0),l=e.getItemModel(n),d=s&&s.emphasisLineStyle,h=s&&s.focus,f=s&&s.blurScope,m=s&&s.emphasisDisabled;if(!s||e.hasItemOption){var _=l.getModel("emphasis");d=_.getModel("lineStyle").getLineStyle(),m=_.get("disabled"),h=_.get("focus"),f=_.get("blurScope")}a.useStyle(e.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=d,ea(this,h,f,m)},t.prototype.updateLayout=function(e,n){this.childAt(0).setShape("points",e.getItemLayout(n))},t}(zn);const K2=b7;var C7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return P(t,i),t.prototype.createLine=function(e,n,s){return new K2(e,n,s)},t.prototype._updateAnimationPoints=function(e,n){this._points=n;for(var s=[0],a=0,l=1;l<n.length;l++)a+=er(n[l-1],n[l]),s.push(a);if(0!==a){for(l=0;l<s.length;l++)s[l]/=a;this._offsets=s,this._length=a}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var n=e.__t<1?e.__t:2-e.__t,s=this._points,a=this._offsets,l=s.length;if(a){var h,d=this._lastFrame;if(n<this._lastFramePercent){for(h=Math.min(d+1,l-1);h>=0&&!(a[h]<=n);h--);h=Math.min(h,l-2)}else{for(h=d;h<l&&!(a[h]>n);h++);h=Math.min(h-1,l-2)}var m=(n-a[h])/(a[h+1]-a[h]),_=s[h],C=s[h+1];e.x=_[0]*(1-m)+m*C[0],e.y=_[1]*(1-m)+m*C[1],e.rotation=-Math.atan2(e.__t<1?C[1]-_[1]:_[1]-C[1],e.__t<1?C[0]-_[0]:_[0]-C[0])-Math.PI/2,this._lastFrame=h,this._lastFramePercent=n,e.ignore=!1}},t}($2);const w7=C7;var x7=function i(){this.polyline=!1,this.curveness=0,this.segs=[]},S7=function(i){function t(e){var n=i.call(this,e)||this;return n._off=0,n.hoverDataIdx=-1,n}return P(t,i),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new x7},t.prototype.buildPath=function(e,n){var l,s=n.segs,a=n.curveness;if(n.polyline)for(l=this._off;l<s.length;){var d=s[l++];if(d>0){e.moveTo(s[l++],s[l++]);for(var h=1;h<d;h++)e.lineTo(s[l++],s[l++])}}else for(l=this._off;l<s.length;){var f=s[l++],m=s[l++],_=s[l++],C=s[l++];e.moveTo(f,m),a>0?e.quadraticCurveTo((f+_)/2-(m-C)*a,(m+C)/2-(_-f)*a,_,C):e.lineTo(_,C)}this.incremental&&(this._off=l,this.notClear=!0)},t.prototype.findDataIndex=function(e,n){var s=this.shape,a=s.segs,l=s.curveness,d=this.style.lineWidth;if(s.polyline)for(var h=0,f=0;f<a.length;){var m=a[f++];if(m>0)for(var _=a[f++],C=a[f++],w=1;w<m;w++)if(jc(_,C,D=a[f++],T=a[f++],d,e,n))return h;h++}else for(h=0,f=0;f<a.length;){_=a[f++],C=a[f++];var D=a[f++],T=a[f++];if(l>0){if(jh(_,C,(_+D)/2-(C-T)*l,(C+T)/2-(D-_)*l,D,T,d,e,n))return h}else if(jc(_,C,D,T,d,e,n))return h;h++}return-1},t.prototype.contain=function(e,n){var s=this.transformCoordToLocal(e,n);return this.getBoundingRect().contain(e=s[0],n=s[1])?(this.hoverDataIdx=this.findDataIndex(e,n))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var s=this.shape.segs,a=1/0,l=1/0,d=-1/0,h=-1/0,f=0;f<s.length;){var m=s[f++],_=s[f++];a=Math.min(m,a),d=Math.max(m,d),l=Math.min(_,l),h=Math.max(_,h)}e=this._rect=new Qn(a,l,d,h)}return e},t}($r),D7=function(){function i(){this.group=new zn}return i.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},i.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},i.prototype.incrementalUpdate=function(t,e){var n=this._newAdded[0],s=e.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var l=a.length,d=new Float32Array(l+s.length);d.set(a),d.set(s,l),n.setShape({segs:d})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:s}),this._setCommon(h,e),h.__startIndex=t.start}},i.prototype.remove=function(){this._clear()},i.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},i.prototype._create=function(){var t=new S7({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},i.prototype._setCommon=function(t,e,n){var s=e.hostModel;t.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),t.useStyle(s.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=e.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var l=dr(t);l.seriesIndex=s.seriesIndex,t.on("mousemove",function(d){l.dataIndex=null;var h=t.hoverDataIdx;h>0&&(l.dataIndex=h+t.__startIndex)})},i.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},i}();const E7=D7;var A7={seriesType:"lines",plan:yv(),reset:function(i){var t=i.coordinateSystem;if(t){var e=i.get("polyline"),n=i.pipelineContext.large;return{progress:function(s,a){var l=[];if(n){var d=void 0,h=s.end-s.start;if(e){for(var f=0,m=s.start;m<s.end;m++)f+=i.getLineCoordsCount(m);d=new Float32Array(h+2*f)}else d=new Float32Array(4*h);var _=0,C=[];for(m=s.start;m<s.end;m++){var w=i.getLineCoords(m,l);e&&(d[_++]=w);for(var D=0;D<w;D++)C=t.dataToPoint(l[D],!1,C),d[_++]=C[0],d[_++]=C[1]}a.setLayout("linesPoints",d)}else for(m=s.start;m<s.end;m++){var T=a.getItemModel(m),I=(w=i.getLineCoords(m,l),[]);if(e)for(var F=0;F<w;F++)I.push(t.dataToPoint(l[F]));else{I[0]=t.dataToPoint(l[0]),I[1]=t.dataToPoint(l[1]);var V=T.get(["lineStyle","curveness"]);+V&&(I[2]=[(I[0][0]+I[1][0])/2-(I[0][1]-I[1][1])*V,(I[0][1]+I[1][1])/2-(I[1][0]-I[0][0])*V])}a.setItemLayout(m,I)}}}}}};const X2=A7;var T7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.getData(),l=this._updateLineDraw(a,e),d=e.get("zlevel"),h=e.get(["effect","trailLength"]),f=s.getZr(),m="svg"===f.painter.getType();m||f.painter.getLayer(d).clear(!0),null!=this._lastZlevel&&!m&&f.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&h>0&&(m||f.configLayer(d,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),l.updateData(a);var _=e.get("clip",!0)&&DS(e.coordinateSystem,!1,e);_?this.group.setClipPath(_):this.group.removeClipPath(),this._lastZlevel=d,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,n,s){var a=e.getData();this._updateLineDraw(a,e).incrementalPrepareUpdate(a),this._clearLayer(s),this._finished=!1},t.prototype.incrementalRender=function(e,n,s){this._lineDraw.incrementalUpdate(e,n.getData()),this._finished=e.end===n.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,n,s){var a=e.getData(),l=e.pipelineContext;if(!this._finished||l.large||l.progressiveRender)return{update:!0};var d=X2.reset(e,n,s);d.progress&&d.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(s)},t.prototype._updateLineDraw=function(e,n){var s=this._lineDraw,a=this._showEffect(n),l=!!n.get("polyline"),h=n.pipelineContext.large;return(!s||a!==this._hasEffet||l!==this._isPolyline||h!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=h?new E7:new dP(l?a?w7:K2:a?$2:lP),this._hasEffet=a,this._isPolyline=l,this._isLargeDraw=h),this.group.add(s.group),s},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var n=e.getZr();"svg"!==n.painter.getType()&&null!=this._lastZlevel&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.type="lines",t}(fs);const M7=T7;var R7=typeof Uint32Array>"u"?Array:Uint32Array,I7=typeof Float64Array>"u"?Array:Float64Array;function Y2(i){var t=i.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(i.data=ge(t,function(e){var s={coords:[e[0].coord,e[1].coord]};return e[0].name&&(s.fromName=e[0].name),e[1].name&&(s.toName=e[1].name),qe([s,e[0],e[1]])}))}var P7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return P(t,i),t.prototype.init=function(e){e.data=e.data||[],Y2(e);var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count)),i.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(Y2(e),e.data){var n=this._processFlatCoordsArray(e.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(e.data=new Float32Array(n.count))}i.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var n=this._processFlatCoordsArray(e.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=pr(this._flatCoords,n.flatCoords),this._flatCoordsOffset=pr(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),e.data=new Float32Array(n.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var n=this.getData().getItemModel(e);return n.option instanceof Array?n.option:n.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,n){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[2*e],a=this._flatCoordsOffset[2*e+1],l=0;l<a;l++)n[l]=n[l]||[],n[l][0]=this._flatCoords[s+2*l],n[l][1]=this._flatCoords[s+2*l+1];return a}var d=this._getCoordsFromItemModel(e);for(l=0;l<d.length;l++)n[l]=n[l]||[],n[l][0]=d[l][0],n[l][1]=d[l][1];return d.length},t.prototype._processFlatCoordsArray=function(e){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),Di(e[0])){for(var s=e.length,a=new R7(s),l=new I7(s),d=0,h=0,f=0,m=0;m<s;){f++;var _=e[m++];a[h++]=d+n,a[h++]=_;for(var C=0;C<_;C++){var w=e[m++],D=e[m++];l[d++]=w,l[d++]=D}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,h),flatCoords:l,count:f}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,n){var a=new nd(["value"],this);return a.hasItemOption=!1,a.initData(e.data,[],function(l,d,h,f){if(l instanceof Array)return NaN;a.hasItemOption=!0;var m=l.value;return null!=m?m instanceof Array?m[f]:m:void 0}),a},t.prototype.formatTooltip=function(e,n,s){var l=this.getData().getItemModel(e),d=l.get("name");if(d)return d;var h=l.get("fromName"),f=l.get("toName"),m=[];return null!=h&&m.push(h),null!=f&&m.push(f),gl("nameValue",{name:m.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),n=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Us);const k7=P7;function OT(i){return i instanceof Array||(i=[i,i]),i}var F7={seriesType:"lines",reset:function(i){var t=OT(i.get("symbol")),e=OT(i.get("symbolSize")),n=i.getData();return n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",e&&e[0]),n.setVisual("toSymbolSize",e&&e[1]),{dataEach:n.hasItemOption?function s(a,l){var d=a.getItemModel(l),h=OT(d.getShallow("symbol",!0)),f=OT(d.getShallow("symbolSize",!0));h[0]&&a.setItemVisual(l,"fromSymbol",h[0]),h[1]&&a.setItemVisual(l,"toSymbol",h[1]),f[0]&&a.setItemVisual(l,"fromSymbolSize",f[0]),f[1]&&a.setItemVisual(l,"toSymbolSize",f[1])}:null}}};const O7=F7;var B7=function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Yt.createCanvas();this.canvas=t}return i.prototype.update=function(t,e,n,s,a,l){var d=this._getBrush(),h=this._getGradient(a,"inRange"),f=this._getGradient(a,"outOfRange"),m=this.pointSize+this.blurSize,_=this.canvas,C=_.getContext("2d"),w=t.length;_.width=e,_.height=n;for(var D=0;D<w;++D){var T=t[D],I=T[0],F=T[1],H=s(T[2]);C.globalAlpha=H,C.drawImage(d,I-m,F-m)}if(!_.width||!_.height)return _;for(var re=C.getImageData(0,0,_.width,_.height),fe=re.data,de=0,Ee=fe.length,Ue=this.minOpacity,nt=this.maxOpacity-Ue;de<Ee;){H=fe[de+3]/256;var gt=4*Math.floor(255*H);if(H>0){var Vt=l(H)?h:f;H>0&&(H=H*nt+Ue),fe[de++]=Vt[gt],fe[de++]=Vt[gt+1],fe[de++]=Vt[gt+2],fe[de++]=Vt[gt+3]*H*256}else de+=4}return C.putImageData(re,0,0),_},i.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Yt.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var s=t.getContext("2d");return s.clearRect(0,0,n,n),s.shadowOffsetX=n,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-e,e,this.pointSize,0,2*Math.PI,!0),s.closePath(),s.fill(),t},i.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,s=n[e]||(n[e]=new Uint8ClampedArray(1024)),a=[0,0,0,0],l=0,d=0;d<256;d++)t[e](d/255,!0,a),s[l++]=a[0],s[l++]=a[1],s[l++]=a[2],s[l++]=a[3];return s},i}();const V7=B7;function Q2(i){var t=i.dimensions;return"lng"===t[0]&&"lat"===t[1]}var U7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a;n.eachComponent("visualMap",function(d){d.eachTargetSeries(function(h){h===e&&(a=d)})}),this._progressiveEls=null,this.group.removeAll();var l=e.coordinateSystem;"cartesian2d"===l.type||"calendar"===l.type?this._renderOnCartesianAndCalendar(e,s,0,e.getData().count()):Q2(l)&&this._renderOnGeo(l,e,a,s)},t.prototype.incrementalPrepareRender=function(e,n,s){this.group.removeAll()},t.prototype.incrementalRender=function(e,n,s,a){var l=n.coordinateSystem;l&&(Q2(l)?this.render(n,s,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){ef(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,n,s,a,l){var f,m,_,C,d=e.coordinateSystem,h=q_(d,"cartesian2d");if(h){var w=d.getAxis("x"),D=d.getAxis("y");f=w.getBandWidth()+.5,m=D.getBandWidth()+.5,_=w.scale.getExtent(),C=D.scale.getExtent()}for(var T=this.group,I=e.getData(),F=e.getModel(["emphasis","itemStyle"]).getItemStyle(),V=e.getModel(["blur","itemStyle"]).getItemStyle(),H=e.getModel(["select","itemStyle"]).getItemStyle(),re=e.get(["itemStyle","borderRadius"]),fe=za(e),de=e.getModel("emphasis"),Ee=de.get("focus"),Ue=de.get("blurScope"),ze=de.get("disabled"),nt=h?[I.mapDimension("x"),I.mapDimension("y"),I.mapDimension("value")]:[I.mapDimension("time"),I.mapDimension("value")],gt=s;gt<a;gt++){var Vt=void 0,$t=I.getItemVisual(gt,"style");if(h){var hi=I.get(nt[0],gt),gi=I.get(nt[1],gt);if(isNaN(I.get(nt[2],gt))||isNaN(hi)||isNaN(gi)||hi<_[0]||hi>_[1]||gi<C[0]||gi>C[1])continue;var Pi=d.dataToPoint([hi,gi]);Vt=new kr({shape:{x:Pi[0]-f/2,y:Pi[1]-m/2,width:f,height:m},style:$t})}else{if(isNaN(I.get(nt[1],gt)))continue;Vt=new kr({z2:1,shape:d.dataToRect([I.get(nt[0],gt)]).contentShape,style:$t})}if(I.hasItemOption){var Yi=I.getItemModel(gt),ji=Yi.getModel("emphasis");F=ji.getModel("itemStyle").getItemStyle(),V=Yi.getModel(["blur","itemStyle"]).getItemStyle(),H=Yi.getModel(["select","itemStyle"]).getItemStyle(),re=Yi.get(["itemStyle","borderRadius"]),Ee=ji.get("focus"),Ue=ji.get("blurScope"),ze=ji.get("disabled"),fe=za(Yi)}Vt.shape.r=re;var rn=e.getRawValue(gt),bn="-";rn&&null!=rn[2]&&(bn=rn[2]+""),Rl(Vt,fe,{labelFetcher:e,labelDataIndex:gt,defaultOpacity:$t.opacity,defaultText:bn}),Vt.ensureState("emphasis").style=F,Vt.ensureState("blur").style=V,Vt.ensureState("select").style=H,ea(Vt,Ee,Ue,ze),Vt.incremental=l,l&&(Vt.states.emphasis.hoverLayer=!0),T.add(Vt),I.setItemGraphicEl(gt,Vt),this._progressiveEls&&this._progressiveEls.push(Vt)}},t.prototype._renderOnGeo=function(e,n,s,a){var l=s.targetVisuals.inRange,d=s.targetVisuals.outOfRange,h=n.getData(),f=this._hmLayer||this._hmLayer||new V7;f.blurSize=n.get("blurSize"),f.pointSize=n.get("pointSize"),f.minOpacity=n.get("minOpacity"),f.maxOpacity=n.get("maxOpacity");var m=e.getViewRect().clone(),_=e.getRoamTransform();m.applyTransform(_);var C=Math.max(m.x,0),w=Math.max(m.y,0),D=Math.min(m.width+m.x,a.getWidth()),T=Math.min(m.height+m.y,a.getHeight()),I=D-C,F=T-w,V=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],H=h.mapArray(V,function(Ee,Ue,ze){var nt=e.dataToPoint([Ee,Ue]);return nt[0]-=C,nt[1]-=w,nt.push(ze),nt}),re=s.getExtent(),fe="visualMap.continuous"===s.type?function H7(i,t){var e=i[1]-i[0];return t=[(t[0]-i[0])/e,(t[1]-i[0])/e],function(n){return n>=t[0]&&n<=t[1]}}(re,s.option.range):function G7(i,t,e){var n=i[1]-i[0],s=(t=ge(t,function(l){return{interval:[(l.interval[0]-i[0])/n,(l.interval[1]-i[0])/n]}})).length,a=0;return function(l){var d;for(d=a;d<s;d++)if((h=t[d].interval)[0]<=l&&l<=h[1]){a=d;break}if(d===s)for(d=a-1;d>=0;d--){var h;if((h=t[d].interval)[0]<=l&&l<=h[1]){a=d;break}}return d>=0&&d<s&&e[d]}}(re,s.getPieceList(),s.option.selected);f.update(H,I,F,l.color.getNormalizer(),{inRange:l.color.getColorMapper(),outOfRange:d.color.getColorMapper()},fe);var de=new hs({style:{width:I,height:F,x:C,y:w,image:f.canvas},silent:!0});this.group.add(de)},t.type="heatmap",t}(fs);const z7=U7;var W7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.getInitialData=function(e,n){return sp(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=qh.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Us);const j7=W7;var K7=["itemStyle","borderWidth"],Z2=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],NP=new Zp,X7=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=this.group,l=e.getData(),d=this._data,h=e.coordinateSystem,m=h.getBaseAxis().isHorizontal(),_=h.master.getRect(),C={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:e,coordSys:h,coordSysExtent:[[_.x,_.x+_.width],[_.y,_.y+_.height]],isHorizontal:m,valueDim:Z2[+m],categoryDim:Z2[1-+m]};l.diff(d).add(function(D){if(l.hasValue(D)){var T=rB(l,D),I=q2(l,D,T,C),F=oB(l,C,I);l.setItemGraphicEl(D,F),a.add(F),lB(F,C,I)}}).update(function(D,T){var I=d.getItemGraphicEl(T);if(l.hasValue(D)){var F=rB(l,D),V=q2(l,D,F,C),H=aB(l,V);I&&H!==I.__pictorialShapeStr&&(a.remove(I),l.setItemGraphicEl(D,null),I=null),I?function tj(i,t,e){wo(i.__pictorialBundle,{x:e.bundlePosition[0],y:e.bundlePosition[1]},e.animationModel,e.dataIndex),e.symbolRepeat?eB(i,t,e,!0):tB(i,0,e,!0),iB(i,e,!0),nB(i,t,e,!0)}(I,C,V):I=oB(l,C,V,!0),l.setItemGraphicEl(D,I),I.__pictorialSymbolMeta=V,a.add(I),lB(I,C,V)}else a.remove(I)}).remove(function(D){var T=d.getItemGraphicEl(D);T&&sB(d,D,T.__pictorialSymbolMeta.animationModel,T)}).execute();var w=e.get("clip",!0)?DS(e.coordinateSystem,!1,e):null;return w?a.setClipPath(w):a.removeClipPath(),this._data=l,this.group},t.prototype.remove=function(e,n){var s=this.group,a=this._data;e.get("animation")?a&&a.eachItemGraphicEl(function(l){sB(a,dr(l).dataIndex,e,l)}):s.removeAll()},t.type="pictorialBar",t}(fs);function q2(i,t,e,n){var s=i.getItemLayout(t),a=e.get("symbolRepeat"),l=e.get("symbolClip"),d=e.get("symbolPosition")||"start",f=(e.get("symbolRotate")||0)*Math.PI/180||0,m=e.get("symbolPatternSize")||2,_=e.isAnimationEnabled(),C={dataIndex:t,layout:s,itemModel:e,symbolType:i.getItemVisual(t,"symbol")||"circle",style:i.getItemVisual(t,"style"),symbolClip:l,symbolRepeat:a,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:m,rotation:f,animationModel:_?e:null,hoverScale:_&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function Y7(i,t,e,n,s){var m,a=n.valueDim,l=i.get("symbolBoundingData"),d=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=d.toGlobalCoord(d.dataToCoord(0)),f=1-+(e[a.wh]<=0);if(Me(l)){var _=[BP(d,l[0])-h,BP(d,l[1])-h];_[1]<_[0]&&_.reverse(),m=_[f]}else m=null!=l?BP(d,l)-h:t?n.coordSysExtent[a.index][f]-h:e[a.wh];s.boundingLength=m,t&&(s.repeatCutLength=e[a.wh]),s.pxSign=m>0?1:-1})(e,a,s,n,C),function Q7(i,t,e,n,s,a,l,d,h,f){var D,m=h.valueDim,_=h.categoryDim,C=Math.abs(e[_.wh]),w=i.getItemVisual(t,"symbolSize");(D=Me(w)?w.slice():null==w?["100%","100%"]:[w,w])[_.index]=kn(D[_.index],C),D[m.index]=kn(D[m.index],n?C:Math.abs(a)),f.symbolSize=D,(f.symbolScale=[D[0]/d,D[1]/d])[m.index]*=(h.isHorizontal?-1:1)*l}(i,t,s,a,0,C.boundingLength,C.pxSign,m,n,C),function Z7(i,t,e,n,s){var a=i.get(K7)||0;a&&(NP.attr({scaleX:t[0],scaleY:t[1],rotation:e}),NP.updateTransform(),a/=NP.getLineScale(),a*=t[n.valueDim.index]),s.valueLineWidth=a||0}(e,C.symbolScale,f,n,C);var w=C.symbolSize,D=Kf(e.get("symbolOffset"),w);return function q7(i,t,e,n,s,a,l,d,h,f,m,_){var C=m.categoryDim,w=m.valueDim,D=_.pxSign,T=Math.max(t[w.index]+d,0),I=T;if(n){var F=Math.abs(h),V=ln(i.get("symbolMargin"),"15%")+"",H=!1;V.lastIndexOf("!")===V.length-1&&(H=!0,V=V.slice(0,V.length-1));var re=kn(V,t[w.index]),fe=Math.max(T+2*re,0),de=H?0:2*re,Ee=yu(n),Ue=Ee?n:cB((F+de)/fe);fe=T+2*(re=(F-Ue*T)/2/(H?Ue:Math.max(Ue-1,1))),de=H?0:2*re,!Ee&&"fixed"!==n&&(Ue=f?cB((Math.abs(f)+de)/fe):0),I=Ue*fe-de,_.repeatTimes=Ue,_.symbolMargin=re}var nt=D*(I/2),gt=_.pathPosition=[];gt[C.index]=e[C.wh]/2,gt[w.index]="start"===l?nt:"end"===l?h-nt:h/2,a&&(gt[0]+=a[0],gt[1]+=a[1]);var Vt=_.bundlePosition=[];Vt[C.index]=e[C.xy],Vt[w.index]=e[w.xy];var $t=_.barRectShape=Dt({},e);$t[w.wh]=D*Math.max(Math.abs(e[w.wh]),Math.abs(gt[w.index]+nt)),$t[C.wh]=e[C.wh];var hi=_.clipShape={};hi[C.xy]=-e[C.xy],hi[C.wh]=m.ecSize[C.wh],hi[w.xy]=0,hi[w.wh]=e[w.wh]}(e,w,s,a,0,D,d,C.valueLineWidth,C.boundingLength,C.repeatCutLength,n,C),C}function BP(i,t){return i.toGlobalCoord(i.dataToCoord(i.scale.parse(t)))}function J2(i){var t=i.symbolPatternSize,e=Ma(i.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function eB(i,t,e,n){var s=i.__pictorialBundle,d=e.pathPosition,h=t.valueDim,f=e.repeatTimes||0,m=0,_=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(VP(i,function(T){T.__pictorialAnimationIndex=m,T.__pictorialRepeatTimes=f,m<f?s0(T,null,D(m),e,n):s0(T,null,{scaleX:0,scaleY:0},e,n,function(){s.remove(T)}),m++});m<f;m++){var C=J2(e);C.__pictorialAnimationIndex=m,C.__pictorialRepeatTimes=f,s.add(C);var w=D(m);s0(C,{x:w.x,y:w.y,scaleX:0,scaleY:0},{scaleX:w.scaleX,scaleY:w.scaleY,rotation:w.rotation},e,n)}function D(T){var I=d.slice(),F=e.pxSign,V=T;return("start"===e.symbolRepeatDirection?F>0:F<0)&&(V=f-1-T),I[h.index]=_*(V-f/2+.5)+d[h.index],{x:I[0],y:I[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function tB(i,t,e,n){var s=i.__pictorialBundle,a=i.__pictorialMainPath;a?s0(a,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,n):(a=i.__pictorialMainPath=J2(e),s.add(a),s0(a,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,n))}function iB(i,t,e){var n=Dt({},t.barRectShape),s=i.__pictorialBarRect;s?s0(s,null,{shape:n},t,e):((s=i.__pictorialBarRect=new kr({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,i.add(s))}function nB(i,t,e,n){if(e.symbolClip){var s=i.__pictorialClipPath,a=Dt({},e.clipShape),l=t.valueDim,d=e.animationModel,h=e.dataIndex;if(s)wo(s,{shape:a},d,h);else{a[l.wh]=0,s=new kr({shape:a}),i.__pictorialBundle.setClipPath(s),i.__pictorialClipPath=s;var f={};f[l.wh]=e.clipShape[l.wh],Ke[n?"updateProps":"initProps"](s,{shape:f},d,h)}}}function rB(i,t){var e=i.getItemModel(t);return e.getAnimationDelayParams=J7,e.isAnimationEnabled=ej,e}function J7(i){return{index:i.__pictorialAnimationIndex,count:i.__pictorialRepeatTimes}}function ej(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function oB(i,t,e,n){var s=new zn,a=new zn;return s.add(a),s.__pictorialBundle=a,a.x=e.bundlePosition[0],a.y=e.bundlePosition[1],e.symbolRepeat?eB(s,t,e):tB(s,0,e),iB(s,e,n),nB(s,t,e,n),s.__pictorialShapeStr=aB(i,e),s.__pictorialSymbolMeta=e,s}function sB(i,t,e,n){var s=n.__pictorialBarRect;s&&s.removeTextContent();var a=[];VP(n,function(l){a.push(l)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(e=null),te(a,function(l){Zc(l,{scaleX:0,scaleY:0},e,t,function(){n.parent&&n.parent.remove(n)})}),i.setItemGraphicEl(t,null)}function aB(i,t){return[i.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function VP(i,t,e){te(i.__pictorialBundle.children(),function(n){n!==i.__pictorialBarRect&&t.call(e,n)})}function s0(i,t,e,n,s,a){t&&i.attr(t),n.symbolClip&&!s?e&&i.attr(e):e&&Ke[s?"updateProps":"initProps"](i,e,n.animationModel,n.dataIndex,a)}function lB(i,t,e){var n=e.dataIndex,s=e.itemModel,a=s.getModel("emphasis"),l=a.getModel("itemStyle").getItemStyle(),d=s.getModel(["blur","itemStyle"]).getItemStyle(),h=s.getModel(["select","itemStyle"]).getItemStyle(),f=s.getShallow("cursor"),m=a.get("focus"),_=a.get("blurScope"),C=a.get("scale");VP(i,function(T){if(T instanceof hs){var I=T.style;T.useStyle(Dt({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},e.style))}else T.useStyle(e.style);var F=T.ensureState("emphasis");F.style=l,C&&(F.scaleX=1.1*T.scaleX,F.scaleY=1.1*T.scaleY),T.ensureState("blur").style=d,T.ensureState("select").style=h,f&&(T.cursor=f),T.z2=e.z2});var w=t.valueDim.posDesc[+(e.boundingLength>0)],D=i.__pictorialBarRect;D.ignoreClip=!0,Rl(D,za(s),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:QC(t.seriesModel.getData(),n),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:w}),ea(i,m,_,a.get("disabled"))}function cB(i){var t=Math.round(i);return Math.abs(i-t)<1e-4?t:Math.ceil(i)}const ij=X7;var nj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return P(t,i),t.prototype.getInitialData=function(e){return e.stack=null,i.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=Gn(dT.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(dT);const rj=nj;var sj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return P(t,i),t.prototype.render=function(e,n,s){var a=e.getData(),l=this,d=this.group,h=e.getLayerSeries(),f=a.getLayout("layoutInfo"),m=f.rect,_=f.boundaryGap;function C(I){return I.name}d.x=0,d.y=m.y+_[0];var w=new op(this._layersSeries||[],h,C,C),D=[];function T(I,F,V){var H=l._layers;if("remove"!==I){for(var de,re=[],fe=[],Ee=h[F].indices,Ue=0;Ue<Ee.length;Ue++){var ze=a.getItemLayout(Ee[Ue]),nt=ze.x,gt=ze.y0,Vt=ze.y;re.push(nt,gt),fe.push(nt,gt+Vt),de=a.getItemVisual(Ee[Ue],"style")}var $t,hi=a.getItemLayout(Ee[0]),Pi=e.getModel("label").get("margin"),Yi=e.getModel("emphasis");if("add"===I){var ji=D[F]=new zn;$t=new FO({shape:{points:re,stackedOnPoints:fe,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ji.add($t),d.add(ji),e.isAnimationEnabled()&&$t.setClipPath(function aj(i,t,e){var n=new kr({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}});return as(n,{shape:{x:i.x-50,width:i.width+100,height:i.height+20}},t,e),n}($t.getBoundingRect(),e,function(){$t.removeClipPath()}))}else $t=(ji=H[V]).childAt(0),d.add(ji),D[F]=ji,wo($t,{shape:{points:re,stackedOnPoints:fe}},e),Bd($t);Rl($t,za(e),{labelDataIndex:Ee[Ue-1],defaultText:a.getName(Ee[Ue-1]),inheritColor:de.fill},{normal:{verticalAlign:"middle"}}),$t.setTextConfig({position:null,local:!0});var rn=$t.getTextContent();rn&&(rn.x=hi.x-Pi,rn.y=hi.y0+hi.y/2),$t.useStyle(de),a.setItemGraphicEl(F,$t),el($t,e),ea($t,Yi.get("focus"),Yi.get("blurScope"),Yi.get("disabled"))}else d.remove(H[F])}w.add(at(T,this,"add")).update(at(T,this,"update")).remove(at(T,this,"remove")).execute(),this._layersSeries=h,this._layers=D},t.type="themeRiver",t}(fs);const lj=sj;var cj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new TS(at(this.getData,this),at(this.getRawData,this))},t.prototype.fixData=function(e){var n=e.length,s={},a=rr(e,function(C){return s.hasOwnProperty(C[0]+"")||(s[C[0]+""]=-1),C[2]}),l=[];a.buckets.each(function(C,w){l.push({name:w,dataList:C})});for(var d=l.length,h=0;h<d;++h){for(var f=l[h].name,m=0;m<l[h].dataList.length;++m)s[_=l[h].dataList[m][0]+""]=h;for(var _ in s)s.hasOwnProperty(_)&&s[_]!==h&&(s[_]=h,e[n]=[_,0,f],n++)}return e},t.prototype.getInitialData=function(e,n){for(var a=this.getReferringComponents("singleAxis",mi).models[0].get("type"),l=Ve(e.data,function(D){return void 0!==D[2]}),d=this.fixData(l||[]),h=[],f=this.nameMap=Rn(),m=0,_=0;_<d.length;++_)h.push(d[_][2]),f.get(d[_][2])||(f.set(d[_][2],m),m++);var C=Kv(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:FC(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,w=new nd(C,this);return w.initData(d),w},t.prototype.getLayerSeries=function(){for(var e=this.getData(),n=e.count(),s=[],a=0;a<n;++a)s[a]=a;var l=e.mapDimension("single"),d=rr(s,function(f){return e.get("name",f)}),h=[];return d.buckets.each(function(f,m){f.sort(function(_,C){return e.get(l,_)-e.get(l,C)}),h.push({name:m,indices:f})}),h},t.prototype.getAxisTooltipData=function(e,n,s){Me(e)||(e=e?[e]:[]);for(var f,a=this.getData(),l=this.getLayerSeries(),d=[],h=l.length,m=0;m<h;++m){for(var _=Number.MAX_VALUE,C=-1,w=l[m].indices.length,D=0;D<w;++D){var T=a.get(e[0],l[m].indices[D]),I=Math.abs(T-n);I<=_&&(f=T,_=I,C=l[m].indices[D])}d.push(C)}return{dataIndices:d,nestestValue:f}},t.prototype.formatTooltip=function(e,n,s){var a=this.getData();return gl("nameValue",{name:a.getName(e),value:a.get(a.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Us);const dj=cj;function uj(i,t){i.eachSeriesByType("themeRiver",function(e){var n=e.getData(),s=e.coordinateSystem,a={},l=s.getRect();a.rect=l;var d=e.get("boundaryGap"),h=s.getAxis();a.boundaryGap=d,"horizontal"===h.orient?(d[0]=kn(d[0],l.height),d[1]=kn(d[1],l.height),dB(n,e,l.height-d[0]-d[1])):(d[0]=kn(d[0],l.width),d[1]=kn(d[1],l.width),dB(n,e,l.width-d[0]-d[1])),n.setLayout("layoutInfo",a)})}function dB(i,t,e){if(i.count())for(var w,n=t.coordinateSystem,s=t.getLayerSeries(),a=i.mapDimension("single"),l=i.mapDimension("value"),d=ge(s,function(I){return ge(I.indices,function(F){var V=n.dataToPoint(i.get(a,F));return V[1]=i.get(l,F),V})}),h=function hj(i){for(var t=i.length,e=i[0].length,n=[],s=[],a=0,l=0;l<e;++l){for(var d=0,h=0;h<t;++h)d+=i[h][l][1];d>a&&(a=d),n.push(d)}for(var f=0;f<e;++f)s[f]=(a-n[f])/2;a=0;for(var m=0;m<e;++m){var _=n[m]+s[m];_>a&&(a=_)}return{y0:s,max:a}}(d),f=h.y0,m=e/h.max,_=s.length,C=s[0].indices.length,D=0;D<C;++D){i.setItemLayout(s[0].indices[D],{layerIndex:0,x:d[0][D][0],y0:w=f[D]*m,y:d[0][D][1]*m});for(var T=1;T<_;++T)i.setItemLayout(s[T].indices[D],{layerIndex:T,x:d[T][D][0],y0:w+=d[T-1][D][1]*m,y:d[T][D][1]*m})}}var mj=function(i){function t(e,n,s,a){var l=i.call(this)||this;l.z2=2,l.textConfig={inside:!0},dr(l).seriesIndex=n.seriesIndex;var d=new lo({z2:4,silent:e.getModel().get(["label","silent"])});return l.setTextContent(d),l.updateData(!0,e,n,s,a),l}return P(t,i),t.prototype.updateData=function(e,n,s,a,l){this.node=n,n.piece=this,s=s||this._seriesModel,a=a||this._ecModel;var d=this;dr(d).dataIndex=n.dataIndex;var h=n.getModel(),f=h.getModel("emphasis"),m=n.getLayout(),_=Dt({},m);_.label=null;var C=n.getVisual("style");C.lineJoin="bevel";var w=n.getVisual("decal");w&&(C.decal=um(w,l));var D=J_(h.getModel("itemStyle"),_,!0);Dt(_,D),te(Ca,function(V){var H=d.ensureState(V),re=h.getModel([V,"itemStyle"]);H.style=re.getItemStyle();var fe=J_(re,_);fe&&(H.shape=fe)}),e?(d.setShape(_),d.shape.r=m.r0,as(d,{shape:{r:m.r}},s,n.dataIndex)):(wo(d,{shape:_},s),Bd(d)),d.useStyle(C),this._updateLabel(s);var T=h.getShallow("cursor");T&&d.attr("cursor",T),this._seriesModel=s||this._seriesModel,this._ecModel=a||this._ecModel;var I=f.get("focus");ea(this,"ancestor"===I?n.getAncestorsIndices():"descendant"===I?n.getDescendantIndices():I,f.get("blurScope"),f.get("disabled"))},t.prototype._updateLabel=function(e){var n=this,s=this.node.getModel(),a=s.getModel("label"),l=this.node.getLayout(),d=l.endAngle-l.startAngle,h=(l.startAngle+l.endAngle)/2,f=Math.cos(h),m=Math.sin(h),_=this,C=_.getTextContent(),w=this.node.dataIndex,D=a.get("minAngle")/180*Math.PI,T=a.get("show")&&!(null!=D&&Math.abs(d)<D);function I(F,V){return F.get(V)??a.get(V)}C.ignore=!T,te(Xc,function(F){var V=s.getModel("normal"===F?"label":[F,"label"]),H="normal"===F,re=H?C:C.ensureState(F),fe=e.getFormattedLabel(w,F);H&&(fe=fe||n.node.name),re.style=Ms(V,{},null,"normal"!==F,!0),fe&&(re.style.text=fe);var de=V.get("show");null!=de&&!H&&(re.ignore=!de);var Ee=I(V,"position"),Ue=H?_:_.states[F],ze=Ue.style.fill;Ue.textConfig={outsideFill:"inherit"===V.get("color")?ze:null,inside:"outside"!==Ee};var nt,gt=I(V,"distance")||0,Vt=I(V,"align"),$t=I(V,"rotate"),hi=.5*Math.PI,gi=1.5*Math.PI,Pi=la("tangential"===$t?Math.PI/2-h:h),Yi=Pi>hi&&!El(Pi-hi)&&Pi<gi;"outside"===Ee?(nt=l.r+gt,Vt=Yi?"right":"left"):Vt&&"center"!==Vt?"left"===Vt?(nt=l.r0+gt,Vt=Yi?"right":"left"):"right"===Vt&&(nt=l.r-gt,Vt=Yi?"left":"right"):(nt=d===2*Math.PI&&0===l.r0?0:(l.r+l.r0)/2,Vt="center"),re.style.align=Vt,re.style.verticalAlign=I(V,"verticalAlign")||"middle",re.x=nt*f+l.cx,re.y=nt*m+l.cy;var ji=0;"radial"===$t?ji=la(-h)+(Yi?Math.PI:0):"tangential"===$t?ji=la(Math.PI/2-h)+(Yi?Math.PI:0):Di($t)&&(ji=$t*Math.PI/180),re.rotation=la(ji)}),C.dirtyStyle()},t}(xc);const uB=mj;var HP="sunburstRootToNode",hB="sunburstHighlight",_j=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s,a){var l=this;this.seriesModel=e,this.api=s,this.ecModel=n;var d=e.getData(),h=d.tree.root,f=e.getViewRoot(),m=this.group,_=e.get("renderLabelForZeroData"),C=[];f.eachNode(function(V){C.push(V)}),function D(V,H){function re(de){return de.getId()}function fe(de,Ee){!function T(V,H){if(!_&&V&&!V.getValue()&&(V=null),V!==h&&H!==h)if(H&&H.piece)V?(H.piece.updateData(!1,V,e,n,s),d.setItemGraphicEl(V.dataIndex,H.piece)):function I(V){V&&V.piece&&(m.remove(V.piece),V.piece=null)}(H);else if(V){var re=new uB(V,e,n,s);m.add(re),d.setItemGraphicEl(V.dataIndex,re)}}(null==de?null:V[de],null==Ee?null:H[Ee])}0===V.length&&0===H.length||new op(H,V,re,re).add(fe).update(fe).remove(Se(fe,null)).execute()}(C,this._oldChildren||[]),function F(V,H){H.depth>0?(l.virtualPiece?l.virtualPiece.updateData(!1,V,e,n,s):(l.virtualPiece=new uB(V,e,n,s),m.add(l.virtualPiece)),H.piece.off("click"),l.virtualPiece.on("click",function(re){l._rootToNode(H.parentNode)})):l.virtualPiece&&(m.remove(l.virtualPiece),l.virtualPiece=null)}(h,f),this._initEvents(),this._oldChildren=C},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(n){var s=!1;e.seriesModel.getViewRoot().eachNode(function(l){if(!s&&l.piece&&l.piece===n.target){var d=l.getModel().get("nodeClick");if("rootToNode"===d)e._rootToNode(l);else if("link"===d){var h=l.getModel(),f=h.get("link");f&&zy(f,h.get("target",!0)||"_blank")}s=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:HP,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,n){var a=n.getData().getItemLayout(0);if(a){var l=e[0]-a.cx,d=e[1]-a.cy,h=Math.sqrt(l*l+d*d);return h<=a.r&&h>=a.r0}},t.type="sunburst",t}(fs);const bj=_j;var Cj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return P(t,i),t.prototype.getInitialData=function(e,n){var s={name:e.name,children:e.data};pB(s);var a=this._levelModels=ge(e.levels||[],function(h){return new Vi(h,this,n)},this),l=HI.createTree(s,this,function d(h){h.wrapMethod("getItemModel",function(f,m){var _=l.getNodeByDataIndex(m),C=a[_.depth];return C&&(f.parentModel=C),f})});return l.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var n=i.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(e);return n.treePathInfo=xT(s,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var n=this.getRawData().tree.root;(!e||e!==n&&!n.contains(e))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){CN(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Us);function pB(i){var t=0;te(i.children,function(n){pB(n);var s=n.value;Me(s)&&(s=s[0]),t+=s});var e=i.value;Me(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),Me(i.value)?i.value[0]=e:i.value=e}const wj=Cj;var fB=Math.PI/180;function xj(i,t,e){t.eachSeriesByType(i,function(n){var s=n.get("center"),a=n.get("radius");Me(a)||(a=[0,a]),Me(s)||(s=[s,s]);var l=e.getWidth(),d=e.getHeight(),h=Math.min(l,d),f=kn(s[0],l),m=kn(s[1],d),_=kn(a[0],h/2),C=kn(a[1],h/2),w=-n.get("startAngle")*fB,D=n.get("minAngle")*fB,T=n.getData().tree.root,I=n.getViewRoot(),F=I.depth,V=n.get("sort");null!=V&&gB(I,V);var H=0;te(I.children,function(Pi){!isNaN(Pi.getValue())&&H++});var re=I.getValue(),fe=Math.PI/(re||H)*2,de=I.depth>0,Ue=(C-_)/(I.height-(de?-1:1)||1),ze=n.get("clockwise"),nt=n.get("stillShowZeroSum"),gt=ze?1:-1,Vt=function(Pi,Yi){if(Pi){var ji=Yi;if(Pi!==T){var rn=Pi.getValue(),bn=0===re&&nt?fe:rn*fe;bn<D&&(bn=D),ji=Yi+gt*bn;var In=Pi.depth-F-(de?-1:1),Vn=_+Ue*In,lr=_+Ue*(In+1),ur=n.getLevelModel(Pi);if(ur){var Yr=ur.get("r0",!0),xo=ur.get("r",!0),qr=ur.get("radius",!0);null!=qr&&(Yr=qr[0],xo=qr[1]),null!=Yr&&(Vn=kn(Yr,h/2)),null!=xo&&(lr=kn(xo,h/2))}Pi.setLayout({angle:bn,startAngle:Yi,endAngle:ji,clockwise:ze,cx:f,cy:m,r0:Vn,r:lr})}if(Pi.children&&Pi.children.length){var br=0;te(Pi.children,function(Jr){br+=Vt(Jr,Yi+br)})}return ji-Yi}};if(de){var gi=2*Math.PI;T.setLayout({angle:gi,startAngle:w,endAngle:w+gi,clockwise:ze,cx:f,cy:m,r0:_,r:_+Ue})}Vt(I,w)})}function gB(i,t){var e=i.children||[];i.children=function Sj(i,t){if(Nt(t)){var e=ge(i,function(s,a){var l=s.getValue();return{params:{depth:s.depth,height:s.height,dataIndex:s.dataIndex,getValue:function(){return l}},index:a}});return e.sort(function(s,a){return t(s.params,a.params)}),ge(e,function(s){return i[s.index]})}var n="asc"===t;return i.sort(function(s,a){var l=(s.getValue()-a.getValue())*(n?1:-1);return 0===l?(s.dataIndex-a.dataIndex)*(n?-1:1):l})}(e,t),e.length&&te(i.children,function(n){gB(n,t)})}function Dj(i){var t={};i.eachSeriesByType("sunburst",function(n){var s=n.getData(),a=s.tree;a.eachNode(function(l){var h=l.getModel().getModel("itemStyle").getItemStyle();h.fill||(h.fill=function e(n,s,a){for(var l=n;l&&l.depth>1;)l=l.parentNode;var d=s.getColorFromPalette(l.name||l.dataIndex+"",t);return n.depth>1&&Ii(d)&&(d=Go(d,(n.depth-1)/(a-1)*.5)),d}(l,n,a.root.height)),Dt(s.ensureUniqueItemVisual(l.dataIndex,"style"),h)})})}var mB={color:"fill",borderColor:"stroke"},Aj={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},wm=Xe(),Tj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,n){return sp(null,this)},t.prototype.getDataParams=function(e,n,s){var a=i.prototype.getDataParams.call(this,e,n);return s&&(a.info=wm(s).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Us);const Mj=Tj;function Rj(i,t){return t=t||[0,0],ge(["x","y"],function(e,n){var s=this.getAxis(e),a=t[n],l=i[n]/2;return"category"===s.type?s.getBandWidth():Math.abs(s.dataToCoord(a-l)-s.dataToCoord(a+l))},this)}function Pj(i,t){return t=t||[0,0],ge([0,1],function(e){var n=t[e],s=i[e]/2,a=[],l=[];return a[e]=n-s,l[e]=n+s,a[1-e]=l[1-e]=t[1-e],Math.abs(this.dataToPoint(a)[e]-this.dataToPoint(l)[e])},this)}function Fj(i,t){var e=this.getAxis(),n=t instanceof Array?t[0]:t,s=(i instanceof Array?i[0]:i)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(n-s)-e.dataToCoord(n+s))}function Lj(i,t){return t=t||[0,0],ge(["Radius","Angle"],function(e,n){var a=this["get"+e+"Axis"](),l=t[n],d=i[n]/2,h="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(l-d)-a.dataToCoord(l+d));return"Angle"===e&&(h=h*Math.PI/180),h},this)}function vB(i,t,e,n){return i&&(i.legacy||!1!==i.legacy&&!e&&!n&&"tspan"!==t&&("text"===t||oe(i,"text")))}function yB(i,t,e){var s,a,l,n=i;if("text"===t)l=n;else{l={},oe(n,"text")&&(l.text=n.text),oe(n,"rich")&&(l.rich=n.rich),oe(n,"textFill")&&(l.fill=n.textFill),oe(n,"textStroke")&&(l.stroke=n.textStroke),oe(n,"fontFamily")&&(l.fontFamily=n.fontFamily),oe(n,"fontSize")&&(l.fontSize=n.fontSize),oe(n,"fontStyle")&&(l.fontStyle=n.fontStyle),oe(n,"fontWeight")&&(l.fontWeight=n.fontWeight),a={type:"text",style:l,silent:!0},s={};var d=oe(n,"textPosition");e?s.position=d?n.textPosition:"inside":d&&(s.position=n.textPosition),oe(n,"textPosition")&&(s.position=n.textPosition),oe(n,"textOffset")&&(s.offset=n.textOffset),oe(n,"textRotation")&&(s.rotation=n.textRotation),oe(n,"textDistance")&&(s.distance=n.textDistance)}return _B(l,i),te(l.rich,function(h){_B(h,h)}),{textConfig:s,textContent:a}}function _B(i,t){t&&(t.font=t.textFont||t.font,oe(t,"textStrokeWidth")&&(i.lineWidth=t.textStrokeWidth),oe(t,"textAlign")&&(i.align=t.textAlign),oe(t,"textVerticalAlign")&&(i.verticalAlign=t.textVerticalAlign),oe(t,"textLineHeight")&&(i.lineHeight=t.textLineHeight),oe(t,"textWidth")&&(i.width=t.textWidth),oe(t,"textHeight")&&(i.height=t.textHeight),oe(t,"textBackgroundColor")&&(i.backgroundColor=t.textBackgroundColor),oe(t,"textPadding")&&(i.padding=t.textPadding),oe(t,"textBorderColor")&&(i.borderColor=t.textBorderColor),oe(t,"textBorderWidth")&&(i.borderWidth=t.textBorderWidth),oe(t,"textBorderRadius")&&(i.borderRadius=t.textBorderRadius),oe(t,"textBoxShadowColor")&&(i.shadowColor=t.textBoxShadowColor),oe(t,"textBoxShadowBlur")&&(i.shadowBlur=t.textBoxShadowBlur),oe(t,"textBoxShadowOffsetX")&&(i.shadowOffsetX=t.textBoxShadowOffsetX),oe(t,"textBoxShadowOffsetY")&&(i.shadowOffsetY=t.textBoxShadowOffsetY))}function bB(i,t,e){var n=i;n.textPosition=n.textPosition||e.position||"inside",null!=e.offset&&(n.textOffset=e.offset),null!=e.rotation&&(n.textRotation=e.rotation),null!=e.distance&&(n.textDistance=e.distance);var s=n.textPosition.indexOf("inside")>=0,a=i.fill||"#000";CB(n,t);var l=null==n.textFill;return s?l&&(n.textFill=e.insideFill||"#fff",!n.textStroke&&e.insideStroke&&(n.textStroke=e.insideStroke),!n.textStroke&&(n.textStroke=a),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(l&&(n.textFill=i.fill||e.outsideFill||"#000"),!n.textStroke&&e.outsideStroke&&(n.textStroke=e.outsideStroke)),n.text=t.text,n.rich=t.rich,te(t.rich,function(d){CB(d,d)}),n}function CB(i,t){t&&(oe(t,"fill")&&(i.textFill=t.fill),oe(t,"stroke")&&(i.textStroke=t.fill),oe(t,"lineWidth")&&(i.textStrokeWidth=t.lineWidth),oe(t,"font")&&(i.font=t.font),oe(t,"fontStyle")&&(i.fontStyle=t.fontStyle),oe(t,"fontWeight")&&(i.fontWeight=t.fontWeight),oe(t,"fontSize")&&(i.fontSize=t.fontSize),oe(t,"fontFamily")&&(i.fontFamily=t.fontFamily),oe(t,"align")&&(i.textAlign=t.align),oe(t,"verticalAlign")&&(i.textVerticalAlign=t.verticalAlign),oe(t,"lineHeight")&&(i.textLineHeight=t.lineHeight),oe(t,"width")&&(i.textWidth=t.width),oe(t,"height")&&(i.textHeight=t.height),oe(t,"backgroundColor")&&(i.textBackgroundColor=t.backgroundColor),oe(t,"padding")&&(i.textPadding=t.padding),oe(t,"borderColor")&&(i.textBorderColor=t.borderColor),oe(t,"borderWidth")&&(i.textBorderWidth=t.borderWidth),oe(t,"borderRadius")&&(i.textBorderRadius=t.borderRadius),oe(t,"shadowColor")&&(i.textBoxShadowColor=t.shadowColor),oe(t,"shadowBlur")&&(i.textBoxShadowBlur=t.shadowBlur),oe(t,"shadowOffsetX")&&(i.textBoxShadowOffsetX=t.shadowOffsetX),oe(t,"shadowOffsetY")&&(i.textBoxShadowOffsetY=t.shadowOffsetY),oe(t,"textShadowColor")&&(i.textShadowColor=t.textShadowColor),oe(t,"textShadowBlur")&&(i.textShadowBlur=t.textShadowBlur),oe(t,"textShadowOffsetX")&&(i.textShadowOffsetX=t.textShadowOffsetX),oe(t,"textShadowOffsetY")&&(i.textShadowOffsetY=t.textShadowOffsetY))}var wB={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},xB=Ri(wB),LT=(Re(qa,function(i,t){return i[t]=1,i},{}),qa.join(", "),["","style","shape","extra"]),a0=Xe();function UP(i,t,e,n,s){var a=i+"Animation",l=Nu(i,n,s)||{},d=a0(t).userDuring;return l.duration>0&&(l.during=d?at(zj,{el:t,userDuring:d}):null,l.setToFinal=!0,l.scope=i),Dt(l,e[a]),l}function NT(i,t,e,n){var s=(n=n||{}).dataIndex,a=n.isInit,l=n.clearStyle,d=e.isAnimationEnabled(),h=a0(i),f=t.style;h.userDuring=t.during;var m={},_={};if(function jj(i,t,e){for(var n=0;n<xB.length;n++){var s=xB[n],a=wB[s],l=t[s];l&&(e[a[0]]=l[0],e[a[1]]=l[1])}for(n=0;n<qa.length;n++){var d=qa[n];null!=t[d]&&(e[d]=t[d])}}(0,t,_),EB("shape",t,_),EB("extra",t,_),!a&&d&&(function Wj(i,t,e){for(var n=t.transition,s=db(n)?qa:Fr(n||[]),a=0;a<s.length;a++){var l=s[a];"style"!==l&&"shape"!==l&&"extra"!==l&&(e[l]=i[l])}}(i,t,m),DB("shape",i,t,m),DB("extra",i,t,m),function $j(i,t,e,n){if(e){var a,s=i.style;if(s){var l=e.transition,d=t.transition;if(l&&!db(l)){var h=Fr(l);!a&&(a=n.style={});for(var f=0;f<h.length;f++)a[m=h[f]]=s[m]}else if(i.getAnimationStyleProps&&(db(d)||db(l)||Te(d,"style")>=0)){var C=i.getAnimationStyleProps(),w=C?C.style:null;if(w){!a&&(a=n.style={});var D=Ri(e);for(f=0;f<D.length;f++){var m;w[m=D[f]]&&(a[m]=s[m])}}}}}}(i,t,f,m)),_.style=f,function Vj(i,t,e){var n=t.style;if(!i.isGroup&&n){if(e){i.useStyle({});for(var s=i.animators,a=0;a<s.length;a++){var l=s[a];"style"===l.targetName&&l.changeTarget(i.style)}}i.setStyle(n)}t&&(t.style=null,t&&i.attr(t),t.style=n)}(i,_,l),function Hj(i,t){oe(t,"silent")&&(i.silent=t.silent),oe(t,"ignore")&&(i.ignore=t.ignore),i instanceof cd&&oe(t,"invisible")&&(i.invisible=t.invisible),i instanceof $r&&oe(t,"autoBatch")&&(i.autoBatch=t.autoBatch)}(i,t),d)if(a){var C={};te(LT,function(D){var T=D?t[D]:t;T&&T.enterFrom&&(D&&(C[D]=C[D]||{}),Dt(D?C[D]:C,T.enterFrom))});var w=UP("enter",i,t,e,s);w.duration>0&&i.animateFrom(C,w)}else!function Gj(i,t,e,n,s){if(s){var a=UP("update",i,t,n,e);a.duration>0&&i.animateFrom(s,a)}}(i,t,s||0,e,m);SB(i,t),f?i.dirty():i.markRedraw()}function SB(i,t){for(var e=a0(i).leaveToProps,n=0;n<LT.length;n++){var s=LT[n],a=s?t[s]:t;a&&a.leaveTo&&(e||(e=a0(i).leaveToProps={}),s&&(e[s]=e[s]||{}),Dt(s?e[s]:e,a.leaveTo))}}function BT(i,t,e,n){if(i){var s=i.parent,a=a0(i).leaveToProps;if(a){var l=UP("update",i,t,e,0);l.done=function(){s.remove(i),n&&n()},i.animateTo(a,l)}else s.remove(i),n&&n()}}function db(i){return"all"===i}var Jf={},Uj={setTransform:function(i,t){return Jf.el[i]=t,this},getTransform:function(i){return Jf.el[i]},setShape:function(i,t){var e=Jf.el;return(e.shape||(e.shape={}))[i]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(i){var t=Jf.el.shape;if(t)return t[i]},setStyle:function(i,t){var e=Jf.el,n=e.style;return n&&(n[i]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(i){var t=Jf.el.style;if(t)return t[i]},setExtra:function(i,t){return(Jf.el.extra||(Jf.el.extra={}))[i]=t,this},getExtra:function(i){var t=Jf.el.extra;if(t)return t[i]}};function zj(){var i=this,t=i.el;if(t){var e=a0(t).userDuring,n=i.userDuring;if(e!==n)return void(i.el=i.userDuring=null);Jf.el=t,n(Uj)}}function DB(i,t,e,n){var s=e[i];if(s){var l,a=t[i];if(a){var d=e.transition,h=s.transition;if(h)if(!l&&(l=n[i]={}),db(h))Dt(l,a);else for(var f=Fr(h),m=0;m<f.length;m++)l[_=f[m]]=C=a[_];else if(db(d)||Te(d,i)>=0){!l&&(l=n[i]={});var w=Ri(a);for(m=0;m<w.length;m++){var _,C;Kj(s[_=w[m]],C=a[_])&&(l[_]=C)}}}}}function EB(i,t,e){var n=t[i];if(n)for(var s=e[i]={},a=Ri(n),l=0;l<a.length;l++){var d=a[l];s[d]=ec(n[d])}}function Kj(i,t){return Pe(i)?i!==t:null!=i&&isFinite(i)}var AB=Xe(),Xj=["percent","easing","shape","style","extra"];function TB(i){i.stopAnimation("keyframe"),i.attr(AB(i))}function VT(i,t,e){if(e.isAnimationEnabled()&&t){if(Me(t))return void te(t,function(d){VT(i,d,e)});var n=t.keyframes,s=t.duration;if(e&&null==s){var a=Nu("enter",e,0);s=a&&a.duration}if(n&&s){var l=AB(i);te(LT,function(d){var h;d&&!i[d]||(n.sort(function(m,_){return m.percent-_.percent}),te(n,function(m){var _=i.animators,C=d?m[d]:m;if(C){var w=Ri(C);if(d||(w=Ve(w,function(I){return Te(Xj,I)<0})),w.length){h||((h=i.animate(d,t.loop,!0)).scope="keyframe");for(var D=0;D<_.length;D++)_[D]!==h&&_[D].targetName===h.targetName&&_[D].stopTracks(w);d&&(l[d]=l[d]||{});var T=d?l[d]:l;te(w,function(I){T[I]=((d?i[d]:i)||{})[I]}),h.whenWithKeys(s*m.percent,C,w,m.easing)}}}),h&&h.delay(t.delay||0).duration(s).start(t.easing))})}}}var xm="emphasis",ry="normal",zP="blur",WP="select",oy=[ry,xm,zP,WP],jP={normal:["itemStyle"],emphasis:[xm,"itemStyle"],blur:[zP,"itemStyle"],select:[WP,"itemStyle"]},$P={normal:["label"],emphasis:[xm,"label"],blur:[zP,"label"],select:[WP,"label"]},Yj=["x","y"],Qj="e\0\0",fp={normal:{},emphasis:{},blur:{},select:{}},Zj={cartesian2d:function Ij(i){var t=i.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:at(Rj,i)}}},geo:function kj(i){var t=i.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:i.getZoom()},api:{coord:function(e){return i.dataToPoint(e)},size:at(Pj,i)}}},single:function Oj(i){var t=i.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return i.dataToPoint(e)},size:at(Fj,i)}}},polar:function Nj(i){var t=i.getRadiusAxis(),e=i.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:n[1],r0:n[0]},api:{coord:function(s){var a=t.dataToRadius(s[0]),l=e.dataToAngle(s[1]),d=i.coordToPoint([a,l]);return d.push(a,l*Math.PI/180),d},size:at(Lj,i)}}},calendar:function Bj(i){var t=i.getRect(),e=i.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:i.getCellWidth(),cellHeight:i.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(n,s){return i.dataToPoint(n,s)}}}}};function KP(i){return i instanceof $r}function XP(i){return i instanceof cd}var Jj=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s,a){this._progressiveEls=null;var l=this._data,d=e.getData(),h=this.group,f=RB(e,d,n,s);l||h.removeAll(),d.diff(l).add(function(_){ZP(s,null,_,f(_,a),e,h,d)}).remove(function(_){var C=l.getItemGraphicEl(_);C&&BT(C,wm(C).option,e)}).update(function(_,C){var w=l.getItemGraphicEl(C);ZP(s,w,_,f(_,a),e,h,d)}).execute();var m=e.get("clip",!0)?DS(e.coordinateSystem,!1,e):null;m?h.setClipPath(m):h.removeClipPath(),this._data=d},t.prototype.incrementalPrepareRender=function(e,n,s){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,n,s,a,l){var d=n.getData(),h=RB(n,d,s,a),f=this._progressiveEls=[];function m(w){w.isGroup||(w.incremental=!0,w.ensureState("emphasis").hoverLayer=!0)}for(var _=e.start;_<e.end;_++){var C=ZP(null,null,_,h(_,l),n,this.group,d);C&&(C.traverse(m),f.push(C))}},t.prototype.eachRendered=function(e){ef(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,n,s,a){var l=n.element;if(null==l||s.name===l)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===l)return!0;return!1},t.type="custom",t}(fs);const e$=Jj;function YP(i){var e,t=i.type;if("path"===t){var n=i.shape,s=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=OB(n);e=f_(a,null,s,n.layout||"center"),wm(e).customPathData=a}else if("image"===t)e=new hs({}),wm(e).customImagePath=i.style.image;else if("text"===t)e=new lo({});else if("group"===t)e=new zn;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');var l=uC(t);l||qo(""),e=new l}return wm(e).customGraphicType=t,e.name=i.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function QP(i,t,e,n,s,a,l){TB(t);var d=s&&s.normal.cfg;d&&t.setTextConfig(d),n&&null==n.transition&&(n.transition=Yj);var h=n&&n.style;if(h){if("text"===t.type){var f=h;oe(f,"textFill")&&(f.fill=f.textFill),oe(f,"textStroke")&&(f.stroke=f.textStroke)}var m=void 0,_=KP(t)?h.decal:null;i&&_&&(_.dirty=!0,m=um(_,i)),h.__decalPattern=m}XP(t)&&h&&(m=h.__decalPattern)&&(h.decal=m),NT(t,n,a,{dataIndex:e,isInit:l,clearStyle:!0}),VT(t,n.keyframeAnimation,a)}function MB(i,t,e,n,s){var a=t.isGroup?null:t,l=s&&s[i].cfg;if(a){var d=a.ensureState(i);if(!1===n){var h=a.getState(i);h&&(h.style=null)}else d.style=n||null;l&&(d.textConfig=l),dc(a)}}function i$(i,t,e){var n=e===ry,s=n?t:GT(t,e),a=s?s.z2:null;null!=a&&((n?i:i.ensureState(e)).z2=a||0)}function RB(i,t,e,n){var s=i.get("renderItem"),a=i.coordinateSystem,l={};a&&(l=a.prepareCustoms?a.prepareCustoms(a):Zj[a.type](a));for(var f,m,d=je({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function re(hi,gi){return null==gi&&(gi=f),t.getStore().get(t.getDimensionIndex(hi||0),gi)},style:function de(hi,gi){null==gi&&(gi=f);var Pi=t.getItemVisual(gi,"style"),Yi=Pi&&Pi.fill,ji=Pi&&Pi.opacity,rn=V(gi,ry).getItemStyle();null!=Yi&&(rn.fill=Yi),null!=ji&&(rn.opacity=ji);var bn={inheritColor:Ii(Yi)?Yi:"#000"},In=H(gi,ry),Vn=Ms(In,null,bn,!1,!0);Vn.text=In.getShallow("show")?en(i.getFormattedLabel(gi,ry),QC(t,gi)):null;var lr=jp(In,bn,!1);return ze(hi,rn),rn=bB(rn,Vn,lr),hi&&Ue(rn,hi),rn.legacy=!0,rn},ordinalRawValue:function fe(hi,gi){null==gi&&(gi=f);var Pi=t.getDimensionInfo(hi=hi||0);if(!Pi){var Yi=t.getDimensionIndex(hi);return Yi>=0?t.getStore().get(Yi,gi):void 0}var ji=t.get(Pi.name,gi),rn=Pi&&Pi.ordinalMeta;return rn?rn.categories[ji]:ji},styleEmphasis:function Ee(hi,gi){null==gi&&(gi=f);var Pi=V(gi,xm).getItemStyle(),Yi=H(gi,xm),ji=Ms(Yi,null,null,!0,!0);ji.text=Yi.getShallow("show")?fn(i.getFormattedLabel(gi,xm),i.getFormattedLabel(gi,ry),QC(t,gi)):null;var rn=jp(Yi,null,!0);return ze(hi,Pi),Pi=bB(Pi,ji,rn),hi&&Ue(Pi,hi),Pi.legacy=!0,Pi},visual:function nt(hi,gi){if(null==gi&&(gi=f),oe(mB,hi)){var Pi=t.getItemVisual(gi,"style");return Pi?Pi[mB[hi]]:null}if(oe(Aj,hi))return t.getItemVisual(gi,hi)},barLayout:function gt(hi){if("cartesian2d"===a.type)return function RA(i){var t=[],e=i.axis,n="axis0";if("category"===e.type){for(var s=e.getBandWidth(),a=0;a<i.count;a++)t.push(je({bandWidth:s,axisKey:n,stackId:V_+a},i));var l=kA(t),d=[];for(a=0;a<i.count;a++){var h=l[n][V_+a];h.offsetCenter=h.offset+h.width/2,d.push(h)}return d}}(je({axis:a.getBaseAxis()},hi))},currentSeriesIndices:function Vt(){return e.getCurrentSeriesIndices()},font:function $t(hi){return r(hi,e)}},l.api||{}),h={context:{},seriesId:i.id,seriesName:i.name,seriesIndex:i.seriesIndex,coordSys:l.coordSys,dataInsideLength:t.count(),encode:n$(i.getData())},_={},C={},w={},D={},T=0;T<oy.length;T++){var I=oy[T];w[I]=i.getModel(jP[I]),D[I]=i.getModel($P[I])}function F(hi){return hi===f?m||(m=t.getItemModel(hi)):t.getItemModel(hi)}function V(hi,gi){return t.hasItemOption?hi===f?_[gi]||(_[gi]=F(hi).getModel(jP[gi])):F(hi).getModel(jP[gi]):w[gi]}function H(hi,gi){return t.hasItemOption?hi===f?C[gi]||(C[gi]=F(hi).getModel($P[gi])):F(hi).getModel($P[gi]):D[gi]}return function(hi,gi){return f=hi,m=null,_={},C={},s&&s(je({dataIndexInside:hi,dataIndex:t.getRawIndex(hi),actionType:gi?gi.type:null},h),d)};function Ue(hi,gi){for(var Pi in gi)oe(gi,Pi)&&(hi[Pi]=gi[Pi])}function ze(hi,gi){hi&&(hi.textFill&&(gi.textFill=hi.textFill),hi.textPosition&&(gi.textPosition=hi.textPosition))}}function n$(i){var t={};return te(i.dimensions,function(e){var n=i.getDimensionInfo(e);if(!n.isExtraCoord){var s=n.coordDim;(t[s]=t[s]||[])[n.coordDimIndex]=i.getDimensionIndex(e)}}),t}function ZP(i,t,e,n,s,a,l){if(n){var d=qP(i,t,e,n,s,a);return d&&l.setItemGraphicEl(e,d),d&&ea(d,n.focus,n.blurScope,n.emphasisDisabled),d}a.remove(t)}function qP(i,t,e,n,s,a){var l=-1,d=t;t&&IB(t,n,s)&&(l=Te(a.childrenRef(),t),t=null);var h=!t,f=t;f?f.clearStates():(f=YP(n),d&&function qj(i,t){t.copyTransform(i),XP(t)&&XP(i)&&(t.setStyle(i.style),t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel,t.invisible=i.invisible,t.ignore=i.ignore,KP(t)&&KP(i)&&t.setShape(i.shape))}(d,f)),!1===n.morph?f.disableMorphing=!0:f.disableMorphing&&(f.disableMorphing=!1),fp.normal.cfg=fp.normal.conOpt=fp.emphasis.cfg=fp.emphasis.conOpt=fp.blur.cfg=fp.blur.conOpt=fp.select.cfg=fp.select.conOpt=null,fp.isLegacy=!1,function o$(i,t,e,n,s,a){if(!i.isGroup){PB(e,null,a),PB(e,xm,a);var l=a.normal.conOpt;if(null!=l||null!=a.emphasis.conOpt||null!=a.select.conOpt||null!=a.blur.conOpt){var m=i.getTextContent();if(!1===l)m&&i.removeTextContent();else{l=a.normal.conOpt=l||{type:"text"},m?m.clearStates():(m=YP(l),i.setTextContent(m)),QP(null,m,t,l,null,n,s);for(var _=l&&l.style,C=0;C<oy.length;C++){var w=oy[C];if(w!==ry)MB(w,m,0,JP(l,a[w].conOpt,w),null)}_?m.dirty():m.markRedraw()}}}}(f,e,n,s,h,fp),function r$(i,t,e,n,s){var a=e.clipPath;if(!1===a)i&&i.getClipPath()&&i.removeClipPath();else if(a){var l=i.getClipPath();l&&IB(l,a,n)&&(l=null),l||(l=YP(a),i.setClipPath(l)),QP(null,l,t,a,null,n,s)}}(f,e,n,s,h),QP(i,f,e,n,fp,s,h),oe(n,"info")&&(wm(f).info=n.info);for(var m=0;m<oy.length;m++){var _=oy[m];if(_!==ry)MB(_,f,0,JP(n,GT(n,_),_),fp)}return function t$(i,t,e){if(!i.isGroup){var n=i,a=e.currentZLevel;n.z=e.currentZ,n.zlevel=a;var l=t.z2;null!=l&&(n.z2=l||0);for(var d=0;d<oy.length;d++)i$(n,t,oy[d])}}(f,n,s),"group"===n.type&&function s$(i,t,e,n,s){var a=n.children,l=a?a.length:0,d=n.$mergeChildren,h="byName"===d||n.diffChildrenByName,f=!1===d;if(l||h||f){if(h)return void function l$(i){new op(i.oldChildren,i.newChildren,kB,kB,i).add(FB).update(FB).remove(c$).execute()}({api:i,oldChildren:t.children()||[],newChildren:a||[],dataIndex:e,seriesModel:s,group:t});f&&t.removeAll();for(var m=0;m<l;m++){var _=a[m],C=t.childAt(m);_?(null==_.ignore&&(_.ignore=!1),qP(i,C,e,_,s,t)):C.ignore=!0}for(var w=t.childCount()-1;w>=m;w--){var D=t.childAt(w);a$(t,D,s)}}}(i,f,e,n,s),l>=0?a.replaceAt(f,l):a.add(f),f}function IB(i,t,e){var n=wm(i),s=t.type,a=t.shape,l=t.style;return e.isUniversalTransitionEnabled()||null!=s&&s!==n.customGraphicType||"path"===s&&function d$(i){return i&&(oe(i,"pathData")||oe(i,"d"))}(a)&&OB(a)!==n.customPathData||"image"===s&&oe(l,"image")&&l.image!==n.customImagePath}function PB(i,t,e){var n=t?GT(i,t):i,s=t?JP(i,n,xm):i.style,a=i.type,l=n?n.textConfig:null,d=i.textContent,h=d?t?GT(d,t):d:null;if(s&&(e.isLegacy||vB(s,a,!!l,!!h))){e.isLegacy=!0;var f=yB(s,a,!t);!l&&f.textConfig&&(l=f.textConfig),!h&&f.textContent&&(h=f.textContent)}!t&&h&&!h.type&&(h.type="text");var _=t?e[t]:e.normal;_.cfg=l,_.conOpt=h}function GT(i,t){return t?i?i[t]:null:i}function JP(i,t,e){var n=t&&t.style;return null==n&&e===xm&&i&&(n=i.styleEmphasis),n}function a$(i,t,e){t&&BT(t,wm(i).option,e)}function kB(i,t){return(i&&i.name)??Qj+t}function FB(i,t){var e=this.context;qP(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=i?e.newChildren[i]:null,e.seriesModel,e.group)}function c$(i){var t=this.context,e=t.oldChildren[i];e&&BT(e,wm(e).option,t.seriesModel)}function OB(i){return i&&(i.pathData||i.d)}var ub=Xe(),LB=xe,ek=at,h$=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(t,e,n,s){var a=e.get("value"),l=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,s||this._lastValue!==a||this._lastStatus!==l){this._lastValue=a,this._lastStatus=l;var d=this._group,h=this._handle;if(!l||"hide"===l)return d&&d.hide(),void(h&&h.hide());d&&d.show(),h&&h.show();var f={};this.makeElOption(f,a,t,e,n);var m=f.graphicKey;m!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=m;var _=this._moveAnimation=this.determineAnimation(t,e);if(d){var C=Se(NB,e,_);this.updatePointerEl(d,f,C),this.updateLabelEl(d,f,C,e)}else d=this._group=new zn,this.createPointerEl(d,f,t,e),this.createLabelEl(d,f,t,e),n.getZr().add(d);GB(d,e,!0),this._renderHandle(a)}},i.prototype.remove=function(t){this.clear(t)},i.prototype.dispose=function(t){this.clear(t)},i.prototype.determineAnimation=function(t,e){var n=e.get("animation"),s=t.axis,a="category"===s.type,l=e.get("snap");if(!l&&!a)return!1;if("auto"===n||null==n){var d=this.animationThreshold;if(a&&s.getBandWidth()>d)return!0;if(l){var h=DI(t).seriesDataCount,f=s.getExtent();return Math.abs(f[0]-f[1])/h>d}return!1}return!0===n},i.prototype.makeElOption=function(t,e,n,s,a){},i.prototype.createPointerEl=function(t,e,n,s){var a=e.pointer;if(a){var l=ub(t).pointerEl=new Ke[a.type](LB(e.pointer));t.add(l)}},i.prototype.createLabelEl=function(t,e,n,s){if(e.label){var a=ub(t).labelEl=new lo(LB(e.label));t.add(a),VB(a,s)}},i.prototype.updatePointerEl=function(t,e,n){var s=ub(t).pointerEl;s&&e.pointer&&(s.setStyle(e.pointer.style),n(s,{shape:e.pointer.shape}))},i.prototype.updateLabelEl=function(t,e,n,s){var a=ub(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),VB(a,s))},i.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var d,e=this._axisPointerModel,n=this._api.getZr(),s=this._handle,a=e.getModel("handle"),l=e.get("status");if(!a.get("show")||!l||"hide"===l)return s&&n.remove(s),void(this._handle=null);this._handle||(d=!0,s=this._handle=Dv(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(f){ot(f.event)},onmousedown:ek(this._onHandleDragMove,this,0,0),drift:ek(this._onHandleDragMove,this),ondragend:ek(this._onHandleDragEnd,this)}),n.add(s)),GB(s,e,!1),s.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=a.get("size");Me(h)||(h=[h,h]),s.scaleX=h[0]/2,s.scaleY=h[1]/2,Rv(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,d)}},i.prototype._moveHandleToValue=function(t,e){NB(this._axisPointerModel,!e&&this._moveAnimation,this._handle,tk(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var s=this.updateHandleTransform(tk(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=s,n.stopAnimation(),n.attr(tk(s)),ub(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,s=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),s&&e.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),__(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},i}();function NB(i,t,e,n){BB(ub(e).lastProp,n)||(ub(e).lastProp=n,t?wo(e,n,i):(e.stopAnimation(),e.attr(n)))}function BB(i,t){if(Zi(i)&&Zi(t)){var e=!0;return te(t,function(n,s){e=e&&BB(i[s],n)}),!!e}return i===t}function VB(i,t){i[t.get(["label","show"])?"show":"hide"]()}function tk(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function GB(i,t,e){var n=t.get("z"),s=t.get("zlevel");i&&i.traverse(function(a){"group"!==a.type&&(null!=n&&(a.z=n),null!=s&&(a.zlevel=s),a.silent=e)})}const ik=h$;function nk(i){var n,t=i.get("type"),e=i.getModel(t+"Style");return"line"===t?(n=e.getLineStyle()).fill=null:"shadow"===t&&((n=e.getAreaStyle()).stroke=null),n}function HB(i,t,e,n,s){var l=UB(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),d=e.getModel("label"),h=Nf(d.get("padding")||0),f=d.getFont(),m=pf(l,f),_=s.position,C=m.width+h[1]+h[3],w=m.height+h[0]+h[2],D=s.align;"right"===D&&(_[0]-=C),"center"===D&&(_[0]-=C/2);var T=s.verticalAlign;"bottom"===T&&(_[1]-=w),"middle"===T&&(_[1]-=w/2),function p$(i,t,e,n){var s=n.getWidth(),a=n.getHeight();i[0]=Math.min(i[0]+t,s)-t,i[1]=Math.min(i[1]+e,a)-e,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}(_,C,w,n);var I=d.get("backgroundColor");(!I||"auto"===I)&&(I=t.get(["axisLine","lineStyle","color"])),i.label={x:_[0],y:_[1],style:Ms(d,{text:l,font:f,fill:d.getTextColor(),padding:h,backgroundColor:I}),z2:10}}function UB(i,t,e,n,s){i=t.scale.parse(i);var a=t.scale.getLabel({value:i},{precision:s.precision}),l=s.formatter;if(l){var d={value:UC(t,{value:i}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};te(n,function(h){var f=e.getSeriesByIndex(h.seriesIndex),_=f&&f.getDataParams(h.dataIndexInside);_&&d.seriesData.push(_)}),Ii(l)?a=l.replace("{value}",a):Nt(l)&&(a=l(d))}return a}function rk(i,t,e){var n=[1,0,0,1,0,0];return xs(n,n,e.rotation),ol(n,n,e.position),$u([i.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function zB(i,t,e,n,s,a){var l=_m.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=s.get(["label","margin"]),HB(t,n,s,a,{position:rk(n.axis,i,e),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function ok(i,t,e){return{x1:i[e=e||0],y1:i[1-e],x2:t[e],y2:t[1-e]}}function WB(i,t,e){return{x:i[e=e||0],y:i[1-e],width:t[e],height:t[1-e]}}function jB(i,t,e,n,s,a){return{cx:i,cy:t,r0:e,r:n,startAngle:s,endAngle:a,clockwise:!0}}var f$=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.makeElOption=function(e,n,s,a,l){var d=s.axis,h=d.grid,f=a.get("type"),m=$B(h,d).getOtherAxis(d).getGlobalExtent(),_=d.toGlobalCoord(d.dataToCoord(n,!0));if(f&&"none"!==f){var C=nk(a),w=g$[f](d,_,m);w.style=C,e.graphicKey=w.type,e.pointer=w}zB(n,e,CI(h.model,s),s,a,l)},t.prototype.getHandleTransform=function(e,n,s){var a=CI(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=s.get(["handle","margin"]);var l=rk(n.axis,e,a);return{x:l[0],y:l[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,s,a){var l=s.axis,d=l.grid,h=l.getGlobalExtent(!0),f=$B(d,l).getOtherAxis(l).getGlobalExtent(),m="x"===l.dim?0:1,_=[e.x,e.y];_[m]+=n[m],_[m]=Math.min(h[1],_[m]),_[m]=Math.max(h[0],_[m]);var C=(f[1]+f[0])/2,w=[C,C];return w[m]=_[m],{x:_[0],y:_[1],rotation:e.rotation,cursorPoint:w,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][m]}},t}(ik);function $B(i,t){var e={};return e[t.dim+"AxisIndex"]=t.index,i.getCartesian(e)}var g$={line:function(i,t,e){return{type:"Line",subPixelOptimize:!0,shape:ok([t,e[0]],[t,e[1]],KB(i))}},shadow:function(i,t,e){var n=Math.max(1,i.getBandWidth());return{type:"Rect",shape:WB([t-n/2,e[0]],[n,e[1]-e[0]],KB(i))}}};function KB(i){return"x"===i.dim?0:1}const m$=f$;var v$=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(go);const y$=v$;var Sm=Xe(),_$=te;function XB(i,t,e){if(!Tt.node){var n=t.getZr();Sm(n).records||(Sm(n).records={}),function b$(i,t){function e(n,s){i.on(n,function(a){var l=function x$(i){var t={showTip:[],hideTip:[]},e=function(n){var s=t[n.type];s?s.push(n):(n.dispatchAction=e,i.dispatchAction(n))};return{dispatchAction:e,pendings:t}}(t);_$(Sm(i).records,function(d){d&&s(d,a,l.dispatchAction)}),function C$(i,t){var s,e=i.showTip.length,n=i.hideTip.length;e?s=i.showTip[e-1]:n&&(s=i.hideTip[n-1]),s&&(s.dispatchAction=null,t.dispatchAction(s))}(l.pendings,t)})}Sm(i).initialized||(Sm(i).initialized=!0,e("click",Se(YB,"click")),e("mousemove",Se(YB,"mousemove")),e("globalout",w$))}(n,t),(Sm(n).records[i]||(Sm(n).records[i]={})).handler=e}}function w$(i,t,e){i.handler("leave",null,e)}function YB(i,t,e,n){t.handler(i,e,n)}function sk(i,t){if(!Tt.node){var e=t.getZr();(Sm(e).records||{})[i]&&(Sm(e).records[i]=null)}}var S$=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=n.getComponent("tooltip"),l=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";XB("axisPointer",s,function(d,h,f){"none"!==l&&("leave"===d||l.indexOf(d)>=0)&&f({type:"updateAxisPointer",currTrigger:d,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(e,n){sk("axisPointer",n)},t.prototype.dispose=function(e,n){sk("axisPointer",n)},t.type="axisPointer",t}(Ks);const D$=S$;function QB(i,t){var s,e=[],n=i.seriesIndex;if(null==n||!(s=t.getSeriesByIndex(n)))return{point:[]};var a=s.getData(),l=xt(a,i);if(null==l||l<0||Me(l))return{point:[]};var d=a.getItemGraphicEl(l),h=s.coordinateSystem;if(s.getTooltipPosition)e=s.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)if(i.isStacked){var f=h.getBaseAxis(),_=h.getOtherAxis(f).dim,w="x"===_||"radius"===_?1:0,D=a.mapDimension(f.dim),T=[];T[w]=a.get(D,l),T[1-w]=a.get(a.getCalculationInfo("stackResultDimension"),l),e=h.dataToPoint(T)||[]}else e=h.dataToPoint(a.getValues(ge(h.dimensions,function(F){return a.mapDimension(F)}),l))||[];else if(d){var I=d.getBoundingRect().clone();I.applyTransform(d.transform),e=[I.x+I.width/2,I.y+I.height/2]}return{point:e,el:d}}var ZB=Xe();function E$(i,t,e){var n=i.currTrigger,s=[i.x,i.y],a=i,l=i.dispatchAction||at(e.dispatchAction,e),d=t.getComponent("axisPointer").coordSysAxesInfo;if(d){HT(s)&&(s=QB({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var h=HT(s),f=a.axesInfo,m=d.axesInfo,_="leave"===n||HT(s),C={},w={},D={list:[],map:{}},T={showPointer:Se(T$,w),showTooltip:Se(M$,D)};te(d.coordSysMap,function(F,V){var H=h||F.containPoint(s);te(d.coordSysAxesInfo[V],function(re,fe){var de=re.axis,Ee=function k$(i,t){for(var e=0;e<(i||[]).length;e++){var n=i[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(f,re);if(!_&&H&&(!f||Ee)){var Ue=Ee&&Ee.value;null==Ue&&!h&&(Ue=de.pointToData(s)),null!=Ue&&qB(re,Ue,T,!1,C)}})});var I={};return te(m,function(F,V){var H=F.linkGroup;H&&!w[V]&&te(H.axesInfo,function(re,fe){var de=w[fe];if(re!==F&&de){var Ee=de.value;H.mapper&&(Ee=F.axis.scale.parse(H.mapper(Ee,JB(re),JB(F)))),I[F.key]=Ee}})}),te(I,function(F,V){qB(m[V],F,T,!0,C)}),function R$(i,t,e){var n=e.axesInfo=[];te(t,function(s,a){var l=s.axisPointerModel.option,d=i[a];d?(!s.useHandle&&(l.status="show"),l.value=d.value,l.seriesDataIndices=(d.payloadBatch||[]).slice()):!s.useHandle&&(l.status="hide"),"show"===l.status&&n.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:l.value})})}(w,m,C),function I$(i,t,e,n){if(!HT(t)&&i.list.length){var s=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:i.list})}else n({type:"hideTip"})}(D,s,i,l),function P$(i,t,e){var n=e.getZr(),s="axisPointerLastHighlights",a=ZB(n)[s]||{},l=ZB(n)[s]={};te(i,function(f,m){var _=f.axisPointerModel.option;"show"===_.status&&f.triggerEmphasis&&te(_.seriesDataIndices,function(C){l[C.seriesIndex+" | "+C.dataIndex]=C})});var d=[],h=[];te(a,function(f,m){!l[m]&&h.push(f)}),te(l,function(f,m){!a[m]&&d.push(f)}),h.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),d.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:d})}(m,0,e),C}}function qB(i,t,e,n,s){var a=i.axis;if(!a.scale.isBlank()&&a.containData(t)){if(!i.involveSeries)return void e.showPointer(i,t);var l=function A$(i,t){var e=t.axis,n=e.dim,s=i,a=[],l=Number.MAX_VALUE,d=-1;return te(t.seriesModels,function(h,f){var _,C,m=h.getData().mapDimensionsAll(n);if(h.getAxisTooltipData){var w=h.getAxisTooltipData(m,i,e);C=w.dataIndices,_=w.nestestValue}else{if(!(C=h.getData().indicesOfNearest(m[0],i,"category"===e.type?.5:null)).length)return;_=h.getData().get(m[0],C[0])}if(null!=_&&isFinite(_)){var D=i-_,T=Math.abs(D);T<=l&&((T<l||D>=0&&d<0)&&(l=T,d=D,s=_,a.length=0),te(C,function(I){a.push({seriesIndex:h.seriesIndex,dataIndexInside:I,dataIndex:h.getData().getRawIndex(I)})}))}}),{payloadBatch:a,snapToValue:s}}(t,i),d=l.payloadBatch,h=l.snapToValue;d[0]&&null==s.seriesIndex&&Dt(s,d[0]),!n&&i.snap&&a.containData(h)&&null!=h&&(t=h),e.showPointer(i,t,d),e.showTooltip(i,l,h)}}function T$(i,t,e,n){i[t.key]={value:e,payloadBatch:n}}function M$(i,t,e,n){var s=e.payloadBatch,a=t.axis,l=a.model,d=t.axisPointerModel;if(t.triggerTooltip&&s.length){var h=t.coordSys.model,f=MS(h),m=i.map[f];m||(m=i.map[f]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},i.list.push(m)),m.dataByAxis.push({axisDim:a.dim,axisIndex:l.componentIndex,axisType:l.type,axisId:l.id,value:n,valueLabelOpt:{precision:d.get(["label","precision"]),formatter:d.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function JB(i){var t=i.axis.model,e={},n=e.axisDim=i.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function HT(i){return!i||null==i[0]||isNaN(i[0])||null==i[1]||isNaN(i[1])}function KS(i){tb.registerAxisPointerClass("CartesianAxisPointer",m$),i.registerComponentModel(y$),i.registerComponentView(D$),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Me(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function m3(i,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function v3(i,t,e){var n=t.getComponent("tooltip"),s=t.getComponent("axisPointer"),a=s.get("link",!0)||[],l=[];te(e.getCoordinateSystems(),function(d){if(d.axisPointerEnabled){var h=MS(d.model),f=i.coordSysAxesInfo[h]={};i.coordSysMap[h]=d;var _=d.model.getModel("tooltip",n);if(te(d.getAxes(),Se(T,!1,null)),d.getTooltipAxes&&n&&_.get("show")){var C="axis"===_.get("trigger"),w="cross"===_.get(["axisPointer","type"]),D=d.getTooltipAxes(_.get(["axisPointer","axis"]));(C||w)&&te(D.baseAxes,Se(T,!w||"cross",C)),w&&te(D.otherAxes,Se(T,"cross",!1))}}function T(I,F,V){var H=V.model.getModel("axisPointer",s),re=H.get("show");if(re&&("auto"!==re||I||EI(H))){null==F&&(F=H.get("triggerTooltip")),H=I?function y3(i,t,e,n,s,a){var l=t.getModel("axisPointer"),h={};te(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(C){h[C]=xe(l.get(C))}),h.snap="category"!==i.type&&!!a,"cross"===l.get("type")&&(h.type="line");var f=h.label||(h.label={});if(null==f.show&&(f.show=!1),"cross"===s){var m=l.get(["label","show"]);if(f.show=m??!0,!a){var _=h.lineStyle=l.get("crossStyle");_&&je(f,_.textStyle)}}return i.model.getModel("axisPointer",new Vi(h,e,n))}(V,_,s,t,I,F):H;var fe=H.get("snap"),de=H.get("triggerEmphasis"),Ee=MS(V.model),Ue=F||fe||"category"===V.type,ze=i.axesInfo[Ee]={key:Ee,axis:V,coordSys:d,axisPointerModel:H,triggerTooltip:F,triggerEmphasis:de,involveSeries:Ue,snap:fe,useHandle:EI(H),seriesModels:[],linkGroup:null};f[Ee]=ze,i.seriesInvolved=i.seriesInvolved||Ue;var nt=function b3(i,t){for(var e=t.model,n=t.dim,s=0;s<i.length;s++){var a=i[s]||{};if(SI(a[n+"AxisId"],e.id)||SI(a[n+"AxisIndex"],e.componentIndex)||SI(a[n+"AxisName"],e.name))return s}}(a,V);if(null!=nt){var gt=l[nt]||(l[nt]={axesInfo:{}});gt.axesInfo[Ee]=ze,gt.mapper=a[nt].mapper,ze.linkGroup=gt}}}})}(e,i,t),e.seriesInvolved&&function _3(i,t){t.eachSeries(function(e){var n=e.coordinateSystem,s=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||"none"===s||!1===s||"item"===s||!1===a||!1===e.get(["axisPointer","show"],!0)||te(i.coordSysAxesInfo[MS(n.model)],function(l){var d=l.axis;n.getAxis(d.dim)===d&&(l.seriesModels.push(e),null==l.seriesDataCount&&(l.seriesDataCount=0),l.seriesDataCount+=e.getData().count())})})}(e,i),e}(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},E$)}var O$=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.makeElOption=function(e,n,s,a,l){var d=s.axis;"angle"===d.dim&&(this.animationThreshold=Math.PI/18);var h=d.polar,m=h.getOtherAxis(d).getExtent(),_=d.dataToCoord(n),C=a.get("type");if(C&&"none"!==C){var w=nk(a),D=N$[C](d,h,_,m);D.style=w,e.graphicKey=D.type,e.pointer=D}var I=function L$(i,t,e,n,s){var a=t.axis,l=a.dataToCoord(i),d=n.getAngleAxis().getExtent()[0];d=d/180*Math.PI;var f,m,_,h=n.getRadiusAxis().getExtent();if("radius"===a.dim){var C=[1,0,0,1,0,0];xs(C,C,d),ol(C,C,[n.cx,n.cy]),f=$u([l,-s],C);var w=t.getModel("axisLabel").get("rotate")||0,D=_m.innerTextLayout(d,w*Math.PI/180,-1);m=D.textAlign,_=D.textVerticalAlign}else{var T=h[1];f=n.coordToPoint([T+s,l]);var I=n.cx,F=n.cy;m=Math.abs(f[0]-I)/T<.3?"center":f[0]>I?"left":"right",_=Math.abs(f[1]-F)/T<.3?"middle":f[1]>F?"top":"bottom"}return{position:f,align:m,verticalAlign:_}}(n,s,0,h,a.get(["label","margin"]));HB(e,s,a,l,I)},t}(ik),N$={line:function(i,t,e,n){return"angle"===i.dim?{type:"Line",shape:ok(t.coordToPoint([n[0],e]),t.coordToPoint([n[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(i,t,e,n){var s=Math.max(1,i.getBandWidth()),a=Math.PI/180;return"angle"===i.dim?{type:"Sector",shape:jB(t.cx,t.cy,n[0],n[1],(-e-s/2)*a,(s/2-e)*a)}:{type:"Sector",shape:jB(t.cx,t.cy,e-s/2,e+s/2,0,2*Math.PI)}}};const B$=O$;var V$=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.findAxisModel=function(e){var n;return this.ecModel.eachComponent(e,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(go);const G$=V$;var ak=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",mi).models[0]},t.type="polarAxis",t}(go);Gt(ak,z_);var H$=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="angleAxis",t}(ak),U$=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="radiusAxis",t}(ak),lk=function(i){function t(e,n){return i.call(this,"radius",e,n)||this}return P(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)["radius"===this.dim?0:1]},t}(Qu);lk.prototype.dataToRadius=Qu.prototype.dataToCoord,lk.prototype.radiusToData=Qu.prototype.coordToData;const z$=lk;var W$=Xe(),ck=function(i){function t(e,n){return i.call(this,"angle",e,n||[0,360])||this}return P(t,i),t.prototype.pointToData=function(e,n){return this.polar.pointToData(e,n)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,n=e.getLabelModel(),s=e.scale,a=s.getExtent(),l=s.count();if(a[1]-a[0]<1)return 0;var d=a[0],h=e.dataToCoord(d+1)-e.dataToCoord(d),f=Math.abs(h),m=pf(null==d?"":d+"",n.getFont(),"center","top"),C=Math.max(m.height,7)/f;isNaN(C)&&(C=1/0);var w=Math.max(0,Math.floor(C)),D=W$(e.model),T=D.lastAutoInterval,I=D.lastTickCount;return null!=T&&null!=I&&Math.abs(T-w)<=1&&Math.abs(I-l)<=1&&T>w?w=T:(D.lastTickCount=l,D.lastAutoInterval=w),w},t}(Qu);ck.prototype.dataToAngle=Qu.prototype.dataToCoord,ck.prototype.angleToData=Qu.prototype.coordToData;const j$=ck;var eV=["radius","angle"],$$=function(){function i(t){this.dimensions=eV,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new z$,this._angleAxis=new j$,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return i.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},i.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},i.prototype.getAxis=function(t){return this["_"+t+"Axis"]},i.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},i.prototype.getAxesByScale=function(t){var e=[],n=this._angleAxis,s=this._radiusAxis;return n.scale.type===t&&e.push(n),s.scale.type===t&&e.push(s),e},i.prototype.getAngleAxis=function(){return this._angleAxis},i.prototype.getRadiusAxis=function(){return this._radiusAxis},i.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},i.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},i.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},i.prototype.pointToData=function(t,e){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],e),this._angleAxis.angleToData(n[1],e)]},i.prototype.pointToCoord=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,s=this.getAngleAxis(),a=s.getExtent(),l=Math.min(a[0],a[1]),d=Math.max(a[0],a[1]);s.inverse?l=d-360:d=l+360;var h=Math.sqrt(e*e+n*n);e/=h,n/=h;for(var f=Math.atan2(-n,e)/Math.PI*180,m=f<l?1:-1;f<l||f>d;)f+=360*m;return[h,f]},i.prototype.coordToPoint=function(t){var e=t[0],n=t[1]/180*Math.PI;return[Math.cos(n)*e+this.cx,-Math.sin(n)*e+this.cy]},i.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var s=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-s[0]*a,endAngle:-s[1]*a,clockwise:t.inverse,contain:function(l,d){var h=l-this.cx,f=d-this.cy,m=h*h+f*f-1e-4,_=this.r,C=this.r0;return m<=_*_&&m>=C*C}}},i.prototype.convertToPixel=function(t,e,n){return tV(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return tV(e)===this?this.pointToData(n):null},i}();function tV(i){var t=i.seriesModel,e=i.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const K$=$$;function Y$(i,t){var e=this,n=e.getAngleAxis(),s=e.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),s.scale.setExtent(1/0,-1/0),i.eachSeries(function(d){if(d.coordinateSystem===e){var h=d.getData();te(Zv(h,"radius"),function(f){s.scale.unionExtentFromData(h,f)}),te(Zv(h,"angle"),function(f){n.scale.unionExtentFromData(h,f)})}}),vm(n.scale,n.model),vm(s.scale,s.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),l=360/n.scale.count();n.inverse?a[1]+=l:a[1]-=l,n.setExtent(a[0],a[1])}}function iV(i,t){var e;if(i.type=t.get("type"),i.scale=U_(t),i.onBand=t.get("boundaryGap")&&"category"===i.type,i.inverse=t.get("inverse"),function Q$(i){return"angleAxis"===i.mainType}(t)){i.inverse=i.inverse!==t.get("clockwise");var n=t.get("startAngle"),s=null!==(e=t.get("endAngle"))&&void 0!==e?e:n+(i.inverse?-360:360);i.setExtent(n,s)}t.axis=i,i.model=t}var Z$={dimensions:eV,create:function(i,t){var e=[];return i.eachComponent("polar",function(n,s){var a=new K$(s+"");a.update=Y$;var l=a.getRadiusAxis(),d=a.getAngleAxis(),h=n.findAxisModel("radiusAxis"),f=n.findAxisModel("angleAxis");iV(l,h),iV(d,f),function X$(i,t,e){var n=t.get("center"),s=e.getWidth(),a=e.getHeight();i.cx=kn(n[0],s),i.cy=kn(n[1],a);var l=i.getRadiusAxis(),d=Math.min(s,a)/2,h=t.get("radius");null==h?h=[0,"100%"]:Me(h)||(h=[0,h]);var f=[kn(h[0],d),kn(h[1],d)];l.inverse?l.setExtent(f[1],f[0]):l.setExtent(f[0],f[1])}(a,n,t),e.push(a),n.coordinateSystem=a,a.model=n}),i.eachSeries(function(n){if("polar"===n.get("coordinateSystem")){var s=n.getReferringComponents("polar",mi).models[0];n.coordinateSystem=s.coordinateSystem}}),e}};const q$=Z$;var J$=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function UT(i,t,e){t[1]>t[0]&&(t=t.slice().reverse());var n=i.coordToPoint([t[0],e]),s=i.coordToPoint([t[1],e]);return{x1:n[0],y1:n[1],x2:s[0],y2:s[1]}}function zT(i){return i.getRadiusAxis().inverse?0:1}function nV(i){var t=i[0],e=i[i.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&i.pop()}var e9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return P(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var s=e.axis,a=s.polar,l=a.getRadiusAxis().getExtent(),d=s.getTicksCoords(),h=s.getMinorTicksCoords(),f=ge(s.getViewLabels(),function(m){m=xe(m);var _=s.scale,C="ordinal"===_.type?_.getRawOrdinalNumber(m.tickValue):m.tickValue;return m.coord=s.dataToCoord(C),m});nV(f),nV(d),te(J$,function(m){e.get([m,"show"])&&(!s.scale.isBlank()||"axisLine"===m)&&t9[m](this.group,e,a,d,h,l,f)},this)}},t.type="angleAxis",t}(tb),t9={axisLine:function(i,t,e,n,s,a){var C,l=t.getModel(["axisLine","lineStyle"]),d=e.getAngleAxis(),h=Math.PI/180,f=d.getExtent(),m=zT(e),_=m?0:1,w=360===Math.abs(f[1]-f[0])?"Circle":"Arc";(C=0===a[_]?new Ke[w]({shape:{cx:e.cx,cy:e.cy,r:a[m],startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:d.inverse},style:l.getLineStyle(),z2:1,silent:!0}):new bv({shape:{cx:e.cx,cy:e.cy,r:a[m],r0:a[_]},style:l.getLineStyle(),z2:1,silent:!0})).style.fill=null,i.add(C)},axisTick:function(i,t,e,n,s,a){var l=t.getModel("axisTick"),d=(l.get("inside")?-1:1)*l.get("length"),h=a[zT(e)],f=ge(n,function(m){return new Yl({shape:UT(e,[h,h+d],m.coord)})});i.add(lu(f,{style:je(l.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(i,t,e,n,s,a){if(s.length){for(var l=t.getModel("axisTick"),d=t.getModel("minorTick"),h=(l.get("inside")?-1:1)*d.get("length"),f=a[zT(e)],m=[],_=0;_<s.length;_++)for(var C=0;C<s[_].length;C++)m.push(new Yl({shape:UT(e,[f,f+h],s[_][C].coord)}));i.add(lu(m,{style:je(d.getModel("lineStyle").getLineStyle(),je(l.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(i,t,e,n,s,a,l){var d=t.getCategories(!0),h=t.getModel("axisLabel"),f=h.get("margin"),m=t.get("triggerEvent");te(l,function(_,C){var w=h,D=_.tickValue,T=a[zT(e)],I=e.coordToPoint([T+f,_.coord]),F=e.cx,V=e.cy,H=Math.abs(I[0]-F)/T<.3?"center":I[0]>F?"left":"right",re=Math.abs(I[1]-V)/T<.3?"middle":I[1]>V?"top":"bottom";if(d&&d[D]){var fe=d[D];Zi(fe)&&fe.textStyle&&(w=new Vi(fe.textStyle,h,h.ecModel))}var de=new lo({silent:_m.isLabelSilent(t),style:Ms(w,{x:I[0],y:I[1],fill:w.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:_.formattedLabel,align:H,verticalAlign:re})});if(i.add(de),m){var Ee=_m.makeAxisEventDataBase(t);Ee.targetType="axisLabel",Ee.value=_.rawLabel,dr(de).eventData=Ee}},this)},splitLine:function(i,t,e,n,s,a){var d=t.getModel("splitLine").getModel("lineStyle"),h=d.get("color"),f=0;h=h instanceof Array?h:[h];for(var m=[],_=0;_<n.length;_++){var C=f++%h.length;m[C]=m[C]||[],m[C].push(new Yl({shape:UT(e,a,n[_].coord)}))}for(_=0;_<m.length;_++)i.add(lu(m[_],{style:je({stroke:h[_%h.length]},d.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(i,t,e,n,s,a){if(s.length){for(var d=t.getModel("minorSplitLine").getModel("lineStyle"),h=[],f=0;f<s.length;f++)for(var m=0;m<s[f].length;m++)h.push(new Yl({shape:UT(e,a,s[f][m].coord)}));i.add(lu(h,{style:d.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(i,t,e,n,s,a){if(n.length){var d=t.getModel("splitArea").getModel("areaStyle"),h=d.get("color"),f=0;h=h instanceof Array?h:[h];for(var m=[],_=Math.PI/180,C=-n[0].coord*_,w=Math.min(a[0],a[1]),D=Math.max(a[0],a[1]),T=t.get("clockwise"),I=1,F=n.length;I<=F;I++){var V=I===F?n[0].coord:n[I].coord,H=f++%h.length;m[H]=m[H]||[],m[H].push(new xc({shape:{cx:e.cx,cy:e.cy,r0:w,r:D,startAngle:C,endAngle:-V*_,clockwise:T},silent:!0})),C=-V*_}for(I=0;I<m.length;I++)i.add(lu(m[I],{style:je({fill:h[I%h.length]},d.getAreaStyle()),silent:!0}))}}};const i9=e9;var n9=["axisLine","axisTickLabel","axisName"],r9=["splitLine","splitArea","minorSplitLine"],o9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return P(t,i),t.prototype.render=function(e,n){if(this.group.removeAll(),e.get("show")){var s=this._axisGroup,a=this._axisGroup=new zn;this.group.add(a);var l=e.axis,d=l.polar,h=d.getAngleAxis(),f=l.getTicksCoords(),m=l.getMinorTicksCoords(),_=h.getExtent()[0],C=l.getExtent(),w=function a9(i,t,e){return{position:[i.cx,i.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(d,e,_),D=new _m(e,w);te(n9,D.add,D),a.add(D.getGroup()),Sv(s,a,e),te(r9,function(T){e.get([T,"show"])&&!l.scale.isBlank()&&s9[T](this.group,e,d,_,C,f,m)},this)}},t.type="radiusAxis",t}(tb),s9={splitLine:function(i,t,e,n,s,a){var d=t.getModel("splitLine").getModel("lineStyle"),h=d.get("color"),f=0,m=e.getAngleAxis(),_=Math.PI/180,C=m.getExtent(),w=360===Math.abs(C[1]-C[0])?"Circle":"Arc";h=h instanceof Array?h:[h];for(var D=[],T=0;T<a.length;T++){var I=f++%h.length;D[I]=D[I]||[],D[I].push(new Ke[w]({shape:{cx:e.cx,cy:e.cy,r:Math.max(a[T].coord,0),startAngle:-C[0]*_,endAngle:-C[1]*_,clockwise:m.inverse}}))}for(T=0;T<D.length;T++)i.add(lu(D[T],{style:je({stroke:h[T%h.length],fill:null},d.getLineStyle()),silent:!0}))},minorSplitLine:function(i,t,e,n,s,a,l){if(l.length){for(var h=t.getModel("minorSplitLine").getModel("lineStyle"),f=[],m=0;m<l.length;m++)for(var _=0;_<l[m].length;_++)f.push(new Zp({shape:{cx:e.cx,cy:e.cy,r:l[m][_].coord}}));i.add(lu(f,{style:je({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(i,t,e,n,s,a){if(a.length){var d=t.getModel("splitArea").getModel("areaStyle"),h=d.get("color"),f=0;h=h instanceof Array?h:[h];for(var m=[],_=a[0].coord,C=1;C<a.length;C++){var w=f++%h.length;m[w]=m[w]||[],m[w].push(new xc({shape:{cx:e.cx,cy:e.cy,r0:_,r:a[C].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),_=a[C].coord}for(C=0;C<m.length;C++)i.add(lu(m[C],{style:je({fill:h[C%h.length]},d.getAreaStyle()),silent:!0}))}}};const l9=o9;function rV(i){return i.get("stack")||"__ec_stack_"+i.seriesIndex}function oV(i,t){return t.dim+i.model.componentIndex}const u9=function c9(i,t,e){var n={},s=function d9(i){var t={};te(i,function(n,s){var a=n.getData(),l=n.coordinateSystem,d=l.getBaseAxis(),h=oV(l,d),f=d.getExtent(),m="category"===d.type?d.getBandWidth():Math.abs(f[1]-f[0])/a.count(),_=t[h]||{bandWidth:m,remainedWidth:m,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},C=_.stacks;t[h]=_;var w=rV(n);C[w]||_.autoWidthCount++,C[w]=C[w]||{width:0,maxWidth:0};var D=kn(n.get("barWidth"),m),T=kn(n.get("barMaxWidth"),m),I=n.get("barGap"),F=n.get("barCategoryGap");D&&!C[w].width&&(D=Math.min(_.remainedWidth,D),C[w].width=D,_.remainedWidth-=D),T&&(C[w].maxWidth=T),null!=I&&(_.gap=I),null!=F&&(_.categoryGap=F)});var e={};return te(t,function(n,s){e[s]={};var a=n.stacks,d=kn(n.categoryGap,n.bandWidth),h=kn(n.gap,1),f=n.remainedWidth,m=n.autoWidthCount,_=(f-d)/(m+(m-1)*h);_=Math.max(_,0),te(a,function(T,I){var F=T.maxWidth;F&&F<_&&(F=Math.min(F,f),T.width&&(F=Math.min(F,T.width)),f-=F,T.width=F,m--)}),_=(f-d)/(m+(m-1)*h),_=Math.max(_,0);var w,C=0;te(a,function(T,I){T.width||(T.width=_),w=T,C+=T.width*(1+h)}),w&&(C-=w.width*h);var D=-C/2;te(a,function(T,I){e[s][I]=e[s][I]||{offset:D,width:T.width},D+=T.width*(1+h)})}),e}(Ve(t.getSeriesByType(i),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));t.eachSeriesByType(i,function(a){if("polar"===a.coordinateSystem.type){var l=a.getData(),d=a.coordinateSystem,h=d.getBaseAxis(),f=oV(d,h),m=rV(a),_=s[f][m],C=_.offset,w=_.width,D=d.getOtherAxis(h),T=a.coordinateSystem.cx,I=a.coordinateSystem.cy,F=a.get("barMinHeight")||0,V=a.get("barMinAngle")||0;n[m]=n[m]||[];for(var H=l.mapDimension(D.dim),re=l.mapDimension(h.dim),fe=nf(l,H),de="radius"!==h.dim||!a.get("roundCap",!0),Ue=D.model.get("startValue"),ze=D.dataToCoord(Ue||0),nt=0,gt=l.count();nt<gt;nt++){var Vt=l.get(H,nt),$t=l.get(re,nt),hi=Vt>=0?"p":"n",gi=ze;fe&&(n[m][$t]||(n[m][$t]={p:ze,n:ze}),gi=n[m][$t][hi]);var Pi=void 0,Yi=void 0,ji=void 0,rn=void 0;if("radius"===D.dim){var bn=D.dataToCoord(Vt)-ze,In=h.dataToCoord($t);Math.abs(bn)<F&&(bn=(bn<0?-1:1)*F),Pi=gi,Yi=gi+bn,rn=(ji=In-C)-w,fe&&(n[m][$t][hi]=Yi)}else{var Vn=D.dataToCoord(Vt,de)-ze,lr=h.dataToCoord($t);Math.abs(Vn)<V&&(Vn=(Vn<0?-1:1)*V),Yi=(Pi=lr+C)+w,ji=gi,rn=gi+Vn,fe&&(n[m][$t][hi]=rn)}l.setItemLayout(nt,{cx:T,cy:I,r0:Pi,r:Yi,startAngle:-ji*Math.PI/180,endAngle:-rn*Math.PI/180,clockwise:ji>=rn})}}})};var h9={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},p9={splitNumber:5},f9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="polar",t}(Ks);function dk(i,t){t=t||{};var n=i.axis,s={},a=n.position,l=n.orient,d=i.coordinateSystem.getRect(),h=[d.x,d.x+d.width,d.y,d.y+d.height],f={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};s.position=["vertical"===l?f.vertical[a]:h[0],"horizontal"===l?f.horizontal[a]:h[3]],s.rotation=Math.PI/2*{horizontal:0,vertical:1}[l],s.labelDirection=s.tickDirection=s.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],i.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),ln(t.labelInside,i.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var C=t.rotate;return null==C&&(C=i.get(["axisLabel","rotate"])),s.labelRotation="top"===a?-C:C,s.z2=1,s}var m9=["axisLine","axisTickLabel","axisName"],v9=["splitArea","splitLine"],y9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return P(t,i),t.prototype.render=function(e,n,s,a){var l=this.group;l.removeAll();var d=this._axisGroup;this._axisGroup=new zn;var h=dk(e),f=new _m(e,h);te(m9,f.add,f),l.add(this._axisGroup),l.add(f.getGroup()),te(v9,function(m){e.get([m,"show"])&&_9[m](this,this.group,this._axisGroup,e)},this),Sv(d,this._axisGroup,e),i.prototype.render.call(this,e,n,s,a)},t.prototype.remove=function(){SL(this)},t.type="singleAxis",t}(tb),_9={splitLine:function(i,t,e,n){var s=n.axis;if(!s.scale.isBlank()){var a=n.getModel("splitLine"),l=a.getModel("lineStyle"),d=l.get("color");d=d instanceof Array?d:[d];for(var h=l.get("width"),f=n.coordinateSystem.getRect(),m=s.isHorizontal(),_=[],C=0,w=s.getTicksCoords({tickModel:a}),D=[],T=[],I=0;I<w.length;++I){var F=s.toGlobalCoord(w[I].coord);m?(D[0]=F,D[1]=f.y,T[0]=F,T[1]=f.y+f.height):(D[0]=f.x,D[1]=F,T[0]=f.x+f.width,T[1]=F);var V=new Yl({shape:{x1:D[0],y1:D[1],x2:T[0],y2:T[1]},silent:!0});qp(V.shape,h);var H=C++%d.length;_[H]=_[H]||[],_[H].push(V)}var re=l.getLineStyle(["color"]);for(I=0;I<_.length;++I)t.add(lu(_[I],{style:je({stroke:d[I%d.length]},re),silent:!0}))}},splitArea:function(i,t,e,n){xL(i,e,n,n)}};const b9=y9;var sV=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(go);Gt(sV,z_.prototype);const uk=sV;var C9=function(i){function t(e,n,s,a,l){var d=i.call(this,e,n,s)||this;return d.type=a||"value",d.position=l||"bottom",d}return P(t,i),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,n){return this.coordinateSystem.pointToData(e)[0]},t}(Qu);const w9=C9;var aV=["single"],x9=function(){function i(t,e,n){this.type="single",this.dimension="single",this.dimensions=aV,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,n)}return i.prototype._init=function(t,e,n){var a=new w9(this.dimension,U_(t),[0,0],t.get("type"),t.get("position"));a.onBand="category"===a.type&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},i.prototype.update=function(t,e){t.eachSeries(function(n){if(n.coordinateSystem===this){var s=n.getData();te(s.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(s,a)},this),vm(this._axis.scale,this._axis.model)}},this)},i.prototype.resize=function(t,e){this._rect=pl({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},i.prototype.getRect=function(){return this._rect},i.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),s=n?[0,t.width]:[0,t.height],a=e.inverse?1:0;e.setExtent(s[a],s[1-a]),this._updateAxisTransform(e,n?t.x:t.y)},i.prototype._updateAxisTransform=function(t,e){var n=t.getExtent(),s=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(l){return l+e}:function(l){return s-l+e},t.toLocalCoord=a?function(l){return l-e}:function(l){return s-l+e}},i.prototype.getAxis=function(){return this._axis},i.prototype.getBaseAxis=function(){return this._axis},i.prototype.getAxes=function(){return[this._axis]},i.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},i.prototype.containPoint=function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},i.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},i.prototype.dataToPoint=function(t){var e=this.getAxis(),n=this.getRect(),s=[],a="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),s[a]=e.toGlobalCoord(e.dataToCoord(+t)),s[1-a]=0===a?n.y+n.height/2:n.x+n.width/2,s},i.prototype.convertToPixel=function(t,e,n){return lV(e)===this?this.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){return lV(e)===this?this.pointToData(n):null},i}();function lV(i){var t=i.seriesModel,e=i.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const S9=x9;var E9={create:function D9(i,t){var e=[];return i.eachComponent("singleAxis",function(n,s){var a=new S9(n,i,t);a.name="single_"+s,a.resize(n,t),n.coordinateSystem=a,e.push(a)}),i.eachSeries(function(n){if("singleAxis"===n.get("coordinateSystem")){var s=n.getReferringComponents("singleAxis",mi).models[0];n.coordinateSystem=s&&s.coordinateSystem}}),e},dimensions:aV};const A9=E9;var cV=["x","y"],T9=["width","height"],M9=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.makeElOption=function(e,n,s,a,l){var d=s.axis,h=d.coordinateSystem,f=hk(h,1-WT(d)),m=h.dataToPoint(n)[0],_=a.get("type");if(_&&"none"!==_){var C=nk(a),w=R9[_](d,m,f);w.style=C,e.graphicKey=w.type,e.pointer=w}zB(n,e,dk(s),s,a,l)},t.prototype.getHandleTransform=function(e,n,s){var a=dk(n,{labelInside:!1});a.labelMargin=s.get(["handle","margin"]);var l=rk(n.axis,e,a);return{x:l[0],y:l[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,s,a){var l=s.axis,d=l.coordinateSystem,h=WT(l),f=hk(d,h),m=[e.x,e.y];m[h]+=n[h],m[h]=Math.min(f[1],m[h]),m[h]=Math.max(f[0],m[h]);var _=hk(d,1-h),C=(_[1]+_[0])/2,w=[C,C];return w[h]=m[h],{x:m[0],y:m[1],rotation:e.rotation,cursorPoint:w,tooltipOption:{verticalAlign:"middle"}}},t}(ik),R9={line:function(i,t,e){return{type:"Line",subPixelOptimize:!0,shape:ok([t,e[0]],[t,e[1]],WT(i))}},shadow:function(i,t,e){var n=i.getBandWidth();return{type:"Rect",shape:WB([t-n/2,e[0]],[n,e[1]-e[0]],WT(i))}}};function WT(i){return i.isHorizontal()?0:1}function hk(i,t){var e=i.getRect();return[e[cV[t]],e[cV[t]]+e[T9[t]]]}const I9=M9;var P9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="single",t}(Ks),F9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n,s){var a=hc(e);i.prototype.init.apply(this,arguments),dV(e,a)},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),dV(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(go);function dV(i,t){var n,e=i.cellSize;1===(n=Me(e)?e:i.cellSize=[e,e]).length&&(n[1]=n[0]);var s=ge([0,1],function(a){return function fD(i,t){return null!=i[Zg[t][0]]||null!=i[Zg[t][1]]&&null!=i[Zg[t][2]]}(t,a)&&(n[a]="auto"),null!=n[a]&&"auto"!==n[a]});Gf(i,t,{type:"box",ignoreSize:s})}const O9=F9;var L9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){var a=this.group;a.removeAll();var l=e.coordinateSystem,d=l.getRangeInfo(),h=l.getOrient(),f=n.getLocaleModel();this._renderDayRect(e,d,a),this._renderLines(e,d,h,a),this._renderYearText(e,d,h,a),this._renderMonthText(e,f,h,a),this._renderWeekText(e,f,d,h,a)},t.prototype._renderDayRect=function(e,n,s){for(var a=e.coordinateSystem,l=e.getModel("itemStyle").getItemStyle(),d=a.getCellWidth(),h=a.getCellHeight(),f=n.start.time;f<=n.end.time;f=a.getNextNDay(f,1).time){var m=a.dataToRect([f],!1).tl,_=new kr({shape:{x:m[0],y:m[1],width:d,height:h},cursor:"default",style:l});s.add(_)}},t.prototype._renderLines=function(e,n,s,a){var l=this,d=e.coordinateSystem,h=e.getModel(["splitLine","lineStyle"]).getLineStyle(),f=e.get(["splitLine","show"]),m=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var _=n.start,C=0;_.time<=n.end.time;C++){D(_.formatedDate),0===C&&(_=d.getDateInfo(n.start.y+"-"+n.start.m));var w=_.date;w.setMonth(w.getMonth()+1),_=d.getDateInfo(w)}function D(T){l._firstDayOfMonth.push(d.getDateInfo(T)),l._firstDayPoints.push(d.dataToRect([T],!1).tl);var I=l._getLinePointsOfOneWeek(e,T,s);l._tlpoints.push(I[0]),l._blpoints.push(I[I.length-1]),f&&l._drawSplitline(I,h,a)}D(d.getNextNDay(n.end.time,1).formatedDate),f&&this._drawSplitline(l._getEdgesPoints(l._tlpoints,m,s),h,a),f&&this._drawSplitline(l._getEdgesPoints(l._blpoints,m,s),h,a)},t.prototype._getEdgesPoints=function(e,n,s){var a=[e[0].slice(),e[e.length-1].slice()],l="horizontal"===s?0:1;return a[0][l]=a[0][l]-n/2,a[1][l]=a[1][l]+n/2,a},t.prototype._drawSplitline=function(e,n,s){var a=new md({z2:20,shape:{points:e},style:n});s.add(a)},t.prototype._getLinePointsOfOneWeek=function(e,n,s){for(var a=e.coordinateSystem,l=a.getDateInfo(n),d=[],h=0;h<7;h++){var f=a.getNextNDay(l.time,h),m=a.dataToRect([f.time],!1);d[2*f.day]=m.tl,d[2*f.day+1]=m["horizontal"===s?"bl":"tr"]}return d},t.prototype._formatterLabel=function(e,n){return Ii(e)&&e?function Uy(i,t,e){return te(t,function(n,s){i=i.replace("{"+s+"}",e?so(n):n)}),i}(e,n):Nt(e)?e(n):n.nameMap},t.prototype._yearTextPositionControl=function(e,n,s,a,l){var d=n[0],h=n[1],f=["center","bottom"];"bottom"===a?(h+=l,f=["center","top"]):"left"===a?d-=l:"right"===a?(d+=l,f=["center","top"]):h-=l;var m=0;return("left"===a||"right"===a)&&(m=Math.PI/2),{rotation:m,x:d,y:h,style:{align:f[0],verticalAlign:f[1]}}},t.prototype._renderYearText=function(e,n,s,a){var l=e.getModel("yearLabel");if(l.get("show")){var d=l.get("margin"),h=l.get("position");h||(h="horizontal"!==s?"top":"left");var f=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],m=(f[0][0]+f[1][0])/2,_=(f[0][1]+f[1][1])/2,C="horizontal"===s?0:1,w={top:[m,f[C][1]],bottom:[m,f[1-C][1]],left:[f[1-C][0],_],right:[f[C][0],_]},D=n.start.y;+n.end.y>+n.start.y&&(D=D+"-"+n.end.y);var T=l.get("formatter"),F=this._formatterLabel(T,{start:n.start.y,end:n.end.y,nameMap:D}),V=new lo({z2:30,style:Ms(l,{text:F})});V.attr(this._yearTextPositionControl(V,w[h],s,h,d)),a.add(V)}},t.prototype._monthTextPositionControl=function(e,n,s,a,l){var d="left",h="top",f=e[0],m=e[1];return"horizontal"===s?(m+=l,n&&(d="center"),"start"===a&&(h="bottom")):(f+=l,n&&(h="middle"),"start"===a&&(d="right")),{x:f,y:m,align:d,verticalAlign:h}},t.prototype._renderMonthText=function(e,n,s,a){var l=e.getModel("monthLabel");if(l.get("show")){var d=l.get("nameMap"),h=l.get("margin"),f=l.get("position"),m=l.get("align"),_=[this._tlpoints,this._blpoints];(!d||Ii(d))&&(d&&(n=Lb(d)||n),d=n.get(["time","monthAbbr"])||[]);var C="start"===f?0:1,w="horizontal"===s?0:1;h="start"===f?-h:h;for(var D="center"===m,T=0;T<_[C].length-1;T++){var I=_[C][T].slice(),F=this._firstDayOfMonth[T];D&&(I[w]=(this._firstDayPoints[T][w]+_[0][T+1][w])/2);var H=l.get("formatter"),re=d[+F.m-1],fe={yyyy:F.y,yy:(F.y+"").slice(2),MM:F.m,M:+F.m,nameMap:re},de=this._formatterLabel(H,fe),Ee=new lo({z2:30,style:Dt(Ms(l,{text:de}),this._monthTextPositionControl(I,D,s,f,h))});a.add(Ee)}}},t.prototype._weekTextPositionControl=function(e,n,s,a,l){var d="center",h="middle",f=e[0],m=e[1],_="start"===s;return"horizontal"===n?(f=f+a+(_?1:-1)*l[0]/2,d=_?"right":"left"):(m=m+a+(_?1:-1)*l[1]/2,h=_?"bottom":"top"),{x:f,y:m,align:d,verticalAlign:h}},t.prototype._renderWeekText=function(e,n,s,a,l){var d=e.getModel("dayLabel");if(d.get("show")){var h=e.coordinateSystem,f=d.get("position"),m=d.get("nameMap"),_=d.get("margin"),C=h.getFirstDayOfWeek();m&&!Ii(m)||(m&&(n=Lb(m)||n),m=n.get(["time","dayOfWeekShort"])||ge(n.get(["time","dayOfWeekAbbr"]),function(fe){return fe[0]}));var D=h.getNextNDay(s.end.time,7-s.lweek).time,T=[h.getCellWidth(),h.getCellHeight()];_=kn(_,Math.min(T[1],T[0])),"start"===f&&(D=h.getNextNDay(s.start.time,-(7+s.fweek)).time,_=-_);for(var I=0;I<7;I++){var H,F=h.getNextNDay(D,I),V=h.dataToRect([F.time],!1).center;H=Math.abs((I+C)%7);var re=new lo({z2:30,style:Dt(Ms(d,{text:m[H]}),this._weekTextPositionControl(V,a,f,_,T))});l.add(re)}}},t.type="calendar",t}(Ks);const N9=L9;var pk=864e5,B9=function(){function i(t,e,n){this.type="calendar",this.dimensions=i.dimensions,this.getDimensionsInfo=i.getDimensionsInfo,this._model=t}return i.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},i.prototype.getRangeInfo=function(){return this._rangeInfo},i.prototype.getModel=function(){return this._model},i.prototype.getRect=function(){return this._rect},i.prototype.getCellWidth=function(){return this._sw},i.prototype.getCellHeight=function(){return this._sh},i.prototype.getOrient=function(){return this._orient},i.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},i.prototype.getDateInfo=function(t){var e=(t=rc(t)).getFullYear(),n=t.getMonth()+1,s=n<10?"0"+n:""+n,a=t.getDate(),l=a<10?"0"+a:""+a,d=t.getDay();return{y:e+"",m:s,d:l,day:d=Math.abs((d+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+s+"-"+l,date:t}},i.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},i.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,s=["width","height"],a=this._model.getCellSize().slice(),l=this._model.getBoxLayoutParams(),d="horizontal"===this._orient?[n,7]:[7,n];te([0,1],function(_){m(a,_)&&(l[s[_]]=a[_]*d[_])});var h={width:e.getWidth(),height:e.getHeight()},f=this._rect=pl(l,h);function m(_,C){return null!=_[C]&&"auto"!==_[C]}te([0,1],function(_){m(a,_)||(a[_]=f[s[_]]/d[_])}),this._sw=a[0],this._sh=a[1]},i.prototype.dataToPoint=function(t,e){Me(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),s=this._rangeInfo;if(e&&!(n.time>=s.start.time&&n.time<s.end.time+pk))return[NaN,NaN];var l=n.day,d=this._getRangeInfo([s.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+d*this._sh+this._sh/2]:[this._rect.x+d*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},i.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},i.prototype.dataToRect=function(t,e){var n=this.dataToPoint(t,e);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},i.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,s=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,s):this._getDateByWeeksAndDay(e,n-1,s)},i.prototype.convertToPixel=function(t,e,n){var s=uV(e);return s===this?s.dataToPoint(n):null},i.prototype.convertFromPixel=function(t,e,n){var s=uV(e);return s===this?s.pointToData(n):null},i.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},i.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(Me(t)&&1===t.length&&(t=t[0]),Me(t))e=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(e=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var s=this.getDateInfo(n),a=s.date;a.setMonth(a.getMonth()+1);var l=this.getNextNDay(a,-1);e=[s.formatedDate,l.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var d=this._getRangeInfo(e);return d.start.time>d.end.time&&e.reverse(),e},i.prototype._getRangeInfo=function(t){var n,e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];e[0].time>e[1].time&&(n=!0,e.reverse());var s=Math.floor(e[1].time/pk)-Math.floor(e[0].time/pk)+1,a=new Date(e[0].time),l=a.getDate(),d=e[1].date.getDate();a.setDate(l+s-1);var h=a.getDate();if(h!==d)for(var f=a.getTime()-e[1].time>0?1:-1;(h=a.getDate())!==d&&(a.getTime()-e[1].time)*f>0;)s-=f,a.setDate(h-f);var m=Math.floor((s+e[0].day+6)/7),_=n?1-m:m-1;return n&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:s,weeks:m,nthWeek:_,fweek:e[0].day,lweek:e[1].day}},i.prototype._getDateByWeeksAndDay=function(t,e,n){var s=this._getRangeInfo(n);if(t>s.weeks||0===t&&e<s.fweek||t===s.weeks&&e>s.lweek)return null;var a=7*(t-1)-s.fweek+e,l=new Date(s.start.time);return l.setDate(+s.start.d+a),this.getDateInfo(l)},i.create=function(t,e){var n=[];return t.eachComponent("calendar",function(s){var a=new i(s,t,e);n.push(a),s.coordinateSystem=a}),t.eachSeries(function(s){"calendar"===s.get("coordinateSystem")&&(s.coordinateSystem=n[s.get("calendarIndex")||0])}),n},i.dimensions=["time","value"],i}();function uV(i){var t=i.calendarModel,e=i.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}const V9=B9;function hV(i,t){var e;return te(t,function(n){null!=i[n]&&"auto"!==i[n]&&(e=!0)}),e}var pV=["transition","enterFrom","leaveTo"],z9=pV.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function jT(i,t,e){if(e&&(!i[e]&&t[e]&&(i[e]={}),i=i[e],t=t[e]),i&&t)for(var n=e?pV:z9,s=0;s<n.length;s++){var a=n[s];null==i[a]&&null!=t[a]&&(i[a]=t[a])}}var j9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return P(t,i),t.prototype.mergeOption=function(e,n){var s=this.option.elements;this.option.elements=null,i.prototype.mergeOption.call(this,e,n),this.option.elements=s},t.prototype.optionUpdated=function(e,n){var s=this.option,a=(n?s:e).elements,l=s.elements=n?[]:s.elements,d=[];this._flatten(a,d,null);var h=bg(l,d,"normalMerge"),f=this._elOptionsToUpdate=[];te(h,function(m,_){var C=m.newOption;C&&(f.push(C),function H9(i,t){var e=i.existing;if(t.id=i.keyInfo.id,!t.type&&e&&(t.type=e.type),null==t.parentId){var n=t.parentOption;n?t.parentId=n.id:e&&(t.parentId=e.parentId)}t.parentOption=null}(m,C),function U9(i,t,e){var n=Dt({},e),s=i[t],a=e.$action||"merge";"merge"===a?s?(Pt(s,n,!0),Gf(s,n,{ignoreSize:!0}),gD(e,s),jT(e,s),jT(e,s,"shape"),jT(e,s,"style"),jT(e,s,"extra"),e.clipPath=s.clipPath):i[t]=n:"replace"===a?i[t]=n:"remove"===a&&s&&(i[t]=null)}(l,_,C),function W9(i,t){if(i&&(i.hv=t.hv=[hV(t,["left","right"]),hV(t,["top","bottom"])],"group"===i.type)){var e=i,n=t;null==e.width&&(e.width=n.width=0),null==e.height&&(e.height=n.height=0)}}(l[_],C))},this),s.elements=Ve(l,function(m){return m&&delete m.$action,null!=m})},t.prototype._flatten=function(e,n,s){te(e,function(a){if(a){s&&(a.parentOption=s),n.push(a);var l=a.children;l&&l.length&&this._flatten(l,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(go),fV={path:null,compoundPath:null,group:zn,image:hs,text:lo},gp=Xe(),$9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(){this._elMap=Rn()},t.prototype.render=function(e,n,s){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,s)},t.prototype._updateElements=function(e){var n=e.useElOptionsToUpdate();if(n){var s=this._elMap,a=this.group,l=e.get("z"),d=e.get("zlevel");te(n,function(h){var f=Ns(h.id,null),m=null!=f?s.get(f):null,_=Ns(h.parentId,null),C=null!=_?s.get(_):a,w=h.type,D=h.style;"text"===w&&D&&h.hv&&h.hv[1]&&(D.textVerticalAlign=D.textBaseline=D.verticalAlign=D.align=null);var T=h.textContent,I=h.textConfig;if(D&&vB(D,w,!!I,!!T)){var F=yB(D,w,!0);!I&&F.textConfig&&(I=h.textConfig=F.textConfig),!T&&F.textContent&&(T=F.textContent)}var V=function K9(i){return i=Dt({},i),te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(pD),function(t){delete i[t]}),i}(h),H=h.$action||"merge",re="merge"===H,fe="replace"===H;if(re){var Ee=m;(de=!m)?Ee=gV(f,C,h.type,s):(Ee&&(gp(Ee).isNew=!1),TB(Ee)),Ee&&(NT(Ee,V,e,{isInit:de}),mV(Ee,h,l,d))}else if(fe){$T(m,h,s,e);var Ue=gV(f,C,h.type,s);Ue&&(NT(Ue,V,e,{isInit:!0}),mV(Ue,h,l,d))}else"remove"===H&&(SB(m,h),$T(m,h,s,e));var ze=s.get(f);if(ze&&T)if(re){var nt=ze.getTextContent();nt?nt.attr(T):ze.setTextContent(new lo(T))}else fe&&ze.setTextContent(new lo(T));if(ze){var gt=h.clipPath;if(gt){var Vt=gt.type,$t=void 0,de=!1;if(re){var hi=ze.getClipPath();$t=(de=!hi||gp(hi).type!==Vt)?fk(Vt):hi}else fe&&(de=!0,$t=fk(Vt));ze.setClipPath($t),NT($t,gt,e,{isInit:de}),VT($t,gt.keyframeAnimation,e)}var gi=gp(ze);ze.setTextConfig(I),gi.option=h,function X9(i,t,e){var n=dr(i).eventData;!i.silent&&!i.ignore&&!n&&(n=dr(i).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:i.name}),n&&(n.info=e.info)}(ze,e,h),Av({el:ze,componentModel:e,itemName:ze.name,itemTooltipOption:h.tooltip}),VT(ze,h.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,n){for(var s=e.option.elements,a=this.group,l=this._elMap,d=n.getWidth(),h=n.getHeight(),f=["x","y"],m=0;m<s.length;m++)if((w=null!=(C=Ns((_=s[m]).id,null))?l.get(C):null)&&w.isGroup){var T=(D=w.parent)===a,I=gp(w),F=gp(D);I.width=kn(I.option.width,T?d:F.width)||0,I.height=kn(I.option.height,T?h:F.height)||0}for(m=s.length-1;m>=0;m--){var _,C,w;if(w=null!=(C=Ns((_=s[m]).id,null))?l.get(C):null){F=gp(D=w.parent);var D,H={},re=Wy(w,_,D===a?{width:d,height:h}:{width:F.width,height:F.height},null,{hv:_.hv,boundingMode:_.bounding},H);if(!gp(w).isNew&&re){for(var fe=_.transition,de={},Ee=0;Ee<f.length;Ee++){var Ue=f[Ee],ze=H[Ue];fe&&(db(fe)||Te(fe,Ue)>=0)?de[Ue]=ze:w[Ue]=ze}wo(w,de,e,0)}else w.attr(H)}}},t.prototype._clear=function(){var e=this,n=this._elMap;n.each(function(s){$T(s,gp(s).option,n,e._lastGraphicModel)}),this._elMap=Rn()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Ks);function fk(i){var e=new(oe(fV,i)?fV[i]:uC(i))({});return gp(e).type=i,e}function gV(i,t,e,n){var s=fk(e);return t.add(s),n.set(i,s),gp(s).id=i,gp(s).isNew=!0,s}function $T(i,t,e,n){i&&i.parent&&("group"===i.type&&i.traverse(function(a){$T(a,t,e,n)}),BT(i,t,n),e.removeKey(gp(i).id))}function mV(i,t,e,n){i.isGroup||te([["cursor",cd.prototype.cursor],["zlevel",n||0],["z",e||0],["z2",0]],function(s){var a=s[0];oe(t,a)?i[a]=en(t[a],s[1]):null==i[a]&&(i[a]=s[1])}),te(Ri(t),function(s){if(0===s.indexOf("on")){var a=t[s];i[s]=Nt(a)?a:null}}),oe(t,"draggable")&&(i.draggable=t.draggable),null!=t.name&&(i.name=t.name),null!=t.id&&(i.id=t.id)}var vV=["x","y","radius","angle","single"],Q9=["cartesian2d","polar","singleAxis"];function sy(i){return i+"Axis"}function yV(i){var t=i.ecModel,e={infoList:[],infoMap:Rn()};return i.eachTargetAxis(function(n,s){var a=t.getComponent(sy(n),s);if(a){var l=a.getCoordSysModel();if(l){var d=l.uid,h=e.infoMap.get(d);h||(e.infoList.push(h={model:l,axisModels:[]}),e.infoMap.set(d,h)),h.axisModels.push(a)}}}),e}var gk=function(){function i(){this.indexList=[],this.indexMap=[]}return i.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},i}(),J9=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return P(t,i),t.prototype.init=function(e,n,s){var a=_V(e);this.settledOption=a,this.mergeDefaultAndTheme(e,s),this._doInit(a)},t.prototype.mergeOption=function(e){var n=_V(e);Pt(this.option,e,!0),Pt(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(e){var n=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var s=this.settledOption;te([["start","startValue"],["end","endValue"]],function(a,l){"value"===this._rangePropMode[l]&&(n[a[0]]=s[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),n=this._targetAxisInfoMap=Rn();this._fillSpecifiedTargetAxis(n)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var n=!1;return te(vV,function(s){var a=this.getReferringComponents(sy(s),Tn);if(a.specified){n=!0;var l=new gk;te(a.models,function(d){l.add(d.componentIndex)}),e.set(s,l)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(e,n){var s=this.ecModel,a=!0;if(a){var l="vertical"===n?"y":"x";h(s.findComponents({mainType:l+"Axis"}),l)}function h(f,m){var _=f[0];if(_){var C=new gk;if(C.add(_.componentIndex),e.set(m,C),a=!1,"x"===m||"y"===m){var w=_.getReferringComponents("grid",mi).models[0];w&&te(f,function(D){_.componentIndex!==D.componentIndex&&w===D.getReferringComponents("grid",mi).models[0]&&C.add(D.componentIndex)})}}}a&&h(s.findComponents({mainType:"singleAxis",filter:function(m){return m.get("orient",!0)===n}}),"single"),a&&te(vV,function(f){if(a){var m=s.findComponents({mainType:sy(f),filter:function(C){return"category"===C.get("type",!0)}});if(m[0]){var _=new gk;_.add(m[0].componentIndex),e.set(f,_),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(n){!e&&(e=n)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var n=this._rangePropMode,s=this.get("rangeMode");te([["start","startValue"],["end","endValue"]],function(a,l){var d=null!=e[a[0]],h=null!=e[a[1]];d&&!h?n[l]="percent":!d&&h?n[l]="value":s?n[l]=s[l]:d&&(n[l]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(n,s){null==e&&(e=this.ecModel.getComponent(sy(n),s))},this),e},t.prototype.eachTargetAxis=function(e,n){this._targetAxisInfoMap.each(function(s,a){te(s.indexList,function(l){e.call(n,a,l)})})},t.prototype.getAxisProxy=function(e,n){var s=this.getAxisModel(e,n);if(s)return s.__dzAxisProxy},t.prototype.getAxisModel=function(e,n){var s=this._targetAxisInfoMap.get(e);if(s&&s.indexMap[n])return this.ecModel.getComponent(sy(e),n)},t.prototype.setRawRange=function(e){var n=this.option,s=this.settledOption;te([["start","startValue"],["end","endValue"]],function(a){(null!=e[a[0]]||null!=e[a[1]])&&(n[a[0]]=s[a[0]]=e[a[0]],n[a[1]]=s[a[1]]=e[a[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var n=this.option;te(["start","startValue","end","endValue"],function(s){n[s]=e[s]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,n){if(null!=e||null!=n)return this.getAxisProxy(e,n).getDataValueWindow();var s=this.findRepresentativeAxisProxy();return s?s.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var n,s=this._targetAxisInfoMap.keys(),a=0;a<s.length;a++)for(var l=s[a],d=this._targetAxisInfoMap.get(l),h=0;h<d.indexList.length;h++){var f=this.getAxisProxy(l,d.indexList[h]);if(f.hostedBy(this))return f;n||(n=f)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(go);function _V(i){var t={};return te(["start","end","startValue","endValue","throttle"],function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t}const XS=J9;var eK=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="dataZoom.select",t}(XS);const tK=eK;var iK=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s,a){this.dataZoomModel=e,this.ecModel=n,this.api=s},t.type="dataZoom",t}(Ks);const mk=iK;var nK=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="dataZoom.select",t}(mk);const rK=nK;var l0=te,bV=Hl,oK=function(){function i(t,e,n,s){this._dimName=t,this._axisIndex=e,this.ecModel=s,this._dataZoomModel=n}return i.prototype.hostedBy=function(t){return this._dataZoomModel===t},i.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},i.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},i.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function Z9(i){var t=i.get("coordinateSystem");return Te(Q9,t)>=0}(e)){var n=sy(this._dimName),s=e.getReferringComponents(n,mi).models[0];s&&this._axisIndex===s.componentIndex&&t.push(e)}},this),t},i.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},i.prototype.getMinMaxSpan=function(){return xe(this._minMaxSpan)},i.prototype.calculateDataWindow=function(t){var f,e=this._dataExtent,s=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),l=[0,100],d=[],h=[];l0(["start","end"],function(C,w){var D=t[C],T=t[C+"Value"];"percent"===a[w]?(null==D&&(D=l[w]),T=s.parse(gr(D,l,e))):(f=!0,D=gr(T=null==T?e[w]:s.parse(T),e,l)),h[w]=null==T||isNaN(T)?e[w]:T,d[w]=null==D||isNaN(D)?l[w]:D}),bV(h),bV(d);var m=this._minMaxSpan;function _(C,w,D,T,I){var F=I?"Span":"ValueSpan";ab(0,C,D,"all",m["min"+F],m["max"+F]);for(var V=0;V<2;V++)w[V]=gr(C[V],D,T,!0),I&&(w[V]=s.parse(w[V]))}return f?_(h,d,e,l,!1):_(d,h,l,e,!0),{valueWindow:h,percentWindow:d}},i.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function sK(i,t,e){var n=[1/0,-1/0];l0(e,function(l){!function WC(i,t,e){t&&te(Zv(t,e),function(n){var s=t.getApproximateExtent(n);s[0]<i[0]&&(i[0]=s[0]),s[1]>i[1]&&(i[1]=s[1])})}(n,l.getData(),t)});var s=i.getAxisModel(),a=VR(s.axis.scale,s,n).calculate();return[a.min,a.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},i.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,s=this.getTargetSeriesModels(),a=t.get("filterMode"),l=this._valueWindow;"none"!==a&&l0(s,function(h){var f=h.getData(),m=f.mapDimensionsAll(n);if(m.length){if("weakFilter"===a){var _=f.getStore(),C=ge(m,function(w){return f.getDimensionIndex(w)},f);f.filterSelf(function(w){for(var D,T,I,F=0;F<m.length;F++){var V=_.get(C[F],w),H=!isNaN(V),re=V<l[0],fe=V>l[1];if(H&&!re&&!fe)return!0;H&&(I=!0),re&&(D=!0),fe&&(T=!0)}return I&&D&&T})}else l0(m,function(w){if("empty"===a)h.setData(f=f.map(w,function(T){return function d(h){return h>=l[0]&&h<=l[1]}(T)?T:NaN}));else{var D={};D[w]=l,f.selectRange(D)}});l0(m,function(w){f.setApproximateExtent(l,w)})}})}},i.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;l0(["min","max"],function(s){var a=e.get(s+"Span"),l=e.get(s+"ValueSpan");null!=l&&(l=this.getAxisModel().axis.scale.parse(l)),null!=l?a=gr(n[0]+l,n,[0,100],!0):null!=a&&(l=gr(a,[0,100],n,!0)-n[0]),t[s+"Span"]=a,t[s+"ValueSpan"]=l},this)},i.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var s=Vr(n,[0,500]);s=Math.min(s,20);var a=t.axis.scale.rawExtentInfo;0!==e[0]&&a.setDeterminedMinMax("min",+n[0].toFixed(s)),100!==e[1]&&a.setDeterminedMinMax("max",+n[1].toFixed(s)),a.freeze()}},i}();const aK=oK;var lK={getTargetSeries:function(i){function t(s){i.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(l,d){var h=i.getComponent(sy(l),d);s(l,d,h,a)})})}t(function(s,a,l,d){l.__dzAxisProxy=null});var e=[];t(function(s,a,l,d){l.__dzAxisProxy||(l.__dzAxisProxy=new aK(s,a,d,i),e.push(l.__dzAxisProxy))});var n=Rn();return te(e,function(s){te(s.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(i,t){i.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(n,s){e.getAxisProxy(n,s).reset(e)}),e.eachTargetAxis(function(n,s){e.getAxisProxy(n,s).filterData(e,t)})}),i.eachComponent("dataZoom",function(e){var n=e.findRepresentativeAxisProxy();if(n){var s=n.getDataPercentWindow(),a=n.getDataValueWindow();e.setCalculatedRange({start:s[0],end:s[1],startValue:a[0],endValue:a[1]})}})}};const cK=lK;var CV=!1;function vk(i){CV||(CV=!0,i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,cK),function dK(i){i.registerAction("dataZoom",function(t,e){te(function q9(i,t){var a,e=Rn(),n=[],s=Rn();i.eachComponent({mainType:"dataZoom",query:t},function(m){s.get(m.uid)||d(m)});do{a=!1,i.eachComponent("dataZoom",l)}while(a);function l(m){!s.get(m.uid)&&function h(m){var _=!1;return m.eachTargetAxis(function(C,w){var D=e.get(C);D&&D[w]&&(_=!0)}),_}(m)&&(d(m),a=!0)}function d(m){s.set(m.uid,!0),n.push(m),function f(m){m.eachTargetAxis(function(_,C){(e.get(_)||e.set(_,[]))[C]=!0})}(m)}return n}(e,t),function(s){s.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(i),i.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function uK(i){i.registerComponentModel(tK),i.registerComponentView(rK),vk(i)}var mp=function i(){},wV={};function c0(i,t){wV[i]=t}function xV(i){return wV[i]}var hK=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.optionUpdated=function(){i.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;te(this.option.feature,function(n,s){var a=xV(s);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(e)),Pt(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(go);const pK=hK;function SV(i,t){var e=Nf(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),new kr({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}var gK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.render=function(e,n,s,a){var l=this.group;if(l.removeAll(),e.get("show")){var d=+e.get("itemSize"),h="vertical"===e.get("orient"),f=e.get("feature")||{},m=this._features||(this._features={}),_=[];te(f,function(D,T){_.push(T)}),new op(this._featureNames||[],_).add(C).update(C).remove(Se(C,null)).execute(),this._featureNames=_,function fK(i,t,e){var n=t.getBoxLayoutParams(),s=t.get("padding"),a={width:e.getWidth(),height:e.getHeight()},l=pl(n,a,s);Vf(t.get("orient"),i,t.get("itemGap"),l.width,l.height),Wy(i,n,a,s)}(l,e,s),l.add(SV(l.getBoundingRect(),e)),h||l.eachChild(function(D){var T=D.__title,I=D.ensureState("emphasis"),F=I.textConfig||(I.textConfig={}),V=D.getTextContent(),H=V&&V.ensureState("emphasis");if(H&&!Nt(H)&&T){var re=H.style||(H.style={}),fe=pf(T,lo.makeFont(re)),de=D.x+l.x,Ue=!1;D.y+l.y+d+fe.height>s.getHeight()&&(F.position="top",Ue=!0);var ze=Ue?-5-fe.height:d+10;de+fe.width/2>s.getWidth()?(F.position=["100%",ze],re.align="right"):de-fe.width/2<0&&(F.position=[0,ze],re.align="left")}})}function C(D,T){var re,I=_[D],F=_[T],V=f[I],H=new Vi(V,e,e.ecModel);if(a&&null!=a.newTitle&&a.featureName===I&&(V.title=a.newTitle),I&&!F){if(function mK(i){return 0===i.indexOf("my")}(I))re={onclick:H.option.onclick,featureName:I};else{var fe=xV(I);if(!fe)return;re=new fe}m[I]=re}else if(!(re=m[F]))return;re.uid=cn("toolbox-feature"),re.model=H,re.ecModel=n,re.api=s;var de=re instanceof mp;I||!F?!H.get("show")||de&&re.unusable?de&&re.remove&&re.remove(n,s):(function w(D,T,I){var fe,de,F=D.getModel("iconStyle"),V=D.getModel(["emphasis","iconStyle"]),H=T instanceof mp&&T.getIcons?T.getIcons():D.get("icon"),re=D.get("title")||{};Ii(H)?(fe={})[I]=H:fe=H,Ii(re)?(de={})[I]=re:de=re;var Ee=D.iconPaths={};te(fe,function(Ue,ze){var nt=Dv(Ue,{},{x:-d/2,y:-d/2,width:d,height:d});nt.setStyle(F.getItemStyle()),nt.ensureState("emphasis").style=V.getItemStyle();var Vt=new lo({style:{text:de[ze],align:V.get("textAlign"),borderRadius:V.get("textBorderRadius"),padding:V.get("textPadding"),fill:null,font:r({fontStyle:V.get("textFontStyle"),fontFamily:V.get("textFontFamily"),fontSize:V.get("textFontSize"),fontWeight:V.get("textFontWeight")},n)},ignore:!0});nt.setTextContent(Vt),Av({el:nt,componentModel:e,itemName:ze,formatterParamsExtra:{title:de[ze]}}),nt.__title=de[ze],nt.on("mouseover",function(){var $t=V.getItemStyle(),hi=h?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";Vt.setStyle({fill:V.get("textFill")||$t.fill||$t.stroke||"#000",backgroundColor:V.get("textBackgroundColor")}),nt.setTextConfig({position:V.get("textPosition")||hi}),Vt.ignore=!e.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==D.get(["iconStatus",ze])&&s.leaveEmphasis(this),Vt.hide()}),("emphasis"===D.get(["iconStatus",ze])?ru:Qc)(nt),l.add(nt),nt.on("click",at(T.onclick,T,n,s,ze)),Ee[ze]=nt})}(H,re,I),H.setIconStatus=function(Ee,Ue){var ze=this.option,nt=this.iconPaths;ze.iconStatus=ze.iconStatus||{},ze.iconStatus[Ee]=Ue,nt[Ee]&&("emphasis"===Ue?ru:Qc)(nt[Ee])},re instanceof mp&&re.render&&re.render(H,n,s,a)):de&&re.dispose&&re.dispose(n,s)}},t.prototype.updateView=function(e,n,s,a){te(this._features,function(l){l instanceof mp&&l.updateView&&l.updateView(l.model,n,s,a)})},t.prototype.remove=function(e,n){te(this._features,function(s){s instanceof mp&&s.remove&&s.remove(e,n)}),this.group.removeAll()},t.prototype.dispose=function(e,n){te(this._features,function(s){s instanceof mp&&s.dispose&&s.dispose(e,n)})},t.type="toolbox",t}(Ks);const vK=gK;var yK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.onclick=function(e,n){var s=this.model,a=s.get("name")||e.get("title.0.text")||"echarts",l="svg"===n.getZr().painter.getType(),d=l?"svg":s.get("type",!0)||"png",h=n.getConnectedDataURL({type:d,backgroundColor:s.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),f=Tt.browser;if("function"!=typeof MouseEvent||!f.newEdge&&(f.ie||f.edge))if(window.navigator.msSaveOrOpenBlob||l){var C=h.split(","),w=C[0].indexOf("base64")>-1,D=l?decodeURIComponent(C[1]):C[1];w&&(D=window.atob(D));var T=a+"."+d;if(window.navigator.msSaveOrOpenBlob){for(var I=D.length,F=new Uint8Array(I);I--;)F[I]=D.charCodeAt(I);var V=new Blob([F]);window.navigator.msSaveOrOpenBlob(V,T)}else{var H=document.createElement("iframe");document.body.appendChild(H);var re=H.contentWindow,fe=re.document;fe.open("image/svg+xml","replace"),fe.write(D),fe.close(),re.focus(),fe.execCommand("SaveAs",!0,T),document.body.removeChild(H)}}else{var de=s.get("lang"),Ee='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(de&&de[0]||"")+'" /></body>',Ue=window.open();Ue.document.write(Ee),Ue.document.title=a}else{var m=document.createElement("a");m.download=a+"."+d,m.target="_blank",m.href=h;var _=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});m.dispatchEvent(_)}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(mp);const _K=yK;var DV="__ec_magicType_stack__",bK=[["line","bar"],["stack"]],CK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.getIcons=function(){var e=this.model,n=e.get("icon"),s={};return te(e.get("type"),function(a){n[a]&&(s[a]=n[a])}),s},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,n,s){var a=this.model,l=a.get(["seriesIndex",s]);if(EV[s]){var d={series:[]};te(bK,function(_){Te(_,s)>=0&&te(_,function(C){a.setIconStatus(C,"normal")})}),a.setIconStatus(s,"emphasis"),e.eachComponent({mainType:"series",query:null==l?null:{seriesIndex:l}},function(_){var D=EV[s](_.subType,_.id,_,a);D&&(je(D,_.option),d.series.push(D));var T=_.coordinateSystem;if(T&&"cartesian2d"===T.type&&("line"===s||"bar"===s)){var I=T.getAxesByScale("ordinal")[0];if(I){var V=I.dim+"Axis",re=_.getReferringComponents(V,mi).models[0].componentIndex;d[V]=d[V]||[];for(var fe=0;fe<=re;fe++)d[V][re]=d[V][re]||{};d[V][re].boundaryGap="bar"===s}}});var f,m=s;"stack"===s&&(f=Pt({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",s])&&(m="tiled")),n.dispatchAction({type:"changeMagicType",currentType:m,newOption:d,newTitle:f,featureName:"magicType"})}},t}(mp),EV={line:function(i,t,e,n){if("bar"===i)return Pt({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(i,t,e,n){if("line"===i)return Pt({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(i,t,e,n){var s=e.get("stack")===DV;if("line"===i||"bar"===i)return n.setIconStatus("stack",s?"normal":"emphasis"),Pt({id:t,stack:s?"":DV},n.get(["option","stack"])||{},!0)}};uu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(i,t){t.mergeOption(i.newOption)});const wK=CK;var KT=new Array(60).join("-");function SK(i){var t=[];return te(i,function(e,n){var s=e.categoryAxis,l=e.valueAxis.dim,d=[" "].concat(ge(e.series,function(w){return w.name})),h=[s.model.getCategories()];te(e.series,function(w){var D=w.getRawData();h.push(w.getRawData().mapArray(D.mapDimension(l),function(T){return T}))});for(var f=[d.join("\t")],m=0;m<h[0].length;m++){for(var _=[],C=0;C<h.length;C++)_.push(h[C][m]);f.push(_.join("\t"))}t.push(f.join("\n"))}),t.join("\n\n"+KT+"\n\n")}function DK(i){return ge(i,function(t){var e=t.getRawData(),n=[t.name],s=[];return e.each(e.dimensions,function(){for(var a=arguments.length,d=e.getName(arguments[a-1]),h=0;h<a-1;h++)s[h]=arguments[h];n.push((d?d+"\t":"")+s.join("\t"))}),n.join("\n")}).join("\n\n"+KT+"\n\n")}function XT(i){return i.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var yk=new RegExp("[\t]+","g");var IK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.onclick=function(e,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var s=n.getDom(),a=this.model;this._dom&&s.removeChild(this._dom);var l=document.createElement("div");l.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",l.style.backgroundColor=a.get("backgroundColor")||"#fff";var d=document.createElement("h4"),h=a.get("lang")||[];d.innerHTML=h[0]||a.get("title"),d.style.cssText="margin:10px 20px",d.style.color=a.get("textColor");var f=document.createElement("div"),m=document.createElement("textarea");f.style.cssText="overflow:auto";var _=a.get("optionToContent"),C=a.get("contentToOption"),w=function EK(i){var t=function xK(i){var t={},e=[],n=[];return i.eachRawSeries(function(s){var a=s.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)e.push(s);else{var l=a.getBaseAxis();if("category"===l.type){var d=l.dim+"_"+l.index;t[d]||(t[d]={categoryAxis:l,valueAxis:a.getOtherAxis(l),series:[]},n.push({axisDim:l.dim,axisIndex:l.index})),t[d].series.push(s)}else e.push(s)}}),{seriesGroupByCategoryAxis:t,other:e,meta:n}}(i);return{value:Ve([SK(t.seriesGroupByCategoryAxis),DK(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+KT+"\n\n"),meta:t.meta}}(e);if(Nt(_)){var D=_(n.getOption());Ii(D)?f.innerHTML=D:ki(D)&&f.appendChild(D)}else{m.readOnly=a.get("readOnly");var T=m.style;T.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",T.color=a.get("textColor"),T.borderColor=a.get("textareaBorderColor"),T.backgroundColor=a.get("textareaColor"),m.value=w.value,f.appendChild(m)}var I=w.meta,F=document.createElement("div");F.style.cssText="position:absolute;bottom:5px;left:0;right:0";var V="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",H=document.createElement("div"),re=document.createElement("div");V+=";background-color:"+a.get("buttonColor"),V+=";color:"+a.get("buttonTextColor");var fe=this;function de(){s.removeChild(l),fe._dom=null}bl(H,"click",de),bl(re,"click",function(){if(null==C&&null!=_||null!=C&&null==_)de();else{var Ee;try{Ee=Nt(C)?C(f,n.getOption()):function RK(i,t){var e=i.split(new RegExp("\n*"+KT+"\n*","g")),n={series:[]};return te(e,function(s,a){if(function AK(i){if(i.slice(0,i.indexOf("\n")).indexOf("\t")>=0)return!0}(s)){var l=function TK(i){for(var t=i.split(/\n+/g),n=[],s=ge(XT(t.shift()).split(yk),function(h){return{name:h,data:[]}}),a=0;a<t.length;a++){var l=XT(t[a]).split(yk);n.push(l.shift());for(var d=0;d<l.length;d++)s[d]&&(s[d].data[a]=l[d])}return{series:s,categories:n}}(s),d=t[a],h=d.axisDim+"Axis";d&&(n[h]=n[h]||[],n[h][d.axisIndex]={data:l.categories},n.series=n.series.concat(l.series))}else l=function MK(i){for(var t=i.split(/\n+/g),e=XT(t.shift()),n=[],s=0;s<t.length;s++){var a=XT(t[s]);if(a){var l=a.split(yk),d="",h=void 0,f=!1;isNaN(l[0])?(f=!0,d=l[0],l=l.slice(1),n[s]={name:d,value:[]},h=n[s].value):h=n[s]=[];for(var m=0;m<l.length;m++)h.push(+l[m]);1===h.length&&(f?n[s].value=h[0]:n[s]=h[0])}}return{name:e,data:n}}(s),n.series.push(l)}),n}(m.value,I)}catch(Ue){throw de(),new Error("Data view format error "+Ue)}Ee&&n.dispatchAction({type:"changeDataView",newOption:Ee}),de()}}),H.innerHTML=h[1],re.innerHTML=h[2],re.style.cssText=H.style.cssText=V,!a.get("readOnly")&&F.appendChild(re),F.appendChild(H),l.appendChild(d),l.appendChild(f),l.appendChild(F),f.style.height=s.clientHeight-80+"px",s.appendChild(l),this._dom=l},t.prototype.remove=function(e,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,n){this.remove(e,n)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(mp);function PK(i,t){return ge(i,function(e,n){var s=t&&t[n];if(Zi(s)&&!Me(s)){Zi(e)&&!Me(e)||(e={value:e});var l=null!=s.name&&null==e.name;return e=je(e,s),l&&delete e.name,e}return e})}uu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(i,t){var e=[];te(i.newOption.series,function(n){var s=t.getSeriesByName(n.name)[0];if(s){var a=s.get("data");e.push({name:n.name,data:PK(n.data,a)})}else e.push(Dt({type:"scatter"},n))}),t.mergeOption(je({series:e},i.newOption))});const kK=IK;var AV=te,TV=Xe();function _k(i){var t=TV(i);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var BK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.onclick=function(e,n){(function LK(i){TV(i).snapshots=null})(e),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(mp);uu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(i,t){t.resetOption("recreate")});const VK=BK;var GK=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],HK=function(){function i(t,e,n){var s=this;this._targetInfoList=[];var a=MV(e,t);te(UK,function(l,d){(!n||!n.include||Te(n.include,d)>=0)&&l(a,s._targetInfoList)})}return i.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(n,s,a){if((n.coordRanges||(n.coordRanges=[])).push(s),!n.coordRange){n.coordRange=s;var l=Ck[n.brushType](0,a,s);n.__rangeOffset={offset:kV[n.brushType](l.values,n.range,[1,1]),xyMinMax:l.xyMinMax}}}),t},i.prototype.matchOutputRanges=function(t,e,n){te(t,function(s){var a=this.findTargetInfo(s,e);a&&!0!==a&&te(a.coordSyses,function(l){var d=Ck[s.brushType](1,l,s.range,!0);n(s,d.values,l,e)})},this)},i.prototype.setInputRanges=function(t,e){te(t,function(n){var s=this.findTargetInfo(n,e);if(n.range=n.range||[],s&&!0!==s){n.panelId=s.panelId;var a=Ck[n.brushType](0,s.coordSys,n.coordRange),l=n.__rangeOffset;n.range=l?kV[n.brushType](a.values,l.offset,function zK(i,t){var e=OV(i),n=OV(t),s=[e[0]/n[0],e[1]/n[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}(a.xyMinMax,l.xyMinMax)):a.values}},this)},i.prototype.makePanelOpts=function(t,e){return ge(this._targetInfoList,function(n){var s=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:I2(s),isTargetByCursor:k2(s,t,n.coordSysModel),getLinearBrushOtherExtent:P2(s)}})},i.prototype.controlSeries=function(t,e,n){var s=this.findTargetInfo(t,n);return!0===s||s&&Te(s.coordSyses,e.coordinateSystem)>=0},i.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,s=MV(e,t),a=0;a<n.length;a++){var l=n[a],d=t.panelId;if(d){if(l.panelId===d)return l}else for(var h=0;h<RV.length;h++)if(RV[h](s,l))return l}return!0},i}();function bk(i){return i[0]>i[1]&&i.reverse(),i}function MV(i,t){return si(i,t,{includeMainTypes:GK})}var UK={grid:function(i,t){var e=i.xAxisModels,n=i.yAxisModels,s=i.gridModels,a=Rn(),l={},d={};!e&&!n&&!s||(te(e,function(h){var f=h.axis.grid.model;a.set(f.id,f),l[f.id]=!0}),te(n,function(h){var f=h.axis.grid.model;a.set(f.id,f),d[f.id]=!0}),te(s,function(h){a.set(h.id,h),l[h.id]=!0,d[h.id]=!0}),a.each(function(h){var m=[];te(h.coordinateSystem.getCartesians(),function(_,C){(Te(e,_.getAxis("x").model)>=0||Te(n,_.getAxis("y").model)>=0)&&m.push(_)}),t.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:m[0],coordSyses:m,getPanelRect:IV.grid,xAxisDeclared:l[h.id],yAxisDeclared:d[h.id]})}))},geo:function(i,t){te(i.geoModels,function(e){var n=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:IV.geo})})}},RV=[function(i,t){var e=i.xAxisModel,n=i.yAxisModel,s=i.gridModel;return!s&&e&&(s=e.axis.grid.model),!s&&n&&(s=n.axis.grid.model),s&&s===t.gridModel},function(i,t){var e=i.geoModel;return e&&e===t.geoModel}],IV={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var i=this.coordSys,t=i.getBoundingRect().clone();return t.applyTransform(Jp(i)),t}},Ck={lineX:Se(PV,0),lineY:Se(PV,1),rect:function(i,t,e,n){var s=i?t.pointToData([e[0][0],e[1][0]],n):t.dataToPoint([e[0][0],e[1][0]],n),a=i?t.pointToData([e[0][1],e[1][1]],n):t.dataToPoint([e[0][1],e[1][1]],n),l=[bk([s[0],a[0]]),bk([s[1],a[1]])];return{values:l,xyMinMax:l}},polygon:function(i,t,e,n){var s=[[1/0,-1/0],[1/0,-1/0]];return{values:ge(e,function(l){var d=i?t.pointToData(l,n):t.dataToPoint(l,n);return s[0][0]=Math.min(s[0][0],d[0]),s[1][0]=Math.min(s[1][0],d[1]),s[0][1]=Math.max(s[0][1],d[0]),s[1][1]=Math.max(s[1][1],d[1]),d}),xyMinMax:s}}};function PV(i,t,e,n){var s=e.getAxis(["x","y"][i]),a=bk(ge([0,1],function(d){return t?s.coordToData(s.toLocalCoord(n[d]),!0):s.toGlobalCoord(s.dataToCoord(n[d]))})),l=[];return l[i]=a,l[1-i]=[NaN,NaN],{values:a,xyMinMax:l}}var kV={lineX:Se(FV,0),lineY:Se(FV,1),rect:function(i,t,e){return[[i[0][0]-e[0]*t[0][0],i[0][1]-e[0]*t[0][1]],[i[1][0]-e[1]*t[1][0],i[1][1]-e[1]*t[1][1]]]},polygon:function(i,t,e){return ge(i,function(n,s){return[n[0]-e[0]*t[s][0],n[1]-e[1]*t[s][1]]})}};function FV(i,t,e,n){return[t[0]-n[i]*e[0],t[1]-n[i]*e[1]]}function OV(i){return i?[i[0][1]-i[0][0],i[1][1]-i[1][0]]:[NaN,NaN]}const wk=HK;var xk=te,WK=function B(i){return Td+i}("toolbox-dataZoom_"),jK=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.render=function(e,n,s,a){this._brushController||(this._brushController=new RP(s.getZr()),this._brushController.on("brush",at(this._onBrush,this)).mount()),function XK(i,t,e,n,s){var a=e._isZoomActive;n&&"takeGlobalCursor"===n.type&&(a="dataZoomSelect"===n.key&&n.dataZoomSelectActive),e._isZoomActive=a,i.setIconStatus("zoom",a?"emphasis":"normal");var d=new wk(Sk(i),t,{include:["grid"]}).makePanelOpts(s,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(d).enableBrush(!(!a||!d.length)&&{brushType:"auto",brushStyle:i.getModel("brushStyle").getItemStyle()})}(e,n,this,a,s),function KK(i,t){i.setIconStatus("back",function NK(i){return _k(i).length}(t)>1?"emphasis":"normal")}(e,n)},t.prototype.onclick=function(e,n,s){$K[s].call(this)},t.prototype.remove=function(e,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var n=e.areas;if(e.isEnd&&n.length){var s={},a=this.ecModel;this._brushController.updateCovers([]),new wk(Sk(this.model),a,{include:["grid"]}).matchOutputRanges(n,a,function(f,m,_){if("cartesian2d"===_.type){var C=f.brushType;"rect"===C?(d("x",_,m[0]),d("y",_,m[1])):d({lineX:"x",lineY:"y"}[C],_,m)}}),function FK(i,t){var e=_k(i);AV(t,function(n,s){for(var a=e.length-1;a>=0&&!e[a][s];a--);if(a<0){var d=i.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(d){var h=d.getPercentRange();e[0][s]={dataZoomId:s,start:h[0],end:h[1]}}}}),e.push(t)}(a,s),this._dispatchZoomAction(s)}function d(f,m,_){var C=m.getAxis(f),w=C.model,D=function h(f,m,_){var C;return _.eachComponent({mainType:"dataZoom",subType:"select"},function(w){w.getAxisModel(f,m.componentIndex)&&(C=w)}),C}(f,w,a),T=D.findRepresentativeAxisProxy(w).getMinMaxSpan();(null!=T.minValueSpan||null!=T.maxValueSpan)&&(_=ab(0,_.slice(),C.scale.getExtent(),0,T.minValueSpan,T.maxValueSpan)),D&&(s[D.id]={dataZoomId:D.id,startValue:_[0],endValue:_[1]})}},t.prototype._dispatchZoomAction=function(e){var n=[];xk(e,function(s,a){n.push(xe(s))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(mp),$K={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function OK(i){var t=_k(i),e=t[t.length-1];t.length>1&&t.pop();var n={};return AV(e,function(s,a){for(var l=t.length-1;l>=0;l--)if(s=t[l][a]){n[a]=s;break}}),n}(this.ecModel))}};function Sk(i){var t={xAxisIndex:i.get("xAxisIndex",!0),yAxisIndex:i.get("yAxisIndex",!0),xAxisId:i.get("xAxisId",!0),yAxisId:i.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}!function bD(i,t){mr(null==_D.get(i)&&t),_D.set(i,t)}("dataZoom",function(i){var t=i.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var n=t.getModel(e),s=[],l=si(i,Sk(n));return xk(l.xAxisModels,function(h){return d(h,"xAxis","xAxisIndex")}),xk(l.yAxisModels,function(h){return d(h,"yAxis","yAxisIndex")}),s}function d(h,f,m){var _=h.componentIndex,C={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:WK+f+_};C[m]=_,s.push(C)}});const YK=jK;var ZK=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(go);const qK=ZK;function LV(i){var t=i.get("confine");return null!=t?!!t:"richText"===i.get("renderMode")}function NV(i){if(Tt.domSupported)for(var t=document.documentElement.style,e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e]}var BV=NV(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function VV(i,t){if(!i)return t;t=Lf(t,!0);var e=i.indexOf(t);return(i=-1===e?t:"-"+i.slice(0,e)+"-"+t).toLowerCase()}var tX=VV(NV(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Dk=VV(BV,"transform"),iX="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Tt.transform3dSupported?"will-change:transform;":"");function GV(i,t,e){var n=i.toFixed(0)+"px",s=t.toFixed(0)+"px";if(!Tt.transformSupported)return e?"top:"+s+";left:"+n+";":[["top",s],["left",n]];var a=Tt.transform3dSupported,l="translate"+(a?"3d":"")+"("+n+","+s+(a?",0":"")+")";return e?"top:0;left:0;"+Dk+":"+l+";":[["top",0],["left",0],[BV,l]]}function HV(i,t,e,n,s){var a=t&&t.painter;if(e){var l=a&&a.getViewportRoot();l&&function Is(i,t,e,n,s){Sa(Uo,t,n,s,!0)&&Sa(i,e,Uo[0],Uo[1])}(i,l,e,n,s)}else{i[0]=n,i[1]=s;var d=a&&a.getViewportRootOffset();d&&(i[0]+=d.offsetLeft,i[1]+=d.offsetTop)}i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var lX=function(){function i(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Tt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var s=this._zr=t.getZr(),a=e.appendTo,l=a&&(Ii(a)?document.querySelector(a):ki(a)?a:Nt(a)&&a(t.getDom()));HV(this._styleCoord,s,l,t.getWidth()/2,t.getHeight()/2),(l||t.getDom()).appendChild(n),this._api=t,this._container=l;var d=this;n.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0},n.onmousemove=function(h){if(h=h||window.event,!d._enterable){var f=s.handler;Vs(s.painter.getViewportRoot(),h,!0),f.dispatch("mousemove",h)}},n.onmouseleave=function(){d._inContent=!1,d._enterable&&d._show&&d.hideLater(d._hideDelay)}}return i.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=function eX(i,t){var e=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return e?t?e[t]:e:null}(e,"position"),s=e.style;"absolute"!==s.position&&"absolute"!==n&&(s.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},i.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,s=n.style,a=this._styleCoord;n.innerHTML?s.cssText=iX+function aX(i,t,e){var n=[],s=i.get("transitionDuration"),a=i.get("backgroundColor"),l=i.get("shadowBlur"),d=i.get("shadowColor"),h=i.get("shadowOffsetX"),f=i.get("shadowOffsetY"),m=i.getModel("textStyle"),_=Mw(i,"html");return n.push("box-shadow:"+h+"px "+f+"px "+l+"px "+d),t&&s&&n.push(function oX(i,t){var e="cubic-bezier(0.23,1,0.32,1)",n=" "+i/2+"s "+e,s="opacity"+n+",visibility"+n;return t||(n=" "+i+"s "+e,s+=Tt.transformSupported?","+Dk+n:",left"+n+",top"+n),tX+":"+s}(s,e)),a&&n.push("background-color:"+a),te(["width","color","radius"],function(w){var D="border-"+w,T=Lf(D),I=i.get(T);null!=I&&n.push(D+":"+I+("color"===w?"":"px"))}),n.push(function sX(i){var t=[],e=i.get("fontSize"),n=i.getTextColor();n&&t.push("color:"+n),t.push("font:"+i.getFont()),e&&t.push("line-height:"+Math.round(3*e/2)+"px");var s=i.get("textShadowColor"),a=i.get("textShadowBlur")||0,l=i.get("textShadowOffsetX")||0,d=i.get("textShadowOffsetY")||0;return s&&a&&t.push("text-shadow:"+l+"px "+d+"px "+a+"px "+s),te(["decoration","align"],function(h){var f=i.get(h);f&&t.push("text-"+h+":"+f)}),t.join(";")}(m)),null!=_&&n.push("padding:"+Nf(_).join("px ")+"px"),n.join(";")+";"}(t,!this._firstShow,this._longHide)+GV(a[0],a[1],!0)+"border-color:"+$p(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(t,e,n,s,a){var l=this.el;if(null!=t){var d="";if(Ii(a)&&"item"===n.get("trigger")&&!LV(n)&&(d=function rX(i,t,e){if(!Ii(e)||"inside"===e)return"";var n=i.get("backgroundColor"),s=i.get("borderWidth");t=$p(t);var f,a=function nX(i){return"left"===i?"right":"right"===i?"left":"top"===i?"bottom":"top"}(e),l=Math.max(1.5*Math.round(s),6),d="",h=Dk+":";Te(["left","right"],a)>-1?(d+="top:50%",h+="translateY(-50%) rotate("+(f="left"===a?-225:-45)+"deg)"):(d+="left:50%",h+="translateX(-50%) rotate("+(f="top"===a?225:45)+"deg)");var m=f*Math.PI/180,_=l+s,C=_*Math.abs(Math.cos(m))+_*Math.abs(Math.sin(m)),D=t+" solid "+s+"px;";return'<div style="'+["position:absolute;width:"+l+"px;height:"+l+"px;z-index:-1;",(d+=";"+a+":-"+Math.round(100*((C-Math.SQRT2*s)/2+Math.SQRT2*s-(C-_)/2))/100+"px")+";"+h+";","border-bottom:"+D,"border-right:"+D,"background-color:"+n+";"].join("")+'"></div>'}(n,s,a)),Ii(t))l.innerHTML=t+d;else if(t){l.innerHTML="",Me(t)||(t=[t]);for(var h=0;h<t.length;h++)ki(t[h])&&t[h].parentNode!==l&&l.appendChild(t[h]);if(d&&l.childNodes.length){var f=document.createElement("div");f.innerHTML=d,l.appendChild(f)}}}else l.innerHTML=""},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},i.prototype.moveTo=function(t,e){var n=this._styleCoord;if(HV(n,this._zr,this._container,t,e),null!=n[0]&&null!=n[1]){var s=this.el.style;te(GV(n[0],n[1]),function(l){s[l[0]]=l[1]})}},i.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Tt.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},i.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(at(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},i}();const cX=lX;var dX=function(){function i(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),zV(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return i.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(t,e,n,s,a){var l=this;Zi(t)&&qo(""),this.el&&this._zr.remove(this.el);var d=n.getModel("textStyle");this.el=new lo({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:d.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:Mw(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(f){l.el.style[f]=n.get(f)}),te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(f){l.el.style[f]=d.get(f)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=UV(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},i.prototype.moveTo=function(t,e){var n=this.el;if(n){var s=this._styleCoord;zV(s,this._zr,t,e),t=s[0],e=s[1];var a=n.style,l=ay(a.borderWidth||0),d=UV(a);n.x=t+l+d.left,n.y=e+l+d.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(at(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function ay(i){return Math.max(0,i)}function UV(i){var t=ay(i.shadowBlur||0),e=ay(i.shadowOffsetX||0),n=ay(i.shadowOffsetY||0);return{left:ay(t-e),right:ay(t+e),top:ay(t-n),bottom:ay(t+n)}}function zV(i,t,e,n){i[0]=e,i[1]=n,i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}const uX=dX;var hX=new kr({shape:{x:-1,y:-1,width:2,height:2}}),pX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n){if(!Tt.node&&n.getDom()){var s=e.getComponent("tooltip"),a=this._renderMode=function Sr(i){return"auto"===i?Tt.domSupported?"html":"richText":i||"html"}(s.get("renderMode"));this._tooltipContent="richText"===a?new uX(n):new cX(n,{appendTo:s.get("appendToBody",!0)?"body":s.get("appendTo",!0)})}},t.prototype.render=function(e,n,s){if(!Tt.node&&s.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=s;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?Rv(this,"_updatePosition",50,"fixRate"):__(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel.get("triggerOn");XB("itemTooltip",this._api,at(function(s,a,l){"none"!==n&&(n.indexOf(s)>=0?this._tryShow(a,l):"leave"===s&&this._hide(l))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,s=this._api,a=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&l.manuallyShowTip(e,n,s,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,s,a){if(a.from!==this.uid&&!Tt.node&&s.getDom()){var l=WV(a,s);this._ticket="";var d=a.dataByCoordSys,h=function vX(i,t,e){var n=Hi(i).queryOptionMap,s=n.keys()[0];if(s&&"series"!==s){var h,l=vn(t,s,n.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(l&&(e.getViewOfComponentModel(l).group.traverse(function(f){var m=dr(f).tooltipConfig;if(m&&m.name===i.name)return h=f,!0}),h))return{componentMainType:s,componentIndex:l.componentIndex,el:h}}}(a,n,s);if(h){var f=h.el.getBoundingRect().clone();f.applyTransform(h.el.transform),this._tryShow({offsetX:f.x+f.width/2,offsetY:f.y+f.height/2,target:h.el,position:a.position,positionDefault:"bottom"},l)}else if(a.tooltip&&null!=a.x&&null!=a.y){var m=hX;m.x=a.x,m.y=a.y,m.update(),dr(m).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:m},l)}else if(d)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:d,tooltipOption:a.tooltipOption},l);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,n,s,a))return;var _=QB(a,n),C=_.point[0],w=_.point[1];null!=C&&null!=w&&this._tryShow({offsetX:C,offsetY:w,target:_.el,position:a.position,positionDefault:"bottom"},l)}else null!=a.x&&null!=a.y&&(s.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:s.getZr().findHover(a.x,a.y).target},l))}},t.prototype.manuallyHideTip=function(e,n,s,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(WV(a,s))},t.prototype._manuallyAxisShowTip=function(e,n,s,a){var l=a.seriesIndex,d=a.dataIndex,h=n.getComponent("axisPointer").coordSysAxesInfo;if(null!=l&&null!=d&&null!=h){var f=n.getSeriesByIndex(l);if(f&&"axis"===YS([f.getData().getItemModel(d),f,(f.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return s.dispatchAction({type:"updateAxisPointer",seriesIndex:l,dataIndex:d,position:a.position}),!0}},t.prototype._tryShow=function(e,n){var s=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var l=e.dataByCoordSys;if(l&&l.length)this._showAxisTooltip(l,e);else if(s){var h,f;if("legend"===dr(s).ssrType)return;this._lastDataByCoordSys=null,$f(s,function(m){return null!=dr(m).dataIndex?(h=m,!0):null!=dr(m).tooltipConfig?(f=m,!0):void 0},!0),h?this._showSeriesItemTooltip(e,h,n):f?this._showComponentItemTooltip(e,f,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var s=e.get("showDelay");n=at(n,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(n,s):n()},t.prototype._showAxisTooltip=function(e,n){var s=this._ecModel,a=this._tooltipModel,l=[n.offsetX,n.offsetY],d=YS([n.tooltipOption],a),h=this._renderMode,f=[],m=gl("section",{blocks:[],noHeader:!0}),_=[],C=new iC;te(e,function(V){te(V.dataByAxis,function(H){var re=s.getComponent(H.axisDim+"Axis",H.axisIndex),fe=H.value;if(re&&null!=fe){var de=UB(fe,re.axis,s,H.seriesDataIndices,H.valueLabelOpt),Ee=gl("section",{header:de,noHeader:!uo(de),sortBlocks:!0,blocks:[]});m.blocks.push(Ee),te(H.seriesDataIndices,function(Ue){var ze=s.getSeriesByIndex(Ue.seriesIndex),nt=Ue.dataIndexInside,gt=ze.getDataParams(nt);if(!(gt.dataIndex<0)){gt.axisDim=H.axisDim,gt.axisIndex=H.axisIndex,gt.axisType=H.axisType,gt.axisId=H.axisId,gt.axisValue=UC(re.axis,{value:fe}),gt.axisValueLabel=de,gt.marker=C.makeTooltipMarker("item",$p(gt.color),h);var Vt=GM(ze.formatTooltip(nt,!0,null)),$t=Vt.frag;if($t){var hi=YS([ze],a).get("valueFormatter");Ee.blocks.push(hi?Dt({valueFormatter:hi},$t):$t)}Vt.text&&_.push(Vt.text),f.push(gt)}})}})}),m.blocks.reverse(),_.reverse();var w=n.position,D=d.get("order"),T=YD(m,C,h,D,s.get("useUTC"),d.get("textStyle"));T&&_.unshift(T);var F=_.join("richText"===h?"\n\n":"<br/>");this._showOrMove(d,function(){this._updateContentNotChangedOnAxis(e,f)?this._updatePosition(d,w,l[0],l[1],this._tooltipContent,f):this._showTooltipContent(d,F,f,Math.random()+"",l[0],l[1],w,null,C)})},t.prototype._showSeriesItemTooltip=function(e,n,s){var a=this._ecModel,l=dr(n),d=l.seriesIndex,h=a.getSeriesByIndex(d),f=l.dataModel||h,m=l.dataIndex,_=l.dataType,C=f.getData(_),w=this._renderMode,D=e.positionDefault,T=YS([C.getItemModel(m),f,h&&(h.coordinateSystem||{}).model],this._tooltipModel,D?{position:D}:null),I=T.get("trigger");if(null==I||"item"===I){var F=f.getDataParams(m,_),V=new iC;F.marker=V.makeTooltipMarker("item",$p(F.color),w);var H=GM(f.formatTooltip(m,!1,_)),re=T.get("order"),fe=T.get("valueFormatter"),de=H.frag,Ee=de?YD(fe?Dt({valueFormatter:fe},de):de,V,w,re,a.get("useUTC"),T.get("textStyle")):H.text,Ue="item_"+f.name+"_"+m;this._showOrMove(T,function(){this._showTooltipContent(T,Ee,F,Ue,e.offsetX,e.offsetY,e.position,e.target,V)}),s({type:"showTip",dataIndexInside:m,dataIndex:C.getRawIndex(m),seriesIndex:d,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,s){var a="html"===this._renderMode,l=dr(n),h=l.tooltipConfig.option||{},f=h.encodeHTMLContent;Ii(h)&&(h={content:h,formatter:h},f=!0),f&&a&&h.content&&((h=xe(h)).content=so(h.content));var _=[h],C=this._ecModel.getComponent(l.componentMainType,l.componentIndex);C&&_.push(C),_.push({formatter:h.content});var w=e.positionDefault,D=YS(_,this._tooltipModel,w?{position:w}:null),T=D.get("content"),I=Math.random()+"",F=new iC;this._showOrMove(D,function(){var V=xe(D.get("formatterParams")||{});this._showTooltipContent(D,T,V,I,e.offsetX,e.offsetY,e.position,n,F)}),s({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,s,a,l,d,h,f,m){if(this._ticket="",e.get("showContent")&&e.get("show")){var _=this._tooltipContent;_.setEnterable(e.get("enterable"));var C=e.get("formatter");h=h||e.get("position");var w=n,T=this._getNearestPoint([l,d],s,e.get("trigger"),e.get("borderColor")).color;if(C)if(Ii(C)){var I=e.ecModel.get("useUTC"),F=Me(s)?s[0]:s;w=C,F&&F.axisType&&F.axisType.indexOf("time")>=0&&(w=Ny(F.axisValue,w,I)),w=Hy(w,s,!0)}else if(Nt(C)){var H=at(function(re,fe){re===this._ticket&&(_.setContent(fe,m,e,T,h),this._updatePosition(e,h,l,d,_,s,f))},this);this._ticket=a,w=C(s,a,H)}else w=C;_.setContent(w,m,e,T,h),_.show(e,T),this._updatePosition(e,h,l,d,_,s,f)}},t.prototype._getNearestPoint=function(e,n,s,a){return"axis"===s||Me(n)?{color:a||("html"===this._renderMode?"#fff":"none")}:Me(n)?void 0:{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,s,a,l,d,h){var f=this._api.getWidth(),m=this._api.getHeight();n=n||e.get("position");var _=l.getSize(),C=e.get("align"),w=e.get("verticalAlign"),D=h&&h.getBoundingRect().clone();if(h&&D.applyTransform(h.transform),Nt(n)&&(n=n([s,a],d,l.el,D,{viewSize:[f,m],contentSize:_.slice()})),Me(n))s=kn(n[0],f),a=kn(n[1],m);else if(Zi(n)){var T=n;T.width=_[0],T.height=_[1];var I=pl(T,{width:f,height:m});s=I.x,a=I.y,C=null,w=null}else if(Ii(n)&&h){var F=function mX(i,t,e,n){var s=e[0],a=e[1],l=Math.ceil(Math.SQRT2*n)+8,d=0,h=0,f=t.width,m=t.height;switch(i){case"inside":d=t.x+f/2-s/2,h=t.y+m/2-a/2;break;case"top":d=t.x+f/2-s/2,h=t.y-a-l;break;case"bottom":d=t.x+f/2-s/2,h=t.y+m+l;break;case"left":d=t.x-s-l,h=t.y+m/2-a/2;break;case"right":d=t.x+f+l,h=t.y+m/2-a/2}return[d,h]}(n,D,_,e.get("borderWidth"));s=F[0],a=F[1]}else F=function fX(i,t,e,n,s,a,l){var d=e.getSize(),h=d[0],f=d[1];return null!=a&&(i+h+a+2>n?i-=h+a:i+=a),null!=l&&(t+f+l>s?t-=f+l:t+=l),[i,t]}(s,a,l,f,m,C?null:20,w?null:20),s=F[0],a=F[1];C&&(s-=jV(C)?_[0]/2:"right"===C?_[0]:0),w&&(a-=jV(w)?_[1]/2:"bottom"===w?_[1]:0),LV(e)&&(F=function gX(i,t,e,n,s){var a=e.getSize(),l=a[0],d=a[1];return i=Math.min(i+l,n)-l,t=Math.min(t+d,s)-d,[i=Math.max(i,0),t=Math.max(t,0)]}(s,a,l,f,m),s=F[0],a=F[1]),l.moveTo(s,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var s=this._lastDataByCoordSys,a=this._cbParamsList,l=!!s&&s.length===e.length;return l&&te(s,function(d,h){var f=d.dataByAxis||[],_=(e[h]||{}).dataByAxis||[];(l=l&&f.length===_.length)&&te(f,function(C,w){var D=_[w]||{},T=C.seriesDataIndices||[],I=D.seriesDataIndices||[];(l=l&&C.value===D.value&&C.axisType===D.axisType&&C.axisId===D.axisId&&T.length===I.length)&&te(T,function(F,V){var H=I[V];l=l&&F.seriesIndex===H.seriesIndex&&F.dataIndex===H.dataIndex}),a&&te(C.seriesDataIndices,function(F){var V=F.seriesIndex,H=n[V],re=a[V];H&&re&&re.data!==H.data&&(l=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!l},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){Tt.node||!n.getDom()||(__(this,"_updatePosition"),this._tooltipContent.dispose(),sk("itemTooltip",n))},t.type="tooltip",t}(Ks);function YS(i,t,e){var s,n=t.ecModel;e?(s=new Vi(e,n,n),s=new Vi(t.option,s,n)):s=t;for(var a=i.length-1;a>=0;a--){var l=i[a];l&&(l instanceof Vi&&(l=l.get("tooltip",!0)),Ii(l)&&(l={formatter:l}),l&&(s=new Vi(l,s,n)))}return s}function WV(i,t){return i.dispatchAction||at(t.dispatchAction,t)}function jV(i){return"center"===i||"middle"===i}const yX=pX;var bX=["rect","polygon","keep","clear"];function CX(i,t){var e=Fr(i?i.brush:[]);if(e.length){var n=[];te(e,function(h){var f=h.hasOwnProperty("toolbox")?h.toolbox:[];f instanceof Array&&(n=n.concat(f))});var s=i&&i.toolbox;Me(s)&&(s=s[0]),s||(i.toolbox=[s={feature:{}}]);var a=s.feature||(s.feature={}),l=a.brush||(a.brush={}),d=l.type||(l.type=[]);d.push.apply(d,n),function wX(i){var t={};te(i,function(e){t[e]=1}),i.length=0,te(t,function(e,n){i.push(n)})}(d),t&&!d.length&&d.push.apply(d,bX)}}var $V=te;function KV(i){if(i)for(var t in i)if(i.hasOwnProperty(t))return!0}function Ek(i,t,e){var n={};return $V(t,function(a){var l=n[a]=function s(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();$V(i[a],function(d,h){if(vd.isValidType(h)){var f={type:h,visual:d};e&&e(f,a),l[h]=new vd(f),"opacity"===h&&((f=xe(f)).type="colorAlpha",l.__hidden.__alphaForOpacity=new vd(f))}})}),n}function XV(i,t,e){var n;te(e,function(s){t.hasOwnProperty(s)&&KV(t[s])&&(n=!0)}),n&&te(e,function(s){t.hasOwnProperty(s)&&KV(t[s])?i[s]=xe(t[s]):delete i[s]})}var YV={lineX:QV(0),lineY:QV(1),rect:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])},rect:function(i,t,e){return i&&e.boundingRect.intersect(i)}},polygon:{point:function(i,t,e){return i&&e.boundingRect.contain(i[0],i[1])&&Qf(e.range,i[0],i[1])},rect:function(i,t,e){var n=e.range;if(!i||n.length<=1)return!1;var s=i.x,a=i.y,l=i.width,d=i.height,h=n[0];return!!(Qf(n,s,a)||Qf(n,s+l,a)||Qf(n,s,a+d)||Qf(n,s+l,a+d)||Qn.create(i).contain(h[0],h[1])||g_(s,a,s+l,a,n)||g_(s,a,s,a+d,n)||g_(s+l,a,s+l,a+d,n)||g_(s,a+d,s+l,a+d,n))||void 0}}};function QV(i){var t=["x","y"],e=["width","height"];return{point:function(n,s,a){if(n)return QS(n[i],a.range)},rect:function(n,s,a){if(n){var l=a.range,d=[n[t[i]],n[t[i]]+n[e[i]]];return d[1]<d[0]&&d.reverse(),QS(d[0],l)||QS(d[1],l)||QS(l[0],d)||QS(l[1],d)}}}}function QS(i,t){return t[0]<=i&&i<=t[1]}var ZV=["inBrush","outOfBrush"],Ak="__ecBrushSelect",Tk="__ecInBrushSelectEvent";function qV(i){i.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new wk(t.option,i)).setInputRanges(t.areas,i)})}function EX(i,t,e){var s,a,n=[];i.eachComponent({mainType:"brush"},function(l){e&&"takeGlobalCursor"===e.type&&l.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),qV(i),i.eachComponent({mainType:"brush"},function(l,d){var h={brushId:l.id,brushIndex:d,brushName:l.name,areas:xe(l.areas),selected:[]};n.push(h);var f=l.option,m=f.brushLink,_=[],C=[],w=[],D=!1;d||(s=f.throttleType,a=f.throttleDelay);var T=ge(l.areas,function(fe){var de=RX[fe.brushType],Ee=je({boundingRect:de?de(fe):void 0},fe);return Ee.selectors=function DX(i){var t=i.brushType,e={point:function(n){return YV[t].point(n,e,i)},rect:function(n){return YV[t].rect(n,e,i)}};return e}(Ee),Ee}),I=Ek(l.option,ZV,function(fe){fe.mappingMethod="fixed"});function F(fe){return"all"===m||!!_[fe]}function V(fe){return!!fe.length}Me(m)&&te(m,function(fe){_[fe]=1}),i.eachSeries(function(fe,de){var Ee=w[de]=[];"parallel"===fe.subType?function H(fe,de){var Ee=fe.coordinateSystem;D=D||Ee.hasAxisBrushed(),F(de)&&Ee.eachActiveState(fe.getData(),function(Ue,ze){"active"===Ue&&(C[ze]=1)})}(fe,de):function re(fe,de,Ee){if(fe.brushSelector&&!function MX(i,t){var e=i.option.seriesIndex;return null!=e&&"all"!==e&&(Me(e)?Te(e,t)<0:t!==e)}(l,de)&&(te(T,function(ze){l.brushTargetManager.controlSeries(ze,fe,i)&&Ee.push(ze),D=D||V(Ee)}),F(de)&&V(Ee))){var Ue=fe.getData();Ue.each(function(ze){JV(fe,Ee,Ue,ze)&&(C[ze]=1)})}}(fe,de,Ee)}),i.eachSeries(function(fe,de){var Ee={seriesId:fe.id,seriesIndex:de,seriesName:fe.name,dataIndex:[]};h.selected.push(Ee);var Ue=w[de],ze=fe.getData(),nt=F(de)?function(gt){return C[gt]?(Ee.dataIndex.push(ze.getRawIndex(gt)),"inBrush"):"outOfBrush"}:function(gt){return JV(fe,Ue,ze,gt)?(Ee.dataIndex.push(ze.getRawIndex(gt)),"inBrush"):"outOfBrush"};(F(de)?D:V(Ue))&&function xX(i,t,e,n,s,a){var d,l={};function h(_){return lx(e,d,_)}function f(_,C){OE(e,d,_,C)}function m(_,C){var w=e.getRawDataItem(d=null==a?_:C);if(!w||!1!==w.visualMap)for(var D=n.call(s,_),T=t[D],I=l[D],F=0,V=I.length;F<V;F++){var H=I[F];T[H]&&T[H].applyVisual(_,h,f)}}te(i,function(_){var C=vd.prepareVisualTypes(t[_]);l[_]=C}),null==a?e.each(m):e.each([a],m)}(ZV,I,ze,nt)})}),function AX(i,t,e,n,s){if(s){var a=i.getZr();a[Tk]||(a[Ak]||(a[Ak]=TX),Rv(a,Ak,e,t)(i,n))}}(t,s,a,n,e)}function TX(i,t){if(!i.isDisposed()){var e=i.getZr();e[Tk]=!0,i.dispatchAction({type:"brushSelect",batch:t}),e[Tk]=!1}}function JV(i,t,e,n){for(var s=0,a=t.length;s<a;s++){var l=t[s];if(i.brushSelector(n,e,l.selectors,l))return!0}}var RX={rect:function(i){return eG(i.range)},polygon:function(i){for(var t,e=i.range,n=0,s=e.length;n<s;n++){var a=e[n];a[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&eG(t)}};function eG(i){return new Qn(i[0][0],i[1][0],i[0][1]-i[0][0],i[1][1]-i[1][0])}var IX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n,(this._brushController=new RP(n.getZr())).on("brush",at(this._onBrush,this)).mount()},t.prototype.render=function(e,n,s,a){this.model=e,this._updateController(e,n,s,a)},t.prototype.updateTransform=function(e,n,s,a){qV(n),this._updateController(e,n,s,a)},t.prototype.updateVisual=function(e,n,s,a){this.updateTransform(e,n,s,a)},t.prototype.updateView=function(e,n,s,a){this._updateController(e,n,s,a)},t.prototype._updateController=function(e,n,s,a){(!a||a.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(s)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var n=this.model.id,s=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:xe(s),$from:n}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:xe(s),$from:n})},t.type="brush",t}(Ks);const PX=IX;var FX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return P(t,i),t.prototype.optionUpdated=function(e,n){var s=this.option;!n&&XV(s,e,["inBrush","outOfBrush"]);var a=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=ge(e,function(n){return tG(this.option,n)},this))},t.prototype.setBrushOption=function(e){this.brushOption=tG(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(go);function tG(i,t){return Pt({brushType:i.brushType,brushMode:i.brushMode,transformable:i.transformable,brushStyle:new Vi(i.brushStyle).getItemStyle(),removeOnClick:i.removeOnClick,z:i.z},t,!0)}const OX=FX;var LX=["rect","polygon","lineX","lineY","keep","clear"],NX=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return P(t,i),t.prototype.render=function(e,n,s){var a,l,d;n.eachComponent({mainType:"brush"},function(h){a=h.brushType,l=h.brushOption.brushMode||"single",d=d||!!h.areas.length}),this._brushType=a,this._brushMode=l,te(e.get("type",!0),function(h){e.setIconStatus(h,("keep"===h?"multiple"===l:"clear"===h?d:h===a)?"emphasis":"normal")})},t.prototype.updateView=function(e,n,s){this.render(e,n,s)},t.prototype.getIcons=function(){var e=this.model,n=e.get("icon",!0),s={};return te(e.get("type",!0),function(a){n[a]&&(s[a]=n[a])}),s},t.prototype.onclick=function(e,n,s){var a=this._brushType,l=this._brushMode;"clear"===s?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===s?a:a!==s&&s,brushMode:"keep"===s?"multiple"===l?"single":"multiple":l}})},t.getDefaultOption=function(e){return{show:!0,type:LX.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(mp);const BX=NX;var GX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return P(t,i),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(go),HX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.render=function(e,n,s){if(this.group.removeAll(),e.get("show")){var a=this.group,l=e.getModel("textStyle"),d=e.getModel("subtextStyle"),h=e.get("textAlign"),f=en(e.get("textBaseline"),e.get("textVerticalAlign")),m=new lo({style:Ms(l,{text:e.get("text"),fill:l.getTextColor()},{disableBox:!0}),z2:10}),_=m.getBoundingRect(),C=e.get("subtext"),w=new lo({style:Ms(d,{text:C,fill:d.getTextColor(),y:_.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),D=e.get("link"),T=e.get("sublink"),I=e.get("triggerEvent",!0);m.silent=!D&&!I,w.silent=!T&&!I,D&&m.on("click",function(){zy(D,"_"+e.get("target"))}),T&&w.on("click",function(){zy(T,"_"+e.get("subtarget"))}),dr(m).eventData=dr(w).eventData=I?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(m),C&&a.add(w);var F=a.getBoundingRect(),V=e.getBoxLayoutParams();V.width=F.width,V.height=F.height;var H=pl(V,{width:s.getWidth(),height:s.getHeight()},e.get("padding"));h||("middle"===(h=e.get("left")||e.get("right"))&&(h="center"),"right"===h?H.x+=H.width:"center"===h&&(H.x+=H.width/2)),f||("center"===(f=e.get("top")||e.get("bottom"))&&(f="middle"),"bottom"===f?H.y+=H.height:"middle"===f&&(H.y+=H.height/2),f=f||"top"),a.x=H.x,a.y=H.y,a.markRedraw();var re={align:h,verticalAlign:f};m.setStyle(re),w.setStyle(re),F=a.getBoundingRect();var fe=H.margin,de=e.getItemStyle(["color","opacity"]);de.fill=e.get("backgroundColor");var Ee=new kr({shape:{x:F.x-fe[3],y:F.y-fe[0],width:F.width+fe[1]+fe[3],height:F.height+fe[0]+fe[2],r:e.get("borderRadius")},style:de,subPixelOptimize:!0,silent:!0});a.add(Ee)}},t.type="title",t}(Ks),zX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return P(t,i),t.prototype.init=function(e,n,s){this.mergeDefaultAndTheme(e,s),this._initData()},t.prototype.mergeOption=function(e){i.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var n=this._data.count();this.option.loop?e=(e%n+n)%n:(e>=n&&(e=n-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var l,e=this.option,n=e.data||[],s=e.axisType,a=this._names=[];"category"===s?(l=[],te(n,function(f,m){var C,_=Ns(Lh(f),"");Zi(f)?(C=xe(f)).value=m:C=m,l.push(C),a.push(_)})):l=n,(this._data=new nd([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[s]||"number"}],this)).initData(l,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(go);const iG=zX;var nG=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="timeline.slider",t.defaultOption=Gn(iG.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(iG);Gt(nG,Kb.prototype);const WX=nG;var jX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="timeline",t}(Ks);const $X=jX;var KX=function(i){function t(e,n,s,a){var l=i.call(this,e,n,s)||this;return l.type=a||"value",l}return P(t,i),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(Qu);const XX=KX;var Mk=Math.PI,rG=Xe(),YX=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(e,n){this.api=n},t.prototype.render=function(e,n,s){if(this.model=e,this.api=s,this.ecModel=n,this.group.removeAll(),e.get("show",!0)){var a=this._layout(e,s),l=this._createGroup("_mainGroup"),d=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(a,e);e.formatTooltip=function(f){return gl("nameValue",{noName:!0,value:h.scale.getLabel({value:f})})},te(["AxisLine","AxisTick","Control","CurrentPointer"],function(f){this["_render"+f](a,l,h,e)},this),this._renderAxisLabel(a,d,h,e),this._position(a,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,n){var d,s=e.get(["label","position"]),a=e.get("orient"),l=function ZX(i,t){return pl(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},i.get("padding"))}(e,n),h={horizontal:"center",vertical:(d=null==s||"auto"===s?"horizontal"===a?l.y+l.height/2<n.getHeight()/2?"-":"+":l.x+l.width/2<n.getWidth()/2?"+":"-":Ii(s)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][s]:s)>=0||"+"===d?"left":"right"},f={horizontal:d>=0||"+"===d?"top":"bottom",vertical:"middle"},m={horizontal:0,vertical:Mk/2},_="vertical"===a?l.height:l.width,C=e.getModel("controlStyle"),w=C.get("show",!0),D=w?C.get("itemSize"):0,T=w?C.get("itemGap"):0,I=D+T,F=e.get(["label","rotate"])||0;F=F*Mk/180;var V,H,re,fe=C.get("position",!0),de=w&&C.get("showPlayBtn",!0),Ee=w&&C.get("showPrevBtn",!0),Ue=w&&C.get("showNextBtn",!0),ze=0,nt=_;"left"===fe||"bottom"===fe?(de&&(V=[0,0],ze+=I),Ee&&(H=[ze,0],ze+=I),Ue&&(re=[nt-D,0],nt-=I)):(de&&(V=[nt-D,0],nt-=I),Ee&&(H=[0,0],ze+=I),Ue&&(re=[nt-D,0],nt-=I));var gt=[ze,nt];return e.get("inverse")&&gt.reverse(),{viewRect:l,mainLength:_,orient:a,rotation:m[a],labelRotation:F,labelPosOpt:d,labelAlign:e.get(["label","align"])||h[a],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||f[a],playPosition:V,prevBtnPosition:H,nextBtnPosition:re,axisExtent:gt,controlSize:D,controlGap:T}},t.prototype._position=function(e,n){var s=this._mainGroup,a=this._labelGroup,l=e.viewRect;if("vertical"===e.orient){var d=[1,0,0,1,0,0],h=l.x,f=l.y+l.height;ol(d,d,[-h,-f]),xs(d,d,-Mk/2),ol(d,d,[h,f]),(l=l.clone()).applyTransform(d)}var m=V(l),_=V(s.getBoundingRect()),C=V(a.getBoundingRect()),w=[s.x,s.y],D=[a.x,a.y];D[0]=w[0]=m[0][0];var I,T=e.labelPosOpt;function F(re){re.originX=m[0][0]-re.x,re.originY=m[1][0]-re.y}function V(re){return[[re.x,re.x+re.width],[re.y,re.y+re.height]]}function H(re,fe,de,Ee,Ue){re[Ee]+=de[Ee][Ue]-fe[Ee][Ue]}null==T||Ii(T)?(H(w,_,m,1,I="+"===T?0:1),H(D,C,m,1,1-I)):(H(w,_,m,1,I=T>=0?0:1),D[1]=w[1]+T),s.setPosition(w),a.setPosition(D),s.rotation=a.rotation=e.rotation,F(s),F(a)},t.prototype._createAxis=function(e,n){var s=n.getData(),a=n.get("axisType"),l=function QX(i,t){if(t=t||i.get("type"))switch(t){case"category":return new tS({ordinalMeta:i.getCategories(),extent:[1/0,-1/0]});case"time":return new GA({locale:i.ecModel.getLocaleModel(),useUTC:i.ecModel.get("useUTC")});default:return new ap}}(n,a);l.getTicks=function(){return s.mapArray(["value"],function(f){return{value:f}})};var d=s.getDataExtent("value");l.setExtent(d[0],d[1]),l.calcNiceTicks();var h=new XX("value",l,e.axisExtent,a);return h.model=n,h},t.prototype._createGroup=function(e){var n=this[e]=new zn;return this.group.add(n),n},t.prototype._renderAxisLine=function(e,n,s,a){var l=s.getExtent();if(a.get(["lineStyle","show"])){var d=new Yl({shape:{x1:l[0],y1:0,x2:l[1],y2:0},style:Dt({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(d);var h=this._progressLine=new Yl({shape:{x1:l[0],x2:this._currentPointer?this._currentPointer.x:l[0],y1:0,y2:0},style:je({lineCap:"round",lineWidth:d.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(h)}},t.prototype._renderAxisTick=function(e,n,s,a){var l=this,d=a.getData(),h=s.scale.getTicks();this._tickSymbols=[],te(h,function(f){var m=s.dataToCoord(f.value),_=d.getItemModel(f.value),C=_.getModel("itemStyle"),w=_.getModel(["emphasis","itemStyle"]),D=_.getModel(["progress","itemStyle"]),T={x:m,y:0,onclick:at(l._changeTimeline,l,f.value)},I=oG(_,C,n,T);I.ensureState("emphasis").style=w.getItemStyle(),I.ensureState("progress").style=D.getItemStyle(),ou(I);var F=dr(I);_.get("tooltip")?(F.dataIndex=f.value,F.dataModel=a):F.dataIndex=F.dataModel=null,l._tickSymbols.push(I)})},t.prototype._renderAxisLabel=function(e,n,s,a){var l=this;if(s.getLabelModel().get("show")){var h=a.getData(),f=s.getViewLabels();this._tickLabels=[],te(f,function(m){var _=m.tickValue,C=h.getItemModel(_),w=C.getModel("label"),D=C.getModel(["emphasis","label"]),T=C.getModel(["progress","label"]),I=s.dataToCoord(m.tickValue),F=new lo({x:I,y:0,rotation:e.labelRotation-e.rotation,onclick:at(l._changeTimeline,l,_),silent:!1,style:Ms(w,{text:m.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});F.ensureState("emphasis").style=Ms(D),F.ensureState("progress").style=Ms(T),n.add(F),ou(F),rG(F).dataIndex=_,l._tickLabels.push(F)})}},t.prototype._renderControl=function(e,n,s,a){var l=e.controlSize,d=e.rotation,h=a.getModel("controlStyle").getItemStyle(),f=a.getModel(["emphasis","controlStyle"]).getItemStyle(),m=a.getPlayState(),_=a.get("inverse",!0);function C(w,D,T,I){if(w){var F=Ed(en(a.get(["controlStyle",D+"BtnSize"]),l),l),H=function qX(i,t,e,n){var s=n.style,a=Dv(i.get(["controlStyle",t]),n||{},new Qn(e[0],e[1],e[2],e[3]));return s&&a.setStyle(s),a}(a,D+"Icon",[0,-F/2,F,F],{x:w[0],y:w[1],originX:l/2,originY:0,rotation:I?-d:0,rectHover:!0,style:h,onclick:T});H.ensureState("emphasis").style=f,n.add(H),ou(H)}}C(e.nextBtnPosition,"next",at(this._changeTimeline,this,_?"-":"+")),C(e.prevBtnPosition,"prev",at(this._changeTimeline,this,_?"+":"-")),C(e.playPosition,m?"stop":"play",at(this._handlePlayClick,this,!m),!0)},t.prototype._renderCurrentPointer=function(e,n,s,a){var l=a.getData(),d=a.getCurrentIndex(),h=l.getItemModel(d).getModel("checkpointStyle"),f=this;this._currentPointer=oG(h,h,this._mainGroup,{},this._currentPointer,{onCreate:function(_){_.draggable=!0,_.drift=at(f._handlePointerDrag,f),_.ondragend=at(f._handlePointerDragend,f),sG(_,f._progressLine,d,s,a,!0)},onUpdate:function(_){sG(_,f._progressLine,d,s,a)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,n,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,n){var s=this._toAxisCoord(e)[0],l=Hl(this._axis.getExtent().slice());s>l[1]&&(s=l[1]),s<l[0]&&(s=l[0]),this._currentPointer.x=s,this._currentPointer.markRedraw();var d=this._progressLine;d&&(d.shape.x2=s,d.dirty());var h=this._findNearestTick(s),f=this.model;(n||h!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(h)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=e.model;e._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return $u(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var a,n=this.model.getData(),s=1/0,l=this._axis;return n.each(["value"],function(d,h){var f=l.dataToCoord(d),m=Math.abs(f-e);m<s&&(s=m,a=h)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var n=this.model.getCurrentIndex();"+"===e?e=n+1:"-"===e&&(e=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),n=this._tickSymbols,s=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<e);if(s)for(a=0;a<s.length;a++)s&&s[a]&&s[a].toggleState("progress",rG(s[a]).dataIndex<=e)},t.type="timeline.slider",t}($X);function oG(i,t,e,n,s,a){var l=t.get("color");s?(s.setColor(l),e.add(s),a&&a.onUpdate(s)):((s=Ma(i.get("symbol"),-1,-1,2,2,l)).setStyle("strokeNoScale",!0),e.add(s),a&&a.onCreate(s));var h=t.getItemStyle(["color"]);s.setStyle(h),n=Pt({rectHover:!0,z2:100},n,!0);var f=Fv(i.get("symbolSize"));n.scaleX=f[0]/2,n.scaleY=f[1]/2;var m=Kf(i.get("symbolOffset"),f);m&&(n.x=(n.x||0)+m[0],n.y=(n.y||0)+m[1]);var _=i.get("symbolRotate");return n.rotation=(_||0)*Math.PI/180||0,s.attr(n),s.updateTransform(),s}function sG(i,t,e,n,s,a){if(!i.dragging){var l=s.getModel("checkpointStyle"),d=n.dataToCoord(s.getData().get("value",e));if(a||!l.get("animation",!0))i.attr({x:d,y:0}),t&&t.attr({shape:{x2:d}});else{var h={duration:l.get("animationDuration",!0),easing:l.get("animationEasing",!0)};i.stopAnimation(null,!0),i.animateTo({x:d,y:0},h),t&&t.animateTo({shape:{x2:d}},h)}}}const JX=YX;function tY(i){var t=i&&i.timeline;Me(t)||(t=t?[t]:[]),te(t,function(e){e&&function iY(i){var t=i.type,e={number:"value",time:"time"};if(e[t]&&(i.axisType=e[t],delete i.type),aG(i),hb(i,"controlPosition")){var n=i.controlStyle||(i.controlStyle={});hb(n,"position")||(n.position=i.controlPosition),"none"===n.position&&!hb(n,"show")&&(n.show=!1,delete n.position),delete i.controlPosition}te(i.data||[],function(s){Zi(s)&&!Me(s)&&(!hb(s,"value")&&hb(s,"name")&&(s.value=s.name),aG(s))})}(e)})}function aG(i){var t=i.itemStyle||(i.itemStyle={}),e=t.emphasis||(t.emphasis={}),n=i.label||i.label||{},s=n.normal||(n.normal={}),a={normal:1,emphasis:1};te(n,function(l,d){!a[d]&&!hb(s,d)&&(s[d]=l)}),e.label&&!hb(n,"emphasis")&&(n.emphasis=e.label,delete e.label)}function hb(i,t){return i.hasOwnProperty(t)}function Rk(i,t){if(!i)return!1;for(var e=Me(i)?i:[i],n=0;n<e.length;n++)if(e[n]&&e[n][t])return!0;return!1}function YT(i){Ul(i,"label",["show"])}var QT=Xe(),lG=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return P(t,i),t.prototype.init=function(e,n,s){this.mergeDefaultAndTheme(e,s),this._mergeOption(e,s,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Tt.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,n){this._mergeOption(e,n,!1,!1)},t.prototype._mergeOption=function(e,n,s,a){var l=this.mainType;s||n.eachSeries(function(d){var h=d.get(this.mainType,!0),f=QT(d)[l];h&&h.data?(f?f._mergeOption(h,n,!0):(a&&YT(h),te(h.data,function(m){m instanceof Array?(YT(m[0]),YT(m[1])):YT(m)}),Dt(f=this.createMarkerModelFromSeries(h,this,n),{mainType:this.mainType,seriesIndex:d.seriesIndex,name:d.name,createdBySelf:!0}),f.__hostSeries=d),QT(d)[l]=f):QT(d)[l]=null},this)},t.prototype.formatTooltip=function(e,n,s){var a=this.getData(),l=this.getRawValue(e),d=a.getName(e);return gl("section",{header:this.name,blocks:[gl("nameValue",{name:d,value:l,noName:!d,noValue:null==l})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.prototype.getDataParams=function(e,n){var s=Kb.prototype.getDataParams.call(this,e,n),a=this.__hostSeries;return a&&(s.seriesId=a.id,s.seriesName=a.name,s.seriesType=a.subType),s},t.getMarkerModelFromSeries=function(e,n){return QT(e)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(go);Gt(lG,Kb.prototype);const ly=lG;var rY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,s){return new t(e,n,s)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(ly);const oY=rY;function Ik(i){return!(isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y)))}function ZT(i,t,e,n,s,a){var l=[],h=nf(t,n)?t.getCalculationInfo("stackResultDimension"):n,f=kk(t,h,i),m=t.indicesOfNearest(h,f)[0];l[s]=t.get(e,m),l[a]=t.get(h,m);var _=t.get(n,m),C=Dl(t.get(n,m));return(C=Math.min(C,20))>=0&&(l[a]=+l[a].toFixed(C)),[l,_]}var Pk={min:Se(ZT,"min"),max:Se(ZT,"max"),average:Se(ZT,"average"),median:Se(ZT,"median")};function ZS(i,t){if(t){var e=i.getData(),n=i.coordinateSystem,s=n&&n.dimensions;if(!function sY(i){return!isNaN(parseFloat(i.x))&&!isNaN(parseFloat(i.y))}(t)&&!Me(t.coord)&&Me(s)){var a=cG(t,e,n,i);if((t=xe(t)).type&&Pk[t.type]&&a.baseAxis&&a.valueAxis){var l=Te(s,a.baseAxis.dim),d=Te(s,a.valueAxis.dim),h=Pk[t.type](e,a.baseDataDim,a.valueDataDim,l,d);t.coord=h[0],t.value=h[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&Me(s))for(var f=t.coord,m=0;m<2;m++)Pk[f[m]]&&(f[m]=kk(e,e.mapDimension(s[m]),f[m]));else t.coord=[];return t}}function cG(i,t,e,n){var s={};return null!=i.valueIndex||null!=i.valueDim?(s.valueDataDim=null!=i.valueIndex?t.getDimension(i.valueIndex):i.valueDim,s.valueAxis=e.getAxis(function aY(i,t){var e=i.getData().getDimensionInfo(t);return e&&e.coordDim}(n,s.valueDataDim)),s.baseAxis=e.getOtherAxis(s.valueAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim)):(s.baseAxis=n.getBaseAxis(),s.valueAxis=e.getOtherAxis(s.baseAxis),s.baseDataDim=t.mapDimension(s.baseAxis.dim),s.valueDataDim=t.mapDimension(s.valueAxis.dim)),s}function qS(i,t){return!(i&&i.containData&&t.coord&&!Ik(t))||i.containData(t.coord)}function dG(i,t){return i?function(e,n,s,a){return Hf(a<2?e.coord&&e.coord[a]:e.value,t[a])}:function(e,n,s,a){return Hf(e.value,t[a])}}function kk(i,t,e){if("average"===e){var n=0,s=0;return i.each(t,function(a,l){isNaN(a)||(n+=a,s++)}),n/s}return"median"===e?i.getMedian(t):i.getDataExtent(t)["max"===e?1:0]}var Fk=Xe(),cY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.init=function(){this.markerGroupMap=Rn()},t.prototype.render=function(e,n,s){var a=this,l=this.markerGroupMap;l.each(function(d){Fk(d).keep=!1}),n.eachSeries(function(d){var h=ly.getMarkerModelFromSeries(d,a.type);h&&a.renderSeries(d,h,n,s)}),l.each(function(d){!Fk(d).keep&&a.group.remove(d.group)})},t.prototype.markKeep=function(e){Fk(e).keep=!0},t.prototype.toggleBlurSeries=function(e,n){var s=this;te(e,function(a){var l=ly.getMarkerModelFromSeries(a,s.type);l&&l.getData().eachItemGraphicEl(function(h){h&&(n?Ml(h):Ug(h))})})},t.type="marker",t}(Ks);const Ok=cY;function uG(i,t,e){var n=t.coordinateSystem;i.each(function(s){var l,a=i.getItemModel(s),d=kn(a.get("x"),e.getWidth()),h=kn(a.get("y"),e.getHeight());if(isNaN(d)||isNaN(h)){if(t.getMarkerPosition)l=t.getMarkerPosition(i.getValues(i.dimensions,s));else if(n){var f=i.get(n.dimensions[0],s),m=i.get(n.dimensions[1],s);l=n.dataToPoint([f,m])}}else l=[d,h];isNaN(d)||(l[0]=d),isNaN(h)||(l[1]=h),i.setItemLayout(s,l)})}var dY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.updateTransform=function(e,n,s){n.eachSeries(function(a){var l=ly.getMarkerModelFromSeries(a,"markPoint");l&&(uG(l.getData(),a,s),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(e,n,s,a){var l=e.coordinateSystem,d=e.id,h=e.getData(),f=this.markerGroupMap,m=f.get(d)||f.set(d,new SS),_=function uY(i,t,e){var n;n=i?ge(i&&i.dimensions,function(d){return Dt(Dt({},t.getData().getDimensionInfo(t.getData().mapDimension(d))||{}),{name:d,ordinalMeta:null})}):[{name:"value",type:"float"}];var s=new nd(n,e),a=ge(e.get("data"),Se(ZS,t));i&&(a=Ve(a,Se(qS,i)));var l=dG(!!i,n);return s.initData(a,null,l),s}(l,e,n);n.setData(_),uG(n.getData(),e,a),_.each(function(C){var w=_.getItemModel(C),D=w.getShallow("symbol"),T=w.getShallow("symbolSize"),I=w.getShallow("symbolRotate"),F=w.getShallow("symbolOffset"),V=w.getShallow("symbolKeepAspect");if(Nt(D)||Nt(T)||Nt(I)||Nt(F)){var H=n.getRawValue(C),re=n.getDataParams(C);Nt(D)&&(D=D(H,re)),Nt(T)&&(T=T(H,re)),Nt(I)&&(I=I(H,re)),Nt(F)&&(F=F(H,re))}var fe=w.getModel("itemStyle").getItemStyle(),de=w_(h,"color");fe.fill||(fe.fill=de),_.setItemVisual(C,{symbol:D,symbolSize:T,symbolRotate:I,symbolOffset:F,symbolKeepAspect:V,style:fe})}),m.updateData(_),this.group.add(m.group),_.eachItemGraphicEl(function(C){C.traverse(function(w){dr(w).dataModel=n})}),this.markKeep(m),m.group.silent=n.get("silent")||e.get("silent")},t.type="markPoint",t}(Ok);const hY=dY;var fY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,s){return new t(e,n,s)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(ly);const gY=fY;var qT=Xe(),mY=function(i,t,e,n){var a,s=i.getData();if(Me(n))a=n;else{var l=n.type;if("min"===l||"max"===l||"average"===l||"median"===l||null!=n.xAxis||null!=n.yAxis){var d=void 0,h=void 0;if(null!=n.yAxis||null!=n.xAxis)d=t.getAxis(null!=n.yAxis?"y":"x"),h=ln(n.yAxis,n.xAxis);else{var f=cG(n,s,t,i);d=f.valueAxis,h=kk(s,Kx(s,f.valueDataDim),l)}var _="x"===d.dim?0:1,C=1-_,w=xe(n),D={coord:[]};w.type=null,w.coord=[],w.coord[C]=-1/0,D.coord[C]=1/0;var T=e.get("precision");T>=0&&Di(h)&&(h=+h.toFixed(Math.min(T,20))),w.coord[_]=D.coord[_]=h,a=[w,D,{type:l,valueIndex:n.valueIndex,value:h}]}else a=[]}var I=[ZS(i,a[0]),ZS(i,a[1]),Dt({},a[2])];return I[2].type=I[2].type||null,Pt(I[2],I[0]),Pt(I[2],I[1]),I};function JT(i){return!isNaN(i)&&!isFinite(i)}function hG(i,t,e,n){var s=1-i,a=n.dimensions[i];return JT(t[s])&&JT(e[s])&&t[i]===e[i]&&n.getAxis(a).containData(t[i])}function vY(i,t){if("cartesian2d"===i.type){var e=t[0].coord,n=t[1].coord;if(e&&n&&(hG(1,e,n,i)||hG(0,e,n,i)))return!0}return qS(i,t[0])&&qS(i,t[1])}function Lk(i,t,e,n,s){var d,a=n.coordinateSystem,l=i.getItemModel(t),h=kn(l.get("x"),s.getWidth()),f=kn(l.get("y"),s.getHeight());if(isNaN(h)||isNaN(f)){if(n.getMarkerPosition)d=n.getMarkerPosition(i.getValues(i.dimensions,t));else{var _=i.get((m=a.dimensions)[0],t),C=i.get(m[1],t);d=a.dataToPoint([_,C])}if(q_(a,"cartesian2d")){var m,w=a.getAxis("x"),D=a.getAxis("y");JT(i.get((m=a.dimensions)[0],t))?d[0]=w.toGlobalCoord(w.getExtent()[e?0:1]):JT(i.get(m[1],t))&&(d[1]=D.toGlobalCoord(D.getExtent()[e?0:1]))}isNaN(h)||(d[0]=h),isNaN(f)||(d[1]=f)}else d=[h,f];i.setItemLayout(t,d)}var yY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.updateTransform=function(e,n,s){n.eachSeries(function(a){var l=ly.getMarkerModelFromSeries(a,"markLine");if(l){var d=l.getData(),h=qT(l).from,f=qT(l).to;h.each(function(m){Lk(h,m,!0,a,s),Lk(f,m,!1,a,s)}),d.each(function(m){d.setItemLayout(m,[h.getItemLayout(m),f.getItemLayout(m)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,n,s,a){var l=e.coordinateSystem,d=e.id,h=e.getData(),f=this.markerGroupMap,m=f.get(d)||f.set(d,new dP);this.group.add(m.group);var _=function _Y(i,t,e){var n;n=i?ge(i&&i.dimensions,function(f){return Dt(Dt({},t.getData().getDimensionInfo(t.getData().mapDimension(f))||{}),{name:f,ordinalMeta:null})}):[{name:"value",type:"float"}];var s=new nd(n,e),a=new nd(n,e),l=new nd([],e),d=ge(e.get("data"),Se(mY,t,i,e));i&&(d=Ve(d,Se(vY,i)));var h=dG(!!i,n);return s.initData(ge(d,function(f){return f[0]}),null,h),a.initData(ge(d,function(f){return f[1]}),null,h),l.initData(ge(d,function(f){return f[2]})),l.hasItemOption=!0,{from:s,to:a,line:l}}(l,e,n),C=_.from,w=_.to,D=_.line;qT(n).from=C,qT(n).to=w,n.setData(D);var T=n.get("symbol"),I=n.get("symbolSize"),F=n.get("symbolRotate"),V=n.get("symbolOffset");function H(re,fe,de){var Ee=re.getItemModel(fe);Lk(re,fe,de,e,a);var Ue=Ee.getModel("itemStyle").getItemStyle();null==Ue.fill&&(Ue.fill=w_(h,"color")),re.setItemVisual(fe,{symbolKeepAspect:Ee.get("symbolKeepAspect"),symbolOffset:en(Ee.get("symbolOffset",!0),V[de?0:1]),symbolRotate:en(Ee.get("symbolRotate",!0),F[de?0:1]),symbolSize:en(Ee.get("symbolSize"),I[de?0:1]),symbol:en(Ee.get("symbol",!0),T[de?0:1]),style:Ue})}Me(T)||(T=[T,T]),Me(I)||(I=[I,I]),Me(F)||(F=[F,F]),Me(V)||(V=[V,V]),_.from.each(function(re){H(C,re,!0),H(w,re,!1)}),D.each(function(re){var fe=D.getItemModel(re).getModel("lineStyle").getLineStyle();D.setItemLayout(re,[C.getItemLayout(re),w.getItemLayout(re)]),null==fe.stroke&&(fe.stroke=C.getItemVisual(re,"style").fill),D.setItemVisual(re,{fromSymbolKeepAspect:C.getItemVisual(re,"symbolKeepAspect"),fromSymbolOffset:C.getItemVisual(re,"symbolOffset"),fromSymbolRotate:C.getItemVisual(re,"symbolRotate"),fromSymbolSize:C.getItemVisual(re,"symbolSize"),fromSymbol:C.getItemVisual(re,"symbol"),toSymbolKeepAspect:w.getItemVisual(re,"symbolKeepAspect"),toSymbolOffset:w.getItemVisual(re,"symbolOffset"),toSymbolRotate:w.getItemVisual(re,"symbolRotate"),toSymbolSize:w.getItemVisual(re,"symbolSize"),toSymbol:w.getItemVisual(re,"symbol"),style:fe})}),m.updateData(D),_.line.eachItemGraphicEl(function(re){dr(re).dataModel=n,re.traverse(function(fe){dr(fe).dataModel=n})}),this.markKeep(m),m.group.silent=n.get("silent")||e.get("silent")},t.type="markLine",t}(Ok);const bY=yY;var wY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.createMarkerModelFromSeries=function(e,n,s){return new t(e,n,s)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(ly);const xY=wY;var eM=Xe(),SY=function(i,t,e,n){var s=n[0],a=n[1];if(s&&a){var l=ZS(i,s),d=ZS(i,a),h=l.coord,f=d.coord;h[0]=ln(h[0],-1/0),h[1]=ln(h[1],-1/0),f[0]=ln(f[0],1/0),f[1]=ln(f[1],1/0);var m=qe([{},l,d]);return m.coord=[l.coord,d.coord],m.x0=l.x,m.y0=l.y,m.x1=d.x,m.y1=d.y,m}};function tM(i){return!isNaN(i)&&!isFinite(i)}function pG(i,t,e,n){var s=1-i;return tM(t[s])&&tM(e[s])}function DY(i,t){var e=t.coord[0],n=t.coord[1],s={coord:e,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return q_(i,"cartesian2d")?!(!e||!n||!pG(1,e,n)&&!pG(0,e,n))||function lY(i,t,e){return!(i&&i.containZone&&t.coord&&e.coord&&!Ik(t)&&!Ik(e))||i.containZone(t.coord,e.coord)}(i,s,a):qS(i,s)||qS(i,a)}function fG(i,t,e,n,s){var d,a=n.coordinateSystem,l=i.getItemModel(t),h=kn(l.get(e[0]),s.getWidth()),f=kn(l.get(e[1]),s.getHeight());if(isNaN(h)||isNaN(f)){if(n.getMarkerPosition){var m=i.getValues(["x0","y0"],t),_=i.getValues(["x1","y1"],t),C=a.clampData(m),w=a.clampData(_),D=[];D[0]="x0"===e[0]?C[0]>w[0]?_[0]:m[0]:C[0]>w[0]?m[0]:_[0],D[1]="y0"===e[1]?C[1]>w[1]?_[1]:m[1]:C[1]>w[1]?m[1]:_[1],d=n.getMarkerPosition(D,e,!0)}else{var F=[T=i.get(e[0],t),I=i.get(e[1],t)];a.clampData&&a.clampData(F,F),d=a.dataToPoint(F,!0)}if(q_(a,"cartesian2d")){var V=a.getAxis("x"),H=a.getAxis("y"),T=i.get(e[0],t),I=i.get(e[1],t);tM(T)?d[0]=V.toGlobalCoord(V.getExtent()["x0"===e[0]?0:1]):tM(I)&&(d[1]=H.toGlobalCoord(H.getExtent()["y0"===e[1]?0:1]))}isNaN(h)||(d[0]=h),isNaN(f)||(d[1]=f)}else d=[h,f];return d}var gG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],EY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.updateTransform=function(e,n,s){n.eachSeries(function(a){var l=ly.getMarkerModelFromSeries(a,"markArea");if(l){var d=l.getData();d.each(function(h){var f=ge(gG,function(_){return fG(d,h,_,a,s)});d.setItemLayout(h,f),d.getItemGraphicEl(h).setShape("points",f)})}},this)},t.prototype.renderSeries=function(e,n,s,a){var l=e.coordinateSystem,d=e.id,h=e.getData(),f=this.markerGroupMap,m=f.get(d)||f.set(d,{group:new zn});this.group.add(m.group),this.markKeep(m);var _=function AY(i,t,e){var n,s;if(i){var l=ge(i&&i.dimensions,function(f){var m=t.getData();return Dt(Dt({},m.getDimensionInfo(m.mapDimension(f))||{}),{name:f,ordinalMeta:null})});s=ge(["x0","y0","x1","y1"],function(f,m){return{name:f,type:l[m%2].type}}),n=new nd(s,e)}else n=new nd(s=[{name:"value",type:"float"}],e);var d=ge(e.get("data"),Se(SY,t,i,e));i&&(d=Ve(d,Se(DY,i)));var h=i?function(f,m,_,C){return Hf(f.coord[Math.floor(C/2)][C%2],s[C])}:function(f,m,_,C){return Hf(f.value,s[C])};return n.initData(d,null,h),n.hasItemOption=!0,n}(l,e,n);n.setData(_),_.each(function(C){var w=ge(gG,function(Ue){return fG(_,C,Ue,e,a)}),D=l.getAxis("x").scale,T=l.getAxis("y").scale,I=D.getExtent(),F=T.getExtent(),V=[D.parse(_.get("x0",C)),D.parse(_.get("x1",C))],H=[T.parse(_.get("y0",C)),T.parse(_.get("y1",C))];Hl(V),Hl(H),_.setItemLayout(C,{points:w,allClipped:!!(I[0]>V[1]||I[1]<V[0]||F[0]>H[1]||F[1]<H[0])});var de=_.getItemModel(C).getModel("itemStyle").getItemStyle(),Ee=w_(h,"color");de.fill||(de.fill=Ee,Ii(de.fill)&&(de.fill=z(de.fill,.4))),de.stroke||(de.stroke=Ee),_.setItemVisual(C,"style",de)}),_.diff(eM(m).data).add(function(C){var w=_.getItemLayout(C);if(!w.allClipped){var D=new td({shape:{points:w.points}});_.setItemGraphicEl(C,D),m.group.add(D)}}).update(function(C,w){var D=eM(m).data.getItemGraphicEl(w),T=_.getItemLayout(C);T.allClipped?D&&m.group.remove(D):(D?wo(D,{shape:{points:T.points}},n,C):D=new td({shape:{points:T.points}}),_.setItemGraphicEl(C,D),m.group.add(D))}).remove(function(C){var w=eM(m).data.getItemGraphicEl(C);m.group.remove(w)}).execute(),_.eachItemGraphicEl(function(C,w){var D=_.getItemModel(w),T=_.getItemVisual(w,"style");C.useStyle(_.getItemVisual(w,"style")),Rl(C,za(D),{labelFetcher:n,labelDataIndex:w,defaultText:_.getName(w)||"",inheritColor:Ii(T.fill)?z(T.fill,1):"#000"}),el(C,D),ea(C,null,null,D.get(["emphasis","disabled"])),dr(C).dataModel=n}),eM(m).data=_,m.group.silent=n.get("silent")||e.get("silent")},t.type="markArea",t}(Ok);const TY=EY;var IY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return P(t,i),t.prototype.init=function(e,n,s){this.mergeDefaultAndTheme(e,s),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,s=this.ecModel;!0===n&&(n=e.selector=["all","inverse"]),Me(n)&&te(n,function(a,l){Ii(a)&&(a={type:a}),n[l]=Pt(a,function(i,t){return"all"===t?{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(s,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var n=!1,s=0;s<e.length;s++){var a=e[s].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],s=[];e.eachRawSeries(function(h){var m;if(s.push(h.name),h.legendVisualProvider){var C=h.legendVisualProvider.getAllNames();e.isSeriesFiltered(h)||(s=s.concat(C)),C.length?n=n.concat(C):m=!0}else m=!0;m&&U(h)&&n.push(h.name)}),this._availableNames=s;var a=this.get("data")||n,l=Rn(),d=ge(a,function(h){return(Ii(h)||Di(h))&&(h={name:h}),l.get(h.name)?null:(l.set(h.name,!0),new Vi(h,this,this.ecModel))},this);this._data=Ve(d,function(h){return!!h})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected;"single"===this.get("selectedMode")&&te(this._data,function(l){n[l.get("name")]=!1}),n[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var n=this.option.selected;te(this._data,function(s){n[s.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this.option.selected;te(this._data,function(s){var a=s.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&Te(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(go);const Nk=IY;var u0=Se,Bk=te,iM=zn,PY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return P(t,i),t.prototype.init=function(){this.group.add(this._contentGroup=new iM),this.group.add(this._selectorGroup=new iM),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,s){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var l=e.get("align"),d=e.get("orient");(!l||"auto"===l)&&(l="right"===e.get("left")&&"vertical"===d?"right":"left");var h=e.get("selector",!0),f=e.get("selectorPosition",!0);h&&(!f||"auto"===f)&&(f="horizontal"===d?"end":"start"),this.renderInner(l,e,n,s,h,d,f);var m=e.getBoxLayoutParams(),_={width:s.getWidth(),height:s.getHeight()},C=e.get("padding"),w=pl(m,_,C),D=this.layoutInner(e,l,w,a,h,f),T=pl(je({width:D.width,height:D.height},m),_,C);this.group.x=T.x-D.x,this.group.y=T.y-D.y,this.group.markRedraw(),this.group.add(this._backgroundEl=SV(D,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,s,a,l,d,h){var f=this.getContentGroup(),m=Rn(),_=n.get("selectedMode"),C=[];s.eachRawSeries(function(w){!w.get("legendHoverLink")&&C.push(w.id)}),Bk(n.getData(),function(w,D){var T=w.get("name");if(!this.newlineDisabled&&(""===T||"\n"===T)){var I=new iM;return I.newline=!0,void f.add(I)}var F=s.getSeriesByName(T)[0];if(!m.get(T))if(F){var V=F.getData(),H=V.getVisual("legendLineStyle")||{},re=V.getVisual("legendIcon"),fe=V.getVisual("style"),de=this._createItem(F,T,D,w,n,e,H,fe,re,_,a);de.on("click",u0(mG,T,null,a,C)).on("mouseover",u0(Vk,F.name,null,a,C)).on("mouseout",u0(Gk,F.name,null,a,C)),s.ssr&&de.eachChild(function(Ee){var Ue=dr(Ee);Ue.seriesIndex=F.seriesIndex,Ue.dataIndex=D,Ue.ssrType="legend"}),m.set(T,!0)}else s.eachRawSeries(function(Ee){if(!m.get(T)&&Ee.legendVisualProvider){var Ue=Ee.legendVisualProvider;if(!Ue.containName(T))return;var ze=Ue.indexOfName(T),nt=Ue.getItemVisual(ze,"style"),gt=Ue.getItemVisual(ze,"legendIcon"),Vt=ar(nt.fill);Vt&&0===Vt[3]&&(Vt[3]=.2,nt=Dt(Dt({},nt),{fill:we(Vt,"rgba")}));var $t=this._createItem(Ee,T,D,w,n,e,{},nt,gt,_,a);$t.on("click",u0(mG,null,T,a,C)).on("mouseover",u0(Vk,null,T,a,C)).on("mouseout",u0(Gk,null,T,a,C)),s.ssr&&$t.eachChild(function(hi){var gi=dr(hi);gi.seriesIndex=Ee.seriesIndex,gi.dataIndex=D,gi.ssrType="legend"}),m.set(T,!0)}},this)},this),l&&this._createSelector(l,n,a,d,h)},t.prototype._createSelector=function(e,n,s,a,l){var d=this.getSelectorGroup();Bk(e,function(f){var m=f.type,_=new lo({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:"all"===m?"legendAllSelect":"legendInverseSelect"})}});d.add(_),Rl(_,{normal:n.getModel("selectorLabel"),emphasis:n.getModel(["emphasis","selectorLabel"])},{defaultText:f.title}),ou(_)})},t.prototype._createItem=function(e,n,s,a,l,d,h,f,m,_,C){var w=e.visualDrawType,D=l.get("itemWidth"),T=l.get("itemHeight"),I=l.isSelected(n),F=a.get("symbolRotate"),V=a.get("symbolKeepAspect"),H=a.get("icon"),re=function kY(i,t,e,n,s,a,l){function d(I,F){"auto"===I.lineWidth&&(I.lineWidth=F.lineWidth>0?2:0),Bk(I,function(V,H){"inherit"===I[H]&&(I[H]=F[H])})}var h=t.getModel("itemStyle"),f=h.getItemStyle(),m=0===i.lastIndexOf("empty",0)?"fill":"stroke",_=h.getShallow("decal");f.decal=_&&"inherit"!==_?um(_,l):n.decal,"inherit"===f.fill&&(f.fill=n[s]),"inherit"===f.stroke&&(f.stroke=n[m]),"inherit"===f.opacity&&(f.opacity=("fill"===s?n:e).opacity),d(f,n);var C=t.getModel("lineStyle"),w=C.getLineStyle();if(d(w,e),"auto"===f.fill&&(f.fill=n.fill),"auto"===f.stroke&&(f.stroke=n.fill),"auto"===w.stroke&&(w.stroke=n.fill),!a){var D=t.get("inactiveBorderWidth");f.lineWidth="auto"===D?n.lineWidth>0&&f[m]?2:0:f.lineWidth,f.fill=t.get("inactiveColor"),f.stroke=t.get("inactiveBorderColor"),w.stroke=C.get("inactiveColor"),w.lineWidth=C.get("inactiveWidth")}return{itemStyle:f,lineStyle:w}}(m=H||m||"roundRect",a,h,f,w,I,C),fe=new iM,de=a.getModel("textStyle");if(!Nt(e.getLegendIcon)||H&&"inherit"!==H){var Ee="inherit"===H&&e.getData().getVisual("symbol")?"inherit"===F?e.getData().getVisual("symbolRotate"):F:0;fe.add(function FY(i){var t=i.icon||"roundRect",e=Ma(t,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return e.setStyle(i.itemStyle),e.rotation=(i.iconRotate||0)*Math.PI/180,e.setOrigin([i.itemWidth/2,i.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}({itemWidth:D,itemHeight:T,icon:m,iconRotate:Ee,itemStyle:re.itemStyle,lineStyle:re.lineStyle,symbolKeepAspect:V}))}else fe.add(e.getLegendIcon({itemWidth:D,itemHeight:T,icon:m,iconRotate:F,itemStyle:re.itemStyle,lineStyle:re.lineStyle,symbolKeepAspect:V}));var Ue="left"===d?D+5:-5,ze=d,nt=l.get("formatter"),gt=n;Ii(nt)&&nt?gt=nt.replace("{name}",n??""):Nt(nt)&&(gt=nt(n));var Vt=I?de.getTextColor():a.get("inactiveColor");fe.add(new lo({style:Ms(de,{text:gt,x:Ue,y:T/2,fill:Vt,align:ze,verticalAlign:"middle"},{inheritColor:Vt})}));var $t=new kr({shape:fe.getBoundingRect(),style:{fill:"transparent"}}),hi=a.getModel("tooltip");return hi.get("show")&&Av({el:$t,componentModel:l,itemName:n,itemTooltipOption:hi.option}),fe.add($t),fe.eachChild(function(gi){gi.silent=!0}),$t.silent=!_,this.getContentGroup().add(fe),ou(fe),fe.__legendDataIndex=s,fe},t.prototype.layoutInner=function(e,n,s,a,l,d){var h=this.getContentGroup(),f=this.getSelectorGroup();Vf(e.get("orient"),h,e.get("itemGap"),s.width,s.height);var m=h.getBoundingRect(),_=[-m.x,-m.y];if(f.markRedraw(),h.markRedraw(),l){Vf("horizontal",f,e.get("selectorItemGap",!0));var C=f.getBoundingRect(),w=[-C.x,-C.y],D=e.get("selectorButtonGap",!0),T=e.getOrient().index,I=0===T?"width":"height",F=0===T?"height":"width",V=0===T?"y":"x";"end"===d?w[T]+=m[I]+D:_[T]+=C[I]+D,w[1-T]+=m[F]/2-C[F]/2,f.x=w[0],f.y=w[1],h.x=_[0],h.y=_[1];var H={x:0,y:0};return H[I]=m[I]+D+C[I],H[F]=Math.max(m[F],C[F]),H[V]=Math.min(0,C[V]+w[1-T]),H}return h.x=_[0],h.y=_[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Ks);function mG(i,t,e,n){Gk(i,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:i??t}),Vk(i,t,e,n)}function vG(i){for(var e,t=i.getZr().storage.getDisplayList(),n=0,s=t.length;n<s&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function Vk(i,t,e,n){vG(e)||e.dispatchAction({type:"highlight",seriesName:i,name:t,excludeSeriesId:n})}function Gk(i,t,e,n){vG(e)||e.dispatchAction({type:"downplay",seriesName:i,name:t,excludeSeriesId:n})}const yG=PY;function OY(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function JS(i,t,e){var a,n={},s="toggleSelected"===i;return e.eachComponent("legend",function(l){s&&null!=a?l[a?"select":"unSelect"](t.name):"allSelect"===i||"inverseSelect"===i?l[i]():(l[i](t.name),a=l.isSelected(t.name)),te(l.getData(),function(h){var f=h.get("name");if("\n"!==f&&""!==f){var m=l.isSelected(f);n[f]=n.hasOwnProperty(f)?n[f]&&m:m}})}),"allSelect"===i||"inverseSelect"===i?{selected:n}:{name:t.name,selected:n}}function _G(i){i.registerComponentModel(Nk),i.registerComponentView(yG),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,OY),i.registerSubTypeDefaulter("legend",function(){return"plain"}),function LY(i){i.registerAction("legendToggleSelect","legendselectchanged",Se(JS,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",Se(JS,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",Se(JS,"inverseSelect")),i.registerAction("legendSelect","legendselected",Se(JS,"select")),i.registerAction("legendUnSelect","legendunselected",Se(JS,"unSelect"))}(i)}var NY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,s){var a=hc(e);i.prototype.init.call(this,e,n,s),bG(this,e,a)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),bG(this,this.option,e)},t.type="legend.scroll",t.defaultOption=Gn(Nk.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Nk);function bG(i,t,e){var s=[1,1];s[i.getOrient().index]=0,Gf(t,e,{type:"box",ignoreSize:!!s})}const BY=NY;var CG=zn,Hk=["width","height"],Uk=["x","y"],VY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return P(t,i),t.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new CG),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new CG)},t.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,s,a,l,d,h){var f=this;i.prototype.renderInner.call(this,e,n,s,a,l,d,h);var m=this._controllerGroup,_=n.get("pageIconSize",!0),C=Me(_)?_:[_,_];D("pagePrev",0);var w=n.getModel("pageTextStyle");function D(T,I){var F=T+"DataIndex",V=Dv(n.get("pageIcons",!0)[n.getOrient().name][I],{onclick:at(f._pageGo,f,F,n,a)},{x:-C[0]/2,y:-C[1]/2,width:C[0],height:C[1]});V.name=T,m.add(V)}m.add(new lo({name:"pageText",style:{text:"xx/xx",fill:w.getTextColor(),font:w.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),D("pageNext",1)},t.prototype.layoutInner=function(e,n,s,a,l,d){var h=this.getSelectorGroup(),f=e.getOrient().index,m=Hk[f],_=Uk[f],C=Hk[1-f],w=Uk[1-f];l&&Vf("horizontal",h,e.get("selectorItemGap",!0));var D=e.get("selectorButtonGap",!0),T=h.getBoundingRect(),I=[-T.x,-T.y],F=xe(s);l&&(F[m]=s[m]-T[m]-D);var V=this._layoutContentAndController(e,a,F,f,m,C,w,_);if(l){if("end"===d)I[f]+=V[m]+D;else{var H=T[m]+D;I[f]-=H,V[_]-=H}V[m]+=T[m]+D,I[1-f]+=V[w]+V[C]/2-T[C]/2,V[C]=Math.max(V[C],T[C]),V[w]=Math.min(V[w],T[w]+I[1-f]),h.x=I[0],h.y=I[1],h.markRedraw()}return V},t.prototype._layoutContentAndController=function(e,n,s,a,l,d,h,f){var m=this.getContentGroup(),_=this._containerGroup,C=this._controllerGroup;Vf(e.get("orient"),m,e.get("itemGap"),a?s.width:null,a?null:s.height),Vf("horizontal",C,e.get("pageButtonItemGap",!0));var w=m.getBoundingRect(),D=C.getBoundingRect(),T=this._showController=w[l]>s[l],I=[-w.x,-w.y];n||(I[a]=m[f]);var F=[0,0],V=[-D.x,-D.y],H=en(e.get("pageButtonGap",!0),e.get("itemGap",!0));T&&("end"===e.get("pageButtonPosition",!0)?V[a]+=s[l]-D[l]:F[a]+=D[l]+H),V[1-a]+=w[d]/2-D[d]/2,m.setPosition(I),_.setPosition(F),C.setPosition(V);var fe={x:0,y:0};if(fe[l]=T?s[l]:w[l],fe[d]=Math.max(w[d],D[d]),fe[h]=Math.min(0,D[h]+V[1-a]),_.__rectSize=s[l],T){var de={x:0,y:0};de[l]=Math.max(s[l]-D[l]-H,0),de[d]=fe[d],_.setClipPath(new kr({shape:de})),_.__rectSize=de[l]}else C.eachChild(function(Ue){Ue.attr({invisible:!0,silent:!0})});var Ee=this._getPageInfo(e);return null!=Ee.pageIndex&&wo(m,{x:Ee.contentPosition[0],y:Ee.contentPosition[1]},T?e:null),this._updatePageInfoView(e,Ee),fe},t.prototype._pageGo=function(e,n,s){var a=this._getPageInfo(n)[e];null!=a&&s.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var s=this._controllerGroup;te(["pagePrev","pageNext"],function(m){var C=null!=n[m+"DataIndex"],w=s.childOfName(m);w&&(w.setStyle("fill",e.get(C?"pageIconColor":"pageIconInactiveColor",!0)),w.cursor=C?"pointer":"default")});var a=s.childOfName("pageText"),l=e.get("pageFormatter"),d=n.pageIndex,h=null!=d?d+1:0,f=n.pageCount;a&&l&&a.setStyle("text",Ii(l)?l.replace("{current}",null==h?"":h+"").replace("{total}",null==f?"":f+""):l({current:h,total:f}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),s=this.getContentGroup(),a=this._containerGroup.__rectSize,l=e.getOrient().index,d=Hk[l],h=Uk[l],f=this._findTargetItemIndex(n),m=s.children(),_=m[f],C=m.length,w=C?1:0,D={contentPosition:[s.x,s.y],pageCount:w,pageIndex:w-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!_)return D;var T=re(_);D.contentPosition[l]=-T.s;for(var I=f+1,F=T,V=T,H=null;I<=C;++I)(!(H=re(m[I]))&&V.e>F.s+a||H&&!fe(H,F.s))&&(F=V.i>F.i?V:H)&&(null==D.pageNextDataIndex&&(D.pageNextDataIndex=F.i),++D.pageCount),V=H;for(I=f-1,F=T,V=T,H=null;I>=-1;--I)(!(H=re(m[I]))||!fe(V,H.s))&&F.i<V.i&&(V=F,null==D.pagePrevDataIndex&&(D.pagePrevDataIndex=F.i),++D.pageCount,++D.pageIndex),F=H;return D;function re(de){if(de){var Ee=de.getBoundingRect(),Ue=Ee[h]+de[h];return{s:Ue,e:Ue+Ee[d],i:de.__legendDataIndex}}}function fe(de,Ee){return de.e>=Ee&&de.s<=Ee+a}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(l,d){var h=l.__legendDataIndex;null==a&&null!=h&&(a=d),h===e&&(n=d)}),n??a):0;var n,a},t.type="legend.scroll",t}(yG);const GY=VY;function UY(i){Or(_G),i.registerComponentModel(BY),i.registerComponentView(GY),function HY(i){i.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(s){s.setScrollDataIndex(n)})})}(i)}var WY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="dataZoom.inside",t.defaultOption=Gn(XS.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(XS);const jY=WY;var zk=Xe();function wG(i,t){if(t){i.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function YY(i,t){i.isDisposed()||i.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function QY(i,t,e,n){return i.coordinateSystem.containPoint([e,n])}var JY=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return P(t,i),t.prototype.render=function(e,n,s){i.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function $Y(i,t,e){zk(i).coordSysRecordMap.each(function(n){var s=n.dataZoomInfoMap.get(t.uid);s&&(s.getRange=e)})}(s,e,{pan:at(Wk.pan,this),zoom:at(Wk.zoom,this),scrollMove:at(Wk.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function KY(i,t){for(var e=zk(i).coordSysRecordMap,n=e.keys(),s=0;s<n.length;s++){var l=e.get(n[s]),d=l.dataZoomInfoMap;if(d){var h=t.uid;d.get(h)&&(d.removeKey(h),d.keys().length||wG(e,l))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(mk),Wk={zoom:function(i,t,e,n){var s=this.range,a=s.slice(),l=i.axisModels[0];if(l){var d=jk[t](null,[n.originX,n.originY],l,e,i),h=(d.signal>0?d.pixelStart+d.pixelLength-d.pixel:d.pixel-d.pixelStart)/d.pixelLength*(a[1]-a[0])+a[0],f=Math.max(1/n.scale,0);a[0]=(a[0]-h)*f+h,a[1]=(a[1]-h)*f+h;var m=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(ab(0,a,[0,100],0,m.minSpan,m.maxSpan),this.range=a,s[0]!==a[0]||s[1]!==a[1])return a}},pan:xG(function(i,t,e,n,s,a){var l=jk[n]([a.oldX,a.oldY],[a.newX,a.newY],t,s,e);return l.signal*(i[1]-i[0])*l.pixel/l.pixelLength}),scrollMove:xG(function(i,t,e,n,s,a){return jk[n]([0,0],[a.scrollDelta,a.scrollDelta],t,s,e).signal*(i[1]-i[0])*a.scrollDelta})};function xG(i){return function(t,e,n,s){var a=this.range,l=a.slice(),d=t.axisModels[0];if(d&&(ab(i(l,d,t,e,n,s),l,[0,100],"all"),this.range=l,a[0]!==l[0]||a[1]!==l[1]))return l}}var jk={grid:function(i,t,e,n,s){var a=e.axis,l={},d=s.model.coordinateSystem.getRect();return i=i||[0,0],"x"===a.dim?(l.pixel=t[0]-i[0],l.pixelLength=d.width,l.pixelStart=d.x,l.signal=a.inverse?1:-1):(l.pixel=t[1]-i[1],l.pixelLength=d.height,l.pixelStart=d.y,l.signal=a.inverse?-1:1),l},polar:function(i,t,e,n,s){var a=e.axis,l={},d=s.model.coordinateSystem,h=d.getRadiusAxis().getExtent(),f=d.getAngleAxis().getExtent();return i=i?d.pointToCoord(i):[0,0],t=d.pointToCoord(t),"radiusAxis"===e.mainType?(l.pixel=t[0]-i[0],l.pixelLength=h[1]-h[0],l.pixelStart=h[0],l.signal=a.inverse?1:-1):(l.pixel=t[1]-i[1],l.pixelLength=f[1]-f[0],l.pixelStart=f[0],l.signal=a.inverse?-1:1),l},singleAxis:function(i,t,e,n,s){var a=e.axis,l=s.model.coordinateSystem.getRect(),d={};return i=i||[0,0],"horizontal"===a.orient?(d.pixel=t[0]-i[0],d.pixelLength=l.width,d.pixelStart=l.x,d.signal=a.inverse?1:-1):(d.pixel=t[1]-i[1],d.pixelLength=l.height,d.pixelStart=l.y,d.signal=a.inverse?-1:1),d}};const eQ=JY;function SG(i){vk(i),i.registerComponentModel(jY),i.registerComponentView(eQ),function qY(i){i.registerProcessor(i.PRIORITY.PROCESSOR.FILTER,function(t,e){var n=zk(e),s=n.coordSysRecordMap||(n.coordSysRecordMap=Rn());s.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){te(yV(a).infoList,function(d){var h=d.model.uid,f=s.get(h)||s.set(h,function XY(i,t){var e={model:t,containsPoint:Se(QY,t),dispatchAction:Se(YY,i),dataZoomInfoMap:null,controller:null},n=e.controller=new IS(i.getZr());return te(["pan","zoom","scrollMove"],function(s){n.on(s,function(a){var l=[];e.dataZoomInfoMap.each(function(d){if(a.isAvailableBehavior(d.model.option)){var h=(d.getRange||{})[s],f=h&&h(d.dzReferCoordSysInfo,e.model.mainType,e.controller,a);!d.model.get("disabled",!0)&&f&&l.push({dataZoomId:d.model.id,start:f[0],end:f[1]})}}),l.length&&e.dispatchAction(l)})}),e}(e,d.model));(f.dataZoomInfoMap||(f.dataZoomInfoMap=Rn())).set(a.uid,{dzReferCoordSysInfo:d,model:a,getRange:null})})}),s.each(function(a){var d,l=a.controller,h=a.dataZoomInfoMap;if(h){var f=h.keys()[0];null!=f&&(d=h.get(f))}if(d){var m=function ZY(i){var t,e="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},s=!0;return i.each(function(a){var l=a.model,d=!l.get("disabled",!0)&&(!l.get("zoomLock",!0)||"move");n[e+d]>n[e+t]&&(t=d),s=s&&l.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!s}}}(h);l.enable(m.controlType,m.opt),l.setPointerChecker(a.containsPoint),Rv(a,"dispatchAction",d.model.get("throttle",!0),"fixRate")}else wG(s,a)})})}(i)}var tQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=Gn(XS.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(XS);const iQ=tQ;var eD=kr,tD="horizontal",EG="vertical",sQ=["line","bar","candlestick","scatter"],aQ={easing:"cubicOut",duration:100,delay:0},lQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return P(t,i),t.prototype.init=function(e,n){this.api=n,this._onBrush=at(this._onBrush,this),this._onBrushEnd=at(this._onBrushEnd,this)},t.prototype.render=function(e,n,s,a){if(i.prototype.render.apply(this,arguments),Rv(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show"))return e.noTarget()?(this._clear(),void this.group.removeAll()):((!a||"dataZoom"!==a.type||a.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},t.prototype.dispose=function(){this._clear(),i.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){__(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new zn;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,n=this.api,a=e.get("brushSelect")?7:0,l=this._findCoordRect(),d={width:n.getWidth(),height:n.getHeight()},h=this._orient===tD?{right:d.width-l.x-l.width,top:d.height-30-7-a,width:l.width,height:30}:{right:7,top:l.y,width:30,height:l.height},f=hc(e.option);te(["right","top","width","height"],function(_){"ph"===f[_]&&(f[_]=h[_])});var m=pl(f,d);this._location={x:m.x,y:m.y},this._size=[m.width,m.height],this._orient===EG&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,n=this._location,s=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),l=a&&a.get("inverse"),d=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;d.attr(s!==tD||l?s===tD&&l?{scaleY:h?1:-1,scaleX:-1}:s!==EG||l?{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?1:-1,scaleX:1});var f=e.getBoundingRect([d]);e.x=n.x-f.x,e.y=n.y-f.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,n=this._size,s=this._displayables.sliderGroup,a=e.get("brushSelect");s.add(new eD({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var l=new eD({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:at(this._onClickPanel,this)}),d=this.api.getZr();a?(l.on("mousedown",this._onBrushStart,this),l.cursor="crosshair",d.on("mousemove",this._onBrush),d.on("mouseup",this._onBrushEnd)):(d.off("mousemove",this._onBrush),d.off("mouseup",this._onBrushEnd)),s.add(l)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var n=this._size,s=this._shadowSize||[],a=e.series,l=a.getRawData(),d=a.getShadowDim&&a.getShadowDim(),h=d&&l.getDimensionInfo(d)?a.getShadowDim():e.otherDim;if(null!=h){var f=this._shadowPolygonPts,m=this._shadowPolylinePts;if(l!==this._shadowData||h!==this._shadowDim||n[0]!==s[0]||n[1]!==s[1]){var _=l.getDataExtent(h),C=.3*(_[1]-_[0]);_=[_[0]-C,_[1]+C];var re,w=[0,n[1]],T=[[n[0],0],[0,0]],I=[],F=n[0]/(l.count()-1),V=0,H=Math.round(l.count()/n[0]);l.each([h],function(ze,nt){if(H>0&&nt%H)V+=F;else{var gt=null==ze||isNaN(ze)||""===ze,Vt=gt?0:gr(ze,_,w,!0);gt&&!re&&nt?(T.push([T[T.length-1][0],0]),I.push([I[I.length-1][0],0])):!gt&&re&&(T.push([V,0]),I.push([V,0])),T.push([V,Vt]),I.push([V,Vt]),V+=F,re=gt}}),f=this._shadowPolygonPts=T,m=this._shadowPolylinePts=I}this._shadowData=l,this._shadowDim=h,this._shadowSize=[n[0],n[1]];for(var nt,gt,Vt,$t,fe=this.dataZoomModel,Ee=0;Ee<3;Ee++){var Ue=(nt=void 0,gt=void 0,void 0,void 0,nt=fe.getModel(1===Ee?"selectedDataBackground":"dataBackground"),gt=new zn,Vt=new td({shape:{points:f},segmentIgnoreThreshold:1,style:nt.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),$t=new md({shape:{points:m},segmentIgnoreThreshold:1,style:nt.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),gt.add(Vt),gt.add($t),gt);this._displayables.sliderGroup.add(Ue),this._displayables.dataShadowSegs.push(Ue)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,n=e.get("showDataShadow");if(!1!==n){var s,a=this.ecModel;return e.eachTargetAxis(function(l,d){te(e.getAxisProxy(l,d).getTargetSeriesModels(),function(f){if(!(s||!0!==n&&Te(sQ,f.get("type"))<0)){var C,m=a.getComponent(sy(l),d).axis,_=function cQ(i){return{x:"y",y:"x",radius:"angle",angle:"radius"}[i]}(l),w=f.coordinateSystem;null!=_&&w.getOtherAxis&&(C=w.getOtherAxis(m).inverse),_=f.getData().mapDimension(_),s={thisAxis:m,series:f,thisDim:l,otherDim:_,otherAxisInverse:C}}},this)},this),s}},t.prototype._renderHandle=function(){var e=this.group,n=this._displayables,s=n.handles=[null,null],a=n.handleLabels=[null,null],l=this._displayables.sliderGroup,d=this._size,h=this.dataZoomModel,f=this.api,m=h.get("borderRadius")||0,_=h.get("brushSelect"),C=n.filler=new eD({silent:_,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});l.add(C),l.add(new eD({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:d[0],height:d[1],r:m},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),te([0,1],function(H){var re=h.get("handleIcon");!kv[re]&&re.indexOf("path://")<0&&re.indexOf("image://")<0&&(re="path://"+re);var fe=Ma(re,-1,0,2,2,null,!0);fe.attr({cursor:AG(this._orient),draggable:!0,drift:at(this._onDragMove,this,H),ondragend:at(this._onDragEnd,this),onmouseover:at(this._showDataInfo,this,!0),onmouseout:at(this._showDataInfo,this,!1),z2:5});var de=fe.getBoundingRect(),Ee=h.get("handleSize");this._handleHeight=kn(Ee,this._size[1]),this._handleWidth=de.width/de.height*this._handleHeight,fe.setStyle(h.getModel("handleStyle").getItemStyle()),fe.style.strokeNoScale=!0,fe.rectHover=!0,fe.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),ou(fe);var Ue=h.get("handleColor");null!=Ue&&(fe.style.fill=Ue),l.add(s[H]=fe);var ze=h.getModel("textStyle");e.add(a[H]=new lo({silent:!0,invisible:!0,style:Ms(ze,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:ze.getTextColor(),font:ze.getFont()}),z2:10}))},this);var w=C;if(_){var D=kn(h.get("moveHandleSize"),d[1]),T=n.moveHandle=new kr({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:d[1]-.5,height:D}}),I=.8*D,F=n.moveHandleIcon=Ma(h.get("moveHandleIcon"),-I/2,-I/2,I,I,"#fff",!0);F.silent=!0,F.y=d[1]+D/2-.5,T.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var V=Math.min(d[1]/2,Math.max(D,10));(w=n.moveZone=new kr({invisible:!0,shape:{y:d[1]-V,height:D+V}})).on("mouseover",function(){f.enterEmphasis(T)}).on("mouseout",function(){f.leaveEmphasis(T)}),l.add(T),l.add(F),l.add(w)}w.attr({draggable:!0,cursor:AG(this._orient),drift:at(this._onDragMove,this,"all"),ondragstart:at(this._showDataInfo,this,!0),ondragend:at(this._onDragEnd,this),onmouseover:at(this._showDataInfo,this,!0),onmouseout:at(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[gr(e[0],[0,100],n,!0),gr(e[1],[0,100],n,!0)]},t.prototype._updateInterval=function(e,n){var s=this.dataZoomModel,a=this._handleEnds,l=this._getViewExtent(),d=s.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];ab(n,a,l,s.get("zoomLock")?"all":e,null!=d.minSpan?gr(d.minSpan,h,l,!0):null,null!=d.maxSpan?gr(d.maxSpan,h,l,!0):null);var f=this._range,m=this._range=Hl([gr(a[0],l,h,!0),gr(a[1],l,h,!0)]);return!f||f[0]!==m[0]||f[1]!==m[1]},t.prototype._updateView=function(e){var n=this._displayables,s=this._handleEnds,a=Hl(s.slice()),l=this._size;te([0,1],function(w){var T=this._handleHeight;n.handles[w].attr({scaleX:T/2,scaleY:T/2,x:s[w]+(w?-1:1),y:l[1]/2-T/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:l[1]});var d={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(d),n.moveZone.setShape(d),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",d.x+d.width/2));for(var h=n.dataShadowSegs,f=[0,a[0],a[1],l[0]],m=0;m<h.length;m++){var _=h[m],C=_.getClipPath();C||(C=new kr,_.setClipPath(C)),C.setShape({x:f[m],y:0,width:f[m+1]-f[m],height:l[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var n=this.dataZoomModel,s=this._displayables,a=s.handleLabels,l=this._orient,d=["",""];if(n.get("showDetail")){var h=n.findRepresentativeAxisProxy();if(h){var f=h.getAxisModel().axis,m=this._range,_=e?h.calculateDataWindow({start:m[0],end:m[1]}).valueWindow:h.getDataValueWindow();d=[this._formatLabel(_[0],f),this._formatLabel(_[1],f)]}}var C=Hl(this._handleEnds.slice());function w(D){var T=Jp(s.handles[D].parent,this.group),I=hC(0===D?"right":"left",T),F=this._handleWidth/2+5,V=$u([C[D]+(0===D?-F:F),this._size[1]/2],T);a[D].setStyle({x:V[0],y:V[1],verticalAlign:l===tD?"middle":I,align:l===tD?I:"center",text:d[D]})}w.call(this,0),w.call(this,1)},t.prototype._formatLabel=function(e,n){var s=this.dataZoomModel,a=s.get("labelFormatter"),l=s.get("labelPrecision");(null==l||"auto"===l)&&(l=n.getPixelPrecision());var d=null==e||isNaN(e)?"":"category"===n.type||"time"===n.type?n.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(l,20));return Nt(a)?a(e,d):Ii(a)?a.replace("{value}",d):d},t.prototype._showDataInfo=function(e){var n=this._displayables,s=n.handleLabels;s[0].attr("invisible",!(e=this._dragging||e)),s[1].attr("invisible",!e),n.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},t.prototype._onDragMove=function(e,n,s,a){this._dragging=!0,ot(a.event);var d=$u([n,s],this._displayables.sliderGroup.getLocalTransform(),!0),h=this._updateInterval(e,d[0]),f=this.dataZoomModel.get("realtime");this._updateView(!f),h&&f&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var n=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(s[0]<0||s[0]>n[0]||s[1]<0||s[1]>n[1])){var a=this._handleEnds,d=this._updateInterval("all",s[0]-(a[0]+a[1])/2);this._updateView(),d&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new sr(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr("ignore",!0);var s=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(s.width)<5)){var l=this._getViewExtent(),d=[0,100];this._range=Hl([gr(s.x,l,d,!0),gr(s.x+s.width,l,d,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(ot(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,n){var s=this._displayables,l=s.brushRect;l||(l=s.brushRect=new eD({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(l)),l.attr("ignore",!1);var d=this._brushStart,h=this._displayables.sliderGroup,f=h.transformCoordToLocal(e,n),m=h.transformCoordToLocal(d.x,d.y),_=this._size;f[0]=Math.max(Math.min(_[0],f[0]),0),l.setShape({x:m[0],y:0,width:f[0]-m[0],height:_[1]})},t.prototype._dispatchZoomAction=function(e){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?aQ:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var e,n=yV(this.dataZoomModel).infoList;if(!e&&n.length){var s=n[0].model.coordinateSystem;e=s.getRect&&s.getRect()}if(!e){var a=this.api.getWidth(),l=this.api.getHeight();e={x:.2*a,y:.2*l,width:.6*a,height:.6*l}}return e},t.type="dataZoom.slider",t}(mk);function AG(i){return"vertical"===i?"ns-resize":"ew-resize"}const dQ=lQ;function TG(i){i.registerComponentModel(iQ),i.registerComponentView(dQ),vk(i)}var hQ={get:function(i,t,e){var n=xe((pQ[i]||{})[t]);return e&&Me(n)?n[n.length-1]:n}},pQ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const MG=hQ;var RG=vd.mapVisual,fQ=vd.eachVisual,gQ=Me,IG=te,mQ=Hl,vQ=gr,yQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return P(t,i),t.prototype.init=function(e,n,s){this.mergeDefaultAndTheme(e,s)},t.prototype.optionUpdated=function(e,n){!n&&XV(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var n=this.stateList;e=at(e,this),this.controllerVisuals=Ek(this.option.controller,n,e),this.targetVisuals=Ek(this.option.target,n,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,n=[];return null==e||"all"===e?this.ecModel.eachSeries(function(s,a){n.push(a)}):n=Fr(e),n},t.prototype.eachTargetSeries=function(e,n){te(this.getTargetSeriesIndices(),function(s){var a=this.ecModel.getSeriesByIndex(s);a&&e.call(n,a)},this)},t.prototype.isTargetSeries=function(e){var n=!1;return this.eachTargetSeries(function(s){s===e&&(n=!0)}),n},t.prototype.formatValueText=function(e,n,s){var f,a=this.option,l=a.precision,d=this.dataBound,h=a.formatter;s=s||["<",">"],Me(e)&&(e=e.slice(),f=!0);var m=n?e:f?[_(e[0]),_(e[1])]:_(e);return Ii(h)?h.replace("{value}",f?m[0]:m).replace("{value2}",f?m[1]:m):Nt(h)?f?h(e[0],e[1]):h(e):f?e[0]===d[0]?s[0]+" "+m[1]:e[1]===d[1]?s[1]+" "+m[0]:m[0]+" - "+m[1]:m;function _(C){return C===d[0]?"min":C===d[1]?"max":(+C).toFixed(Math.min(l,20))}},t.prototype.resetExtent=function(){var e=this.option,n=mQ([e.min,e.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(e){var n=this.option.dimension;if(null!=n)return e.getDimensionIndex(n);for(var s=e.dimensions,a=s.length-1;a>=0;a--){var d=e.getDimensionInfo(s[a]);if(!d.isCalculationCoord)return d.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,n=this.option,s={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),l=n.controller||(n.controller={});Pt(a,s),Pt(l,s);var d=this.isCategory();function h(_){gQ(n.color)&&!_.inRange&&(_.inRange={color:n.color.slice().reverse()}),_.inRange=_.inRange||{color:e.get("gradientColor")}}h.call(this,a),h.call(this,l),function f(_,C,w){var D=_[C],T=_[w];D&&!T&&(T=_[w]={},IG(D,function(I,F){if(vd.isValidType(F)){var V=MG.get(F,"inactive",d);null!=V&&(T[F]=V,"color"===F&&!T.hasOwnProperty("opacity")&&!T.hasOwnProperty("colorAlpha")&&(T.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function m(_){var C=(_.inRange||{}).symbol||(_.outOfRange||{}).symbol,w=(_.inRange||{}).symbolSize||(_.outOfRange||{}).symbolSize,D=this.get("inactiveColor"),I=this.getItemSymbol()||"roundRect";IG(this.stateList,function(F){var V=this.itemSize,H=_[F];H||(H=_[F]={color:d?D:[D]}),null==H.symbol&&(H.symbol=C&&xe(C)||(d?I:[I])),null==H.symbolSize&&(H.symbolSize=w&&xe(w)||(d?V[0]:[V[0],V[0]])),H.symbol=RG(H.symbol,function(de){return"none"===de?I:de});var re=H.symbolSize;if(null!=re){var fe=-1/0;fQ(re,function(de){de>fe&&(fe=de)}),H.symbolSize=RG(re,function(de){return vQ(de,[0,fe],[0,V[0]],!0)})}},this)}.call(this,l)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(go);const nM=yQ;var PG=[20,140],_Q=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=PG[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=PG[1])},t.prototype._resetRange=function(){var e=this.getExtent(),n=this.option.range;!n||n.auto?(e.auto=1,this.option.range=e):Me(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],e[0]),n[1]=Math.min(n[1],e[1]))},t.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),te(this.stateList,function(e){var n=this.option.controller[e].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),n=Hl((this.get("range")||[]).slice());return n[0]>e[1]&&(n[0]=e[1]),n[1]>e[1]&&(n[1]=e[1]),n[0]<e[0]&&(n[0]=e[0]),n[1]<e[0]&&(n[1]=e[0]),n},t.prototype.getValueState=function(e){var n=this.option.range,s=this.getExtent();return(n[0]<=s[0]||n[0]<=e)&&(n[1]>=s[1]||e<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[];return this.eachTargetSeries(function(s){var a=[],l=s.getData();l.each(this.getDataDimensionIndex(l),function(d,h){e[0]<=d&&d<=e[1]&&a.push(h)},this),n.push({seriesId:s.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(e){var n=kG(0,0,this.getExtent()),s=kG(0,0,this.option.range.slice()),a=[];function l(w,D){a.push({value:w,color:e(w,D)})}for(var d=0,h=0,f=s.length,m=n.length;h<m&&(!s.length||n[h]<=s[0]);h++)n[h]<s[d]&&l(n[h],"outOfRange");for(var _=1;d<f;d++,_=0)_&&a.length&&l(s[d],"outOfRange"),l(s[d],"inRange");for(_=1;h<m;h++)(!s.length||s[s.length-1]<n[h])&&(_&&(a.length&&l(a[a.length-1].value,"outOfRange"),_=0),l(n[h],"outOfRange"));var C=a.length;return{stops:a,outerColors:[C?a[0].color:"transparent",C?a[C-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Gn(nM.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(nM);function kG(i,t,e){if(e[0]===e[1])return e.slice();for(var s=(e[1]-e[0])/200,a=e[0],l=[],d=0;d<=200&&a<e[1];d++)l.push(a),a+=s;return l.push(e[1]),l}const bQ=_Q;var CQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return P(t,i),t.prototype.init=function(e,n){this.ecModel=e,this.api=n},t.prototype.render=function(e,n,s,a){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,n,s,a):this.group.removeAll()},t.prototype.renderBackground=function(e){var n=this.visualMapModel,s=Nf(n.get("padding")||0),a=e.getBoundingRect();e.add(new kr({z2:-1,silent:!0,shape:{x:a.x-s[3],y:a.y-s[0],width:a.width+s[3]+s[1],height:a.height+s[0]+s[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,n,s){var a=(s=s||{}).forceState,l=this.visualMapModel,d={};if("color"===n){var h=l.get("contentColor");d.color=h}function f(w){return d[w]}function m(w,D){d[w]=D}var _=l.controllerVisuals[a||l.getValueState(e)];return te(vd.prepareVisualTypes(_),function(w){var D=_[w];s.convertOpacityToAlpha&&"opacity"===w&&(w="colorAlpha",D=_.__alphaForOpacity),vd.dependsOn(w,n)&&D&&D.applyVisual(e,f,m)}),d[n]},t.prototype.positionGroup=function(e){var s=this.api;Wy(e,this.visualMapModel.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},t.prototype.doRender=function(e,n,s,a){},t.type="visualMap",t}(Ks);const FG=CQ;var OG=[["left","right","width"],["top","bottom","height"]];function LG(i,t,e){var n=i.option,s=n.align;if(null!=s&&"auto"!==s)return s;for(var a={width:t.getWidth(),height:t.getHeight()},l="horizontal"===n.orient?1:0,d=OG[l],h=[0,null,10],f={},m=0;m<3;m++)f[OG[1-l][m]]=h[m],f[d[m]]=2===m?e[0]:n[d[m]];var _=[["x","width",3],["y","height",0]][l],C=pl(f,a,n.padding);return d[(C.margin[_[2]]||0)+C[_[0]]+.5*C[_[1]]<.5*a[_[1]]?0:1]}function rM(i,t){return te(i||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),i}var eg=gr,wQ=te,NG=Math.min,Kk=Math.max,DQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return P(t,i),t.prototype.init=function(e,n){i.prototype.init.call(this,e,n),this._hoverLinkFromSeriesMouseOver=at(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=at(this._hideIndicator,this)},t.prototype.doRender=function(e,n,s,a){(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,n=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(n);var s=e.get("text");this._renderEndsText(n,s,0),this._renderEndsText(n,s,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(e,n,s){if(n){var a=n[1-s];a=null!=a?a+"":"";var l=this.visualMapModel,d=l.get("textGap"),h=l.itemSize,f=this._shapes.mainGroup,m=this._applyTransform([h[0]/2,0===s?-d:h[1]+d],f),_=this._applyTransform(0===s?"bottom":"top",f),C=this._orient;this.group.add(new lo({style:Ms(this.visualMapModel.textStyleModel,{x:m[0],y:m[1],verticalAlign:"horizontal"===C?"middle":_,align:"horizontal"===C?_:"center",text:a})}))}},t.prototype._renderBar=function(e){var n=this.visualMapModel,s=this._shapes,a=n.itemSize,l=this._orient,d=this._useHandle,h=LG(n,this.api,a),f=s.mainGroup=this._createBarGroup(h),m=new zn;f.add(m),m.add(s.outOfRange=BG()),m.add(s.inRange=BG(null,d?GG(this._orient):null,at(this._dragHandle,this,"all",!1),at(this._dragHandle,this,"all",!0))),m.setClipPath(new kr({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var _=n.textStyleModel.getTextRect("\u56fd"),C=Kk(_.width,_.height);d&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(n,f,0,a,C,l),this._createHandle(n,f,1,a,C,l)),this._createIndicator(n,f,a,C,l),e.add(f)},t.prototype._createHandle=function(e,n,s,a,l,d){var h=at(this._dragHandle,this,s,!1),f=at(this._dragHandle,this,s,!0),m=Ed(e.get("handleSize"),a[0]),_=Ma(e.get("handleIcon"),-m/2,-m/2,m,m,null,!0),C=GG(this._orient);_.attr({cursor:C,draggable:!0,drift:h,ondragend:f,onmousemove:function(F){ot(F.event)}}),_.x=a[0]/2,_.useStyle(e.getModel("handleStyle").getItemStyle()),_.setStyle({strokeNoScale:!0,strokeFirst:!0}),_.style.lineWidth*=2,_.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),gh(_,!0),n.add(_);var D=new lo({cursor:C,draggable:!0,drift:h,onmousemove:function(F){ot(F.event)},ondragend:f,style:Ms(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});D.ensureState("blur").style={opacity:.1},D.stateTransition={duration:200},this.group.add(D);var T=[m,0],I=this._shapes;I.handleThumbs[s]=_,I.handleLabelPoints[s]=T,I.handleLabels[s]=D},t.prototype._createIndicator=function(e,n,s,a,l){var d=Ed(e.get("indicatorSize"),s[0]),h=Ma(e.get("indicatorIcon"),-d/2,-d/2,d,d,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var f=e.getModel("indicatorStyle").getItemStyle();if(h instanceof hs){var m=h.style;h.useStyle(Dt({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},f))}else h.useStyle(f);n.add(h);var C=new lo({silent:!0,invisible:!0,style:Ms(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(C);var w=[("horizontal"===l?a/2:6)+s[0]/2,0],D=this._shapes;D.indicator=h,D.indicatorLabel=C,D.indicatorLabelPoint=w,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,n,s,a){if(this._useHandle){if(this._dragging=!n,!n){var l=this._applyTransform([s,a],this._shapes.mainGroup,!0);this._updateInterval(e,l[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():VG(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,n=this._dataInterval=e.getSelected(),s=e.getExtent(),a=[0,e.itemSize[1]];this._handleEnds=[eg(n[0],s,a,!0),eg(n[1],s,a,!0)]},t.prototype._updateInterval=function(e,n){var s=this.visualMapModel,a=this._handleEnds,l=[0,s.itemSize[1]];ab(n=n||0,a,l,e,0);var d=s.getExtent();this._dataInterval=[eg(a[0],l,d,!0),eg(a[1],l,d,!0)]},t.prototype._updateView=function(e){var n=this.visualMapModel,s=n.getExtent(),a=this._shapes,l=[0,n.itemSize[1]],d=e?l:this._handleEnds,h=this._createBarVisual(this._dataInterval,s,d,"inRange"),f=this._createBarVisual(s,s,l,"outOfRange");a.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),a.outOfRange.setStyle({fill:f.barColor}).setShape("points",f.barPoints),this._updateHandle(d,h)},t.prototype._createBarVisual=function(e,n,s,a){var l={forceState:a,convertOpacityToAlpha:!0},d=this._makeColorGradient(e,l),h=[this.getControllerVisual(e[0],"symbolSize",l),this.getControllerVisual(e[1],"symbolSize",l)],f=this._createBarPoints(s,h);return{barColor:new am(0,0,0,1,d),barPoints:f,handlesColor:[d[0].color,d[d.length-1].color]}},t.prototype._makeColorGradient=function(e,n){var a=[],l=(e[1]-e[0])/100;a.push({color:this.getControllerVisual(e[0],"color",n),offset:0});for(var d=1;d<100;d++){var h=e[0]+l*d;if(h>e[1])break;a.push({color:this.getControllerVisual(h,"color",n),offset:d/100})}return a.push({color:this.getControllerVisual(e[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(e,n){var s=this.visualMapModel.itemSize;return[[s[0]-n[0],e[0]],[s[0],e[0]],[s[0],e[1]],[s[0]-n[1],e[1]]]},t.prototype._createBarGroup=function(e){var n=this._orient,s=this.visualMapModel.get("inverse");return new zn("horizontal"!==n||s?"horizontal"===n&&s?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==n||s?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,n){if(this._useHandle){var s=this._shapes,a=this.visualMapModel,l=s.handleThumbs,d=s.handleLabels,h=a.itemSize,f=a.getExtent();wQ([0,1],function(m){var _=l[m];_.setStyle("fill",n.handlesColor[m]),_.y=e[m];var C=eg(e[m],[0,h[1]],f,!0),w=this.getControllerVisual(C,"symbolSize");_.scaleX=_.scaleY=w/h[0],_.x=h[0]-w/2;var D=$u(s.handleLabelPoints[m],Jp(_,this.group));d[m].setStyle({x:D[0],y:D[1],text:a.formatValueText(this._dataInterval[m]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",s.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,n,s,a){var l=this.visualMapModel,d=l.getExtent(),h=l.itemSize,f=[0,h[1]],m=this._shapes,_=m.indicator;if(_){_.attr("invisible",!1);var w=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),D=this.getControllerVisual(e,"symbolSize"),T=eg(e,d,f,!0),I=h[0]-D/2,F={x:_.x,y:_.y};_.y=T,_.x=I;var V=$u(m.indicatorLabelPoint,Jp(_,this.group)),H=m.indicatorLabel;H.attr("invisible",!1);var re=this._applyTransform("left",m.mainGroup),de="horizontal"===this._orient;H.setStyle({text:(s||"")+l.formatValueText(n),verticalAlign:de?re:"middle",align:de?"center":re});var Ee={x:I,y:T,style:{fill:w}},Ue={style:{x:V[0],y:V[1]}};if(l.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var ze={duration:100,easing:"cubicInOut",additive:!0};_.x=F.x,_.y=F.y,_.animateTo(Ee,ze),H.animateTo(Ue,ze)}else _.attr(Ee),H.attr(Ue);this._firstShowIndicator=!1;var nt=this._shapes.handleLabels;if(nt)for(var gt=0;gt<nt.length;gt++)this.api.enterBlur(nt[gt])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(n){if(e._hovering=!0,!e._dragging){var s=e.visualMapModel.itemSize,a=e._applyTransform([n.offsetX,n.offsetY],e._shapes.mainGroup,!0,!0);a[1]=NG(Kk(0,a[1]),s[1]),e._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=s[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,n){var s=this.visualMapModel;if(s.option.hoverLink){var l=[0,s.itemSize[1]],d=s.getExtent();e=NG(Kk(l[0],e),l[1]);var h=function EQ(i,t,e){var n=6,s=i.get("hoverLinkDataSize");return s&&(n=eg(s,t,e,!0)/2),n}(s,d,l),f=[e-h,e+h],m=eg(e,l,d,!0),_=[eg(f[0],l,d,!0),eg(f[1],l,d,!0)];f[0]<l[0]&&(_[0]=-1/0),f[1]>l[1]&&(_[1]=1/0),n&&(_[0]===-1/0?this._showIndicator(m,_[1],"< ",h):_[1]===1/0?this._showIndicator(m,_[0],"> ",h):this._showIndicator(m,m,"\u2248 ",h));var C=this._hoverLinkDataIndices,w=[];(n||VG(s))&&(w=this._hoverLinkDataIndices=s.findTargetDataIndices(_));var D=function Ge(i,t){var e={},n={};return s(i||[],e),s(t||[],n,e),[a(e),a(n)];function s(l,d,h){for(var f=0,m=l.length;f<m;f++){var _=Ns(l[f].seriesId,null);if(null==_)return;for(var C=Fr(l[f].dataIndex),w=h&&h[_],D=0,T=C.length;D<T;D++){var I=C[D];w&&w[I]?w[I]=null:(d[_]||(d[_]={}))[I]=1}}}function a(l,d){var h=[];for(var f in l)if(l.hasOwnProperty(f)&&null!=l[f])if(d)h.push(+f);else{var m=a(l[f],!0);m.length&&h.push({seriesId:f,dataIndex:m})}return h}}(C,w);this._dispatchHighDown("downplay",rM(D[0],s)),this._dispatchHighDown("highlight",rM(D[1],s))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var n;if($f(e.target,function(h){var f=dr(h);if(null!=f.dataIndex)return n=f,!0},!0),n){var s=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(s)){var l=s.getData(n.dataType),d=l.getStore().get(a.getDataDimensionIndex(l),n.dataIndex);isNaN(d)||this._showIndicator(d,d)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var s=0;s<n.length;s++)this.api.leaveBlur(n[s])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",rM(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,n,s,a){var l=Jp(n,a?null:this.group);return Me(e)?$u(e,l,s):hC(e,l,s)},t.prototype._dispatchHighDown=function(e,n){n&&n.length&&this.api.dispatchAction({type:e,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(FG);function BG(i,t,e,n){return new td({shape:{points:i},draggable:!!e,cursor:t,drift:e,onmousemove:function(s){ot(s.event)},ondragend:n})}function VG(i){return!!(i.get("hoverLinkOnHandle")??i.get("realtime"))}function GG(i){return"vertical"===i?"ns-resize":"ew-resize"}const AQ=DQ;var TQ={type:"selectDataRange",event:"dataRangeSelected",update:"update"},MQ=function(i,t){t.eachComponent({mainType:"visualMap",query:i},function(e){e.setSelected(i.selected)})},RQ=[{createOnAllSeries:!0,reset:function(i,t){var e=[];return t.eachComponent("visualMap",function(n){var s=i.pipelineContext;!n.isTargetSeries(i)||s&&s.large||e.push(function SX(i,t,e,n){var s={};return te(i,function(a){var l=vd.prepareVisualTypes(t[a]);s[a]=l}),{progress:function(l,d){var h;function f(fe){return lx(d,_,fe)}function m(fe,de){OE(d,_,fe,de)}null!=n&&(h=d.getDimensionIndex(n));for(var _,C=d.getStore();null!=(_=l.next());){var w=d.getRawDataItem(_);if(!w||!1!==w.visualMap)for(var D=null!=n?C.get(h,_):_,T=e(D),I=t[T],F=s[T],V=0,H=F.length;V<H;V++){var re=F[V];I[re]&&I[re].applyVisual(D,f,m)}}}}}(n.stateList,n.targetVisuals,at(n.getValueState,n),n.getDataDimensionIndex(i.getData())))}),e}},{createOnAllSeries:!0,reset:function(i,t){var e=i.getData(),n=[];t.eachComponent("visualMap",function(s){if(s.isTargetSeries(i)){var a=s.getVisualMeta(at(IQ,null,i,s))||{stops:[],outerColors:[]},l=s.getDataDimensionIndex(e);l>=0&&(a.dimension=l,n.push(a))}}),i.getData().setVisual("visualMeta",n)}}];function IQ(i,t,e,n){for(var s=t.targetVisuals[n],a=vd.prepareVisualTypes(s),l={color:w_(i.getData(),"color")},d=0,h=a.length;d<h;d++){var f=a[d],m=s["opacity"===f?"__alphaForOpacity":f];m&&m.applyVisual(e,_,C)}return l.color;function _(w){return l[w]}function C(w,D){l[w]=D}}var HG=te;function PQ(i){var t=i&&i.visualMap;Me(t)||(t=t?[t]:[]),HG(t,function(e){if(e){h0(e,"splitList")&&!h0(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var n=e.pieces;n&&Me(n)&&HG(n,function(s){Zi(s)&&(h0(s,"start")&&!h0(s,"min")&&(s.min=s.start),h0(s,"end")&&!h0(s,"max")&&(s.max=s.end))})}})}function h0(i,t){return i&&i.hasOwnProperty&&i.hasOwnProperty(t)}var UG=!1;function zG(i){UG||(UG=!0,i.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),i.registerAction(TQ,MQ),te(RQ,function(t){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,t)}),i.registerPreprocessor(PQ))}function WG(i){i.registerComponentModel(bQ),i.registerComponentView(AQ),zG(i)}var kQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return P(t,i),t.prototype.optionUpdated=function(e,n){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],FQ[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var a=this.option.categories;this.resetVisual(function(l,d){"categories"===s?(l.mappingMethod="category",l.categories=xe(a)):(l.dataExtent=this.getExtent(),l.mappingMethod="piecewise",l.pieceList=ge(this._pieceList,function(h){return h=xe(h),"inRange"!==d&&(h.visual=null),h}))})},t.prototype.completeVisualOption=function(){var e=this.option,n={},s=vd.listVisualTypes(),a=this.isCategory();function l(d,h,f){return d&&d[h]&&d[h].hasOwnProperty(f)}te(e.pieces,function(d){te(s,function(h){d.hasOwnProperty(h)&&(n[h]=1)})}),te(n,function(d,h){var f=!1;te(this.stateList,function(m){f=f||l(e,m,h)||l(e.target,m,h)},this),!f&&te(this.stateList,function(m){(e[m]||(e[m]={}))[h]=MG.get(h,"inRange"===m?"active":"inactive",a)})},this),i.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,n){var s=this.option,a=this._pieceList,l=(n?s:e).selected||{};if(s.selected=l,te(a,function(h,f){var m=this.getSelectedMapKey(h);l.hasOwnProperty(m)||(l[m]=!0)},this),"single"===s.selectedMode){var d=!1;te(a,function(h,f){var m=this.getSelectedMapKey(h);l[m]&&(d?l[m]=!1:d=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=xe(e)},t.prototype.getValueState=function(e){var n=vd.findPieceIndex(e,this._pieceList);return null!=n&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var n=[],s=this._pieceList;return this.eachTargetSeries(function(a){var l=[],d=a.getData();d.each(this.getDataDimensionIndex(d),function(h,f){vd.findPieceIndex(h,s)===e&&l.push(f)},this),n.push({seriesId:a.id,dataIndex:l})},this),n},t.prototype.getRepresentValue=function(e){var n;if(this.isCategory())n=e.value;else if(null!=e.value)n=e.value;else{var s=e.interval||[];n=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return n},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var n=[],s=["",""],a=this,d=this._pieceList.slice();if(d.length){var h=d[0].interval[0];h!==-1/0&&d.unshift({interval:[-1/0,h]}),(h=d[d.length-1].interval[1])!==1/0&&d.push({interval:[h,1/0]})}else d.push({interval:[-1/0,1/0]});var f=-1/0;return te(d,function(m){var _=m.interval;_&&(_[0]>f&&l([f,_[0]],"outOfRange"),l(_.slice()),f=_[1])},this),{stops:n,outerColors:s}}function l(m,_){var C=a.getRepresentValue({interval:m});_||(_=a.getValueState(C));var w=e(C,_);m[0]===-1/0?s[0]=w:m[1]===1/0?s[1]=w:n.push({value:m[0],color:w},{value:m[1],color:w})}},t.type="visualMap.piecewise",t.defaultOption=Gn(nM.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(nM),FQ={splitNumber:function(i){var t=this.option,e=Math.min(t.precision,20),n=this.getExtent(),s=t.splitNumber;s=Math.max(parseInt(s,10),1),t.splitNumber=s;for(var a=(n[1]-n[0])/s;+a.toFixed(e)!==a&&e<5;)e++;t.precision=e,a=+a.toFixed(e),t.minOpen&&i.push({interval:[-1/0,n[0]],close:[0,0]});for(var l=0,d=n[0];l<s;d+=a,l++)i.push({interval:[d,l===s-1?n[1]:d+a],close:[1,1]});t.maxOpen&&i.push({interval:[n[1],1/0],close:[0,0]}),Ad(i),te(i,function(f,m){f.index=m,f.text=this.formatValueText(f.interval)},this)},categories:function(i){var t=this.option;te(t.categories,function(e){i.push({text:this.formatValueText(e,!0),value:e})},this),jG(t,i)},pieces:function(i){var t=this.option;te(t.pieces,function(e,n){Zi(e)||(e={value:e});var s={text:"",index:n};if(null!=e.label&&(s.text=e.label),e.hasOwnProperty("value")){var a=s.value=e.value;s.interval=[a,a],s.close=[1,1]}else{for(var l=s.interval=[],d=s.close=[0,0],h=[1,0,1],f=[-1/0,1/0],m=[],_=0;_<2;_++){for(var C=[["gte","gt","min"],["lte","lt","max"]][_],w=0;w<3&&null==l[_];w++)l[_]=e[C[w]],d[_]=h[w],m[_]=2===w;null==l[_]&&(l[_]=f[_])}m[0]&&l[1]===1/0&&(d[0]=0),m[1]&&l[0]===-1/0&&(d[1]=0),l[0]===l[1]&&d[0]&&d[1]&&(s.value=l[0])}s.visual=vd.retrieveVisuals(e),i.push(s)},this),jG(t,i),Ad(i),te(i,function(e){var n=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][n[1]],[">","\u2265"][n[0]]])},this)}};function jG(i,t){var e=i.inverse;("vertical"===i.orient?!e:e)&&t.reverse()}const OQ=kQ;var LQ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type=t.type,e}return P(t,i),t.prototype.doRender=function(){var e=this.group;e.removeAll();var n=this.visualMapModel,s=n.get("textGap"),a=n.textStyleModel,l=a.getFont(),d=a.getTextColor(),h=this._getItemAlign(),f=n.itemSize,m=this._getViewData(),_=m.endsText,C=ln(n.get("showLabel",!0),!_);_&&this._renderEndsText(e,_[0],f,C,h),te(m.viewPieceList,function(w){var D=w.piece,T=new zn;T.onclick=at(this._onItemClick,this,D),this._enableHoverLink(T,w.indexInModelPieceList);var I=n.getRepresentValue(D);if(this._createItemSymbol(T,I,[0,0,f[0],f[1]]),C){var F=this.visualMapModel.getValueState(I);T.add(new lo({style:{x:"right"===h?-s:f[0]+s,y:f[1]/2,text:D.text,verticalAlign:"middle",align:h,font:l,fill:d,opacity:"outOfRange"===F?.5:1}}))}e.add(T)},this),_&&this._renderEndsText(e,_[1],f,C,h),Vf(n.get("orient"),e,n.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,n){var s=this;e.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(l){var d=s.visualMapModel;d.option.hoverLink&&s.api.dispatchAction({type:l,batch:rM(d.findTargetDataIndices(n),d)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,n=e.option;if("vertical"===n.orient)return LG(e,this.api,e.itemSize);var s=n.align;return(!s||"auto"===s)&&(s="left"),s},t.prototype._renderEndsText=function(e,n,s,a,l){if(n){var d=new zn;d.add(new lo({style:Ms(this.visualMapModel.textStyleModel,{x:a?"right"===l?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:a?l:"center",text:n})})),e.add(d)}},t.prototype._getViewData=function(){var e=this.visualMapModel,n=ge(e.getPieceList(),function(d,h){return{piece:d,indexInModelPieceList:h}}),s=e.get("text"),a=e.get("orient"),l=e.get("inverse");return("horizontal"===a?l:!l)?n.reverse():s&&(s=s.slice().reverse()),{viewPieceList:n,endsText:s}},t.prototype._createItemSymbol=function(e,n,s){e.add(Ma(this.getControllerVisual(n,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(n,"color")))},t.prototype._onItemClick=function(e){var n=this.visualMapModel,s=n.option,a=s.selectedMode;if(a){var l=xe(s.selected),d=n.getSelectedMapKey(e);"single"===a||!0===a?(l[d]=!0,te(l,function(h,f){l[f]=f===d})):l[d]=!l[d],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})}},t.type="visualMap.piecewise",t}(FG);const NQ=LQ;function $G(i){i.registerComponentModel(OQ),i.registerComponentView(NQ),zG(i)}var VQ={label:{enabled:!0},decal:{show:!1}},KG=Xe(),GQ={};function HQ(i,t){var e=i.getModel("aria");if(e.get("enabled")){var n=xe(VQ);Pt(n.label,i.getLocaleModel().get("aria"),!1),Pt(e.option,n,!1),function s(){if(e.getModel("decal").get("show")){var _=Rn();i.eachSeries(function(C){if(!C.isColorBySeries()){var w=_.get(C.type);w||_.set(C.type,w={}),KG(C).scope=w}}),i.eachRawSeries(function(C){if(!i.isSeriesFiltered(C))if(Nt(C.enableAriaDecal))C.enableAriaDecal();else{var w=C.getData();if(C.isColorBySeries()){var V=yh(C.ecModel,C.name,GQ,i.getSeriesCount()),H=w.getVisual("decal");w.setVisual("decal",re(H,V))}else{var D=C.getRawData(),T={},I=KG(C).scope;w.each(function(fe){var de=w.getRawIndex(fe);T[de]=fe});var F=D.count();D.each(function(fe){var de=T[fe],Ee=D.getName(fe)||fe+"",Ue=yh(C.ecModel,Ee,I,F),ze=w.getItemVisual(de,"decal");w.setItemVisual(de,"decal",re(ze,Ue))})}}function re(fe,de){var Ee=fe?Dt(Dt({},de),fe):de;return Ee.dirty=!0,Ee}})}}(),function a(){var f=t.getZr().dom;if(f){var m=i.getLocaleModel().get("aria"),_=e.getModel("label");if(_.option=je(_.option,m),_.get("enabled")){if(_.get("description"))return void f.setAttribute("aria-label",_.get("description"));var I,C=i.getSeriesCount(),w=_.get(["data","maxCount"])||10,D=_.get(["series","maxCount"])||10,T=Math.min(C,D);if(!(C<1)){var F=function d(){var f=i.get("title");return f&&f.length&&(f=f[0]),f&&f.text}();I=F?l(_.get(["general","withTitle"]),{title:F}):_.get(["general","withoutTitle"]);var H=[];I+=l(_.get(C>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:C}),i.eachSeries(function(Ue,ze){if(ze<T){var nt=void 0,Vt=Ue.get("name")?"withName":"withoutName";nt=l(nt=_.get(C>1?["series","multiple",Vt]:["series","single",Vt]),{seriesId:Ue.seriesIndex,seriesName:Ue.get("name"),seriesType:h(Ue.subType)});var $t=Ue.getData();$t.count()>w?nt+=l(_.get(["data","partialData"]),{displayCnt:w}):nt+=_.get(["data","allData"]);for(var gi=_.get(["data","separator","middle"]),Pi=_.get(["data","separator","end"]),Yi=[],ji=0;ji<$t.count();ji++)if(ji<w){var rn=$t.getName(ji),bn=$t.getValues(ji),In=_.get(["data",rn?"withName":"withoutName"]);Yi.push(l(In,{name:rn,value:bn.join(gi)}))}nt+=Yi.join(gi)+Pi,H.push(nt)}});var fe=_.getModel(["series","multiple","separator"]),de=fe.get("middle"),Ee=fe.get("end");I+=H.join(de)+Ee,f.setAttribute("aria-label",I)}}}}()}function l(f,m){if(!Ii(f))return f;var _=f;return te(m,function(C,w){_=_.replace(new RegExp("\\{\\s*"+w+"\\s*\\}","g"),C)}),_}function h(f){var m=i.getLocaleModel().get(["series","typeNames"]);return m[f]||m.chart}}function UQ(i){if(i&&i.aria){var t=i.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},te(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var XG={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},WQ=function(){function i(t){null==(this._condVal=Ii(t)?new RegExp(t):Ti(t)?t:null)&&qo("")}return i.prototype.evaluate=function(t){var e=typeof t;return Ii(e)?this._condVal.test(t):!!Di(e)&&this._condVal.test(t+"")},i}(),jQ=function(){function i(){}return i.prototype.evaluate=function(){return this.value},i}(),$Q=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},i}(),KQ=function(){function i(){}return i.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},i}(),XQ=function(){function i(){}return i.prototype.evaluate=function(){return!this.child.evaluate()},i}(),YQ=function(){function i(){}return i.prototype.evaluate=function(){for(var t=!!this.valueParser,n=(0,this.getValue)(this.valueGetterParam),s=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?s:n))return!1;return!0},i}();function Xk(i,t){if(!0===i||!1===i){var e=new jQ;return e.value=i,e}return QG(i)||qo(""),i.and?YG("and",i,t):i.or?YG("or",i,t):i.not?function QQ(i,t){var e=i.not;QG(e)||qo("");var s=new XQ;return s.child=Xk(e,t),s.child||qo(""),s}(i,t):function ZQ(i,t){for(var n=t.prepareGetValue(i),s=[],a=Ri(i),l=i.parser,d=l?Yb(l):null,h=0;h<a.length;h++){var f=a[h];if("parser"!==f&&!t.valueGetterAttrMap.get(f)){var m=oe(XG,f)?XG[f]:f,_=i[f],C=d?d(_):_,w=KM(m,C)||"reg"===m&&new WQ(C);w||qo(""),s.push(w)}}s.length||qo("");var D=new YQ;return D.valueGetterParam=n,D.valueParser=d,D.getValue=t.getValue,D.subCondList=s,D}(i,t)}function YG(i,t,e){var n=t[i];Me(n)||qo(""),n.length||qo("");var a="and"===i?new $Q:new KQ;return a.children=ge(n,function(l){return Xk(l,e)}),a.children.length||qo(""),a}function QG(i){return Zi(i)&&!Pe(i)}var qQ=function(){function i(t,e){this._cond=Xk(t,e)}return i.prototype.evaluate=function(){return this._cond.evaluate()},i}(),eZ={type:"echarts:filter",transform:function(i){for(var e,t=i.upstream,n=function JQ(i,t){return new qQ(i,t)}(i.config,{valueGetterAttrMap:Rn({dimension:!0}),prepareGetValue:function(d){var f=d.dimension;oe(d,"dimension")||qo("");var m=t.getDimensionInfo(f);return m||qo(""),{dimIdx:m.index}},getValue:function(d){return t.retrieveValueFromItem(e,d.dimIdx)}}),s=[],a=0,l=t.count();a<l;a++)e=t.getRawDataItem(a),n.evaluate()&&s.push(e);return{data:s}}},tZ={type:"echarts:sort",transform:function(i){var t=i.upstream,n="",s=Fr(i.config);s.length||qo(n);var a=[];te(s,function(m){var _=m.dimension,C=m.order,w=m.parser,D=m.incomparable;null==_&&qo(n),"asc"!==C&&"desc"!==C&&qo(n),D&&"min"!==D&&"max"!==D&&qo(""),"asc"!==C&&"desc"!==C&&qo("");var F=t.getDimensionInfo(_);F||qo(n);var V=w?Yb(w):null;w&&!V&&qo(n),a.push({dimIdx:F.index,parser:V,comparator:new jM(C,D)})});var l=t.sourceFormat;l!==Jc&&l!==Gd&&qo(n);for(var d=[],h=0,f=t.count();h<f;h++)d.push(t.getRawDataItem(h));return d.sort(function(m,_){for(var C=0;C<a.length;C++){var w=a[C],D=t.retrieveValueFromItem(m,w.dimIdx),T=t.retrieveValueFromItem(_,w.dimIdx);w.parser&&(D=w.parser(D),T=w.parser(T));var I=w.comparator.evaluate(D,T);if(0!==I)return I}return 0}),{data:d}}},nZ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataset",e}return P(t,i),t.prototype.init=function(e,n,s){i.prototype.init.call(this,e,n,s),this._sourceManager=new qb(this),_w(this)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),_w(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Zh},t}(go),rZ=function(i){function t(){var e=null!==i&&i.apply(this,arguments)||this;return e.type="dataset",e}return P(t,i),t.type="dataset",t}(Ks),tg=zl.CMD;function p0(i,t){return Math.abs(i-t)<1e-5}function Yk(i){var s,$t,hi,gi,Pi,Yi,ji,rn,bn,In,Vn,lr,ur,Yr,br,Jr,Lr,ir,t=i.data,e=i.len(),n=[],a=0,l=0,d=0,h=0;function f($t,hi){s&&s.length>2&&n.push(s),s=[$t,hi]}function m($t,hi,gi,Pi){p0($t,gi)&&p0(hi,Pi)||s.push($t,hi,gi,Pi,gi,Pi)}for(var C,w,D,T,I=0;I<e;){var F=t[I++],V=1===I;switch(V&&(d=a=t[I],h=l=t[I+1],(F===tg.L||F===tg.C||F===tg.Q)&&(s=[d,h])),F){case tg.M:a=d=t[I++],l=h=t[I++],f(d,h);break;case tg.L:m(a,l,C=t[I++],w=t[I++]),a=C,l=w;break;case tg.C:s.push(t[I++],t[I++],t[I++],t[I++],a=t[I++],l=t[I++]);break;case tg.Q:C=t[I++],w=t[I++],D=t[I++],T=t[I++],s.push(a+2/3*(C-a),l+2/3*(w-l),D+2/3*(C-D),T+2/3*(w-T),D,T),a=D,l=T;break;case tg.A:var H=t[I++],re=t[I++],fe=t[I++],de=t[I++],Ee=t[I++],Ue=t[I++]+Ee;I+=1;var ze=!t[I++];C=Math.cos(Ee)*fe+H,w=Math.sin(Ee)*de+re,V?f(d=C,h=w):m(a,l,C,w),a=Math.cos(Ue)*fe+H,l=Math.sin(Ue)*de+re;for(var nt=(ze?-1:1)*Math.PI/2,gt=Ee;ze?gt>Ue:gt<Ue;gt+=nt){$t=gt,hi=ze?Math.max(gt+nt,Ue):Math.min(gt+nt,Ue),gi=H,Pi=re,Yi=fe,ji=de,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,rn=Math.abs(hi-$t),bn=4*Math.tan(rn/4)/3,In=hi<$t?-1:1,Vn=Math.cos($t),lr=Math.sin($t),ur=Math.cos(hi),Yr=Math.sin(hi),s.push(Vn*Yi+gi-(Lr=Yi*bn*In)*lr,lr*ji+Pi+(ir=ji*bn*In)*Vn,(br=ur*Yi+gi)+Lr*Yr,(Jr=Yr*ji+Pi)-ir*ur,br,Jr)}break;case tg.R:d=a=t[I++],h=l=t[I++],C=d+t[I++],w=h+t[I++],f(C,h),m(C,h,C,w),m(C,w,d,w),m(d,w,d,h),m(d,h,C,h);break;case tg.Z:s&&m(a,l,d,h),a=d,l=h}}return s&&s.length>2&&n.push(s),n}function Qk(i,t,e,n,s,a,l,d,h,f){if(p0(i,e)&&p0(t,n)&&p0(s,l)&&p0(a,d))h.push(l,d);else{var m=2/f,_=m*m,C=l-i,w=d-t,D=Math.sqrt(C*C+w*w);C/=D,w/=D;var T=e-i,I=n-t,F=s-l,V=a-d,H=T*T+I*I,re=F*F+V*V;if(H<_&&re<_)h.push(l,d);else{var fe=C*T+w*I,de=-C*F-w*V;if(H-fe*fe<_&&fe>=0&&re-de*de<_&&de>=0)h.push(l,d);else{var ze=[],nt=[];Ya(i,e,s,l,.5,ze),Ya(t,n,a,d,.5,nt),Qk(ze[0],nt[0],ze[1],nt[1],ze[2],nt[2],ze[3],nt[3],h,f),Qk(ze[4],nt[4],ze[5],nt[5],ze[6],nt[6],ze[7],nt[7],h,f)}}}}function ZG(i,t,e){var a=Math.abs(i[t]/i[1-t]),l=Math.ceil(Math.sqrt(a*e)),d=Math.floor(e/l);0===d&&(d=1,l=e);for(var h=[],f=0;f<l;f++)h.push(d);var _=e-l*d;if(_>0)for(f=0;f<_;f++)h[f%l]+=1;return h}function qG(i,t,e){for(var n=i.r0,s=i.r,a=i.startAngle,d=Math.abs(i.endAngle-a),h=d*s,f=s-n,m=h>Math.abs(f),_=ZG([h,f],m?0:1,t),C=(m?d:f)/_.length,w=0;w<_.length;w++)for(var D=(m?f:d)/_[w],T=0;T<_[w];T++){var I={};m?(I.startAngle=a+C*w,I.endAngle=a+C*(w+1),I.r0=n+D*T,I.r=n+D*(T+1)):(I.startAngle=a+D*T,I.endAngle=a+D*(T+1),I.r0=n+C*w,I.r=n+C*(w+1)),I.clockwise=i.clockwise,I.cx=i.cx,I.cy=i.cy,e.push(I)}}function JG(i,t,e,n){return i*n-e*t}function lZ(i,t,e,n,s,a,l,d){var h=e-i,f=n-t,m=l-s,_=d-a,C=JG(m,_,h,f);if(Math.abs(C)<1e-6)return null;var T=JG(i-s,t-a,m,_)/C;return T<0||T>1?null:new sr(T*h+i,T*f+t)}function cZ(i,t,e){var n=new sr;sr.sub(n,e,t),n.normalize();var s=new sr;return sr.sub(s,i,t),s.dot(n)}function f0(i,t){var e=i[i.length-1];e&&e[0]===t[0]&&e[1]===t[1]||i.push(t)}function eH(i){var t=i.points,e=[],n=[];Tg(t,e,n);var s=new Qn(e[0],e[1],n[0]-e[0],n[1]-e[1]),a=s.width,l=s.height,d=s.x,h=s.y,f=new sr,m=new sr;return a>l?(f.x=m.x=d+a/2,f.y=h,m.y=h+l):(f.y=m.y=h+l/2,f.x=d,m.x=d+a),function dZ(i,t,e){for(var n=i.length,s=[],a=0;a<n;a++){var l=i[a],d=i[(a+1)%n],h=lZ(l[0],l[1],d[0],d[1],t.x,t.y,e.x,e.y);h&&s.push({projPt:cZ(h,t,e),pt:h,idx:a})}if(s.length<2)return[{points:i},{points:i}];s.sort(function(I,F){return I.projPt-F.projPt});var f=s[0],m=s[s.length-1];if(m.idx<f.idx){var _=f;f=m,m=_}var C=[f.pt.x,f.pt.y],w=[m.pt.x,m.pt.y],D=[C],T=[w];for(a=f.idx+1;a<=m.idx;a++)f0(D,i[a].slice());for(f0(D,w),f0(D,C),a=m.idx+1;a<=f.idx+n;a++)f0(T,i[a%n].slice());return f0(T,C),f0(T,w),[{points:D},{points:T}]}(t,f,m)}function oM(i,t,e,n){if(1===e)n.push(t);else{var s=Math.floor(e/2),a=i(t);oM(i,a[0],s,n),oM(i,a[1],e-s,n)}return n}function hZ(i,t){t.setStyle(i.style),t.z=i.z,t.z2=i.z2,t.zlevel=i.zlevel}function gZ(i,t){var e=i.length,n=t.length;if(e===n)return[i,t];for(var s=[],a=[],l=e<n?i:t,d=Math.min(e,n),h=Math.abs(n-e)/6,m=Math.ceil(h/((d-2)/6))+1,_=[l[0],l[1]],C=h,w=2;w<d;){var D=l[w-2],T=l[w-1],I=l[w++],F=l[w++],V=l[w++],H=l[w++],re=l[w++],fe=l[w++];if(C<=0)_.push(I,F,V,H,re,fe);else{for(var de=Math.min(C,m-1)+1,Ee=1;Ee<=de;Ee++){var Ue=Ee/de;Ya(D,I,V,re,Ue,s),Ya(T,F,H,fe,Ue,a),_.push(s[1],a[1],s[2],a[2],D=s[3],T=a[3]),I=s[5],F=a[5],V=s[6],H=a[6]}C-=de-1}}return l===i?[_,t]:[i,_]}function tH(i,t){for(var e=i.length,n=i[e-2],s=i[e-1],a=[],l=0;l<t.length;)a[l++]=n,a[l++]=s;return a}function iH(i){for(var t=0,e=0,n=0,s=i.length,a=0,l=s-2;a<s;l=a,a+=2){var d=i[l],h=i[l+1],f=i[a],m=i[a+1],_=d*m-f*h;t+=_,e+=(d+f)*_,n+=(h+m)*_}return 0===t?[i[0]||0,i[1]||0]:[e/t/3,n/t/3,t]}function vZ(i,t,e,n){for(var s=(i.length-2)/6,a=1/0,l=0,d=i.length,h=d-2,f=0;f<s;f++){for(var m=6*f,_=0,C=0;C<d;C+=2){var w=0===C?m:(m+C-2)%h+2,V=t[C]-n[0]-(i[w]-e[0]),H=t[C+1]-n[1]-(i[w+1]-e[1]);_+=V*V+H*H}_<a&&(a=_,l=f)}return l}function yZ(i){for(var t=[],e=i.length,n=0;n<e;n+=2)t[n]=i[e-n-2],t[n+1]=i[e-n-1];return t}function sM(i){return i.__isCombineMorphing}var nH="__mOriginal_";function aM(i,t,e){var n=nH+t,s=i[n]||i[t];i[n]||(i[n]=i[t]);var a=e.replace,l=e.after,d=e.before;i[t]=function(){var f,h=arguments;return d&&d.apply(this,h),f=a?a.apply(this,h):s.apply(this,h),l&&l.apply(this,h),f}}function iD(i,t){var e=nH+t;i[e]&&(i[t]=i[e],i[e]=null)}function rH(i,t){for(var e=0;e<i.length;e++)for(var n=i[e],s=0;s<n.length;){var a=n[s],l=n[s+1];n[s++]=t[0]*a+t[2]*l+t[4],n[s++]=t[1]*a+t[3]*l+t[5]}}function oH(i,t){var e=i.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),s=function mZ(i,t){for(var e,n,s,a=[],l=[],d=0;d<Math.max(i.length,t.length);d++){var h=i[d],f=t[d],m=void 0,_=void 0;h?f?(n=m=(e=gZ(h,f))[0],s=_=e[1]):(_=tH(s||h,h),m=h):(m=tH(n||f,f),_=f),a.push(m),l.push(_)}return[a,l]}(Yk(e),Yk(n)),a=s[0],l=s[1],d=i.getComputedTransform(),h=t.getComputedTransform();d&&rH(a,d),h&&rH(l,h),aM(t,"updateTransform",{replace:function f(){this.transform=null}}),t.transform=null;var m=function _Z(i,t,e,n){for(var a,s=[],l=0;l<i.length;l++){var d=i[l],h=t[l],f=iH(d),m=iH(h);null==a&&(a=f[2]<0!=m[2]<0);var _=[],C=[],w=0,D=1/0,T=[],I=d.length;a&&(d=yZ(d));for(var F=6*vZ(d,h,f,m),V=I-2,H=0;H<V;H+=2){var re=(F+H)%V+2;_[H+2]=d[re]-f[0],_[H+3]=d[re+1]-f[1]}if(_[0]=d[F]-f[0],_[1]=d[F+1]-f[1],e>0)for(var fe=n/e,de=-n/2;de<=n/2;de+=fe){var Ee=Math.sin(de),Ue=Math.cos(de),ze=0;for(H=0;H<d.length;H+=2){var nt=_[H],gt=_[H+1],Vt=h[H]-m[0],$t=h[H+1]-m[1],hi=Vt*Ue-$t*Ee,gi=Vt*Ee+$t*Ue;T[H]=hi,T[H+1]=gi;var Pi=hi-nt,Yi=gi-gt;ze+=Pi*Pi+Yi*Yi}if(ze<D){D=ze,w=de;for(var ji=0;ji<T.length;ji++)C[ji]=T[ji]}}else for(var rn=0;rn<I;rn+=2)C[rn]=h[rn]-m[0],C[rn+1]=h[rn+1]-m[1];s.push({from:_,to:C,fromCp:f,toCp:m,rotation:-w})}return s}(a,l,10,Math.PI),_=[];aM(t,"buildPath",{replace:function(C){for(var w=t.__morphT,D=1-w,T=[],I=0;I<m.length;I++){var F=m[I],V=F.from,H=F.to,re=F.rotation*w,fe=F.fromCp,de=F.toCp,Ee=Math.sin(re),Ue=Math.cos(re);io(T,fe,de,w);for(var ze=0;ze<V.length;ze+=2){var hi=V[ze]*D+(Vt=H[ze])*w,gi=V[ze+1]*D+($t=H[ze+1])*w;_[ze]=hi*Ue-gi*Ee+T[0],_[ze+1]=hi*Ee+gi*Ue+T[1]}var Pi=_[0],Yi=_[1];for(C.moveTo(Pi,Yi),ze=2;ze<V.length;){var Vt=_[ze++],$t=_[ze++],ji=_[ze++],rn=_[ze++],bn=_[ze++],In=_[ze++];Pi===Vt&&Yi===$t&&ji===bn&&rn===In?C.lineTo(bn,In):C.bezierCurveTo(Vt,$t,ji,rn,bn,In),Pi=bn,Yi=In}}}})}function Zk(i,t,e){if(!i||!t)return t;var n=e.done,s=e.during;return oH(i,t),t.__morphT=0,t.animateTo({__morphT:1},je({during:function(l){t.dirtyShape(),s&&s(l)},done:function(){(function a(){iD(t,"buildPath"),iD(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()})(),n&&n()}},e)),t}function bZ(i,t,e,n,s,a){i=s===e?0:Math.round(32767*(i-e)/(s-e)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var h,d=0,f=32768;f>0;f/=2){var m=0,_=0;(i&f)>0&&(m=1),(t&f)>0&&(_=1),d+=f*f*(3*m^_),0===_&&(1===m&&(i=f-1-i,t=f-1-t),h=i,i=t,t=h)}return d}function lM(i){var t=1/0,e=1/0,n=-1/0,s=-1/0,a=ge(i,function(d){var h=d.getBoundingRect(),f=d.getComputedTransform(),m=h.x+h.width/2+(f?f[4]:0),_=h.y+h.height/2+(f?f[5]:0);return t=Math.min(m,t),e=Math.min(_,e),n=Math.max(m,n),s=Math.max(_,s),[m,_]});return ge(a,function(d,h){return{cp:d,z:bZ(d[0],d[1],t,e,n,s),path:i[h]}}).sort(function(d,h){return d.z-h.z}).map(function(d){return d.path})}function sH(i){return function fZ(i,t){var s,e=[],n=i.shape;switch(i.type){case"rect":(function aZ(i,t,e){for(var n=i.width,s=i.height,a=n>s,l=ZG([n,s],a?0:1,t),d=a?"width":"height",h=a?"height":"width",f=a?"x":"y",m=a?"y":"x",_=i[d]/l.length,C=0;C<l.length;C++)for(var w=i[h]/l[C],D=0;D<l[C];D++){var T={};T[f]=C*_,T[m]=D*w,T[d]=_,T[h]=w,T.x+=i.x,T.y+=i.y,e.push(T)}})(n,t,e),s=kr;break;case"sector":qG(n,t,e),s=xc;break;case"circle":qG({r0:0,r:n.r,startAngle:0,endAngle:2*Math.PI,cx:n.cx,cy:n.cy},t,e),s=xc;break;default:var a=i.getComputedTransform(),l=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,d=ge(function sZ(i,t){var e=Yk(i),n=[];t=t||1;for(var s=0;s<e.length;s++){var a=e[s],l=[],d=a[0],h=a[1];l.push(d,h);for(var f=2;f<a.length;){var m=a[f++],_=a[f++],C=a[f++],w=a[f++],D=a[f++],T=a[f++];Qk(d,h,m,_,C,w,D,T,l,t),d=D,h=T}n.push(l)}return n}(i.getUpdatedPathProxy(),l),function(F){return function pZ(i){for(var t=[],e=0;e<i.length;)t.push([i[e++],i[e++]]);return t}(F)}),h=d.length;if(0===h)oM(eH,{points:d[0]},t,e);else if(h===t)for(var f=0;f<h;f++)e.push({points:d[f]});else{var m=0,_=ge(d,function(F){var V=[],H=[];Tg(F,V,H);var re=(H[1]-V[1])*(H[0]-V[0]);return m+=re,{poly:F,area:re}});_.sort(function(F,V){return V.area-F.area});var C=t;for(f=0;f<h;f++){var w=_[f];if(C<=0)break;var D=f===h-1?C:Math.ceil(w.area/m*t);D<0||(oM(eH,{points:w.poly},D,e),C-=D)}}s=td}if(!s)return function uZ(i,t){for(var e=[],n=0;n<t;n++)e.push(au(i));return e}(i,t);var T=[];for(f=0;f<e.length;f++){var I=new s;I.setShape(e[f]),hZ(i,I),T.push(I)}return T}(i.path,i.count)}function aH(i){return Me(i[0])}function lH(i,t){for(var e=[],n=i.length,s=0;s<n;s++)e.push({one:i[s],many:[]});for(s=0;s<t.length;s++){var a=t[s].length,l=void 0;for(l=0;l<a;l++)e[l%n].many.push(t[s][l])}var d=0;for(s=n-1;s>=0;s--)if(!e[s].many.length){var h=e[d].many;if(h.length<=1){if(!d)return e;d=0}a=h.length;var f=Math.ceil(a/2);e[s].many=h.slice(f,a),e[d].many=h.slice(0,f),d++}return e}var xZ={clone:function(i){for(var t=[],e=1-Math.pow(1-i.path.style.opacity,1/i.count),n=0;n<i.count;n++){var s=au(i.path);s.setStyle("opacity",e),t.push(s)}return t},split:null};function Jk(i,t,e,n,s,a){if(i.length&&t.length){var l=Nu("update",n,s);if(l&&l.duration>0){var f,m,d=n.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},l);aH(i)&&(f=i,m=t),aH(t)&&(f=t,m=i);for(var C=f?f===i:i.length>t.length,w=f?lH(m,f):lH(C?t:i,[C?i:t]),D=0,T=0;T<w.length;T++)D+=w[T].many.length;var I=0;for(T=0;T<w.length;T++)_(w[T],C,I,D),I+=w[T].many.length}}function _(F,V,H,re,fe){var de=F.many,Ee=F.one;if(1!==de.length||fe)for(var gt=je({dividePath:xZ[e],individualDelay:d&&function(Yi,ji,rn,bn){return d(Yi+H,re)}},h),Vt=V?function CZ(i,t,e){var n=[];!function s(fe){for(var de=0;de<fe.length;de++){var Ee=fe[de];sM(Ee)?s(Ee.childrenRef()):Ee instanceof $r&&n.push(Ee)}}(i);var a=n.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var d=(e.dividePath||sH)({path:t,count:a});if(d.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};n=lM(n),d=lM(d);for(var h=e.done,f=e.during,m=e.individualDelay,_=new ic,C=0;C<a;C++){var w=n[C],D=d[C];D.parent=t,D.copyTransform(_),m||oH(w,D)}function T(fe){for(var de=0;de<d.length;de++)d[de].addSelfToZr(fe)}function I(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,iD(t,"addSelfToZr"),iD(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return d},aM(t,"addSelfToZr",{after:function(fe){T(fe)}}),aM(t,"removeSelfFromZr",{after:function(fe){for(var de=0;de<d.length;de++)d[de].removeSelfFromZr(fe)}});var F=d.length;if(m){var V=F,H=function(){0==--V&&(I(),h&&h())};for(C=0;C<F;C++){var re=m?je({delay:(e.delay||0)+m(C,F,n[C],d[C]),done:H},e):e;Zk(n[C],d[C],re)}}else t.__morphT=0,t.animateTo({__morphT:1},je({during:function(fe){for(var de=0;de<F;de++){var Ee=d[de];Ee.__morphT=t.__morphT,Ee.dirtyShape()}f&&f(fe)},done:function(){I();for(var fe=0;fe<i.length;fe++)iD(i[fe],"updateTransform");h&&h()}},e));return t.__zr&&T(t.__zr),{fromIndividuals:n,toIndividuals:d,count:F}}(de,Ee,gt):function wZ(i,t,e){var n=t.length,s=[],a=e.dividePath||sH;if(sM(i)){!function l(w){for(var D=0;D<w.length;D++){var T=w[D];sM(T)?l(T.childrenRef()):T instanceof $r&&s.push(T)}}(i.childrenRef());var d=s.length;if(d<n)for(var h=0,f=d;f<n;f++)s.push(au(s[h++%d]));s.length=n}else{s=a({path:i,count:n});var m=i.getComputedTransform();for(f=0;f<s.length;f++)s[f].setLocalTransform(m);if(s.length!==n)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}s=lM(s),t=lM(t);var _=e.individualDelay;for(f=0;f<n;f++){var C=_?je({delay:(e.delay||0)+_(f,n,s[f],t[f])},e):e;Zk(s[f],t[f],C)}return{fromIndividuals:s,toIndividuals:t,count:t.length}}(Ee,de,gt),$t=Vt.fromIndividuals,hi=Vt.toIndividuals,gi=$t.length,Pi=0;Pi<gi;Pi++)nt=d?je({delay:d(Pi,gi)},h):h,a($t[Pi],hi[Pi],V?de[Pi]:F.one,V?F.one:de[Pi],nt);else{var nt,Ue=V?de[0]:Ee,ze=V?Ee:de[0];sM(Ue)?_({many:[Ue],one:ze},!0,H,re,!0):(Zk(Ue,ze,nt=d?je({delay:d(H,re)},h):h),a(Ue,ze,Ue,ze,nt))}}}function pb(i){if(!i)return[];if(Me(i)){for(var t=[],e=0;e<i.length;e++)t.push(pb(i[e]));return t}var n=[];return i.traverse(function(s){s instanceof $r&&!s.disableMorphing&&!s.invisible&&!s.ignore&&n.push(s)}),n}var cH=1e4,DZ=Xe();function hH(i,t,e,n){var a=function EZ(i,t){for(var e=i.dimensions,n=0;n<e.length;n++){var s=i.getDimensionInfo(e[n]);if(s&&0===s.otherDims[t])return e[n]}}(i,n?"itemChildGroupId":"itemGroupId");if(a){var l=function AZ(i,t,e){var n=i.getDimensionInfo(e),s=n&&n.ordinalMeta;if(n){var a=i.get(n.name,t);return s&&s.categories[a]||a+""}}(i,t,a);return l}var d=i.getRawDataItem(t),h=n?"childGroupId":"groupId";return d&&d[h]?d[h]+"":n?void 0:e||i.getId(t)}function pH(i){var t=[];return te(i,function(e){var n=e.data,s=e.dataGroupId;if(!(n.count()>cH))for(var a=n.getIndices(),l=0;l<a.length;l++)t.push({data:n,groupId:hH(n,l,s,!1),childGroupId:hH(n,l,s,!0),divide:e.divide,dataIndex:l})}),t}function eF(i,t,e){i.traverse(function(n){n instanceof $r&&as(n,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function tF(i){if(i.parent){var t=i.getComputedTransform();i.setLocalTransform(t),i.parent.remove(i)}}function g0(i){i.stopAnimation(),i.isGroup&&i.traverse(function(t){t.stopAnimation()})}function fH(i,t,e){var n=pH(i),s=pH(t);function a(H,re,fe,de,Ee){(fe||H)&&re.animateFrom({style:fe&&fe!==H?Dt(Dt({},fe.style),H.style):H.style},Ee)}var l=!1,d=0,h=Rn(),f=Rn();n.forEach(function(H){H.groupId&&h.set(H.groupId,!0),H.childGroupId&&f.set(H.childGroupId,!0)});for(var m=0;m<s.length;m++){if(f.get(s[m].groupId)){d=1;break}var C=s[m].childGroupId;if(C&&h.get(C)){d=2;break}}function w(H,re){return function(fe){return re?fe.data.getId(fe.dataIndex):H?1===d?fe.childGroupId:fe.groupId:2===d?fe.childGroupId:fe.groupId}}var D=function MZ(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++){var s=i[n],a=t[n];if(s.data.getId(s.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(n,s),T={};if(!D)for(m=0;m<s.length;m++){var I=s[m],F=I.data.getItemGraphicEl(I.dataIndex);F&&(T[F.id]=!0)}function V(H,re){var fe=n[re],de=s[H],Ee=de.data.hostModel,Ue=fe.data.getItemGraphicEl(fe.dataIndex),ze=de.data.getItemGraphicEl(de.dataIndex);Ue!==ze?Ue&&T[Ue.id]||ze&&(g0(ze),Ue?(g0(Ue),tF(Ue),l=!0,Jk(pb(Ue),pb(ze),de.divide,Ee,H,a)):eF(ze,Ee,H)):ze&&function TZ(i,t,e){var n=Nu("update",e,t);n&&i.traverse(function(s){if(s instanceof cd){var a=function I0(i){return Pb(i).oldStyle}(s);a&&s.animateFrom({style:a},n)}})}(ze,de.dataIndex,Ee)}new op(n,s,w(!0,D),w(!1,D),null,"multiple").update(V).updateManyToOne(function(H,re){var fe=s[H],de=fe.data,Ee=de.hostModel,Ue=de.getItemGraphicEl(fe.dataIndex),ze=Ve(ge(re,function(nt){return n[nt].data.getItemGraphicEl(n[nt].dataIndex)}),function(nt){return nt&&nt!==Ue&&!T[nt.id]});Ue&&(g0(Ue),ze.length?(te(ze,function(nt){g0(nt),tF(nt)}),l=!0,Jk(pb(ze),pb(Ue),fe.divide,Ee,H,a)):eF(Ue,Ee,fe.dataIndex))}).updateOneToMany(function(H,re){var fe=n[re],de=fe.data.getItemGraphicEl(fe.dataIndex);if(!de||!T[de.id]){var Ee=Ve(ge(H,function(ze){return s[ze].data.getItemGraphicEl(s[ze].dataIndex)}),function(ze){return ze&&ze!==de}),Ue=s[H[0]].data.hostModel;Ee.length&&(te(Ee,function(ze){return g0(ze)}),de?(g0(de),tF(de),l=!0,Jk(pb(de),pb(Ee),fe.divide,Ue,H[0],a)):te(Ee,function(ze){return eF(ze,Ue,H[0])}))}}).updateManyToMany(function(H,re){new op(re,H,function(fe){return n[fe].data.getId(n[fe].dataIndex)},function(fe){return s[fe].data.getId(s[fe].dataIndex)}).update(function(fe,de){V(H[fe],re[de])}).execute()}).execute(),l&&te(t,function(H){var fe=H.data.hostModel,de=fe&&e.getViewOfSeriesModel(fe),Ee=Nu("update",fe,0);de&&fe.isAnimationEnabled()&&Ee&&Ee.duration>0&&de.group.traverse(function(Ue){Ue instanceof $r&&!Ue.animators.length&&Ue.animateFrom({style:{opacity:0}},Ee)})})}function gH(i){return i.getModel("universalTransition").get("seriesKey")||i.id}function mH(i){return Me(i)?i.sort().join(","):i}function cy(i){if(i.hostModel)return i.hostModel.getModel("universalTransition").get("divideShape")}function vH(i,t){for(var e=0;e<i.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===i[e].seriesIndex||null!=t.seriesId&&t.seriesId===i[e].id)return e}Or([function iU(i){i.registerPainter("canvas",tU)}]),Or([function BU(i){i.registerPainter("svg",NU)}]),Or([function c5(i){i.registerChartView(s5),i.registerSeriesModel(GU),i.registerLayout(ES("line",!0)),i.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,zO("line"))},function A5(i){i.registerChartView(E5),i.registerSeriesModel(u5),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Se(kR,"bar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nS("bar")),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,zO("bar")),i.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(s){t.sortInfo&&s.axis.setCategorySortInfo(t.sortInfo)})})},function G5(i){i.registerChartView(F5),i.registerSeriesModel(B5),LE("pie",i.registerAction),i.registerLayout(Se(T5,"pie")),i.registerProcessor(AS("pie")),i.registerProcessor(function V5(i){return{seriesType:i,reset:function(t,e){var n=t.getData();n.filterSelf(function(s){var a=n.mapDimension("value"),l=n.get(a,s);return!(Di(l)&&!isNaN(l)&&l<0)})}}}("pie"))},function M3(i){Or(TL),i.registerSeriesModel(U5),i.registerChartView(X5),i.registerLayout(ES("scatter"))},function $3(i){Or(j3),i.registerChartView(k3),i.registerSeriesModel(O3),i.registerLayout(R3),i.registerProcessor(AS("radar")),i.registerPreprocessor(I3)},function H4(i){Or(dN),i.registerChartView(D4),i.registerSeriesModel(A4),i.registerLayout(R4),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,M4),LE("map",i.registerAction)},function _z(i){i.registerChartView(tz),i.registerSeriesModel(pz),i.registerLayout(gz),i.registerVisual(vz),function yz(i){i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var s=t.dataIndex,l=n.getData().tree.getNodeByDataIndex(s);l.isExpand=!l.isExpand})}),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,n){e.eachComponent({mainType:"series",subType:"tree",query:t},function(s){var l=LI(s.coordinateSystem,t,void 0,n);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom)})})}(i)},function o8(i){i.registerSeriesModel(xz),i.registerChartView(Nz),i.registerVisual(zz),i.registerLayout(Zz),function bz(i){for(var t=0;t<bN.length;t++)i.registerAction({type:bN[t],update:"updateView"},dt);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"treemap",query:e},function s(a,l){var h=OS(e,["treemapZoomToNode","treemapRootToNode"],a);if(h){var f=a.getViewRoot();f&&(e.direction=UI(f,h.node)?"rollUp":"drillDown"),a.resetViewRoot(h.node)}})})}(i)},function k8(i){i.registerChartView(A8),i.registerSeriesModel(I8),i.registerProcessor(s8),i.registerVisual(a8),i.registerVisual(l8),i.registerLayout(p8),i.registerLayout(i.PRIORITY.VISUAL.POST_CHART_LAYOUT,g8),i.registerLayout(v8),i.registerCoordinateSystem("graphView",{dimensions:kS.dimensions,create:_8}),i.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},dt),i.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},dt),i.registerAction(P8,function(t,e,n){e.eachComponent({mainType:"series",query:t},function(s){var l=LI(s.coordinateSystem,t,void 0,n);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom)})})},function U8(i){i.registerChartView(V8),i.registerSeriesModel(H8)},function J8(i){i.registerChartView($8),i.registerSeriesModel(X8),i.registerLayout(q8),i.registerProcessor(AS("funnel"))},function r6(i){Or(F2),i.registerChartView(rW),i.registerSeriesModel(lW),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,uW)},function I6(i){i.registerChartView(c6),i.registerSeriesModel(u6),i.registerLayout(h6),i.registerVisual(R6),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function W6(i){i.registerSeriesModel(P6),i.registerChartView(N6),i.registerLayout(B6),i.registerTransform(z6)},function u7(i){i.registerChartView(Z6),i.registerSeriesModel(q6),i.registerPreprocessor(J6),i.registerVisual(a7),i.registerLayout(d7)},function y7(i){i.registerChartView(g7),i.registerSeriesModel(v7),i.registerLayout(ES("effectScatter"))},function L7(i){i.registerChartView(M7),i.registerSeriesModel(k7),i.registerLayout(X2),i.registerVisual(O7)},function $7(i){i.registerChartView(z7),i.registerSeriesModel(j7)},function oj(i){i.registerChartView(ij),i.registerSeriesModel(rj),i.registerLayout(i.PRIORITY.VISUAL.LAYOUT,Se(kR,"pictorialBar")),i.registerLayout(i.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nS("pictorialBar"))},function pj(i){i.registerChartView(lj),i.registerSeriesModel(dj),i.registerLayout(uj),i.registerProcessor(AS("themeRiver"))},function Ej(i){i.registerChartView(bj),i.registerSeriesModel(wj),i.registerLayout(Se(xj,"sunburst")),i.registerProcessor(Se(AS,"sunburst")),i.registerVisual(Dj),function yj(i){i.registerAction({type:HP,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function n(s,a){var l=OS(t,[HP],s);if(l){var d=s.getViewRoot();d&&(t.direction=UI(d,l.node)?"rollUp":"drillDown"),s.resetViewRoot(l.node)}})}),i.registerAction({type:hB,update:"none"},function(t,e,n){t=Dt({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function s(a){var l=OS(t,[hB],a);l&&(t.dataIndex=l.node.dataIndex)}),n.dispatchAction(Dt(t,{type:"highlight"}))}),i.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e,n){t=Dt({},t),n.dispatchAction(Dt(t,{type:"downplay"}))})}(i)},function u$(i){i.registerChartView(e$),i.registerSeriesModel(Mj)}]),Or(function F$(i){Or(TL),Or(KS)}),Or(function g9(i){Or(KS),tb.registerAxisPointerClass("PolarAxisPointer",B$),i.registerCoordinateSystem("polar",q$),i.registerComponentModel(G$),i.registerComponentView(f9),qC(i,"angle",H$,h9),qC(i,"radius",U$,p9),i.registerComponentView(i9),i.registerComponentView(l9),i.registerLayout(Se(u9,"bar"))}),Or(dN),Or(function k9(i){Or(KS),tb.registerAxisPointerClass("SingleAxisPointer",I9),i.registerComponentView(P9),i.registerComponentView(b9),i.registerComponentModel(uk),qC(i,"single",uk,uk.defaultOption),i.registerCoordinateSystem("single",A9)}),Or(F2),Or(function G9(i){i.registerComponentModel(O9),i.registerComponentView(N9),i.registerCoordinateSystem("calendar",V9)}),Or(function Y9(i){i.registerComponentModel(j9),i.registerComponentView($9),i.registerPreprocessor(function(t){var e=t.graphic;Me(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),Or(function QK(i){i.registerComponentModel(pK),i.registerComponentView(vK),c0("saveAsImage",_K),c0("magicType",wK),c0("dataView",kK),c0("dataZoom",YK),c0("restore",VK),Or(uK)}),Or(function _X(i){Or(KS),i.registerComponentModel(qK),i.registerComponentView(yX),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},dt),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},dt)}),Or(KS),Or(function VX(i){i.registerComponentView(PX),i.registerComponentModel(OX),i.registerPreprocessor(CX),i.registerVisual(i.PRIORITY.VISUAL.BRUSH,EX),i.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},dt),i.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},dt),c0("brush",BX)}),Or(function UX(i){i.registerComponentModel(GX),i.registerComponentView(HX)}),Or(function nY(i){i.registerComponentModel(WX),i.registerComponentView(JX),i.registerSubTypeDefaulter("timeline",function(){return"slider"}),function eY(i){i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,n){var s=e.getComponent("timeline");return s&&null!=t.currentIndex&&(s.setCurrentIndex(t.currentIndex),!s.get("loop",!0)&&s.isIndexMax()&&s.getPlayState()&&(s.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:s.get("replaceMerge",!0)}),je({currentIndex:s.option.currentIndex},t)}),i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var n=e.getComponent("timeline");n&&null!=t.playState&&n.setPlayState(t.playState)})}(i),i.registerPreprocessor(tY)}),Or(function pY(i){i.registerComponentModel(oY),i.registerComponentView(hY),i.registerPreprocessor(function(t){Rk(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),Or(function CY(i){i.registerComponentModel(gY),i.registerComponentView(bY),i.registerPreprocessor(function(t){Rk(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),Or(function MY(i){i.registerComponentModel(xY),i.registerComponentView(TY),i.registerPreprocessor(function(t){Rk(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),Or(function zY(i){Or(_G),Or(UY)}),Or(function uQ(i){Or(SG),Or(TG)}),Or(SG),Or(TG),Or(function BQ(i){Or(WG),Or($G)}),Or(WG),Or($G),Or(function zQ(i){i.registerPreprocessor(UQ),i.registerVisual(i.PRIORITY.VISUAL.ARIA,HQ)}),Or(function iZ(i){i.registerTransform(eZ),i.registerTransform(tZ)}),Or(function oZ(i){i.registerComponentModel(nZ),i.registerComponentView(rZ)}),Or(function PZ(i){i.registerUpdateLifecycle("series:beforeupdate",function(t,e,n){te(Fr(n.seriesTransition),function(s){te(Fr(s.to),function(a){for(var l=n.updatedSeries,d=0;d<l.length;d++)(null!=a.seriesIndex&&a.seriesIndex===l[d].seriesIndex||null!=a.seriesId&&a.seriesId===l[d].id)&&(l[d][bh]=!0)})})}),i.registerUpdateLifecycle("series:transition",function(t,e,n){var s=DZ(e);if(s.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)te(Fr(a),function(w){!function IZ(i,t,e,n){var s=[],a=[];te(Fr(i.from),function(l){var d=vH(t.oldSeries,l);d>=0&&s.push({dataGroupId:t.oldDataGroupIds[d],data:t.oldData[d],divide:cy(t.oldData[d]),groupIdDim:l.dimension})}),te(Fr(i.to),function(l){var d=vH(e.updatedSeries,l);if(d>=0){var h=e.updatedSeries[d].getData();a.push({dataGroupId:t.oldDataGroupIds[d],data:h,divide:cy(h),groupIdDim:l.dimension})}}),s.length>0&&a.length>0&&fH(s,a,n)}(w,s,n,e)});else{var l=function RZ(i,t){var e=Rn(),n=Rn(),s=Rn();return te(i.oldSeries,function(l,d){var h=i.oldDataGroupIds[d],f=i.oldData[d],m=gH(l),_=mH(m);n.set(_,{dataGroupId:h,data:f}),Me(m)&&te(m,function(C){s.set(C,{key:_,dataGroupId:h,data:f})})}),te(t.updatedSeries,function(l){if(l.isUniversalTransitionEnabled()&&l.isAnimationEnabled()){var d=l.get("dataGroupId"),h=l.getData(),f=gH(l),m=mH(f),_=n.get(m);if(_)e.set(m,{oldSeries:[{dataGroupId:_.dataGroupId,divide:cy(_.data),data:_.data}],newSeries:[{dataGroupId:d,divide:cy(h),data:h}]});else if(Me(f)){var C=[];te(f,function(T){var I=n.get(T);I.data&&C.push({dataGroupId:I.dataGroupId,divide:cy(I.data),data:I.data})}),C.length&&e.set(m,{oldSeries:C,newSeries:[{dataGroupId:d,data:h,divide:cy(h)}]})}else{var w=s.get(f);if(w){var D=e.get(w.key);D||(D={oldSeries:[{dataGroupId:w.dataGroupId,data:w.data,divide:cy(w.data)}],newSeries:[]},e.set(w.key,D)),D.newSeries.push({dataGroupId:d,data:h,divide:cy(h)})}}}}),e}(s,n);te(l.keys(),function(w){var D=l.get(w);fH(D.oldSeries,D.newSeries,e)})}te(n.updatedSeries,function(w){w[bh]&&(w[bh]=!1)})}for(var d=t.getSeries(),h=s.oldSeries=[],f=s.oldDataGroupIds=[],m=s.oldData=[],_=0;_<d.length;_++){var C=d[_].getData();C.count()<cH&&(h.push(d[_]),f.push(d[_].get("dataGroupId")),m.push(C))}})}),Or(XC)},9410:(Ui,ni,N)=>{"use strict";N.d(ni,{F1:()=>P,_j:()=>qt});var b=N(467),O=N(7705),E=N(1626),ye=N(1413),K=N(6648),Ke=N(4572),j=N(7673),rt=N(6354),ie=N(1397),ee=N(8147),Ce=N(177),ve=function(pt){return pt[pt.OnAuthError=0]="OnAuthError",pt[pt.OnAuthLogout=1]="OnAuthLogout",pt[pt.OnAuthRefreshError=2]="OnAuthRefreshError",pt[pt.OnAuthRefreshSuccess=3]="OnAuthRefreshSuccess",pt[pt.OnAuthSuccess=4]="OnAuthSuccess",pt[pt.OnReady=5]="OnReady",pt[pt.OnTokenExpired=6]="OnTokenExpired",pt[pt.OnActionUpdate=7]="OnActionUpdate",pt}(ve||{});let P=(()=>{class pt{constructor(){this._keycloakEvents$=new ye.B}bindsKeycloakEvents(){this._instance.onAuthError=oi=>{this._keycloakEvents$.next({args:oi,type:ve.OnAuthError})},this._instance.onAuthLogout=()=>{this._keycloakEvents$.next({type:ve.OnAuthLogout})},this._instance.onAuthRefreshSuccess=()=>{this._keycloakEvents$.next({type:ve.OnAuthRefreshSuccess})},this._instance.onAuthRefreshError=()=>{this._keycloakEvents$.next({type:ve.OnAuthRefreshError})},this._instance.onAuthSuccess=()=>{this._keycloakEvents$.next({type:ve.OnAuthSuccess})},this._instance.onTokenExpired=()=>{this._keycloakEvents$.next({type:ve.OnTokenExpired})},this._instance.onActionUpdate=oi=>{this._keycloakEvents$.next({args:oi,type:ve.OnActionUpdate})},this._instance.onReady=oi=>{this._keycloakEvents$.next({args:oi,type:ve.OnReady})}}loadExcludedUrls(oi){const q=[];for(const Ot of oi){let Oe;Oe="string"==typeof Ot?{urlPattern:new RegExp(Ot,"i"),httpMethods:[]}:{urlPattern:new RegExp(Ot.url,"i"),httpMethods:Ot.httpMethods},q.push(Oe)}return q}initServiceValues({enableBearerInterceptor:oi=!0,loadUserProfileAtStartUp:q=!1,bearerExcludedUrls:Ot=[],authorizationHeaderName:Oe="Authorization",bearerPrefix:Le="Bearer",initOptions:We,updateMinValidity:Ye=20,shouldAddToken:Ht=(()=>!0),shouldUpdateToken:vi=(()=>!0)}){this._enableBearerInterceptor=oi,this._loadUserProfileAtStartUp=q,this._authorizationHeaderName=Oe,this._bearerPrefix=Le.trim().concat(" "),this._excludedUrls=this.loadExcludedUrls(Ot),this._silentRefresh=!!We&&"implicit"===We.flow,this._updateMinValidity=Ye,this.shouldAddToken=Ht,this.shouldUpdateToken=vi}init(oi={}){var q=this;return(0,b.A)(function*(){q.initServiceValues(oi);const{config:Ot,initOptions:Oe}=oi;q._instance=new ee.A(Ot),q.bindsKeycloakEvents();const Le=yield q._instance.init(Oe);return Le&&q._loadUserProfileAtStartUp&&(yield q.loadUserProfile()),Le})()}login(oi={}){var q=this;return(0,b.A)(function*(){yield q._instance.login(oi),q._loadUserProfileAtStartUp&&(yield q.loadUserProfile())})()}logout(oi){var q=this;return(0,b.A)(function*(){const Ot={redirectUri:oi};yield q._instance.logout(Ot),q._userProfile=void 0})()}register(oi={action:"register"}){var q=this;return(0,b.A)(function*(){yield q._instance.register(oi)})()}isUserInRole(oi,q){let Ot;return Ot=this._instance.hasResourceRole(oi,q),Ot||(Ot=this._instance.hasRealmRole(oi)),Ot}getUserRoles(oi=!0,q){let Ot=[];return this._instance.resourceAccess&&Object.keys(this._instance.resourceAccess).forEach(Oe=>{q&&q!==Oe||(Ot=Ot.concat(this._instance.resourceAccess[Oe].roles||[]))}),oi&&this._instance.realmAccess&&Ot.push(...this._instance.realmAccess.roles||[]),Ot}isLoggedIn(){return!!this._instance&&this._instance.authenticated}isTokenExpired(oi=0){return this._instance.isTokenExpired(oi)}updateToken(oi=this._updateMinValidity){var q=this;return(0,b.A)(function*(){if(q._silentRefresh){if(q.isTokenExpired())throw new Error("Failed to refresh the token, or the session is expired");return!0}if(!q._instance)throw new Error("Keycloak Angular library is not initialized.");try{return yield q._instance.updateToken(oi)}catch{return!1}})()}loadUserProfile(oi=!1){var q=this;return(0,b.A)(function*(){if(q._userProfile&&!oi)return q._userProfile;if(!q._instance.authenticated)throw new Error("The user profile was not loaded as the user is not logged in.");return q._userProfile=yield q._instance.loadUserProfile()})()}getToken(){var oi=this;return(0,b.A)(function*(){return oi._instance.token})()}getUsername(){if(!this._userProfile)throw new Error("User not logged in or user profile was not loaded.");return this._userProfile.username}clearToken(){this._instance.clearToken()}addTokenToHeader(oi=new E.Lr){return(0,K.H)(this.getToken()).pipe((0,rt.T)(q=>q?oi.set(this._authorizationHeaderName,this._bearerPrefix+q):oi))}getKeycloakInstance(){return this._instance}get excludedUrls(){return this._excludedUrls}get enableBearerInterceptor(){return this._enableBearerInterceptor}get keycloakEvents$(){return this._keycloakEvents$}static{this.\u0275fac=function(q){return new(q||pt)}}static{this.\u0275prov=O.jDH({token:pt,factory:pt.\u0275fac})}}return pt})(),Be=(()=>{class pt{constructor(oi){this.keycloak=oi}conditionallyUpdateToken(oi){var q=this;return(0,b.A)(function*(){return!q.keycloak.shouldUpdateToken(oi)||(yield q.keycloak.updateToken())})()}isUrlExcluded({method:oi,url:q},{urlPattern:Ot,httpMethods:Oe}){const Le=0===Oe.length||Oe.join().indexOf(oi.toUpperCase())>-1,We=Ot.test(q);return Le&&We}intercept(oi,q){const{enableBearerInterceptor:Ot,excludedUrls:Oe}=this.keycloak;return!Ot||!this.keycloak.shouldAddToken(oi)||Oe.findIndex(We=>this.isUrlExcluded(oi,We))>-1?q.handle(oi):(0,Ke.z)([(0,K.H)(this.conditionallyUpdateToken(oi)),(0,j.of)(this.keycloak.isLoggedIn())]).pipe((0,ie.Z)(([We,Ye])=>Ye?this.handleRequestWithTokenHeader(oi,q):q.handle(oi)))}handleRequestWithTokenHeader(oi,q){return this.keycloak.addTokenToHeader(oi.headers).pipe((0,ie.Z)(Ot=>{const Oe=oi.clone({headers:Ot});return q.handle(Oe)}))}static{this.\u0275fac=function(q){return new(q||pt)(O.KVO(P))}}static{this.\u0275prov=O.jDH({token:pt,factory:pt.\u0275fac})}}return pt})(),Ct=(()=>{class pt{static{this.\u0275fac=function(q){return new(q||pt)}}static{this.\u0275mod=O.$C({type:pt})}static{this.\u0275inj=O.G2t({providers:[P,{provide:E.a7,useClass:Be,multi:!0}],imports:[Ce.MD]})}}return pt})(),qt=(()=>{class pt{static{this.\u0275fac=function(q){return new(q||pt)}}static{this.\u0275mod=O.$C({type:pt})}static{this.\u0275inj=O.G2t({imports:[Ct]})}}return pt})()},8147:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>j});var b=N(3981),O=N(2245);class E extends Error{}function Ke(rt,ie){if("string"!=typeof rt)throw new E("Invalid token specified: must be a string");ie||(ie={});const ee=!0===ie.header?0:1,Ce=rt.split(".")[ee];if("string"!=typeof Ce)throw new E(`Invalid token specified: missing part #${ee+1}`);let ve;try{ve=function K(rt){let ie=rt.replace(/-/g,"+").replace(/_/g,"/");switch(ie.length%4){case 0:break;case 2:ie+="==";break;case 3:ie+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function ye(rt){return decodeURIComponent(atob(rt).replace(/(.)/g,(ie,ee)=>{let Ce=ee.charCodeAt(0).toString(16).toUpperCase();return Ce.length<2&&(Ce="0"+Ce),"%"+Ce}))}(ie)}catch{return atob(ie)}}(Ce)}catch(ue){throw new E(`Invalid token specified: invalid base64 for part #${ee+1} (${ue.message})`)}try{return JSON.parse(ve)}catch(ue){throw new E(`Invalid token specified: invalid json for part #${ee+1} (${ue.message})`)}}if(E.prototype.name="InvalidTokenError",typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function j(rt){if(!(this instanceof j))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var ee,ve,ie=this,Ce=[],ue={enable:!0,callbackList:[],interval:5},P=document.getElementsByTagName("script"),Be=0;Be<P.length;Be++)(-1!==P[Be].src.indexOf("keycloak.js")||-1!==P[Be].src.indexOf("keycloak.min.js"))&&-1!==P[Be].src.indexOf("version=")&&(ie.iframeVersion=P[Be].src.substring(P[Be].src.indexOf("version=")+8).split("&")[0]);var Ct=!0,qt=di(console.info),pt=di(console.warn);function q(st,ri){for(var ct=function Ai(st){var ri=null,ct=window.crypto||window.msCrypto;if(ct&&ct.getRandomValues&&window.Uint8Array)return ri=new Uint8Array(st),ct.getRandomValues(ri),ri;ri=new Array(st);for(var Ut=0;Ut<ri.length;Ut++)ri[Ut]=Math.floor(256*Math.random());return ri}(st),Ut=new Array(st),ft=0;ft<st;ft++)Ut[ft]=ri.charCodeAt(ct[ft]%ri.length);return String.fromCharCode.apply(null,Ut)}function Le(){if(typeof ie.authServerUrl<"u")return"/"==ie.authServerUrl.charAt(ie.authServerUrl.length-1)?ie.authServerUrl+"realms/"+encodeURIComponent(ie.realm):ie.authServerUrl+"/realms/"+encodeURIComponent(ie.realm)}function Ye(st,ri){var ct=st.code,Ut=st.error,ft=st.prompt,Wt=(new Date).getTime();if(st.kc_action_status&&ie.onActionUpdate&&ie.onActionUpdate(st.kc_action_status),Ut)if("none"!=ft){var tt={error:Ut,error_description:st.error_description};ie.onAuthError&&ie.onAuthError(tt),ri&&ri.setError(tt)}else ri&&ri.setSuccess();else if("standard"!=ie.flow&&(st.access_token||st.id_token)&&tn(st.access_token,null,st.id_token,!0),"implicit"!=ie.flow&&ct){var Yt="code="+ct+"&grant_type=authorization_code",Mi=ie.endpoints.token(),Qi=new XMLHttpRequest;Qi.open("POST",Mi,!0),Qi.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Yt+="&client_id="+encodeURIComponent(ie.clientId),Yt+="&redirect_uri="+st.redirectUri,st.pkceCodeVerifier&&(Yt+="&code_verifier="+st.pkceCodeVerifier),Qi.withCredentials=!0,Qi.onreadystatechange=function(){if(4==Qi.readyState)if(200==Qi.status){var dn=JSON.parse(Qi.responseText);tn(dn.access_token,dn.refresh_token,dn.id_token,"standard"===ie.flow),lt()}else ie.onAuthError&&ie.onAuthError(),ri&&ri.setError()},Qi.send(Yt)}function tn(dn,gn,Sn,Ni){Et(dn,gn,Sn,Wt=(Wt+(new Date).getTime())/2),Ct&&(ie.tokenParsed&&ie.tokenParsed.nonce!=st.storedNonce||ie.refreshTokenParsed&&ie.refreshTokenParsed.nonce!=st.storedNonce||ie.idTokenParsed&&ie.idTokenParsed.nonce!=st.storedNonce)?(qt("[KEYCLOAK] Invalid nonce, clearing token"),ie.clearToken(),ri&&ri.setError()):Ni&&(ie.onAuthSuccess&&ie.onAuthSuccess(),ri&&ri.setSuccess())}}function vi(st){return 0==st.status&&st.responseText&&st.responseURL.startsWith("file:")}function Et(st,ri,ct,Ut){if(ie.tokenTimeoutHandle&&(clearTimeout(ie.tokenTimeoutHandle),ie.tokenTimeoutHandle=null),ri?(ie.refreshToken=ri,ie.refreshTokenParsed=Ke(ri)):(delete ie.refreshToken,delete ie.refreshTokenParsed),ct?(ie.idToken=ct,ie.idTokenParsed=Ke(ct)):(delete ie.idToken,delete ie.idTokenParsed),st){if(ie.token=st,ie.tokenParsed=Ke(st),ie.sessionId=ie.tokenParsed.session_state,ie.authenticated=!0,ie.subject=ie.tokenParsed.sub,ie.realmAccess=ie.tokenParsed.realm_access,ie.resourceAccess=ie.tokenParsed.resource_access,Ut&&(ie.timeSkew=Math.floor(Ut/1e3)-ie.tokenParsed.iat),null!=ie.timeSkew&&(qt("[KEYCLOAK] Estimated time difference between browser and server is "+ie.timeSkew+" seconds"),ie.onTokenExpired)){var ft=1e3*(ie.tokenParsed.exp-(new Date).getTime()/1e3+ie.timeSkew);qt("[KEYCLOAK] Token expires in "+Math.round(ft/1e3)+" s"),ft<=0?ie.onTokenExpired():ie.tokenTimeoutHandle=setTimeout(ie.onTokenExpired,ft)}}else delete ie.token,delete ie.tokenParsed,delete ie.subject,delete ie.realmAccess,delete ie.resourceAccess,ie.authenticated=!1}function wi(){var st="0123456789abcdef",ri=q(36,st).split("");return ri[14]="4",ri[19]=st.substr(3&ri[19]|8,1),ri[8]=ri[13]=ri[18]=ri[23]="-",ri.join("")}function bi(st){var ri=function Ci(st){var ri;switch(ie.flow){case"standard":ri=["code","state","session_state","kc_action_status","iss"];break;case"implicit":ri=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","iss"];break;case"hybrid":ri=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","iss"]}ri.push("error"),ri.push("error_description"),ri.push("error_uri");var ft,Wt,ct=st.indexOf("?"),Ut=st.indexOf("#");if("query"===ie.responseMode&&-1!==ct?(ft=st.substring(0,ct),""!==(Wt=an(st.substring(ct+1,-1!==Ut?Ut:st.length),ri)).paramsString&&(ft+="?"+Wt.paramsString),-1!==Ut&&(ft+=st.substring(Ut))):"fragment"===ie.responseMode&&-1!==Ut&&(ft=st.substring(0,Ut),""!==(Wt=an(st.substring(Ut+1),ri)).paramsString&&(ft+="#"+Wt.paramsString)),Wt&&Wt.oauthParams)if("standard"===ie.flow||"hybrid"===ie.flow){if((Wt.oauthParams.code||Wt.oauthParams.error)&&Wt.oauthParams.state)return Wt.oauthParams.newUrl=ft,Wt.oauthParams}else if("implicit"===ie.flow&&(Wt.oauthParams.access_token||Wt.oauthParams.error)&&Wt.oauthParams.state)return Wt.oauthParams.newUrl=ft,Wt.oauthParams}(st);if(ri){var ct=ve.get(ri.state);return ct&&(ri.valid=!0,ri.redirectUri=ct.redirectUri,ri.storedNonce=ct.nonce,ri.prompt=ct.prompt,ri.pkceCodeVerifier=ct.pkceCodeVerifier),ri}}function an(st,ri){for(var ct=st.split("&"),Ut={paramsString:"",oauthParams:{}},ft=0;ft<ct.length;ft++){var Wt=ct[ft].indexOf("="),tt=ct[ft].slice(0,Wt);-1!==ri.indexOf(tt)?Ut.oauthParams[tt]=ct[ft].slice(Wt+1):(""!==Ut.paramsString&&(Ut.paramsString+="&"),Ut.paramsString+=ct[ft])}return Ut}function Oi(){var st={setSuccess:function(ri){st.resolve(ri)},setError:function(ri){st.reject(ri)}};return st.promise=new Promise(function(ri,ct){st.resolve=ri,st.reject=ct}),st}function Qt(){var st=Oi();if(!ue.enable||ue.iframe)return st.setSuccess(),st.promise;var ri=document.createElement("iframe");ue.iframe=ri,ri.onload=function(){var ft=ie.endpoints.authorize();ue.iframeOrigin="/"===ft.charAt(0)?function We(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}():ft.substring(0,ft.indexOf("/",8)),st.setSuccess()};var ct=ie.endpoints.checkSessionIframe();return ri.setAttribute("src",ct),ri.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),ri.setAttribute("title","keycloak-session-iframe"),ri.style.display="none",document.body.appendChild(ri),window.addEventListener("message",function(ft){if(ft.origin===ue.iframeOrigin&&ue.iframe.contentWindow===ft.source&&("unchanged"==ft.data||"changed"==ft.data||"error"==ft.data)){"unchanged"!=ft.data&&ie.clearToken();for(var Wt=ue.callbackList.splice(0,ue.callbackList.length),tt=Wt.length-1;tt>=0;--tt){var Yt=Wt[tt];"error"==ft.data?Yt.setError():Yt.setSuccess("unchanged"==ft.data)}}},!1),st.promise}function lt(){ue.enable&&ie.token&&setTimeout(function(){wt().then(function(st){st&&lt()})},1e3*ue.interval)}function wt(){var st=Oi();if(ue.iframe&&ue.iframeOrigin){var ri=ie.clientId+" "+(ie.sessionId?ie.sessionId:"");ue.callbackList.push(st),1==ue.callbackList.length&&ue.iframe.contentWindow.postMessage(ri,ue.iframeOrigin)}else st.setSuccess();return st.promise}function ii(){var st=Oi();if(ue.enable||ie.silentCheckSsoRedirectUri){var ri=document.createElement("iframe");ri.setAttribute("src",ie.endpoints.thirdPartyCookiesIframe()),ri.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),ri.setAttribute("title","keycloak-3p-check-iframe"),ri.style.display="none",document.body.appendChild(ri);var ct=function(Ut){ri.contentWindow===Ut.source&&("supported"!==Ut.data&&"unsupported"!==Ut.data||("unsupported"===Ut.data&&(pt("[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\n\n - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\n - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\n\nFor more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers"),ue.enable=!1,ie.silentCheckSsoFallback&&(ie.silentCheckSsoRedirectUri=!1)),document.body.removeChild(ri),window.removeEventListener("message",ct),st.setSuccess()))};window.addEventListener("message",ct,!1)}else st.setSuccess();return function Cn(st,ri,ct){var Ut=null,ft=new Promise(function(Wt,tt){Ut=setTimeout(function(){tt({error:ct||"Promise is not settled within timeout of "+ri+"ms"})},ri)});return Promise.race([st,ft]).finally(function(){clearTimeout(Ut)})}(st.promise,ie.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function ut(st){if(!st||"default"==st)return{login:function(tt){return window.location.assign(ie.createLoginUrl(tt)),Oi().promise},logout:function(tt){return window.location.replace(ie.createLogoutUrl(tt)),Oi().promise},register:function(tt){return window.location.assign(ie.createRegisterUrl(tt)),Oi().promise},accountManagement:function(){var tt=ie.createAccountUrl();if(!(typeof tt<"u"))throw"Not supported by the OIDC server";return window.location.href=tt,Oi().promise},redirectUri:function(tt,Yt){return tt&&tt.redirectUri?tt.redirectUri:ie.redirectUri?ie.redirectUri:location.href}};if("cordova"==st){ue.enable=!1;var ri=function(tt,Yt,Mi){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(tt,Yt,Mi):window.open(tt,Yt,Mi)},ft=function(tt){var Yt=function(tt){return tt&&tt.cordovaOptions?Object.keys(tt.cordovaOptions).reduce(function(Yt,Mi){return Yt[Mi]=tt.cordovaOptions[Mi],Yt},{}):{}}(tt);return Yt.location="no",tt&&"none"==tt.prompt&&(Yt.hidden="yes"),function(tt){return Object.keys(tt).reduce(function(Yt,Mi){return Yt.push(Mi+"="+tt[Mi]),Yt},[]).join(",")}(Yt)},Wt=function(){return ie.redirectUri||"http://localhost"};return{login:function(tt){var Yt=Oi(),Mi=ft(tt),Qi=ie.createLoginUrl(tt),tn=ri(Qi,"_blank",Mi),dn=!1,gn=!1,Sn=function(){gn=!0,tn.close()};return tn.addEventListener("loadstart",function(Ni){0==Ni.url.indexOf(Wt())&&(Ye(bi(Ni.url),Yt),Sn(),dn=!0)}),tn.addEventListener("loaderror",function(Ni){dn||(0==Ni.url.indexOf(Wt())?(Ye(bi(Ni.url),Yt),Sn(),dn=!0):(Yt.setError(),Sn()))}),tn.addEventListener("exit",function(Ni){gn||Yt.setError({reason:"closed_by_user"})}),Yt.promise},logout:function(tt){var tn,Yt=Oi(),Mi=ie.createLogoutUrl(tt),Qi=ri(Mi,"_blank","location=no,hidden=yes,clearcache=yes");return Qi.addEventListener("loadstart",function(dn){0==dn.url.indexOf(Wt())&&Qi.close()}),Qi.addEventListener("loaderror",function(dn){0==dn.url.indexOf(Wt())||(tn=!0),Qi.close()}),Qi.addEventListener("exit",function(dn){tn?Yt.setError():(ie.clearToken(),Yt.setSuccess())}),Yt.promise},register:function(tt){var Yt=Oi(),Mi=ie.createRegisterUrl(),Qi=ft(tt),tn=ri(Mi,"_blank",Qi);return tn.addEventListener("loadstart",function(dn){0==dn.url.indexOf(Wt())&&(tn.close(),Ye(bi(dn.url),Yt))}),Yt.promise},accountManagement:function(){var tt=ie.createAccountUrl();if(!(typeof tt<"u"))throw"Not supported by the OIDC server";var Yt=ri(tt,"_blank","location=no");Yt.addEventListener("loadstart",function(Mi){0==Mi.url.indexOf(Wt())&&Yt.close()})},redirectUri:function(tt){return Wt()}}}if("cordova-native"==st)return ue.enable=!1,{login:function(tt){var Yt=Oi(),Mi=ie.createLoginUrl(tt);return universalLinks.subscribe("keycloak",function(Qi){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Ye(bi(Qi.url),Yt)}),window.cordova.plugins.browsertab.openUrl(Mi),Yt.promise},logout:function(tt){var Yt=Oi(),Mi=ie.createLogoutUrl(tt);return universalLinks.subscribe("keycloak",function(Qi){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),ie.clearToken(),Yt.setSuccess()}),window.cordova.plugins.browsertab.openUrl(Mi),Yt.promise},register:function(tt){var Yt=Oi(),Mi=ie.createRegisterUrl(tt);return universalLinks.subscribe("keycloak",function(Qi){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),Ye(bi(Qi.url),Yt)}),window.cordova.plugins.browsertab.openUrl(Mi),Yt.promise},accountManagement:function(){var tt=ie.createAccountUrl();if(!(typeof tt<"u"))throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(tt)},redirectUri:function(tt){return tt&&tt.redirectUri?tt.redirectUri:ie.redirectUri?ie.redirectUri:"http://localhost"}};throw"invalid adapter type: "+st}ie.init=function(st){if(ie.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");if(ie.didInitialize=!0,ie.authenticated=!1,ve=function Tt(){try{return new yt}catch{}return new Zt}(),ee=st&&["default","cordova","cordova-native"].indexOf(st.adapter)>-1?ut(st.adapter):st&&"object"==typeof st.adapter?st.adapter:window.Cordova||window.cordova?ut("cordova"):ut(),st){if(typeof st.useNonce<"u"&&(Ct=st.useNonce),typeof st.checkLoginIframe<"u"&&(ue.enable=st.checkLoginIframe),st.checkLoginIframeInterval&&(ue.interval=st.checkLoginIframeInterval),"login-required"===st.onLoad&&(ie.loginRequired=!0),st.responseMode){if("query"!==st.responseMode&&"fragment"!==st.responseMode)throw"Invalid value for responseMode";ie.responseMode=st.responseMode}if(st.flow){switch(st.flow){case"standard":ie.responseType="code";break;case"implicit":ie.responseType="id_token token";break;case"hybrid":ie.responseType="code id_token token";break;default:throw"Invalid value for flow"}ie.flow=st.flow}if(null!=st.timeSkew&&(ie.timeSkew=st.timeSkew),st.redirectUri&&(ie.redirectUri=st.redirectUri),st.silentCheckSsoRedirectUri&&(ie.silentCheckSsoRedirectUri=st.silentCheckSsoRedirectUri),ie.silentCheckSsoFallback="boolean"!=typeof st.silentCheckSsoFallback||st.silentCheckSsoFallback,st.pkceMethod){if("S256"!==st.pkceMethod)throw"Invalid value for pkceMethod";ie.pkceMethod=st.pkceMethod}ie.enableLogging="boolean"==typeof st.enableLogging&&st.enableLogging,"string"==typeof st.scope&&(ie.scope=st.scope),"string"==typeof st.acrValues&&(ie.acrValues=st.acrValues),ie.messageReceiveTimeout="number"==typeof st.messageReceiveTimeout&&st.messageReceiveTimeout>0?st.messageReceiveTimeout:1e4}ie.responseMode||(ie.responseMode="fragment"),ie.responseType||(ie.responseType="code",ie.flow="standard");var ct=Oi(),Ut=Oi();Ut.promise.then(function(){ie.onReady&&ie.onReady(ie.authenticated),ct.setSuccess(ie.authenticated)}).catch(function(Mi){ct.setError(Mi)});var ft=function Ht(st){var ct,ri=Oi();function Ut(Qi){ie.endpoints=Qi?{authorize:function(){return Qi.authorization_endpoint},token:function(){return Qi.token_endpoint},logout:function(){if(!Qi.end_session_endpoint)throw"Not supported by the OIDC server";return Qi.end_session_endpoint},checkSessionIframe:function(){if(!Qi.check_session_iframe)throw"Not supported by the OIDC server";return Qi.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!Qi.userinfo_endpoint)throw"Not supported by the OIDC server";return Qi.userinfo_endpoint}}:{authorize:function(){return Le()+"/protocol/openid-connect/auth"},token:function(){return Le()+"/protocol/openid-connect/token"},logout:function(){return Le()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var tn=Le()+"/protocol/openid-connect/login-status-iframe.html";return ie.iframeVersion&&(tn=tn+"?version="+ie.iframeVersion),tn},thirdPartyCookiesIframe:function(){var tn=Le()+"/protocol/openid-connect/3p-cookies/step1.html";return ie.iframeVersion&&(tn=tn+"?version="+ie.iframeVersion),tn},register:function(){return Le()+"/protocol/openid-connect/registrations"},userinfo:function(){return Le()+"/protocol/openid-connect/userinfo"}}}if(rt?"string"==typeof rt&&(ct=rt):ct="keycloak.json",ct)(ft=new XMLHttpRequest).open("GET",ct,!0),ft.setRequestHeader("Accept","application/json"),ft.onreadystatechange=function(){if(4==ft.readyState)if(200==ft.status||vi(ft)){var Qi=JSON.parse(ft.responseText);ie.authServerUrl=Qi["auth-server-url"],ie.realm=Qi.realm,ie.clientId=Qi.resource,Ut(null),ri.setSuccess()}else ri.setError()},ft.send();else{if(!rt.clientId)throw"clientId missing";ie.clientId=rt.clientId;var Wt=rt.oidcProvider;if(Wt)if("string"==typeof Wt){var Mi,ft;Mi="/"==Wt.charAt(Wt.length-1)?Wt+".well-known/openid-configuration":Wt+"/.well-known/openid-configuration",(ft=new XMLHttpRequest).open("GET",Mi,!0),ft.setRequestHeader("Accept","application/json"),ft.onreadystatechange=function(){4==ft.readyState&&(200==ft.status||vi(ft)?(Ut(JSON.parse(ft.responseText)),ri.setSuccess()):ri.setError())},ft.send()}else Ut(Wt),ri.setSuccess();else{if(!rt.url)for(var tt=document.getElementsByTagName("script"),Yt=0;Yt<tt.length;Yt++)if(tt[Yt].src.match(/.*keycloak\.js/)){rt.url=tt[Yt].src.substr(0,tt[Yt].src.indexOf("/js/keycloak.js"));break}if(!rt.realm)throw"realm missing";ie.authServerUrl=rt.url,ie.realm=rt.realm,Ut(null),ri.setSuccess()}}return ri.promise}();function Wt(){var Mi=function(dn){dn||(tn.prompt="none"),st&&st.locale&&(tn.locale=st.locale),ie.login(tn).then(function(){Ut.setSuccess()}).catch(function(gn){Ut.setError(gn)})},Qi=function(){var dn=document.createElement("iframe"),gn=ie.createLoginUrl({prompt:"none",redirectUri:ie.silentCheckSsoRedirectUri});dn.setAttribute("src",gn),dn.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),dn.setAttribute("title","keycloak-silent-check-sso"),dn.style.display="none",document.body.appendChild(dn);var Sn=function(Ni){Ni.origin===window.location.origin&&dn.contentWindow===Ni.source&&(Ye(bi(Ni.data),Ut),document.body.removeChild(dn),window.removeEventListener("message",Sn))};window.addEventListener("message",Sn)},tn={};switch(st.onLoad){case"check-sso":ue.enable?Qt().then(function(){wt().then(function(dn){dn?Ut.setSuccess():ie.silentCheckSsoRedirectUri?Qi():Mi(!1)}).catch(function(dn){Ut.setError(dn)})}):ie.silentCheckSsoRedirectUri?Qi():Mi(!1);break;case"login-required":Mi(!0);break;default:throw"Invalid value for onLoad"}}function tt(){var Mi=bi(window.location.href);if(Mi&&window.history.replaceState(window.history.state,null,Mi.newUrl),Mi&&Mi.valid)return Qt().then(function(){Ye(Mi,Ut)}).catch(function(Qi){Ut.setError(Qi)});st?st.token&&st.refreshToken?(Et(st.token,st.refreshToken,st.idToken),ue.enable?Qt().then(function(){wt().then(function(Qi){Qi?(ie.onAuthSuccess&&ie.onAuthSuccess(),Ut.setSuccess(),lt()):Ut.setSuccess()}).catch(function(Qi){Ut.setError(Qi)})}):ie.updateToken(-1).then(function(){ie.onAuthSuccess&&ie.onAuthSuccess(),Ut.setSuccess()}).catch(function(Qi){ie.onAuthError&&ie.onAuthError(),st.onLoad?Wt():Ut.setError(Qi)})):st.onLoad?Wt():Ut.setSuccess():Ut.setSuccess()}return ft.then(function(){(function Yt(){var Mi=Oi(),Qi=function(){("interactive"===document.readyState||"complete"===document.readyState)&&(document.removeEventListener("readystatechange",Qi),Mi.setSuccess())};return document.addEventListener("readystatechange",Qi),Qi(),Mi.promise})().then(ii).then(tt).catch(function(Mi){ct.setError(Mi)})}),ft.catch(function(Mi){ct.setError(Mi)}),ct.promise},ie.login=function(st){return ee.login(st)},ie.createLoginUrl=function(st){var Wt,ri=wi(),ct=wi(),Ut=ee.redirectUri(st),ft={state:ri,nonce:ct,redirectUri:encodeURIComponent(Ut)};st&&st.prompt&&(ft.prompt=st.prompt),Wt=st&&"register"==st.action?ie.endpoints.register():ie.endpoints.authorize();var tt=st&&st.scope||ie.scope;tt?-1===tt.indexOf("openid")&&(tt="openid "+tt):tt="openid";var Yt=Wt+"?client_id="+encodeURIComponent(ie.clientId)+"&redirect_uri="+encodeURIComponent(Ut)+"&state="+encodeURIComponent(ri)+"&response_mode="+encodeURIComponent(ie.responseMode)+"&response_type="+encodeURIComponent(ie.responseType)+"&scope="+encodeURIComponent(tt);if(Ct&&(Yt=Yt+"&nonce="+encodeURIComponent(ct)),st&&st.prompt&&(Yt+="&prompt="+encodeURIComponent(st.prompt)),st&&st.maxAge&&(Yt+="&max_age="+encodeURIComponent(st.maxAge)),st&&st.loginHint&&(Yt+="&login_hint="+encodeURIComponent(st.loginHint)),st&&st.idpHint&&(Yt+="&kc_idp_hint="+encodeURIComponent(st.idpHint)),st&&st.action&&"register"!=st.action&&(Yt+="&kc_action="+encodeURIComponent(st.action)),st&&st.locale&&(Yt+="&ui_locales="+encodeURIComponent(st.locale)),st&&st.acr){var Mi=function Oe(st){return JSON.stringify({id_token:{acr:st}})}(st.acr);Yt+="&claims="+encodeURIComponent(Mi)}if((st&&st.acrValues||ie.acrValues)&&(Yt+="&acr_values="+encodeURIComponent(st.acrValues||ie.acrValues)),ie.pkceMethod){var Qi=function oi(st){return q(st,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}(96);ft.pkceCodeVerifier=Qi;var tn=function Ot(st,ri){if("S256"===st){var ct=new Uint8Array(O.arrayBuffer(ri));return b.fromByteArray(ct).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}throw"Invalid value for pkceMethod"}(ie.pkceMethod,Qi);Yt+="&code_challenge="+tn,Yt+="&code_challenge_method="+ie.pkceMethod}return ve.add(ft),Yt},ie.logout=function(st){return ee.logout(st)},ie.createLogoutUrl=function(st){var ri=ie.endpoints.logout()+"?client_id="+encodeURIComponent(ie.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(ee.redirectUri(st,!1));return ie.idToken&&(ri+="&id_token_hint="+encodeURIComponent(ie.idToken)),ri},ie.register=function(st){return ee.register(st)},ie.createRegisterUrl=function(st){return st||(st={}),st.action="register",ie.createLoginUrl(st)},ie.createAccountUrl=function(st){var ri=Le(),ct=void 0;return typeof ri<"u"&&(ct=ri+"/account?referrer="+encodeURIComponent(ie.clientId)+"&referrer_uri="+encodeURIComponent(ee.redirectUri(st))),ct},ie.accountManagement=function(){return ee.accountManagement()},ie.hasRealmRole=function(st){var ri=ie.realmAccess;return!!ri&&ri.roles.indexOf(st)>=0},ie.hasResourceRole=function(st,ri){if(!ie.resourceAccess)return!1;var ct=ie.resourceAccess[ri||ie.clientId];return!!ct&&ct.roles.indexOf(st)>=0},ie.loadUserProfile=function(){var st=Le()+"/account",ri=new XMLHttpRequest;ri.open("GET",st,!0),ri.setRequestHeader("Accept","application/json"),ri.setRequestHeader("Authorization","bearer "+ie.token);var ct=Oi();return ri.onreadystatechange=function(){4==ri.readyState&&(200==ri.status?(ie.profile=JSON.parse(ri.responseText),ct.setSuccess(ie.profile)):ct.setError())},ri.send(),ct.promise},ie.loadUserInfo=function(){var st=ie.endpoints.userinfo(),ri=new XMLHttpRequest;ri.open("GET",st,!0),ri.setRequestHeader("Accept","application/json"),ri.setRequestHeader("Authorization","bearer "+ie.token);var ct=Oi();return ri.onreadystatechange=function(){4==ri.readyState&&(200==ri.status?(ie.userInfo=JSON.parse(ri.responseText),ct.setSuccess(ie.userInfo)):ct.setError())},ri.send(),ct.promise},ie.isTokenExpired=function(st){if(!ie.tokenParsed||!ie.refreshToken&&"implicit"!=ie.flow)throw"Not authenticated";if(null==ie.timeSkew)return qt("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var ri=ie.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+ie.timeSkew;if(st){if(isNaN(st))throw"Invalid minValidity";ri-=st}return ri<0},ie.updateToken=function(st){var ri=Oi();if(!ie.refreshToken)return ri.setError(),ri.promise;st=st||5;var ct=function(){var ft=!1;if(-1==st?(ft=!0,qt("[KEYCLOAK] Refreshing token: forced refresh")):(!ie.tokenParsed||ie.isTokenExpired(st))&&(ft=!0,qt("[KEYCLOAK] Refreshing token: token expired")),ft){var Wt="grant_type=refresh_token&refresh_token="+ie.refreshToken,tt=ie.endpoints.token();if(Ce.push(ri),1==Ce.length){var Yt=new XMLHttpRequest;Yt.open("POST",tt,!0),Yt.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Yt.withCredentials=!0,Wt+="&client_id="+encodeURIComponent(ie.clientId);var Mi=(new Date).getTime();Yt.onreadystatechange=function(){if(4==Yt.readyState)if(200==Yt.status){qt("[KEYCLOAK] Token refreshed"),Mi=(Mi+(new Date).getTime())/2;var Qi=JSON.parse(Yt.responseText);Et(Qi.access_token,Qi.refresh_token,Qi.id_token,Mi),ie.onAuthRefreshSuccess&&ie.onAuthRefreshSuccess();for(var tn=Ce.pop();null!=tn;tn=Ce.pop())tn.setSuccess(!0)}else for(pt("[KEYCLOAK] Failed to refresh token"),400==Yt.status&&ie.clearToken(),ie.onAuthRefreshError&&ie.onAuthRefreshError(),tn=Ce.pop();null!=tn;tn=Ce.pop())tn.setError(!0)},Yt.send(Wt)}}else ri.setSuccess(!1)};return ue.enable?wt().then(function(){ct()}).catch(function(ft){ri.setError(ft)}):ct(),ri.promise},ie.clearToken=function(){ie.token&&(Et(null,null,null),ie.onAuthLogout&&ie.onAuthLogout(),ie.loginRequired&&ie.login())};var yt=function(){if(!(this instanceof yt))return new yt;function ri(){for(var ct=(new Date).getTime(),Ut=0;Ut<localStorage.length;Ut++){var ft=localStorage.key(Ut);if(ft&&0==ft.indexOf("kc-callback-")){var Wt=localStorage.getItem(ft);if(Wt)try{var tt=JSON.parse(Wt).expires;(!tt||tt<ct)&&localStorage.removeItem(ft)}catch{localStorage.removeItem(ft)}}}}localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test"),this.get=function(ct){if(ct){var Ut="kc-callback-"+ct,ft=localStorage.getItem(Ut);return ft&&(localStorage.removeItem(Ut),ft=JSON.parse(ft)),ri(),ft}},this.add=function(ct){ri();var Ut="kc-callback-"+ct.state;ct.expires=(new Date).getTime()+36e5,localStorage.setItem(Ut,JSON.stringify(ct))}},Zt=function(){if(!(this instanceof Zt))return new Zt;this.get=function(ft){if(ft){var Wt=ct("kc-callback-"+ft);if(Ut("kc-callback-"+ft,"",ri(-100)),Wt)return JSON.parse(Wt)}},this.add=function(ft){Ut("kc-callback-"+ft.state,JSON.stringify(ft),ri(60))},this.removeItem=function(ft){Ut(ft,"",ri(-100))};var ri=function(ft){var Wt=new Date;return Wt.setTime(Wt.getTime()+60*ft*1e3),Wt},ct=function(ft){for(var Wt=ft+"=",tt=document.cookie.split(";"),Yt=0;Yt<tt.length;Yt++){for(var Mi=tt[Yt];" "==Mi.charAt(0);)Mi=Mi.substring(1);if(0==Mi.indexOf(Wt))return Mi.substring(Wt.length,Mi.length)}return""},Ut=function(ft,Wt,tt){var Yt=ft+"="+Wt+"; expires="+tt.toUTCString()+"; ";document.cookie=Yt}};function di(st){return function(){ie.enableLogging&&st.apply(console,Array.prototype.slice.call(arguments))}}}},5762:(Ui,ni,N)=>{"use strict";N.d(ni,{A:()=>E});let E=(ye=21)=>{let K="",Ke=ye;for(;Ke--;)K+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return K}},2820:(Ui,ni,N)=>{"use strict";N.d(ni,{$P:()=>qt,sN:()=>oi});var b=N(467),O=N(7705),E=N(2771),ye=N(8359),K=N(1413),Ke=N(3236),j=N(1985),rt=N(9974),ie=N(4360),ee=N(8750),ve=N(1584);var P=N(5558);class Be{constructor(){this.subject=new E.m(1),this.subscriptions=new ye.yU}doFilter(Ot){this.subject.next(Ot)}dispose(){this.subscriptions.unsubscribe()}notEmpty(Ot,Oe){this.subscriptions.add(this.subject.subscribe(Le=>{if(Le[Ot]){const We=Le[Ot].currentValue;null!=We&&Oe(We)}}))}has(Ot,Oe){this.subscriptions.add(this.subject.subscribe(Le=>{Le[Ot]&&Oe(Le[Ot].currentValue)}))}notFirst(Ot,Oe){this.subscriptions.add(this.subject.subscribe(Le=>{Le[Ot]&&!Le[Ot].isFirstChange()&&Oe(Le[Ot].currentValue)}))}notFirstAndEmpty(Ot,Oe){this.subscriptions.add(this.subject.subscribe(Le=>{if(Le[Ot]&&!Le[Ot].isFirstChange()){const We=Le[Ot].currentValue;null!=We&&Oe(We)}}))}}const Ct=new O.nKC("NGX_ECHARTS_CONFIG");let qt=(()=>{class q{constructor(Oe,Le,We){this.el=Le,this.ngZone=We,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new O.bkB,this.optionsError=new O.bkB,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new E.m(1),this.resize$=new K.B,this.changeFilter=new Be,this.resizeObFired=!1,this.echarts=Oe.echarts,this.theme=Oe.theme||null}ngOnChanges(Oe){this.changeFilter.doFilter(Oe)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(function ue(q,Ot=Ke.E,Oe){const Le=(0,ve.O)(q,Ot);return function Ce(q,Ot){return(0,rt.N)((Oe,Le)=>{const{leading:We=!0,trailing:Ye=!1}=Ot??{};let Ht=!1,vi=null,Et=null,wi=!1;const bi=()=>{Et?.unsubscribe(),Et=null,Ye&&(Oi(),wi&&Le.complete())},Ci=()=>{Et=null,wi&&Le.complete()},an=Cn=>Et=(0,ee.Tg)(q(Cn)).subscribe((0,ie._)(Le,bi,Ci)),Oi=()=>{if(Ht){Ht=!1;const Cn=vi;vi=null,Le.next(Cn),!wi&&an(Cn)}};Oe.subscribe((0,ie._)(Le,Cn=>{Ht=!0,vi=Cn,(!Et||Et.closed)&&(We?Oi():an(Cn))},()=>{wi=!0,(!(Ye&&Ht&&Et)||Et.closed)&&Le.complete()}))})}(()=>Le,Oe)}(100,Ke.E,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(Oe=>{for(const Le of Oe)Le.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",Oe=>this.onOptionsChange(Oe)),this.changeFilter.notFirstAndEmpty("merge",Oe=>this.setOption(Oe)),this.changeFilter.has("loading",Oe=>this.toggleLoading(!!Oe)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(Oe){this.chart?Oe?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(Le=>Oe?Le.showLoading(this.loadingType,this.loadingOpts):Le.hideLoading())}setOption(Oe,Le){if(this.chart)try{this.chart.setOption(Oe,Le)}catch(We){console.error(We),this.optionsError.emit(We)}}refreshChart(){var Oe=this;return(0,b.A)(function*(){Oe.dispose(),yield Oe.initChart()})()}createChart(){const Oe=this.el.nativeElement;if(window&&window.getComputedStyle){const Le=window.getComputedStyle(Oe,null).getPropertyValue("height");(!Le||"0px"===Le)&&(!Oe.style.height||"0px"===Oe.style.height)&&(Oe.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:We})=>We(Oe,this.theme,this.initOpts)))}initChart(){var Oe=this;return(0,b.A)(function*(){yield Oe.onOptionsChange(Oe.options),Oe.merge&&Oe.chart&&Oe.setOption(Oe.merge)})()}onOptionsChange(Oe){var Le=this;return(0,b.A)(function*(){Oe&&(Le.chart||(Le.chart=yield Le.createChart(),Le.chart$.next(Le.chart),Le.chartInit.emit(Le.chart)),Le.setOption(Le.options,!0))})()}createLazyEvent(Oe){return this.chartInit.pipe((0,P.n)(Le=>new j.c(We=>(Le.on(Oe,Ye=>this.ngZone.run(()=>We.next(Ye))),()=>{this.chart&&(this.chart.isDisposed()||Le.off(Oe))}))))}static{this.\u0275fac=function(Le){return new(Le||q)(O.rXU(Ct),O.rXU(O.aKT),O.rXU(O.SKi))}}static{this.\u0275dir=O.FsC({type:q,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[O.OA$]})}}return q})();const Ai=q=>({provide:Ct,useValue:q});let oi=(()=>{class q{static forRoot(Oe){return{ngModule:q,providers:[Ai(Oe)]}}static forChild(){return{ngModule:q}}static{this.\u0275fac=function(Le){return new(Le||q)}}static{this.\u0275mod=O.$C({type:q})}static{this.\u0275inj=O.G2t({})}}return q})()},6554:(Ui,ni,N)=>{"use strict";N.d(ni,{PO:()=>Oe,et:()=>Ot,ex:()=>Ai});var b=N(7705),O=N(4412),E=N(1413),ye=N(5964),K=N(6977),Ke=N(9969),j=N(177),rt=N(345);const ie=["overlay"];function ee(Le,We){1&Le&&b.nrm(0,"div")}function Ce(Le,We){if(1&Le&&(b.j41(0,"div"),b.DNE(1,ee,1,0,"div",6),b.k0s()),2&Le){const Ye=b.XpG(2);b.HbH(Ye.spinner.class),b.xc7("color",Ye.spinner.color),b.R7$(1),b.Y8G("ngForOf",Ye.spinner.divArray)}}function ve(Le,We){if(1&Le&&(b.nrm(0,"div",7),b.nI1(1,"safeHtml")),2&Le){const Ye=b.XpG(2);b.Y8G("innerHTML",b.bMT(1,1,Ye.template),b.npT)}}function ue(Le,We){if(1&Le&&(b.j41(0,"div",1,2),b.DNE(2,Ce,2,5,"div",3),b.DNE(3,ve,2,3,"div",4),b.j41(4,"div",5),b.SdG(5),b.k0s()()),2&Le){const Ye=b.XpG();b.xc7("background-color",Ye.spinner.bdColor)("z-index",Ye.spinner.zIndex)("position",Ye.spinner.fullScreen?"fixed":"absolute"),b.Y8G("@.disabled",Ye.disableAnimation)("@fadeIn","in"),b.R7$(2),b.Y8G("ngIf",!Ye.template),b.R7$(1),b.Y8G("ngIf",Ye.template),b.R7$(1),b.xc7("z-index",Ye.spinner.zIndex)}}const P=["*"],Be={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},qt="primary";class pt{constructor(We){Object.assign(this,We)}static create(We){return!We?.template&&!We?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new pt(We)}}let Ai=(()=>{class Le{constructor(){this.spinnerObservable=new O.t(null)}getSpinner(Ye){return this.spinnerObservable.asObservable().pipe((0,ye.p)(Ht=>Ht&&Ht.name===Ye))}show(Ye=qt,Ht){return new Promise((vi,Et)=>{setTimeout(()=>{Ht&&Object.keys(Ht).length?(Ht.name=Ye,this.spinnerObservable.next(new pt({...Ht,show:!0})),vi(!0)):(this.spinnerObservable.next(new pt({name:Ye,show:!0})),vi(!0))},10)})}hide(Ye=qt,Ht=10){return new Promise((vi,Et)=>{setTimeout(()=>{this.spinnerObservable.next(new pt({name:Ye,show:!1})),vi(!0)},Ht)})}static{this.\u0275fac=function(Ht){return new(Ht||Le)}}static{this.\u0275prov=b.jDH({token:Le,factory:Le.\u0275fac,providedIn:"root"})}}return Le})();const oi=new b.nKC("NGX_SPINNER_CONFIG");let q=(()=>{class Le{constructor(Ye){this._sanitizer=Ye}transform(Ye){if(Ye)return this._sanitizer.bypassSecurityTrustHtml(Ye)}static{this.\u0275fac=function(Ht){return new(Ht||Le)(b.rXU(rt.up,16))}}static{this.\u0275pipe=b.EJ8({name:"safeHtml",type:Le,pure:!0})}}return Le})(),Ot=(()=>{class Le{constructor(Ye,Ht,vi,Et){this.spinnerService=Ye,this.changeDetector=Ht,this.elementRef=vi,this.globalConfig=Et,this.disableAnimation=!1,this.spinner=new pt,this.ngUnsubscribe=new E.B,this.setDefaultOptions=()=>{const{type:wi}=this.globalConfig??{};this.spinner=pt.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type??wi,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=qt,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,K.Q)(this.ngUnsubscribe)).subscribe(Ye=>{this.setDefaultOptions(),Object.assign(this.spinner,Ye),Ye.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(Ye){return Ye===this.elementRef.nativeElement.parentElement||Ye.parentNode&&this.isSpinnerZone(Ye.parentNode)}ngOnChanges(Ye){for(const Ht in Ye)if(Ht){const vi=Ye[Ht];if(vi.isFirstChange())return;typeof vi.currentValue<"u"&&vi.currentValue!==vi.previousValue&&""!==vi.currentValue&&(this.spinner[Ht]=vi.currentValue,"showSpinner"===Ht&&(vi.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===Ht&&this.initObservable())}}getClass(Ye,Ht){this.spinner.divCount=Be[Ye],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((Et,wi)=>wi);let vi="";switch(Ht.toLowerCase()){case"small":vi="la-sm";break;case"medium":vi="la-2x";break;case"large":vi="la-3x"}return"la-"+Ye+" "+vi}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}static{this.\u0275fac=function(Ht){return new(Ht||Le)(b.rXU(Ai),b.rXU(b.gRc),b.rXU(b.aKT),b.rXU(oi,8))}}static{this.\u0275cmp=b.VBU({type:Le,selectors:[["ngx-spinner"]],viewQuery:function(Ht,vi){if(1&Ht&&b.GBs(ie,5),2&Ht){let Et;b.mGM(Et=b.lsd())&&(vi.spinnerDOM=Et.first)}},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[b.OA$],ngContentSelectors:P,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(Ht,vi){1&Ht&&(b.NAR(),b.DNE(0,ue,6,12,"div",0)),2&Ht&&b.Y8G("ngIf",vi.spinner.show)},dependencies:[j.Sq,j.bT,q],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,Ke.hZ)("fadeIn",[(0,Ke.wk)("in",(0,Ke.iF)({opacity:1})),(0,Ke.kY)(":enter",[(0,Ke.iF)({opacity:0}),(0,Ke.i0)(300)]),(0,Ke.kY)(":leave",(0,Ke.i0)(200,(0,Ke.iF)({opacity:0})))])]},changeDetection:0})}}return Le})(),Oe=(()=>{class Le{static forRoot(Ye){return{ngModule:Le,providers:[{provide:oi,useValue:Ye}]}}static{this.\u0275fac=function(Ht){return new(Ht||Le)}}static{this.\u0275mod=b.$C({type:Le})}static{this.\u0275inj=b.G2t({imports:[j.MD]})}}return Le})()},467:(Ui,ni,N)=>{"use strict";function b(E,ye,K,Ke,j,rt,ie){try{var ee=E[rt](ie),Ce=ee.value}catch(ve){return void K(ve)}ee.done?ye(Ce):Promise.resolve(Ce).then(Ke,j)}function O(E){return function(){var ye=this,K=arguments;return new Promise(function(Ke,j){var rt=E.apply(ye,K);function ie(Ce){b(rt,Ke,j,ie,ee,"next",Ce)}function ee(Ce){b(rt,Ke,j,ie,ee,"throw",Ce)}ie(void 0)})}}N.d(ni,{A:()=>O})},1635:(Ui,ni,N)=>{"use strict";function ve(Qt,lt,wt,ii){return new(wt||(wt=Promise))(function(yt,Zt){function Tt(ri){try{st(ii.next(ri))}catch(ct){Zt(ct)}}function di(ri){try{st(ii.throw(ri))}catch(ct){Zt(ct)}}function st(ri){ri.done?yt(ri.value):function ut(yt){return yt instanceof wt?yt:new wt(function(Zt){Zt(yt)})}(ri.value).then(Tt,di)}st((ii=ii.apply(Qt,lt||[])).next())})}function q(Qt){return this instanceof q?(this.v=Qt,this):new q(Qt)}function Ot(Qt,lt,wt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,ii=wt.apply(Qt,lt||[]),yt=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Tt("next"),Tt("throw"),Tt("return",function Zt(ft){return function(Wt){return Promise.resolve(Wt).then(ft,ct)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function Tt(ft,Wt){ii[ft]&&(ut[ft]=function(tt){return new Promise(function(Yt,Mi){yt.push([ft,tt,Yt,Mi])>1||di(ft,tt)})},Wt&&(ut[ft]=Wt(ut[ft])))}function di(ft,Wt){try{!function st(ft){ft.value instanceof q?Promise.resolve(ft.value.v).then(ri,ct):Ut(yt[0][2],ft)}(ii[ft](Wt))}catch(tt){Ut(yt[0][3],tt)}}function ri(ft){di("next",ft)}function ct(ft){di("throw",ft)}function Ut(ft,Wt){ft(Wt),yt.shift(),yt.length&&di(yt[0][0],yt[0][1])}}function Le(Qt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,lt=Qt[Symbol.asyncIterator];return lt?lt.call(Qt):(Qt=function Ct(Qt){var lt="function"==typeof Symbol&&Symbol.iterator,wt=lt&&Qt[lt],ii=0;if(wt)return wt.call(Qt);if(Qt&&"number"==typeof Qt.length)return{next:function(){return Qt&&ii>=Qt.length&&(Qt=void 0),{value:Qt&&Qt[ii++],done:!Qt}}};throw new TypeError(lt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Qt),wt={},ii("next"),ii("throw"),ii("return"),wt[Symbol.asyncIterator]=function(){return this},wt);function ii(yt){wt[yt]=Qt[yt]&&function(Zt){return new Promise(function(Tt,di){!function ut(yt,Zt,Tt,di){Promise.resolve(di).then(function(st){yt({value:st,done:Tt})},Zt)}(Tt,di,(Zt=Qt[yt](Zt)).done,Zt.value)})}}}N.d(ni,{AQ:()=>Ot,N3:()=>q,sH:()=>ve,xN:()=>Le}),"function"==typeof SuppressedError&&SuppressedError}},Ui=>{Ui(Ui.s=7010)}]);