(self.webpackChunkrecon_UI=self.webpackChunkrecon_UI||[]).push([[614],{6614:(le,re,P)=>{"use strict";P.r(re),P.d(re,{CUSTOM_DATE_FORMATS:()=>T1,CategorizeAppModule:()=>k1,CustomDateAdapter:()=>O1});var g=P(177),b=P(8498),F=P(4006),y=P(8908),p=P(9417),I=P(7769),G=P(467),h=P(7677);const C="function"==typeof Buffer,_=("function"==typeof TextDecoder&&new TextDecoder,"function"==typeof TextEncoder?new TextEncoder:void 0),S=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=((o=>{let r={};o.forEach((t,a)=>r[t]=a)})(S),String.fromCharCode.bind(String)),M=("function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),o=>o.replace(/=/g,"").replace(/[+\/]/g,r=>"+"==r?"-":"_")),A="function"==typeof btoa?o=>btoa(o):C?o=>Buffer.from(o,"binary").toString("base64"):o=>{let r,t,a,n,i="";const s=o.length%3;for(let l=0;l<o.length;){if((t=o.charCodeAt(l++))>255||(a=o.charCodeAt(l++))>255||(n=o.charCodeAt(l++))>255)throw new TypeError("invalid character found");r=t<<16|a<<8|n,i+=S[r>>18&63]+S[r>>12&63]+S[r>>6&63]+S[63&r]}return s?i.slice(0,s-3)+"===".substring(s):i},Y=C?o=>Buffer.from(o).toString("base64"):o=>{let t=[];for(let a=0,n=o.length;a<n;a+=4096)t.push(f.apply(null,o.subarray(a,a+4096)));return A(t.join(""))},L=o=>{if(o.length<2)return(r=o.charCodeAt(0))<128?o:r<2048?f(192|r>>>6)+f(128|63&r):f(224|r>>>12&15)+f(128|r>>>6&63)+f(128|63&r);var r=65536+1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320);return f(240|r>>>18&7)+f(128|r>>>12&63)+f(128|r>>>6&63)+f(128|63&r)},se=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,te=C?o=>Buffer.from(o,"utf8").toString("base64"):_?o=>Y(_.encode(o)):o=>A((o=>o.replace(se,L))(o)),Pt_encode=(o,r=!1)=>r?M(te(o)):te(o);var et=P(3711),Ye=P.n(et);function at(o){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function xt(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,wt(a.key),a)}}function wt(o){var r=function Ht(o,r){if("object"!==at(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==at(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===at(r)?r:String(r)}function Ut(o){var r="function"==typeof Map?new Map:void 0;return Ut=function(a){if(null===a||!function wn(o){try{return-1!==Function.toString.call(o).indexOf("[native code]")}catch{return"function"==typeof o}}(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(a))return r.get(a);r.set(a,n)}function n(){return it(a,arguments,vt(this).constructor)}return n.prototype=Object.create(a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Dt(n,a)},Ut(o)}function it(o,r,t){return(it=yt()?Reflect.construct.bind():function(n,i,s){var l=[null];l.push.apply(l,i);var d=new(Function.bind.apply(n,l));return s&&Dt(d,s.prototype),d}).apply(null,arguments)}function yt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dt(o,r){return(Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a})(o,r)}function vt(o){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(o)}const lt=function(o){!function tt(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),r&&Dt(o,r)}(t,o);var r=function Ze(o){var r=yt();return function(){var n,a=vt(o);if(r){var i=vt(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function st(o,r){if(r&&("object"===at(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function $t(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,n)}}(t);function t(a){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(function Ot(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r.call(this,a)).originalRequest=s,n.originalResponse=l,n.causingError=i,null!=i&&(a+=", caused by ".concat(i.toString())),null!=s){var c=s.getHeader("X-Request-ID")||"n/a",d=s.getMethod(),m=s.getURL(),E=l?l.getStatus():"n/a",U=l?l.getBody()||"":"n/a";a+=", originated from request (method: ".concat(d,", url: ").concat(m,", response code: ").concat(E,", response text: ").concat(U,", request id: ").concat(c,")")}return n.message=a,n}return function Vt(o,r,t){return r&&xt(o.prototype,r),t&&xt(o,t),Object.defineProperty(o,"prototype",{writable:!1}),o}(t)}(Ut(Error));function Jt(){Jt=function(){return r};var o,r={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(V,k,N){V[k]=N.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(V,k,N){return Object.defineProperty(V,k,{value:N,enumerable:!0,configurable:!0,writable:!0}),V[k]}try{d({},"")}catch{d=function(N,Q,ae){return N[Q]=ae}}function m(V,k,N,Q){var ne=Object.create((k&&k.prototype instanceof De?k:De).prototype),ye=new Bt(Q||[]);return n(ne,"_invoke",{value:no(V,N,ye)}),ne}function E(V,k,N){try{return{type:"normal",arg:V.call(k,N)}}catch(Q){return{type:"throw",arg:Q}}}r.wrap=m;var U="suspendedStart",ie="suspendedYield",K="executing",oe="completed",de={};function De(){}function ce(){}function me(){}var Ee={};d(Ee,s,function(){return this});var Ke=Object.getPrototypeOf,Ue=Ke&&Ke(Ke(Gt([])));Ue&&Ue!==t&&a.call(Ue,s)&&(Ee=Ue);var He=me.prototype=De.prototype=Object.create(Ee);function jt(V){["next","throw","return"].forEach(function(k){d(V,k,function(N){return this._invoke(k,N)})})}function Ct(V,k){function N(ae,ne,ye,Oe){var Ie=E(V[ae],V,ne);if("throw"!==Ie.type){var Je=Ie.arg,Ve=Je.value;return Ve&&"object"==dt(Ve)&&a.call(Ve,"__await")?k.resolve(Ve.__await).then(function(We){N("next",We,ye,Oe)},function(We){N("throw",We,ye,Oe)}):k.resolve(Ve).then(function(We){Je.value=We,ye(Je)},function(We){return N("throw",We,ye,Oe)})}Oe(Ie.arg)}var Q;n(this,"_invoke",{value:function(ne,ye){function Oe(){return new k(function(Ie,Je){N(ne,ye,Ie,Je)})}return Q=Q?Q.then(Oe,Oe):Oe()}})}function no(V,k,N){var Q=U;return function(ae,ne){if(Q===K)throw new Error("Generator is already running");if(Q===oe){if("throw"===ae)throw ne;return{value:o,done:!0}}for(N.method=ae,N.arg=ne;;){var ye=N.delegate;if(ye){var Oe=dn(ye,N);if(Oe){if(Oe===de)continue;return Oe}}if("next"===N.method)N.sent=N._sent=N.arg;else if("throw"===N.method){if(Q===U)throw Q=oe,N.arg;N.dispatchException(N.arg)}else"return"===N.method&&N.abrupt("return",N.arg);Q=K;var Ie=E(V,k,N);if("normal"===Ie.type){if(Q=N.done?oe:ie,Ie.arg===de)continue;return{value:Ie.arg,done:N.done}}"throw"===Ie.type&&(Q=oe,N.method="throw",N.arg=Ie.arg)}}}function dn(V,k){var N=k.method,Q=V.iterator[N];if(Q===o)return k.delegate=null,"throw"===N&&V.iterator.return&&(k.method="return",k.arg=o,dn(V,k),"throw"===k.method)||"return"!==N&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+N+"' method")),de;var ae=E(Q,V.iterator,k.arg);if("throw"===ae.type)return k.method="throw",k.arg=ae.arg,k.delegate=null,de;var ne=ae.arg;return ne?ne.done?(k[V.resultName]=ne.value,k.next=V.nextLoc,"return"!==k.method&&(k.method="next",k.arg=o),k.delegate=null,de):ne:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,de)}function oo(V){var k={tryLoc:V[0]};1 in V&&(k.catchLoc=V[1]),2 in V&&(k.finallyLoc=V[2],k.afterLoc=V[3]),this.tryEntries.push(k)}function Nt(V){var k=V.completion||{};k.type="normal",delete k.arg,V.completion=k}function Bt(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(oo,this),this.reset(!0)}function Gt(V){if(V||""===V){var k=V[s];if(k)return k.call(V);if("function"==typeof V.next)return V;if(!isNaN(V.length)){var N=-1,Q=function ae(){for(;++N<V.length;)if(a.call(V,N))return ae.value=V[N],ae.done=!1,ae;return ae.value=o,ae.done=!0,ae};return Q.next=Q}}throw new TypeError(dt(V)+" is not iterable")}return ce.prototype=me,n(He,"constructor",{value:me,configurable:!0}),n(me,"constructor",{value:ce,configurable:!0}),ce.displayName=d(me,c,"GeneratorFunction"),r.isGeneratorFunction=function(V){var k="function"==typeof V&&V.constructor;return!!k&&(k===ce||"GeneratorFunction"===(k.displayName||k.name))},r.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,me):(V.__proto__=me,d(V,c,"GeneratorFunction")),V.prototype=Object.create(He),V},r.awrap=function(V){return{__await:V}},jt(Ct.prototype),d(Ct.prototype,l,function(){return this}),r.AsyncIterator=Ct,r.async=function(V,k,N,Q,ae){void 0===ae&&(ae=Promise);var ne=new Ct(m(V,k,N,Q),ae);return r.isGeneratorFunction(k)?ne:ne.next().then(function(ye){return ye.done?ye.value:ne.next()})},jt(He),d(He,c,"Generator"),d(He,s,function(){return this}),d(He,"toString",function(){return"[object Generator]"}),r.keys=function(V){var k=Object(V),N=[];for(var Q in k)N.push(Q);return N.reverse(),function ae(){for(;N.length;){var ne=N.pop();if(ne in k)return ae.value=ne,ae.done=!1,ae}return ae.done=!0,ae}},r.values=Gt,Bt.prototype={constructor:Bt,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Nt),!k)for(var N in this)"t"===N.charAt(0)&&a.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=o)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var N=this;function Q(Je,Ve){return ye.type="throw",ye.arg=k,N.next=Je,Ve&&(N.method="next",N.arg=o),!!Ve}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var ne=this.tryEntries[ae],ye=ne.completion;if("root"===ne.tryLoc)return Q("end");if(ne.tryLoc<=this.prev){var Oe=a.call(ne,"catchLoc"),Ie=a.call(ne,"finallyLoc");if(Oe&&Ie){if(this.prev<ne.catchLoc)return Q(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return Q(ne.finallyLoc)}else if(Oe){if(this.prev<ne.catchLoc)return Q(ne.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return Q(ne.finallyLoc)}}}},abrupt:function(k,N){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ae=this.tryEntries[Q];if(ae.tryLoc<=this.prev&&a.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var ne=ae;break}}ne&&("break"===k||"continue"===k)&&ne.tryLoc<=N&&N<=ne.finallyLoc&&(ne=null);var ye=ne?ne.completion:{};return ye.type=k,ye.arg=N,ne?(this.method="next",this.next=ne.finallyLoc,de):this.complete(ye)},complete:function(k,N){if("throw"===k.type)throw k.arg;return"break"===k.type||"continue"===k.type?this.next=k.arg:"return"===k.type?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):"normal"===k.type&&N&&(this.next=N),de},finish:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.finallyLoc===k)return this.complete(Q.completion,Q.afterLoc),Nt(Q),de}},catch:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.tryLoc===k){var ae=Q.completion;if("throw"===ae.type){var ne=ae.arg;Nt(Q)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(k,N,Q){return this.delegate={iterator:Gt(k),resultName:N,nextLoc:Q},"next"===this.method&&(this.arg=o),de}},r}function Wt(o,r,t,a,n,i,s){try{var l=o[i](s),c=l.value}catch(d){return void t(d)}l.done?r(c):Promise.resolve(c).then(a,n)}function Zt(o,r){return function Rn(o){if(Array.isArray(o))return o}(o)||function In(o,r){var t=null==o?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(null!=t){var a,n,i,s,l=[],c=!0,d=!1;try{if(i=(t=t.call(o)).next,0===r){if(Object(t)!==t)return;c=!1}else for(;!(c=(a=i.call(t)).done)&&(l.push(a.value),l.length!==r);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&null!=t.return&&(s=t.return(),Object(s)!==s))return}finally{if(d)throw n}}return l}}(o,r)||function un(o,r){if(o){if("string"==typeof o)return gn(o,r);var t=Object.prototype.toString.call(o).slice(8,-1);if("Object"===t&&o.constructor&&(t=o.constructor.name),"Map"===t||"Set"===t)return Array.from(o);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gn(o,r)}}(o,r)||function En(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(o,r){(null==r||r>o.length)&&(r=o.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=o[t];return a}function dt(o){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function fn(o,r){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,a)}return t}function Mt(o){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?fn(Object(t),!0).forEach(function(a){hn(o,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(t,a))})}return o}function hn(o,r,t){return(r=rt(r))in o?Object.defineProperty(o,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[r]=t,o}function Qt(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,rt(a.key),a)}}function rt(o){var r=function _n(o,r){if("object"!==dt(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==dt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===dt(r)?r:String(r)}var jn={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:co,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},ao=function(){function o(r,t){(function An(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=r,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return function ze(o,r,t){r&&Qt(o.prototype,r),t&&Qt(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"findPreviousUploads",value:function(){var t=this;return this.options.fingerprint(this.file,this.options).then(function(a){return t._urlStorage.findUploadsByFingerprint(a)})}},{key:"resumeFromPreviousUpload",value:function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey}},{key:"start",value:function(){var t=this,a=this.file;if(a)if(this.options.endpoint||this.options.uploadUrl||this.url){var n=this.options.retryDelays;if(null==n||"[object Array]"===Object.prototype.toString.call(n)){if(this.options.parallelUploads>1)for(var i=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];i<s.length;i++){var l=s[i];if(this.options[l])return void this._emitError(new Error("tus: cannot use the ".concat(l," option when parallelUploads is enabled")))}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1)return void this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length)return void this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"))}this.options.fingerprint(a,this.options).then(function(c){return null==c||"Calculated fingerprint: ".concat(c),t._fingerprint=c,t._source?t._source:t.options.fileReader.openFile(a,t.options.chunkSize)}).then(function(c){if(t._source=c,t.options.uploadLengthDeferred)t._size=null;else if(null!=t.options.uploadSize){if(t._size=Number(t.options.uploadSize),Number.isNaN(t._size))return void t._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(t._size=t._source.size,null==t._size)return void t._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));t.options.parallelUploads>1||null!=t._parallelUploadUrls?t._startParallelUpload():t._startSingleUpload()}).catch(function(c){t._emitError(c)})}else this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var t,a=this,n=this._size,i=0;this._parallelUploads=[];var l=null!==(t=this.options.parallelUploadBoundaries)&&void 0!==t?t:function zo(o,r){for(var t=Math.floor(o/r),a=[],n=0;n<r;n++)a.push({start:t*n,end:t*(n+1)});return a[r-1].end=o,a}(this._source.size,null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads);this._parallelUploadUrls&&l.forEach(function(m,E){m.uploadUrl=a._parallelUploadUrls[E]||null}),this._parallelUploadUrls=new Array(l.length);var d,c=l.map(function(m,E){var U=0;return a._source.slice(m.start,m.end).then(function(ie){var K=ie.value;return new Promise(function(oe,de){var De=Mt(Mt({},a.options),{},{uploadUrl:m.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:Mt(Mt({},a.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:oe,onError:de,onProgress:function(Ee){i=i-U+Ee,U=Ee,a._emitProgress(i,n)},onUploadUrlAvailable:function(){a._parallelUploadUrls[E]=ce.url,a._parallelUploadUrls.filter(function(Ee){return!!Ee}).length===l.length&&a._saveUploadInUrlStorage()}}),ce=new o(K,De);ce.start(),a._parallelUploads.push(ce)})})});Promise.all(c).then(function(){(d=a._openRequest("POST",a.options.endpoint)).setHeader("Upload-Concat","final;".concat(a._parallelUploadUrls.join(" ")));var m=io(a.options.metadata);return""!==m&&d.setHeader("Upload-Metadata",m),a._sendRequest(d,null)}).then(function(m){if(Yt(m.getStatus(),200)){var E=m.getHeader("Location");null!=E?(a.url=po(a.options.endpoint,E),"Created upload at ".concat(a.url),a._emitSuccess()):a._emitHttpError(d,m,"tus: invalid or missing Location header")}else a._emitHttpError(d,m,"tus: unexpected response while creating upload")}).catch(function(m){a._emitError(m)})}},{key:"_startSingleUpload",value:function(){return this._aborted=!1,null!=this.url?("Resuming upload from previous URL: ".concat(this.url),void this._resumeUpload()):null!=this.options.uploadUrl?("Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,void this._resumeUpload()):void this._createUpload()}},{key:"abort",value:function(t){var a=this;return null!=this._parallelUploads&&this._parallelUploads.forEach(function(n){n.abort(t)}),null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?o.terminate(this.url,this.options).then(function(){return a._removeFromUrlStorage()}):Promise.resolve()}},{key:"_emitHttpError",value:function(t,a,n,i){this._emitError(new lt(n,i,t,a))}},{key:"_emitError",value:function(t){var a=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),lo(t,this._retryAttempt,this.options))){var i=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout(function(){a.start()},i))}if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,a){"function"==typeof this.options.onProgress&&this.options.onProgress(t,a)}},{key:"_emitChunkComplete",value:function(t,a,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,a,n)}},{key:"_createUpload",value:function(){var t=this;if(this.options.endpoint){var a=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?a.setHeader("Upload-Defer-Length",1):a.setHeader("Upload-Length",this._size);var i,n=io(this.options.metadata);""!==n&&a.setHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,i=this._addChunkToRequest(a)):i=this._sendRequest(a,null),i.then(function(s){if(Yt(s.getStatus(),200)){var l=s.getHeader("Location");if(null!=l)return t.url=po(t.options.endpoint,l),"Created upload at ".concat(t.url),"function"==typeof t.options.onUploadUrlAvailable&&t.options.onUploadUrlAvailable(),0===t._size?(t._emitSuccess(),void t._source.close()):void t._saveUploadInUrlStorage().then(function(){t.options.uploadDataDuringCreation?t._handleUploadResponse(a,s):(t._offset=0,t._performUpload())});t._emitHttpError(a,s,"tus: invalid or missing Location header")}else t._emitHttpError(a,s,"tus: unexpected response while creating upload")}).catch(function(s){t._emitHttpError(a,null,"tus: failed to create upload",s)})}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var t=this,a=this._openRequest("HEAD",this.url);this._sendRequest(a,null).then(function(i){var s=i.getStatus();if(!Yt(s,200))return 423===s?void t._emitHttpError(a,i,"tus: upload is currently locked; retry later"):(Yt(s,400)&&t._removeFromUrlStorage(),t.options.endpoint?(t.url=null,void t._createUpload()):void t._emitHttpError(a,i,"tus: unable to resume upload (new upload cannot be created without an endpoint)"));var l=parseInt(i.getHeader("Upload-Offset"),10);if(Number.isNaN(l))t._emitHttpError(a,i,"tus: invalid or missing offset value");else{var c=parseInt(i.getHeader("Upload-Length"),10);!Number.isNaN(c)||t.options.uploadLengthDeferred?("function"==typeof t.options.onUploadUrlAvailable&&t.options.onUploadUrlAvailable(),t._saveUploadInUrlStorage().then(function(){if(l===c)return t._emitProgress(c,c),void t._emitSuccess();t._offset=l,t._performUpload()})):t._emitHttpError(a,i,"tus: invalid or missing length value")}}).catch(function(i){t._emitHttpError(a,null,"tus: failed to resume upload",i)})}},{key:"_performUpload",value:function(){var a,t=this;this._aborted||(this.options.overridePatchMethod?(a=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):a=this._openRequest("PATCH",this.url),a.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(a).then(function(i){Yt(i.getStatus(),200)?t._handleUploadResponse(a,i):t._emitHttpError(a,i,"tus: unexpected response while uploading chunk")}).catch(function(i){t._aborted||t._emitHttpError(a,null,"tus: failed to upload chunk at offset ".concat(t._offset),i)}))}},{key:"_addChunkToRequest",value:function(t){var a=this,n=this._offset,i=this._offset+this.options.chunkSize;return t.setProgressHandler(function(s){a._emitProgress(n+s,a._size)}),t.setHeader("Content-Type","application/offset+octet-stream"),(i===1/0||i>this._size)&&!this.options.uploadLengthDeferred&&(i=this._size),this._source.slice(n,i).then(function(s){var l=s.value,c=s.done,d=l&&l.size?l.size:0;a.options.uploadLengthDeferred&&c&&(a._size=a._offset+d,t.setHeader("Upload-Length",a._size));var m=a._offset+d;return!a.options.uploadLengthDeferred&&c&&m!==a._size?Promise.reject(new Error("upload was configured with a size of ".concat(a._size," bytes, but the source is done after ").concat(m," bytes"))):null===l?a._sendRequest(t):(a._emitProgress(a._offset,a._size),a._sendRequest(t,l))})}},{key:"_handleUploadResponse",value:function(t,a){var n=parseInt(a.getHeader("Upload-Offset"),10);if(!Number.isNaN(n))return this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n===this._size?(this._emitSuccess(),void this._source.close()):void this._performUpload();this._emitHttpError(t,a,"tus: invalid or missing offset value")}},{key:"_openRequest",value:function(t,a){var n=ro(t,a,this.options);return this._req=n,n}},{key:"_removeFromUrlStorage",value:function(){var t=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(a){t._emitError(a)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var t=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var a={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};return this._parallelUploads?a.parallelUploadUrls=this._parallelUploadUrls:a.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,a).then(function(n){t._urlStorageKey=n})}},{key:"_sendRequest",value:function(t){return so(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}}],[{key:"terminate",value:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ro("DELETE",t,a);return so(n,null,a).then(function(i){if(204!==i.getStatus())throw new lt("tus: unexpected response while terminating upload",null,n,i)}).catch(function(i){if(i instanceof lt||(i=new lt("tus: failed to terminate upload",i,n,null)),!lo(i,0,a))throw i;var s=a.retryDelays[0],l=a.retryDelays.slice(1),c=Mt(Mt({},a),{},{retryDelays:l});return new Promise(function(d){return setTimeout(d,s)}).then(function(){return o.terminate(t,c)})})}}]),o}();function io(o){return Object.entries(o).map(function(r){var t=Zt(r,2),n=t[1];return"".concat(t[0]," ").concat(Pt_encode(String(n)))}).join(",")}function Yt(o,r){return o>=r&&o<r+100}function ro(o,r,t){var a=t.httpStack.createRequest(o,r);if(a.setHeader("Tus-Resumable","1.0.0"),Object.entries(t.headers||{}).forEach(function(s){var l=Zt(s,2);a.setHeader(l[0],l[1])}),t.addRequestId){var i=function Tn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var r=16*Math.random()|0;return("x"===o?r:3&r|8).toString(16)})}();a.setHeader("X-Request-ID",i)}return a}function so(o,r,t){return Nn.apply(this,arguments)}function Nn(){return Nn=function kn(o){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=o.apply(r,t);function s(c){Wt(i,a,n,s,l,"next",c)}function l(c){Wt(i,a,n,s,l,"throw",c)}s(void 0)})}}(Jt().mark(function o(r,t,a){var n;return Jt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if("function"!=typeof a.onBeforeRequest){s.next=3;break}return s.next=3,a.onBeforeRequest(r);case 3:return s.next=5,r.send(t);case 5:if(n=s.sent,"function"!=typeof a.onAfterResponse){s.next=9;break}return s.next=9,a.onAfterResponse(r,n);case 9:return s.abrupt("return",n);case 10:case"end":return s.stop()}},o)})),Nn.apply(this,arguments)}function lo(o,r,t){return!(null==t.retryDelays||r>=t.retryDelays.length||null==o.originalRequest)&&(t&&"function"==typeof t.onShouldRetry?t.onShouldRetry(o,r,t):co(o))}function co(o){var r=o.originalResponse?o.originalResponse.getStatus():0;return(!Yt(r,400)||409===r||423===r)&&function Yo(){var o=!0;return typeof window<"u"&&"navigator"in window&&!1===window.navigator.onLine&&(o=!1),o}()}function po(o,r){return new(Ye())(r,o).toString()}ao.defaultOptions=jn;const Bn=ao;function Kt(o){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function mo(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,Lo(a.key),a)}}function Lo(o){var r=function Ho(o,r){if("object"!==Kt(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==Kt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===Kt(r)?r:String(r)}var Jo=function(){function o(){!function Xo(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,o)}return function qo(o,r,t){r&&mo(o.prototype,r),t&&mo(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(t){return Promise.resolve([])}},{key:"removeUpload",value:function(t){return Promise.resolve()}},{key:"addUpload",value:function(t,a){return Promise.resolve(null)}}]),o}();function en(o){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function uo(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,Qo(a.key),a)}}function Qo(o){var r=function Ko(o,r){if("object"!==en(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==en(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===en(r)?r:String(r)}var Gn=!1;try{Gn="localStorage"in window;var Vn="tusSupport",go=localStorage.getItem(Vn);localStorage.setItem(Vn,go),null===go&&localStorage.removeItem(Vn)}catch(o){if(o.code!==o.SECURITY_ERR&&o.code!==o.QUOTA_EXCEEDED_ERR)throw o;Gn=!1}var ea=Gn,ta=function(){function o(){!function Wo(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,o)}return function Zo(o,r,t){r&&uo(o.prototype,r),t&&uo(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"findAllUploads",value:function(){var t=this._findEntries("tus::");return Promise.resolve(t)}},{key:"findUploadsByFingerprint",value:function(t){var a=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(a)}},{key:"removeUpload",value:function(t){return localStorage.removeItem(t),Promise.resolve()}},{key:"addUpload",value:function(t,a){var n=Math.round(1e12*Math.random()),i="tus::".concat(t,"::").concat(n);return localStorage.setItem(i,JSON.stringify(a)),Promise.resolve(i)}},{key:"_findEntries",value:function(t){for(var a=[],n=0;n<localStorage.length;n++){var i=localStorage.key(n);if(0===i.indexOf(t))try{var s=JSON.parse(localStorage.getItem(i));s.urlStorageKey=i,a.push(s)}catch{}}return a}}]),o}();function tn(o){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function $n(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function fo(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,na(a.key),a)}}function Un(o,r,t){return r&&fo(o.prototype,r),t&&fo(o,t),Object.defineProperty(o,"prototype",{writable:!1}),o}function na(o){var r=function oa(o,r){if("object"!==tn(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==tn(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===tn(r)?r:String(r)}var aa=function(){function o(){$n(this,o)}return Un(o,[{key:"createRequest",value:function(t,a){return new ia(t,a)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),o}(),ia=function(){function o(r,t){$n(this,o),this._xhr=new XMLHttpRequest,this._xhr.open(r,t,!0),this._method=r,this._url=t,this._headers={}}return Un(o,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(t,a){this._xhr.setRequestHeader(t,a),this._headers[t]=a}},{key:"getHeader",value:function(t){return this._headers[t]}},{key:"setProgressHandler",value:function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(a){a.lengthComputable&&t(a.loaded)})}},{key:"send",value:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(n,i){t._xhr.onload=function(){n(new ra(t._xhr))},t._xhr.onerror=function(s){i(s)},t._xhr.send(a)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),o}(),ra=function(){function o(r){$n(this,o),this._xhr=r}return Un(o,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(t){return this._xhr.getResponseHeader(t)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),o}();const ho=function(){return typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function la(o){return new Promise(function(r,t){var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(){r(a.response)},a.onerror=function(n){t(n)},a.open("GET",o),a.send()})}function nn(o){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function _o(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,ga(a.key),a)}}function ga(o){var r=function fa(o,r){if("object"!==nn(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==nn(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===nn(r)?r:String(r)}var Co=function(){function o(r){(function ma(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this._file=r,this.size=r.size}return function ua(o,r,t){r&&_o(o.prototype,r),t&&_o(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"slice",value:function(t,a){if(typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u"))return function pa(o){return new Promise(function(r,t){var a=new FileReader;a.onload=function(){var n=new Uint8Array(a.result);r({value:n})},a.onerror=function(n){t(n)},a.readAsArrayBuffer(o)})}(this._file.slice(t,a));var n=this._file.slice(t,a);return Promise.resolve({value:n,done:a>=this.size})}},{key:"close",value:function(){}}]),o}();function on(o){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function bo(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,Ca(a.key),a)}}function Ca(o){var r=function ba(o,r){if("object"!==on(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==on(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===on(r)?r:String(r)}function xo(o){return void 0===o?0:void 0!==o.size?o.size:o.length}var ya=function(){function o(r){(function ha(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")})(this,o),this._buffer=void 0,this._bufferOffset=0,this._reader=r,this._done=!1}return function _a(o,r,t){r&&bo(o.prototype,r),t&&bo(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"slice",value:function(t,a){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,a)}},{key:"_readUntilEnoughDataOrDone",value:function(t,a){var n=this,i=a<=this._bufferOffset+xo(this._buffer);if(this._done||i){var s=this._getDataFromBuffer(t,a);return Promise.resolve({value:s,done:null==s&&this._done})}return this._reader.read().then(function(c){var d=c.value;return c.done?n._done=!0:n._buffer=void 0===n._buffer?d:function xa(o,r){if(o.concat)return o.concat(r);if(o instanceof Blob)return new Blob([o,r],{type:o.type});if(o.set){var t=new o.constructor(o.length+r.length);return t.set(o),t.set(r,o.length),t}throw new Error("Unknown data type")}(n._buffer,d),n._readUntilEnoughDataOrDone(t,a)})}},{key:"_getDataFromBuffer",value:function(t,a){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var n=0===xo(this._buffer);return this._done&&n?null:this._buffer.slice(0,a-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),o}();function Tt(o){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function Yn(){Yn=function(){return r};var o,r={},t=Object.prototype,a=t.hasOwnProperty,n=Object.defineProperty||function(V,k,N){V[k]=N.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function d(V,k,N){return Object.defineProperty(V,k,{value:N,enumerable:!0,configurable:!0,writable:!0}),V[k]}try{d({},"")}catch{d=function(N,Q,ae){return N[Q]=ae}}function m(V,k,N,Q){var ne=Object.create((k&&k.prototype instanceof De?k:De).prototype),ye=new Bt(Q||[]);return n(ne,"_invoke",{value:no(V,N,ye)}),ne}function E(V,k,N){try{return{type:"normal",arg:V.call(k,N)}}catch(Q){return{type:"throw",arg:Q}}}r.wrap=m;var U="suspendedStart",ie="suspendedYield",K="executing",oe="completed",de={};function De(){}function ce(){}function me(){}var Ee={};d(Ee,s,function(){return this});var Ke=Object.getPrototypeOf,Ue=Ke&&Ke(Ke(Gt([])));Ue&&Ue!==t&&a.call(Ue,s)&&(Ee=Ue);var He=me.prototype=De.prototype=Object.create(Ee);function jt(V){["next","throw","return"].forEach(function(k){d(V,k,function(N){return this._invoke(k,N)})})}function Ct(V,k){function N(ae,ne,ye,Oe){var Ie=E(V[ae],V,ne);if("throw"!==Ie.type){var Je=Ie.arg,Ve=Je.value;return Ve&&"object"==Tt(Ve)&&a.call(Ve,"__await")?k.resolve(Ve.__await).then(function(We){N("next",We,ye,Oe)},function(We){N("throw",We,ye,Oe)}):k.resolve(Ve).then(function(We){Je.value=We,ye(Je)},function(We){return N("throw",We,ye,Oe)})}Oe(Ie.arg)}var Q;n(this,"_invoke",{value:function(ne,ye){function Oe(){return new k(function(Ie,Je){N(ne,ye,Ie,Je)})}return Q=Q?Q.then(Oe,Oe):Oe()}})}function no(V,k,N){var Q=U;return function(ae,ne){if(Q===K)throw new Error("Generator is already running");if(Q===oe){if("throw"===ae)throw ne;return{value:o,done:!0}}for(N.method=ae,N.arg=ne;;){var ye=N.delegate;if(ye){var Oe=dn(ye,N);if(Oe){if(Oe===de)continue;return Oe}}if("next"===N.method)N.sent=N._sent=N.arg;else if("throw"===N.method){if(Q===U)throw Q=oe,N.arg;N.dispatchException(N.arg)}else"return"===N.method&&N.abrupt("return",N.arg);Q=K;var Ie=E(V,k,N);if("normal"===Ie.type){if(Q=N.done?oe:ie,Ie.arg===de)continue;return{value:Ie.arg,done:N.done}}"throw"===Ie.type&&(Q=oe,N.method="throw",N.arg=Ie.arg)}}}function dn(V,k){var N=k.method,Q=V.iterator[N];if(Q===o)return k.delegate=null,"throw"===N&&V.iterator.return&&(k.method="return",k.arg=o,dn(V,k),"throw"===k.method)||"return"!==N&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+N+"' method")),de;var ae=E(Q,V.iterator,k.arg);if("throw"===ae.type)return k.method="throw",k.arg=ae.arg,k.delegate=null,de;var ne=ae.arg;return ne?ne.done?(k[V.resultName]=ne.value,k.next=V.nextLoc,"return"!==k.method&&(k.method="next",k.arg=o),k.delegate=null,de):ne:(k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,de)}function oo(V){var k={tryLoc:V[0]};1 in V&&(k.catchLoc=V[1]),2 in V&&(k.finallyLoc=V[2],k.afterLoc=V[3]),this.tryEntries.push(k)}function Nt(V){var k=V.completion||{};k.type="normal",delete k.arg,V.completion=k}function Bt(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(oo,this),this.reset(!0)}function Gt(V){if(V||""===V){var k=V[s];if(k)return k.call(V);if("function"==typeof V.next)return V;if(!isNaN(V.length)){var N=-1,Q=function ae(){for(;++N<V.length;)if(a.call(V,N))return ae.value=V[N],ae.done=!1,ae;return ae.value=o,ae.done=!0,ae};return Q.next=Q}}throw new TypeError(Tt(V)+" is not iterable")}return ce.prototype=me,n(He,"constructor",{value:me,configurable:!0}),n(me,"constructor",{value:ce,configurable:!0}),ce.displayName=d(me,c,"GeneratorFunction"),r.isGeneratorFunction=function(V){var k="function"==typeof V&&V.constructor;return!!k&&(k===ce||"GeneratorFunction"===(k.displayName||k.name))},r.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,me):(V.__proto__=me,d(V,c,"GeneratorFunction")),V.prototype=Object.create(He),V},r.awrap=function(V){return{__await:V}},jt(Ct.prototype),d(Ct.prototype,l,function(){return this}),r.AsyncIterator=Ct,r.async=function(V,k,N,Q,ae){void 0===ae&&(ae=Promise);var ne=new Ct(m(V,k,N,Q),ae);return r.isGeneratorFunction(k)?ne:ne.next().then(function(ye){return ye.done?ye.value:ne.next()})},jt(He),d(He,c,"Generator"),d(He,s,function(){return this}),d(He,"toString",function(){return"[object Generator]"}),r.keys=function(V){var k=Object(V),N=[];for(var Q in k)N.push(Q);return N.reverse(),function ae(){for(;N.length;){var ne=N.pop();if(ne in k)return ae.value=ne,ae.done=!1,ae}return ae.done=!0,ae}},r.values=Gt,Bt.prototype={constructor:Bt,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(Nt),!k)for(var N in this)"t"===N.charAt(0)&&a.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=o)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if("throw"===k.type)throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var N=this;function Q(Je,Ve){return ye.type="throw",ye.arg=k,N.next=Je,Ve&&(N.method="next",N.arg=o),!!Ve}for(var ae=this.tryEntries.length-1;ae>=0;--ae){var ne=this.tryEntries[ae],ye=ne.completion;if("root"===ne.tryLoc)return Q("end");if(ne.tryLoc<=this.prev){var Oe=a.call(ne,"catchLoc"),Ie=a.call(ne,"finallyLoc");if(Oe&&Ie){if(this.prev<ne.catchLoc)return Q(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return Q(ne.finallyLoc)}else if(Oe){if(this.prev<ne.catchLoc)return Q(ne.catchLoc,!0)}else{if(!Ie)throw new Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return Q(ne.finallyLoc)}}}},abrupt:function(k,N){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ae=this.tryEntries[Q];if(ae.tryLoc<=this.prev&&a.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var ne=ae;break}}ne&&("break"===k||"continue"===k)&&ne.tryLoc<=N&&N<=ne.finallyLoc&&(ne=null);var ye=ne?ne.completion:{};return ye.type=k,ye.arg=N,ne?(this.method="next",this.next=ne.finallyLoc,de):this.complete(ye)},complete:function(k,N){if("throw"===k.type)throw k.arg;return"break"===k.type||"continue"===k.type?this.next=k.arg:"return"===k.type?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):"normal"===k.type&&N&&(this.next=N),de},finish:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.finallyLoc===k)return this.complete(Q.completion,Q.afterLoc),Nt(Q),de}},catch:function(k){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.tryLoc===k){var ae=Q.completion;if("throw"===ae.type){var ne=ae.arg;Nt(Q)}return ne}}throw new Error("illegal catch attempt")},delegateYield:function(k,N,Q){return this.delegate={iterator:Gt(k),resultName:N,nextLoc:Q},"next"===this.method&&(this.arg=o),de}},r}function yo(o,r,t,a,n,i,s){try{var l=o[i](s),c=l.value}catch(d){return void t(d)}l.done?r(c):Promise.resolve(c).then(a,n)}function Do(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,Ma(a.key),a)}}function Ma(o){var r=function Sa(o,r){if("object"!==Tt(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==Tt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===Tt(r)?r:String(r)}var Pa=function(){function o(){!function va(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,o)}return function Fa(o,r,t){r&&Do(o.prototype,r),t&&Do(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(o,[{key:"openFile",value:(r=function Da(o){return function(){var r=this,t=arguments;return new Promise(function(a,n){var i=o.apply(r,t);function s(c){yo(i,a,n,s,l,"next",c)}function l(c){yo(i,a,n,s,l,"throw",c)}s(void 0)})}}(Yn().mark(function a(n,i){return Yn().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(ho()&&n&&typeof n.uri<"u")){c.next=11;break}return c.prev=1,c.next=4,la(n.uri);case 4:return c.abrupt("return",new Co(c.sent));case 8:throw c.prev=8,c.t0=c.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(c.t0));case 11:if(!("function"==typeof n.slice&&typeof n.size<"u")){c.next=13;break}return c.abrupt("return",Promise.resolve(new Co(n)));case 13:if("function"!=typeof n.read){c.next=18;break}if(i=Number(i),Number.isFinite(i)){c.next=17;break}return c.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return c.abrupt("return",Promise.resolve(new ya(n,i)));case 18:return c.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return c.stop()}},a,null,[[1,8]])})),function t(a,n){return r.apply(this,arguments)})}]),o;var r}();function zt(o){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(o)}function vo(o,r){for(var t=0;t<r.length;t++){var a=r[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,Mo(a.key),a)}}function zn(o,r){return(zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a})(o,r)}function Cn(o){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(o)}function Fo(o,r){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,a)}return t}function Xt(o){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Fo(Object(t),!0).forEach(function(a){Ba(o,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Fo(Object(t)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(t,a))})}return o}function Ba(o,r,t){return(r=Mo(r))in o?Object.defineProperty(o,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[r]=t,o}function Mo(o){var r=function Ga(o,r){if("object"!==zt(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var a=t.call(o,r||"default");if("object"!==zt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(o)}(o,"string");return"symbol"===zt(r)?r:String(r)}var Xn=Xt(Xt({},Bn.defaultOptions),{},{httpStack:new aa,fileReader:new Pa,urlStorage:ea?new ta:new Jo,fingerprint:function wa(o,r){return ho()?Promise.resolve(function Oa(o,r){var t=o.exif?function Ta(o){var r=0;if(0===o.length)return r;for(var t=0;t<o.length;t++)r=(r<<5)-r+o.charCodeAt(t),r&=r;return r}(JSON.stringify(o.exif)):"noexif";return["tus-rn",o.name||"noname",o.size||"nosize",t,r.endpoint].join("/")}(o,r)):Promise.resolve(["tus-br",o.name,o.type,o.size,o.lastModified,r.endpoint].join("-"))}}),Va=function(o){!function Ia(o,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),r&&zn(o,r)}(t,o);var r=function Ra(o){var r=function Na(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,a=Cn(o);if(r){var i=Cn(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return function Aa(o,r){if(r&&("object"===zt(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function ja(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,n)}}(t);function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function ka(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),n=Xt(Xt({},Xn),n),r.call(this,a,n)}return function Ea(o,r,t){r&&vo(o.prototype,r),t&&vo(o,t),Object.defineProperty(o,"prototype",{writable:!1})}(t,null,[{key:"terminate",value:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i=Xt(Xt({},Xn),i),Bn.terminate(n,i)}}]),t}(Bn);function ft(o,r){if(!Object.prototype.hasOwnProperty.call(o,r))throw new TypeError("attempted to use private field on non-instance");return o}window;var Ua=0;function wo(o){return"__private_"+Ua+++"_"+o}var Xe=wo("uppy"),an=wo("events");class Ya{constructor(r){Object.defineProperty(this,Xe,{writable:!0,value:void 0}),Object.defineProperty(this,an,{writable:!0,value:[]}),ft(this,Xe)[Xe]=r}on(r,t){return ft(this,an)[an].push([r,t]),ft(this,Xe)[Xe].on(r,t)}remove(){for(const[r,t]of ft(this,an)[an].splice(0))ft(this,Xe)[Xe].off(r,t)}onFilePause(r,t){this.on("upload-pause",(a,n)=>{r===a&&t(n)})}onFileRemove(r,t){this.on("file-removed",a=>{r===a.id&&t(a.id)})}onPause(r,t){this.on("upload-pause",(a,n)=>{r===a&&t(n)})}onRetry(r,t){this.on("upload-retry",a=>{r===a&&t()})}onRetryAll(r,t){this.on("retry-all",()=>{ft(this,Xe)[Xe].getFile(r)&&t()})}onPauseAll(r,t){this.on("pause-all",()=>{ft(this,Xe)[Xe].getFile(r)&&t()})}onCancelAll(r,t){var a=this;this.on("cancel-all",function(){ft(a,Xe)[Xe].getFile(r)&&t(...arguments)})}onResumeAll(r,t){this.on("resume-all",()=>{ft(this,Xe)[Xe].getFile(r)&&t()})}}class za extends Error{constructor(r,t){void 0===t&&(t=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=r,this.isNetworkError=!0,this.request=t}}const Xa=za;function fe(o,r){if(!Object.prototype.hasOwnProperty.call(o,r))throw new TypeError("attempted to use private field on non-instance");return o}var Ha=0;function Qe(o){return"__private_"+Ha+++"_"+o}function Oo(o){if(null!=o){var r;const t=()=>this.abort(o.reason);o.addEventListener("abort",t,{once:!0});const a=()=>{o.removeEventListener("abort",t)};null==(r=this.then)||r.call(this,a,a)}return this}var nt=Qe("activeRequests"),qe=Qe("queuedHandlers"),ot=Qe("paused"),kt=Qe("pauseTimer"),Le=Qe("downLimit"),Et=Qe("upperLimit"),ht=Qe("rateLimitingTimer"),rn=Qe("call"),_t=Qe("queueNext"),qn=Qe("next"),Ln=Qe("queue"),Hn=Qe("dequeue"),Jn=Qe("resume"),It=Qe("increaseLimit");class Wa{constructor(r){Object.defineProperty(this,Hn,{value:ti}),Object.defineProperty(this,Ln,{value:ei}),Object.defineProperty(this,qn,{value:Ka}),Object.defineProperty(this,_t,{value:Qa}),Object.defineProperty(this,rn,{value:Za}),Object.defineProperty(this,nt,{writable:!0,value:0}),Object.defineProperty(this,qe,{writable:!0,value:[]}),Object.defineProperty(this,ot,{writable:!0,value:!1}),Object.defineProperty(this,kt,{writable:!0,value:void 0}),Object.defineProperty(this,Le,{writable:!0,value:1}),Object.defineProperty(this,Et,{writable:!0,value:void 0}),Object.defineProperty(this,ht,{writable:!0,value:void 0}),Object.defineProperty(this,Jn,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,It,{writable:!0,value:()=>{if(fe(this,ot)[ot])fe(this,ht)[ht]=setTimeout(fe(this,It)[It],0);else{fe(this,Le)[Le]=this.limit,this.limit=Math.ceil((fe(this,Et)[Et]+fe(this,Le)[Le])/2);for(let t=fe(this,Le)[Le];t<=this.limit;t++)fe(this,_t)[_t]();fe(this,Et)[Et]-fe(this,Le)[Le]>3?fe(this,ht)[ht]=setTimeout(fe(this,It)[It],2e3):fe(this,Le)[Le]=Math.floor(fe(this,Le)[Le]/2)}}}),this.limit="number"!=typeof r||0===r?1/0:r}run(r,t){return!fe(this,ot)[ot]&&fe(this,nt)[nt]<this.limit?fe(this,rn)[rn](r):fe(this,Ln)[Ln](r,t)}wrapSyncFunction(r,t){var a=this;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];const l=a.run(()=>(r(...i),queueMicrotask(()=>l.done()),()=>{}),t);return{abortOn:Oo,abort(){l.abort()}}}}wrapPromiseFunction(r,t){var a=this;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];let l;const c=new Promise((d,m)=>{l=a.run(()=>{let E,U;try{U=Promise.resolve(r(...i))}catch(ie){U=Promise.reject(ie)}return U.then(ie=>{E?m(E):(l.done(),d(ie))},ie=>{E?m(E):(l.done(),m(ie))}),ie=>{E=function Ja(o){return new Error("Cancelled",{cause:o})}(ie)}},t)});return c.abort=d=>{l.abort(d)},c.abortOn=Oo,c}}resume(){fe(this,ot)[ot]=!1,clearTimeout(fe(this,kt)[kt]);for(let r=0;r<this.limit;r++)fe(this,_t)[_t]()}pause(r){void 0===r&&(r=null),fe(this,ot)[ot]=!0,clearTimeout(fe(this,kt)[kt]),null!=r&&(fe(this,kt)[kt]=setTimeout(fe(this,Jn)[Jn],r))}rateLimit(r){clearTimeout(fe(this,ht)[ht]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(fe(this,Et)[Et]=this.limit-1,this.limit=fe(this,Le)[Le],fe(this,ht)[ht]=setTimeout(fe(this,It)[It],r))}get isPaused(){return fe(this,ot)[ot]}}function Za(o){fe(this,nt)[nt]+=1;let t,r=!1;try{t=o()}catch(a){throw fe(this,nt)[nt]-=1,a}return{abort:a=>{r||(r=!0,fe(this,nt)[nt]-=1,t?.(a),fe(this,_t)[_t]())},done:()=>{r||(r=!0,fe(this,nt)[nt]-=1,fe(this,_t)[_t]())}}}function Qa(){queueMicrotask(()=>fe(this,qn)[qn]())}function Ka(){if(fe(this,ot)[ot]||fe(this,nt)[nt]>=this.limit||0===fe(this,qe)[qe].length)return;const o=fe(this,qe)[qe].shift();if(null==o)throw new Error("Invariant violation: next is null");const r=fe(this,rn)[rn](o.fn);o.abort=r.abort,o.done=r.done}function ei(o,r){const t={fn:o,priority:r?.priority||0,abort:()=>{fe(this,Hn)[Hn](t)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},a=fe(this,qe)[qe].findIndex(n=>t.priority>n.priority);return-1===a?fe(this,qe)[qe].push(t):fe(this,qe)[qe].splice(a,0,t),t}function ti(o){const r=fe(this,qe)[qe].indexOf(o);-1!==r&&fe(this,qe)[qe].splice(r,1)}function Wn(o,r){return Object.prototype.hasOwnProperty.call(o,r)}function Rt(o,r){if(!Object.prototype.hasOwnProperty.call(o,r))throw new TypeError("attempted to use private field on non-instance");return o}Symbol("__queue");var si=0;function sn(o){return"__private_"+si+++"_"+o}const To={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},ci={limit:20,retryDelays:To.retryDelays,withCredentials:!1};var ln=sn("retryDelayIterator"),Zn=sn("uploadLocalFile"),Qn=sn("getCompanionClientArgs"),Kn=sn("uploadFiles"),cn=sn("handleUpload");class ko extends h.A{constructor(r,t){var a,n,i,s;if(super(r,{...ci,...t}),a=this,Object.defineProperty(this,Kn,{value:mi}),Object.defineProperty(this,Qn,{value:pi}),Object.defineProperty(this,Zn,{value:di}),Object.defineProperty(this,ln,{writable:!0,value:void 0}),Object.defineProperty(this,cn,{writable:!0,value:(s=(0,G.A)(function*(l){if(0===l.length)return void a.uppy.log("[Tus] No files to upload");0===a.opts.limit&&a.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),a.uppy.log("[Tus] Uploading...");const c=a.uppy.getFilesByIds(l);yield Rt(a,Kn)[Kn](c)}),function(c){return s.apply(this,arguments)})}),this.type="uploader",this.id=this.opts.id||"Tus",void 0===t?.allowedMetaFields&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=null!=(n=this.opts.rateLimitedQueue)?n:new Wa(this.opts.limit),Rt(this,ln)[ln]=null==(i=this.opts.retryDelays)?void 0:i.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this)}handleResetProgress(){const r={...this.uppy.getState().files};Object.keys(r).forEach(t=>{var a;if(null!=(a=r[t])&&null!=(a=a.tus)&&a.uploadUrl){const n={...r[t].tus};delete n.uploadUrl,r[t]={...r[t],tus:n}}}),this.uppy.setState({files:r})}resetUploaderReferences(r,t){const a=this.uploaders[r];a&&(a.abort(),null!=t&&t.abort&&a.abort(!0),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null)}onReceiveUploadUrl(r,t){const a=this.uppy.getFile(r.id);a&&(!a.tus||a.tus.uploadUrl!==t)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(a.id,{tus:{...a.tus,uploadUrl:t}}))}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(Rt(this,cn)[cn]),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(Rt(this,cn)[cn])}}function di(o){var r=this,t=this;return this.resetUploaderReferences(o.id),new Promise((a,n)=>{let i,s,l;const c={...this.opts,...o.tus||{}};"function"==typeof c.headers&&(c.headers=c.headers(o));const{onShouldRetry:d,onBeforeRequest:m,...E}=c,U={...To,...E};U.fingerprint=function ri(o){return(r,t)=>{if(function ai(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}()||function ii(){return typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}())return Xn.fingerprint(r,t);const a=["tus",o.id,t.endpoint].join("-");return Promise.resolve(a)}}(o),U.onBeforeRequest=function(){var ce=(0,G.A)(function*(me){let Ke;if(me.getUnderlyingObject().withCredentials=!!c.withCredentials,"function"==typeof m&&(Ke=m(me,o)),Wn(i,"shouldBeRequeued")){if(!i.shouldBeRequeued)return Promise.reject();let Ue;const He=new Promise(jt=>{Ue=jt});return i=r.requests.run(()=>(o.isPaused&&i.abort(),Ue(),()=>{})),void(yield Promise.all([He,Ke]))}return Ke});return function(me){return ce.apply(this,arguments)}}(),U.onError=ce=>{var me;this.uppy.log(ce);const Ee=null!=ce.originalRequest?ce.originalRequest.getUnderlyingObject():null;(function qa(o){return!!o&&(0!==o.readyState&&4!==o.readyState||0===o.status)})(Ee)&&(ce=new Xa(ce,Ee)),this.resetUploaderReferences(o.id),null==(me=i)||me.abort(),this.uppy.emit("upload-error",o,ce),"function"==typeof c.onError&&c.onError(ce),n(ce)},U.onProgress=(ce,me)=>{this.onReceiveUploadUrl(o,l.url),"function"==typeof c.onProgress&&c.onProgress(ce,me),this.uppy.emit("upload-progress",this.uppy.getFile(o.id),{uploader:this,bytesUploaded:ce,bytesTotal:me})},U.onSuccess=()=>{var ce;const me={uploadURL:null!=(ce=l.url)?ce:void 0,status:200,body:{}};if(this.resetUploaderReferences(o.id),i.done(),this.uppy.emit("upload-success",this.uppy.getFile(o.id),me),l.url){const{name:Ee}=l.file;this.uppy.log(`Download ${Ee} from ${l.url}`)}"function"==typeof c.onSuccess&&c.onSuccess(),a(l)};const ie=ce=>{var me;const Ee=null==ce||null==(me=ce.originalResponse)?void 0:me.getStatus();if(429===Ee){if(!this.requests.isPaused){var Ke;const Ue=null==(Ke=Rt(this,ln)[ln])?void 0:Ke.next();if(null==Ue||Ue.done)return!1;this.requests.rateLimit(Ue.value)}}else{if(null!=Ee&&Ee>400&&Ee<500&&409!==Ee&&423!==Ee)return!1;typeof navigator<"u"&&!1===navigator.onLine&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return i.abort(),i={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};U.onShouldRetry=null!=d?(ce,me)=>d(ce,me,c,ie):ie;const K=(ce,me,Ee)=>{Wn(ce,me)&&!Wn(ce,Ee)&&(ce[Ee]=ce[me])},oe={};(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(o.meta)).forEach(ce=>{oe[ce]=String(o.meta[ce])}),K(oe,"type","filetype"),K(oe,"name","filename"),U.metadata=oe,l=new Va(o.data,U),this.uploaders[o.id]=l;const De=new Ya(this.uppy);this.uploaderEvents[o.id]=De,s=()=>(o.isPaused||l.start(),()=>{}),l.findPreviousUploads().then(ce=>{const me=ce[0];me&&(this.uppy.log(`[Tus] Resuming upload of ${o.id} started at ${me.creationTime}`),l.resumeFromPreviousUpload(me))}),i=this.requests.run(s),De.onFileRemove(o.id,ce=>{i.abort(),this.resetUploaderReferences(o.id,{abort:!!l.url}),a(`upload ${ce} was removed`)}),De.onPause(o.id,ce=>{i.abort(),ce?l.abort():i=this.requests.run(s)}),De.onPauseAll(o.id,()=>{i.abort(),l.abort()}),De.onCancelAll(o.id,function(ce){let{reason:me}=void 0===ce?{}:ce;"user"===me&&(i.abort(),t.resetUploaderReferences(o.id,{abort:!!l.url})),a(`upload ${o.id} was canceled`)}),De.onResumeAll(o.id,()=>{i.abort(),o.error&&l.abort(),i=this.requests.run(s)})}).catch(a=>{throw this.uppy.emit("upload-error",o,a),a})}function pi(o){var r;const t={...this.opts};return o.tus&&Object.assign(t,o.tus),"function"==typeof t.headers&&(t.headers=t.headers(o)),{...null==(r=o.remote)?void 0:r.body,endpoint:t.endpoint,uploadUrl:t.uploadUrl,protocol:"tus",size:o.data.size,headers:t.headers,metadata:o.meta}}function mi(o){return eo.apply(this,arguments)}function eo(){return(eo=(0,G.A)(function*(o){const r=function ni(o){return o.filter(t=>!(t=>"error"in t&&!!t.error)(t))}(o),t=function oi(o){return o.filter(r=>{var t;return!(null!=(t=r.progress)&&t.uploadStarted&&r.isRestored)})}(r);this.uppy.emit("upload-start",t),yield Promise.allSettled(r.map(a=>{if(a.isRemote){const n=()=>this.requests,i=new AbortController,s=c=>{c.id===a.id&&i.abort()};this.uppy.on("file-removed",s);const l=this.uppy.getRequestClientForFile(a).uploadRemoteFile(a,Rt(this,Qn)[Qn](a),{signal:i.signal,getQueue:n});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",s)},{priority:-1})(),l}return Rt(this,Zn)[Zn](a)}))})).apply(this,arguments)}ko.VERSION="3.5.5";var bn=P(193),e=P(7705),qt=P(5416),Eo=P(2529),Pe=P(6316),Ce=P(7222),je=P(6654),pt=P(8834),Me=P(9213),j=P(6467),_e=P(2798),he=P(6600),ui=P(4073),At=P(6554);function gi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",4)(2,"h2",5),e.EFF(3," Bulk upload "),e.j41(4,"span",6),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCancelClick())}),e.j41(5,"mat-icon"),e.EFF(6,"close"),e.k0s()()(),e.j41(7,"mat-dialog-content")(8,"p"),e.EFF(9,"Are you sure you want upload all files together?"),e.k0s()(),e.j41(10,"mat-dialog-actions")(11,"div",7)(12,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(13,"Cancel"),e.k0s(),e.j41(14,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onConfirmClick())}),e.EFF(15,"Upload"),e.k0s()()()(),e.bVm()}}function fi(o,r){if(1&o&&(e.j41(0,"mat-option",40),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function hi(o,r){1&o&&e.nrm(0,"mat-error")}const _i=function(){return{}};function Ci(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"div",12)(2,"span",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onNoClick())}),e.EFF(3," undo "),e.k0s(),e.j41(4,"h4"),e.EFF(5,"Upload Files"),e.k0s(),e.j41(6,"h5"),e.EFF(7,"This action will manually upload data collected during this session."),e.k0s()(),e.j41(8,"form",14)(9,"div",15)(10,"div",16)(11,"div",17)(12,"label",18),e.EFF(13,"Data source"),e.k0s(),e.j41(14,"mat-form-field",19)(15,"mat-select",20),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedDatasource(n.value))}),e.DNE(16,fi,2,2,"mat-option",21),e.k0s()(),e.DNE(17,hi,1,0,"mat-error",22),e.k0s(),e.j41(18,"div",17)(19,"label",18),e.EFF(20,"Cycle"),e.k0s(),e.j41(21,"mat-form-field",19)(22,"mat-select",23),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedCycle(n))}),e.j41(23,"mat-option",24),e.EFF(24,"1"),e.k0s(),e.j41(25,"mat-option",25),e.EFF(26,"2"),e.k0s(),e.j41(27,"mat-option",26),e.EFF(28,"3"),e.k0s(),e.j41(29,"mat-option",27),e.EFF(30,"4"),e.k0s(),e.j41(31,"mat-option",28),e.EFF(32,"5"),e.k0s(),e.j41(33,"mat-option",29),e.EFF(34,"6"),e.k0s(),e.j41(35,"mat-option",30),e.EFF(36,"7"),e.k0s(),e.j41(37,"mat-option",31),e.EFF(38,"8"),e.k0s()()()(),e.j41(39,"div",17)(40,"label",18),e.EFF(41,"Type"),e.k0s(),e.j41(42,"mat-form-field",19)(43,"mat-select",32),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedType(n))}),e.j41(44,"mat-option",33),e.EFF(45,"Raw"),e.k0s(),e.j41(46,"mat-option",34),e.EFF(47,"Merchant raw"),e.k0s()()()(),e.j41(48,"div")(49,"div",35)(50,"label",36),e.nrm(51,"uppy-drag-drop",37),e.k0s(),e.j41(52,"p",38),e.EFF(53,"Click to upload or drag and drop"),e.k0s(),e.j41(54,"p",39),e.EFF(55,".xlsx, .csv (max 150mb)"),e.k0s()()()()()()()}if(2&o){const t=e.XpG(2);e.R7$(8),e.Y8G("formGroup",t.uploadFileForm),e.R7$(8),e.Y8G("ngForOf",t.dropdownOptions),e.R7$(1),e.Y8G("ngIf",t.showError),e.R7$(34),e.Y8G("uppy",t.uppy)("props",e.lJ4(5,_i))}}function bi(o,r){if(1&o&&e.DNE(0,Ci,56,6,"div",10),2&o){const t=e.XpG();e.Y8G("ngIf",1==t.showForm)}}let Io=(()=>{class o{constructor(t,a,n,i,s,l,c,d){this.snackBar=t,this.formBuilder=a,this.dialogRef=n,this.URMService=i,this.notify=s,this.spinnerService=l,this.dialogRef1=c,this.data=d,this.showError=!1,this.showForm=!0,this.dataSourceData=[],this.dropdownOptions=[],this.dataSourceId="",this.cycle_no="",this.selectedTypeValue="",this.uppy=new I.A({debug:!0,autoProceed:!0}),this.uploadFileForm=this.formBuilder.group({dataSource:["",p.k0.required],cycle_no:["",p.k0.required],filetype:["",p.k0.required],file_name:["",p.k0.required]}),console.log("Received data:",this.data);let m=d;this.actionToTake=m?.upload}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id"),"single"===this.actionToTake&&(this.getdataSourcesbyProjectId(),this.onclickOfUpload())}onNoClick(){this.dialogRef.close(),this.dialogRef1.close()}onCancelClick(){this.dialogRef1.close()}onConfirmClick(){console.log("inside bulk upload"),this.URMService.UploadAllFiles({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId},{}).then(n=>{console.log("UploadAllFiles resp =>",n),this.notify.showSuccessToast("File upload process started!, It takes upto 05 to 10 minutes. Thank you for your patience!","Close"),this.dialogRef.close()}).catch(n=>{console.log("UploadAllFiles Error =>",n),this.dialogRef.close()}),this.dialogRef.close()}onclickOfUpload(){const t=this.uppy;t.use(ko,{removeFingerprintOnSuccess:!0,endpoint:bn.$.endpointURL}).on("file-added",a=>{a&&(a.meta={name:a.name,type:a.type,datasource_id:this.dataSourceId,cycle_no:this.cycle_no,product_id:this.productId,tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,data_type:this.data_type}),console.log(a.meta),t.on("upload-success",n=>{console.log("File uploaded successfully:",n),this.notify.showSuccessToast("File uploaded successfully","Close"),this.dialogRef.close()}),t.on("error",n=>{console.error("Error:",n),this.notify.showErrorToast("Error occurred while uploading file","Close"),this.dialogRef.close()})})}getdataSourcesbyProjectId(){this.spinnerService.show(),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getdataSourcesbyProjectId response",a),a&&200===a.statusCode?(this.dataSourceData=a.data,this.dropdownOptions=this.dataSourceData.map(n=>({name:n.datasource_name,value:n.datasource_id})),console.log("this.dropdown options",this.dropdownOptions),this.spinnerService.hide()):(this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide())}).catch(a=>{console.log("Error while getting recon config data",a),this.spinnerService.hide()})}selectedDatasource(t){this.datasource_name=t.name,this.dataSourceId=t.value;const a=(new Date).toISOString().split("T")[0];console.log("DataSourceValue:",this.dataSourceId,"DataSourceName",this.datasource_name);let n={projectId:this.projectId,datasourceId:this.dataSourceId,date:a,cycleNo:this.cycle_no,datatype:this.selectedTypeValue};this.URMService.getDatasourceById({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(s=>{console.log("getDatasourceById response =>",s);let l=s.data[0].datasource_type;"CBS Beneficiary"===l||"CBS Remitter"===l||"Switch Remitter"===l||"Switch Beneficiary"===l?(console.log("Will call the validation API"),this.URMService.getExistingFile({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId},n).then(d=>{console.log("getExistingFile response =>",d);const m=d.data.length;console.log("isDataPresnet ==>",m),m>0&&this.notify.showSuccessToast(`File already exist for datasource ${this.datasource_name}`,"Close")}).catch(d=>{console.log("error ==>",d)})):console.log("Will not call the validation API")}).catch(s=>{console.log("error =>",s)}),""==this.dataSourceId&&(this.showError=!0)}selectedCycle(t){this.cycle_no=t.value,console.log("cycle No:",this.cycle_no);const a=(new Date).toISOString().split("T")[0];this.URMService.getExistingFile({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId},{projectId:this.projectId,datasourceId:this.dataSourceId,date:a,cycleNo:this.cycle_no,datatype:this.selectedTypeValue}).then(s=>{console.log("getExistingFile response =>",s);const l=s.data.length;console.log("isDataPresnet ==>",l),l>0&&this.notify.showErrorToast(`File already exist for ${this.datasource_name} of cycle ${this.cycle_no}`,"Close")}).catch(s=>{console.log("error ==>",s)})}selectedType(t){console.log("Selected Type",t),this.selectedTypeValue=t.value;const a=(new Date).toISOString().split("T")[0];this.URMService.getExistingFile({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId},{projectId:this.projectId,datasourceId:this.dataSourceId,date:a,cycleNo:this.cycle_no,datatype:this.selectedTypeValue}).then(s=>{console.log("getExistingFile response =>",s);const l=s.data.length;console.log("isDataPresnet ==>",l),l>0&&this.notify.showSuccessToast(`File already exist for ${this.datasource_name} of cycle ${this.cycle_no}`,"Close")}).catch(s=>{console.log("error ==>",s)})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(qt.UG),e.rXU(p.ok),e.rXU(Eo.ce),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(je.D),e.rXU(F.CP),e.rXU(F.Vh))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-file-upload-dialog"]],decls:6,vars:3,consts:[["bdColor","rgba(0, 0, 0, 0.6)","size","medium","color","#fff","type","timer",3,"fullScreen"],[2,"color","white"],[4,"ngIf","ngIfElse"],["single",""],[1,"dialog-box"],["mat-dialog-title","",1,"title-with-icon"],[1,"cancel-icon",3,"click"],[1,"btn"],["mat-button","",1,"_btncancel",3,"click"],["mat-button","",1,"_btnsubmit",3,"click"],["class","container",4,"ngIf"],[1,"container"],[1,"form-header"],[1,"material-symbols-outlined",2,"font-size","25px","cursor","pointer",3,"click"],[3,"formGroup"],[1,"addproject-content"],[1,"col"],[1,"row"],[1,"label"],["appearance","outline",1,"project-input"],["formControlName","dataSource",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","cycle_no",3,"selectionChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["formControlName","filetype",3,"selectionChange"],["value","raw"],["value","merchnat_raw"],[1,"custom-box"],[1,"custom-file-upload"],[1,"material-symbols-outlined",3,"uppy","props"],[1,"custom-title"],[1,"custom-content"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"ngx-spinner",0)(1,"p",1),e.EFF(2,"Loading..."),e.k0s()(),e.DNE(3,gi,16,0,"ng-container",2),e.DNE(4,bi,1,1,"ng-template",null,3,e.C5r)),2&a){const i=e.sdS(5);e.Y8G("fullScreen",!0),e.R7$(3),e.Y8G("ngIf","bulk"===n.actionToTake)("ngIfElse",i)}},dependencies:[g.Sq,g.bT,pt.$z,Me.An,p.qT,p.BC,p.cb,F.BI,F.Yi,F.E7,p.j4,p.JD,j.rl,j.TL,_e.VO,he.wT,ui.rN,At.et],styles:[".container[_ngcontent-%COMP%]{width:630px}.form-header[_ngcontent-%COMP%]{margin-left:5%;margin-top:2%;gap:81%}.form-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.label[_ngcontent-%COMP%]{color:#344054;font-size:16px;font-weight:400}.custom-file-upload[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:3px 6px 5px 7px;width:37px;border-radius:10px;background:#F9F6F6;color:#000}.container[_ngcontent-%COMP%]{width:630px;padding:20px 20px 50px}.form-header[_ngcontent-%COMP%]{margin-left:2%}.form-header-title[_ngcontent-%COMP%]{font-size:30px;font-weight:500}h4[_ngcontent-%COMP%]{font-size:20px;font-weight:600;line-height:24px}h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-top:-11px}.close[_ngcontent-%COMP%]{cursor:default}.addproject-content[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;margin-top:-3%}.row[_ngcontent-%COMP%]{margin-bottom:-1%}.project-input[_ngcontent-%COMP%]{margin-top:1%;width:100%;height:5%}.label[_ngcontent-%COMP%]{color:#3b414c;font-size:16px;font-weight:500}.custom-box[_ngcontent-%COMP%]{padding:4px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}.custom-file-upload[_ngcontent-%COMP%]{cursor:pointer}.custom-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none}.custom-title[_ngcontent-%COMP%]{margin-top:3%;margin-bottom:1px}.custom-title[_ngcontent-%COMP%], .custom-content[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;font-weight:400}.custom-content[_ngcontent-%COMP%]{color:#79747e}.row2[_ngcontent-%COMP%]{margin-top:7%;margin-left:0%;display:flex;margin-bottom:3em;gap:2%}.project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;height:3em;width:30%;padding:8px 6px 8px 8px}.project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;height:3em;width:30%;padding:8px 6px 8px 8px}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:14px!important}  button.uppy-u-reset{width:100%;height:100%;background:transparent;border:none;background:#fff;box-shadow:none;margin:-5px 0}  .uppy-DragDrop-label{display:none}  .mat-mdc-text-field-wrapper.mdc-text-field--outlined .mat-mdc-form-field-infix{padding-top:10px;padding-bottom:16px}  .mdc-notched-outline{height:80%}  .uppy-DragDrop-arrow{background-image:url(dataConfig.39d6ef824b47dcff.png)}.dialog[_ngcontent-%COMP%]{height:16em}.dialog[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{margin:2em}.title-with-icon[_ngcontent-%COMP%]{position:relative;font-size:22px}.cancel-icon[_ngcontent-%COMP%]{position:absolute;top:0;right:0;cursor:pointer;color:#000;margin-top:-10px}.btn[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem;margin-left:20px}._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b;font-size:18px;font-weight:400}._btnsubmit[_ngcontent-%COMP%]{background:#9977FB;color:#fff;font-size:18px;font-weight:400}.mat-icon[_ngcontent-%COMP%]{margin-top:1em;margin-right:.5em}.cancel-icon[_ngcontent-%COMP%]:hover{color:red}"]})}}return o})();var Se=P(166),St=P(8059),Ne=P(6850),mt=P(6038),ke=P(4823),ue=P(9631),z=P(5084);const xi=["fromDate"];function yi(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Di(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function vi(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.viewValue)}}function Fi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"label",7),e.EFF(3,"Cycle"),e.k0s(),e.j41(4,"mat-form-field",8)(5,"mat-select",23),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedCycleChanged(n.value))}),e.DNE(6,vi,2,2,"mat-option",10),e.k0s()()(),e.j41(7,"div",6)(8,"label",7),e.EFF(9,"Data type"),e.k0s(),e.j41(10,"mat-form-field",8)(11,"mat-select",24),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedType(n))}),e.j41(12,"mat-option",25),e.EFF(13,"Raw"),e.k0s(),e.j41(14,"mat-option",26),e.EFF(15,"Merchant raw"),e.k0s()()()(),e.bVm()}if(2&o){const t=e.XpG(2);e.R7$(6),e.Y8G("ngForOf",t.cycles)}}function Mi(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"label",7),e.EFF(3,"Data source"),e.k0s(),e.j41(4,"mat-form-field",8)(5,"mat-select",22),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedDatasource(n.value))}),e.DNE(6,Di,2,2,"mat-option",10),e.k0s()()(),e.DNE(7,Fi,16,1,"ng-container",17),e.bVm()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("ngForOf",t.dropdownOptions),e.R7$(1),e.Y8G("ngIf",t.showInputforCycleAndDatatype)}}let Si=(()=>{class o{constructor(t,a,n,i,s,l,c){this.formBuilder=t,this.dialogRef=a,this.commonService=n,this.URMService=i,this.notify=s,this.renderer=l,this.dialog=c,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.showForm=!0,this.showAllFields=!1,this.selectedCycle="",this.cycles=Array.from({length:10},(d,m)=>({value:(m+1).toString(),viewValue:(m+1).toString()})),this.today=new Date,this.dataSourceData=[],this.dropdownOptions=[],this.rollbackOperation=[{name:"File data rollback",value:"file_data_rollback"},{name:"Pre-recon rollback",value:"pre_recon_rollback"},{name:"Reconciliation rollback",value:"recon_rollback"},{name:"Post-recon rollback",value:"post_recon_rollback"}],this.rollbackForm=this.formBuilder.group({rollback_type:["",p.k0.required],dataSource:[""],cycle_no:[""],datetype:[""]})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}selectedRollbackOps(t){this.showAllFields="file_data_rollback"===t,"file_data_rollback"===t?this.getDataSourcesForProjectId():(this.rollbackForm.get("dataSource")?.setValue(""),this.rollbackForm.get("cycle_no")?.setValue(""),this.rollbackForm.get("datetype")?.setValue(""))}getDataSourcesForProjectId(){this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("Get DataModelResponse in file upload dialog component",a),this.dataSourceData=a.data,console.log("dataSourceData",this.dataSourceData),this.dropdownOptions=this.dataSourceData.map(n=>({name:n.datasource_name,value:n.datasource_id,type:n.datasource_type})),console.log("this.dropdown options",this.dropdownOptions)}).catch(function(a){console.log("Error while getting recon config data",a)})}onNoClick(){this.dialogRef.close()}selectedDatasource(t){this.showInputforCycleAndDatatype=["Timeout","NPCI Issuer","NPCI Acquirer","Adjustment","DRC"].includes(t.type),console.log("Selected DataSource:",t),console.log("Show Cycle and Data type:",this.showInputforCycleAndDatatype)}selectedCycleChanged(t){console.log("Selected Cycle:",t)}selectedType(t){}submitRollback(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("Form Value =>",this.rollbackForm.value);let a=this.rollbackForm.value,n={rollback_type:a.rollback_type,rollback_date:this.fromDateFormatted,dataSource:a.dataSource.value,cycle_no:a.cycle_no,datetype:a.datetype},i={tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId};console.log("query ==>",i),console.log("body ==>",n),this.URMService.rollbackData(i,n).then(s=>{console.log("rollbackData res",s),this.notify.showSuccessToast("Rollback successfully!!",""),t.close(),this.dialogRef.close()}).catch(s=>{console.log("Error",s),t.close(),this.dialogRef.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Eo.ce),e.rXU(St.w),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(F.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-rollback-dialog"]],viewQuery:function(a,n){if(1&a&&e.GBs(xi,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},decls:33,vars:6,consts:[[1,"container"],[1,"form-header"],[1,"material-symbols-outlined",2,"font-size","25px","cursor","pointer",3,"click"],[3,"formGroup"],[1,"addproject-content"],[1,"flex-container"],[1,"row"],[1,"label"],["appearance","outline",1,"project-input"],["formControlName","rollback_type","placeholder","Select operation",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-select"],[1,"Rollback_label"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[4,"ngIf"],[1,"action-button"],[1,"project-cancel",3,"click"],["type","submit",1,"project-create",3,"click"],[3,"value"],["formControlName","dataSource",3,"selectionChange"],["formControlName","cycle_no",3,"selectionChange"],["formControlName","datetype",3,"selectionChange"],["value","raw"],["value","merchant_raw"]],template:function(a,n){if(1&a&&(e.qex(0),e.j41(1,"div",0)(2,"div",1)(3,"span",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(4,"undo"),e.k0s(),e.j41(5,"h4"),e.EFF(6,"Rollback"),e.k0s(),e.j41(7,"h5"),e.EFF(8,"This action will manually upload data collected during this session."),e.k0s()(),e.j41(9,"form",3)(10,"div",4)(11,"div",5)(12,"div",6)(13,"label",7),e.EFF(14,"Rollback operation"),e.k0s(),e.j41(15,"mat-form-field",8)(16,"mat-select",9),e.bIt("selectionChange",function(s){return n.selectedRollbackOps(s.value)}),e.DNE(17,yi,2,2,"mat-option",10),e.k0s()()(),e.j41(18,"div",11)(19,"label",12),e.EFF(20,"Rollback date"),e.k0s(),e.j41(21,"mat-form-field",8)(22,"input",13,14),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(24,"mat-datepicker-toggle",15)(25,"mat-datepicker",null,16),e.k0s()()(),e.DNE(27,Mi,8,2,"ng-container",17),e.j41(28,"div",18)(29,"button",19),e.bIt("click",function(){return n.onNoClick()}),e.EFF(30,"Cancel"),e.k0s(),e.j41(31,"button",20),e.bIt("click",function(){return n.submitRollback()}),e.EFF(32,"Rollback"),e.k0s()()()()(),e.bVm()),2&a){const i=e.sdS(26);e.R7$(9),e.Y8G("formGroup",n.rollbackForm),e.R7$(8),e.Y8G("ngForOf",n.rollbackOperation),e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(3),e.Y8G("ngIf",n.showAllFields)}},dependencies:[g.Sq,g.bT,p.qT,p.BC,p.cb,p.j4,p.JD,j.rl,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT],styles:[".container[_ngcontent-%COMP%]{width:630px}.form-header[_ngcontent-%COMP%]{margin-left:5%;margin-top:2%;gap:81%}.form-header-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.label[_ngcontent-%COMP%]{color:#344054;font-size:16px;font-weight:400}.custom-box[_ngcontent-%COMP%]{padding:4px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}.custom-file-upload[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:3px 6px 5px 7px;width:37px;border-radius:10px;background:#F9F6F6;color:#000}.custom-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none}.custom-title[_ngcontent-%COMP%]{margin-top:3%;margin-bottom:1px}.custom-title[_ngcontent-%COMP%], .custom-content[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;font-weight:400}.custom-content[_ngcontent-%COMP%]{color:#79747e}.row2[_ngcontent-%COMP%]{margin-top:7%;margin-left:0%;display:flex;margin-bottom:3em;gap:2%}.project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;height:3em;width:30%;padding:8px 6px 8px 8px}.project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;height:3em;width:30%;padding:8px 6px 8px 8px}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:14px!important}.container[_ngcontent-%COMP%]{width:630px;padding:20px 20px 50px}.form-header[_ngcontent-%COMP%]{margin-left:2%}.form-header-title[_ngcontent-%COMP%]{font-size:30px;font-weight:500}h4[_ngcontent-%COMP%]{font-size:20px;font-weight:600;line-height:24px}h5[_ngcontent-%COMP%]{font-size:20px;font-weight:400;margin-top:-11px}.close[_ngcontent-%COMP%]{cursor:default}.addproject-content[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;margin-top:-3%}.project-input[_ngcontent-%COMP%]{margin-top:1%;width:100%;height:5%}.label[_ngcontent-%COMP%]{color:#3b414c;font-size:16px;font-weight:500}.addproject-content[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.addproject-content[_ngcontent-%COMP%]   .flex-container[_ngcontent-%COMP%]   .date-select[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.addproject-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{margin-top:3%;display:flex;justify-content:flex-end;gap:2%}.addproject-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;width:27%;padding:8px 6px 8px 8px;cursor:pointer}.addproject-content[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   .project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;width:27%;padding:8px 6px 8px 8px;cursor:pointer}"]})}}return o})(),xn=(()=>{class o{constructor(t,a){this.dialog=t,this.spinnerService=a}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("rollback APIs called"),this.spinnerService.hide())}openDialogForRollback(){const t=new F.ru;t.disableClose=!0,console.log("dialogConfigData",t),this.dialog.open(Si).afterClosed().subscribe(n=>{})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-rollback"]],inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:7,vars:0,consts:[[1,"imgage-content"],["src","../../../assets/dataConfig.png",1,"img-fluid"],[1,"headlines"],[1,"apply-btn",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"div",0),e.nrm(1,"img",1),e.j41(2,"div",2)(3,"h2"),e.EFF(4,"Rollback description here.."),e.k0s(),e.j41(5,"button",3),e.bIt("click",function(){return n.openDialogForRollback()}),e.EFF(6,"Rollback"),e.k0s()()())},styles:[".imgage-content[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20px;height:68vh;margin:70px 20px 20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.imgage-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:350;color:gray}.imgage-content[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px}"]})}}return o})();var be=P(9371);const Pi=["fromDate"];function wi(o,r){if(1&o&&(e.j41(0,"mat-option",10)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(t.downloadtype)}}let Oi=(()=>{class o{constructor(t,a,n,i,s,l){this.URMService=t,this.dialog=a,this.renderer=n,this.notify=i,this.spinnerService=s,this.cdr=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.isDrawerOpen=!1,this.rowData=[],this.showTextIfFailed=!1,this.chipColor="black",this.notRollbacked=!0,this.rowHeight=55,this.fromDateSelected=!1,this.files=["file1.txt","file2.txt","file3.txt","file4.txt"],this.today=new Date,this.colDefs=[{field:"voucher_name",headerName:"File",width:400,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"voucher_type",headerName:"Voucher type",width:300},{headerName:"Uploaded on",cellRenderer:c=>(console.log("Date Params",c.data.updated_on),c.data.updated_on?new Date(c.data.updated_on).toLocaleString().slice(0,20).replace("T"," "):"")},{headerName:"Status",field:"voucher_status",cellRenderer:c=>{const d=c.value;console.log("voucher status",d);let m="";return"generated"!=d||!this.hasPermission("Voucher:view")&&"realm-admin"!==this.userRole?"rejected"==d?m="status-red":"Sent for approval"==d?m="status-yellow":"approved"==d&&(m="status-green"):m="status-green",`<div class="${m}">${d}</div>`},minWidth:300},{headerName:"Action",field:"Approval_status",cellRenderer:c=>{console.log("ApprovalSttaus",c);const d=c.data.voucher_status;let m="",E="",U=document.createElement("div"),ie="";if("generated"!==d||!this.hasPermission("Voucher:create")&&"realm-admin"!==this.userRole)if("Sent for approval"!==d||!this.hasPermission("Voucher:edit")&&"realm-admin"!==this.userRole)"rejected"===d&&(this.hasPermission("Voucher:view")||"realm-admin"===this.userRole)&&(E="status-grey",m="Sent for approval",ie=`${m} <span class="material-symbols-outlined" style="font-size:18px;margin-left:10px">done</span>`,U.classList.add(E),U.innerHTML=ie);else{const K=document.createElement("button");K.textContent="Approve",K.style.color="#1D1B4B",K.style.border="2px solid #9351FB",K.style.backgroundColor="#ffffff",K.style.borderRadius="8px",K.style.margin="11px",K.style.cursor="pointer",K.style.width="35%",K.style.height="30px",K.onclick=()=>{this.onBtnActionClick(c.data,"Approve")};const oe=document.createElement("button");oe.textContent="Reject",oe.style.backgroundColor="#ffffff",oe.style.border="2px solid #747474",oe.style.borderRadius="8px",oe.style.margin="11px",oe.style.cursor="pointer",oe.style.width="35%",oe.style.height="30px",oe.onclick=()=>{this.onBtnActionClick(c.data,"Reject")},U.appendChild(K),U.appendChild(oe),U.querySelectorAll(".approve-btn").forEach(de=>{de.addEventListener("click",()=>{this.onBtnActionClick(c.data,"Approve")})}),U.querySelectorAll(".reject-btn").forEach(de=>{de.addEventListener("click",()=>{this.onBtnActionClick(c.data,"Reject")})})}else{const K=document.createElement("button");K.textContent="send for approval",K.style.color="#1D1B4B",K.style.border="2px solid #9351FB",K.style.backgroundColor="#ffffff",K.style.borderRadius="8px",K.style.margin="9px",K.style.cursor="pointer",K.style.width="70%",K.style.height="30px",K.style.fontSize="16px",K.onclick=()=>{this.onSentforApprovalClick(c.data)};const oe=document.createElement("span");oe.classList.add("material-symbols-outlined"),oe.style.fontSize="18px",oe.style.marginLeft="10px";const de=document.createTextNode("done");oe.appendChild(de),K.appendChild(oe),U.appendChild(K),U.querySelectorAll(".approve-btn").forEach(De=>{De.addEventListener("click",()=>{this.onSentforApprovalClick(c.data)})})}return U},minWidth:300},{headerName:"",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");m.classList.add("material-symbols-outlined","toggle-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.opacity="0.8",m.style.fontSize="19px",m.style.color="#605B67",m.textContent="visibility",m.addEventListener("click",this.ViewClicked.bind(this,c));const E=document.createElement("span");return E.classList.add("material-symbols-outlined","delete-icon"),E.style.cursor="pointer",E.style.marginRight="8px",E.style.fontSize="19px",E.style.opacity="0.8",E.style.color="#605B67",E.textContent="download",E.addEventListener("click",this.downloadClicked.bind(this,c.data)),d.appendChild(m),d.appendChild(E),d},minWidth:200}],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,cellHeight:60}}ngOnInit(){this.userRole=localStorage.getItem("role"),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Voucher APIs called"),this.spinnerService.hide())}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}ViewClicked(t){console.log("ViewClicked",t),this.openDrawer(t.data)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted),this.fromDateSelected=!0}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"generated"==this.datainfo.voucher_status||"approved"==this.datainfo.voucher_status?this.chipColor="#17B01D":"rejected"==this.datainfo.voucher_status?(this.chipColor="#DE1306",this.showTextIfFailed=!0):"Sent for approval"==this.datainfo.voucher_status&&(this.chipColor="#FDB13F",this.showTextIfFailed=!1),console.log("this.chipColor",this.chipColor)}onCellClicked(t){t.data.clickable||t.event.preventDefault()}getVouchergenerationData(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getVouchergenerationData({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{if(console.log("getVouchergenerationData response =>",n),n&&200===n.statusCode){let i=n.data;if(console.log("tableDataToShow",i),i.length>0){let s=[];(this.hasPermission("Voucher:view")||"realm-admin"===this.userRole)&&(s=i,this.rowData=[...s],this.cdr.detectChanges(),this.gridApi.setRowData(this.rowData),t.close())}else this.notify.showErrorToast(`No voucher found for date ${this.fromDateFormatted}!`,"Close"),t.close()}else this.notify.showErrorToast(n.errorMessage,"Close"),t.close()}).catch(n=>{console.log("Error occured while fetching vocher",n),t.close()})}onSentforApprovalClick(t){console.log("inside this File to Approve:",t);var a=t.voucher_id;console.log("Inside approval for",a),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:a},{voucher_status:"Sent for approval"}).then(s=>{console.log("updateVoucherStatus response =>",s),s&&200===s.statusCode||201===s.statusCode?(this.notify.showSuccessToast("Voucher sent for approval successfully!","Close"),this.getVouchergenerationData()):this.notify.showErrorToast(s.errorMessage,"Close")}).catch(s=>{console.log("Error occured while updating voucher",s)})}onBtnActionClick(t,a){const n=this.dialog.open(Se.r,{height:"26vh",width:"30%",data:{action:a,content:t}});n.componentInstance.onClickButton.subscribe(i=>{if(console.log("Received reason from dialog:",i),i&&"Approve"==a){n.close(!0);var s=t.voucher_id;console.log("Inside approval for",s),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:s},{voucher_status:"approved"}).then(d=>{console.log("updateVoucherStatus response =>",d),d&&200===d.statusCode||201===d.statusCode?(this.notify.showSuccessToast("Voucher approved successfully!","Close"),this.getVouchergenerationData()):this.notify.showErrorToast(d.errorMessage,"Close")}).catch(d=>{console.log("Error occured while updating voucher",d)})}else n.close(!0),s=t.voucher_id,console.log("Inside approval for",s),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:s},{voucher_status:"rejected"}).then(E=>{console.log("updateVoucherStatus response =>",E),E&&200===E.statusCode||201===E.statusCode?(this.notify.showSuccessToast("Voucher approved successfully!","Close"),this.getVouchergenerationData()):this.notify.showErrorToast(E.errorMessage,"Close")}).catch(E=>{console.log("Error occured while updating voucher",E)})})}downloadClicked(t){console.log("Download Click",t);const a=this.dialog.open(y.T,{height:"55vh",width:"35%"}),n=new Date;let s;n.getFullYear(),(n.getMonth()+1).toString().padStart(2,"0"),n.getDate().toString().padStart(2,"0"),this.fileName=t.voucher_name,"approved"===t.voucher_status?(console.log("Inside voucher_status",t.voucher_status,"text"),s="txt",this.URMService.downloadSettlementVoucher({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,download_type:s}).then(c=>{console.log("Response in settlement voucherdata",c);let d=window.navigator;console.log("New Variable",d);const m=new Blob([c],{type:"text/plain;charset=utf-8"});if(console.log("newBlob",m),d&&d.msSaveOrOpenBlob)d.msSaveOrOpenBlob(m,`Settlement_${this.fromDateFormatted}.txt`),a.close();else{let U=window.URL.createObjectURL(m);var E=document.createElement("a");E.download=`Settlement_${this.fromDateFormatted}.txt`,E.href=U,document.body.appendChild(E),E.click(),document.body.removeChild(E),a.close()}})):(s="xlsx",console.log("Inside voucher_status",t.voucher_status,"excel"),this.URMService.downloadSettlementVoucher({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,download_type:s}).then(c=>{console.log("Response in settlement voucherdata",c);let d=window.navigator;console.log("New Varaiable",d);const m=new Blob([c],{type:"application/vnd.ms-excel;charset=utf-8"});if(console.log("newBlob",m),d&&d.msSaveOrOpenBlob)d.msSaveOrOpenBlob(m,`Settlement_${this.fromDateFormatted}.xlsx`),a.close();else{let U=window.URL.createObjectURL(m);var E=document.createElement("a");E.download=`Settlement_${this.fromDateFormatted}.xlsx`,E.href=U,document.body.appendChild(E),E.click(),document.body.removeChild(E),a.close()}}))}onGridReady(t){this.gridApi=t.api,this.params=t}openDialogForRollback(){this.closeDrawer();const t=new F.ru;t.width="700px",t.height="505px",t.data={FilesToSelect:this.files},t.disableClose=!0,console.log("dialogConfigData",t),this.dialog.open(xn,t).afterClosed().subscribe(n=>{console.log("collection resp",n),this.notRollbacked=!0})}openDrawer(t){this.isDrawerOpen=!0,this.selectedRowData=t,console.log(this.selectedRowData),this.notRollbacked=!1}closeDrawer(){this.isDrawerOpen=!1,this.selectedRowData=null}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(Ce.J),e.rXU(je.D),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-voucher"]],viewQuery:function(a,n){if(1&a&&e.GBs(Pi,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:18,vars:8,consts:[[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],[3,"value",4,"ngFor","ngForOf"],[1,"ag-grid-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowHeight","rowData","columnDefs","gridOptions","rowClicked","gridReady"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Date"),e.k0s(),e.j41(4,"input",2,3),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(6,"mat-datepicker-toggle",4)(7,"mat-datepicker",null,5),e.k0s(),e.j41(9,"button",6),e.bIt("click",function(){return n.getVouchergenerationData()}),e.EFF(10," Apply "),e.k0s(),e.j41(11,"mat-form-field",1)(12,"mat-label"),e.EFF(13,"Download file"),e.k0s(),e.j41(14,"mat-select"),e.DNE(15,wi,4,2,"mat-option",7),e.k0s()()(),e.j41(16,"div",8)(17,"ag-grid-angular",9),e.bIt("rowClicked",function(s){return n.rowView(s)})("rowClicked",function(s){return n.onCellClicked(s)})("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()),2&a){const i=e.sdS(8);e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(9),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowHeight",n.rowHeight)("rowData",n.rowData)("columnDefs",n.colDefs)("gridOptions",n.gridOptions)}},dependencies:[g.Sq,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:['.inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;margin-bottom:10px;gap:15px}  .ag-center-cols-container{height:60px}.apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}  .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .status-blue{color:#000!important;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:120px!important;padding:6px,6px,6px,8px;border-radius:8px!important;border:1.5px solid #9351FB!important}  .status-yellow{color:#fdb13f;border:2px solid #FDB13F;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80%!important}  .status-blue{color:#334fe0;border:2px solid #334FE0;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .approve-btn{color:#1d1b4b;border:2px solid #334FE0;background-color:#fff;text-align:center;padding:10px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:10px;width:80px}  .reject-btn{color:#747474;background-color:#fff;border:1px solid #747474;text-align:center;padding:10px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:10px;width:80px}  .status-grey{color:#747474;border:1px solid #747474;text-align:center;padding:8px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:121px}  .mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height: 0px !important;--mdc-filled-text-field-focus-active-indicator-height: 0px !important;--mdc-filled-text-field-container-shape: 4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}  .mdc-text-field--filled:not(.mdc-text-field--disabled){border:1px solid #ccc;border-radius:10px;margin:-10px;background:transparent!important}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;height:100vh;width:720px;background-color:#fff;box-shadow:0 0 5px #0000004d;z-index:1000;overflow-y:auto}.drawer.open[_ngcontent-%COMP%]{right:0}.drawer-content[_ngcontent-%COMP%]{height:auto}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #ccc}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;cursor:pointer;font-weight:600}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:30px;letter-spacing:.5px;font-weight:400}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]{padding:20px}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .data-userDetails[_ngcontent-%COMP%], .drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .light-text[_ngcontent-%COMP%]{color:#747474;font-weight:500;font-size:16px;margin-bottom:-20px}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .bind-data[_ngcontent-%COMP%]{font-size:15px;margin-left:220px;color:#000;font-weight:400;font-size:16px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]{padding:20px;border:1px solid #D0D5DD;margin-left:20px;margin-right:80px;border-radius:8px;margin-top:25px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]   .light-text[_ngcontent-%COMP%]{color:#747474;font-weight:500;font-size:16px;margin-bottom:-20px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]   .bind-data[_ngcontent-%COMP%]{font-size:15px;margin-left:220px;color:#000;font-weight:400;font-size:16px}.para-design[_ngcontent-%COMP%]{border-radius:16px;margin-left:220px;text-align:center;padding:2px 12px}.approval-design[_ngcontent-%COMP%]{margin-left:220px;text-align:center;padding:2px 12px;border-radius:16px}.description[_ngcontent-%COMP%]{margin-left:10px}.description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:10px;font-size:18px;font-weight:700}.content[_ngcontent-%COMP%]{margin-left:20px;margin-right:80px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.box[_ngcontent-%COMP%]{margin-left:22px;margin-right:80px;margin-top:35px;padding:10px;border:1px solid #D12F2F;font-size:16px;color:#1d1b4b;font-weight:400;border-radius:8px;border-left:24px solid #D12F2F}.create_btns[_ngcontent-%COMP%]{margin-top:3rem;display:flex;gap:1rem;margin-left:20px}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:8px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b;font-size:18px;font-weight:400;line-height:24px}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;font-size:18px;font-weight:400;line-height:24px}.disabled-button[_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;border-radius:20px;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#242424}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}  .ag-header-cell-sortable .ag-header-cell-label{cursor:pointer;font-size:16px}  .ag-center-cols-viewport{font-size:16px}']})}}return o})();const Ti=["fromDate"];let ki=(()=>{class o{constructor(t,a,n,i,s){this.URMService=t,this.renderer=a,this.notify=n,this.dialog=i,this.spinnerService=s,this.datePipe=new g.vh("en-US"),this.rowData=[],this.rowHeight=50,this.today=new Date,this.columnDefs=[{field:"type",headerName:"Report name",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"module",headerName:"Category",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Status",field:"status",cellRenderer:l=>{console.log("paramssss=====>",l.data.status);const c=l.data.status;let d="",m="";return"Completed"===c?(d="status-green",m="Generated"):("In progress"===c||"In Progress"===c)&&(d="status-gray",m="Not generated"),`<div class="${d}">${m}</div>`},minWidth:450},{field:"creation_date",headerName:"Date",width:220,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Download",cellRenderer:l=>{const c=document.createElement("div"),d=document.createElement("span");return d.classList.add("material-symbols-outlined","delete-icon"),d.style.cursor="pointer",d.style.marginRight="8px",d.style.fontSize="19px",d.style.opacity="0.8",d.style.color="#605B67",d.textContent="download",d.addEventListener("click",()=>{this.downloadClicked(l.data.type),console.log("params.data.name ==>",l.data.type)}),c.appendChild(d),c},minWidth:200}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,cellHeight:60}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("recon summary APIs called"),this.spinnerService.hide())}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy")}FetchSummary(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getInwardOutwardSummaryData({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{if(console.log("getInwardOutwardSummaryData Response =>",n),n&&200===n.statusCode){let i=n.result;i&&i.length>0?(this.rowData=i,t.close(),console.log("Inside if condition data is present..")):(this.rowData=[],console.log("Inside else condition data is not present.."),this.notify.showErrorToast(`No summary found for date ${this.fromDateFormatted}!`,"Close"),t.close())}else this.notify.showErrorToast(n.errorMessage,"Close"),t.close()}).catch(n=>{console.log("error occurred in getInwardOutwardSummaryData",n),t.close()})}downloadClicked(t){const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});let n;console.log("DownloadType",t),n="Inward Summary"===t?"inwardsummary":"outwardsummay";const i=new Date;i.getFullYear(),(i.getMonth()+1).toString().padStart(2,"0"),i.getDate().toString().padStart(2,"0"),this.URMService.downloadInwardOutwardSummary({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,type:n}).then(c=>{let d=window.navigator;const m=new Blob([c],{type:"application/vnd.ms-excel;charset=utf-8"});if(d&&d.msSaveOrOpenBlob)d.msSaveOrOpenBlob(m,`${t}_${this.fromDateFormatted}.xlsx`),console.log("getInwardSummary Response ==>",c),this.notify.showSuccessToast("Inward summary report downloaded successfully!","Close"),a.close();else{let U=window.URL.createObjectURL(m);var E=document.createElement("a");E.download=`${t}_${this.fromDateFormatted}.xlsx`,E.href=U,document.body.appendChild(E),E.click(),document.body.removeChild(E),"Inward Summary"===t?(this.notify.showSuccessToast("Inward summary report downloaded successfully!","Close"),a.close()):(this.notify.showSuccessToast("Outward summary report downloaded successfully!","Close"),a.close())}}).catch(c=>{console.log("error occured generating inward report",c)})}BulkDownload(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.bulkdownloadInwardOutwardSummary({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{console.log("bulkdownloadInwardOutwardSummary Response =>",n),n&&200===n.statusCode?(console.log("Inside response"),this.notify.showSuccessToast("Summaries uploaded on specified server!","Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("error occurred in bulkdownloadInwardOutwardSummary",n),404==n.error.statusCode&&this.notify.showErrorToast(`No summary found for date ${this.fromDateFormatted}!`,"Close"),t.close()})}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(e.sFG),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-summary"]],viewQuery:function(a,n){if(1&a&&e.GBs(Ti,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId",parentButtonValue5:"parentButtonValue5"},features:[e.OA$],decls:16,vars:12,consts:[[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],["matTooltip","Upload all summary files on specified server","matTooltipPosition","above",1,"apply-btn",3,"click"],[1,"ag-grid-table"],[1,"ag-theme-quartz",2,"width","100%","height","60vh",3,"rowHeight","rowData","columnDefs","defaultColDef","gridOptions","animateRows","gridReady"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Date"),e.k0s(),e.j41(4,"input",2,3),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(6,"mat-datepicker-toggle",4)(7,"mat-datepicker",null,5),e.k0s(),e.j41(9,"button",6),e.bIt("click",function(){return n.FetchSummary()}),e.EFF(10," Apply"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return n.BulkDownload()}),e.EFF(12,"Upload summary"),e.k0s()(),e.j41(13,"div",8)(14,"ag-grid-angular",9),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.nI1(15,"async"),e.k0s()()),2&a){const i=e.sdS(8);e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(8),e.Y8G("rowHeight",n.rowHeight)("rowData",e.bMT(15,10,n.rowData$))("columnDefs",n.columnDefs)("defaultColDef",n.defaultColDef)("gridOptions",n.gridOptions)("animateRows",!0)("rowData",n.rowData)}},dependencies:[j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs,ke.oV,g.Jj],styles:[".inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;margin-bottom:10px;gap:15px}.apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}  .mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height: 0px !important;--mdc-filled-text-field-focus-active-indicator-height: 0px !important;--mdc-filled-text-field-container-shape: 4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}  .mdc-text-field--filled:not(.mdc-text-field--disabled){border:1px solid #ccc;border-radius:10px;margin:-10px;background:transparent!important}  .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();function Ei(o,r){if(1&o){const t=e.RV6();e.j41(0,"app-recon-config-step2",10),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.updateTabChnage(n))})("updateDSConfig",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDSconfig(!0))})("callFunctionTabThree",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.updateCallThirdfunction(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("fetchData2",t.inputData)("triggerTabFunction",t.callfunction)}}function Ii(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",1)(2,"div",2)(3,"mat-tab-group",3)(4,"mat-tab",4)(5,"app-recon-config-step1",5),e.bIt("callFunctionTab",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateCallfunction(n))})("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))}),e.k0s()(),e.j41(6,"mat-tab",6),e.DNE(7,Ei,1,2,"app-recon-config-step2",7),e.k0s(),e.j41(8,"mat-tab",8)(9,"app-recon-config-step3",9),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("callFunctionForParent",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.callMainfunction(n))}),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.R7$(5),e.Y8G("childButtonValue",t.updateValue)("fetchData",t.inputData),e.R7$(1),e.Y8G("disabled",t.tab2),e.R7$(1),e.Y8G("ngIf",t.callfunction),e.R7$(1),e.Y8G("disabled",t.tab3),e.R7$(1),e.Y8G("triggerTabThreeFunction",t.callThirdFunction)("UpdateDSConfig",t.updateDSconfg)}}function Ri(o,r){1&o&&(e.j41(0,"div"),e.nrm(1,"app-display-recon-configure"),e.k0s())}let yn=(()=>{class o{constructor(t,a,n,i){this.recService=t,this.formBuilder=a,this.router=n,this.spinner=i,this.panelOpenState=!0,this.expandUploads=!1,this.selectedAccordionIndex=-1,this.selectedIndex=-1,this.selectedValues=[],this.tab1=!0,this.tab2=!0,this.tab3=!0,this.displayForm=!0,this.displayReconConfigure=!1,this.selectedIndex1=-1,this.groupedDataSources={},this.tabChange=0,this.dataSourceCount=0,this.showSecondContent=!1,this.callfunction=!1,this.callfunction2=!1,this.showRecon=!1}ngOnChanges(t){t.parentButtonValue1&&(console.log("Updated parentButtonValue1:",this.parentButtonValue1),"showReconConfig"===this.parentButtonValue1&&(console.log("show last content..."),this.showSecondContent=!0))}callMainfunction(t){}updateCallThirdfunction(t){console.log("inside tab three"),this.callThirdFunction=t}updateCallfunction(t){this.callfunction=t}ngOnInit(){this.dataForm=this.formBuilder.group({model_name:[""],desc:[""]}),this.frequencyForm=this.formBuilder.group({cron_value:[""]}),this.ruleForm=this.formBuilder.group({rule_type:[""],rule_description:[""]})}updateTabChnage(t){if("number"==typeof t)this.tabChange=t,console.log("Inside main comp tab ==>",this.tabChange),this.changeIndex(t),1===t?(console.log("tabbbbb"),this.tab2=!1):2===t?(console.log("tabbbbb 2"),this.tab3=!1):3===t&&(console.log("tabbbbb 3"),this.tab3=!1),this.areAllTabsCompleted()&&console.log("All tabs are completed!");else{const{value:n}=t;this.tabChange=n,console.log("Inside main comp tab ==>",this.tabChange),this.callfunction=!0,this.changeIndex(n),1===n?(console.log("tabbbbb"),this.tab2=!1):2===n&&(console.log("tabbbbb 2"),this.tab3=!1),this.areAllTabsCompleted()&&(console.log("All tabs are completed!"),this.displayReconConfigure=!0,this.showRecon=!0)}}updateDSconfig(t){this.updateDSconfg=t}areAllTabsCompleted(){return this.tab1&&this.tab2&&this.tab3}changeIndex(t){console.log("TabNumber===>",t),this.tabGroup.selectedIndex=t}handleAddReconData(t){console.log("Received AddReconData in parent component:",t)}showSpinner(){this.spinner.show()}hideSpinner(){this.spinner.hide()}onSubmit(){}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(St.w),e.rXU(p.ok),e.rXU(b.Ix),e.rXU(At.ex))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-config"]],viewQuery:function(a,n){if(1&a&&e.GBs(Ne.T8,5),2&a){let i;e.mGM(i=e.lsd())&&(n.tabGroup=i.first)}},inputs:{inputData:"inputData",parentButtonValue1:"parentButtonValue1",showDataInput:"showDataInput"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[1,"recon-child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start"],["id","label1","label","1.Select reconciliation model"],[3,"childButtonValue","fetchData","callFunctionTab","TabChnage"],["id","label2","label","2.Map fields",3,"disabled"],[3,"fetchData2","triggerTabFunction","TabChnage","updateDSConfig","callFunctionTabThree",4,"ngIf"],["id","label3","label","3.Recon param configuration",3,"disabled"],[3,"triggerTabThreeFunction","UpdateDSConfig","TabChnage","callFunctionForParent"],[3,"fetchData2","triggerTabFunction","TabChnage","updateDSConfig","callFunctionTabThree"]],template:function(a,n){1&a&&(e.DNE(0,Ii,10,7,"div",0),e.DNE(1,Ri,2,0,"div",0)),2&a&&(e.Y8G("ngIf",!n.displayReconConfigure),e.R7$(1),e.Y8G("ngIf",n.displayReconConfigure))},styles:[".recon-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{padding:10px 0}"]})}}return o})();var Be=P(9454);const Ai=["dynamicContainer"];function ji(o,r){1&o&&(e.j41(0,"div")(1,"div",1),e.nrm(2,"img",2),e.j41(3,"div",3)(4,"h2"),e.EFF(5,"Follow 3 easy step to configure reconcilation"),e.k0s(),e.j41(6,"div",4)(7,"span"),e.EFF(8,"1.Select reconcilation model"),e.k0s(),e.j41(9,"span"),e.EFF(10,"2.Define reconcilation frequency"),e.k0s(),e.j41(11,"span"),e.EFF(12,"3.Select rule "),e.nrm(13,"source"),e.k0s()()()()())}function Ni(o,r){if(1&o){const t=e.RV6();e.j41(0,"span",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,i=e.XpG(2);return e.Njj(i.editReconConfig("updateModel",n))}),e.EFF(1,"edit"),e.k0s()}}function Bi(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",25),e.EFF(2),e.k0s(),e.bVm()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function Gi(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",20)(2,"div",21)(3,"span"),e.EFF(4),e.k0s()(),e.j41(5,"div",22),e.DNE(6,Bi,3,1,"ng-container",5),e.k0s()(),e.j41(7,"div",23)(8,"span",24),e.EFF(9,"open_in_full"),e.k0s(),e.j41(10,"span",24),e.EFF(11,"open_in_full"),e.k0s(),e.j41(12,"span",24),e.EFF(13,"open_in_full"),e.k0s(),e.j41(14,"span",24),e.EFF(15,"open_in_full"),e.k0s()(),e.bVm()),2&o){const t=r.$implicit,a=r.last,n=e.XpG().$implicit;e.R7$(4),e.JRh(t),e.R7$(2),e.Y8G("ngForOf",n.groupedData[t]),e.R7$(2),e.AVh("Nestlast",a),e.R7$(2),e.AVh("Nestlast",a),e.R7$(2),e.AVh("Nestlast",a),e.R7$(2),e.AVh("Nestlast",a)}}function Vi(o,r){if(1&o&&(e.qex(0),e.j41(1,"mat-expansion-panel",14)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"div",15)(5,"div",16)(6,"div",17),e.EFF(7),e.k0s()()()(),e.nrm(8,"mat-panel-description"),e.k0s(),e.j41(9,"div",18)(10,"div",19),e.DNE(11,Gi,16,10,"ng-container",5),e.k0s()()(),e.bVm()),2&o){const t=r.$implicit,a=e.XpG(4);e.R7$(1),e.Y8G("expanded",!1),e.R7$(6),e.SpI(" ",t.combination_desc," "),e.R7$(4),e.Y8G("ngForOf",a.getGroupedDataKeys(t.groupedData))}}function $i(o,r){if(1&o&&(e.j41(0,"div",7)(1,"div",8)(2,"div",9)(3,"span",10),e.EFF(4),e.k0s(),e.DNE(5,Ni,2,0,"span",11),e.k0s(),e.j41(6,"div",12)(7,"span"),e.EFF(8),e.k0s()()(),e.j41(9,"mat-accordion"),e.DNE(10,Vi,12,3,"ng-container",5),e.k0s()()),2&o){const t=e.XpG().$implicit,a=e.XpG(2);e.R7$(4),e.JRh(null==t?null:t.recon_config_name),e.R7$(1),e.Y8G("ngIf",a.hasPermission("Reconconfiguration:edit")||"realm-admin"===a.Role),e.R7$(3),e.JRh(null==t?null:t.recon_description),e.R7$(2),e.Y8G("ngForOf",a.combinationDataArray)}}function Ui(o,r){if(1&o&&(e.qex(0),e.DNE(1,$i,11,4,"div",6),e.bVm()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.showReconCon)}}function Yi(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,Ui,2,1,"ng-container",5),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.displayReconData)}}function zi(o,r){if(1&o&&(e.j41(0,"div"),e.nrm(1,"app-recon-config",26),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("inputData",t.dataToExport)}}let to=(()=>{class o{constructor(t,a,n,i){this.recService=t,this.router=a,this.urmService=n,this.spinner=i,this.panelOpenState=!0,this.expandUploads=!1,this.isPresent=!1,this.openTab=!1,this.showReconCon=!1,this.selectedValues=[],this.mapFieldToDisplay=[],this.combinationData=[],this.groupedData={},this.last=!1,this.combinationDataArray=[],this.indices=[]}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.Role=localStorage.getItem("role"),this.tenantId=localStorage.getItem("tenant_id"),this.getAllReconConfigData()}ngOnChanges(){console.log("showDataInput:",this.showDataInput)}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}isDataSourceArray(t){return Array.isArray(t)}onAccordionSelected(t){console.log("inside onAccordionSelected");const a={ruleType:t.rule_type,ruleDescription:t.rule_description};if(console.log("select value",a),Array.isArray(this.selectedValues)){const n=this.selectedValues.findIndex(i=>i.ruleType===a.ruleType&&i.ruleDescription===a.ruleDescription);-1===n?this.selectedValues.push(a):this.selectedValues.splice(n,1)}}getAllReconConfigData(){this.spinner.show(),this.urmService.getAllReconConfigData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{const n=a;if(console.log("getAllReconConfigData response",n),this.displayReconData=n.data,console.log("array to display:",this.displayReconData),0!==this.displayReconData.length){console.log("inside if");for(let i=0;i<this.displayReconData.length;i++){console.log("inside outer loop"),this.isPresent=!0;const s=this.displayReconData[i].fieldMapping.combination;for(let l=0;l<s.length;l++){console.log("inside inner loop");const c=s[l].combination_desc,d=s[l].field_mapping,m={combination_desc:c,SourceNameCombination2:c,groupedData:{}};for(let E=0;E<d.length;E++){const U=d[E];for(let ie=0;ie<U.length;ie++){const{datasource_name:K,field_name:oe}=U[ie];m.groupedData[K]||(m.groupedData[K]=[]),m.groupedData[K].push(oe)}}this.combinationDataArray.push(m)}console.log("combinationDataArray:",this.combinationDataArray),this.spinner.hide()}}else console.log("Fetch data is blank"),this.spinner.hide()},a=>{console.error("Error fetching data:",a)})}getGroupedDataKeys(t){return Object.keys(t)}getUniqueValues(t,a){return Array.from(new Set(t.map(n=>n[a])))}lastField(t,a){return t===a-1}editReconConfig(t,a){this.updateValue=t,this.showReconCon=!0,this.dataToExport={...a,formFor:"edit"},console.log("data to export:",this.dataToExport),localStorage.setItem("recon_config_id",this.dataToExport.recon_config_id),this.showReconCon=!0}groupFieldsByDataSource(t){const a=[];return t.forEach(n=>{const i=a.findIndex(s=>s.datasource_name===n.datasource_name);-1===i?a.push({datasource_name:n.datasource_name,fields:[n]}):a[i].fields.push(n)}),a}getDataSourceName(t){for(const a of this.displayReconData)for(const n of a.fieldMapping.combination)for(const i of n.datasource)if(i===t)for(const s of n.field_mapping)for(const l of s)if(l.source_id===t)return l.datasoruce_name;return""}routeTo(){this.router.navigate(["recon-config"])}openReconConfigComponent(t){t?(this.dataToExport={...t,formFor:"edit"},console.log("data to export:",this.dataToExport),this.showReconCon=!0):console.error("Data is undefined or null.")}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(St.w),e.rXU(b.Ix),e.rXU(Pe.V),e.rXU(At.ex))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-display-recon-configure"]],viewQuery:function(a,n){if(1&a&&e.GBs(Ai,5,e.c1b),2&a){let i;e.mGM(i=e.lsd())&&(n.dynamicContainer=i.first)}},inputs:{showDataInput:"showDataInput"},features:[e.OA$],decls:3,vars:3,consts:[[4,"ngIf"],[1,"imgage-content"],["src","../../assets/dataConfig.png",1,"img-fluid"],[1,"headlines"],[1,"rules"],[4,"ngFor","ngForOf"],["class","wrap",4,"ngIf"],[1,"wrap"],[1,"recon-info"],[1,"data-model"],[1,"data-model-title"],["class","material-symbols-outlined","id","edit-data","matTooltip","Edit existing recon data",3,"click",4,"ngIf"],[1,"data-desc"],["id","edit-data","matTooltip","Edit existing recon data",1,"material-symbols-outlined",3,"click"],["hideToggle","",3,"expanded"],[1,"header-content"],[1,"chip-container"],[1,"chips"],[1,"combination-container"],[1,"combination-boxes"],[1,"source-fields-block"],[1,"headers"],[1,"key"],[1,"flex-icon"],["id","arrow",1,"material-icons"],[1,"field-name"],[3,"inputData"]],template:function(a,n){1&a&&(e.DNE(0,ji,14,0,"div",0),e.DNE(1,Yi,2,1,"div",0),e.DNE(2,zi,2,1,"div",0)),2&a&&(e.Y8G("ngIf",0==n.isPresent),e.R7$(1),e.Y8G("ngIf",1==n.isPresent),e.R7$(1),e.Y8G("ngIf",1==n.showReconCon))},dependencies:[g.Sq,g.bT,Be.BS,Be.GK,Be.Z2,Be.WN,Be.Q6,ke.oV,yn],styles:[".imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:10em}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.imgage-content[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]{margin-top:2em;margin-left:8em}.imgage-content[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:19px;margin-top:9px;color:#b9b2b2}.wrap[_ngcontent-%COMP%]{margin:1rem}.wrap[_ngcontent-%COMP%]   .recon-info[_ngcontent-%COMP%]{margin-left:1em}.wrap[_ngcontent-%COMP%]   .recon-info[_ngcontent-%COMP%]   .data-model[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:10px;margin-top:20px}.wrap[_ngcontent-%COMP%]   .recon-info[_ngcontent-%COMP%]   .data-model[_ngcontent-%COMP%]   .data-model-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.wrap[_ngcontent-%COMP%]   .recon-info[_ngcontent-%COMP%]   .data-model[_ngcontent-%COMP%]   #edit-data[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.wrap[_ngcontent-%COMP%]   .recon-info[_ngcontent-%COMP%]   .data-desc[_ngcontent-%COMP%]{color:gray;font-size:18px;margin:5px 0 20px}.wrap[_ngcontent-%COMP%]     .mat-expansion-panel:not([class*=mat-elevation-z]){border:1px solid rgb(224,227,232);box-shadow:none}.wrap[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{margin-top:20px;border-radius:10px}.wrap[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0 12px!important;margin:1em}.wrap[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]:not([aria-disabled=true]){cursor:pointer;height:4rem!important}.wrap[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.wrap[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]{display:flex;padding:10px;width:55em}.wrap[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .chip-container[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{background:#c9eaf5;padding:10px 20px;text-align:center;border-radius:25px;width:40%}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]{width:auto;flex-wrap:wrap;align-items:flex-start;position:relative}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]{display:flex;width:max-content}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]{width:12em;border:1px solid #ccc;border-radius:10px;margin-bottom:1em;position:relative}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;font-size:16px;margin-bottom:0;background:#b9b3b3;border-top-left-radius:10px;border-top-right-radius:10px;padding:6px 15px;font-weight:500;letter-spacing:.5px}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{color:#564c4c;font-weight:400}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin:.7em}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding-top:42px}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]   #arrow[_ngcontent-%COMP%]{color:#9977fb;transform:rotate(45deg)}.wrap[_ngcontent-%COMP%]   .combination-container[_ngcontent-%COMP%]   .combination-boxes[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]   .Nestlast[_ngcontent-%COMP%]{display:none}"]})}}return o})();const Xi=["fromDate"],qi=["fromDatepicker"];function Li(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Hi(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.viewValue," ")}}function Ji(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Wi(o,r){if(1&o&&(e.j41(0,"mat-option",17)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Zi(o,r){1&o&&e.nrm(0,"img",18)}let Qi=(()=>{class o{constructor(t,a,n,i,s,l){this.URMService=t,this.notify=a,this.dialog=n,this.renderer=i,this.spinnerService=s,this.cdr=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.isDrawerOpen=!1,this.showTextIfFailed=!1,this.chipColor="black",this.rowData=[],this.notRollbacked=!1,this.rowHeight=55,this.headerHeight=50,this.files=["file1.txt","file2.txt","file3.txt","file4.txt"],this.cyclesArray=Array.from({length:8},(c,d)=>({value:(d+1).toString(),viewValue:(d+1).toString()})),this.datasourceArray=[],this.fileStatusArray=[{name:"Successful"},{name:"In progress"},{name:"Rollback"}],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.columnDefs=[{field:"source",headerName:"Source",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"file_name",headerName:"File",filter:"agMultiColumnFilter"},{field:"cycle",headerName:"Cycle",filter:"agMultiColumnFilter"},{headerName:"Status",field:"status",cellRenderer:c=>{const d=c.value;let m="";return"Successful"===d?m="status-green":"Pending"===d?m="status-gray":"In progress"===d||"In Progress"===d?m="status-forProgress":"failed"===d?m="status-red":"Rollback"===d&&(m="status-rollback"),`<div class="${m}">${d}</div>`},minWidth:200},{field:"remark",headerName:"Remark"},{headerName:"Uploaded on",cellRenderer:c=>(console.log("Date Params",c.data.uploaded_on),c.data.uploaded_on?new Date(c.data.uploaded_on).toLocaleString().slice(0,20).replace("T"," "):"")},{field:"records",headerName:"Records"},{field:"duplicate_records",headerName:"Duplicate records"},{field:"total_amount",headerName:"Total amount"},{headerName:"Action",cellRenderer:c=>{console.log("Params",c);const d=document.createElement("div"),m=document.createElement("span");m.classList.add("material-symbols-outlined","toggle-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.opacity="0.8",m.style.fontSize="19px",m.style.color="#605B67",m.textContent="visibility",m.addEventListener("click",this.ViewClicked.bind(this,c));const E=document.createElement("span");return E.classList.add("material-symbols-outlined","delete-icon"),E.style.cursor="pointer",E.style.marginRight="8px",E.style.fontSize="19px",E.style.opacity="0.8",E.style.color="#605B67",E.textContent="download",E.addEventListener("click",this.downloadClicked.bind(this,c)),d.appendChild(m),d.appendChild(E),d},minWidth:200,pinned:"right"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.getdataSourcesbyProjectId())}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}ViewClicked(t){console.log("ViewClicked",t),this.openDrawer(t.data)}downloadClicked(t){console.log("Download Click",t);const a=this.dialog.open(y.T,{height:"55vh",width:"35%"}),n=new Date,i=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`;this.fileName=t.voucher_name,this.URMService.downloadCollectionStatusData(this.productId,this.applicationId,this.projectId,t.data.creation_date,t.data.datasource_id,t.data.id).then(s=>{console.log("Response in settlement voucherdata",s);const l=new Blob([s],{type:"application/vnd.ms-excel;charset=utf-8"});console.log("newBlob",l);let c=window.URL.createObjectURL(l);var d=document.createElement("a");d.download=`DataCollection_${i}.xlsx`,d.href=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),a.close()}).catch(s=>{console.log("Error occured while updating voucher",s)})}openDrawer(t){this.isDrawerOpen=!0,this.selectedRowData=t,console.log(this.selectedRowData),this.notRollbacked=!0}closeDrawer(){this.isDrawerOpen=!1,this.selectedRowData=null}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}selectedDatasource(t){console.log("selectedDatasource event",t),this.datasource_name=t,this.updateRequestBody()}selectedCycle(t){console.log("selectedCycle event",t),this.cycle_no=t,this.updateRequestBody()}selectedFileStatus(t){console.log("selectedFileStatus event",t),this.file_status=t,this.updateRequestBody()}updateRequestBody(){this.requestBody={source:this.datasource_name?this.datasource_name.name:"",cycle:this.cycle_no||"",file_status:this.file_status||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.datasource_name=null,this.cycle_no=null,this.file_status=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges(),this.fromDatepicker.select(t),this.updateRequestBody()}getDCStatusButton(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId,creation_date:this.fromDateFormatted};console.log("query",a),this.requestBody={...this.requestBody,...a},console.log("requestBody",this.requestBody),this.URMService.getDataCollectionStatus(this.requestBody).then(n=>{if(console.log("getDataCollectionStatus response =>",n),n&&200===n.statusCode){let i=n.data;i.length>0?this.rowData=i:(this.notify.showErrorToast(`No file found for date ${this.fromDateFormatted}!`,"Close"),this.rowData=[]),console.log("apiRowData",i),t.close()}else this.notify.showErrorToast(n.errorMessage,"Close"),t.close(),this.rowData=[]}).catch(n=>{console.log("Error occured fetching DS status",n),t.close()})}onGridReady(t){this.gridApi=t.api,this.params=t}getdataSourcesbyProjectId(){this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getdataSourcesbyProjectId response",a),a&&200===a.statusCode?(this.datasourceArray=a.data.map(i=>({name:i.datasource_name,value:i.datasource_id})),console.log("datasourceArray options",this.datasourceArray),this.spinnerService.hide()):(this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide())}).catch(a=>{console.log("Error while getting recon config data",a),this.spinnerService.hide()})}openDialogForRollback(){this.closeDrawer();const t=new F.ru;t.width="700px",t.height="505px",t.data={FilesToSelect:this.files},t.disableClose=!0,console.log("dialogConfigData",t),this.dialog.open(xn,t).afterClosed().subscribe(n=>{console.log("collection resp",n),this.notRollbacked=!0})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(je.D),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-collection-status"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Xi,5),e.GBs(qi,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:39,vars:16,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["placeholder","Select date source name",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select cycle",3,"value","selectionChange"],["placeholder","Select file status",3,"value","selectionChange"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Date source"),e.k0s(),e.j41(5,"mat-select",3),e.bIt("selectionChange",function(s){return n.selectedDatasource(s.value)}),e.DNE(6,Li,2,2,"mat-option",4),e.k0s()(),e.j41(7,"mat-form-field",2)(8,"mat-label"),e.EFF(9,"Cycle"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedCycle(s.value)}),e.DNE(11,Hi,2,2,"mat-option",4),e.k0s()(),e.j41(12,"mat-form-field",2)(13,"mat-label"),e.EFF(14,"File status"),e.k0s(),e.j41(15,"mat-select",6),e.bIt("selectionChange",function(s){return n.selectedFileStatus(s.value)}),e.DNE(16,Ji,2,2,"mat-option",4),e.k0s()(),e.j41(17,"mat-form-field",2)(18,"mat-label"),e.EFF(19,"Date"),e.k0s(),e.j41(20,"input",7,8),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",9)(23,"mat-datepicker",null,10),e.k0s(),e.j41(25,"div",11)(26,"span",12),e.bIt("click",function(){return n.resetFields()}),e.EFF(27,"refresh"),e.k0s()(),e.j41(28,"button",13),e.bIt("click",function(){return n.getDCStatusButton()}),e.EFF(29,"Apply"),e.k0s(),e.j41(30,"mat-form-field",2)(31,"mat-label"),e.EFF(32,"Download file"),e.k0s(),e.j41(33,"mat-select"),e.DNE(34,Wi,4,2,"mat-option",4),e.k0s()()(),e.j41(35,"div",14)(36,"ag-grid-angular",15),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()(),e.DNE(37,Zi,1,0,"ng-template",null,16,e.C5r)),2&a){const i=e.sdS(24);e.R7$(5),e.Y8G("value",n.datasource_name),e.R7$(1),e.Y8G("ngForOf",n.datasourceArray),e.R7$(4),e.Y8G("value",n.cycle_no),e.R7$(1),e.Y8G("ngForOf",n.cyclesArray),e.R7$(4),e.Y8G("value",n.file_status),e.R7$(1),e.Y8G("ngForOf",n.fileStatusArray),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(12),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();function Ki(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please fill out this field. "),e.k0s())}function er(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data model name must be at least 3 characters. "),e.k0s())}function tr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data model name cannot exceed 50 characters. "),e.k0s())}function nr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data model name can only include letters and numbers. "),e.k0s())}function or(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Project name cannot exceed 200 characters. "),e.k0s())}function ar(o,r){if(1&o&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t)}}function ir(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a datasource count. "),e.k0s())}function rr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapOne())}),e.EFF(1,"Next"),e.k0s()}}function sr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateModel())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.createDataModel.invalid)}}function lr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.noChanges())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG();e.Y8G("disabled",t.createDataModel.invalid)}}let cr=(()=>{class o{constructor(t,a,n,i,s){this.fb=t,this.dataConfigService=a,this.notify=n,this.dialog=i,this.spinnerService=s,this.updateData=!1,this.showForm=!0,this.cancelClicked=new e.bkB,this.dataSourceCountChange=new e.bkB,this.TabChnage=new e.bkB,this.UpdateDataSource=new e.bkB,this.CallDatasourceType=new e.bkB,this.createDataModel=this.fb.group({model_name:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(50),p.k0.pattern("^[a-zA-Z0-9]+( [a-zA-Z0-9]+)*$")]),model_desc:new p.MJ("",[p.k0.maxLength(200)]),DS_count:new p.MJ("",p.k0.required)}),this.createDataModel=this.fb.group({model_name:new p.MJ("",[p.k0.required,p.k0.maxLength(50),p.k0.minLength(3)]),DS_count:new p.MJ("",[p.k0.required]),model_desc:new p.MJ("",[p.k0.maxLength(200)])})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){if(t.childButtonValue&&(console.log("Updated parentButtonValue:",this.childButtonValue),"updateModel"===this.childButtonValue)){this.spinnerService.show(),console.log("call the update content...");let a=localStorage.getItem("product_id"),n=localStorage.getItem("application_id"),i=localStorage.getItem("project_id"),l={tenant_id:localStorage.getItem("tenant_id"),product_id:a,application_id:n,project_id:i};this.dataConfigService.getAllDataModelByProjectId(l).then(c=>{console.log("getAllDataModelByProjectId response",c),c&&200===c.statusCode&&(this.DatamodelConfigData=c.data,this.createDataModel?(this.setDataModelValues(this.DatamodelConfigData),this.spinnerService.hide()):console.error("Invalid API response format:",c))}).catch(c=>{console.log("Error got",c)})}}get dataSourceCount(){return this.createDataModel.get("DS_count")?.value||0}generateCount(t){return Array.from({length:t},(a,n)=>n+1)}NumOfSource(t){const a=t;console.log("Count==>",t),this.dataSourceCountChange.emit(a)}onSubmitTapOne(){if(console.log("Call Create API"),this.createDataModel.valid){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={dataModelName:this.createDataModel.value.model_name,dataModelDesc:this.createDataModel.value.model_desc,dataSourceConfigNum:this.createDataModel.value.DS_count};console.log("FristTabValues==>",a),this.dataConfigService.createDataModel({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},a).then(i=>{console.log("createDataModel response ==>",i),this.data_model_id=i.data[0].data_model_id,localStorage.setItem("data_model_id",this.data_model_id),200===i.statusCode||201===i.statusCode||204===i.statusCode?(this.notify.showSuccessToast("Data model created successfully!!","Close"),t.close(),this.TabChnage.emit(1),this.CallDatasourceType.emit(!0)):(t.close(),console.log("some went wrong!!"),this.notify.showErrorToast(i.errorMessage||"Data model not created!","Close"))}).catch(i=>{console.log("error ==>",i),t.close()})}}setDataModelValues(t){console.log("reconConfigData in setDataModelValues",t),this.createDataModel&&t&&(console.log("inside set values"),this.createDataModel.patchValue({model_name:t[0].data_model_name,model_desc:t[0].data_model_description,DS_count:parseInt(t[0].datasource_configured)}),this.formValueChangesSubscription=this.createDataModel.valueChanges.subscribe(()=>{this.isFormDirty()?(console.log("Form is dirty after setting values."),console.log("Call the Update API"),this.updateData=!0):(console.log("Form is not dirty after setting values."),this.updateData=!1)}),this.initialFormValues=this.createDataModel.value)}isFormDirty(){return!this.isEqual(this.createDataModel.value,this.initialFormValues)}isEqual(t,a){return JSON.stringify(t)===JSON.stringify(a)}ngOnDestroy(){this.formValueChangesSubscription&&this.formValueChangesSubscription.unsubscribe()}updateModel(){if(console.log("Update API called"),this.createDataModel.valid){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={dataModelName:this.createDataModel.value.model_name,dataModelDesc:this.createDataModel.value.model_desc,dataSourceConfigNum:this.createDataModel.value.DS_count,projectId:this.projectId};const n=localStorage.getItem("data_model_id")||"";this.dataConfigService.updateDataModel({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,data_model_id:n},a).then(s=>{console.log("updateDataModel response",s),200===s.statusCode||201===s.statusCode||204===s.statusCode?(this.notify.showSuccessToast("Data model updated successfully!!","Close"),t.close(),this.TabChnage.emit(1),this.UpdateDataSource.emit(!0)):(console.log("something went wrong!!"),t.close(),this.notify.showErrorToast(s.errorMessage||"Update failed!!","Close"))}).catch(s=>{console.log("error ==>",s),t.close()})}}noChanges(){console.log("No changes done go ahead"),this.UpdateDataSource.emit(!0),this.TabChnage.emit(1)}onCancel(){this.cancelClicked.emit()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-config-step1"]],inputs:{childButtonValue:"childButtonValue"},outputs:{cancelClicked:"cancelClicked",dataSourceCountChange:"dataSourceCountChange",TabChnage:"TabChnage",UpdateDataSource:"UpdateDataSource",CallDatasourceType:"CallDatasourceType"},features:[e.OA$],decls:30,vars:11,consts:[[1,"container-step1"],[2,"padding-top","20px"],[3,"formGroup"],[1,"create-model-content"],["appearance","outline",1,"project-input"],["matInput","","formControlName","model_name"],[4,"ngIf"],["matInput","","formControlName","model_desc"],["formControlName","DS_count","placeholder","Select count",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"create_btns"],[1,"_btncancel",3,"click"],["class","_btnnext","type","submit",3,"click",4,"ngIf"],["class","_btnnext",3,"disabled","click",4,"ngIf"],[3,"value"],["type","submit",1,"_btnnext",3,"click"],[1,"_btnnext",3,"disabled","click"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Create data model"),e.k0s(),e.j41(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e.EFF(7,"Enter data model name"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,Ki,2,0,"mat-error",6),e.DNE(10,er,2,0,"mat-error",6),e.DNE(11,tr,2,0,"mat-error",6),e.DNE(12,nr,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",4)(14,"mat-label"),e.EFF(15,"Description"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,or,2,0,"mat-error",6),e.k0s(),e.j41(18,"mat-form-field",4)(19,"mat-label"),e.EFF(20,"Select no. of data source"),e.k0s(),e.j41(21,"mat-select",8),e.bIt("selectionChange",function(s){return n.NumOfSource(s.value)}),e.DNE(22,ar,2,2,"mat-option",9),e.k0s(),e.DNE(23,ir,2,0,"mat-error",6),e.k0s()(),e.j41(24,"div",10)(25,"button",11),e.bIt("click",function(){return n.onCancel()}),e.EFF(26,"Cancel"),e.k0s(),e.DNE(27,rr,2,0,"button",12),e.DNE(28,sr,2,1,"button",13),e.DNE(29,lr,2,1,"button",13),e.k0s()()()),2&a){let i,s,l,c,d,m;e.R7$(3),e.Y8G("formGroup",n.createDataModel),e.R7$(6),e.Y8G("ngIf",null==(i=n.createDataModel.get("model_name"))?null:i.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(s=n.createDataModel.get("model_name"))?null:s.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(l=n.createDataModel.get("model_name"))?null:l.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(c=n.createDataModel.get("model_name"))?null:c.hasError("pattern")),e.R7$(5),e.Y8G("ngIf",null==(d=n.createDataModel.get("model_desc"))?null:d.hasError("maxlength")),e.R7$(5),e.Y8G("ngForOf",n.generateCount(10)),e.R7$(1),e.Y8G("ngIf",null==(m=n.createDataModel.get("DS_count"))?null:m.hasError("required")),e.R7$(4),e.Y8G("ngIf",!n.updateData&&n.isFormDirty()),e.R7$(1),e.Y8G("ngIf",n.updateData&&n.isFormDirty()),e.R7$(1),e.Y8G("ngIf",!n.isFormDirty())}},dependencies:[g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,j.TL,ue.fg,_e.VO,he.wT],styles:[".create-model-content[_ngcontent-%COMP%]{margin-top:3%;display:grid;width:99%}.create-model-content[_ngcontent-%COMP%]     .mat-mdc-form-field{width:41vw}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();var dr=P(1471),Lt=P(5951),Ro=P(6471);function pr(o,r){if(1&o&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.frequency_value),e.R7$(1),e.SpI(" ",t.frequency_value," ")}}function mr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please fill out this field. "),e.k0s())}function ur(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data Source name must be at least 3 characters. "),e.k0s())}function gr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data Source name cannot exceed 10 characters. "),e.k0s())}function fr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Project name must contain only letters and numbers. "),e.k0s())}function hr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data Source description cannot exceed 200 characters. "),e.k0s())}function _r(o,r){if(1&o&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Cr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a datasource type. "),e.k0s())}function br(o,r){1&o&&(e.j41(0,"mat-form-field",4)(1,"mat-label"),e.EFF(2,"Path Regex"),e.k0s(),e.nrm(3,"input",44),e.k0s())}const xr=function(){return{standalone:!0}};function yr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",25)(1,"div",26)(2,"mat-radio-group",27),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFolderType=n)}),e.j41(3,"mat-radio-button",28),e.EFF(4,"Individual folder"),e.k0s(),e.j41(5,"mat-radio-button",29),e.EFF(6,"Single folder"),e.k0s()()(),e.j41(7,"mat-form-field",4)(8,"mat-label"),e.EFF(9,"Server Path"),e.k0s(),e.nrm(10,"input",30),e.k0s(),e.DNE(11,br,4,0,"mat-form-field",31),e.j41(12,"label",32),e.EFF(13,"Authentication reqiured"),e.k0s(),e.j41(14,"mat-radio-group",33)(15,"mat-radio-button",34),e.EFF(16,"Yes"),e.k0s(),e.j41(17,"mat-radio-button",35),e.EFF(18,"No"),e.k0s()(),e.j41(19,"div",36)(20,"mat-form-field",4)(21,"mat-label"),e.EFF(22,"Username"),e.k0s(),e.nrm(23,"input",37),e.k0s(),e.j41(24,"mat-form-field",4)(25,"mat-label"),e.EFF(26,"Password"),e.k0s(),e.nrm(27,"input",38),e.k0s()(),e.j41(28,"label",32),e.EFF(29,"Certified"),e.k0s(),e.j41(30,"mat-radio-group",39)(31,"mat-radio-button",34),e.EFF(32,"Yes"),e.k0s(),e.j41(33,"mat-radio-button",35),e.EFF(34,"No"),e.k0s()(),e.j41(35,"div",40),e.nrm(36,"input",41,42),e.j41(38,"span",43),e.EFF(39,"Click to upload or drag and drop"),e.k0s(),e.j41(40,"span",43),e.EFF(41,"PNG, JPG, PDF (max 150mb)"),e.k0s()()()}if(2&o){const t=e.XpG();let a,n,i;e.R7$(2),e.Y8G("ngModel",t.selectedFolderType)("ngModelOptions",e.lJ4(6,xr)),e.R7$(9),e.Y8G("ngIf","single"===t.selectedFolderType),e.R7$(12),e.Y8G("disabled","no"===(null==(a=t.form.get("authenticationRequired"))?null:a.value)),e.R7$(4),e.Y8G("disabled","no"===(null==(n=t.form.get("authenticationRequired"))?null:n.value)),e.R7$(9),e.Y8G("disabled","no"===(null==(i=t.form.get("certified"))?null:i.value))}}function Dr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",45)(1,"ag-grid-angular",46),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("rowData",t.rowData)("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef)("pagination",!0)("paginationPageSize",t.paginationPageSize)}}const Dn=function(o){return{disabled:o}};function vr(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapTwo())}),e.EFF(2,"Next"),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",!t.dataSourcesArray.length)("ngClass",e.eq3(2,Dn,!t.dataSourcesArray.length))}}function Fr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.noChnages())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataSourcesArray.length)("ngClass",e.eq3(2,Dn,!t.dataSourcesArray.length))}}function Mr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateSource())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataSourcesArray.length)("ngClass",e.eq3(2,Dn,!t.dataSourcesArray.length))}}function Sr(o,r){if(1&o&&(e.qex(0),e.DNE(1,Fr,2,4,"button",48),e.DNE(2,Mr,2,4,"button",48),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.dataSourcesChanged),e.R7$(1),e.Y8G("ngIf",t.dataSourcesChanged)}}function Pr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",47),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmitTapTwo())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataSourcesArray.length)("ngClass",e.eq3(2,Dn,!t.dataSourcesArray.length))}}function wr(o,r){if(1&o&&e.DNE(0,Pr,2,4,"button",48),2&o){const t=e.XpG();e.Y8G("ngIf",null==t.UpdateDataSource?null:t.UpdateDataSource.data)}}let Or=(()=>{class o{constructor(t,a,n,i,s,l){this.fb=t,this.URMService=a,this.notify=n,this.dialog=i,this.cdr=s,this.spinnerService=l,this.dataSourceCount=0,this.TabChnage=new e.bkB,this.callFunction=new e.bkB,this.UpdateFileUpload=new e.bkB,this.dataSourceForm=[],this.selectedChips=[],this.dataSources=[],this.datasourceBody=[],this.dataSourcesArray=[],this.DataSourceData=[],this.rowData=[],this.updateData=!1,this.dataSourcesChanged=!1,this.originalDataSources=[],this.previousdata=-1,this.paginationPageSize=20,this.showtable=0,this.columnDefs=[{headerName:"Data source name",field:"dataSource"},{headerName:"Description",field:"dataSourceDesc"},{headerName:"Data source type",field:"dataSourceType"},{headerName:"Data Retrieval Method",field:"selectedChip",cellRenderer:c=>{const d=document.createElement("div");d.classList.add("chip-container");const m=document.createElement("span");return m.classList.add("chip"),m.textContent=c.value,d.appendChild(m),d}},{headerName:"URL",field:"url"},{headerName:"User name",field:"username"},{headerName:"Actions",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");return m.classList.add("material-symbols-outlined","delete-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.color="red",m.textContent="delete",m.addEventListener("click",this.onDeleteClick.bind(this,c.data)),d.appendChild(m),d},minWidth:200}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.form=this.fb.group({frequency:new p.MJ({value:"",disabled:!0}),dataSource:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(10),p.k0.pattern("^[a-zA-Z0-9]+( [a-zA-Z0-9]+)*$")]),dataSourceDesc:new p.MJ("",[p.k0.maxLength(200)]),dataSourceType:new p.MJ("",p.k0.required),url:new p.MJ(""),pathRegex:new p.MJ(""),authenticationRequired:new p.MJ("no"),username:new p.MJ({value:"",disabled:!0}),password:new p.MJ({value:"",disabled:!0}),certified:new p.MJ("no"),file:new p.MJ({value:"",disabled:!0})}),this.form.get("authenticationRequired")?.valueChanges.subscribe(c=>{const d=this.form.get("username"),m=this.form.get("password");"yes"===c?(d?.enable(),m?.enable()):(d?.disable(),m?.disable())}),this.form.get("certified")?.valueChanges.subscribe(c=>{const d=this.form.get("file");"yes"===c?d?.enable():d?.disable()}),this.dataSourceForm.push(this.form),this.selectedChips.push("File"),console.log("dataSourceForm ==>",this.dataSourceForm),console.log("selectedChips ==>",this.selectedChips)}onGridReady(t){this.gridOptions=t.api,this.gridOptions.setRowData(this.rowData)}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.projectType=localStorage.getItem("project_type"),this.tenantId=localStorage.getItem("tenant_id")}onMethodChange(t){this.selectedMethod=t.value,console.log("selectedMethod",this.selectedMethod),this.selectedFolderType="individual"}ngOnChanges(t){t.UpdateDataSource&&(console.log("ngOnChanges UpdateDataSource ==> ",this.UpdateDataSource),this.UpdateDataSource)&&(this.spinnerService.show(),console.log("call the update data source content..."),this.getDataSourceTypeByProjectType(),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{if(console.log("getdataSourcesbyProjectId response d-c-step2",n),n&&200===n.statusCode){this.CanUpdateSource=n.data.length,console.log("CanUpdateSource",this.CanUpdateSource),this.DataSourceData=n.data,console.log("Whole retrieve data source data",this.DataSourceData),this.rowData=[];for(let i=0;i<this.DataSourceData.length;i++)this.dataSourcesArray.push({datasource_id:this.DataSourceData[i].datasource_id,dataSource:this.DataSourceData[i].datasource_name,dataSourceDesc:this.DataSourceData[i].datasource_description,dataSourceType:this.DataSourceData[i].datasource_type,selectedChip:"File",url:this.DataSourceData[i].datasource_value_1,username:this.DataSourceData[i].datasource_value_3,password:this.DataSourceData[i].datasource_value_4});this.rowData=this.dataSourcesArray,this.spinnerService.hide()}else this.notify.showErrorToast(n.errorMessage,"Close"),this.spinnerService.hide()}).catch(n=>{console.log("Error got",n),this.spinnerService.hide()})),t.CallFourfunction&&(console.log("ngOnChanges CallFourfunction ==> ",this.CallFourfunction),this.CallFourfunction&&(console.log("call the update data source content..."),this.getDataSourceTypeByProjectType()))}getDataSourceTypeByProjectType(){this.URMService.getDataSourceTypeByProjectType({project_type:this.projectType}).then(a=>{console.log("getDataSourceTypeByProjectType response d-c-step2",a),a&&200===a.statusCode?(this.DataSourceData=a.data,this.dataSourcesType=this.DataSourceData.map(n=>({name:n.datasource_type_name,dataSourceDesc:n.datasource_type_id}))):this.notify.showErrorToast(a.errorMessage,"Close")})}selectedDatasourceType(t){console.log("event:",t),this.dataSource_type=t.name}onAddClick(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});if(this.dataSourceForm.every(n=>n.get("dataSource").valid&&n.get("dataSourceDesc").valid)){const n=this.form.value;console.log("newDataSource form",this.form.value),console.log("Before empty datasource",this.dataSources),this.dataSources=[],this.datasourceBody=[],console.log("Before datasource",this.dataSources),this.dataSources.push({...n,selectedChip:"File"}),console.log("After datasource",this.dataSources);let i={};const s=this.dataSources.map(d=>({...d,username:d.username?d.username:"",password:d.password?d.password:"",file:d.file?d.file:d.pathRegex}));console.log("transformedDataSources",s);let l=localStorage.getItem("data_model_id");for(let d=0;d<s.length;d++){const m=dr.AES.encrypt(s[d].password,bn.$.secret).toString();i={dataSource:s[d].dataSource,dataSourceDesc:s[d].dataSourceDesc,datasourceValue1:s[d].url?s[d].url:"",datasourceValue2:s[d].selectedChip?"Y":"N",datasourceValue3:s[d].username,datasourceValue4:m,datasourceValue5:s[d].file,dataSourceType:s[d].dataSourceType,dataModelId:l},this.datasourceBody.push(i)}console.log("datasourceBody",this.datasourceBody),this.URMService.createDataSource({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},{dataSources:this.datasourceBody}).then(d=>{if(console.log("createDataSource response d-s-step2 ==>",d),d&&200===d.statusCode||201===d.statusCode){this.notify.showSuccessToast("Data sources created successfully!!","Close"),console.log("response",d.data);let E=d.data;for(let U=0;U<d.data.length;U++)this.dataSourcesArray.push({datasource_id:E[U].datasource_id,dataSource:E[U].datasource_name,dataSourceDesc:E[U].datasource_description,dataSourceType:E[U].datasource_type,selectedChip:"File",url:E[U].datasource_value_1,username:E[U].datasource_value_3,password:E[U].datasource_value_4});this.rowData=[...this.dataSourcesArray],console.log("rowData Data ==>",this.rowData),console.log("dataSources Data ==>",this.dataSourcesArray),this.showtable=this.dataSourcesArray.length,t.close(),this.form.reset(),this.form.get("authenticationRequired")?.setValue("no"),this.form.get("certified")?.setValue("no"),this.selectedChips=[""],this.dataSourcesChanged=!0}else this.notify.showErrorToast(d.errorMessage,"Close")}).catch(d=>{console.log("error ==>",d),t.close()})}else console.log("Please fill out all required fields.");this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.setRowData(this.rowData)}onDeleteClick(t){console.log("dataSource ==>",t),console.log("dataSourcesArray ==>",this.dataSourcesArray),this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.deleteDatasource({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,datasource_id:t.datasource_id}).then(l=>{if(console.log("deleteDatasource response",l),l&&200==l.statusCode){console.log("Inside response",l.statusCode),this.notify.showSuccessToast("data source deleted successfully!","Close");const d=this.dataSourcesArray.indexOf(t);console.log("dataSourcesArray",this.dataSourcesArray),-1!==d&&(console.log("Inside remove index"),this.dataSourcesArray.splice(d,1),this.dataSourcesChanged=!0,this.rowData=[],this.rowData=[...this.dataSourcesArray],console.log("rowData",this.rowData),i.close(),this.cdr.detectChanges())}else this.notify.showErrorToast(l.errorMessage,"Close"),i.close()}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),i.close()})}})}onSubmitTapTwo(){this.TabChnage.emit(2),this.callFunction.emit(!0)}updateSource(){this.TabChnage.emit(2),this.UpdateFileUpload.emit(!0)}noChnages(){console.log("No changes done go ahead"),this.UpdateFileUpload.emit(!0),this.TabChnage.emit(2)}onCancel(){this.TabChnage.emit(0)}disabled(){return!0}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(e.gRc),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-config-step2"]],inputs:{dataSourceCount:"dataSourceCount",UpdateDataSource:"UpdateDataSource",CallFourfunction:"CallFourfunction"},outputs:{TabChnage:"TabChnage",callFunction:"callFunction",UpdateFileUpload:"UpdateFileUpload"},features:[e.OA$],decls:51,vars:18,consts:[[1,"container-step2"],[3,"formGroup"],[1,"row"],[1,"box-content"],["appearance","outline",1,"project-input"],["formControlName","frequency"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","dataSource"],[4,"ngIf"],["matInput","","formControlName","dataSourceDesc"],["appearance","outline","id","source"],["formControlName","dataSourceType","placeholder","Select data source",3,"selectionChange"],[1,"chipSet"],[1,"mat-mdc-chip-set-stacked",3,"change"],["value","file"],["value","api",3,"disabled"],["value","database",3,"disabled"],["class","file-container",4,"ngIf"],["mat-raised-button","",1,"add-btn",3,"disabled","click"],["class","ag-table",4,"ngIf"],[1,"create_btns"],[1,"_btncancel",3,"click"],[4,"ngIf","ngIfElse"],["CanGoWithCreate",""],[3,"value"],[1,"file-container"],[1,"custStatus"],["aria-label","Select an option",3,"ngModel","ngModelOptions","ngModelChange"],["value","individual"],["value","single"],["matInput","","formControlName","url"],["appearance","outline","class","project-input",4,"ngIf"],["id","example-radio-group-label"],["formControlName","authenticationRequired"],["value","yes"],["value","no"],[1,"flexInput"],["matInput","","formControlName","username",3,"disabled"],["type","password","matInput","","formControlName","password",3,"disabled"],["formControlName","certified"],[1,"drop-container"],["type","file","formControlName","file",3,"disabled"],["fileInput",""],[1,"drag-text"],["matInput","","formControlName","pathRegex"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","gridReady"],[1,"_btnnext",3,"disabled","ngClass","click"],["class","_btnnext",3,"disabled","ngClass","click",4,"ngIf"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Select data source type"),e.k0s(),e.j41(3,"form",1)(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),e.EFF(8,"Select frequency"),e.k0s(),e.j41(9,"mat-select",5),e.DNE(10,pr,2,2,"mat-option",6),e.k0s()(),e.j41(11,"mat-form-field",4)(12,"mat-label"),e.EFF(13,"Enter Data Source"),e.k0s(),e.nrm(14,"input",7),e.DNE(15,mr,2,0,"mat-error",8),e.DNE(16,ur,2,0,"mat-error",8),e.DNE(17,gr,2,0,"mat-error",8),e.DNE(18,fr,2,0,"mat-error",8),e.k0s(),e.j41(19,"mat-form-field",4)(20,"mat-label"),e.EFF(21,"Enter Data Source Description"),e.k0s(),e.nrm(22,"input",9),e.DNE(23,hr,2,0,"mat-error",8),e.k0s(),e.j41(24,"mat-form-field",10)(25,"mat-label"),e.EFF(26,"Datasource type"),e.k0s(),e.j41(27,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedDatasourceType(s.value)}),e.DNE(28,_r,2,2,"mat-option",6),e.k0s(),e.DNE(29,Cr,2,0,"mat-error",8),e.k0s(),e.j41(30,"span"),e.EFF(31,"Select method to retrieve data"),e.k0s(),e.j41(32,"div",12)(33,"mat-chip-listbox",13),e.bIt("change",function(s){return n.onMethodChange(s)}),e.j41(34,"mat-chip-option",14),e.EFF(35,"File"),e.k0s(),e.j41(36,"mat-chip-option",15),e.EFF(37,"API"),e.k0s(),e.j41(38,"mat-chip-option",16),e.EFF(39,"Database"),e.k0s()()(),e.DNE(40,yr,42,7,"div",17),e.k0s(),e.j41(41,"button",18),e.bIt("click",function(){return n.onAddClick()}),e.EFF(42,"Add"),e.k0s()()(),e.DNE(43,Dr,2,6,"div",19),e.j41(44,"div",20)(45,"button",21),e.bIt("click",function(){return n.onCancel()}),e.EFF(46,"Cancel"),e.k0s(),e.DNE(47,vr,3,4,"ng-container",8),e.DNE(48,Sr,3,2,"ng-container",22),e.DNE(49,wr,1,1,"ng-template",null,23,e.C5r),e.k0s()()),2&a){const i=e.sdS(50);let s,l,c,d,m,E;e.R7$(3),e.Y8G("formGroup",n.form),e.R7$(6),e.BMQ("disabled",!0),e.R7$(1),e.Y8G("ngForOf",n.frequencyOptions),e.R7$(5),e.Y8G("ngIf",null==(s=n.form.get("dataSource"))?null:s.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(l=n.form.get("dataSource"))?null:l.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(c=n.form.get("dataSource"))?null:c.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(d=n.form.get("dataSource"))?null:d.hasError("pattern")),e.R7$(5),e.Y8G("ngIf",null==(m=n.form.get("dataSourceDesc"))?null:m.hasError("maxlength")),e.R7$(5),e.Y8G("ngForOf",n.dataSourcesType),e.R7$(1),e.Y8G("ngIf",null==(E=n.form.get("dataSourceType"))?null:E.hasError("required")),e.R7$(7),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("ngIf","file"===n.selectedMethod),e.R7$(1),e.Y8G("disabled",n.form.invalid),e.R7$(2),e.Y8G("ngIf",n.showtable>0||n.CanUpdateSource>0),e.R7$(4),e.Y8G("ngIf",!(null!=n.UpdateDataSource&&n.UpdateDataSource.data)),e.R7$(1),e.Y8G("ngIf",(null==n.UpdateDataSource?null:n.UpdateDataSource.data)&&n.CanUpdateSource>0)("ngIfElse",i)}},dependencies:[g.YU,g.Sq,g.bT,pt.$z,p.qT,p.me,p.BC,p.cb,p.vS,p.j4,p.JD,j.rl,j.nJ,j.TL,ue.fg,_e.VO,he.wT,be.xs,Lt.VT,Lt._g,Ro.uI,Ro.gq,mt.PW],styles:[".create-model-content[_ngcontent-%COMP%]{margin-top:3%;display:grid;width:100%}.row[_ngcontent-%COMP%]{display:flex;width:55%}.box-content[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:8px;background-color:#fdfcff;padding:15px 12px;margin-bottom:20px;display:grid;width:86%}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]{display:grid;width:100%}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:20px;margin-top:10px}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .drop-container[_ngcontent-%COMP%]{border:2px dashed #ccc;border-radius:8px;padding:20px;cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .drop-container[_ngcontent-%COMP%]   .dragging[_ngcontent-%COMP%]{border:2px dashed #2196F3}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .drop-container[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%]:nth-child(3){color:gray;font-size:12px;font-weight:lighter}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:8px;margin-right:15px}.box-content[_ngcontent-%COMP%]   .file-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]   #custStatus-radio-group-label[_ngcontent-%COMP%]{margin-bottom:12px}  .chip-container{display:inline-block;vertical-align:middle;padding:4px 16px}  .chip{display:inline-block;padding:0 50px;background-color:#e0e0e0;border-radius:25px}.add-btn[_ngcontent-%COMP%]{box-shadow:none;background-color:#fff;border:2px solid #E6E1EE;width:6em;font-size:16px;height:3em;margin-left:1em}.data-conatiner[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:735px;position:relative;height:auto;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px;border:1px solid #ccc}th[_ngcontent-%COMP%]{background:#F9FAFB;font-size:18px;font-weight:500;color:#6b6b6b;border-bottom:1px solid #ddd;padding:8px 20px;height:2em;text-align:left}.mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;padding:0!important}td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:8px 20px;height:2em;text-align:left}td[_ngcontent-%COMP%]:last-child{text-align:center}.chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:27px;text-align:center;background-color:#e7e4ff;color:#333;font-size:15px;width:9em;margin:0}#mat-icon[_ngcontent-%COMP%]{color:red;cursor:pointer}#skipData[_ngcontent-%COMP%]{width:22em;margin-left:2em}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.chipSet[_ngcontent-%COMP%]{margin:10px 0 20px}.chipSet[_ngcontent-%COMP%]     .mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:50%;display:flex;flex-wrap:nowrap}.create_btns[_ngcontent-%COMP%]   ._btnnext.disabled[_ngcontent-%COMP%]{background-color:#ccc;cursor:default}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();function Tr(o,r){if(1&o&&(e.j41(0,"mat-option",23),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function kr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a data source. "),e.k0s())}function Er(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please upload file! "),e.k0s())}function Ir(o,r){if(1&o&&(e.j41(0,"mat-option",23),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Rr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",26)(1,"p"),e.EFF(2),e.k0s(),e.j41(3,"div",27)(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span",28),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.cancelFile(i))}),e.EFF(7,"close"),e.k0s()()()}if(2&o){const t=r.$implicit;e.R7$(2),e.JRh(null==t?null:t.datasource_name),e.R7$(3),e.JRh(null==t?null:t.file_name)}}function Ar(o,r){if(1&o&&(e.j41(0,"div",24)(1,"h3"),e.EFF(2,"Data sources"),e.k0s(),e.DNE(3,Rr,8,2,"div",25),e.k0s()),2&o){const t=e.XpG();e.R7$(3),e.Y8G("ngForOf",t.FileData)}}const vn=function(o){return{disabled:o}};function jr(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapThird())}),e.EFF(2,"Next"),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",!t.FileData.length)("ngClass",e.eq3(2,vn,!t.FileData.length))}}function Nr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.noChnages())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.FileData.length)("ngClass",e.eq3(2,vn,!t.FileData.length))}}function Br(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateFile())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.FileData.length)("ngClass",e.eq3(2,vn,!t.FileData.length))}}function Gr(o,r){if(1&o&&(e.qex(0),e.DNE(1,Nr,2,4,"button",30),e.DNE(2,Br,2,4,"button",30),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.fileChanged),e.R7$(1),e.Y8G("ngIf",t.fileChanged)}}function Vr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmitTapThird())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.FileData.length)("ngClass",e.eq3(2,vn,!t.FileData.length))}}function $r(o,r){if(1&o&&e.DNE(0,Vr,2,4,"button",30),2&o){const t=e.XpG();e.Y8G("ngIf",null==t.updateFileupload?null:t.updateFileupload.data)}}let Ur=(()=>{class o{constructor(t,a,n,i,s,l){this.fb=t,this.dataConfigService=a,this.URMService=n,this.notify=i,this.dialog=s,this.spinnerService=l,this.dataSourceCount=0,this.TabChnage=new e.bkB,this.callFunctionTabfour=new e.bkB,this.UpdateDSFields=new e.bkB,this.FileData=[],this.loading=!1,this.fileChanged=!1,this.createDataForm=this.fb.group({uploaded_file:new p.MJ("",[p.k0.required]),previousFileName:new p.MJ(""),dataSource:new p.MJ("",[p.k0.required,p.k0.maxLength(10),p.k0.minLength(10)])})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("changes-----\x3e",t),this.handleTriggerFunctionChange(t),this.handleUpdateFileUploadChange(t)}handleTriggerFunctionChange(t){var a=this;return(0,G.A)(function*(){if(t.triggerFunction&&a.triggerFunction){console.log("Trigger function changed, calling third component API",a.triggerFunction),a.spinnerService.show();try{let n={tenant_id:a.tenantId,product_id:a.productId,application_id:a.applicationId,project_id:a.projectId};const i=yield a.URMService.getdataSourcesbyProjectId(n);console.log("getdataSourcesbyProjectId response d-c-step3",i),a.processDataSourceResponse(i)}catch(n){console.error("Error while getting data sources",n)}finally{a.spinnerService.hide()}}})()}handleUpdateFileUploadChange(t){var a=this;return(0,G.A)(function*(){if(t.updateFileupload&&a.updateFileupload){console.log("Update file upload changed, updating content..."),a.spinnerService.show();try{let n={tenant_id:a.tenantId,product_id:a.productId,application_id:a.applicationId,project_id:a.projectId};const[i,s]=yield Promise.all([a.URMService.getdataSourcesbyProjectId(n),a.getDatasourceFileInfoByProjectId()]);console.log("Get data sources by data model ID",i),console.log("Get file info by project ID",s),a.processDataSourceResponse(i)}catch(n){console.error("Error while updating file upload",n)}finally{a.spinnerService.hide()}}})()}processDataSourceResponse(t){this.dataSourceData=t.data,this.dropdownOptions=this.dataSourceData.map(a=>({name:a.datasource_name,value:a.datasource_id}))}selectedDatasource(t){this.datasource_name=t.name,this.dataSourceId=t.value,console.log("datasource_name:",this.datasource_name),console.log("dataSourceId:",this.dataSourceId)}onFileSelected(t){var a=this;return(0,G.A)(function*(){const n=t.target.files[0];if(n){const i=a.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("File:",n),console.log("File Type:",typeof n),a.uploadedFile=n,a.data_model_id=localStorage.getItem("data_model_id");const s=new FormData;s.append("dataSourceId",a.dataSourceId),s.append("datasource_name",a.datasource_name),s.append("dataModelId",a.data_model_id),s.append("projectId",a.projectId),s.append("file",a.uploadedFile),console.log("formData==>",s);try{yield a.URMService.uploadSampleForDatasource(a.productId,a.applicationId,a.projectId,a.dataSourceId,s).then(l=>{console.log("uploadSampleForDatasource response d-c-step3",l),l&&200===l.statusCode?(a.notify.showSuccessToast("File uploaded successfully!!","Close"),n.value="",i.close(),a.updateFileupload?.data&&(a.fileChanged=!0)):(a.notify.showErrorToast(l.errorMessage,"Close"),n.value="",i.close())})}catch(l){console.log("Error",l),l&&l.error&&l.error.errorMessage&&a.notify.showErrorToast(l.error.errorMessage,"Close"),n.value="",i.close()}finally{a.getDatasourceFileInfoByProjectId(),n.value="",i.close()}}})()}getDatasourceFileInfoByProjectId(){this.URMService.getDatasourceFileInfoByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getDatasourceFileInfoByProjectId response d-c-step3",a),a&&200===a.statusCode?(this.FileData=a.data,this.fileRespLength=a.data.length,console.log("DisplayFileData==>",this.FileData),this.FileDropdownOptions=this.FileData.map(n=>({name:n.file_name,id:n.datasource_file_id})),console.log("FileDropdownOptions==>",this.FileDropdownOptions)):this.notify.showErrorToast(a.errorMessage,"Close")}).catch(function(a){console.log("Error while getFileInfoByProjectId",a)})}selectedSampleFile(t){this.selectedPreviousFile=t,console.log("Event ==>",t),console.log("selectedPreviousFile ==>",this.selectedPreviousFile)}cancelFile(t){console.log("fileData=>",t),this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.deleteDatasourceFileInfoByDatasourceId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,datasource_id:t.datasource_id}).then(l=>{if(console.log("deleteDatasourceFileInfoByDatasourceId response d-c-step3",l),l&&200===l.statusCode){this.notify.showSuccessToast("File deleted successfully!","Close");const d=this.FileData.indexOf(t);-1!==d&&(this.FileData.splice(d,1),this.fileChanged=!0,i.close())}else this.notify.showErrorToast(l.errorMessage,"Close"),i.close()}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),i.close()})}})}uploadPrevious(){let t=localStorage.getItem("data_model_id");console.log("dataModelId ==>",t);let a={fileId:this.selectedPreviousFile.id,fileName:this.selectedPreviousFile.name,dataSourceId:this.dataSourceId,dataSourceName:this.datasource_name,dataModelId:t,projectId:this.projectId,tenantId:this.tenantId};console.log("requestBody ==>",a),this.dataConfigService.uploadSampleDataSourceFile(a).then(n=>{console.log("resp ==>",n),this.Data=n.result.data,console.log("previous Data:",this.Data),this.FileData.push(this.Data),console.log("previous FileData:",this.FileData),this.notify.showSuccessToast("Same file attached to the source successfull!!","Close")}).catch(n=>{console.log("error ==>",n)})}onSubmitTapThird(){console.log("body==>",{data_source_id:this.dataSourceId,sampleFile:this.uploadedFile,previousUploadFile:this.selectedPreviousFile}),this.TabChnage.emit(3),this.callFunctionTabfour.emit(!0),this.updateFileupload?.data&&this.UpdateDSFields.emit(!0)}noChnages(){console.log("No changes go ahead"),this.UpdateDSFields.emit(!0),this.TabChnage.emit(3)}updateFile(){console.log("Call the Update API here.."),this.TabChnage.emit(3),this.UpdateDSFields.emit(!0),this.callFunctionTabfour.emit(!0)}onCancel(){this.TabChnage.emit(1)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(St.w),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-config-step3"]],inputs:{dataSourceCount:"dataSourceCount",triggerFunction:"triggerFunction",updateFileupload:"updateFileupload"},outputs:{TabChnage:"TabChnage",callFunctionTabfour:"callFunctionTabfour",UpdateDSFields:"UpdateDSFields"},features:[e.OA$],decls:41,vars:10,consts:[[1,"container-step2"],["enctype","multipart/form-data",3,"formGroup"],[1,"create-model-content"],["appearance","outline",1,"project-input"],["formControlName","dataSource",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"custom-container-box"],[1,"custom-file-upload"],["type","file","formControlName","uploaded_file",3,"change"],[1,"material-symbols-outlined"],[1,"custom-container-title"],[1,"custom-container-content"],[1,"previous-file"],[1,"file-text"],[1,"sample"],["formControlName","previousFileName",3,"selectionChange"],["mat-raised-button","",1,"add-btn",3,"disabled","click"],["class","display-file",4,"ngIf"],[1,"create_btns"],[1,"_btncancel",3,"click"],[4,"ngIf","ngIfElse"],["CanGoWithCreate",""],[3,"value"],[1,"display-file"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"file-box"],["id","close-icon",1,"material-symbols-outlined",3,"click"],[1,"_btnnext",3,"disabled","ngClass","click"],["class","_btnnext",3,"disabled","ngClass","click",4,"ngIf"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Select data source type"),e.k0s(),e.j41(3,"form",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e.EFF(7,"Select data source"),e.k0s(),e.j41(8,"mat-select",4),e.bIt("selectionChange",function(s){return n.selectedDatasource(s.value)}),e.DNE(9,Tr,2,2,"mat-option",5),e.k0s(),e.DNE(10,kr,2,0,"mat-error",6),e.k0s()(),e.j41(11,"div",7)(12,"label",8)(13,"input",9),e.bIt("change",function(s){return n.onFileSelected(s)}),e.k0s(),e.j41(14,"span",10),e.EFF(15,"upload"),e.k0s()(),e.j41(16,"p",11),e.EFF(17,"Click to upload or drag and drop"),e.k0s(),e.j41(18,"p",12),e.EFF(19,".xlxs, .csv(max 150mb)"),e.k0s(),e.DNE(20,Er,2,0,"mat-error",6),e.k0s(),e.j41(21,"div",13)(22,"div",14)(23,"span"),e.EFF(24,"Or select previously uploaded file"),e.k0s()(),e.j41(25,"div",15)(26,"mat-form-field",3)(27,"mat-label"),e.EFF(28,"Select sample file"),e.k0s(),e.j41(29,"mat-select",16),e.bIt("selectionChange",function(s){return n.selectedSampleFile(s.value)}),e.DNE(30,Ir,2,2,"mat-option",5),e.k0s()(),e.j41(31,"button",17),e.bIt("click",function(){return n.uploadPrevious()}),e.EFF(32,"Add"),e.k0s()()(),e.DNE(33,Ar,4,1,"div",18),e.j41(34,"div",19)(35,"button",20),e.bIt("click",function(){return n.onCancel()}),e.EFF(36,"Cancel"),e.k0s(),e.DNE(37,jr,3,4,"ng-container",6),e.DNE(38,Gr,3,2,"ng-container",21),e.DNE(39,$r,1,1,"ng-template",null,22,e.C5r),e.k0s()()()),2&a){const i=e.sdS(40);let s,l;e.R7$(3),e.Y8G("formGroup",n.createDataForm),e.R7$(6),e.Y8G("ngForOf",n.dropdownOptions),e.R7$(1),e.Y8G("ngIf",null==(s=n.createDataForm.get("dataSource"))?null:s.hasError("required")),e.R7$(10),e.Y8G("ngIf",null==(l=n.createDataForm.get("uploaded_file"))?null:l.hasError("required")),e.R7$(10),e.Y8G("ngForOf",n.FileDropdownOptions),e.R7$(1),e.Y8G("disabled",n.createDataForm.invalid),e.R7$(2),e.Y8G("ngIf",0!=n.FileData.length),e.R7$(4),e.Y8G("ngIf",!(null!=n.updateFileupload&&n.updateFileupload.data)),e.R7$(1),e.Y8G("ngIf",(null==n.updateFileupload?null:n.updateFileupload.data)&&n.fileRespLength>0)("ngIfElse",i)}},dependencies:[g.YU,g.Sq,g.bT,pt.$z,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,j.TL,_e.VO,he.wT,mt.PW],styles:[".create-model-content[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:45%}.custom-container-box[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:45%;position:relative;height:32vh;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}.custom-file-upload[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;padding:3px 6px 5px 7px;width:37px;border-radius:10px;background:#F9F6F6;color:#000}.custom-file-upload[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .hidden[_ngcontent-%COMP%]{display:none}.custom-container-title[_ngcontent-%COMP%]{margin-top:3%;margin-bottom:1px}.custom-container-title[_ngcontent-%COMP%], .custom-container-content[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.5px;font-weight:400}.custom-container-content[_ngcontent-%COMP%]{color:#79747e}.previous-file[_ngcontent-%COMP%]   .file-text[_ngcontent-%COMP%]{color:#685a5a;margin-top:22px}.previous-file[_ngcontent-%COMP%]   .sample[_ngcontent-%COMP%]{margin-top:10px}.previous-file[_ngcontent-%COMP%]   .sample[_ngcontent-%COMP%]     .mat-mdc-form-field{width:45%}.previous-file[_ngcontent-%COMP%]   .sample[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{box-shadow:none;background-color:#fff;border:2px solid #E6E1EE;width:6em;font-size:16px;height:3em;margin-left:1em}.display-file[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;align-items:flex-start;width:45%;position:relative;height:auto;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}.display-file[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#6c5e5e;font-weight:400;margin-left:1em}.display-file[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-left:1em;width:23.5em}.display-file[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex}.display-file[_ngcontent-%COMP%]   .file-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:22em;padding:10px;border-radius:5px;margin-top:10px;border:1px solid #c9bfbf}.display-file[_ngcontent-%COMP%]   #close-icon[_ngcontent-%COMP%]{margin-left:5px;cursor:pointer}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.create_btns[_ngcontent-%COMP%]   ._btnnext.disabled[_ngcontent-%COMP%]{background-color:#ccc;cursor:default}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();function Yr(o,r){if(1&o&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function zr(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a value from the dropdown. "),e.k0s())}function Xr(o,r){if(1&o&&(e.j41(0,"mat-option",16),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function qr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"mat-form-field",19)(3,"mat-select",20),e.DNE(4,Xr,2,2,"mat-option",6),e.k0s()()(),e.j41(5,"div",21)(6,"span",22),e.bIt("click",function(){const i=e.eBV(t).index,s=e.XpG();return e.Njj(s.addDataSourceField(i))}),e.EFF(7,"add_circle"),e.k0s(),e.j41(8,"span",23),e.bIt("click",function(){const i=e.eBV(t).index,s=e.XpG();return e.Njj(s.removeDataSourceField(i))}),e.EFF(9,"delete"),e.k0s()()()}if(2&o){const t=r.index,a=e.XpG();e.R7$(3),e.Y8G("formControl",a.getFormControl(t)),e.R7$(1),e.Y8G("ngForOf",a.fieldDrownOptions)}}function Lr(o,r){if(1&o&&(e.j41(0,"div",32)(1,"span"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.name)}}function Hr(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"span",30),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.removeAddedField(i))}),e.EFF(5,"delete"),e.k0s()(),e.DNE(6,Lr,3,1,"div",31),e.k0s()}if(2&o){const t=r.$implicit;e.R7$(3),e.JRh(t.name.name),e.R7$(3),e.Y8G("ngForOf",t.fields)}}function Jr(o,r){if(1&o&&(e.j41(0,"div",24)(1,"p",25),e.EFF(2,"Added data source fields"),e.k0s(),e.j41(3,"div",26),e.DNE(4,Hr,7,2,"div",27),e.k0s()()),2&o){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.fieldsListArray)}}const Fn=function(o){return{disabled:o}};function Wr(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapfourth())}),e.EFF(2,"Next"),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",!t.fieldsListArray.length)("ngClass",e.eq3(2,Fn,!t.fieldsListArray.length))}}function Zr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.noChnages())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.fieldsListArray.length)("ngClass",e.eq3(2,Fn,!t.fieldsListArray.length))}}function Qr(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDSfields())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.fieldsListArray.length)("ngClass",e.eq3(2,Fn,!t.fieldsListArray.length))}}function Kr(o,r){if(1&o&&(e.qex(0),e.DNE(1,Zr,2,4,"button",34),e.DNE(2,Qr,2,4,"button",34),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.fileChanged),e.R7$(1),e.Y8G("ngIf",t.fileChanged)}}function es(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmitTapfourth())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.fieldsListArray.length)("ngClass",e.eq3(2,Fn,!t.fieldsListArray.length))}}function ts(o,r){if(1&o&&e.DNE(0,es,2,4,"button",34),2&o){const t=e.XpG();e.Y8G("ngIf",null==t.updateDSFields?null:t.updateDSFields.data)}}let ns=(()=>{class o{constructor(t,a,n,i,s){this.fb=t,this.URMService=a,this.notify=n,this.spinnerService=i,this.dialog=s,this.dataSourceCount=0,this.TabChnage=new e.bkB,this.updateDSConfig=new e.bkB,this.callFunctionTabfive=new e.bkB,this.panelOpenState=!1,this.dataSourceForms=[],this.dataSources=[],this.SourceDataFields=[],this.displayDataModel=!1,this.fieldsList=[],this.fieldsListArray=[],this.fileChanged=!1}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.dataModelId=localStorage.getItem("data_model_id"),this.projectType=localStorage.getItem("project_type"),this.tenantId=localStorage.getItem("tenant_id"),this.form=this.fb.group({dataSource:"",fields:this.fb.array([])}),this.addDataSourceField(0)}ngOnChanges(t){t.triggerfouthTabFunction&&(console.log("ngOnChanges triggerfouthTabFunction ==> ",this.triggerfouthTabFunction),this.triggerfouthTabFunction)&&(console.log("call four component API"),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getdataSourcesbyProjectId response d-c-step4",n),n&&200===n.statusCode?(this.SourceData=n.data,this.sourceDropdownOptions=this.SourceData.map(i=>({name:i.datasource_name,data_source_id:i.datasource_id,type:i.datasource_type}))):this.notify.showErrorToast(n.errorMessage,"Close")}).catch(function(n){console.log("Error while getdataSourcesbyDataModelId",n)})),t.updateDSFields&&(console.log("ngOnChanges updateDSFields ==> ",this.updateDSFields),this.updateDSFields?.data)&&(this.spinnerService.show(),console.log("call update fourth component API"),this.getDataSourceFieldsByProjectId(),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getdataSourcesbyProjectId response d-c-step4",n),n&&200===n.statusCode?(this.SourceData=n.data,console.log("SourceData",this.SourceData),this.sourceDropdownOptions=this.SourceData.map(i=>({name:i.datasource_name,data_source_id:i.datasource_id,type:i.datasource_type})),this.spinnerService.hide()):(this.notify.showErrorToast(n.errorMessage,"Close"),this.spinnerService.hide())}).catch(n=>{console.log("Error while getdataSourcesbyDataModelId",n),this.spinnerService.hide()}))}addDataSourceField(t){const a=this.form.get("fields");a.insert(t+1,this.fb.control("")),console.log("fieldsArray ==>",a)}removeDataSourceField(t){const a=this.form.get("fields");a.length>1&&a.removeAt(t)}get dataSourceFields(){return this.form.get("fields").controls}getFormControl(t){return this.form.get("fields").at(t)}addDataSourceFields(){console.log("before modifying fieldsList",this.fieldsList);const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("addDataSource ==>",this.form.value);const a=this.form.get("dataSource")?.value;let n=this.form.get("fields")?.value;this.fieldsList=[];const i=this.fieldsList.some(s=>s.name.name===a.name);if(n=n.filter((s,l,c)=>l===c.findIndex(d=>d.id===s.id)),a&&n.length>0&&!i){if(console.log("Inside if condition"),this.fieldsList.push({name:a,fields:n}),this.updateDSFields?.data&&(console.log("inside if condition of update DS fields"),this.fileChanged=!0),this.form.reset(),console.log("fieldsList ==>",this.fieldsList),this.fieldsList.length>0){let s;console.log("data fieldsList in submit function:",this.fieldsList),s="ATM"===this.projectType?{projectId:this.projectId,dataModelId:this.dataModelId,dataSources:this.fieldsList.map(c=>({dataSource:c.name.data_source_id,source_fields:this.modifySourceFields(c.fields.map(d=>d.name))}))}:"IMPS"===this.projectType?{projectId:this.projectId,dataModelId:this.dataModelId,dataSources:this.fieldsList.map(c=>{if("Switch Remitter"==this.datasourceType||"Switch Beneficiary"==this.datasourceType)return{dataSource:c.name.data_source_id,source_fields:c.fields.map(d=>d.name)};{const d=[];return c.fields.forEach((m,E)=>{1===E?d.push(c.fields[E].name+"_"+c.fields[E+1].name):2!==E&&d.push(m.name)}),{dataSource:c.name.data_source_id,source_fields:d}}})}:{projectId:this.projectId,dataModelId:this.dataModelId,dataSources:this.fieldsList.map(c=>({dataSource:c.name.data_source_id,source_fields:c.fields.map(d=>d.name)}))},console.log("Final request body:",s),this.URMService.createDataSourceFields({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},s).then(c=>{if(console.log("createDataSourceFields response ==>",c),c&&200===c.statusCode||201===c.statusCode){const d={};c.data.forEach(U=>{d[U.datasource_id]||(d[U.datasource_id]={name:{name:U.datasource_name,data_source_id:U.datasource_id,data_model_id:U.data_model_id},fields:[]}),d[U.datasource_id].fields.push({name:U.datasource_field_name,id:U.datasource_field_id})}),Object.values(d).forEach(U=>{const ie=this.fieldsListArray.findIndex(K=>K.name.data_source_id===U.name.data_source_id);ie>-1?this.fieldsListArray[ie].fields=[...this.fieldsListArray[ie].fields,...U.fields.filter(K=>!this.fieldsListArray[ie].fields.some(oe=>oe.id===K.id))]:this.getDataSourceFieldsByProjectId()}),console.log("fieldsListArray",this.fieldsListArray),this.notify.showSuccessToast("Data source fields created successfully!!","Close"),t.close()}else this.notify.showErrorToast(c.errorMessage,"Close")}).catch(c=>{console.log("error ==>",c),this.notify.showErrorToast(c.error.message,"Close"),t.close()})}}else console.log("Duplicate source detected or invalid input."),this.notify.showErrorToast(`Kindly first remove the existing ${a.name} source then add new!`,"Close"),t.close()}modifySourceFields(t){return console.log("modifySourceFields fields",t),t.length<2?t:[t[0]+t[1],...t]}removeAddedField(t){console.log("Item=>",t),console.log("datasourceId =>",t.name.data_source_id),console.log("ArrayfromDelete",this.fieldsListArray),this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.fieldsListArray.length>0&&this.URMService.deleteDatasourceFieldsByDatasourceId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,datasource_id:t.name.data_source_id}).then(c=>{if(console.log("deleteDatasourceFieldsByDatasourceId response d-c-step4",c),c&&200===c.statusCode){console.log("Inside response"),this.notify.showSuccessToast("data source fields deleted successfully!","Close");const m=this.fieldsListArray.indexOf(t);-1!==m&&(console.log("Inside remove index"),this.fieldsListArray.splice(m,1),this.fileChanged=!0,i.close())}else this.notify.showErrorToast(c.errorMessage,"Close"),i.close()}).catch(c=>{console.log("Error occured while deleting data source fields",c),i.close()})}})}onSubmitTapfourth(){this.TabChnage.emit(4),this.callFunctionTabfive.emit(!0)}updateDSfields(){this.TabChnage.emit(4),this.callFunctionTabfive.emit(!0),this.updateDSConfig.emit(!0)}selectedDatasource(t){console.log("event==>",t),this.datasource_name=t.name,this.dataSourceId=t.data_source_id,this.datasourceType=t.type,this.getHeadersById(this.productId,this.applicationId,this.projectId,this.dataSourceId)}getDataSourceFieldsByProjectId(){this.URMService.getDataSourceFieldsByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{if(console.log("getDataSourceFieldsByProjectId response d-c-step4",a),a&&200===a.statusCode){console.log("fieldmapping",a.data),this.FieldsmappingLength=a.data.length;const n={};a.data.forEach(i=>{n[i.datasource_id]||(n[i.datasource_id]={name:{name:i.datasource_name,data_source_id:i.datasource_id,data_model_id:i.data_model_id},fields:[]}),n[i.datasource_id].fields.push({name:i.datasource_field_name,id:i.datasource_field_id})}),this.fieldsListArray=Object.values(n),console.log("fieldsListArray",this.fieldsListArray)}else this.notify.showErrorToast(a.errorMessage,"Close")}).catch(a=>{console.log("Error while getdataSourcesbyDataModelId",a)})}getHeadersById(t,a,n,i){this.URMService.getHeadersByDataSourceId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,datasource_id:i}).then(l=>{console.log("getHeadersByDataSourceId response d-c-step4",l),l&&200===l.statusCode?(this.fieldOptions=l.data,this.fieldDrownOptions=this.fieldOptions.map(c=>({name:c.header_name,id:c.datasource_file_headers_id}))):this.notify.showErrorToast(l.errorMessage,"Close")}).catch(function(l){console.log("Error while getdataSourcesbyDataModelId",l)})}noChnages(){console.log("inside 4th"),this.TabChnage.emit(4),this.callFunctionTabfive.emit(!0),this.updateDSConfig.emit(!0)}onCancel(){console.log("CLICKED..."),this.TabChnage.emit(1)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(je.D),e.rXU(F.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-config-step4"]],inputs:{triggerfouthTabFunction:"triggerfouthTabFunction",dataSourceCount:"dataSourceCount",updateDSFields:"updateDSFields"},outputs:{TabChnage:"TabChnage",updateDSConfig:"updateDSConfig",callFunctionTabfive:"callFunctionTabfive"},features:[e.OA$],decls:22,vars:9,consts:[[1,"container-step4",3,"formGroup"],[1,"flex-container"],[1,"field-container"],[1,"select-datasource"],["appearance","outline"],["formControlName","dataSource","placeholder","Select data source","formControlName","dataSource",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["class","select-datasource-fields",4,"ngFor","ngForOf"],[1,"add-datasource-fields"],[1,"add-btn",3,"disabled","click"],["class","display-datasource",4,"ngIf"],[1,"create_btns"],[1,"_btncancel",3,"click"],[4,"ngIf","ngIfElse"],["CanGoWithCreate",""],[3,"value"],[1,"select-datasource-fields"],[1,"select-source"],["appearance","outline","id","refNo"],["id","source-field","placeholder","Select field",3,"formControl"],[1,"action-icons"],["matTooltip","Add input field","id","addInput",1,"material-symbols-outlined",3,"click"],["matTooltip","Remove input field","id","removeInput",1,"material-symbols-outlined",3,"click"],[1,"display-datasource"],[1,"field-title"],[1,"fields-container"],["class","fields-box",4,"ngFor","ngForOf"],[1,"fields-box"],[1,"header"],["matTooltip","Remove added fields",1,"material-symbols-outlined",2,"cursor","pointer","color","red",3,"click"],["class","fields",4,"ngFor","ngForOf"],[1,"fields"],[1,"_btnnext",3,"disabled","ngClass","click"],["class","_btnnext",3,"disabled","ngClass","click",4,"ngIf"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Select data source fields"),e.k0s(),e.j41(3,"div",1)(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedDatasource(s.value)}),e.DNE(8,Yr,2,2,"mat-option",6),e.k0s(),e.DNE(9,zr,2,0,"mat-error",7),e.k0s()(),e.DNE(10,qr,10,2,"div",8),e.k0s(),e.j41(11,"div",9)(12,"button",10),e.bIt("click",function(){return n.addDataSourceFields()}),e.EFF(13,"Add"),e.k0s()()(),e.DNE(14,Jr,5,1,"div",11),e.j41(15,"div",12)(16,"button",13),e.bIt("click",function(){return n.onCancel()}),e.EFF(17,"Cancel"),e.k0s(),e.DNE(18,Wr,3,4,"ng-container",7),e.DNE(19,Kr,3,2,"ng-container",14),e.DNE(20,ts,1,1,"ng-template",null,15,e.C5r),e.k0s()()),2&a){const i=e.sdS(21);let s;e.Y8G("formGroup",n.form),e.R7$(8),e.Y8G("ngForOf",n.sourceDropdownOptions),e.R7$(1),e.Y8G("ngIf",null==(s=n.form.get("dataSource"))?null:s.hasError("required")),e.R7$(1),e.Y8G("ngForOf",n.dataSourceFields),e.R7$(2),e.Y8G("disabled",n.form.invalid),e.R7$(2),e.Y8G("ngIf",n.fieldsListArray.length>0),e.R7$(4),e.Y8G("ngIf",!(null!=n.updateDSFields&&n.updateDSFields.data)),e.R7$(1),e.Y8G("ngIf",(null==n.updateDSFields?null:n.updateDSFields.data)&&n.FieldsmappingLength>0)("ngIfElse",i)}},dependencies:[g.YU,g.Sq,g.bT,p.BC,p.cb,p.l_,p.j4,p.JD,j.rl,j.TL,_e.VO,he.wT,mt.PW,ke.oV],styles:[".container-step4[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:500;padding-top:15px}.flex-container[_ngcontent-%COMP%]{display:flex;gap:20px}.field-container[_ngcontent-%COMP%]{border:1px solid #ccc;height:45vh;width:45%;border-top-right-radius:15px;border-top-left-radius:15px;overflow:auto}.select-datasource[_ngcontent-%COMP%]{border-bottom:2px solid #ccc;background:#f5f5f5;border-top-left-radius:15px;border-top-right-radius:15px}.select-datasource-fields[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:15px;padding-right:10px;margin-bottom:-20px;overflow:auto}.action-icons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#addInput[_ngcontent-%COMP%]{font-weight:300;color:gray;padding-right:6px;cursor:pointer;font-size:28px}#removeInput[_ngcontent-%COMP%]{font-weight:300;color:red;padding-left:6px;cursor:pointer;font-size:28px}.add-btn[_ngcontent-%COMP%]{box-shadow:none;background:transparent;color:#9351fb!important;border:1px solid rgb(147,81,251);width:6em;font-size:16px;height:2.5em;border-radius:6px}.fields-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:30px;border:1px solid #ccc;overflow:auto;padding:10px}.display-datasource[_ngcontent-%COMP%]{margin-top:20px;padding:20px}.fields-box[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;width:9%}.field-title[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin-bottom:10px}.header[_ngcontent-%COMP%]{border:1px solid #ccc;background:rgb(201,201,201);display:flex;justify-content:space-between;align-items:center;width:100%;padding:10px;border-radius:10px 10px 0 0}.fields[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;border-left:1px solid #ccc;border-right:1px solid #ccc;width:100%;padding:10px}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.select-datasource[_ngcontent-%COMP%]     .mat-mdc-form-field{width:90%;padding:15px 0 0 30px}.select-source[_ngcontent-%COMP%]{width:100%}.select-source[_ngcontent-%COMP%]     .mat-mdc-form-field{width:90%;padding:15px 0 0 30px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgb(163,163,163);border-radius:0 10px 0 0}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#838383}.create_btns[_ngcontent-%COMP%]   ._btnnext.disabled[_ngcontent-%COMP%]{background-color:#ccc;cursor:default}"]})}}return o})();function os(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function as(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a value from the dropdown. "),e.k0s())}function is(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function rs(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a value from the dropdown. "),e.k0s())}function ss(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Required Recon Parameter Description "),e.k0s())}function ls(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon Parameter Description must be at least 10 characters long. "),e.k0s())}function cs(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon Parameter Description must be at most 200 characters long. "),e.k0s())}function ds(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Only alphanumeric characters and special characters (_ . / # & + -) are allowed. "),e.k0s())}function ps(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function ms(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a value from the dropdown. "),e.k0s())}function us(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Select/Identify which is amount field"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(7,ps,2,2,"mat-option",6),e.k0s(),e.DNE(8,ms,2,0,"mat-error",7),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();let a;e.R7$(7),e.Y8G("ngForOf",t.fieldDrownOptions),e.R7$(1),e.Y8G("ngIf",null==(a=t.dataConfigForm.get("define_amount"))?null:a.hasError("required"))}}function gs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function fs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function hs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function _s(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Apply operation to data source"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Field name"),e.k0s(),e.j41(7,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,gs,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Operation"),e.k0s(),e.j41(12,"mat-select",21),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedOperation(n.value))}),e.DNE(13,fs,2,2,"mat-option",6),e.k0s()()(),e.j41(14,"div",20)(15,"mat-form-field",18)(16,"mat-label"),e.EFF(17,"Operator"),e.k0s(),e.j41(18,"mat-select",22),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedOperator(n.value))}),e.DNE(19,hs,2,2,"mat-option",6),e.k0s()(),e.j41(20,"mat-form-field",18)(21,"mat-label"),e.EFF(22,"Value"),e.k0s(),e.j41(23,"input",23,24),e.bIt("input",function(){e.eBV(t);const n=e.sdS(24),i=e.XpG();return e.Njj(i.getValueforOperation(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions),e.R7$(5),e.Y8G("ngForOf",t.operations),e.R7$(6),e.Y8G("ngForOf",t.operators)}}function Cs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function bs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define cut off activity time range"),e.k0s(),e.j41(3,"div",20)(4,"div",25)(5,"div",26)(6,"label",27),e.EFF(7,"Start time:"),e.k0s(),e.j41(8,"input",28,29),e.bIt("input",function(){e.eBV(t);const n=e.sdS(9),i=e.sdS(14),s=e.XpG();return e.Njj(s.getTimeValues(n.value,i.value))}),e.k0s()(),e.j41(10,"div",26)(11,"label",30),e.EFF(12,"End time:"),e.k0s(),e.j41(13,"input",31,32),e.bIt("input",function(){e.eBV(t);const n=e.sdS(9),i=e.sdS(14),s=e.XpG();return e.Njj(s.getTimeValues(n.value,i.value))}),e.k0s()()(),e.j41(15,"mat-form-field",18)(16,"mat-label"),e.EFF(17,"Field name"),e.k0s(),e.j41(18,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(19,Cs,2,2,"mat-option",6),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(19),e.Y8G("ngForOf",t.fieldDrownOptions)}}function xs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function ys(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Check for duplicate transactions"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",33),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedMultiFieldname(n.value))}),e.DNE(7,xs,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.fieldDrownOptions)}}function Ds(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Check for reversal transactions"),e.k0s())}function vs(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Define configuration for consolidated files"),e.k0s())}function Fs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Ms(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Ss(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Ps(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",20)(1,"mat-form-field",18)(2,"mat-label"),e.EFF(3,"Field name"),e.k0s(),e.j41(4,"mat-select",33),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedMultiFieldname(n.value))}),e.DNE(5,Ms,2,2,"mat-option",6),e.k0s()(),e.j41(6,"mat-form-field",18)(7,"mat-label"),e.EFF(8,"Field name"),e.k0s(),e.j41(9,"mat-select",33),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.selectedMultiFieldname1(n.value))}),e.DNE(10,Ss,2,2,"mat-option",6),e.k0s()()()}if(2&o){const t=e.XpG(2);e.R7$(5),e.Y8G("ngForOf",t.fieldDrownOptions),e.R7$(5),e.Y8G("ngForOf",t.fieldDrownOptions)}}function ws(o,r){if(1&o){const t=e.RV6();e.qex(0),e.DNE(1,Ds,2,0,"p",7),e.DNE(2,vs,2,0,"p",7),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Data Source"),e.k0s(),e.j41(6,"mat-select",34),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedDatasourceforReversal(n.value))}),e.DNE(7,Fs,2,2,"mat-option",6),e.k0s()(),e.DNE(8,Ps,11,2,"div",35),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf","fetch_reversal"===t.selectedConfig),e.R7$(1),e.Y8G("ngIf","consolidated_file"===t.selectedConfig),e.R7$(5),e.Y8G("ngForOf",t.sourceDropdownOptions),e.R7$(1),e.Y8G("ngIf","fetch_reversal"===t.selectedConfig)}}function Os(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Ts(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Fetch successfull transations"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Field name"),e.k0s(),e.j41(7,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,Os,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Successfull transaction value"),e.k0s(),e.j41(12,"input",36,37),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForFetchTxn(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions)}}function ks(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Es(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Skip last data"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Skip from"),e.k0s(),e.j41(7,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,ks,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Enter count to skip data"),e.k0s(),e.j41(12,"input",38,39),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForSkipData(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.skipData)}}function Is(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Rs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Format the date"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Field name"),e.k0s(),e.j41(7,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,Is,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Date format Value"),e.k0s(),e.j41(12,"input",40,41),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForDateValue(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions)}}function As(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define the format for the date"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Date format Value"),e.k0s(),e.j41(6,"input",40,42),e.bIt("input",function(){e.eBV(t);const n=e.sdS(7),i=e.XpG();return e.Njj(i.getValuesForDefineDateValue(n.value))}),e.k0s()(),e.bVm()}}function js(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Ns(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define the time format."),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Time format"),e.k0s(),e.j41(6,"mat-select",43),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedTimeFormat(n.value))}),e.DNE(7,js,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.timeFormat)}}function Bs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Gs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define the time format."),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Time format"),e.k0s(),e.j41(6,"mat-select",43),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedDelimiters(n.value))}),e.DNE(7,Bs,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.delimiters)}}function Vs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function $s(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define alter file date for alter the file date"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Alter file date"),e.k0s(),e.j41(7,"mat-select",44),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAlterfileDate(n.value))}),e.DNE(8,Vs,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Enter no. of days"),e.k0s(),e.j41(12,"input",45,46),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesforDays(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.alterFileData)}}function Us(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Ys(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define formate date and time"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Enter tran date and tran time"),e.k0s(),e.j41(7,"mat-select",33),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedMultiFieldname2(n.value))}),e.DNE(8,Us,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Define the format for the date"),e.k0s(),e.j41(12,"input",47,48),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForDefineDateValue(n.value))}),e.k0s()(),e.j41(14,"mat-form-field",18)(15,"mat-label"),e.EFF(16,"Define time format"),e.k0s(),e.j41(17,"input",40,49),e.bIt("input",function(){e.eBV(t);const n=e.sdS(18),i=e.XpG();return e.Njj(i.getValuesForTimeValue(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions)}}function zs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define format subset date"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Enter transaction date"),e.k0s(),e.j41(7,"input",36,50),e.bIt("input",function(){e.eBV(t);const n=e.sdS(8),i=e.XpG();return e.Njj(i.getValuesForFetchTxn(n.value))}),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Define the format for the date"),e.k0s(),e.j41(12,"input",47,51),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForDefineDateValue(n.value))}),e.k0s()(),e.j41(14,"mat-form-field",18)(15,"mat-label"),e.EFF(16,"Define time format"),e.k0s(),e.j41(17,"input",40,52),e.bIt("input",function(){e.eBV(t);const n=e.sdS(18),i=e.XpG();return e.Njj(i.getValuesForTimeValue(n.value))}),e.k0s()()(),e.bVm()}}function Xs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function qs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Select/Identify which is amount field"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(7,Xs,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.fieldDrownOptions)}}function Ls(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Hs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Merge Fields Input"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Field name"),e.k0s(),e.j41(7,"mat-select",53),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,Ls,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Date format Value"),e.k0s(),e.j41(12,"input",40,54),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getSeperateFetchedTxn(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions)}}function Js(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Ws(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Devide amount in integer"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(7,Js,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.fieldDrownOptions)}}function Zs(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function Qs(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Seperate Fetched Txn"),e.k0s(),e.j41(3,"div",20)(4,"mat-form-field",18)(5,"mat-label"),e.EFF(6,"Field name"),e.k0s(),e.j41(7,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(8,Zs,2,2,"mat-option",6),e.k0s()(),e.j41(9,"mat-form-field",18)(10,"mat-label"),e.EFF(11,"Successfull transaction value"),e.k0s(),e.j41(12,"input",36,55),e.bIt("input",function(){e.eBV(t);const n=e.sdS(13),i=e.XpG();return e.Njj(i.getValuesForFetchTxn(n.value))}),e.k0s()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(8),e.Y8G("ngForOf",t.fieldDrownOptions)}}function Ks(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function el(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define split sequence"),e.k0s(),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(7,Ks,2,2,"mat-option",6),e.k0s()(),e.j41(8,"mat-form-field",18)(9,"mat-label"),e.EFF(10,"Successfull transaction value"),e.k0s(),e.j41(11,"input",36,56),e.bIt("input",function(){e.eBV(t);const n=e.sdS(12),i=e.XpG();return e.Njj(i.getValuesforSquence(n.value))}),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.fieldDrownOptions)}}function tl(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Define transaction entry in GL payload"),e.k0s())}function nl(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Define post recon process to delete subset data"),e.k0s())}function ol(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function al(o,r){if(1&o){const t=e.RV6();e.qex(0),e.DNE(1,tl,2,0,"p",7),e.DNE(2,nl,2,0,"p",7),e.j41(3,"mat-form-field",18)(4,"mat-label"),e.EFF(5,"Field name"),e.k0s(),e.j41(6,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(7,ol,2,2,"mat-option",6),e.k0s()(),e.j41(8,"mat-form-field",18)(9,"mat-label"),e.EFF(10,"Respone code"),e.k0s(),e.j41(11,"input",57,46),e.bIt("input",function(){e.eBV(t);const n=e.sdS(12),i=e.XpG();return e.Njj(i.getValuesforRespCode(n.value))}),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf","transaction_entry"===t.selectedConfig),e.R7$(1),e.Y8G("ngIf","post_recon_process"===t.selectedConfig),e.R7$(5),e.Y8G("ngForOf",t.fieldDrownOptions)}}function il(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Define nullify transaction data"),e.k0s())}function rl(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function sl(o,r){if(1&o){const t=e.RV6();e.qex(0),e.DNE(1,il,2,0,"p",7),e.j41(2,"mat-form-field",18)(3,"mat-label"),e.EFF(4,"Field name"),e.k0s(),e.j41(5,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedFieldname(n.value))}),e.DNE(6,rl,2,2,"mat-option",6),e.k0s()(),e.j41(7,"mat-form-field",18)(8,"mat-label"),e.EFF(9,"Respone code"),e.k0s(),e.j41(10,"input",57,46),e.bIt("input",function(){e.eBV(t);const n=e.sdS(11),i=e.XpG();return e.Njj(i.getValuesforRespCode(n.value))}),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf","nullify_transaction"===t.selectedConfig),e.R7$(5),e.Y8G("ngForOf",t.fieldDrownOptions)}}function ll(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",58)(2,"ag-grid-angular",59),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("rowData",t.rowData)("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef)("pagination",!0)("paginationPageSize",t.paginationPageSize)}}const Mn=function(o){return{disabled:o}};function cl(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapfifth())}),e.EFF(2,"Save"),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",!t.dataConfigArray.length)("ngClass",e.eq3(2,Mn,!t.dataConfigArray.length))}}function dl(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.noChnages())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataConfigArray.length)("ngClass",e.eq3(2,Mn,!t.dataConfigArray.length))}}function pl(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDSConfig())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataConfigArray.length)("ngClass",e.eq3(2,Mn,!t.dataConfigArray.length))}}function ml(o,r){if(1&o&&(e.qex(0),e.DNE(1,dl,2,4,"button",61),e.DNE(2,pl,2,4,"button",61),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.DSConfigChanged),e.R7$(1),e.Y8G("ngIf",t.DSConfigChanged)}}function ul(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",60),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmitTapfifth())}),e.EFF(1,"Save"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.dataConfigArray.length)("ngClass",e.eq3(2,Mn,!t.dataConfigArray.length))}}function gl(o,r){if(1&o&&e.DNE(0,ul,2,4,"button",61),2&o){const t=e.XpG();e.Y8G("ngIf",null==t.UpdateDSConfig?null:t.UpdateDSConfig.data)}}let fl=(()=>{class o{constructor(t,a,n,i,s){this.fb=t,this.URMService=a,this.notify=n,this.spinnerService=i,this.dialog=s,this.TabChnage=new e.bkB,this.callFunctionForParent=new e.bkB,this.rowData=[],this.paginationPageSize=20,this.DSConfigChanged=!1,this.startTime="",this.endTime="",this.selectedFields=[],this.showDataconfigTable=0,this.dataConfigFinalBody=[],this.dataConfigArray=[],this.configuration=[{name:"Define amount",value:"define_amount"},{name:"Apply operation",value:"apply_operation"},{name:"cut off",value:"cut_off"},{name:"Fetch duplicate",value:"fetch_duplicate"},{name:"Fetch reversal",value:"fetch_reversal"},{name:"Fetch successful transaction",value:"fetch_successful_transaction"},{name:"Skip data",value:"skip_data"},{name:"Format date",value:"format_date"},{name:"Define file date format",value:"define_file_date_format"},{name:"Format time",value:"format_time"},{name:"Attach headers",value:"attach_headers"},{name:"Alter file date",value:"alter_filedate"},{name:"Define delimiters",value:"define_delimiters"},{name:"Exclude reversal",value:"exclude reversal"},{name:"Exclude duplicate",value:"exclude duplicate"},{name:"Settlement description",value:"settlement_voucher_description"},{name:"Adjustment description",value:"adjustment_voucher_description"},{name:"Format date and time",value:"format_date_and_time"},{name:"Format subset date",value:"format_subset_date"},{name:"Merge fields",value:"merge_fields"},{name:"Devide amount in integer",value:"devide_amount_in_integer"},{name:"Seperate fetched txn",value:"seperate_fetched_txn"},{name:"Split sequence",value:"split_sequence"},{name:"Consolidated file",value:"consolidated_file"},{name:"Transaction entry",value:"transaction_entry"},{name:"Post recon process",value:"post_recon_process"},{name:"Nullify transactions",value:"nullify_transaction"}],this.operations=[{name:"Arithmetic",value:"devide amount"},{name:"Filter",value:"remove unwanted data"}],this.operators=[{name:"Divide",value:"/"},{name:"Not equal to",value:"not equal to"},{name:"Equal to",value:"equal to"}],this.skipData=[{name:"From start",value:"from start"},{name:"From end",value:"from end"}],this.timeFormat=[{name:"12 Hours",value:"12 hours"},{name:"24 Hours",value:"24 hours"}],this.delimiters=[{name:"Comma",value:","},{name:"Semi colon",value:";"},{name:"Pipe",value:"|"}],this.alterFileData=[{name:"Minus",value:"-"}],this.columnDefs=[{headerName:"Data source name",field:"datasource_name",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Recon param type",field:"recon_param_type",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Description",field:"recon_param_description",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Recon param value 1",field:"recon_param_value_2",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Recon param value 2",field:"recon_param_value_3",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Recon param value 3",field:"recon_param_value_4",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Data source type",field:"datasource_type",valueFormatter:l=>l.value?l.value:"-",filter:"agMultiColumnFilter"},{headerName:"Actions",cellRenderer:l=>{const c=document.createElement("div"),d=document.createElement("span");return d.classList.add("material-symbols-outlined","delete-icon"),d.style.cursor="pointer",d.style.marginRight="8px",d.style.color="red",d.textContent="delete",d.addEventListener("click",this.deleteClicked.bind(this,l.data)),c.appendChild(d),c},minWidth:200}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60},this.dataConfigForm=t.group({datasource_name:new p.MJ("",[p.k0.required]),recon_param_type:new p.MJ("",[p.k0.required]),recon_param_description:new p.MJ("",[p.k0.required,p.k0.minLength(10),p.k0.maxLength(200),p.k0.pattern("^[a-zA-Z0-9 _@./#&+-]*$")])})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.triggerfifthTabFunction&&(console.log("ngOnChanges triggerfifthTabFunction ==> ",this.triggerfifthTabFunction),this.triggerfifthTabFunction)&&(console.log("call four component API"),this.spinnerService.show(),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getdataSourcesbyProjectId response c-d-step4",n),n&&200===n.statusCode?(this.SourceData=n.data,this.sourceDropdownOptions=this.SourceData.map(i=>({name:i.datasource_name,data_source_id:i.datasource_id,datasource_type:i.datasource_type})),this.spinnerService.hide()):(this.notify.showErrorToast(n.errorMessage,"Close"),this.spinnerService.hide())}).catch(n=>{console.log("Error while getdataSourcesbyDataModelId",n),this.spinnerService.hide()})),t.UpdateDSConfig&&(console.log("ngOnChanges UpdateDSConfig ==> ",this.UpdateDSConfig),this.UpdateDSConfig?.data&&(console.log("call update component API"),this.getReconDataParamsByCategory()))}selectedDatasource(t){console.log("event==>",t),this.datasource_name=t.name,this.dataSourceId=t.data_source_id,this.dataSourcesType=t.datasource_type,console.log("dataSourcesType",this.dataSourcesType),this.getHeadersById(this.dataSourceId)}selectedConfiguration(t){this.selectedConfig=t}selectedFieldname(t){this.fieldnameValue=t,console.log("selectedOperation value",this.fieldnameValue)}selectedOperation(t){this.operationValue=t,console.log("selectedOperation value",this.operationValue)}selectedOperator(t){this.operatorValue=t,console.log("selectedOperator value",this.operatorValue)}getValueforOperation(t){this.operationInputValue=t,console.log("getValueforOperation value",this.operationInputValue)}getTimeValues(t,a){this.startTime=t,this.endTime=a,console.log("Start Time:",t),console.log("End Time:",a)}selectedMultiFieldname(t){this.selectedMultiFieldnamevalue=JSON.stringify(t),console.log("selectedMultiFieldnamevalue",this.selectedMultiFieldnamevalue)}selectedMultiFieldname1(t){this.selectedMultiFieldnamevalue1=JSON.stringify(t),console.log("selectedMultiFieldnamevalue",this.selectedMultiFieldnamevalue1)}selectedMultiFieldname2(t){this.selectedFields=t,this.selectedMultiFieldnamevalue=this.selectedFields.join("_"),console.log("selectedMultiFieldnamevalue",this.selectedMultiFieldnamevalue)}selectedDatasourceforReversal(t){this.dataSourceIdforReversal=t.data_source_id,this.ReversalSource=t.name}getValuesForFetchTxn(t){console.log("getValuesForFetchTxn value",t),this.FetchTxnValue=t}selectedSkipData(t){console.log("selectedSkipData value",t),this.skipfromValue=t}getValuesForSkipData(t){console.log("getValuesForSkiplastData value",t),this.skipLastdataCount=t}getValuesForDateValue(t){console.log("getValuesForDateValue value",t),this.dateValue=t}getValuesForTimeValue(t){console.log("getValuesForTimeValue value",t),this.timeValue=t}getValuesForDefineDateValue(t){console.log("getValuesForDefineDateValue value",t),this.defienDateValue=t}selectedTimeFormat(t){console.log("selectedTimeFormat value",t),this.timeFormatValue=t}selectedDelimiters(t){console.log("selectedDelimiters value",t),this.delimiterValue=t}selectedAlterfileDate(t){console.log("selectedAlterfileDate value",t),this.alterfileValue=t}getValuesforDays(t){console.log("getValuesforDays value",t),this.numOfdaysValue=t}selectedMergeFields(t){console.log("selectedMergeFields value",t),this.mergefieldsValue=t}getValueDevideAmount(t){console.log("getValueDevideAmount value",t),this.devideAmountValue=t}getSeperateFetchedTxn(t){console.log("getSeperateFetchedTxn value",t),this.seperateFetchedTxnValue=t}getValuesforSquence(t){console.log("getValuesforSquence value",t),this.splitSequenceValue=t}selectedBoolean(t){console.log("selectedBoolean value",t),this.selectedbooleanValue=t}getValuesforRespCode(t){console.log("getValuesforRespCode value",t),this.selectedrespCodeValue=t}addDataSource(){console.log("addDataSource ==>",this.dataConfigForm.value);let t=this.dataConfigForm.value;const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});if(this.dataConfigFinalBody=[],"define_amount"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"define amount",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("apply_operation"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:this.operationValue,recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.operatorValue,recon_param_value_4:this.operationInputValue,datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("cut_off"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"cut off",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.startTime,recon_param_value_3:this.endTime,recon_param_value_4:this.fieldnameValue,datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("fetch_duplicate"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"duplicate",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.dataSourceId,recon_param_value_3:this.selectedMultiFieldnamevalue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("fetch_reversal"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"reversal",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.dataSourceIdforReversal,recon_param_value_3:this.selectedMultiFieldnamevalue,recon_param_value_4:this.selectedMultiFieldnamevalue1,datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("fetch_successful_transaction"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"fetch txn",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.FetchTxnValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("skip_data"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"skip data",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.skipLastdataCount,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("format_date"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"format date",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.dateValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("define_file_date_format"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"define file date format",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.defienDateValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("format_time"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"format date",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.timeFormatValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("attach_headers"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"attach headers",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:"",recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("define_delimiters"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"define delimiter",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.delimiterValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("alter_filedate"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"alter filedate",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.alterfileValue,recon_param_value_3:this.numOfdaysValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("exclude reversal"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"exclude reversal",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.fieldnameValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("exclude duplicate"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"exclude duplicate",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.fieldnameValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("settlement_voucher_description"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"settlement_voucher_description",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:"",recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("adjustment_voucher_description"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"settlement_voucher_description",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:"",recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("format_date_and_time"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"format date and time",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.selectedMultiFieldnamevalue,recon_param_value_3:this.defienDateValue,recon_param_value_4:this.timeValue,datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("format_subset_date"===this.selectedConfig)this.dataConfigFinalBody.push({recon_param_type:"format subset date",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.FetchTxnValue,recon_param_value_3:this.defienDateValue,recon_param_value_4:this.timeValue,datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="";else if("merge_fields"===this.selectedConfig){let i={recon_param_type:"merge fields",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:JSON.stringify(this.fieldnameValue),recon_param_value_3:this.seperateFetchedTxnValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"};this.dataConfigFinalBody.push(i),this.dataConfigForm.reset(),this.selectedConfig=""}else"devide_amount_in_integer"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"devide amount in integer",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"seperate_fetched_txn"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"seperate fetched txn",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.FetchTxnValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"split_sequence"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"split sequence",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.fieldnameValue,recon_param_value_3:this.splitSequenceValue,recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"consolidated_file"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"consolated file",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.dataSourceIdforReversal,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"single_folder"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"single folder",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.dataSourceIdforReversal,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"transaction_entry"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"transaction entry",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.selectedrespCodeValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"post_recon_process"===this.selectedConfig?(this.dataConfigFinalBody.push({recon_param_type:"post recon process",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.selectedrespCodeValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig=""):"nullify_transaction"===this.selectedConfig&&(this.dataConfigFinalBody.push({recon_param_type:"nullify transaction",recon_param_description:t.recon_param_description,recon_param_value_1:this.dataSourceId,recon_param_value_2:this.selectedrespCodeValue,recon_param_value_3:"",recon_param_value_4:"",datasource_type:this.dataSourcesType,datasource_name:this.datasource_name,category:"data_config"}),this.dataConfigForm.reset(),this.selectedConfig="");console.log("dataConfigFinalBody",this.dataConfigFinalBody),this.showDataconfigTable=this.dataConfigFinalBody.length,console.log("showDataconfigTable===>",this.showDataconfigTable),this.URMService.addDataReconParam({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},this.dataConfigFinalBody).then(i=>{if(console.log("addDataReconParam response ==>",i),i&&200===i.statusCode||201===i.statusCode){let s=i.data;console.log("responseData",s[0]),this.dataConfigArray.push(s[0]),this.rowData=[...this.dataConfigArray],this.DSConfigChanged=!0,this.notify.showSuccessToast("Datasource configured successfully!!","Close"),a.close()}else this.notify.showSuccessToast(i.errorMessage,"Close")}).catch(i=>{console.log("error ==>",i),a.close()})}deleteClicked(t){console.log("deleteClicked",t),this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.deleteReconParamById({tenant_id:this.tenantId,priduct_id:this.productId,application_id:this.applicationId,recon_param_id:t.recon_param_id}).then(l=>{if(console.log("deleteReconParamById response d-c-step5",l),l&&200===l.statusCode){this.notify.showSuccessToast("Record deleted successfully","Close");const d=this.dataConfigArray.findIndex(m=>m===t);console.log("dataConfigArray",this.dataConfigArray),-1!==d&&(console.log("Inside remove index"),this.dataConfigArray.splice(d,1),this.rowData=[...this.dataConfigArray],i.close(),this.DSConfigChanged=!0)}else this.notify.showErrorToast(l.errorMessage,"Close"),i.close()}).catch(l=>{console.log("Error occured while deleting recon data",l),i.close()})}})}onSubmitTapfifth(){this.callFunctionForParent.emit(!0)}updateDSConfig(){this.callFunctionForParent.emit(!0)}onCancel(){this.TabChnage.emit(1)}noChnages(){this.callFunctionForParent.emit(!0)}onGridReady(t){this.gridOptions.api=t.api}getReconDataParamsByCategory(){this.spinnerService.show(),this.URMService.getReconDataParamsByCategory({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,recon_param_category:"data_config"}).then(a=>{if(console.log("getReconDataParamsByCategory response r-c-step3",a),a&&200===a.statusCode||201===a.statusCode){const n=a.data;this.DSConfiglength=n.length,this.dataConfigArray=[...n],this.rowData=[...this.dataConfigArray],this.spinnerService.hide()}else this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide()}).catch(a=>{console.log("Error occured while fetching data source config params",a),this.spinnerService.hide()})}getHeadersById(t){this.URMService.getHeadersByDataSourceId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,datasource_id:t}).then(n=>{console.log("getHeadersByDataSourceId response",n),n&&200===n.statusCode?(this.fieldOptions=n.data,this.fieldDrownOptions=this.fieldOptions.map(i=>({name:i.header_name,id:i.datasource_file_headers_id}))):this.notify.showErrorToast(n.errorMessage,"Close")}).catch(function(n){console.log("Error while getdataSourcesbyDataModelId",n)})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(je.D),e.rXU(F.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-config-step5"]],inputs:{triggerfifthTabFunction:"triggerfifthTabFunction",UpdateDSConfig:"UpdateDSConfig"},outputs:{TabChnage:"TabChnage",callFunctionForParent:"callFunctionForParent"},features:[e.OA$],decls:57,vars:35,consts:[[1,"container-step2"],[3,"formGroup"],[1,"row"],[1,"box-content"],["appearance","outline","id","datasource_name"],["formControlName","datasource_name","placeholder","Select data source",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline","id","recon_param_type"],["formControlName","recon_param_type","placeholder","Select configuration",3,"selectionChange"],["appearance","outline",1,"project-input"],["matInput","","formControlName","recon_param_description"],[1,"add-btn",3,"disabled","click"],[1,"create_btns"],[1,"_btncancel",3,"click"],[4,"ngIf","ngIfElse"],["CanGoWithCreate",""],[3,"value"],["appearance","outline"],["placeholder","Select field name",3,"selectionChange"],[1,"flexInput"],["placeholder","Select operation",3,"selectionChange"],["placeholder","Select operator",3,"selectionChange"],["matInput","","placeholder","Enter value",3,"input"],["value",""],[1,"timeInput"],[1,"fields"],["for","startTime",1,"startLabel"],["type","time","id","startTime","name","startTime","min","09:00","max","18:00","step","1","required","",3,"input"],["startTimeInput",""],["for","endTime",1,"endLabel"],["type","time","id","endTime","name","endTime","min","09:00","max","18:00","step","1","required","",3,"input"],["endTimeInput",""],["placeholder","Select fields","multiple","",3,"selectionChange"],["placeholder","Select data source",3,"selectionChange"],["class","flexInput",4,"ngIf"],["matInput","","placeholder","Enter successful transaction value",3,"input"],["value5",""],["matInput","","placeholder","Enter skip data count",3,"input"],["value6",""],["matInput","","placeholder","Enter format value",3,"input"],["value8",""],["value9",""],["placeholder","Select time format",3,"selectionChange"],["placeholder","Select arithmetic value",3,"selectionChange"],["matInput","","placeholder","Enter no. of days",3,"input"],["value11",""],["matInput","","placeholder","Date format value",3,"input"],["value16",""],["value17",""],["value18",""],["value19",""],["value20",""],["placeholder","Select field name","multiple","",3,"selectionChange"],["value12",""],["value14",""],["value10",""],["matInput","","placeholder","Enter successful response code",3,"input"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","gridReady"],[1,"_btnnext",3,"disabled","ngClass","click"],["class","_btnnext",3,"disabled","ngClass","click",4,"ngIf"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Select data source type"),e.k0s(),e.j41(3,"form",1)(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),e.EFF(8,"Data Source"),e.k0s(),e.j41(9,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedDatasource(s.value)}),e.DNE(10,os,2,2,"mat-option",6),e.k0s(),e.DNE(11,as,2,0,"mat-error",7),e.k0s(),e.j41(12,"mat-form-field",8)(13,"mat-label"),e.EFF(14,"Configuration"),e.k0s(),e.j41(15,"mat-select",9),e.bIt("selectionChange",function(s){return n.selectedConfiguration(s.value)}),e.DNE(16,is,2,2,"mat-option",6),e.k0s(),e.DNE(17,rs,2,0,"mat-error",7),e.k0s(),e.j41(18,"mat-form-field",10)(19,"mat-label"),e.EFF(20,"Enter Recon Parameter Description"),e.k0s(),e.nrm(21,"input",11),e.DNE(22,ss,2,0,"mat-error",7),e.DNE(23,ls,2,0,"mat-error",7),e.DNE(24,cs,2,0,"mat-error",7),e.DNE(25,ds,2,0,"mat-error",7),e.k0s(),e.DNE(26,us,9,2,"ng-container",7),e.DNE(27,_s,25,3,"ng-container",7),e.DNE(28,bs,20,1,"ng-container",7),e.DNE(29,ys,8,1,"ng-container",7),e.DNE(30,ws,9,4,"ng-container",7),e.DNE(31,Ts,14,1,"ng-container",7),e.DNE(32,Es,14,1,"ng-container",7),e.DNE(33,Rs,14,1,"ng-container",7),e.DNE(34,As,8,0,"ng-container",7),e.DNE(35,Ns,8,1,"ng-container",7),e.DNE(36,Gs,8,1,"ng-container",7),e.DNE(37,$s,14,1,"ng-container",7),e.DNE(38,Ys,19,1,"ng-container",7),e.DNE(39,zs,19,0,"ng-container",7),e.DNE(40,qs,8,1,"ng-container",7),e.DNE(41,Hs,14,1,"ng-container",7),e.DNE(42,Ws,8,1,"ng-container",7),e.DNE(43,Qs,14,1,"ng-container",7),e.DNE(44,el,13,1,"ng-container",7),e.DNE(45,al,13,3,"ng-container",7),e.DNE(46,sl,12,2,"ng-container",7),e.k0s(),e.j41(47,"button",12),e.bIt("click",function(){return n.addDataSource()}),e.EFF(48,"Add"),e.k0s()()(),e.DNE(49,ll,3,6,"ng-container",7),e.j41(50,"div",13)(51,"button",14),e.bIt("click",function(){return n.onCancel()}),e.EFF(52,"Cancel"),e.k0s(),e.DNE(53,cl,3,4,"ng-container",7),e.DNE(54,ml,3,2,"ng-container",15),e.DNE(55,gl,1,1,"ng-template",null,16,e.C5r),e.k0s()()),2&a){const i=e.sdS(56);let s,l,c,d,m,E;e.R7$(3),e.Y8G("formGroup",n.dataConfigForm),e.R7$(7),e.Y8G("ngForOf",n.sourceDropdownOptions),e.R7$(1),e.Y8G("ngIf",null==(s=n.dataConfigForm.get("datasource_name"))?null:s.hasError("required")),e.R7$(5),e.Y8G("ngForOf",n.configuration),e.R7$(1),e.Y8G("ngIf",null==(l=n.dataConfigForm.get("recon_param_type"))?null:l.hasError("required")),e.R7$(5),e.Y8G("ngIf",null==(c=n.dataConfigForm.get("recon_param_description"))?null:c.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(d=n.dataConfigForm.get("recon_param_description"))?null:d.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(m=n.dataConfigForm.get("recon_param_description"))?null:m.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(E=n.dataConfigForm.get("recon_param_description"))?null:E.hasError("pattern")),e.R7$(1),e.Y8G("ngIf","define_amount"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","apply_operation"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","cut_off"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","fetch_duplicate"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","fetch_reversal"===n.selectedConfig||"consolidated_file"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","fetch_successful_transaction"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","skip_data"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","format_date"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","define_file_date_format"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","format_time"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","define_delimiters"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","alter_filedate"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","format_date_and_time"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","format_subset_date"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","exclude reversal"===n.selectedConfig||"exclude duplicate"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","merge_fields"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","devide_amount_in_integer"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","seperate_fetched_txn"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","split_sequence"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","transaction_entry"===n.selectedConfig||"post_recon_process"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","nullify_transaction"===n.selectedConfig),e.R7$(1),e.Y8G("disabled",n.dataConfigForm.invalid),e.R7$(2),e.Y8G("ngIf",n.DSConfiglength>0||n.showDataconfigTable>0),e.R7$(4),e.Y8G("ngIf",!(null!=n.UpdateDSConfig&&n.UpdateDSConfig.data)),e.R7$(1),e.Y8G("ngIf",1==(null==n.UpdateDSConfig?null:n.UpdateDSConfig.data)&&n.DSConfiglength>0)("ngIfElse",i)}},dependencies:[g.YU,g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,j.TL,ue.fg,_e.VO,he.wT,be.xs,mt.PW],styles:[".row[_ngcontent-%COMP%]{display:flex}.box-content[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:8px;background-color:#fdfcff;padding:15px 12px;margin-bottom:20px;display:grid;width:45%}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:20px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]{width:100%;margin-bottom:43px;display:flex;align-items:center;gap:35px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   #startTime[_ngcontent-%COMP%], .box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   #endTime[_ngcontent-%COMP%]{font-size:18px;padding:12px;outline:none}.box-content[_ngcontent-%COMP%]   .dragging[_ngcontent-%COMP%]{border:2px dashed #2196F3}.box-content[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%]:nth-child(3){color:gray;font-size:12px;font-weight:lighter}  .chip-container{display:inline-block;vertical-align:middle;padding:4px 16px}  .chip{display:inline-block;padding:0 50px;background-color:#e0e0e0;border-radius:25px}.add-btn[_ngcontent-%COMP%]{box-shadow:none;background-color:#fff;border:2px solid #E6E1EE;width:6em;font-size:16px;height:3em;margin-left:1em}.data-conatiner[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:735px;position:relative;height:auto;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px;border:1px solid #ccc}th[_ngcontent-%COMP%]{background:#F9FAFB;font-size:18px;font-weight:500;color:#6b6b6b;border-bottom:1px solid #ddd;padding:8px 20px;height:2em;text-align:left}.mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;padding:0!important}.chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:27px;text-align:center;background-color:#e7e4ff;color:#333;font-size:15px;width:9em;margin:0}#mat-icon[_ngcontent-%COMP%]{color:red;cursor:pointer}#skipData[_ngcontent-%COMP%]{width:22em;margin-left:2em}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.chipSet[_ngcontent-%COMP%]{margin:10px 0 20px}.chipSet[_ngcontent-%COMP%]     .mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:50%;display:flex;flex-wrap:nowrap}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();const hl=["tabgroup"];function _l(o,r){if(1&o){const t=e.RV6();e.j41(0,"span",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG(3);return e.Njj(i.editDataConfig("updateModel",n.data_model_id))}),e.EFF(1,"edit"),e.k0s()}}function Cl(o,r){if(1&o&&(e.j41(0,"div",17)(1,"span"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.datasource_field_name)}}function bl(o,r){if(1&o&&(e.j41(0,"div",14)(1,"div",15)(2,"span"),e.EFF(3,"Field name"),e.k0s()(),e.DNE(4,Cl,3,1,"div",16),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(4),e.Y8G("ngForOf",t.source_fields)}}function xl(o,r){1&o&&(e.j41(0,"div",18),e.EFF(1,"No fields created yet "),e.k0s())}function yl(o,r){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s()()),2&o){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.recon_param_type),e.R7$(2),e.JRh(t.recon_param_description),e.R7$(2),e.JRh(t.recon_param_value_4)}}function Dl(o,r){if(1&o&&(e.qex(0),e.DNE(1,yl,7,3,"tr",0),e.bVm()),2&o){const t=r.$implicit,a=e.XpG(2).$implicit;e.R7$(1),e.Y8G("ngIf",t.recon_param_value_1===a.datasource_id)}}function vl(o,r){if(1&o&&(e.j41(0,"div")(1,"table")(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"Param Type"),e.k0s(),e.j41(6,"th"),e.EFF(7,"Description"),e.k0s(),e.j41(8,"th"),e.EFF(9,"Value"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,Dl,2,1,"ng-container",1),e.k0s()()()),2&o){const t=e.XpG(5);e.R7$(11),e.Y8G("ngForOf",t.Params)}}function Fl(o,r){if(1&o&&(e.j41(0,"div")(1,"mat-expansion-panel",8)(2,"mat-expansion-panel-header")(3,"mat-panel-title")(4,"span",9),e.EFF(5),e.k0s(),e.j41(6,"span",10),e.EFF(7),e.k0s()()(),e.j41(8,"div",11),e.DNE(9,bl,5,1,"div",12),e.DNE(10,xl,2,0,"div",13),e.DNE(11,vl,12,1,"div",0),e.k0s()()()),2&o){const t=r.$implicit,a=e.XpG(4);e.R7$(5),e.JRh(t.datasource_name),e.R7$(2),e.JRh(t.datasource_description),e.R7$(2),e.Y8G("ngIf",t.source_fields&&t.source_fields.length>0),e.R7$(1),e.Y8G("ngIf",t.source_fields&&0==t.source_fields.length),e.R7$(1),e.Y8G("ngIf",a.Params&&0!=a.Params.length)}}function Ml(o,r){if(1&o&&(e.j41(0,"div")(1,"div",2)(2,"div",3)(3,"span",4),e.EFF(4),e.k0s(),e.DNE(5,_l,2,0,"span",5),e.k0s(),e.j41(6,"div",6)(7,"span"),e.EFF(8),e.k0s()(),e.DNE(9,Fl,12,5,"div",1),e.k0s()()),2&o){const t=r.$implicit,a=e.XpG(3);e.R7$(4),e.JRh(t.data_model_name),e.R7$(1),e.Y8G("ngIf",a.hasPermission("Dataconfiguration:edit")||"realm-admin"===a.Role),e.R7$(3),e.JRh(t.data_model_description),e.R7$(1),e.Y8G("ngForOf",t.Datasources)}}function Sl(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,Ml,10,4,"div",1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.reconConfigData)}}function Pl(o,r){if(1&o&&(e.qex(0),e.DNE(1,Sl,2,1,"div",0),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.reconConfigData&&t.reconConfigData.length>0)}}function wl(o,r){1&o&&(e.j41(0,"div")(1,"div",19),e.nrm(2,"img",20),e.j41(3,"div",21)(4,"h2"),e.EFF(5,"Follow 3 easy steps to create a data model"),e.k0s(),e.j41(6,"div",22)(7,"span"),e.EFF(8,"1. Create data model"),e.k0s(),e.j41(9,"span"),e.EFF(10,"2. Select data source type"),e.k0s(),e.j41(11,"span"),e.EFF(12,"3. Configure data"),e.k0s()()()()())}function Ol(o,r){if(1&o&&(e.qex(0),e.DNE(1,wl,13,0,"div",0),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.reconConfigData&&0==t.reconConfigData.length)}}function Tl(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",23)(2,"div",24)(3,"mat-tab-group",25,26)(5,"mat-tab",27)(6,"app-data-config-step1",28),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("dataSourceCountChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateDataSourceCount(n))})("UpdateDataSource",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateDataSource(n))})("CallDatasourceType",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateSecondFunc(n))})("cancelClicked",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCancel())}),e.k0s()(),e.j41(7,"mat-tab",29)(8,"app-data-config-step2",30),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("callFunction",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateCallfunction(n))})("UpdateFileUpload",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateFileUpload(n))}),e.k0s()(),e.j41(9,"mat-tab",31)(10,"app-data-config-step3",32),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("callFunctionTabfour",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateCallfourthfunction(n))})("UpdateDSFields",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateDSFields(n))}),e.k0s()(),e.j41(11,"mat-tab",33)(12,"app-data-config-step4",34),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("callFunctionTabfive",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateCallfifthfunction(n))})("updateDSConfig",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateDSconfig(n))}),e.k0s()(),e.j41(13,"mat-tab",35)(14,"app-data-config-step5",36),e.bIt("TabChnage",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateTabChnage(n))})("callFunctionForParent",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.callMainfunction(n))}),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(6),e.Y8G("childButtonValue",t.updateValue),e.R7$(1),e.Y8G("disabled",t.tab2),e.R7$(1),e.Y8G("dataSourceCount",t.dataSourceCount)("UpdateDataSource",t.updateDatasource)("CallFourfunction",t.updateSecondfunc),e.R7$(1),e.Y8G("disabled",t.tab3),e.R7$(1),e.Y8G("dataSourceCount",t.dataSourceCount)("triggerFunction",t.callfunction)("updateFileupload",t.updateFileupload),e.R7$(1),e.Y8G("disabled",t.tab4),e.R7$(1),e.Y8G("triggerfouthTabFunction",t.callFourfunction)("updateDSFields",t.updateDSfields),e.R7$(1),e.Y8G("disabled",t.tab5),e.R7$(1),e.Y8G("triggerfifthTabFunction",t.callFifthfunction)("UpdateDSConfig",t.updateDSconfg)}}let kl=(()=>{class o{constructor(t,a){this.URMService=t,this.spinner=a,this.showThirdContentChange=new e.bkB,this.showFirstSecondContent=!0,this.showThirdContent=!1,this.dataSourceCount=0,this.tabChange=0,this.tab2=!0,this.tab3=!0,this.tab4=!0,this.tab5=!0}ngOnChanges(t){if(this.spinner.show(),t.activeTabId&&t.activeTabId.currentValue===this.tabId){console.log("Data Configuration APIs called");let a=localStorage.getItem("product_id"),n=localStorage.getItem("application_id"),i=localStorage.getItem("project_id"),l={tenant_id:localStorage.getItem("tenant_id"),product_id:a,application_id:n,project_id:i};this.URMService.getDataConfigByProjectId(l).then(c=>{console.log("getDataConfigByProjectId response",c),c&&200===c.statusCode?(this.reconConfigData=c.data,localStorage.setItem("data_model_id",this.reconConfigData[0]?.data_model_id),this.Params=c?.data[0]?.Params?c?.data[0]?.Params:[],console.log("Params:",this.Params),this.spinner.hide()):(console.error("Invalid API response format:",c),this.spinner.hide())})}t.parentButtonValue&&(console.log("Updated parentButtonValue:",this.parentButtonValue),"showDataConfig"===this.parentButtonValue&&(console.log("show last content..updateModel."),this.showThirdContent=!0,this.showFirstSecondContent=!1,this.spinner.hide()))}ngOnInit(){this.spinner.show(),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.Role=localStorage.getItem("role"),this.tenantId=localStorage.getItem("tenant_id"),this.URMService.getDataConfigByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getDataConfigByProjectId response",a),a&&200===a.statusCode?(this.reconConfigData=a.data,localStorage.setItem("data_model_id",this.reconConfigData[0]?.data_model_id),this.Params=a?.data[0]?.Params?a?.data[0]?.Params:[],console.log("Params:",this.Params),this.spinner.hide()):console.error("Invalid API response format:",a)})}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}editDataConfig(t,a){localStorage.setItem("Data_model_id",a),this.updateValue=t,this.showThirdContent=!0,this.showFirstSecondContent=!1}updateDataSourceCount(t){this.dataSourceCount=t,console.log("Inside main comp count ==>",this.dataSourceCount)}changeIndex(t){console.log("TabNumber===>",t),this.tabGroup.selectedIndex=t}updateTabChnage(t){this.tabChange=t,console.log("Inside main comp tab ==>",this.tabChange),this.changeIndex(t),1===t?this.tab2=!1:2===t?this.tab3=!1:3===t?this.tab4=!1:4===t&&(this.tab5=!1)}updateCallfunction(t){this.callfunction=t}updateCallfourthfunction(t){this.callFourfunction=t}updateCallfifthfunction(t){this.callFifthfunction=t}updateDataSource(t){this.updateDatasource={data:t},console.log("updateDatasource==>",this.updateDatasource)}updateFileUpload(t){console.log("value---\x3e",t),this.updateFileupload={data:t}}updateDSFields(t){this.updateDSfields={data:t}}updateSecondFunc(t){this.updateSecondfunc=t}updateDSconfig(t){this.updateDSconfg={data:t}}onCancel(){this.showThirdContent=!1,this.showFirstSecondContent=!0}callMainfunction(t){this.spinner.show(),console.log("show last content..."),t&&(console.log("call the main api..."),this.URMService.getDataConfigByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getDataConfigByProjectId response",n),n&&200===n.statusCode?(this.reconConfigData=n.data,this.Params=n?.data[0]?.Params?n?.data[0]?.Params:[],this.showThirdContent=!1,this.showFirstSecondContent=!0,this.spinner.hide()):(console.error("Invalid API response format:",n),this.spinner.hide())}).catch(n=>{console.log("Error occured while fetching data config data",n),this.spinner.hide()}))}showSpinner(){this.spinner.show()}hideSpinner(){this.spinner.hide()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(At.ex))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-configuration"]],viewQuery:function(a,n){if(1&a&&e.GBs(hl,5),2&a){let i;e.mGM(i=e.lsd())&&(n.tabGroup=i.first)}},inputs:{parentButtonValue:"parentButtonValue",displayAllData:"displayAllData",activeTabId:"activeTabId",tabId:"tabId"},outputs:{showThirdContentChange:"showThirdContentChange"},features:[e.OA$],decls:3,vars:3,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"data-config"],[1,"data-model"],[1,"data-model-title"],["class","material-symbols-outlined","id","edit-data",3,"click",4,"ngIf"],[1,"data-desc"],["id","edit-data",1,"material-symbols-outlined",3,"click"],[2,"margin-bottom","16px"],[1,"Sourcename"],[1,"DatasourceDescription"],[1,"row"],["class","display-fields-content",4,"ngIf"],["class","NoFields",4,"ngIf"],[1,"display-fields-content"],[1,"title"],["class","fields",4,"ngFor","ngForOf"],[1,"fields"],[1,"NoFields"],[1,"imgage-content"],["src","../../../assets/dataConfig.png",1,"img-fluid"],[1,"headlines"],[1,"rules"],[1,"data-child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"mat-stretch-tabs",2,"padding-top","20px"],["tabgroup",""],["label","1. Create data model"],[3,"childButtonValue","TabChnage","dataSourceCountChange","UpdateDataSource","CallDatasourceType","cancelClicked"],["label","2. Select data source type",3,"disabled"],[3,"dataSourceCount","UpdateDataSource","CallFourfunction","TabChnage","callFunction","UpdateFileUpload"],["label","3. Sample data Upload",3,"disabled"],[3,"dataSourceCount","triggerFunction","updateFileupload","TabChnage","callFunctionTabfour","UpdateDSFields"],["label","4. Add data source fields",3,"disabled"],[3,"triggerfouthTabFunction","updateDSFields","TabChnage","callFunctionTabfive","updateDSConfig"],["label","5. Datasource configuration",3,"disabled"],[3,"triggerfifthTabFunction","UpdateDSConfig","TabChnage","callFunctionForParent"]],template:function(a,n){1&a&&(e.DNE(0,Pl,2,1,"ng-container",0),e.DNE(1,Ol,2,1,"ng-container",0),e.DNE(2,Tl,15,15,"ng-container",0)),2&a&&(e.Y8G("ngIf",n.showFirstSecondContent),e.R7$(1),e.Y8G("ngIf",n.showFirstSecondContent),e.R7$(1),e.Y8G("ngIf",n.showThirdContent))},dependencies:[g.Sq,g.bT,Ne.mq,Ne.T8,Be.GK,Be.Z2,Be.WN,cr,Or,Ur,ns,fl],styles:[".mat-stretch-tabs[_ngcontent-%COMP%]{padding:10px 0;margin-top:20px;display:flex;width:100%;border:none}.data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}.data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}.imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:10em}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.imgage-content[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]{margin-top:2em;margin-left:8em}.imgage-content[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:19px;margin-top:9px;color:#b9b2b2}.data-model[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:10px;margin-top:20px}.data-model[_ngcontent-%COMP%]   .data-model-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.data-desc[_ngcontent-%COMP%]{color:gray;font-size:18px;margin:5px 0 20px}#edit-data[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.mat-expansion-panel-header[_ngcontent-%COMP%]:not([aria-disabled=true]){cursor:pointer;height:4rem!important}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:last-of-type{margin-top:30px!important;width:60%!important;border-radius:10px}.mat-expansion-panel-header-title[_ngcontent-%COMP%], .mat-expansion-panel-header-description[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}.mat-expansion-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #ccc}  .mat-expansion-panel-body{padding:0 12px!important;margin:1em}.row[_ngcontent-%COMP%]{display:flex}table[_ngcontent-%COMP%]{margin-left:2em;width:50rem;border-collapse:collapse}th[_ngcontent-%COMP%]{background-color:#f2f2f2;border:1px solid #dddddd;padding:8px;text-align:left}td[_ngcontent-%COMP%]{border:1px solid #dddddd;padding:8px}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}tr[_ngcontent-%COMP%]:hover{background-color:#ddd}.accord-title[_ngcontent-%COMP%]{font-size:19px;font-weight:500}.accord-desc[_ngcontent-%COMP%]{font-size:19px;font-weight:400;width:21%;color:gray}.mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 12px!important}.Sourcename[_ngcontent-%COMP%]{background:#E4D4FF;display:block;width:12%;text-align:center;padding:5px 0;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.DatasourceDescription[_ngcontent-%COMP%]{margin-left:1em;color:#686868}.mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){border:1px solid #e0e3e8;box-shadow:none;border-radius:10px}.display-fields-content[_ngcontent-%COMP%]{border:1px solid #E6E6E6;border-bottom:none;border-radius:10px 10px 0 0;min-width:10%;width:12%;height:0%}.display-fields-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid #E6E6E6;border-radius:9px 9px 0 0;padding:8px;background:#E6E6E6}.display-fields-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.display-fields-content[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #E6E6E6}.NoFields[_ngcontent-%COMP%]{color:gray;font-size:20px}"]})}}return o})();const El=["fromDate"];let Il=(()=>{class o{constructor(t,a,n,i,s,l){this.URMService=t,this.dialog=a,this.renderer=n,this.snackBar=i,this.notify=s,this.spinnerService=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.isDrawerOpen=!1,this.rowData=[],this.showTextIfFailed=!1,this.chipColor="black",this.notRollbacked=!0,this.rowHeight=55,this.files=["file1.txt","file2.txt","file3.txt","file4.txt"],this.today=new Date,this.colDefs=[{field:"voucher_name",headerName:"File",width:400,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"voucher_type",headerName:"Voucher type",width:300},{headerName:"Uploaded on",cellRenderer:c=>(console.log("Date Params",c.data.updated_on),c.data.updated_on?new Date(c.data.updated_on).toLocaleString().slice(0,20).replace("T"," "):""),width:300},{headerName:"Generation status",field:"voucher_status",cellRenderer:c=>{const d=c.value;console.log("voucher status",d);let m="";return"generated"!=d||!this.hasPermission("TTUM:view")&&"realm-admin"!==this.userRole?"failed"==d?m="status-red":"Sent for approval"==d?m="status-yellow":"approved"==d&&(m="status-green"):m="status-green",`<div class="${m}">${d}</div>`},minWidth:200},{headerName:"Approval_status",field:"Approval_status",cellRenderer:c=>{console.log("ApprovalSttaus",c);const d=c.data.voucher_status;let m="",E="",U=document.createElement("div"),ie="";if("generated"!==d||!this.hasPermission("TTUM:create")&&"realm-admin"!==this.userRole)if("Sent for approval"!==d||!this.hasPermission("TTUM:edit")&&"realm-admin"!==this.userRole)"failed"===d&&(this.hasPermission("TTUM:view")||"realm-admin"===this.userRole)&&(E="status-grey",m="Sent for approval",ie=`${m} <span class="material-symbols-outlined" style="font-size:18px;margin-left:10px">done</span>`,U.classList.add(E),U.innerHTML=ie);else{const K=document.createElement("button");K.textContent="Approve",K.style.color="#1D1B4B",K.style.border="2px solid #9351FB",K.style.backgroundColor="#ffffff",K.style.borderRadius="8px",K.style.margin="11px",K.style.cursor="pointer",K.style.width="35%",K.style.height="30px",K.onclick=()=>{this.onBtnActionClick(c.data,"Approve")};const oe=document.createElement("button");oe.textContent="Reject",oe.style.backgroundColor="#ffffff",oe.style.border="2px solid #747474",oe.style.borderRadius="8px",oe.style.margin="11px",oe.style.cursor="pointer",oe.style.width="35%",oe.style.height="30px",oe.onclick=()=>{this.onBtnActionClick(c.data,"Reject")},U.appendChild(K),U.appendChild(oe),U.querySelectorAll(".approve-btn").forEach(de=>{de.addEventListener("click",()=>{this.onBtnActionClick(c.data,"Approve")})}),U.querySelectorAll(".reject-btn").forEach(de=>{de.addEventListener("click",()=>{this.onBtnActionClick(c.data,"Reject")})})}else{const K=document.createElement("button");K.textContent="send for approval",K.style.color="#1D1B4B",K.style.border="2px solid #9351FB",K.style.backgroundColor="#ffffff",K.style.borderRadius="8px",K.style.margin="9px",K.style.cursor="pointer",K.style.width="70%",K.style.height="30px",K.style.fontSize="16px",K.onclick=()=>{this.onApproveClick(c.data)};const oe=document.createElement("span");oe.classList.add("material-symbols-outlined"),oe.style.fontSize="18px",oe.style.marginLeft="10px";const de=document.createTextNode("done");oe.appendChild(de),K.appendChild(oe),U.appendChild(K),U.querySelectorAll(".approve-btn").forEach(De=>{De.addEventListener("click",()=>{this.onApproveClick(c.data)})})}return U},minWidth:300},{headerName:"",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");m.classList.add("material-symbols-outlined","toggle-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.opacity="0.8",m.style.fontSize="19px",m.style.color="#605B67",m.textContent="visibility",m.addEventListener("click",this.ViewClicked.bind(this,c));const E=document.createElement("span");return E.classList.add("material-symbols-outlined","delete-icon"),E.style.cursor="pointer",E.style.marginRight="8px",E.style.fontSize="19px",E.style.opacity="0.8",E.style.color="#605B67",E.textContent="download",E.addEventListener("click",this.downloadClicked.bind(this,c.data)),d.appendChild(m),d.appendChild(E),d},minWidth:200}],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,cellHeight:60}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("TTUM APIs called"),this.spinnerService.hide())}ngOnInit(){this.userRole=localStorage.getItem("role"),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ViewClicked(t){console.log("ViewClicked",t),this.openDrawer(t.data)}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"generated"==this.datainfo.voucher_status||"approved"==this.datainfo.voucher_status?this.chipColor="#17B01D":"failed"==this.datainfo.voucher_status?(this.chipColor="#DE1306",this.showTextIfFailed=!0):"Sent for approval"==this.datainfo.voucher_status&&(this.chipColor="#FDB13F",this.showTextIfFailed=!1),console.log("this.chipColor",this.chipColor)}onCellClicked(t){t.data.clickable||t.event.preventDefault()}getTTUMgenerationData(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getTTUMgenerationData({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{if(console.log("getVouchergenerationData response =>",n),n&&200===n.statusCode){let i=n.data;if(console.log("tableDataToShow",i),i.length>0){let s=[];(this.hasPermission("TTUM:view")||"realm-admin"===this.userRole)&&(s=i,this.rowData=[...s],t.close())}else this.notify.showErrorToast(`No TTUMs found for date ${this.fromDateFormatted}!`,"Close"),t.close()}else this.notify.showErrorToast(n.errorMessage,"Close"),t.close()}).catch(n=>{console.log("Error occured while fetching ttums",n),t.close()})}onApproveClick(t){console.log("inside this File to Approve:",t);var a=t.voucher_id;console.log("Inside approval for",a),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:a},{voucher_status:"Sent for approval"}).then(s=>{console.log("updateVoucherStatus response =>",s),s&&200===s.statusCode||201===s.statusCode?(this.notify.showSuccessToast("Voucher approved successfully!","Close"),this.getTTUMgenerationData()):this.notify.showErrorToast(s.errorMessage,"Close")}).catch(s=>{console.log("Error occured while updating voucher",s)})}onBtnActionClick(t,a){console.log("inside this File Name:",t,a);const n=this.dialog.open(Se.r,{data:{action:a,content:""}});n.componentInstance.onClickButton.subscribe(i=>{if(console.log("Received reason from dialog:",i),i&&"Approve"==a){n.close(!0);var s=t.voucher_id;console.log("Inside approval for",s),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:s},{voucher_status:"approved"}).then(d=>{console.log("Response from update voucher status api",d),(d.message="Voucher Status updated Success")&&(this.showSuccessToast("Voucher approved"),setTimeout(()=>{this.getTTUMgenerationData()},2e3))})}else n.close(!0),s=t.voucher_id,console.log("Inside approval for",s),this.URMService.updateVoucherStatus({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,voucher_id:s},{voucher_status:"failed"}).then(E=>{console.log("Response from update voucher status api",E),(E.message="Voucher Status updated Success")&&(this.showSuccessToast("Voucher rejected"),setTimeout(()=>{this.getTTUMgenerationData()},2e3))})})}downloadClicked(t){const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});let n;console.log("Download Click",t,this.fromDateFormatted),"adjustment"==t.voucher_type||"Adjustment"==t.voucher_type?this.ttumType="adjustment":"TCC"==t.voucher_type||"tcc"==t.voucher_type?this.ttumType="tcc":"remitter recovery"==t.voucher_type||"Remitter recovery"==t.voucher_type?this.ttumType="remitterrecovery":"beneficiary recovery"==t.voucher_type||"Beneficiary recovery"==t.voucher_type?this.ttumType="beneficiaryrecovery":"remitter unclaimed"==t.voucher_type||"Remitter unclaimed"==t.voucher_type?this.ttumType="remitterunclaimed":("beneficiary unclaimed"==t.voucher_type||"Beneficiary unclaimed"==t.voucher_type)&&(this.ttumType="beneficiaryunclaimed"),this.fileName=t.voucher_name,"approved"===t.voucher_status?(n="txt",this.URMService.downloadTTUMS({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,download_type:n,ttumType:this.ttumType}).then(s=>{console.log("Response in settlement voucherdata",s);let l=window.navigator;console.log("New Variable",l);const c=new Blob([s],{type:"text/plain;charset=utf-8"});if(console.log("newBlob",c),l&&l.msSaveOrOpenBlob)l.msSaveOrOpenBlob(c,`${t.voucher_type}_TTUM_${this.fromDateFormatted}.txt`),a.close();else{let m=window.URL.createObjectURL(c);var d=document.createElement("a");d.download=`${t.voucher_type}_TTUM_${this.fromDateFormatted}.txt`,d.href=m,document.body.appendChild(d),d.click(),document.body.removeChild(d),a.close()}}).catch(s=>{console.log("error =>",s),a.close()})):(n="xlsx",console.log("Inside voucher_status",t.voucher_status,"excel"),this.URMService.downloadTTUMS({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,download_type:n,ttumType:this.ttumType}).then(s=>{console.log("Response in settlement voucherdata",s);let l=window.navigator;console.log("New Varaiable",l);const c=new Blob([s],{type:"application/vnd.ms-excel;charset=utf-8"});if(console.log("newBlob",c),l&&l.msSaveOrOpenBlob)l.msSaveOrOpenBlob(c,`${t.voucher_type}_TTUM_${this.fromDateFormatted}.xlsx`),a.close();else{let m=window.URL.createObjectURL(c);var d=document.createElement("a");d.download=`${t.voucher_type}_TTUM_${this.fromDateFormatted}.xlsx`,d.href=m,document.body.appendChild(d),d.click(),document.body.removeChild(d),a.close()}}).catch(s=>{console.log("error =>",s),a.close()}))}BulkDownload(){this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"question-box",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("download type =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.bulkdownloadTTUMS({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,type:a}).then(s=>{console.log("bulkdownloadInwardOutwardSummary Response =>",s),s&&200===s.statusCode?(console.log("Inside response"),this.notify.showSuccessToast("TTUMs uploaded on specified server!","Close"),n.close()):(this.notify.showErrorToast(s.errorMessage,"Close"),n.close())}).catch(s=>{console.log("error occurred in bulkdownloadTTUMS",s),404==s.error.statusCode&&this.notify.showErrorToast(`No TTUMs found for date ${this.fromDateFormatted}!`,"Close"),n.close()})}})}openDialogForRollback(){this.closeDrawer();const t=new F.ru;t.width="700px",t.height="505px",t.data={FilesToSelect:this.files},t.disableClose=!0,console.log("dialogConfigData",t),this.dialog.open(xn,t).afterClosed().subscribe(n=>{console.log("collection resp",n),this.notRollbacked=!0})}onGridReady(t){this.gridApi=t.api,this.params=t}openDrawer(t){this.isDrawerOpen=!0,this.selectedRowData=t,console.log(this.selectedRowData),this.notRollbacked=!1}closeDrawer(){this.isDrawerOpen=!1,this.selectedRowData=null}showSuccessToast(t){this.snackBar.open(t,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(qt.UG),e.rXU(Ce.J),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ttum"]],viewQuery:function(a,n){if(1&a&&e.GBs(El,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:15,vars:7,consts:[[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],["matTooltip","Upload all TTUM files on specified server","matTooltipPosition","above",1,"apply-btn",3,"click"],[1,"ag-grid-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowHeight","rowData","columnDefs","gridOptions","rowClicked","gridReady"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Date"),e.k0s(),e.j41(4,"input",2,3),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(6,"mat-datepicker-toggle",4)(7,"mat-datepicker",null,5),e.k0s(),e.j41(9,"button",6),e.bIt("click",function(){return n.getTTUMgenerationData()}),e.EFF(10," Apply"),e.k0s(),e.j41(11,"button",7),e.bIt("click",function(){return n.BulkDownload()}),e.EFF(12,"Upload TTUMs"),e.k0s()(),e.j41(13,"div",8)(14,"ag-grid-angular",9),e.bIt("rowClicked",function(s){return n.rowView(s)})("rowClicked",function(s){return n.onCellClicked(s)})("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()),2&a){const i=e.sdS(8);e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(8),e.Y8G("rowHeight",n.rowHeight)("rowData",n.rowData)("columnDefs",n.colDefs)("gridOptions",n.gridOptions)}},dependencies:[j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs,ke.oV],styles:['.inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;margin-bottom:10px;gap:15px}  .ag-center-cols-container{height:60px}.apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:52px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px}  .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .status-blue{color:#000!important;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:120px!important;padding:6px,6px,6px,8px;border-radius:8px!important;border:1.5px solid #9351FB!important}  .status-yellow{color:#fdb13f;border:2px solid #FDB13F;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80%!important}  .status-blue{color:#334fe0;border:2px solid #334FE0;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .approve-btn{color:#1d1b4b;border:2px solid #334FE0;background-color:#fff;text-align:center;padding:10px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:10px;width:80px}  .reject-btn{color:#747474;background-color:#fff;border:1px solid #747474;text-align:center;padding:10px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:10px;width:80px}  .status-grey{color:#747474;border:1px solid #747474;text-align:center;padding:8px 12px;border-radius:8px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:121px}  .mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height: 0px !important;--mdc-filled-text-field-focus-active-indicator-height: 0px !important;--mdc-filled-text-field-container-shape: 4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}  .mdc-text-field--filled:not(.mdc-text-field--disabled){border:1px solid #ccc;border-radius:10px;margin:-10px;background:transparent!important}.drawer[_ngcontent-%COMP%]{position:fixed;top:0;right:-100%;height:100vh;width:720px;background-color:#fff;box-shadow:0 0 5px #0000004d;z-index:1000;overflow-y:auto}.drawer.open[_ngcontent-%COMP%]{right:0}.drawer-content[_ngcontent-%COMP%]{height:auto}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #ccc}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;cursor:pointer;font-weight:600}.drawer-content[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:30px;letter-spacing:.5px;font-weight:400}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]{padding:20px}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .data-userDetails[_ngcontent-%COMP%], .drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .light-text[_ngcontent-%COMP%]{color:#747474;font-weight:500;font-size:16px;margin-bottom:-20px}.drawer-content[_ngcontent-%COMP%]   .data-show[_ngcontent-%COMP%]   .bind-data[_ngcontent-%COMP%]{font-size:15px;margin-left:220px;color:#000;font-weight:400;font-size:16px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]{padding:20px;border:1px solid #D0D5DD;margin-left:20px;margin-right:80px;border-radius:8px;margin-top:25px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]   .light-text[_ngcontent-%COMP%]{color:#747474;font-weight:500;font-size:16px;margin-bottom:-20px}.drawer-content[_ngcontent-%COMP%]   .voucher-data[_ngcontent-%COMP%]   .bind-data[_ngcontent-%COMP%]{font-size:15px;margin-left:220px;color:#000;font-weight:400;font-size:16px}.para-design[_ngcontent-%COMP%]{border-radius:16px;margin-left:220px;text-align:center;padding:2px 12px}.approval-design[_ngcontent-%COMP%]{margin-left:220px;text-align:center;padding:2px 12px;border-radius:16px}.description[_ngcontent-%COMP%]{margin-left:10px}.description[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-left:10px;font-size:18px;font-weight:700}.content[_ngcontent-%COMP%]{margin-left:20px;margin-right:80px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.box[_ngcontent-%COMP%]{margin-left:22px;margin-right:80px;margin-top:35px;padding:10px;border:1px solid #D12F2F;font-size:16px;color:#1d1b4b;font-weight:400;border-radius:8px;border-left:24px solid #D12F2F}.create_btns[_ngcontent-%COMP%]{margin-top:3rem;display:flex;gap:1rem;margin-left:20px}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:8px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b;font-size:18px;font-weight:400;line-height:24px}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;font-size:18px;font-weight:400;line-height:24px}.disabled-button[_ngcontent-%COMP%]{background-color:#ccc;cursor:not-allowed}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;border-radius:20px;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#242424}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}  .ag-header-cell-sortable .ag-header-cell-label{cursor:pointer;font-size:16px}  .ag-center-cols-viewport{font-size:16px}']})}}return o})();const Ao=["fromDate"];function Rl(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",17)(1,"mat-form-field",4)(2,"mat-label"),e.EFF(3),e.k0s(),e.nrm(4,"input",18),e.k0s(),e.j41(5,"span",19),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.removeField(i.key))}),e.EFF(6,"delete"),e.k0s()()}if(2&o){const t=r.$implicit;e.R7$(3),e.SpI("Enter ",t.key,""),e.R7$(1),e.Y8G("formControlName",t.key)}}function Al(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}function jl(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",21)(1,"ag-grid-angular",22),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()}if(2&o){const t=r.$implicit,a=e.XpG();e.R7$(1),e.Y8G("rowData",t)("columnDefs",a.getColumnDefs(t))("gridOptions",a.gridOptions)("rowHeight",a.rowHeight)("pagination",!0)("paginationPageSize",a.paginationPageSize)("enableRangeSelection",!0)("copyHeadersToClipboard",!0)("defaultColDef",a.defaultColDef)}}let Nl=(()=>{class o{constructor(t,a,n,i,s,l){this.URMService=t,this.notify=a,this.dialog=n,this.renderer=i,this.formBuilder=s,this.spinnerService=l,this.datePipe=new g.vh("en-US"),this.paginationPageSize=20,this.rowData=[],this.transactionArray=[],this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.rowHeight=60,this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.tranForm=this.formBuilder.group({dynamicFields:this.formBuilder.group({value1:[""]})}),this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60,suppressCopyRowsToClipboard:!0,copyHeadersToClipboard:!0}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("transaction search APIs called"),this.spinnerService.hide())}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy")}get dynamicFields(){return this.tranForm.get("dynamicFields")}addField(){const a=`value${Object.keys(this.dynamicFields.controls).length+1}`;this.dynamicFields.addControl(a,this.formBuilder.control(""))}removeField(t){this.dynamicFields.removeControl(t)}ViewClicked(t){}downloadClicked(t){}selectedSource(t){console.log("selectedSource",t),this.datasourceId=t}searchTransaction(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("searchTransaction ====>",this.tranForm.value);const a=this.tranForm.get("dynamicFields")?.value||{};let n={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,transaction_date:this.fromDateFormatted,...a};this.URMService.getTranData(n).then(i=>{console.log("getTranData response =>",i),i&&200===i.statusCode?(this.transactionArray=i.data,this.processResponse(this.transactionArray),t.close()):(this.transactionArray=[],this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("error =>",i),this.transactionArray=[],t.close()})}processResponse(t){this.transactionArray=t}getColumnDefs(t){return console.log("getColumnDefs data",t),t&&0!==t.length?Object.keys(t[0]).map(a=>({headerName:a,field:a})):[]}onGridReady(t){t.api.sizeColumnsToFit()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(p.ok),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-transaction-search"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Ao,5),e.GBs(Ao,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:27,vars:9,consts:[[1,"txn-search-container"],[3,"formGroup"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["formGroupName","dynamicFields",1,"dynamicFields"],["class","field",4,"ngFor","ngForOf"],["matTooltip","Add input field","id","addInput",1,"material-symbols-outlined",3,"click"],[1,"search-btn"],[1,"apply-btn",3,"click"],[1,"download-select"],[3,"value",4,"ngFor","ngForOf"],["class","ag-table",4,"ngFor","ngForOf"],[1,"field"],["matInput","",3,"formControlName"],["matTooltip","Remove input field","id","removeInput",1,"material-symbols-outlined",3,"click"],[3,"value"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","40vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","enableRangeSelection","copyHeadersToClipboard","defaultColDef","gridReady"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),e.EFF(6,"Date"),e.k0s(),e.j41(7,"input",5,6),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(9,"mat-datepicker-toggle",7)(10,"mat-datepicker",null,8),e.k0s()(),e.j41(12,"div",9),e.DNE(13,Rl,7,2,"div",10),e.nI1(14,"keyvalue"),e.k0s(),e.j41(15,"span",11),e.bIt("click",function(){return n.addField()}),e.EFF(16,"add_circle"),e.k0s(),e.j41(17,"div",12)(18,"button",13),e.bIt("click",function(){return n.searchTransaction()}),e.EFF(19,"Transaction search"),e.k0s()(),e.j41(20,"div",14)(21,"mat-form-field",4)(22,"mat-label"),e.EFF(23,"Download file"),e.k0s(),e.j41(24,"mat-select"),e.DNE(25,Al,4,2,"mat-option",15),e.k0s()()()()(),e.DNE(26,jl,2,9,"div",16),e.k0s()),2&a){const i=e.sdS(11);e.R7$(1),e.Y8G("formGroup",n.tranForm),e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(4),e.Y8G("ngForOf",e.bMT(14,7,n.dynamicFields.controls)),e.R7$(12),e.Y8G("ngForOf",n.downloads),e.R7$(1),e.Y8G("ngForOf",n.transactionArray)}},dependencies:[g.Sq,Me.An,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,p.$R,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV,g.lG],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;margin-bottom:10px;gap:15px}.action-buttons[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:18px 0;font-size:16px;width:185px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:22px}.action-buttons[_ngcontent-%COMP%]   .dynamicFields[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.action-buttons[_ngcontent-%COMP%]   .dynamicFields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.action-buttons[_ngcontent-%COMP%]   #addInput[_ngcontent-%COMP%]{font-weight:300;color:gray;cursor:pointer;font-size:28px;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   #removeInput[_ngcontent-%COMP%]{font-weight:300;color:red;padding:6px;cursor:pointer;font-size:28px;margin-bottom:22px}.ag-table[_ngcontent-%COMP%]{margin-top:20px}"]})}}return o})();var we=P(1626);const Bl=["fromDate"];function Gl(o,r){if(1&o&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t.name)}}function Vl(o,r){if(1&o&&(e.j41(0,"mat-option",14),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.value)}}function $l(o,r){1&o&&(e.j41(0,"div",15),e.nrm(1,"img",16),e.j41(2,"div",17)(3,"h2"),e.EFF(4,"Please select the report type to view the desired data."),e.k0s()()())}function Ul(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",18)(1,"ag-grid-angular",19),e.bIt("rowClicked",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.rowView(n))})("rowClicked",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onCellClicked(n))})("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("rowHeight",t.rowHeight)("rowData",t.rowData)("columnDefs",t.colDefs)("gridOptions",t.gridOptions)}}let Yl=(()=>{class o{constructor(t,a,n,i,s,l,c,d,m){this.URMService=t,this.route=a,this.dialog=n,this.http=i,this.snackBar=s,this.notify=l,this.renderer=c,this.commonService=d,this.spinnerService=m,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.rowHeight=55,this.rowData=[],this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.reports=[{value:"Unmatched report"},{value:"Matched report"},{value:"Force matched report"}],this.colDefs=[{field:"Recon name",headerName:"Recon name",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Date",headerName:"Date",flex:1},{field:"Total transactions",headerName:"Total transactions",flex:1},{field:"Unmatched transactions",headerName:"Unmatched transactions",flex:1},{field:"Amount",headerName:"Amount",flex:1}],this.showTable=!1,this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,cellHeight:60}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("reports APIs called"),this.URMService.getSubCombination({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getSubCombination result",n),this.files=n.data.map(i=>({value:i.recon_combination_id,name:i.recon_combination_desc})),this.spinnerService.hide()}).catch(n=>{console.log("getSubCombination error =>",n),this.spinnerService.hide()}))}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.projectType=localStorage.getItem("project_type"),this.tenantId=localStorage.getItem("tenant_id")}rowView(t){}onCellClicked(t){t.data.clickable||t.event.preventDefault()}onGridReady(t){}updateSelection(t){console.log("selectedCombination",this.selectedCombination)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"yyyy-MM-dd")}setElementValue(t,a){const n=this.datePipe.transform(a,"yyyy-MM-dd");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("From Date:",this.fromDateFormatted)}selectedCategory(t){console.log("selected category:",t),this.Category=t.value}fetchBtnClick(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});"Force matched report"==this.Category?this.URMService.generateReports({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,datasource_name:this.selectedCombination.name,creation_date:this.fromDateFormatted,project_type:this.projectType}).then(n=>{console.log("download response",n),window;const s=new Blob([n],{type:"application/vnd.ms-excel;charset=utf-8"});let l=window.URL.createObjectURL(s);var c=document.createElement("a");c.download=`${this.selectedCombination.name}_Force Matched${Date.now()}.xlsx`,c.href=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),this.notify.showSuccessToast("Force matched report generated!","Close"),t.close()}).catch(n=>{console.log("error occured generating inward report",n),t.close()}):"Matched report"==this.Category?this.URMService.generateReports({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,datasource_name:this.selectedCombination.name,creation_date:this.fromDateFormatted,project_type:this.projectType,status:this.Category}).then(n=>{console.log("getReportsData response ==>",n),this.showTable=!0;let i=window.navigator;console.log("New Varaiable",i);const s=new Blob([n],{type:"application/vnd.ms-excel;charset=utf-8"});if(console.log("newBlob",s),i&&i.msSaveOrOpenBlob)i.msSaveOrOpenBlob(s,`${this.selectedCombination.name}_Matched_${this.fromDateFormatted}.xlsx`);else{let c=window.URL.createObjectURL(s);var l=document.createElement("a");l.download=`${this.selectedCombination.name}_Matched_${this.fromDateFormatted}.xlsx`,l.href=c,document.body.appendChild(l),l.click(),document.body.removeChild(l),t.close()}}).catch(n=>{console.log("getReportsData Error ==>",n),t.close()}):"Unmatched report"==this.Category&&this.URMService.generateReports({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,datasource_name:this.selectedCombination.name,creation_date:this.fromDateFormatted,project_type:this.projectType,status:this.Category}).then(n=>{console.log("getReportsData response ==>",n),this.showTable=!0;let i=window.navigator;console.log("New Varaiable",i);const s=new Blob([n],{type:"application/vnd.ms-excel;charset=utf-8"});if(console.log("newBlob",s),i&&i.msSaveOrOpenBlob)i.msSaveOrOpenBlob(s,`${this.selectedCombination.name}_Unmatched_${this.fromDateFormatted}.xlsx`);else{let c=window.URL.createObjectURL(s);var l=document.createElement("a");l.download=`${this.selectedCombination.name}_Unmatched_${this.fromDateFormatted}.xlsx`,l.href=c,document.body.appendChild(l),l.click(),document.body.removeChild(l),t.close()}}).catch(n=>{console.log("getReportsData Error ==>",n),t.close()})}BulkDownload(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a=this.fromDateFormatted.split("-");console.log("dateParts",a);let n=`${a[2]}-${a[1]}-${a[0]}`;console.log("convertDate",n),this.URMService.bulkDownloadReports({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,creation_date:n}).then(s=>{console.log("bulkdownloadInwardOutwardSummary Response =>",s),this.notify.showSuccessToast("Reports uploading will take upto 10 to 15 minutes!","Close"),t.close()}).catch(s=>{console.log("error occurred in bulkDownloadReports",s),404==s.error.statusCode&&this.notify.showErrorToast(`No summary found for date ${this.fromDateFormatted}!`,"Close"),t.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(b.nX),e.rXU(F.bZ),e.rXU(we.Qq),e.rXU(qt.UG),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(St.w),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-reports"]],viewQuery:function(a,n){if(1&a&&e.GBs(Bl,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:26,vars:9,consts:[[1,"inputs-buttons"],["appearance","outline","id","report"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline"],["matInput","","placeholder","From date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["type","submit",1,"report-btn",3,"click"],["type","submit","matTooltip","Upload all report files on specified server","matTooltipPosition","above",1,"report-btn",3,"click"],[1,"ng-container"],["class","imgage-content",4,"ngIf"],["class","ag-grid-table",4,"ngIf"],[3,"value"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"],[1,"ag-grid-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowHeight","rowData","columnDefs","gridOptions","rowClicked","gridReady"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Select combination"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(s){return n.selectedCombination=s})("selectionChange",function(s){return n.updateSelection(s)}),e.DNE(5,Gl,2,2,"mat-option",3),e.k0s()(),e.j41(6,"mat-form-field",4)(7,"mat-label"),e.EFF(8,"Date"),e.k0s(),e.j41(9,"input",5,6),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",7)(12,"mat-datepicker",null,8),e.k0s(),e.j41(14,"mat-form-field",4)(15,"mat-label"),e.EFF(16,"Select report type"),e.k0s(),e.j41(17,"mat-select",2),e.bIt("valueChange",function(s){return n.selectedReport=s})("selectionChange",function(s){return n.selectedCategory(s)}),e.DNE(18,Vl,2,2,"mat-option",3),e.k0s()(),e.j41(19,"button",9),e.bIt("click",function(){return n.fetchBtnClick()}),e.EFF(20,"Fetch report"),e.k0s(),e.j41(21,"button",10),e.bIt("click",function(){return n.BulkDownload()}),e.EFF(22,"Upload reports"),e.k0s()(),e.qex(23,11),e.DNE(24,$l,5,0,"div",12),e.bVm(),e.DNE(25,Ul,2,4,"div",13)),2&a){const i=e.sdS(13);e.R7$(4),e.Y8G("value",n.selectedCombination),e.R7$(1),e.Y8G("ngForOf",n.files),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("value",n.selectedReport),e.R7$(1),e.Y8G("ngForOf",n.reports),e.R7$(6),e.Y8G("ngIf",!n.showTable),e.R7$(1),e.Y8G("ngIf",n.showTable)}},dependencies:[g.Sq,g.bT,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:20px;display:flex;justify-content:center;align-items:center;padding:10px;font-weight:400;color:#000}.report-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}.imgage-content[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20px;height:70vh;margin:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.headlines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#report[_ngcontent-%COMP%]{width:20em}.inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:2em;gap:15px;margin-right:30px}  .mat-mdc-form-field-infix.ng-tns-c1205077789-4{padding-top:14px!important}  .mat-mdc-form-field-infix.ng-tns-c1205077789-5{padding-top:17px!important;padding-bottom:12px!important}  .mat-mdc-select-arrow svg{top:120%!important}"]})}}return o})();const zl=["fromDate"],Xl=["toDate"];let ql=(()=>{class o{constructor(t,a){this.dialog=t,this.spinnerService=a,this.datePipe=new g.vh("en-US")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("File upload APIs called"),this.spinnerService.hide())}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}openDialogForUpload(){const t=new F.ru;t.disableClose=!0,t.data={upload:"single"},console.log("dialogConfigData",t),this.dialog.open(Io,t).afterClosed().subscribe(n=>{})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-file-upload"]],viewQuery:function(a,n){if(1&a&&(e.GBs(zl,5),e.GBs(Xl,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDatepicker=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:9,vars:0,consts:[[1,"ng-container"],[1,"imgage-content"],["src","../../../assets/dataConfig.png",1,"img-fluid"],[1,"headlines"],[1,"action-btns"],["matTooltip","Upload individual files",1,"single-apply-btn",3,"click"]],template:function(a,n){1&a&&(e.qex(0,0),e.j41(1,"div",1),e.nrm(2,"img",2),e.j41(3,"div",3)(4,"h2"),e.EFF(5,"Manually upload data files with one click"),e.k0s(),e.j41(6,"div",4)(7,"button",5),e.bIt("click",function(){return n.openDialogForUpload()}),e.EFF(8,"Single Upload"),e.k0s()()()(),e.bVm())},dependencies:[ke.oV],styles:[".imgage-content[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20px;height:68vh;margin:70px 20px 20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.imgage-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:350;color:gray}.imgage-content[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px}.imgage-content[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   .bulk-apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}.imgage-content[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   .single-apply-btn[_ngcontent-%COMP%]{background:transparent;color:gray;border:3px solid #ccc;width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;transition:.8s ease;cursor:pointer}.imgage-content[_ngcontent-%COMP%]   .action-btns[_ngcontent-%COMP%]   .single-apply-btn[_ngcontent-%COMP%]:hover{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}"]})}}return o})();const Ll=["fromDate"],Hl=function(o,r){return{"in-progress-icon":o,"completed-icon":r}};function Jl(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",20)(2,"span",21),e.EFF(3,"check_circle"),e.k0s(),e.j41(4,"span",22),e.EFF(5),e.k0s()(),e.bVm()),2&o){const t=r.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("ngClass",e.l_i(2,Hl,a.hasInProgress(t.Audit),!a.hasInProgress(t.Audit))),e.R7$(3),e.JRh(t.StepName)}}const Wl=function(o,r,t){return{"material-symbols-outlined":!0,"completed-icon":o,"in-progress-icon":r,"failed-icon":t}};function Zl(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",26)(2,"div",27)(3,"span",28),e.EFF(4,"check_circle"),e.k0s()(),e.nrm(5,"div",29),e.j41(6,"div",30)(7,"span",31),e.EFF(8),e.k0s(),e.j41(9,"span",32),e.EFF(10),e.k0s()()(),e.bVm()),2&o){const t=r.$implicit,a=r.last;e.R7$(3),e.FS9("matTooltip","Completed"===t.status?"Completed":"In Progress"===t.status?"In Progress":"Failed"),e.Y8G("ngClass",e.sMw(6,Wl,"Completed"===t.status,"In Progress"===t.status,"Failed"===t.status)),e.R7$(2),e.AVh("Nestlast",a),e.R7$(3),e.JRh(t.remark),e.R7$(2),e.JRh(t.timestamp)}}const Ql=function(o,r,t){return{"failed-icon":o,"in-progress-icon":r,"completed-icon":t}};function Kl(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",23)(2,"mat-accordion")(3,"mat-expansion-panel",12),e.bIt("opened",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.panelOpenState=!0)})("closed",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.panelOpenState=!1)}),e.j41(4,"mat-expansion-panel-header")(5,"mat-panel-title")(6,"div",20)(7,"span",24),e.EFF(8,"check_circle"),e.k0s(),e.j41(9,"span",22),e.EFF(10),e.k0s()()()(),e.DNE(11,Zl,11,10,"ng-container",11),e.k0s()()(),e.nrm(12,"div",25),e.bVm()}if(2&o){const t=r.$implicit,a=r.last,n=e.XpG(3);e.R7$(7),e.FS9("matTooltip",n.getStatusTooltip(t.Audit)),e.Y8G("ngClass",e.sMw(6,Ql,n.hasFailed(t.Audit),n.hasInProgress(t.Audit)&&!n.hasFailed(t.Audit),!n.hasInProgress(t.Audit)&&!n.hasFailed(t.Audit))),e.R7$(3),e.JRh(t.StepName),e.R7$(1),e.Y8G("ngForOf",t.Audit),e.R7$(1),e.AVh("last",a)}}function ec(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-accordion")(2,"mat-expansion-panel",12),e.bIt("opened",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.panelOpenState=!0)})("closed",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.panelOpenState=!1)}),e.j41(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"div",13)(6,"div",14)(7,"span",15),e.EFF(8,"Reconciliation progress"),e.k0s(),e.j41(9,"span",16)(10,"span",17),e.EFF(11,"calendar_today"),e.k0s(),e.EFF(12),e.k0s()(),e.j41(13,"div",18),e.DNE(14,Jl,6,5,"ng-container",11),e.k0s()()(),e.nrm(15,"mat-panel-description"),e.k0s(),e.DNE(16,Kl,13,10,"ng-container",11),e.k0s()(),e.nrm(17,"div",19),e.bVm()}if(2&o){const t=r.$implicit,a=e.XpG(2);e.R7$(12),e.SpI(" ",a.formatDate(t.Date)," "),e.R7$(2),e.Y8G("ngForOf",t.Step),e.R7$(2),e.Y8G("ngForOf",t.Step)}}function tc(o,r){if(1&o&&(e.j41(0,"div",10),e.DNE(1,ec,18,3,"ng-container",11),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.panels)}}function nc(o,r){1&o&&(e.qex(0),e.j41(1,"div",33),e.nrm(2,"img",34),e.j41(3,"div",35)(4,"h2"),e.EFF(5,"Please select the date to view the desired recon process timeline."),e.k0s()()(),e.bVm())}let oc=(()=>{class o{constructor(t,a,n,i,s){this.URMService=t,this.renderer=a,this.dialog=n,this.notify=i,this.spinnerService=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.panelOpenState=!1,this.showData=!0,this.today=new Date}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("recon process time line APIs called"),this.spinnerService.hide())}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}Submit(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getReconProgress({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{console.log("getReconProgress response =>",n),n.data.length>0?(this.showData=!1,t.close(),this.panels=n.data,console.log("panels",this.panels)):(this.notify.showSuccessToast(`No time line present for date ${this.fromDateFormatted}`,"Close"),this.panels=[],this.showData=!0,t.close())}).catch(n=>{console.log("error",n),t.close()})}hasInProgress(t){return t.some(a=>"In Progress"===a.status)}hasFailed(t){return t.some(a=>"Failed"===a.status)}hasInnerInProgress(t){console.log("auditItems",t);const a=t.some(n=>n);return console.log("isPresent",a),a}getStatusTooltip(t){return this.hasFailed(t)?"Failed":this.hasInProgress(t)?"In Progress":"Completed"}formatDate(t){const a=new Date,n=t.split("-"),i=new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0]));return isNaN(i.getTime())?(console.log("Invalid date format:",t),""):a.toDateString()===i.toDateString()?"Today, "+this.getDayOfWeek(i)+", "+i.getDate()+" "+this.getMonthName(i)+" "+i.getFullYear():this.getDayOfWeek(i)+", "+i.getDate()+" "+this.getMonthName(i)+" "+i.getFullYear()}getDayOfWeek(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]}getMonthName(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(e.sFG),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-timeline-process"]],viewQuery:function(a,n){if(1&a&&e.GBs(Ll,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:14,vars:5,consts:[[1,"recon-process"],[1,"Input-action"],["appearance","outline"],["matInput","","placeholder","From date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],["class","progess-container",4,"ngIf"],[4,"ngIf"],[1,"progess-container"],[4,"ngFor","ngForOf"],[3,"opened","closed"],[1,"mat-panel-title"],[1,"title-header"],[1,"title"],[1,"title-date"],["id","date-icon",1,"material-symbols-outlined"],[1,"Data-status"],[2,"padding","15px"],[1,"data-collection"],[1,"material-symbols-outlined",3,"ngClass"],[1,"name"],[1,"Nested-panel"],[1,"material-symbols-outlined",3,"matTooltip","ngClass"],[1,"progress-line"],[1,"Nested-body"],[1,"check-icon"],["id","check",3,"matTooltip","ngClass"],[1,"Nested-progress-line"],[1,"remark-time"],[1,"remark"],[1,"timestamp"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){return n.Submit()}),e.EFF(11,"Apply"),e.k0s()(),e.DNE(12,tc,2,1,"div",8),e.DNE(13,nc,6,0,"ng-container",9),e.k0s()),2&a){const i=e.sdS(9);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(5),e.Y8G("ngIf",!1===n.showData),e.R7$(1),e.Y8G("ngIf",!0===n.showData)}},dependencies:[g.YU,g.Sq,g.bT,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,Be.BS,Be.GK,Be.Z2,Be.WN,Be.Q6,mt.PW,ke.oV],styles:[".recon-process[_ngcontent-%COMP%]   .main-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500;display:inline-block;margin-top:20px;letter-spacing:.5px}.recon-process[_ngcontent-%COMP%]   .Input-action[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;margin-bottom:10px;gap:15px}.recon-process[_ngcontent-%COMP%]   .Input-action[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.recon-process[_ngcontent-%COMP%]   .Input-action[_ngcontent-%COMP%]     .mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height: 0px !important;--mdc-filled-text-field-focus-active-indicator-height: 0px !important;--mdc-filled-text-field-container-shape: 4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.recon-process[_ngcontent-%COMP%]   .Input-action[_ngcontent-%COMP%]     .mdc-text-field--filled:not(.mdc-text-field--disabled){border:1px solid #ccc;border-radius:10px;margin:-10px;background:transparent!important}.recon-process[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]:not([aria-disabled=true]){cursor:pointer;height:6rem!important}.recon-process[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:last-of-type{width:65%!important;border-radius:10px;box-shadow:none!important}.recon-process[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{padding:0;border:1px solid #ccc}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:25px}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]{display:flex;align-items:center;color:gray;font-size:17px}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title-date[_ngcontent-%COMP%]   #date-icon[_ngcontent-%COMP%]{font-size:20px}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]{display:flex;min-width:160%;justify-content:space-between;align-items:center}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .data-collection[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .voucher-generation[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .recon-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;color:gray}.recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .data-collection[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .voucher-generation[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]   .Data-status[_ngcontent-%COMP%]   .recon-status[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]:not([aria-disabled=true]){cursor:pointer;height:4rem!important}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:last-of-type{width:90%!important;border-radius:10px;box-shadow:none!important}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .data-collection[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .voucher-generation[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .recon-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:gray}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .data-collection[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .voucher-generation[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .recon-status[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-body[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:20px;padding:0 20px}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-body[_ngcontent-%COMP%]   #check[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-body[_ngcontent-%COMP%]   .remark-time[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-bottom:10px}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-body[_ngcontent-%COMP%]   .remark-time[_ngcontent-%COMP%]   .remark[_ngcontent-%COMP%]{font-size:1em}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-body[_ngcontent-%COMP%]   .remark-time[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:1em;color:gray}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-progress-line[_ngcontent-%COMP%]{border-left:2px dotted #9977FB;margin:18px 0 0 -31px;height:40px}.recon-process[_ngcontent-%COMP%]   .Nested-panel[_ngcontent-%COMP%]   .Nested-progress-line.Nestlast[_ngcontent-%COMP%]{border-left:none}.recon-process[_ngcontent-%COMP%]   .progress-line[_ngcontent-%COMP%]{border-left:2px dotted #9977FB;padding:12px;margin-left:30px}.recon-process[_ngcontent-%COMP%]   .progress-line.last[_ngcontent-%COMP%]{border-left:none}.recon-process[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.recon-process[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.recon-process[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.recon-process[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.completed-icon[_ngcontent-%COMP%]{color:#adff2f}.in-progress-icon[_ngcontent-%COMP%]{color:orange}.failed-icon[_ngcontent-%COMP%]{color:red}"]})}}return o})();const ac=["fromDate"],ic=["toDate"];function rc(o,r){if(1&o&&(e.j41(0,"mat-option",28),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.combination),e.R7$(1),e.JRh(t.combination)}}function sc(o,r){if(1&o&&(e.j41(0,"mat-option",28)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(t.downloadtype)}}function lc(o,r){if(1&o&&(e.j41(0,"span",29),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.JRh(t.sourceName1)}}function cc(o,r){if(1&o&&(e.j41(0,"span",29),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.JRh(t.sourceName2)}}let dc=(()=>{class o{constructor(t,a,n,i,s,l){this.route=t,this.commonService=a,this.dialog=n,this.http=i,this.notify=s,this.renderer=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.files=[],this.selectedRows=[],this.today=new Date,this.rowData=[],this.columnDefs=[{headerName:"UPI Tran Id",field:""},{headerName:"RRN",field:""},{headerName:"Tran date",field:""},{headerName:"Tran amount",field:""},{headerName:"Match status",field:""},{headerName:"Unmatch status",field:""},{headerName:"recon date",field:""},{headerName:"Download",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");return m.classList.add("material-symbols-outlined","delete-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.fontSize="19px",m.style.opacity="0.8",m.style.color="#605B67",m.textContent="download",m.addEventListener("click",()=>{this.downloadClicked(c.data.name)}),d.appendChild(m),d},minWidth:200}],this.paginationPageSize=20,this.Txn_UPI_Id1="",this.Txn_UPI_Id2="",this.RNN1="",this.RNN2="",this.Txn_date1="",this.Txn_date2="",this.Txn_amt1="",this.Txn_amt2="",this.sourceName1="",this.sourceName2="",this.rowData1=[],this.rowData2=[],this.columnDefs1=[],this.columnDefs2=[],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60,editable:!0,filter:!0}}rowView(t){console.log("EVENT:",t)}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("force match APIs called"),this.commonService.getReconCombination(this.project_id).then(a=>{if(console.log("getReconCombination result",a),a&&a.data&&a.data.length>0){const n=a.data,i=[],s=new Set;n.forEach(d=>{const m=d.combination_desc.split(" v/s ");if(m.length<2)console.log("Error: Insufficient components in combination ",d.combination_desc);else for(let E=0;E<m.length;E++)for(let U=E+1;U<m.length;U++){const ie=[m[E],m[U]].sort().join(" v/s ");s.has(ie)||(s.add(ie),i.push({combination:ie,recon_combination_id:d.recon_combination_id}))}});const l=12,c=i.length;if(c<l)for(let d=c;d<l;d++)i.push(i[d%c]);console.log("New recon_combinations:",i),this.recon_combinations=i}else console.log("No data found or empty response")}).catch(a=>{console.log("getReconCombination error =>",a)}))}ngOnInit(){this.project_id=localStorage.getItem("project_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}downloadClicked(t){console.log("DownloadType",t)}searchTran(){if(this.rowData1=[],this.rowData2=[],console.log("from date:",this.fromDateFormatted),console.log("to date:",this.toDateFormatted),""==this.fromDateFormatted||null==this.fromDateFormatted||""==this.toDateFormatted||null==this.toDateFormatted)this.notify.showErrorToast("Please select from date and to date","Close");else{console.log("inside else");const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.commonService.getForceMatchDatav1(this.selectedCombination,this.fromDateFormatted,this.toDateFormatted,this.project_id).then(a=>{if(console.log("Result ==>",a),a&&a.data&&2===a.data.length){const n=a.data[0];if(n){this.rowData1=n;const l=Object.keys(n[0]).filter(c=>!c.toLowerCase().includes("reconciliation_date")&&!c.toLowerCase().includes("status")&&!c.toLowerCase().includes("creation_date"));this.columnDefs1=[{headerCheckboxSelection:!0,checkboxSelection:!0,field:"",minWidth:50,maxWidth:50,sortingOrder:["asc","desc"]},...l.map(c=>({field:c,headerName:c,filter:"agMultiColumnFilter"}))]}const i=a.data[1];if(i){this.rowData2=i;const l=Object.keys(i[0]).filter(c=>!c.toLowerCase().includes("reconciliation_date")&&!c.toLowerCase().includes("status")&&!c.toLowerCase().includes("creation_date"));this.columnDefs2=[{headerCheckboxSelection:!0,checkboxSelection:!0,field:"",minWidth:50,maxWidth:50,sortingOrder:["asc","desc"]},...l.map(c=>({field:c,headerName:c,filter:"agMultiColumnFilter"}))]}t.close()}else console.log("Unexpected response data format or length != 2"),this.notify.showErrorToast("No data found","Close"),t.close()}).catch(a=>{console.log("Error ==>",a),t.close()})}}onRowSelected(t,a){"grid1"===a?this.selectedRows=this.gridApi1.getSelectedRows():"grid2"===a&&(this.selectedRows=this.gridApi2.getSelectedRows()),console.log("Selected Rows for",a+":",this.selectedRows)}onGridReady(t,a){"grid1"===a?this.gridApi1=t.api:"grid2"===a&&(this.gridApi2=t.api)}onSelectChange(t){this.selectedDownload=t.target.value,console.log("Selected value:",this.selectedDownload)}updateForceMatchData(){this.dialog.open(Se.r,{width:"600px",data:{action:{action:"force match",content:""},message:"Are you sure you want to proceed with force match?"}}).afterClosed().subscribe(a=>{a?(console.log("User confirmed, proceeding with force match..."),console.log("selectedRows ==>",this.selectedRows),this.commonService.updateForceMatchDatav1({combiationName:this.selectedCombination,forceMatchTxnArray:this.selectedRows,project_id:this.project_id}).then(i=>{console.log("response ==>",i),"Data Updated"==i.message&&this.notify.showSuccessToast("Force matched successfully!","Close"),this.rowData=[],this.searchTran()}).catch(i=>{console.log("error occurred while updating force match data",i)})):console.log("User canceled force match.")})}updateSelection(t){console.log("selectedCombination",this.selectedCombination);const a=this.selectedCombination.split(" v/s ");2===a.length?(this.sourceName1=a[0],this.sourceName2=a[1],console.log("Source 1:",this.sourceName1),console.log("Source 2:",this.sourceName2)):console.error("Invalid data format.")}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(b.nX),e.rXU(St.w),e.rXU(F.bZ),e.rXU(we.Qq),e.rXU(Ce.J),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-force-match"]],viewQuery:function(a,n){if(1&a&&(e.GBs(ac,5),e.GBs(ic,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:77,vars:23,consts:[[1,"force-match-container"],[1,"action-buttons"],[1,"file-select"],["appearance","outline"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"date-select"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select date",3,"matDatepicker","dateChange"],["toDate",""],["toDatepicker",""],[1,"rrn-select"],["appearance","outline",1,"project-input"],[1,"upi-select"],[1,"amount-select"],[1,"apply-btn",3,"click"],[3,"ngModel","ngModelChange","selectionChange"],[1,"combination-table"],[1,"tables-btn-container"],[1,"tables-container"],[1,"table"],["class","Sourcename",4,"ngIf"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","rowSelected"],[1,"match-btn"],[3,"click"],[3,"value"],[1,"Sourcename"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Select combination"),e.k0s(),e.j41(6,"mat-select",4),e.bIt("valueChange",function(s){return n.selectedCombination=s})("selectionChange",function(s){return n.updateSelection(s)}),e.DNE(7,rc,2,2,"mat-option",5),e.k0s()()(),e.j41(8,"div",6)(9,"mat-form-field",3)(10,"mat-label"),e.EFF(11,"From date"),e.k0s(),e.j41(12,"input",7,8),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(14,"mat-datepicker-toggle",9)(15,"mat-datepicker",null,10),e.k0s(),e.j41(17,"mat-form-field",3)(18,"mat-label"),e.EFF(19,"To date"),e.k0s(),e.j41(20,"input",11,12),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",9)(23,"mat-datepicker",null,13),e.k0s()(),e.j41(25,"div",14)(26,"mat-form-field",15)(27,"mat-label"),e.EFF(28,"Select RRN"),e.k0s(),e.j41(29,"mat-select")(30,"mat-option"),e.EFF(31,"1"),e.k0s(),e.j41(32,"mat-option"),e.EFF(33,"1"),e.k0s(),e.j41(34,"mat-option"),e.EFF(35,"1"),e.k0s()()()(),e.j41(36,"div",16)(37,"mat-form-field",15)(38,"mat-label"),e.EFF(39,"Select UPI id"),e.k0s(),e.j41(40,"mat-select")(41,"mat-option"),e.EFF(42,"1"),e.k0s(),e.j41(43,"mat-option"),e.EFF(44,"1"),e.k0s(),e.j41(45,"mat-option"),e.EFF(46,"1"),e.k0s()()()(),e.j41(47,"div",17)(48,"mat-form-field",15)(49,"mat-label"),e.EFF(50,"Select amount"),e.k0s(),e.j41(51,"mat-select")(52,"mat-option"),e.EFF(53,"1"),e.k0s(),e.j41(54,"mat-option"),e.EFF(55,"1"),e.k0s(),e.j41(56,"mat-option"),e.EFF(57,"1"),e.k0s()()()(),e.j41(58,"button",18),e.bIt("click",function(){return n.searchTran()}),e.EFF(59,"Search transaction"),e.k0s(),e.j41(60,"mat-form-field",3)(61,"mat-label"),e.EFF(62,"Download file"),e.k0s(),e.j41(63,"mat-select",19),e.bIt("ngModelChange",function(s){return n.selectedDownload=s})("selectionChange",function(s){return n.downloadClicked(s)}),e.DNE(64,sc,4,2,"mat-option",5),e.k0s()()(),e.j41(65,"div",20)(66,"div",21)(67,"div",22)(68,"div",23),e.DNE(69,lc,2,1,"span",24),e.j41(70,"ag-grid-angular",25),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s,"grid1")})("rowSelected",function(s){return n.onRowSelected(s,"grid1")}),e.k0s()(),e.j41(71,"div",23),e.DNE(72,cc,2,1,"span",24),e.j41(73,"ag-grid-angular",25),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s,"grid2")})("rowSelected",function(s){return n.onRowSelected(s,"grid2")}),e.k0s()()(),e.j41(74,"div",26)(75,"button",27),e.bIt("click",function(){return n.updateForceMatchData()}),e.EFF(76,"Force match"),e.k0s()()()()()),2&a){const i=e.sdS(16),s=e.sdS(24);e.R7$(6),e.Y8G("value",n.selectedCombination),e.R7$(1),e.Y8G("ngForOf",n.recon_combinations),e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s),e.R7$(2),e.Y8G("for",s),e.R7$(41),e.Y8G("ngModel",n.selectedDownload),e.R7$(1),e.Y8G("ngForOf",n.downloads),e.R7$(5),e.Y8G("ngIf",n.sourceName1),e.R7$(1),e.Y8G("rowData",n.rowData1)("columnDefs",n.columnDefs1)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize),e.R7$(2),e.Y8G("ngIf",n.sourceName2),e.R7$(1),e.Y8G("rowData",n.rowData2)("columnDefs",n.columnDefs2)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,g.bT,Me.An,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:20px;margin-top:40px}.action-buttons[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%;margin-right:4em}.action-buttons[_ngcontent-%COMP%]   .date-select[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;gap:20px}.action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:18px 0;width:10%;margin:0 0 21px;border:none;outline:none;font-size:16px;font-weight:600;color:#fff;background:#605B67;border-radius:10px}.combination-table[_ngcontent-%COMP%]{display:flex;flex-direction:column}.combination-table[_ngcontent-%COMP%]   .Sourcename[_ngcontent-%COMP%]{background:#E4D4FF;display:block;width:20%;text-align:center;padding:5px 0;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px}.tables-btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.tables-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;flex:1}.table[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:10px;margin-top:20px}.match-btn[_ngcontent-%COMP%]{margin-top:56px}.match-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer}.ag-theme-quartz[_ngcontent-%COMP%]{height:56vh!important}"]})}}return o})();var Ge=P(6354),Re=P(2185);let ut=(()=>{class o{constructor(t){this.http=t,this.disputeUrl=bn.$.disputeUrl,this.tenant_id=localStorage.getItem("tenant_id")}getAdjustmentType(){const t=new we.Lr({Permissions:'["Adjustmenttype:view"]'});return new Promise((a,n)=>{this.http.get(`${this.disputeUrl}/${Re.f.Adjustmenttype.getAdjustmenttype}`,{headers:t}).pipe((0,Ge.T)(i=>i)).subscribe(i=>{a(i)},n)})}getAllRemitterChargebackData(t){const a=new we.Lr({Permissions:'["Remitter chargeback:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitterchargeback.getRemitterchargeback}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}downloadRemitterChargebackData(t){const a=new we.Lr({Permissions:'["Remitter chargeback:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitterchargeback.downloadRemitterchargeback}`,{params:t,headers:a,responseType:"blob"}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}actionOnRemitterChargebackData(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Remitter chargeback:edit"]'})};return new Promise((s,l)=>{this.http.put(`${this.disputeUrl}/${Re.f.Remitterchargeback.takeActionOnRemitterchargeback}`,a,i).subscribe(c=>{s(c)},l)})}uploadRemitterChargebackFile(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Remitter chargeback:create"]'})};return new Promise((s,l)=>{this.http.post(`${this.disputeUrl}/${Re.f.Remitterchargeback.takeActionOnRemitterchargebackbyFileUpload}`,a,i).subscribe(c=>{s(c)},l)})}getRemitterOverallChargeback(t){const a=new we.Lr({Permissions:'["Remitter chargeback:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitterchargeback.getRemitterOverallChargeback}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}getAllBeneficiaryChargebackData(t){const a=new we.Lr({Permissions:'["Beneficiary chargeback:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.BEN_Chargeback.getAllBENChargeback}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}downloadBeneficiaryChargebackData(t,a){const n=new we.Lr({Permissions:'["Beneficiary chargeback:view"]'});return new Promise((i,s)=>{this.http.get(`${this.disputeUrl}/${Re.f.BEN_Chargeback.downloadBENChargeback}`,{params:t,headers:n,responseType:"blob"}).pipe((0,Ge.T)(l=>l)).subscribe(l=>{i(l)},s)})}actionOnBeneficiaryChargebackData(t,a){let i={params:t,headers:new we.Lr({Permissions:'["Beneficiary chargeback:edit"]'})};return new Promise((s,l)=>{this.http.put(`${this.disputeUrl}/${Re.f.BEN_Chargeback.updateBENChargeback}`,a,i).subscribe(c=>{s(c)},l)})}uploadBeneficiaryChargebackFile(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Beneficiary chargeback:create"]'})};return new Promise((s,l)=>{this.http.post(`${this.disputeUrl}/${Re.f.BEN_Chargeback.uploadBENChargeback}`,a,i).subscribe(c=>{s(c)},l)})}getRemitterTtumData(t){const a=new we.Lr({Permissions:'["Remitter TTUM:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitter_TTUM.getRemitterTtumData}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}getRemitterNpciTtumData(t){const a=new we.Lr({Permissions:'["Remitter TTUM:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitter_TTUM.getRemitterNpciTtumData}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}downloadRemitterNpciTtumData(t){const a=new we.Lr({Permissions:'["Remitter TTUM:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitter_TTUM.downloadRemitterNpciTtumData}`,{params:t,headers:a,responseType:"blob"}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}getBeneficiaryTtumData(t,a){const n=new we.Lr({Permissions:'["Beneficiary TTUM:view"]'});return new Promise((i,s)=>{this.http.get(`${this.disputeUrl}/${Re.f.BEN_Ttum.getBENTtum}`,{params:t,headers:n}).pipe((0,Ge.T)(l=>l)).subscribe(l=>{i(l)},s)})}getBeneficiaryNpciTtumData(t,a){const n=new we.Lr({Permissions:'["Beneficiary TTUM:view"]'});return new Promise((i,s)=>{this.http.get(`${this.disputeUrl}/${Re.f.BEN_Ttum.getNPCIBENTtum}`,{params:t,headers:n}).pipe((0,Ge.T)(l=>l)).subscribe(l=>{i(l)},s)})}downloadBeneficiaryNpciTtumData(t,a){const n=new we.Lr({Permissions:'["Beneficiary TTUM:view"]'});return new Promise((i,s)=>{this.http.get(`${this.disputeUrl}/${Re.f.BEN_Ttum.downloadNPCIBENTtum}`,{params:t,headers:n,responseType:"blob"}).pipe((0,Ge.T)(l=>l)).subscribe(l=>{i(l)},s)})}getRemitterAgeingData(t){const a=new we.Lr({Permissions:'["Remitter ageing:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitter_ageing.getRemitterAgeingData}`,{params:t,headers:a}).subscribe(s=>{n(s)},i)})}getRemitterAgeingSummary(t){const a=new we.Lr({Permissions:'["Remitter ageing:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Remitter_ageing.getRemitterAgeingSummary}`,{params:t,headers:a}).subscribe(s=>{n(s)},i)})}getBeneficiaryAgeingData(t){const a=new we.Lr({Permissions:'["Beneficiary ageing:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Beneficiary_ageing.getBeneficiaryAgeingData}`,{params:t,headers:a}).subscribe(s=>{n(s)},i)})}getBeneficiaryAgeingSummary(t){const a=new we.Lr({Permissions:'["Beneficiary ageing:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Beneficiary_ageing.getBeneficiaryAgeingSummary}`,{params:t,headers:a}).subscribe(s=>{n(s)},i)})}getNpciTatData(){const t=new we.Lr({Permissions:'["Npci tat:view"]'});return new Promise((a,n)=>{this.http.get(`${this.disputeUrl}/${Re.f.Npci_tat.getNpciTatData}`,{headers:t}).subscribe(i=>{a(i)},n)})}uploadGlFile(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Gl upload:create"]'})};return new Promise((s,l)=>{this.http.post(`${this.disputeUrl}/${Re.f.Gl_upload.uploadGlFile}`,i,a).subscribe(c=>{s(c)},l)})}getSearchTransaction(t){const a=new we.Lr({Permissions:'["Dispute transactionsearch:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.Transactionsearchdispute.Searchdisputetransaction}`,{params:t,headers:a}).subscribe(s=>{n(s)},i)})}getManualComplaintRegisterDetails(t){const a=new we.Lr({Permissions:'["Register complaint:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.manualRegisterComplaint.getManualRegisterComplaint}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}createManualComplaintRegister(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Register complaint:create"]'})};return new Promise((s,l)=>{this.http.post(`${this.disputeUrl}/${Re.f.manualRegisterComplaint.createManualRegisterComplaint}`,a,i).pipe((0,Ge.T)(c=>c)).subscribe(c=>{s(c)},l)})}uploadComplaintRegister(t,a){const i={params:t,headers:new we.Lr({Permissions:'["Register complaint:create"]'})};return new Promise((s,l)=>{this.http.post(`${this.disputeUrl}/${Re.f.manualRegisterComplaint.uploadComplaintRegister}`,a,i).pipe((0,Ge.T)(c=>c)).subscribe(c=>{s(c)},l)})}getResonCodeByAdjustmentType(t){const a=new we.Lr({Permissions:'["Register complaint:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.manualRegisterComplaint.getReasonCode}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}getTxnsSubType(t){const a=new we.Lr({Permissions:'["Register complaint:view"]'});return new Promise((n,i)=>{this.http.get(`${this.disputeUrl}/${Re.f.manualRegisterComplaint.getTxnsSubType}`,{params:t,headers:a}).pipe((0,Ge.T)(s=>s)).subscribe(s=>{n(s)},i)})}static{this.\u0275fac=function(a){return new(a||o)(e.KVO(we.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();const pc=function(o,r){return{"disabled-button":o,"enabled-button":r}};let mc=(()=>{class o{constructor(t,a,n,i,s,l,c){this.fb=t,this.disputeService=a,this.dialog=n,this.dialogRef=i,this.datePipe=s,this.notify=l,this.data=c}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id"),this.initializeForm(),console.log("Data got =>",this.data)}initializeForm(){const t=localStorage.getItem("username"),a=this.datePipe.transform(new Date,"dd-MM-yyyy"),n=this.data.rowData.rrn;console.log("RRNNumber ==>",n),this.actionAdjform=this.fb.group({username:[t,p.k0.required],rrn:[n,p.k0.required],actionDate:[a,p.k0.required],customerDesc:["",p.k0.required],remark:["",p.k0.required],status:["",p.k0.required]})}onNoClick(){this.dialogRef.close()}onCancel(){this.dialogRef.close()}submit(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});if(0===this.data.tabIndex){console.log("Remitter action clicked..");let n=this.actionAdjform.value;console.log("actionData ==>",n),this.disputeService.actionOnRemitterChargebackData({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.ref_project_id,creation_date:""},n).then(s=>{console.log("resp =>",s);let l="Action performed on remitter charge back successfully!";this.notify.showSuccessToast(l,"Close"),this.dialogRef.close(l),t.close()}).catch(s=>{console.log("error occured =>",s),this.dialogRef.close(),t.close()})}else{console.log("Beneficiary action clicked..");let n=this.actionAdjform.value;console.log("actionData ==>",n),this.disputeService.actionOnBeneficiaryChargebackData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.productId,creation_date:this.data.rowData.creation_date},n).then(s=>{console.log("resp =>",s);let l="Action performed on beneficiary charge back successfully!";this.notify.showSuccessToast(l,"Close"),this.dialogRef.close(l),t.close()}).catch(s=>{console.log("error occured =>",s),this.dialogRef.close(),t.close()})}}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(ut),e.rXU(F.bZ),e.rXU(F.CP),e.rXU(g.vh),e.rXU(Ce.J),e.rXU(F.Vh))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-action-on-adjustment-type"]],decls:49,vars:6,consts:[[1,"Action-container"],[1,"form-header"],[1,"modal-title"],[1,"close",3,"click"],[1,"form-container",3,"formGroup","ngSubmit"],[1,"userId"],["appearance","outline"],["for","firstName"],["type","text","id","userId","formControlName","username","matInput",""],[1,"form-field-container"],[1,"RRN"],["type","text","id","RRN","formControlName","rrn","matInput",""],[1,"actionDate"],["for","actionDate"],["type","text","id","actionDate","formControlName","actionDate","matInput",""],[1,"custDesc"],["type","text","formControlName","customerDesc","matInput","","placeholder",""],[1,"custStatus"],["id","custStatus-radio-group-label"],["aria-label","Select an option","formControlName","remark"],["value","accepted"],["value","rejected"],[1,"status"],["id","status-radio-group-label"],["aria-label","Select an option","formControlName","status"],["value","open"],["value","close"],[1,"buttons-container"],["type","button",1,"cancel-button",3,"click"],["type","submit",3,"disabled","ngClass"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3,"Action on adjustment type"),e.k0s(),e.j41(4,"mat-icon",3),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"close"),e.k0s()(),e.j41(6,"form",4),e.bIt("ngSubmit",function(){return n.submit()}),e.j41(7,"div",5)(8,"mat-form-field",6)(9,"mat-label",7),e.EFF(10,"User name"),e.k0s(),e.nrm(11,"input",8),e.k0s()(),e.j41(12,"div",9)(13,"div",10)(14,"mat-form-field",6)(15,"mat-label",7),e.EFF(16,"RRN No."),e.k0s(),e.nrm(17,"input",11),e.k0s()(),e.j41(18,"div",12)(19,"mat-form-field",6)(20,"mat-label",13),e.EFF(21,"Action date"),e.k0s(),e.nrm(22,"input",14),e.k0s()()(),e.j41(23,"div",15)(24,"mat-form-field",6)(25,"mat-label"),e.EFF(26,"Merchant/customer justification"),e.k0s(),e.nrm(27,"textarea",16),e.k0s()(),e.j41(28,"div",17)(29,"label",18),e.EFF(30,"Merchant customer status"),e.k0s(),e.j41(31,"mat-radio-group",19)(32,"mat-radio-button",20),e.EFF(33,"Accepted"),e.k0s(),e.j41(34,"mat-radio-button",21),e.EFF(35,"Rejected"),e.k0s()()(),e.j41(36,"div",22)(37,"label",23),e.EFF(38,"Status"),e.k0s(),e.j41(39,"mat-radio-group",24)(40,"mat-radio-button",25),e.EFF(41,"Open"),e.k0s(),e.j41(42,"mat-radio-button",26),e.EFF(43,"Close"),e.k0s()()(),e.j41(44,"div",27)(45,"button",28),e.bIt("click",function(){return n.onNoClick()}),e.EFF(46,"Cancel"),e.k0s(),e.j41(47,"button",29),e.EFF(48," Submit"),e.k0s()()()()),2&a&&(e.R7$(6),e.Y8G("formGroup",n.actionAdjform),e.R7$(41),e.Y8G("disabled",!n.actionAdjform.valid)("ngClass",e.l_i(3,pc,!n.actionAdjform.valid,n.actionAdjform.valid)))},dependencies:[g.YU,Me.An,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,ue.fg,Lt.VT,Lt._g,mt.PW],styles:[".Action-container[_ngcontent-%COMP%]{padding:20px}.Action-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.Action-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-weight:500;font-size:26px}.Action-container[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{font-size:28px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .userId[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .userId[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;width:100%;margin-bottom:16px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .RRN[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .actionDate[_ngcontent-%COMP%]{flex:1}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .RRN[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   .actionDate[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custDesc[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custDesc[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:16px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{margin-bottom:8px;margin-right:15px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]   #custStatus-radio-group-label[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .custStatus[_ngcontent-%COMP%]   #status-radio-group-label[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   #custStatus-radio-group-label[_ngcontent-%COMP%], .Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   #status-radio-group-label[_ngcontent-%COMP%]{margin-bottom:12px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:20px;margin-top:16px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{border:2px solid #737373;background-color:transparent;padding:10px 30px;cursor:pointer;font-size:16px;border-radius:8px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .disabled-button[_ngcontent-%COMP%]{border:2px solid gray;background-color:gray;color:#fff;padding:10px 30px;cursor:pointer;font-size:16px;border-radius:8px}.Action-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .enabled-button[_ngcontent-%COMP%]{border:2px solid rgb(147,81,251);background-color:#9351fb;color:#fff;padding:10px 30px;cursor:pointer;font-size:16px;border-radius:8px}"]})}}return o})();const uc=["fileInput"],gc=["downloadDropdown"],fc=["fromDate"];function hc(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.adjustment_type_name),e.R7$(1),e.SpI(" ",t.adjustment_type_name," ")}}function _c(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Cc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"Search"),e.k0s()}}function bc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"Search"),e.k0s()}}function xc(o,r){if(1&o&&(e.j41(0,"mat-option",22)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}function yc(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",24)(1,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onUploadClick())}),e.EFF(2,"Upload chargeback file"),e.k0s(),e.j41(3,"input",26,27),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFileSelected())}),e.k0s()()}}let jo=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.rowData=[],this.AdjustmentsTypeData=[],this.enableBen=!1,this.enableRem=!1,this.Type="All",this.finalValue="All",this.today=new Date,this.finalStatus=[{name:"Open",value:"open"},{name:"Close",value:"close"},{name:"Pending",value:"pending"},{name:"All",value:"All"}],this.downloads=[{icon:"download",value:"xlsx",downloadtype:"EXCEL"}],this.rowHeight=60,this.columnDefs=[{headerName:"Txnu id",field:"txnuid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Uid",field:"uid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj date",field:"adjdate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj type",field:"adjtype",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Remitter",field:"remitter",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Beneficiary",field:"beneficiery",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Response",field:"response",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn date",field:"txndate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn time",field:"txntime",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"RRN",field:"rrn",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Terminal id",field:"Terminalid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn amount",field:"txnamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj amount",field:"adjamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn Type",field:"transaction_type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"NPCI Settlement status",field:"NPCI settlement status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Current date",valueGetter:"new Date().toLocaleDateString()",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"TAT",field:"TAT",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Ageing",field:"ageing",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Merchant/Customer Remark",field:"remark",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"NPCI Upload file",field:"npci_upload_file",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closure file status",field:"closure_file_status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closurefile-Open/Closed",field:"closurefile_open_close",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60,suppressCopyRowsToClipboard:!0,copyHeadersToClipboard:!0,getRowStyle:l=>l.data&&l.data.rowColor?{"background-color":l.data.rowColor}:null}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All actions for remitter tab"),this.getAdjustmentType(),this.enableBen=!1,this.enableRem=!0,this.removeBeneficiaryColumns()):(console.log("All actions for beneficiary tab"),this.getAdjustmentType(),this.enableBen=!0,this.enableRem=!1,this.addBeneficiaryColumns()),this.gridApi?this.gridApi.setColumnDefs(this.columnDefs):console.warn("gridApi is not initialized")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}selectedAdjustmentType(t){console.log("event:",t),this.Type=t}selectFinalStatus(t){console.log("event:",t),this.finalValue=t}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.finalValue,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getAllRemitterChargebackData(a).then(n=>{console.log("getAllRemitterChargebackData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data.map(i=>{let s="white",l="open",c=i.status;if("Wrong credit Representment"===i.adjtype)l="close",c="close",s="white";else{const d=i.TAT,m=d/3;i.ageing<=m?s="#b4edc3":i.ageing>m&&i.ageing<=2*d/3?s="#ebedb4":i.ageing>d-m&&(s="#ffd8d8")}return{...i,rowColor:s,closurefile_open_close:l,status:c}}),t.close()):(this.notify.showErrorToast(`No charge back present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occurred while fetching charge back",n),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.rowData=[],this.disputeService.getAllBeneficiaryChargebackData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.finalValue,creation_date:this.fromDateFormatted}).then(n=>{console.log("getAllBeneficiaryChargebackData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,this.rowData=n.data.map(i=>{let s="white";const l=i.TAT,c=l/3,d=2*l/3,m=l;return console.log("status ==================",i.status),s="close"===i.status||"open"===i.status?"white":i.ageing<=c?"#b4edc3":i.ageing>c&&i.ageing<=d?"#ebedb4":i.ageing>m-c?"#ffd8d8":"white",{...i,rowColor:s}}),t.close()):(this.notify.showErrorToast(`No charge back present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}openDialog(t){console.log("action on row",t),this.dialog.open(mc,{height:"72vh",width:"50%",data:{rowData:t,tabIndex:this.selectedTabIndex}}).afterClosed().subscribe(n=>{console.log(`Dialog result: ${n}`),"Action performed on beneficiary charge back successfully!"===n?this.searchBtnforBen():"Action performed on remitter charge back successfully!"===n?this.searchBtnforRem():console.log("result",n)})}DownloadType(t){console.log("DownloadType",t.value);const a=new Date,i=(a.getFullYear(),(a.getMonth()+1).toString().padStart(2,"0"),a.getDate().toString().padStart(2,"0"),this.dialog.open(y.T,{height:"55vh",width:"35%"}));let s={ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.finalValue,creation_date:this.fromDateFormatted};const l=(d,m,E)=>{const U=new Blob([d],{type:"application/vnd.ms-excel;charset=utf-8"});let ie=window.navigator;if(ie&&ie.msSaveOrOpenBlob)ie.msSaveOrOpenBlob(U,m);else{const K=window.URL.createObjectURL(U),oe=document.createElement("a");oe.download=m,oe.href=K,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe)}this.notify.showSuccessToast(E,"Close"),i.close()},c=d=>{console.error("error =>",d),i.close()};!0===this.enableBen&&!1===this.enableRem?this.rowData.length>0?this.disputeService.downloadBeneficiaryChargebackData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:s.ref_project_id,chargeback_type:s.chargeback_type,final_status:s.final_status,creation_date:s.creation_date},s).then(m=>{console.log("DownloadChargeback resp =>",m),l(m,`BenChargeback_${this.fromDateFormatted}.xlsx`,"Beneficiary chargeback report downloaded!"),this.downloadDropdown.value=null}).catch(c):(console.log("enableBen",this.enableBen,"enableRem",this.enableRem),this.notify.showSuccessToast("Please fetch the chargeback data first!","Close"),i.close()):this.rowData.length>0?this.disputeService.downloadRemitterChargebackData({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.finalValue,creation_date:this.fromDateFormatted}).then(m=>{console.log("DownloadChargeback resp =>",m),l(m,`RemChargeback_${this.fromDateFormatted}.xlsx`,"Remitter chargeback report downloaded!"),this.downloadDropdown.value=null}).catch(c):(console.log("enableBen",this.enableBen,"enableRem",this.enableRem),this.notify.showSuccessToast("Please fetch the chargeback data first!","Close"),i.close())}onUploadClick(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date-upload",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("Selected date =>",a),a&&(this.selectedDate=a,this.fileInput.nativeElement.click())})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=s=>{this.srcResult=s.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),!0===this.enableRem&&!1===this.enableBen?(console.log("Inside if rem"),this.disputeService.uploadRemitterChargebackFile({application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.ref_project_id},i).then(l=>{console.log("uploadRemitterChargebackFile resp =>",l),200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),this.rowData.length>0&&this.searchBtnforRem(),t.close(),a.value=""):(this.notify.showSuccessToast(l.errorMessage,"Close"),t.close(),a.value="")}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),t.close(),a.value=""})):(console.log("Inside if ben"),this.disputeService.uploadBeneficiaryChargebackFile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.productId,creation_date:this.selectedDate},i).then(l=>{console.log("uploadBeneficiaryChargebackFile resp =>",l),200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),this.rowData.length>0&&this.searchBtnforBen(),t.close(),a.value=""):(this.notify.showSuccessToast(l.errorMessage,"Close"),t.close(),a.value="")}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),t.close(),a.value=""}))}}getAdjustmentType(){this.disputeService.getAdjustmentType().then(t=>{console.log("getAdjustmentType response =>",t),200===t.statusCode?this.AdjustmentsTypeData=t.data:console.log("Error occured in else",t.errorMessgae)}).catch(t=>{console.log("error ==>",t)})}addBeneficiaryColumns(){this.columnDefs=[...this.columnDefs,{headerName:"Merchant/Customer Remark",field:"remark",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"NPCI Upload file",field:"npci_upload_file",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closure file status",field:"closure_file_status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closurefile-Open/Closed",field:"closurefile_open_close",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Action",cellRenderer:a=>{console.log("params ===>",a.data.closurefile_open_close);const n=a.data.closurefile_open_close,i=document.createElement("button");return i.textContent="Action",i.style.backgroundColor="transparent",i.style.border="1px solid #000",i.style.color="#gray",i.style.padding="8px 12px",i.style.borderRadius="4px",i.style.fontSize="16px",i.style.fontWeight="600",i.style.marginBottom="10px",i.style.marginTop="10px",i.style.cursor="pointer",i.style.transition="background-color 0.3s ease","pending"!==n?(i.disabled=!0,i.style.opacity="0.5"):i.addEventListener("click",this.openDialog.bind(this,a.data)),i},minWidth:150}]}removeBeneficiaryColumns(){const t=["remark","npci_upload_file","recovery_ttum","closure_file_status"];this.columnDefs=this.columnDefs.filter(a=>a.field&&!t.includes(a.field))}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-chargebacks"]],viewQuery:function(a,n){if(1&a&&(e.GBs(uc,5),e.GBs(gc,5),e.GBs(fc,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fileInput=i.first),e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:36,vars:20,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Adjustment date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"adjustment-type"],["appearance","outline","id","source"],["placeholder","Adjustment type",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"final-status"],["placeholder","Final status",3,"value","valueChange","selectionChange"],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"download-select"],[3,"selectionChange"],["downloadDropdown",""],["class","upload-file",4,"ngIf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","enableRangeSelection","copyHeadersToClipboard","defaultColDef","gridReady"],[3,"value"],[1,"apply-btn",3,"click"],[1,"upload-file"],["type","button","mat-raised-button","",1,"uploadclass",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),e.EFF(14,"Adjustment type"),e.k0s(),e.j41(15,"mat-select",10),e.bIt("valueChange",function(s){return n.Type=s})("selectionChange",function(s){return n.selectedAdjustmentType(s.value)}),e.DNE(16,hc,2,2,"mat-option",11),e.k0s()()(),e.j41(17,"div",12)(18,"mat-form-field",9)(19,"mat-label"),e.EFF(20,"Final status"),e.k0s(),e.j41(21,"mat-select",13),e.bIt("valueChange",function(s){return n.finalValue=s})("selectionChange",function(s){return n.selectFinalStatus(s.value)}),e.DNE(22,_c,2,2,"mat-option",11),e.k0s()()(),e.j41(23,"div",14),e.DNE(24,Cc,2,0,"button",15),e.DNE(25,bc,2,0,"button",15),e.k0s(),e.j41(26,"div",16)(27,"mat-form-field",3)(28,"mat-label"),e.EFF(29,"Download file"),e.k0s(),e.j41(30,"mat-select",17,18),e.bIt("selectionChange",function(s){return n.DownloadType(s)}),e.DNE(32,xc,4,2,"mat-option",11),e.k0s()()(),e.DNE(33,yc,5,0,"div",19),e.k0s(),e.j41(34,"div",20)(35,"ag-grid-angular",21),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(7),e.Y8G("value",n.Type),e.R7$(1),e.Y8G("ngForOf",n.AdjustmentsTypeData),e.R7$(5),e.Y8G("value",n.finalValue),e.R7$(1),e.Y8G("ngForOf",n.finalStatus),e.R7$(2),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(7),e.Y8G("ngForOf",n.downloads),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)("enableRangeSelection",!0)("copyHeadersToClipboard",!0)("defaultColDef",n.defaultColDef)}},dependencies:[g.Sq,g.bT,pt.$z,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:1px solid #ccc;outline:none;border-radius:10px;background:transparent;color:#666;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .adjustment-type[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:126%}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:55px}  .ag-cell-wrapper{display:flex;align-items:center;font-size:16px}  .ag-ltr .ag-cell{border-right-width:1px;font-size:16px}.row-hover[_ngcontent-%COMP%]{background-color:#d1d1d1}"]})}}return o})();const Dc=["downloadDropdown"],vc=["fromDate"];function Fc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"Search"),e.k0s()}}function Mc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"Search"),e.k0s()}}function Sc(o,r){if(1&o&&(e.j41(0,"mat-option",16)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}function Pc(o,r){1&o&&(e.j41(0,"span",29),e.EFF(1,"Beneficiary(Inward txn) - Chargeback raise"),e.k0s())}function wc(o,r){1&o&&(e.j41(0,"span",29),e.EFF(1,"Remitter(Inward txn) - Chargeback raise"),e.k0s())}function Oc(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",17)(2,"div",18)(3,"div",19)(4,"mat-icon",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDrawer())}),e.EFF(5,"keyboard_arrow_left"),e.k0s(),e.DNE(6,Pc,2,0,"span",21),e.DNE(7,wc,2,0,"span",21),e.k0s()(),e.j41(8,"div",22)(9,"div",23)(10,"div",24)(11,"mat-tab-group",25,26)(13,"mat-tab",27)(14,"div",12)(15,"ag-grid-angular",28),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()()()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.AVh("open",t.selectedRow),e.R7$(5),e.Y8G("ngIf",t.enableBen),e.R7$(1),e.Y8G("ngIf",t.enableRem),e.R7$(8),e.Y8G("rowData",t.DrawerrowData)("columnDefs",t.drawercolumnDefs)("gridOptions",t.gridOptions)("rowHeight",t.rowHeight)("pagination",!0)("paginationPageSize",t.paginationPageSize)}}let No=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.dataToShow=[],this.rowData=[],this.DrawerrowData=[],this.enableBen=!1,this.enableRem=!1,this.showData=!0,this.showDrawer=!1,this.today=new Date,this.finalStatus=[{name:"Open",value:"open"},{name:"Close",value:"close"},{name:"Pending",value:"pending"},{name:"All",value:"All"}],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.rowHeight=60,this.columnDefs=[{headerName:"Transaction Type",field:"Transaction Type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Type",field:"type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"NPCI Settlement status",field:"NPCI Settlement Status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adjustment date",field:"Adjustment Date",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"NPCI TAT",field:"NPCI TAT",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],maxWidth:160,cellRenderer:l=>{const c=l.value||"",d=document.createElement("div");d.style.color="blue";const m=document.createElement("span");return m.textContent=c,m.style.borderBottom="1px solid blue",m.style.cursor="pointer",m.addEventListener("click",()=>{this.openDrawer(l.data)}),d.appendChild(m),d}},{headerName:"Deadline",field:"Deadline",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Total",field:"total",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Settled",field:"settled",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Re-presented",field:"rejected",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Pending",field:"pending",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.drawercolumnDefs=[{headerName:"S.No.",field:"SerialNo",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],maxWidth:100},{headerName:"Txn subty pe",field:"Txn subtype",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],maxWidth:150},{headerName:"dispute",field:"dispute",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Flag",field:"flag",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],maxWidth:150},{headerName:"TAT",field:"tat",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],maxWidth:150},{headerName:"Tat Ref.",field:"Tat Ref",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Reason code",field:"Reason code",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"reasondesc",field:"reasondesc",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],minWidth:500}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,minWidth:170,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:100}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All actions for remitter tab"),this.enableBen=!1,this.enableRem=!0):(console.log("All actions for beneficiary tab"),this.enableBen=!0,this.enableRem=!1)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.rowData=[];let n={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getRemitterAgeingData(n).then(i=>{console.log("getRemitterAgeingData response =>",i),200===i.statusCode?i.data.length>0?(this.rowData=i.data,t.close()):(this.notify.showErrorToast(`No ageing data present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("Error occured while fetching ageing data",i),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.rowData=[];let n={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getBeneficiaryAgeingData(n).then(i=>{console.log("getBeneficiaryAgeingData response =>",i),200===i.statusCode?i.data.length>0?(this.rowData=i.data,t.close()):(this.notify.showErrorToast(`No ageing data present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("Error occured while fetching ageing data",i),t.close()})}getNpciTatData(){this.disputeService.getNpciTatData().then(t=>{console.log("getNpciTatData response =>",t),200===t.statusCode?t.data.length>0?this.DrawerrowData=t.data:this.notify.showErrorToast("No tat data found!","Close"):console.log("response =>",t.errorMessage)})}onGridReady(t){this.gridApi=t.api,this.params=t}openDrawer(t){this.showDrawer=!this.showDrawer,document.querySelector(".drawer")?.classList.toggle("open-background",this.showDrawer),console.log("Function clicked..",t),this.selectedRow=t,this.getNpciTatData()}closeDrawer(){console.log("closed clicked.."),this.showDrawer=!1}uploadFile(){}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ageing-details"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Dc,5),e.GBs(vc,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:23,vars:13,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Adjustment date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"download-select"],[3,"value",4,"ngFor","ngForOf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","58vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"],[4,"ngIf"],[1,"apply-btn",3,"click"],[3,"value"],[1,"drawer"],[1,"drawer-header"],[1,"drawer-title"],[1,"back-arrow",3,"click"],["class","title",4,"ngIf"],[1,"drawer-content"],[1,"child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"mat-stretch-tabs",2,"padding-top","20px"],["tabgroup",""],["id","label1","label","NPCI TAT"],[1,"ag-theme-quartz",2,"height","70vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"],[1,"title"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8),e.DNE(12,Fc,2,0,"button",9),e.DNE(13,Mc,2,0,"button",9),e.k0s(),e.j41(14,"div",10)(15,"mat-form-field",3)(16,"mat-label"),e.EFF(17,"Download file"),e.k0s(),e.j41(18,"mat-select"),e.DNE(19,Sc,4,2,"mat-option",11),e.k0s()()()(),e.j41(20,"div",12)(21,"ag-grid-angular",13),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()(),e.DNE(22,Oc,16,10,"ng-container",14)),2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(4),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(6),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize),e.R7$(1),e.Y8G("ngIf",n.showDrawer)}},dependencies:[g.Sq,g.bT,Me.An,Ne.mq,Ne.T8,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.drawer[_ngcontent-%COMP%]{overflow:auto;position:fixed;z-index:100;top:0;right:-100%;height:100%;width:80%;background-color:#fff;box-shadow:0 0 5px #0000004d;animation:_ngcontent-%COMP%_slideIn .25s ease-in-out!important}.drawer[_ngcontent-%COMP%]   .drawer-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:50px 20px 30px;border-bottom:1px solid #ccc}.drawer[_ngcontent-%COMP%]   .drawer-header[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:8px;font-size:35px;font-weight:500;letter-spacing:.5px}.drawer[_ngcontent-%COMP%]   .drawer-header[_ngcontent-%COMP%]   .drawer-title[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{font-size:30px;cursor:pointer;padding-bottom:8px}.drawer[_ngcontent-%COMP%]   .drawer-content[_ngcontent-%COMP%]{padding:20px}.drawer[_ngcontent-%COMP%]   .drawer-content[_ngcontent-%COMP%]   .child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none;padding-bottom:20px}.drawer[_ngcontent-%COMP%]   .drawer-content[_ngcontent-%COMP%]   .child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}.drawer.open[_ngcontent-%COMP%]{right:0;overflow:hidden}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%)}to{transform:translate(0)}}"]})}}return o})();const Tc=["downloadDropdown"],kc=["fromDate"];function Ec(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"Search"),e.k0s()}}function Ic(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"Search"),e.k0s()}}function Rc(o,r){if(1&o&&(e.j41(0,"mat-option",19)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}function Ac(o,r){if(1&o&&(e.j41(0,"div",25)(1,"span",26),e.EFF(2),e.k0s(),e.j41(3,"span",27),e.EFF(4),e.k0s(),e.j41(5,"span",28),e.EFF(6),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.Particulars),e.R7$(2),e.JRh(t.Count),e.R7$(2),e.JRh(t.Amount)}}function jc(o,r){if(1&o&&(e.j41(0,"div",20)(1,"div",21)(2,"div",22)(3,"span",23),e.EFF(4,"Particulars"),e.k0s(),e.j41(5,"span",23),e.EFF(6,"Count"),e.k0s(),e.j41(7,"span",23),e.EFF(8,"Amount"),e.k0s()(),e.DNE(9,Ac,7,3,"div",24),e.k0s()()),2&o){const t=e.XpG();e.R7$(9),e.Y8G("ngForOf",t.summaryData)}}function Nc(o,r){1&o&&(e.qex(0),e.j41(1,"div",29),e.nrm(2,"img",30),e.j41(3,"div",31)(4,"h2"),e.EFF(5,"Please select the date to view the desired summary."),e.k0s()()(),e.bVm())}let Bo=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.showData=!0,this.enableBen=!1,this.enableRem=!1,this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}]}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All actions for remitter tab"),this.enableBen=!1,this.enableRem=!0):(console.log("All actions for beneficiary tab"),this.enableBen=!0,this.enableRem=!1)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.disputeService.getRemitterAgeingSummary({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{console.log("getAllRemitterChargebackData response =>",n),200===n.statusCode?n.data.length>0?(this.summaryData=n.data,this.showData=!1,t.close()):(this.notify.showErrorToast(`No ageing summary present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.disputeService.getBeneficiaryAgeingSummary({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{console.log("getBeneficiaryAgeingSummary response =>",n),200===n.statusCode?n.data.length>0?(this.summaryData=n.data,this.showData=!1,t.close()):(this.notify.showErrorToast(`No ageing summary present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=l=>{this.srcResult=l.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),this.disputeService.uploadGlFile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},i).then(l=>{console.log("UploadGLFile resp =>",l),(200===l.statusCode||201===l.statusCode)&&(this.notify.showErrorToast("File uploaded successfully!","Close"),a.value="",t.close())}).catch(l=>{console.log("error",l),a.value="",t.close()})}}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ageing-summary"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Tc,5),e.GBs(kc,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:27,vars:8,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Adjustment date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"download-select"],[3,"value",4,"ngFor","ngForOf"],[1,"upload-file"],["type","button","mat-raised-button","",1,"uploadclass",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],["class","ageing-summary",4,"ngIf"],[4,"ngIf"],[1,"apply-btn",3,"click"],[3,"value"],[1,"ageing-summary"],[1,"content"],[1,"header"],[1,"title"],["class","summary-data",4,"ngFor","ngForOf"],[1,"summary-data"],[1,"Particulars"],[1,"count"],[1,"Amount"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(l){return n.onFromDateChange(l)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8),e.DNE(12,Ec,2,0,"button",9),e.DNE(13,Ic,2,0,"button",9),e.k0s(),e.j41(14,"div",10)(15,"mat-form-field",3)(16,"mat-label"),e.EFF(17,"Download file"),e.k0s(),e.j41(18,"mat-select"),e.DNE(19,Rc,4,2,"mat-option",11),e.k0s()()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){e.eBV(i);const l=e.sdS(24);return e.Njj(l.click())}),e.EFF(22,"Upload File"),e.k0s(),e.j41(23,"input",14,15),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()()(),e.DNE(25,jc,10,1,"div",16),e.DNE(26,Nc,6,0,"ng-container",17),e.k0s()}if(2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(4),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(6),e.Y8G("ngForOf",n.downloads),e.R7$(6),e.Y8G("ngIf",!1===n.showData),e.R7$(1),e.Y8G("ngIf",!0===n.showData)}},dependencies:[g.Sq,g.bT,pt.$z,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:10px}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ccc;padding:20px 30px 15px;background:#F9FAFB;border-radius:10px 10px 0 0}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .summary-data[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border:1px solid #ccc;padding:25px 20px;margin:15px;border-radius:10px}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .summary-data[_ngcontent-%COMP%]   .Particulars[_ngcontent-%COMP%], .ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .summary-data[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%], .ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .summary-data[_ngcontent-%COMP%]   .Amount[_ngcontent-%COMP%]{font-size:18px}.ageing-summary[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .summary-data[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{padding-right:19rem}.imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}"]})}}return o})();const Bc=["downloadDropdown"],Gc=["fromDate"];function Vc(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.adjustment_type_name),e.R7$(1),e.SpI(" ",t.adjustment_type_name," ")}}function $c(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Uc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"submit"),e.k0s()}}function Yc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"submit"),e.k0s()}}function zc(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let Go=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.rowData=[],this.AdjustmentsTypeData=[],this.enableBen=!1,this.enableRem=!1,this.Type="All",this.status="All",this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"}],this.StatusData=[{name:"Pending",value:"pending"},{name:"Downloaded",value:"downloaded"},{name:"All",value:"All"}],this.rowHeight=60,this.columnDefs=[{headerName:"Type of adjustment",field:"type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],minWidth:350},{headerName:"CRM Id",field:"batch Id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Voucher date",field:"Voucher date",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Count",field:"count",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Amount",field:"amount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Excel download",field:"Excle Download",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Text download",field:"Text download",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Final action",field:"final action",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,minWidth:170,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All actions for remitter tab"),this.getAdjustmentType(),this.enableBen=!1,this.enableRem=!0):(console.log("All actions for beneficiary tab"),this.getAdjustmentType(),this.enableBen=!0,this.enableRem=!1)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}selectedAdjustmentType(t){console.log("value ==>",t),this.Type=t}selectStatus(t){console.log("Status ==>",t),this.status=t}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getRemitterNpciTtumData(a).then(n=>{console.log("getRemitterNpciTtumData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast(`No ttums present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getBeneficiaryNpciTtumData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:a.ref_project_id,chargeback_type:a.chargeback_type,final_status:a.final_status,creation_date:a.creation_date},a).then(i=>{console.log("getBeneficiaryNpciTtumData response =>",i),200===i.statusCode?i.data.length>0?(this.rowData=i.data,t.close()):(this.notify.showErrorToast(`No ttums present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("Error occured while fetching charge back",i),t.close()})}DownloadType(t){console.log("DownloadType",t.value);let a=t.value;const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});let i={ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted,download_type:a};const s=(m,E,U,ie)=>{const K=new Blob([m],{type:U});let oe=window.navigator;if(oe&&oe.msSaveOrOpenBlob)oe.msSaveOrOpenBlob(K,E);else{const de=window.URL.createObjectURL(K),De=document.createElement("a");De.download=E,De.href=de,document.body.appendChild(De),De.click(),document.body.removeChild(De)}this.notify.showSuccessToast(ie,"Close"),n.close()},l=m=>{console.error("error =>",m),n.close()},c=new Date;c.getFullYear(),(c.getMonth()+1).toString().padStart(2,"0"),c.getDate().toString().padStart(2,"0"),!0===this.enableBen&&!1===this.enableRem?this.rowData.length>0?this.disputeService.downloadBeneficiaryNpciTtumData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:i.ref_project_id,chargeback_type:i.chargeback_type,final_status:i.final_status,creation_date:i.creation_date,download_type:i.download_type},i).then(E=>{console.log("DownloadChargeback resp =>",E),s(E,`NPCI_TTUM_${this.fromDateFormatted}.${"text"===a?"txt":"csv"}`,"text"===a?"text/plain;charset=utf-8":"application/vnd.ms-excel;charset=utf-8","NPCI beneficiary ttum downloaded!"),this.downloadDropdown.value=null,this.searchBtnforBen()}).catch(l):(this.notify.showErrorToast("Please fetch the chargeback data first!","Close"),n.close()):this.rowData.length>0?this.disputeService.downloadRemitterNpciTtumData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted,download_type:a}).then(E=>{console.log("DownloadChargeback resp =>",E),s(E,`NPCI_TTUM_${this.fromDateFormatted}.${"text"===a?"txt":"xlsx"}`,"text"===a?"text/plain;charset=utf-8":"application/vnd.ms-excel;charset=utf-8","NPCI remitter ttum downloaded!"),this.downloadDropdown.value=null,this.searchBtnforRem()}).catch(l):(this.notify.showErrorToast("Please fetch the chargeback data first!","Close"),n.close())}getAdjustmentType(){this.disputeService.getAdjustmentType().then(t=>{console.log("getAdjustmentType response =>",t),200===t.statusCode?this.AdjustmentsTypeData=t.data:console.log("Error occured in else",t.errorMessgae)}).catch(t=>{console.log("error ==>",t)})}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-npci-uploaded-file"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Bc,5),e.GBs(Gc,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:35,vars:16,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Adjustment date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"ttum-type"],["placeholder","TTUM type",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"final-status"],["placeholder","status",3,"value","valueChange","selectionChange"],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"download-select"],[3,"selectionChange"],["downloadDropdown",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","58vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"],[3,"value"],[1,"apply-btn",3,"click"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8)(12,"mat-form-field",3)(13,"mat-label"),e.EFF(14,"TTUM type"),e.k0s(),e.j41(15,"mat-select",9),e.bIt("valueChange",function(s){return n.Type=s})("selectionChange",function(s){return n.selectedAdjustmentType(s.value)}),e.DNE(16,Vc,2,2,"mat-option",10),e.k0s()()(),e.j41(17,"div",11)(18,"mat-form-field",3)(19,"mat-label"),e.EFF(20,"Status"),e.k0s(),e.j41(21,"mat-select",12),e.bIt("valueChange",function(s){return n.status=s})("selectionChange",function(s){return n.selectStatus(s.value)}),e.DNE(22,$c,2,2,"mat-option",10),e.k0s()()(),e.j41(23,"div",13),e.DNE(24,Uc,2,0,"button",14),e.DNE(25,Yc,2,0,"button",14),e.k0s(),e.j41(26,"div",15)(27,"mat-form-field",3)(28,"mat-label"),e.EFF(29,"Download file"),e.k0s(),e.j41(30,"mat-select",16,17),e.bIt("selectionChange",function(s){return n.DownloadType(s)}),e.DNE(32,zc,4,2,"mat-option",10),e.k0s()()()(),e.j41(33,"div",18)(34,"ag-grid-angular",19),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(7),e.Y8G("value",n.Type),e.R7$(1),e.Y8G("ngForOf",n.AdjustmentsTypeData),e.R7$(5),e.Y8G("value",n.status),e.R7$(1),e.Y8G("ngForOf",n.StatusData),e.R7$(2),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(7),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,g.bT,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:10px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .ttum-type[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:126%}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:55px}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none;padding:20px 0}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}"]})}}return o})();function Xc(o,r){if(1&o&&(e.j41(0,"mat-option",10),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function qc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"Search"),e.k0s()}}function Lc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"Search"),e.k0s()}}let Vo=(()=>{class o{constructor(t,a,n){this.disputeService=t,this.dialog=a,this.notify=n,this.paginationPageSize=20,this.rowData=[],this.enableBen=!1,this.enableRem=!1,this.chargebacks=[{name:"Open chargebacks",value:"pending"},{name:"Close chargebacks",value:"close"}],this.rowHeight=60,this.columnDefs=[{headerName:"Txnu id",field:"txnuid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Uid",field:"uid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj date",field:"adjdate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj type",field:"adjtype",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Remitter",field:"remitter",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Beneficiary",field:"beneficiery",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Response",field:"response",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn date",field:"txndate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn time",field:"txntime",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"RRN",field:"rrn",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn amount",field:"txnamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adj amount",field:"adjamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Txn Type",field:"transaction_type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Current date",valueGetter:"new Date().toLocaleDateString()",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"TAT",field:"TAT",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Ageing",field:"ageing",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closurefile-Open/Closed",field:"closurefile_open_close",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60,suppressCopyRowsToClipboard:!0,copyHeadersToClipboard:!0,getRowStyle:i=>i.data&&i.data.rowColor?{"background-color":i.data.rowColor}:null}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All overall chargebacks for remitter tab"),this.enableBen=!1,this.enableRem=!0):(console.log("All overall chargebacks for beneficiary tab"),this.enableBen=!0,this.enableRem=!1)}selectChargebackType(t){console.log("event:",t),this.chargebackStatus=t}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_status:this.chargebackStatus,ben_rem_type:"remitter"};this.rowData=[],this.disputeService.getRemitterOverallChargeback(a).then(n=>{console.log("getAllRemitterChargebackData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast("No charge back found!","Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occurred while fetching charge back",n),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_status:this.chargebackStatus,ben_rem_type:"beneficiery"};this.rowData=[],this.disputeService.getRemitterOverallChargeback(a).then(n=>{console.log("getAllRemitterChargebackData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast("No charge back found!","Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occurred while fetching charge back",n),t.close()})}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-overall-chargebacks"]],inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:13,vars:12,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"final-status"],["appearance","outline","id","source"],["placeholder","Select chargeback type",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","enableRangeSelection","copyHeadersToClipboard","defaultColDef","gridReady"],[3,"value"],[1,"apply-btn",3,"click"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Chargeback type"),e.k0s(),e.j41(6,"mat-select",4),e.bIt("selectionChange",function(s){return n.selectChargebackType(s.value)}),e.DNE(7,Xc,2,2,"mat-option",5),e.k0s()()(),e.j41(8,"div",6),e.DNE(9,qc,2,0,"button",7),e.DNE(10,Lc,2,0,"button",7),e.k0s()(),e.j41(11,"div",8)(12,"ag-grid-angular",9),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a&&(e.R7$(7),e.Y8G("ngForOf",n.chargebacks),e.R7$(2),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)("enableRangeSelection",!0)("copyHeadersToClipboard",!0)("defaultColDef",n.defaultColDef))},dependencies:[g.Sq,g.bT,j.rl,j.nJ,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:60px}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{width:120%}"]})}}return o})(),Hc=(()=>{class o{constructor(){this.selectedTabIndex=0,console.log("Selected tab index in dispute-beneficiary constructor:",this.selectedTabIndex)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-dispute-beneficiary"]],inputs:{selectedTabIndex:"selectedTabIndex"},decls:13,vars:5,consts:[[1,"child-mat-group"],[1,"tabs"],[2,"padding-top","20px"],["id","remitter-tab1","label","Overall chargebacks"],[3,"selectedTabIndex"],["id","beneficiary-tab2","label","Chargebacks"],["id","beneficiary-tab3","label","Upload NPCI files"],["id","beneficiary-tab4","label","Aging details"],["id","beneficiary-tab5","label","Aging summary"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-tab-group",2)(3,"mat-tab",3),e.nrm(4,"app-overall-chargebacks",4),e.k0s(),e.j41(5,"mat-tab",5),e.nrm(6,"app-chargebacks",4),e.k0s(),e.j41(7,"mat-tab",6),e.nrm(8,"app-npci-uploaded-file",4),e.k0s(),e.j41(9,"mat-tab",7),e.nrm(10,"app-ageing-details",4),e.k0s(),e.j41(11,"mat-tab",8),e.nrm(12,"app-ageing-summary",4),e.k0s()()()()),2&a&&(e.R7$(4),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex))},dependencies:[Ne.mq,Ne.T8,jo,No,Bo,Go,Vo],styles:[".child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}"]})}}return o})();const Jc=["downloadDropdown"],Wc=["fromDate"];function Zc(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.adjustment_type_name),e.R7$(1),e.SpI(" ",t.adjustment_type_name," ")}}function Qc(o,r){if(1&o&&(e.j41(0,"mat-option",17),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function Kc(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforRem())}),e.EFF(1,"Submit"),e.k0s()}}function ed(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.searchBtnforBen())}),e.EFF(1,"Submit"),e.k0s()}}let td=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.rowData=[],this.AdjustmentsTypeData=[],this.enableBen=!1,this.enableRem=!1,this.Type="All",this.status="All",this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"text",downloadtype:"TEXT"}],this.StatusData=[{name:"Pending",value:"pending"},{name:"Downloaded",value:"downloaded"},{name:"All",value:"All"}],this.rowHeight=60,this.columnDefs=[{headerName:"Type of adjustment",field:"Type of adjustment",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],minWidth:500},{headerName:"CRM Id",field:"Batch Id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Voucher date",field:"Voucher date",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Count",field:"Count",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Amount",field:"Amount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Excle Download",field:"Excel Download",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Text download",field:"Text Download",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Final action",field:"Final Action",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,minWidth:170,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?(console.log("All actions for remitter tab"),this.getAdjustmentType(),this.enableBen=!1,this.enableRem=!0):(console.log("All actions for beneficiary tab"),this.getAdjustmentType(),this.enableBen=!0,this.enableRem=!1)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}selectedAdjustmentType(t){console.log("event:",t),this.Type=t}selectStatus(t){console.log("Status ==>",t),this.status=t}searchBtnforRem(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getRemitterTtumData(a).then(n=>{console.log("getRemitterTtumData response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast(`No ttums present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}searchBtnforBen(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={ref_project_id:this.projectId,chargeback_type:this.Type,final_status:this.status,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getBeneficiaryTtumData({product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:a.ref_project_id,chargeback_type:a.chargeback_type,final_status:a.final_status,creation_date:a.creation_date},a).then(i=>{console.log("getBeneficiaryTtumData response =>",i),200===i.statusCode?i.data.length>0?(this.rowData=i.data,t.close()):(this.notify.showErrorToast(`No ttums present for date ${this.fromDateFormatted}!`,"Close"),t.close()):(this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("Error occured while fetching charge back",i),t.close()})}getAdjustmentType(){this.disputeService.getAdjustmentType().then(t=>{console.log("getAdjustmentType response =>",t),200===t.statusCode?this.AdjustmentsTypeData=t.data:console.log("Error occured in else",t.errorMessgae)}).catch(t=>{console.log("error ==>",t)})}onGridReady(t){this.gridApi=t.api,this.params=t}DownloadType(t){console.log("DownloadType",t.value)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-ben-ttum"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Jc,5),e.GBs(Wc,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:28,vars:16,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"ttum-type"],["placeholder","TTUM type",3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"final-status"],["placeholder","status",3,"value","valueChange","selectionChange"],[1,"seacrch-btn"],["class","apply-btn",3,"click",4,"ngIf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","58vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","defaultColDef","gridReady"],[3,"value"],[1,"apply-btn",3,"click"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8)(12,"mat-form-field",3)(13,"mat-label"),e.EFF(14,"TTUM type"),e.k0s(),e.j41(15,"mat-select",9),e.bIt("valueChange",function(s){return n.Type=s})("selectionChange",function(s){return n.selectedAdjustmentType(s.value)}),e.DNE(16,Zc,2,2,"mat-option",10),e.k0s()()(),e.j41(17,"div",11)(18,"mat-form-field",3)(19,"mat-label"),e.EFF(20,"Status"),e.k0s(),e.j41(21,"mat-select",12),e.bIt("valueChange",function(s){return n.status=s})("selectionChange",function(s){return n.selectStatus(s.value)}),e.DNE(22,Qc,2,2,"mat-option",10),e.k0s()()(),e.j41(23,"div",13),e.DNE(24,Kc,2,0,"button",14),e.DNE(25,ed,2,0,"button",14),e.k0s()(),e.j41(26,"div",15)(27,"ag-grid-angular",16),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(7),e.Y8G("value",n.Type),e.R7$(1),e.Y8G("ngForOf",n.AdjustmentsTypeData),e.R7$(5),e.Y8G("value",n.status),e.R7$(1),e.Y8G("ngForOf",n.StatusData),e.R7$(2),e.Y8G("ngIf",n.enableRem),e.R7$(1),e.Y8G("ngIf",n.enableBen),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)("defaultColDef",n.defaultColDef)}},dependencies:[g.Sq,g.bT,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .ttum-type[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:126%}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:55px}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none;padding:20px 0}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}"]})}}return o})();const nd=["fromDate"];function od(o,r){1&o&&(e.j41(0,"h2",23),e.EFF(1,"Register complaint"),e.k0s())}function ad(o,r){1&o&&(e.j41(0,"h2",23),e.EFF(1,"Update project"),e.k0s())}function id(o,r){if(1&o&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.adjustment_type_name),e.R7$(1),e.SpI(" ",t.adjustment_type_name," ")}}function rd(o,r){if(1&o&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.txnsubtype),e.R7$(1),e.SpI(" ",t.txnsubtype," ")}}function sd(o,r){if(1&o&&(e.j41(0,"mat-option",24),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.reason_code),e.R7$(1),e.Lme(" ",t.reason_code," (",t.reason,") ")}}function ld(o,r){1&o&&(e.j41(0,"button",25),e.EFF(1,"Add"),e.k0s())}function cd(o,r){1&o&&(e.j41(0,"button",25),e.EFF(1,"Update"),e.k0s())}function dd(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",1),e.DNE(2,od,2,0,"h2",2),e.DNE(3,ad,2,0,"h2",2),e.j41(4,"span",3),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(5,"close"),e.k0s()(),e.j41(6,"form",4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(7,"div",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e.EFF(11,"Amount"),e.k0s(),e.nrm(12,"input",8),e.k0s(),e.j41(13,"mat-form-field",7)(14,"mat-label"),e.EFF(15,"UPI ID"),e.k0s(),e.nrm(16,"input",9),e.k0s()(),e.j41(17,"div",6)(18,"mat-form-field",7)(19,"mat-label"),e.EFF(20,"Transaction date"),e.k0s(),e.j41(21,"input",10,11),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onFromDateChange(n))}),e.k0s(),e.nrm(23,"mat-datepicker-toggle",12)(24,"mat-datepicker",null,13),e.k0s(),e.j41(26,"mat-form-field",7)(27,"mat-label"),e.EFF(28,"RRN"),e.k0s(),e.nrm(29,"input",14),e.k0s()(),e.j41(30,"div",6)(31,"mat-form-field",15)(32,"mat-label"),e.EFF(33,"Adjustment type"),e.k0s(),e.j41(34,"mat-select",16),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAdjustmentType(n.value))}),e.DNE(35,id,2,2,"mat-option",17),e.k0s()(),e.j41(36,"mat-form-field",15)(37,"mat-label"),e.EFF(38,"Transaction sub-type"),e.k0s(),e.j41(39,"mat-select",18),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedtxnSubType(n.value))}),e.DNE(40,rd,2,2,"mat-option",17),e.k0s()()(),e.j41(41,"div",6)(42,"mat-form-field",15)(43,"mat-label"),e.EFF(44,"Reason code"),e.k0s(),e.j41(45,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAdjustmentType(n.value))}),e.DNE(46,sd,2,3,"mat-option",17),e.k0s()()(),e.j41(47,"div",20)(48,"button",21),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onNoClick())}),e.EFF(49,"Cancel"),e.k0s(),e.DNE(50,ld,2,0,"button",22),e.DNE(51,cd,2,0,"button",22),e.k0s()()(),e.bVm()}if(2&o){const t=e.sdS(25),a=e.XpG();e.R7$(2),e.Y8G("ngIf",!a.editData),e.R7$(1),e.Y8G("ngIf",a.editData),e.R7$(3),e.Y8G("formGroup",a.manualComplaintForm),e.R7$(15),e.Y8G("matDatepicker",t)("max",a.today),e.R7$(2),e.Y8G("for",t),e.R7$(12),e.Y8G("ngForOf",a.AdjustmentsTypeData),e.R7$(5),e.Y8G("ngForOf",a.TrxnSubTypeData),e.R7$(6),e.Y8G("ngForOf",a.ReasonCodeData),e.R7$(4),e.Y8G("ngIf",!a.editData),e.R7$(1),e.Y8G("ngIf",a.editData)}}let pd=(()=>{class o{constructor(t,a,n,i,s,l,c,d){this.fb=t,this.disputeService=a,this.notify=n,this.dialog=i,this.spinnerService=s,this.dialogRef=l,this.renderer=c,this.cdr=d,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.updateData=!1,this.showForm=!0,this.createManualComplaint=!0,this.editData=!1,this.AdjustmentsTypeData=[],this.ReasonCodeData=[],this.TrxnSubTypeData=[],this.today=new Date,this.manualComplaintForm=this.fb.group({amount:["",p.k0.required],upi_id:[""],adjtype:["",p.k0.required],RRN:["",p.k0.required],txnSubtype:["",p.k0.required],reasoncode:["",p.k0.required]})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id"),this.getAdjustmentType()}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}selectedAdjustmentType(t){console.log("selectedAdjustmentType event:",t),this.Type=t,this.getTxnsSubType(),this.getResonCodeByAdjustmentType(t)}selectedtxnSubType(t){console.log("selectedtxnSubType event:",t)}getAdjustmentType(){this.disputeService.getAdjustmentType().then(t=>{console.log("getAdjustmentType response =>",t),200===t.statusCode?this.AdjustmentsTypeData=t.data.filter(a=>a.adjustment_type_name.toLowerCase().includes("raise")&&"all"!==a.adjustment_type_name.toLowerCase()):console.log("Error occurred in else",t.errorMessage)}).catch(t=>{console.log("error ==>",t)})}getTxnsSubType(){this.disputeService.getTxnsSubType({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getTxnsSubType response =>",a),200===a.statusCode?this.TrxnSubTypeData=a.data:console.log("Error occured in else",a.errorMessgae)}).catch(a=>{console.log("error ==>",a)})}getResonCodeByAdjustmentType(t){this.disputeService.getResonCodeByAdjustmentType({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,adjustmentType:t}).then(n=>{console.log("getAdjustmentType response =>",n),200===n.statusCode?this.ReasonCodeData=n.data:console.log("Error occured in else",n.errorMessgae)}).catch(n=>{console.log("error ==>",n)})}onSubmit(){if(console.log("Call Create API",this.manualComplaintForm.value),this.manualComplaintForm.valid){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={RRN:this.manualComplaintForm.value.RRN,amount:this.manualComplaintForm.value.amount,adjtype:this.manualComplaintForm.value.adjtype,upi_id:this.manualComplaintForm.value.upi_id,txndate:this.fromDateFormatted,txnsubtype:this.manualComplaintForm.value.txnSubtype,reason_code:this.manualComplaintForm.value.reasoncode};console.log("FristTabValues==>",a);let n={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId};console.log("query==>",n),this.disputeService.createManualComplaintRegister(n,a).then(i=>{console.log("manualComplaintForm response ==>",i),201===i.statusCode||200==i.statusCode?(this.manualComplaintForm.reset(),this.notify.showSuccessToast("Manaul Complaint Registered Successfully!","Close"),t.close(),this.dialogRef.close({bool:!0})):(this.notify.showSuccessToast("Error occured while adding complaint!","Close"),this.dialogRef.close({bool:!0}))}).catch(i=>{console.log("error ==>",i),t.close()})}}onNoClick(){console.log("clicked on cancel"),this.dialogRef.close()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(ut),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(je.D),e.rXU(F.CP),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-m-c-r-form"]],viewQuery:function(a,n){if(1&a&&e.GBs(nd,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"form-header"],["class","form-header-title",4,"ngIf"],[1,"material-symbols-outlined","close",2,"cursor","pointer",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-content"],[1,"row"],["appearance","outline",1,"project-input"],["matInput","","formControlName","amount","placeholder","Enter amount"],["matInput","","formControlName","upi_id","placeholder","Enter UPI ID"],["matInput","","placeholder","Select transaction date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","formControlName","RRN","placeholder","Enter RRN"],["appearance","outline"],["placeholder","Adjustment type","formControlName","adjtype",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select transaction sub-type","formControlName","txnSubtype",3,"selectionChange"],["placeholder","Select reason code","formControlName","reasoncode",3,"selectionChange"],[1,"action-buttons"],[1,"project-cancel",3,"click"],["class","project-create","type","submit",4,"ngIf"],[1,"form-header-title"],[3,"value"],["type","submit",1,"project-create"]],template:function(a,n){1&a&&e.DNE(0,dd,52,11,"ng-container",0),2&a&&e.Y8G("ngIf",n.createManualComplaint)},dependencies:[g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT],styles:[".form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px 0}.form-header[_ngcontent-%COMP%]   .form-header-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.form-content[_ngcontent-%COMP%]{padding:20px 30px}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;align-items:center;margin-bottom:20px}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:100px;font-size:16px;font-weight:500;color:#6b6b6b}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .project-input[_ngcontent-%COMP%]{flex:1}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:20px;margin-top:20px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;width:15%;padding:8px 6px 8px 8px;cursor:pointer}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;width:18%;padding:8px 6px 8px 8px;cursor:pointer}  .cdk-overlay-pane{width:40vw;height:auto;max-height:90vh;border-radius:16px}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();const md=["fromDate"],ud=["fileInput"];function gd(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let fd=(()=>{class o{constructor(t,a,n,i,s,l){this.dialog=t,this.disputeService=a,this.notify=n,this.spinnerService=i,this.renderer=s,this.cdr=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.rowData=[],this.paginationPageSize=20,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"text",downloadtype:"TEXT"}],this.rowHeight=60,this.columnDefs=[{headerName:"CRM ID",field:"crm_id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"RRN",field:"rrn",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Amount",field:"amount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"UPI ID",field:"upi_id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Adjustment Type",field:"adjtype",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Transaction Sub-type",field:"txn_sub_type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Transaction Date",field:"txndate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Created On",field:"creation_date",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}addManualComplaint(){const t=new F.ru;t.disableClose=!0,console.log("dialogConfigData",t),this.dialog.open(pd,t).afterClosed().subscribe(n=>{if(console.log("dialogRef resp",n),n&&n.bool){console.log("Inside if addManualComplaint");const i=new Date,s=`${i.getDate().toString().padStart(2,"0")}-${(i.getMonth()+1).toString().padStart(2,"0")}-${i.getFullYear()}`;console.log("creation_date",s),this.fetchDataOnCreate(s)}})}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}fetchData(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.disputeService.getManualComplaintRegisterDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,creation_date:this.fromDateFormatted}).then(n=>{console.log("getManualComplaintRegisterDetails response",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast("No data found!","Close"),t.close()):(console.log("Error occured",n.errorMessage),t.close())}).catch(n=>{console.log("getSubCombination error =>",n),t.close()})}fetchDataOnCreate(t){const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.disputeService.getManualComplaintRegisterDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,creation_date:t}).then(i=>{console.log("getManualComplaintRegisterDetails response",i),200===i.statusCode?i.data.length>0?(this.rowData=i.data,a.close()):(this.notify.showErrorToast("No data found!","Close"),a.close()):(console.log("Error occured",i.errorMessage),a.close())}).catch(i=>{console.log("getSubCombination error =>",i),a.close()})}onUploadClick(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date-upload",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("Selected date =>",a),a&&(this.selectedDate=a,this.fileInput.nativeElement.click())})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=l=>{this.srcResult=l.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),console.log("Inside if rem"),this.disputeService.uploadRemitterChargebackFile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,ref_project_id:this.projectId,creation_date:this.selectedDate},i).then(l=>{console.log("uploadRemitterChargebackFile resp =>",l),200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),t.close(),a.value=""):(this.notify.showSuccessToast(l.errorMessage,"Close"),t.close(),a.value="")}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),t.close(),a.value=""})}}DownloadType(t){console.log("DownloadType",t.value)}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(ut),e.rXU(Ce.J),e.rXU(je.D),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-manual-complaint-register"]],viewQuery:function(a,n){if(1&a&&(e.GBs(md,5),e.GBs(ud,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fileInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},decls:28,vars:10,consts:[[1,"accountMaster-container"],[1,"action-buttons"],["appearance","outline"],["matInput","","placeholder","From date",3,"matDatepicker","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],[1,"upload-file"],["type","button","mat-raised-button","",1,"uploadclass",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"download-select"],[3,"selectionChange"],["downloadDropdown",""],[3,"value",4,"ngFor","ngForOf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","defaultColDef","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"button",7),e.bIt("click",function(){return n.fetchData()}),e.EFF(11,"Search"),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return n.addManualComplaint()}),e.EFF(13," Add Complaint "),e.k0s(),e.j41(14,"div",8)(15,"button",9),e.bIt("click",function(){return n.onUploadClick()}),e.EFF(16,"Upload"),e.k0s(),e.j41(17,"input",10,11),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()(),e.j41(19,"div",12)(20,"mat-form-field",2)(21,"mat-label"),e.EFF(22,"Download file"),e.k0s(),e.j41(23,"mat-select",13,14),e.bIt("selectionChange",function(s){return n.DownloadType(s)}),e.DNE(25,gd,4,2,"mat-option",15),e.k0s()()()(),e.j41(26,"div",16)(27,"ag-grid-angular",17),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(9);e.R7$(5),e.Y8G("matDatepicker",i),e.R7$(2),e.Y8G("for",i),e.R7$(18),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,pt.$z,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:1px solid #ccc;outline:none;border-radius:10px;background:transparent;color:#666;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}"]})}}return o})(),hd=(()=>{class o{constructor(){this.selectedTabIndex=0,console.log("Selected tab index in dispute-remitter constructor:",this.selectedTabIndex)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-dispute-remitter"]],inputs:{selectedTabIndex:"selectedTabIndex"},decls:17,vars:7,consts:[[1,"child-mat-group"],[1,"tabs"],[2,"padding-top","20px"],["id","remitter-tab1","label","Overall chargebacks"],[3,"selectedTabIndex"],["id","remitter-tab2","label","Chargebacks"],["id","remitter-tab3","label","TTUM details"],["id","remitter-tab4","label","Acceptance TTUM"],["id","remitter-tab5","label","Aging details"],["id","remitter-tab6","label","Aging summary"],["id","remitter-tab7","label","Manual Complaint Register"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-tab-group",2)(3,"mat-tab",3),e.nrm(4,"app-overall-chargebacks",4),e.k0s(),e.j41(5,"mat-tab",5),e.nrm(6,"app-chargebacks",4),e.k0s(),e.j41(7,"mat-tab",6),e.nrm(8,"app-ben-ttum",4),e.k0s(),e.j41(9,"mat-tab",7),e.nrm(10,"app-npci-uploaded-file",4),e.k0s(),e.j41(11,"mat-tab",8),e.nrm(12,"app-ageing-details",4),e.k0s(),e.j41(13,"mat-tab",9),e.nrm(14,"app-ageing-summary",4),e.k0s(),e.j41(15,"mat-tab",10),e.nrm(16,"app-manual-complaint-register",4),e.k0s()()()()),2&a&&(e.R7$(4),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex),e.R7$(2),e.Y8G("selectedTabIndex",n.selectedTabIndex))},dependencies:[Ne.mq,Ne.T8,jo,td,No,Bo,Go,fd,Vo],styles:[".child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}"]})}}return o})();const _d=["fromDate"],Cd=["toDate"];let bd=(()=>{class o{constructor(t,a,n,i,s,l){this.route=t,this.commonService=a,this.dialog=n,this.matDialogRemark=i,this.http=s,this.notify=l,this.datePipe=new g.vh("en-US"),this.files=[],this.selectedRows=[],this.rowData=[],this.paginationPageSize=10,this.Txn_UPI_Id1="",this.Txn_UPI_Id2="",this.RNN1="",this.RNN2="",this.Txn_date1="",this.Txn_date2="",this.Txn_amt1="",this.Txn_amt2="",this.sourceName1="",this.sourceName2="",this.sourceName3="",this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.columnDefs1=[{headerName:"UPI Tran Id",field:""},{headerName:"RRN",field:""},{headerName:"Tran date",field:""},{headerName:"Tran amount",field:""},{headerName:"Match status",field:""},{headerName:"Unmatch status",field:""},{headerName:"recon date",field:""},{headerName:"Download",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");return m.classList.add("material-symbols-outlined","delete-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.fontSize="19px",m.style.opacity="0.8",m.style.color="#605B67",m.textContent="download",m.addEventListener("click",()=>{this.downloadClicked(c.data.name)}),d.appendChild(m),d},minWidth:200}],this.columnDefs2=[{headerName:"UPI Tran Id",field:""},{headerName:"RRN",field:""},{headerName:"Tran date",field:""},{headerName:"Tran amount",field:""},{headerName:"Match status",field:""},{headerName:"Unmatch status",field:""},{headerName:"recon date",field:""},{headerName:"Download",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");return m.classList.add("material-symbols-outlined","delete-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.fontSize="19px",m.style.opacity="0.8",m.style.color="#605B67",m.textContent="download",m.addEventListener("click",()=>{this.downloadClicked(c.data.name)}),d.appendChild(m),d},minWidth:200}],this.columnDefs3=[{headerName:"UPI Tran Id",field:""},{headerName:"RRN",field:""},{headerName:"Tran date",field:""},{headerName:"Tran amount",field:""},{headerName:"Match status",field:""},{headerName:"Unmatch status",field:""},{headerName:"recon date",field:""},{headerName:"Download",cellRenderer:c=>{const d=document.createElement("div"),m=document.createElement("span");return m.classList.add("material-symbols-outlined","delete-icon"),m.style.cursor="pointer",m.style.marginRight="8px",m.style.fontSize="19px",m.style.opacity="0.8",m.style.color="#605B67",m.textContent="download",m.addEventListener("click",()=>{this.downloadClicked(c.data.name)}),d.appendChild(m),d},minWidth:200}],this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}rowView(t){console.log("EVENT:",t)}ngOnInit(){this.project_id=localStorage.getItem("project_id")}downloadClicked(t){console.log("DownloadType",t)}onRowSelected(t,a){"grid1"===a?this.selectedRows=this.gridApi1.getSelectedRows():"grid2"===a&&(this.selectedRows=this.gridApi2.getSelectedRows()),console.log("Selected Rows for",a+":",this.selectedRows)}onGridReady(t,a){console.log("data for grid",a),"grid1"===a?this.gridApi1=t.api:"grid2"===a&&(this.gridApi2=t.api)}searchTran(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.commonService.getForceMatchData(this.selectedCombination,this.project_id).then(a=>{if(console.log("Result ==>",a),a&&a.data&&3===a.data.length){const n=a.data[0];if(n){this.rowData1=n;const c=Object.keys(n[0]).filter(d=>!d.toLowerCase().includes("reconciliation_date")&&!d.toLowerCase().includes("status"));this.columnDefs1=c.map(d=>({field:d,headerName:d,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0}))}const i=a.data[1];if(i){this.rowData2=i;const c=Object.keys(i[0]).filter(d=>!d.toLowerCase().includes("reconciliation_date")&&!d.toLowerCase().includes("status"));this.columnDefs2=c.map(d=>({field:d,headerName:d,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelectionFilteredOnly:!0}))}const s=a.data[2];if(s){this.rowData3=s;const c=Object.keys(s[0]).filter(d=>!d.toLowerCase().includes("reconciliation_date")&&!d.toLowerCase().includes("status"));this.columnDefs3=c.map(d=>({field:d,headerName:d,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelectionFilteredOnly:!0}))}t.close()}else console.log("Unexpected response data format or length != 2"),t.close()}).catch(a=>{console.log("Error ==>",a),t.close()})}onSelectChange(t){this.selectedDownload=t.target.value,console.log("Selected value:",this.selectedDownload)}updateForceMatchData(){this.dialog.open(Se.r,{width:"600px",data:{action:"force match",message:"Are you sure you want to proceed with force match?"}}).afterClosed().subscribe(a=>{a?(console.log("User confirmed, proceeding with force match..."),console.log("selectedRows ==>",this.selectedRows),this.commonService.updateForceMatchData({combiationName:this.selectedCombination,forceMatchTxnArray:this.selectedRows,project_id:this.project_id}).then(i=>{console.log("response ==>",i),"Data Updated"==i.message&&this.notify.showSuccessToast("Force matched successfully!","Close"),this.searchTran()}).catch(i=>{console.log("error occurred while updating force match data",i)})):console.log("User canceled force match.")})}updateSelection(t){console.log("selectedCombination",this.selectedCombination);const a=this.selectedCombination.split(" v/s ");3===a.length?(this.sourceName1=a[0],this.sourceName2=a[1],this.sourceName3=a[2],console.log("Source 1:",this.sourceName1),console.log("Source 2:",this.sourceName2),console.log("Source 3:",this.sourceName3)):console.error("Invalid data format.")}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(b.nX),e.rXU(St.w),e.rXU(F.bZ),e.rXU(F.bZ),e.rXU(we.Qq),e.rXU(Ce.J))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-force-match-v2"]],viewQuery:function(a,n){if(1&a&&(e.GBs(_d,5),e.GBs(Cd,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDatepicker=i.first)}},decls:0,vars:0,template:function(a,n){},styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:20px;margin-top:40px}.action-buttons[_ngcontent-%COMP%]   .file-select[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:94%;margin-right:164px}.action-buttons[_ngcontent-%COMP%]   .date-select[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;gap:10px;margin:-10px}.action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:18px 0;width:10%;margin:0 0 21px;border:none;outline:none;font-size:16px;font-weight:600;color:#fff;background:#605B67;border-radius:10px}.combination-table[_ngcontent-%COMP%]{display:flex;flex-direction:column}.combination-table[_ngcontent-%COMP%]   .Sourcename[_ngcontent-%COMP%]{background:#E4D4FF;display:block;width:20%;text-align:center;padding:5px 0;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:10px}.tables-btn-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.tables-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:10px;flex:1}.table[_ngcontent-%COMP%]{flex:1;min-width:0;margin-right:10px;margin-top:20px}.match-btn[_ngcontent-%COMP%]{margin-top:56px}.match-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer}.ag-theme-quartz[_ngcontent-%COMP%]{height:56vh!important}"]})}}return o})();const xd=["fileInput"],yd=["fromDate"],Dd=["fromDateforRET"];let vd=(()=>{class o{constructor(t,a,n,i,s){this.URMService=t,this.renderer=a,this.dialog=n,this.notify=i,this.spinnerService=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.fromDateFormattedforRET="",this.paginationPageSize=20,this.rowData=[],this.rowDataforRET=[],this.rowHeight=55,this.markedItems=[],this.today=new Date,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsx",downloadtype:"EXCEL"}],this.columnDefs=[{field:"type",headerName:"Report name",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"module",headerName:"Category",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Status",field:"status",cellRenderer:l=>{console.log("paramssss=====>",l.data.status);const c=l.data.status;let d="",m="";return"Completed"===c?(d="status-green",m="Generated"):("In progress"===c||"In Progress"===c)&&(d="status-forProgress",m="Not generated"),`<div class="${d}">${m}</div>`},minWidth:450},{field:"creation_date",headerName:"Date",width:220,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],minWidth:450},{headerName:"Download",cellRenderer:l=>{const c=document.createElement("div");c.style.position="relative";const d=document.createElement("span");d.classList.add("material-symbols-outlined","delete-icon"),d.style.cursor="pointer",d.style.marginRight="8px",d.style.fontSize="19px",d.style.opacity="0.8",d.style.color="#605B67",d.textContent="download";const m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor="#fff",m.style.border="1px solid #ccc",m.style.padding="5px",m.style.zIndex="1000",m.style.display="none",m.style.width="100px",m.style.boxShadow="0 2px 10px rgba(0,0,0,0.2)";const E=document.createElement("div");E.textContent="Excel",E.style.cursor="pointer",E.style.padding="5px 10px",E.addEventListener("click",()=>{this.downloadClicked("xlsx",l.data.type),m.style.display="none"});const U=document.createElement("div");return U.textContent="CSV",U.style.cursor="pointer",U.style.padding="5px 10px",U.addEventListener("click",()=>{this.downloadClicked("csv",l.data.type),m.style.display="none"}),m.appendChild(U),m.appendChild(E),d.addEventListener("click",ie=>{ie.stopPropagation();const K=d.getBoundingClientRect();m.style.top=`${K.bottom+window.scrollY}px`,m.style.left=`${K.left+window.scrollX}px`,document.body.appendChild(m),m.style.display="none"===m.style.display?"block":"none",console.log("params.data.name ==>",l.data.type)}),document.addEventListener("click",ie=>{!c.contains(ie.target)&&!m.contains(ie.target)&&(m.style.display="none",document.body.contains(m)&&document.body.removeChild(m))}),c.appendChild(d),c},minWidth:300}],this.columnDefsforRET=[{field:"flag",headerName:"Flag",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"utxid",headerName:"UPI tran Id",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"shser",headerName:"RRN",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"adjamt",headerName:"Adjustment amount",width:220,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"reason",headerName:"Reason",width:220,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"shtdat",headerName:"Date",width:220,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Mark as RET",cellRenderer:l=>{const c=document.createElement("div"),d=document.createElement("button");d.style.cursor="pointer",d.style.marginRight="8px",d.style.background="transparent",d.style.border="none";const m=document.createElement("span");m.classList.add("material-icons","material-symbols-outlined","toggle-off"),m.textContent="toggle_off";const E=document.createElement("span");E.classList.add("material-icons","material-symbols-outlined","toggle-on"),E.textContent="toggle_on";let U=!1;return d.appendChild(m),d.addEventListener("click",()=>{if(U=!U,U)d.removeChild(m),d.appendChild(E),this.markedItems.push(l.data),console.log("Item marked as RET");else{d.removeChild(E),d.appendChild(m);const ie=this.markedItems.indexOf(l.data);-1!==ie&&(this.markedItems.splice(ie,1),console.log("Item unmarked as RET"))}console.log("Marked Items:",this.markedItems)}),c.appendChild(d),c},minWidth:200}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1}}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("NPCI upload files APIs called"),this.spinnerService.hide())}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}onGridReady(t){this.gridApi=t.api,this.params=t}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.setElementValue(this.fromDateInputforRET.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDateFormattedforRET=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onFromDateChangeforRET(t){this.fromDateFormattedforRET=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormattedforRET)}getAllNPCIuploadfile(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getAllNPCIuploadfile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,date:this.fromDateFormatted}).then(n=>{console.log("getAllNPCIuploadfile response",n),n&&200===n.statusCode?(this.rowData=n.data,t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("error =>",n),t.close()})}downloadClicked(t,a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.downloadNPCIfiles({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,type:a,date:this.fromDateFormatted,downloadType:t}).then(s=>{console.log("downloadNPCIfiles response",s.headers);const l=window.navigator,c=s.headers.get("Content-Disposition"),d=c?c.split("filename=")[1]?.trim():`${a}_NPCI_Uploadable_file_${this.fromDateFormatted}.${"xlsx"===t?"xlsx":"csv"}`;if(s.body){const E=new Blob([s.body],{type:"xlsx"===t?"application/vnd.ms-excel;charset=utf-8":"text/csv;charset=utf-8"});if(l&&l.msSaveOrOpenBlob)l.msSaveOrOpenBlob(E,d);else{const ie=window.URL.createObjectURL(E),K=document.createElement("a");K.href=ie,K.download=d,document.body.appendChild(K),K.click(),document.body.removeChild(K),window.URL.revokeObjectURL(ie)}this.notify.showSuccessToast(`${a} report downloaded successfully!`,"Close")}else console.error("Download failed: response body is null."),this.notify.showErrorToast("Failed to download the file","Close");n.close()}).catch(s=>{console.error("Error occurred generating report",s),this.notify.showErrorToast("Failed to download the file","Close"),n.close()})}getTCCData(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getTCCData({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,date:this.fromDateFormattedforRET}).then(n=>{console.log("getTCCData response",n),n&&200===n.statusCode?(this.rowDataforRET=n.result,t.close()):this.notify.showErrorToast(n.errorMessage,"Close")}).catch(n=>{console.log("error =>",n),t.close()})}UpdateRET(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a={project_id:this.projectId,date:this.fromDateFormattedforRET,data:this.markedItems},n={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,date:this.fromDateFormattedforRET};console.log("UpdatedRETBody",a),this.URMService.updateAsRETfileData(n,a).then(i=>{console.log("updateAsRETfileData response =>",i),i&&200===i.statusCode||201===i.statusCode?(this.notify.showSuccessToast("TCC data updated as RET successfully!","Close"),this.getTCCData(),t.close()):(this.notify.showErrorToast(i.errorMessage,"Close"),t.close())}).catch(i=>{console.log("error =>",i),t.close()})}onUploadClick(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date-upload",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("Selected date =>",a),a&&(this.selectedDate=a,this.fileInput.nativeElement.click())})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=l=>{this.srcResult=l.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),this.URMService.uploadRETAndTCCFile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,date:this.selectedDate},i).then(l=>{console.log("uploadRETAndTCCFile response =>",l),!l||200!==l.statusCode&&201!==l.statusCode?(this.notify.showSuccessToast("file upload failed!","Close"),a.value="",t.close()):(this.notify.showSuccessToast("file uploaded successfully!","Close"),a.value="",t.close())}).catch(l=>{console.log("Error occurred while uploading",l),a.value="",t.close()})}else console.log("FileReader is undefined"),a.value="",t.close()}BulkDownload(){this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"question-box",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("download type =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.bulkdownloadNPCIuploadfile({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:this.fromDateFormatted,type:a}).then(s=>{console.log("bulkdownloadInwardOutwardSummary Response =>",s),s&&200===s.statusCode?(console.log("Inside response"),this.notify.showSuccessToast("NPCI files uploaded on specified server!","Close"),n.close()):(this.notify.showErrorToast(s.errorMessage,"Close"),n.close())}).catch(s=>{console.log("error occurred in bulkdownloadNPCIuploadfile",s),404==s.error.statusCode&&this.notify.showErrorToast(`No NPCI files found for date ${this.fromDateFormatted}!`,"Close"),n.close()})}})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(e.sFG),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-upi-npci-uploaded-files"]],viewQuery:function(a,n){if(1&a&&(e.GBs(xd,5),e.GBs(yd,5),e.GBs(Dd,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fileInput=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDateInputforRET=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:46,vars:19,consts:[[1,"child-mat-group"],[1,"tabs"],[2,"padding-top","20px"],["id","","label","NPCI files"],[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline",1,"project-input"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn",3,"click"],["matTooltip","Upload all NPCI files on specified server","matTooltipPosition","above",1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","58vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","defaultColDef","gridReady"],["id","","label","Update RET"],["matInput","","placeholder","Select date",3,"matDatepicker","dateChange"],["fromDateforRET",""],["fromDatepickerforRET",""],[1,"seacrch-btn"],[1,"upload-file"],["type","button","mat-raised-button","",1,"uploadclass",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-tab-group",2)(3,"mat-tab",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"mat-form-field",7)(8,"mat-label"),e.EFF(9,"Date"),e.k0s(),e.j41(10,"input",8,9),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(12,"mat-datepicker-toggle",10)(13,"mat-datepicker",null,11),e.k0s()(),e.j41(15,"button",12),e.bIt("click",function(){return n.getAllNPCIuploadfile()}),e.EFF(16,"submit"),e.k0s(),e.j41(17,"button",13),e.bIt("click",function(){return n.BulkDownload()}),e.EFF(18,"Upload NPCI files"),e.k0s()(),e.j41(19,"div",14)(20,"ag-grid-angular",15),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()(),e.j41(21,"mat-tab",16)(22,"div",4)(23,"div",5)(24,"div",6)(25,"mat-form-field",7)(26,"mat-label"),e.EFF(27,"Date"),e.k0s(),e.j41(28,"input",17,18),e.bIt("dateChange",function(s){return n.onFromDateChangeforRET(s)}),e.k0s(),e.nrm(30,"mat-datepicker-toggle",10)(31,"mat-datepicker",null,19),e.k0s()(),e.j41(33,"div",20)(34,"button",12),e.bIt("click",function(){return n.getTCCData()}),e.EFF(35,"Fetch TCC"),e.k0s()(),e.j41(36,"div",20)(37,"button",12),e.bIt("click",function(){return n.UpdateRET()}),e.EFF(38,"Update RET"),e.k0s()(),e.j41(39,"div",21)(40,"button",22),e.bIt("click",function(){return n.onUploadClick()}),e.EFF(41,"Upload File"),e.k0s(),e.j41(42,"input",23,24),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()()(),e.j41(44,"div",14)(45,"ag-grid-angular",15),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()()()()()),2&a){const i=e.sdS(14),s=e.sdS(32);e.R7$(10),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(8),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)("defaultColDef",n.defaultColDef),e.R7$(8),e.Y8G("matDatepicker",s),e.R7$(2),e.Y8G("for",s),e.R7$(15),e.Y8G("rowData",n.rowDataforRET)("columnDefs",n.columnDefsforRET)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)("defaultColDef",n.defaultColDef)}},dependencies:[pt.$z,Ne.mq,Ne.T8,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs,ke.oV],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:15px;padding:8px 0}.action-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}.action-buttons[_ngcontent-%COMP%]   .ttum-type[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:126%}.action-buttons[_ngcontent-%COMP%]   .final-status[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:55px}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0}.child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:14px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}  .toggle-off{color:#8a8a8a;font-size:45px}  .toggle-on{color:#f1c64f;font-size:45px}.upload-file[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:1px solid #ccc;outline:none;border-radius:10px;background:transparent;color:#666;cursor:pointer;margin-bottom:20px}.upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}"]})}}return o})();const Fd=["fromDate2"];function Md(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.forceRecon())}),e.EFF(1,"Force Reconcilation"),e.k0s()}}function Sd(o,r){if(1&o&&(e.j41(0,"mat-option",14)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(t.downloadtype)}}function Pd(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",15)(1,"div",16)(2,"span",17),e.EFF(3," Discrepancy details: "),e.j41(4,"span",18),e.EFF(5,"To check the mismatch "),e.k0s(),e.j41(6,"span",19),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openMismatch())}),e.EFF(7," Click here "),e.k0s()()()()}}function wd(o,r){if(1&o&&(e.j41(0,"div",31)(1,"div",32)(2,"span",33),e.EFF(3),e.k0s()(),e.j41(4,"div",34)(5,"span"),e.EFF(6,"Total trans. count"),e.k0s(),e.j41(7,"span",28),e.EFF(8),e.k0s()(),e.j41(9,"div",35)(10,"span"),e.EFF(11,"Total amount"),e.k0s(),e.j41(12,"span",28),e.EFF(13),e.k0s()()()),2&o){const t=r.$implicit;e.R7$(3),e.JRh(t.sourceType),e.R7$(5),e.JRh(t.totalTranCount),e.R7$(5),e.JRh(t.totalAmt)}}function Od(o,r){if(1&o&&(e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"div",24)(4,"span",25),e.EFF(5),e.k0s()(),e.j41(6,"div",26)(7,"div",27)(8,"div")(9,"span"),e.EFF(10,"Total trans. count:"),e.k0s(),e.j41(11,"span",28),e.EFF(12),e.k0s()(),e.j41(13,"div")(14,"span"),e.EFF(15,"Total amount:"),e.k0s(),e.j41(16,"span",28),e.EFF(17),e.k0s()()()()(),e.j41(18,"div",29),e.DNE(19,wd,14,3,"div",30),e.k0s()()()),2&o){const t=r.$implicit;e.R7$(5),e.JRh(t.dataSource),e.R7$(7),e.JRh(t.totalTxnCount),e.R7$(5),e.JRh(t.totalTxnAmount),e.R7$(2),e.Y8G("ngForOf",t.datSourceDetails)}}function Td(o,r){if(1&o&&(e.qex(0),e.DNE(1,Od,20,4,"div",20),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.dataToShow)}}function kd(o,r){1&o&&(e.qex(0),e.j41(1,"div",36),e.nrm(2,"img",37),e.j41(3,"div",38)(4,"h2"),e.EFF(5,"Please select the date to view the desired summary."),e.k0s()()(),e.bVm())}let Ed=(()=>{class o{constructor(t,a,n,i,s,l){this.renderer=t,this.dialog=a,this.URMService=n,this.notify=i,this.spinnerService=s,this.cdr=l,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.dataToShow=[],this.checkData=[],this.showData=!1,this.shouldShowButton=!1,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsx",downloadtype:"EXCEL"}]}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id"),this.shouldShowButton=!1}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection summay APIs called"),this.spinnerService.hide())}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput2.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange2(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}getDCSummaryButton(){localStorage.setItem("allow_force_recon","false"),this.shouldShowButton=!1;const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.detacollectionsummary({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId,creation_date:this.fromDateFormatted}).then(n=>{if(console.log("detacollectionsummary response =>",n),n&&200===n.statusCode){if(this.dataToShow=n.data,console.log("Data to Show:",this.dataToShow),this.dataToShow&&this.dataToShow.length>0){const i=this.dataToShow.find(l=>"NTSL"===l.dataSource),s=this.dataToShow.find(l=>"NPCI"===l.dataSource);if(i){console.log("\u{1f680} NTSL Data:",i);const l=i.datSourceDetails?.find(d=>"Beneficiary"===d.sourceType);this.beneficiaryTranCount=l?parseFloat(l.totalTranCount):0,this.beneficiaryTotalAmt=l?parseFloat(l.totalAmt):0;const c=i.datSourceDetails?.find(d=>"Remitter"===d.sourceType);this.remitterTranCount=c?parseFloat(c.totalTranCount):0,this.remitterTotalAmt=c?parseFloat(c.totalAmt):0}if(s){const l=s.datSourceDetails?.find(d=>"Acquirer"===d.sourceType);this.acquirerTranCount=l?parseFloat(l.totalTranCount):0,this.acquirerTotalAmt=l?parseFloat(l.totalAmt):0;const c=s.datSourceDetails?.find(d=>"Issuer"===d.sourceType);this.IssuerTranCount=c?parseFloat(c.totalTranCount):0,this.IssuerToalAmt=c?parseFloat(c.totalAmt):0}i.totalTxnCount==s.totalTxnCount&&i.totalTxnAmount===s.totalTxnAmount&&this.beneficiaryTranCount==this.IssuerTranCount&&this.beneficiaryTotalAmt==this.IssuerToalAmt&&this.remitterTranCount==this.acquirerTranCount&&this.remitterTotalAmt==this.acquirerTotalAmt?(localStorage.setItem("allow_force_recon","true"),console.log("\u{1f680} ~ DataCollectionSummaryComponent ~ forceRecon ~ this.shouldShowButton:++++++++++",this.shouldShowButton),console.log("Transaction data for NTSL and NPCI are the same.")):(localStorage.setItem("allow_force_recon","false"),this.shouldShowButton=!0,this.differences={totalTxnCountDifference:i.totalTxnCount-s.totalTxnCount,totalTxnAmountDifference:i.totalTxnAmount-s.totalTxnAmount,beneficiaryTranCountDifference:this.beneficiaryTranCount-this.IssuerTranCount,beneficiaryTotalAmtDifference:this.beneficiaryTotalAmt-this.IssuerToalAmt,remitterTranCountDifference:this.remitterTranCount-this.acquirerTranCount,remitterTotalAmtDifference:this.remitterTotalAmt-this.acquirerTotalAmt},console.log("Transaction data for NTSL and NPCI differ.>>>>>>>>>>>>>>>>",this.differences)),this.showData=!0}else console.warn("No data found in dataToShow.");t.close()}else this.notify.showErrorToast(n.errorMessage||"An error occurred.","Close"),t.close()}).catch(n=>{console.log("Error occured fetching DS summary",n),t.close()})}forceRecon(){console.log("\u{1f680} ~ DataCollectionSummaryComponent ~ forceRecon ~ this.shouldShowButton:<<<<<<<<<<<<<<",this.shouldShowButton),localStorage.setItem("allow_force_recon","true"),this.notify.showSuccessToast("Force Reconcilation Completed!","Close"),this.shouldShowButton=!1,console.log("\u{1f680} ~ DataCollectionSummaryComponent ~ forceRecon ~ this.shouldShowButton:>>>>>>>>>>>>>",this.shouldShowButton),console.log("Reconcilation>>>>>>>>>>>>>force")}selectDownloadType(t){console.log("event---\x3e",t);const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getDataCollectionSummery({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId,creation_date:this.fromDateFormatted}).then(i=>{if(console.log("download response",i),"xlsx"===t.value){const c=new Blob([i],{type:"application/vnd.ms-excel;charset=utf-8"});let d=window.URL.createObjectURL(c);(s=document.createElement("a")).download=`data_collection_summery_${this.fromDateFormatted}.xlsx`,s.href=d,document.body.appendChild(s),s.click(),document.body.removeChild(s)}else if("csv"===t.value){const c=new Blob([i],{type:"text/csv;charset=utf-8"});let d=window.URL.createObjectURL(c);var s;(s=document.createElement("a")).download=`data_collection_summery_${this.fromDateFormatted}.csv`,s.href=d,document.body.appendChild(s),s.click(),document.body.removeChild(s)}this.notify.showSuccessToast("Data collection summery report generated!","Close"),a.close()}).catch(i=>{console.log("Error occured fetching DS summary",i),a.close()})}openMismatch(){this.dialog.open(Se.r,{height:"auto",width:"38%",data:{action:"discrepancy-detected",content:this.differences}})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(e.sFG),e.rXU(F.bZ),e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(je.D),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-data-collection-summary"]],viewQuery:function(a,n){if(1&a&&e.GBs(Fd,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput2=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:21,vars:7,consts:[[1,"DS-container"],[1,"inputs-buttons"],["class","forceRecon-btn",3,"click",4,"ngIf"],["appearance","outline"],["matInput","","placeholder","Select date",3,"matDatepicker","dateChange"],["fromDate2",""],["matSuffix","",3,"for"],["fromDatepicker2",""],[1,"apply-btn",3,"click"],[3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","click-buttons",4,"ngIf"],[4,"ngIf"],[1,"forceRecon-btn",3,"click"],[3,"value"],[1,"click-buttons"],[1,"discrepancy-option"],[1,"discrepancy-text"],[2,"color","black"],[2,"color","blue","text-decoration","underline","cursor","pointer",3,"click"],["class","summary-container",4,"ngFor","ngForOf"],[1,"summary-container"],[1,"summary-content"],[1,"summary-header"],[1,"title-header"],[1,"summary-title"],[1,"header-counts"],[1,"title"],[1,"amount"],[1,"main-cards"],["class","cards",4,"ngFor","ngForOf"],[1,"cards"],[1,"card-title"],[1,""],[1,"card-tran-count"],[1,"card-amt-total"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Md,2,0,"button",2),e.j41(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange2(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s(),e.j41(11,"button",8),e.bIt("click",function(){return n.getDCSummaryButton()}),e.EFF(12," Apply "),e.k0s(),e.j41(13,"mat-form-field",3)(14,"mat-label"),e.EFF(15,"Download file"),e.k0s(),e.j41(16,"mat-select",9),e.bIt("selectionChange",function(s){return n.selectDownloadType(s)}),e.DNE(17,Sd,4,2,"mat-option",10),e.k0s()()(),e.DNE(18,Pd,8,0,"div",11),e.DNE(19,Td,2,1,"ng-container",12),e.DNE(20,kd,6,0,"ng-container",12),e.k0s()),2&a){const i=e.sdS(10);e.R7$(2),e.Y8G("ngIf",n.shouldShowButton),e.R7$(4),e.Y8G("matDatepicker",i),e.R7$(2),e.Y8G("for",i),e.R7$(9),e.Y8G("ngForOf",n.downloads),e.R7$(1),e.Y8G("ngIf",n.shouldShowButton),e.R7$(1),e.Y8G("ngIf",!0===n.showData),e.R7$(1),e.Y8G("ngIf",!1===n.showData)}},dependencies:[g.Sq,g.bT,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT],styles:[".DS-container[_ngcontent-%COMP%]   .click-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:15px}.DS-container[_ngcontent-%COMP%]   .click-buttons[_ngcontent-%COMP%]   .discrepancy-option[_ngcontent-%COMP%]{color:#e93737;font-size:16px}.DS-container[_ngcontent-%COMP%]   .click-buttons[_ngcontent-%COMP%]   .discrepancy-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f;text-decoration:underline;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .forceRecon-btn[_ngcontent-%COMP%]{background:rgb(255,255,255);color:#9351fb;border:2px solid rgb(147,81,251);width:193px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}"]})}}return o})();const Id=["downloadDropdown"],Rd=["fromDate"],Ad=["toDate"];function jd(o,r){if(1&o&&(e.j41(0,"mat-option",15)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(t.downloadtype)}}function Nd(o,r){if(1&o&&(e.j41(0,"span",46),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(1),e.JRh(t.atmData[0].atm_details.previous_eod_time)}}function Bd(o,r){if(1&o){const t=e.RV6();e.j41(0,"input",50),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG(4);return e.Njj(i.atmData[0].atm_details.previous_eod_time=n)}),e.k0s()}if(2&o){const t=e.XpG(4);e.Y8G("ngModel",t.atmData[0].atm_details.previous_eod_time)}}function Gd(o,r){if(1&o){const t=e.RV6();e.j41(0,"span",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.startEditing("previous_eod_time"))}),e.EFF(1,"edit"),e.k0s()}}function Vd(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"span",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.save("previous_eod_time"))}),e.EFF(2,"check_circle"),e.k0s(),e.j41(3,"span",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.cancel("previous_eod_time"))}),e.EFF(4,"cancel"),e.k0s()()}}function $d(o,r){if(1&o&&(e.j41(0,"span",46),e.EFF(1),e.k0s()),2&o){const t=e.XpG(4);e.R7$(1),e.JRh(t.atmData[0].atm_details.last_eod_time)}}function Ud(o,r){if(1&o){const t=e.RV6();e.j41(0,"input",50),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG(4);return e.Njj(i.atmData[0].atm_details.last_eod_time=n)}),e.k0s()}if(2&o){const t=e.XpG(4);e.Y8G("ngModel",t.atmData[0].atm_details.last_eod_time)}}function Yd(o,r){if(1&o){const t=e.RV6();e.j41(0,"span",51),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.startEditing("last_eod_time"))}),e.EFF(1,"edit"),e.k0s()}}function zd(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"span",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.save("last_eod_time"))}),e.EFF(2,"check_circle"),e.k0s(),e.j41(3,"span",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG(4);return e.Njj(n.cancel("last_eod_time"))}),e.EFF(4,"cancel"),e.k0s()()}}function Xd(o,r){if(1&o&&(e.j41(0,"div",43)(1,"div",44)(2,"span",45),e.EFF(3,"Branch address:"),e.k0s(),e.j41(4,"span",46),e.EFF(5),e.k0s()(),e.j41(6,"div",44)(7,"span",45),e.EFF(8,"Vendor name:"),e.k0s(),e.j41(9,"span",46),e.EFF(10),e.k0s()(),e.j41(11,"div",44)(12,"span",45),e.EFF(13,"Recon date:"),e.k0s(),e.j41(14,"span",46),e.EFF(15),e.k0s()(),e.j41(16,"div",44)(17,"span",45),e.EFF(18,"Previous EOD date:"),e.k0s(),e.j41(19,"span",46),e.EFF(20),e.k0s()(),e.j41(21,"div",44)(22,"span",45),e.EFF(23,"Previous EOD time:"),e.k0s(),e.DNE(24,Nd,2,1,"span",47),e.DNE(25,Bd,1,1,"input",48),e.DNE(26,Gd,2,0,"span",49),e.DNE(27,Vd,5,0,"div",14),e.k0s(),e.j41(28,"div",44)(29,"span",45),e.EFF(30,"Previous EOD Last successful Txn no."),e.k0s(),e.j41(31,"span",46),e.EFF(32),e.k0s()(),e.j41(33,"div",44)(34,"span",45),e.EFF(35,"Recon process date"),e.k0s(),e.j41(36,"span",46),e.EFF(37),e.k0s()(),e.j41(38,"div",44)(39,"span",45),e.EFF(40,"EOD time:"),e.k0s(),e.DNE(41,$d,2,1,"span",47),e.DNE(42,Ud,1,1,"input",48),e.DNE(43,Yd,2,0,"span",49),e.DNE(44,zd,5,0,"div",14),e.k0s(),e.j41(45,"div",44)(46,"span",45),e.EFF(47,"Successful Txn no.:"),e.k0s(),e.j41(48,"span",46),e.EFF(49),e.k0s()()()),2&o){const t=e.XpG(3);e.R7$(5),e.JRh(t.atmData[0].atm_details.branch_address),e.R7$(5),e.JRh(t.atmData[0].atm_details.vendor_name),e.R7$(5),e.JRh(t.atmData[0].atm_details.reconciliation_date),e.R7$(5),e.JRh(t.atmData[0].atm_details.previous_eod_date),e.R7$(4),e.Y8G("ngIf",!t.isEditing.previous_eod_time),e.R7$(1),e.Y8G("ngIf",t.isEditing.previous_eod_time),e.R7$(1),e.Y8G("ngIf",!t.isEditing.previous_eod_time),e.R7$(1),e.Y8G("ngIf",t.isEditing.previous_eod_time),e.R7$(5),e.JRh(t.atmData[0].atm_details.previous_eod_last_successful_txn),e.R7$(5),e.JRh(t.atmData[0].atm_details.last_eod_date),e.R7$(4),e.Y8G("ngIf",!t.isEditing.last_eod_time),e.R7$(1),e.Y8G("ngIf",t.isEditing.last_eod_time),e.R7$(1),e.Y8G("ngIf",!t.isEditing.last_eod_time),e.R7$(1),e.Y8G("ngIf",t.isEditing.last_eod_time),e.R7$(5),e.JRh(t.atmData[0].atm_details.last_eod_last_successful_txn)}}function qd(o,r){if(1&o&&(e.j41(0,"div",54)(1,"span",27),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.SpI("Amount: ",t.amount,"")}}function Ld(o,r){if(1&o&&(e.j41(0,"div",54)(1,"span",27),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.SpI("Amount: ",t.amount,"")}}function Hd(o,r){if(1&o&&(e.j41(0,"div",55)(1,"span",27),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.SpI("Total amount: ",t.total_amount,"")}}function Jd(o,r){if(1&o&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(1),e.SpI("",t.name," ")}}function Wd(o,r){if(1&o&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(1),e.JRh(t.amount)}}function Zd(o,r){if(1&o&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(1),e.SpI("",t.name," ")}}function Qd(o,r){if(1&o&&(e.j41(0,"span",56),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.R7$(1),e.JRh(t.amount)}}function Kd(o,r){if(1&o&&(e.j41(0,"div",57)(1,"span",27),e.EFF(2),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.SpI("Total amount: ",t.total_amount,"")}}const ep=function(o,r){return{"enabled-btn":o,"disabled-btn":r}};function tp(o,r){if(1&o){const t=e.RV6();e.j41(0,"div"),e.DNE(1,Xd,50,15,"div",17),e.nrm(2,"hr",18),e.j41(3,"div",19)(4,"div",20),e.DNE(5,qd,5,2,"div",21),e.k0s(),e.nrm(6,"hr",18),e.j41(7,"div",22),e.DNE(8,Ld,5,2,"div",21),e.k0s(),e.nrm(9,"hr",18),e.j41(10,"div",23),e.DNE(11,Hd,5,2,"div",24),e.k0s(),e.nrm(12,"hr",18),e.j41(13,"div",25)(14,"div",26)(15,"span",27),e.EFF(16),e.k0s(),e.j41(17,"span"),e.EFF(18),e.k0s()(),e.j41(19,"div",28)(20,"div",29)(21,"div",30)(22,"span"),e.EFF(23,"Less"),e.k0s()(),e.j41(24,"div",31)(25,"div",32)(26,"div",33),e.DNE(27,Jd,2,1,"span",34),e.k0s(),e.j41(28,"div",33),e.DNE(29,Wd,2,1,"span",34),e.k0s()()()(),e.j41(30,"div",29)(31,"div",30)(32,"span"),e.EFF(33,"Add"),e.k0s()(),e.j41(34,"div",31)(35,"div",32)(36,"div",33),e.DNE(37,Zd,2,1,"span",34),e.k0s(),e.j41(38,"div",33),e.DNE(39,Qd,2,1,"span",34),e.k0s()()()()()(),e.nrm(40,"hr",18),e.j41(41,"div",23),e.DNE(42,Kd,5,2,"div",35),e.k0s(),e.j41(43,"div",25)(44,"div",26)(45,"span",27),e.EFF(46),e.k0s(),e.j41(47,"span"),e.EFF(48),e.k0s()()(),e.j41(49,"div",36)(50,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("new-component","Force Match"))}),e.EFF(51,"Force Match"),e.k0s(),e.j41(52,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/missingEJ","Missing EJ"))}),e.EFF(53," Missing EJ"),e.k0s(),e.j41(54,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/adjustmentTTUM","Adjustment TTUM"))}),e.EFF(55,"Add TTUM"),e.k0s(),e.j41(56,"span",38),e.EFF(57,"Overage shortage portal"),e.k0s(),e.j41(58,"span",38),e.EFF(59,"EJ counter working"),e.k0s(),e.j41(60,"span",38),e.EFF(61,"Download EJ file"),e.k0s(),e.j41(62,"span",38),e.EFF(63,"CBR report (Last 5 EOD)"),e.k0s(),e.j41(64,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/switchTransactions","Switch transaction listing"))}),e.EFF(65," Switch transaction listing"),e.k0s(),e.j41(66,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/ejTransaction","EJ transaction listing"))}),e.EFF(67," EJ transaction listing"),e.k0s(),e.j41(68,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/glTransaction","GL transaction listing"))}),e.EFF(69," GL transaction listing"),e.k0s(),e.j41(70,"span",38),e.EFF(71,"Transaction analysis"),e.k0s(),e.j41(72,"span",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openNewTab("/exceptionTransactions","Exception transaction listing"))}),e.EFF(73," Exception transaction listing"),e.k0s()(),e.j41(74,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.confirmRecon())}),e.EFF(75," Confirm Recon "),e.k0s(),e.j41(76,"div",40)(77,"h4"),e.EFF(78,"PART-A LIST OF ENTRIES"),e.k0s(),e.j41(79,"p"),e.EFF(80,"Total of Items which increase GL Balance"),e.k0s(),e.j41(81,"div",41)(82,"ag-grid-angular",42),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onGridReady(n))}),e.k0s()()(),e.nrm(83,"hr",18),e.j41(84,"div",40)(85,"h4"),e.EFF(86,"PART-B LIST OF ENTRIES"),e.k0s(),e.j41(87,"p"),e.EFF(88,"Total of Items which increase GL Balance"),e.k0s(),e.j41(89,"div",41)(90,"ag-grid-angular",42),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.onGridReady(n))}),e.k0s()()()()()}if(2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.atmData),e.R7$(4),e.Y8G("ngForOf",t.atmData[0].dispenses),e.R7$(3),e.Y8G("ngForOf",t.atmData[0].differences),e.R7$(3),e.Y8G("ngForOf",t.atmData[0].deposits),e.R7$(5),e.JRh(t.atmData[0].cash_balance.name),e.R7$(2),e.SpI("Total amount: ",t.atmData[0].cash_balance.total_amount,""),e.R7$(9),e.Y8G("ngForOf",t.atmData[0].single_atm_less),e.R7$(2),e.Y8G("ngForOf",t.atmData[0].single_atm_less),e.R7$(8),e.Y8G("ngForOf",t.atmData[0].single_atm_add),e.R7$(2),e.Y8G("ngForOf",t.atmData[0].single_atm_add),e.R7$(3),e.Y8G("ngForOf",t.atmData[0].closing_items),e.R7$(4),e.JRh(t.atmData[0].final_diff.name),e.R7$(2),e.SpI("Total amount: ",t.atmData[0].final_diff.total_amount,""),e.R7$(26),e.Y8G("disabled",0!==t.atmData[0].final_diff.total_amount)("ngClass",e.l_i(23,ep,0===t.atmData[0].final_diff.total_amount,0!==t.atmData[0].final_diff.total_amount)),e.R7$(8),e.Y8G("rowData",t.rowDataPartA)("columnDefs",t.columnDefsPartA)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef),e.R7$(8),e.Y8G("rowData",t.rowDataPartB)("columnDefs",t.columnDefsPartB)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef)}}function np(o,r){if(1&o&&(e.qex(0),e.DNE(1,tp,91,26,"div",16),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngForOf",t.atmData)}}function op(o,r){1&o&&(e.qex(0),e.j41(1,"div",58),e.nrm(2,"img",59),e.j41(3,"div",60)(4,"h2"),e.EFF(5,"Please select the date to view the desired summary."),e.k0s()()(),e.bVm())}let ap=(()=>{class o{constructor(t,a,n,i,s){this.router=t,this.dialog=a,this.renderer=n,this.URMService=i,this.notify=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.rowData=[],this.rowDataPartA=[],this.rowDataPartB=[],this.showSingleATMData=!1,this.isEditing={},this.originalValues={},this.atmData=[],this.columnDefsPartA=[{field:"identifier",headerName:"ATMID/Txn no/Date/card no",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"amount",headerName:"Amount",filter:"agMultiColumnFilter"},{field:"glEntryNarration",headerName:"GL Entry Narration",filter:"agMultiColumnFilter"},{field:"matchedOn",headerName:"Matched On",filter:"agMultiColumnFilter"},{field:"ageing",headerName:"Ageing",filter:"agMultiColumnFilter"},{field:"ejError",headerName:"EJ Error",filter:"agMultiColumnFilter"},{field:"ttumGeneratedDate",headerName:"TTUM Generated Date",filter:"agMultiColumnFilter"},{field:"glEntryDate",headerName:"GL Entry Date",filter:"agMultiColumnFilter"}],this.columnDefsPartB=[{field:"identifier",headerName:"ATMID/Txn no/Date/card no",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"amount",headerName:"Amount",filter:"agMultiColumnFilter"},{field:"glEntryNarration",headerName:"GL Entry Narration",filter:"agMultiColumnFilter"},{field:"matchedOn",headerName:"Matched On",filter:"agMultiColumnFilter"},{field:"ageing",headerName:"Ageing",filter:"agMultiColumnFilter"},{field:"ejError",headerName:"EJ Error",filter:"agMultiColumnFilter"},{field:"ttumGeneratedDate",headerName:"TTUM Generated Date",filter:"agMultiColumnFilter"},{field:"glEntryDate",headerName:"GL Entry Date",filter:"agMultiColumnFilter"}],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-1),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}getSingleATMDataButton(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getSingleATMReconDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,fromDateFormatted:this.fromDateFormatted,toDateFormatted:this.toDateFormatted,atmId:this.atmId},{}).then(i=>{const s=i;console.log("single atm response",s.data),this.atmData=s.data,this.showSingleATMData=!0,console.log("atmData.atm_details",this.atmData[0].atm_details),this.eod_date=this.atmData[0].atm_details.previous_eod_date,this.URMService.getPartAPartBDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,fromDateFormatted:this.fromDateFormatted,toDateFormatted:this.toDateFormatted,atmId:this.atmId,eod_date:this.eod_date}).then(c=>{console.log("Part A and Part B response",c);const d=c;d&&d.result?(this.rowDataPartA=d.result.matchedDetailsC,this.rowDataPartB=d.result.matchedDetailsD):console.error("Error: result or matchedDetails not found in response")}).catch(c=>{console.error("Error occurred fetching Part A and Part B details:",c)}),t.close()}).catch(i=>{console.log("error occured generating inward report",i),t.close()})}onGridReady(t){}confirmRecon(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"singleAtm",content:""}}).componentInstance.onClickButton.subscribe(n=>{n&&(this.isButtonDisabled=!0,console.log("date,this.atmId",n,this.atmId),this.URMService.postConfirmRecon(this.productId,this.applicationId,this.projectId,n,this.atmId).then(s=>{setTimeout(()=>{this.isButtonDisabled=!1},3e3)}).catch(s=>{console.log("error occured generating inward report",s)}))})}objectKeys(t){return Object.keys(t)}startEditing(t){this.isEditing[t]=!0,this.originalValues[t]=this.atmData[0].atm_details[t]}save(t){const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getSingleATMReconDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,fromDateFormatted:this.fromDateFormatted,toDateFormatted:this.toDateFormatted,atmId:this.atmId},{previous_eod_time:this.atmData[0].atm_details.previous_eod_time,last_eod_time:this.atmData[0].atm_details.last_eod_time}).then(c=>{if(200!==c.statusCode)throw new Error("ATM details not fetched!");this.atmData=c.data,console.log("Single ATM response",c.data)}).then(()=>this.URMService.getPartAPartBDetails({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,fromDateFormatted:this.fromDateFormatted,toDateFormatted:this.toDateFormatted,atmId:this.atmId,eod_date:this.eod_date})).then(c=>{console.log("save response",c);const d=c.result;d?(this.rowDataPartA=d.matchedDetailsC,this.rowDataPartB=d.matchedDetailsD,console.log("Part A and Part B response",d)):console.error("Error: result or matchedDetails not found in response")}).catch(c=>{console.error("An error occurred:",c),this.notify.showErrorToast("Failed to save ATM details","Close")}).finally(()=>{a.close(),this.isEditing[t]=!1,delete this.originalValues[t]})}cancel(t){this.atmData[0].atm_details[t]=this.originalValues[t],this.isEditing[t]=!1,delete this.originalValues[t]}openNewTab(t,a){let n;"Switch transaction listing"===a||"GL transaction listing"===a||"EJ transaction listing"===a?n={atmId:this.atmId,fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,previousEodLastSuccesTxns:this.atmData[0].atm_details.previous_eod_last_successful_txn,lastEodLastSuccessTxns:this.atmData[0].atm_details.last_eod_last_successful_txn}:("Missing EJ"===a||"Adjustment TTUM"===a||"Exception transaction listing"===a)&&(n={atmId:this.atmId,fromDate:this.fromDateFormatted,toDate:this.toDateFormatted}),console.log("dataToSend",n);const i=new URLSearchParams(n).toString();console.log("params",i),window.open(`${bn.$.newTab}${t}?${i}`,"_blank")}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(b.Ix),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(Pe.V),e.rXU(Ce.J))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-single-atm-recon"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Id,5),e.GBs(Rd,5),e.GBs(Ad,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},decls:32,vars:10,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],[1,"apply-btn",3,"click"],["downloadDropdown",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],["class","amt-details",4,"ngFor","ngForOf"],[2,"border","1px solid #DDCBF8","margin","20px","margin-left","0px","margin-right","0px"],[1,"summary-container"],[1,"dispense-content"],["class","dispense-card",4,"ngFor","ngForOf"],[1,"diff-content"],[1,"deposits"],["class","deposit-cards",4,"ngFor","ngForOf"],[1,"opening-bal"],[1,"cash-card"],[1,"card-title"],[1,"less-card"],[1,"less-content"],[1,"less-title"],[1,"less-box"],[1,"less-titles",2,"width","100%","display","flex"],[2,"width","50%"],["style","display: block;padding-bottom: 10px;",4,"ngFor","ngForOf"],["class","deposits-cards",4,"ngFor","ngForOf"],[1,"wrapper"],[1,"text",3,"click"],[1,"text"],["type","submit",1,"_btnnext",3,"disabled","ngClass","click"],[1,"tabel_inner"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","50vh",3,"rowData","columnDefs","gridOptions","defaultColDef","gridReady"],[1,"amt-details"],[1,"amt-values"],[1,"key"],[1,"value"],["class","value",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["id","edi-icon","class","material-symbols-outlined","matTooltip","Edit",3,"click",4,"ngIf"],[3,"ngModel","ngModelChange"],["id","edi-icon","matTooltip","Edit",1,"material-symbols-outlined",3,"click"],["id","check_circle","matTooltip","Save",1,"material-symbols-outlined",3,"click"],["id","cancel","matTooltip","Cancel",1,"material-symbols-outlined",3,"click"],[1,"dispense-card"],[1,"deposit-cards"],[2,"display","block","padding-bottom","10px"],[1,"deposits-cards"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){return n.getSingleATMDataButton()}),e.EFF(23," Fetch "),e.k0s(),e.j41(24,"mat-form-field",2)(25,"mat-label"),e.EFF(26,"Download file"),e.k0s(),e.j41(27,"mat-select",null,12),e.DNE(29,jd,4,2,"mat-option",13),e.k0s()()(),e.DNE(30,np,2,1,"ng-container",14),e.DNE(31,op,6,0,"ng-container",14),e.k0s()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(1),e.Y8G("ngIf",n.showSingleATMData),e.R7$(1),e.Y8G("ngIf",!1===n.showSingleATMData)}},dependencies:[g.YU,g.Sq,g.bT,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,mt.PW,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:10px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:52px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:16px}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]   #edi-icon[_ngcontent-%COMP%]{font-size:20px;margin-left:6px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;outline:none;border:1px solid #ddd;width:15%;height:18px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]   .ng-untouched[_ngcontent-%COMP%]   .ng-pristine[_ngcontent-%COMP%]   .ng-valid[_ngcontent-%COMP%]   .ng-star-inserted[_ngcontent-%COMP%]{font-size:18px}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]   #check_circle[_ngcontent-%COMP%]{margin:0 8px;color:#adff2f;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .amt-values[_ngcontent-%COMP%]   #cancel[_ngcontent-%COMP%]{color:red;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{margin-right:10px}.DS-container[_ngcontent-%COMP%]   .amt-details[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .dispense-content[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .diff-content[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .reversal-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px;padding:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .dispense-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .diff-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .reversal-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%]{display:grid;justify-content:space-between;align-items:center;border:1px solid #E9E9E9;padding:12px;border-radius:10px;background:#F9FAFB;width:100%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .dispense-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .diff-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%], .DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .reversal-content[_ngcontent-%COMP%]   .dispense-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .deposits[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;padding:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .deposits[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]{display:grid;justify-content:flex-start;align-items:center;gap:15px;border:1px solid #E9E9E9;padding:12px;border-radius:10px;background:#F9FAFB}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .deposits[_ngcontent-%COMP%]   .deposit-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .deposits[_ngcontent-%COMP%]   .deposits-cards[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:30px;border:1px solid #E9E9E9;padding:12px;border-radius:10px;background:#F9FAFB}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .deposits[_ngcontent-%COMP%]   .deposits-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;width:42%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .opening-bal[_ngcontent-%COMP%]{padding:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .opening-bal[_ngcontent-%COMP%]   .cash-card[_ngcontent-%COMP%]{border:1px solid #E9E9E9;padding:12px;border-radius:10px;background:#F9FAFB}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .opening-bal[_ngcontent-%COMP%]   .cash-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-right:10%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:20px;margin-top:20px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]   .less-content[_ngcontent-%COMP%]{border:1px solid #ccc;width:100%;background:#F9FAFB;border-radius:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]   .less-content[_ngcontent-%COMP%]   .less-title[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:10px;font-size:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]   .less-content[_ngcontent-%COMP%]   .less-box[_ngcontent-%COMP%]{border:2px solid #ccc;border-radius:10px;padding:12px;margin:12px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]   .less-content[_ngcontent-%COMP%]   .less-box[_ngcontent-%COMP%]   .less-titles[_ngcontent-%COMP%]{display:grid;align-items:center;gap:10px;padding:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .less-card[_ngcontent-%COMP%]   .less-content[_ngcontent-%COMP%]   .less-box[_ngcontent-%COMP%]   .less-counts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:50px;border-radius:5px;background:transparent;padding:10px;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;border:2px solid #E9E9E9;border-radius:5px;background-color:#f9fafb;padding:1em;color:#047404;cursor:pointer;text-align:center}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:hover{color:#2486e2}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.DS-container[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;margin:15px 10px}.DS-container[_ngcontent-%COMP%]   .disabled-btn[_ngcontent-%COMP%]{background-color:gray;cursor:default;color:#fff}.DS-container[_ngcontent-%COMP%]   .tabel_inner[_ngcontent-%COMP%]{border:1px solid #DFDFDF;border-radius:10px}.DS-container[_ngcontent-%COMP%]   .tabel_inner[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{padding-left:15px}.DS-container[_ngcontent-%COMP%]   .tabel_inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:10px}"]})}}return o})();const ip=["fromDate"];function rp(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"ag-grid-angular",12),e.bIt("rowClicked",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.rowView(n))})("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("rowData",t.rowData)("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef)("pagination",!0)("paginationPageSize",t.paginationPageSize)}}function sp(o,r){1&o&&(e.qex(0),e.j41(1,"div",13),e.nrm(2,"img",14),e.j41(3,"div",15)(4,"h2"),e.EFF(5,"Fetch and click on start recon to start reconciliation process."),e.k0s()()(),e.bVm())}let lp=(()=>{class o{constructor(t,a,n,i,s){this.URMService=t,this.notify=a,this.dialog=n,this.renderer=i,this.spinnerService=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.isDrawerOpen=!1,this.showTextIfFailed=!1,this.chipColor="black",this.rowData=[],this.notRollbacked=!1,this.rowHeight=55,this.headerHeight=50,this.files=["file1.txt","file2.txt","file3.txt","file4.txt"],this.cyclesArray=Array.from({length:8},(l,c)=>({value:(c+1).toString(),viewValue:(c+1).toString()})),this.datasourceArray=[],this.fileStatusArray=[{name:"Successful"},{name:"In progress"},{name:"Rollback"}],this.showMultipleATMData=!1,this.columnDefs=[{field:"source",headerName:"Source",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"file_name",headerName:"File",filter:"agMultiColumnFilter"},{field:"cycle",headerName:"Cycle",filter:"agMultiColumnFilter"},{headerName:"Status",field:"status",cellRenderer:l=>{const c=l.value;let d="";return"Successful"===c?d="status-green":"Pending"===c?d="status-gray":"In progress"===c||"In Progress"===c?d="status-forProgress":"failed"===c?d="status-red":"Rollback"===c&&(d="status-rollback"),`<div class="${d}">${c}</div>`},minWidth:200},{field:"remark",headerName:"Remark"},{headerName:"Uploaded on",cellRenderer:l=>(console.log("Date Params",l.data.uploaded_on),l.data.uploaded_on?new Date(l.data.uploaded_on).toLocaleString().slice(0,20).replace("T"," "):"")},{field:"records",headerName:"Records"},{field:"duplicate_records",headerName:"Duplicate records"},{field:"total_amount",headerName:"Total amount"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnChanges(t){}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}ViewClicked(t){console.log("ViewClicked",t),this.openDrawer(t.data)}openDrawer(t){this.isDrawerOpen=!0,this.selectedRowData=t,console.log(this.selectedRowData),this.notRollbacked=!0}closeDrawer(){this.isDrawerOpen=!1,this.selectedRowData=null}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}selectedDatasource(t){console.log("selectedDatasource event",t),this.datasource_name=t.name,this.requestBody={source:this.datasource_name?this.datasource_name:"",cycle:this.cycle_no?this.cycle_no:"",file_status:this.file_status?this.file_status:""},console.log("selectedDatasource body",this.requestBody)}selectedCycle(t){console.log("selectedCycle event",t),this.cycle_no=t,this.requestBody={source:this.datasource_name?this.datasource_name:"",cycle:this.cycle_no?this.cycle_no:"",file_status:this.file_status?this.file_status:""},console.log("selectedCycle body",this.requestBody)}selectedFileStatus(t){console.log("selectedFileStatus event",t),this.file_status=t,this.requestBody={source:this.datasource_name?this.datasource_name:"",cycle:this.cycle_no?this.cycle_no:"",file_status:this.file_status?this.file_status:""},console.log("selectedCycle body",this.requestBody)}onGridReady(t){this.gridApi=t.api,this.params=t}getdataSourcesbyProjectId(){this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getdataSourcesbyProjectId response",a),a&&200===a.statusCode?(this.datasourceArray=a.data.map(i=>({name:i.datasource_name,value:i.datasource_id})),console.log("datasourceArray options",this.datasourceArray),this.spinnerService.hide()):(this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide())}).catch(a=>{console.log("Error while getting recon config data",a),this.spinnerService.hide()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-multiple-atm-recon"]],viewQuery:function(a,n){if(1&a&&e.GBs(ip,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:16,vars:5,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"apply-btn","fetch-btn"],[1,"apply-btn"],["class","ag-table",4,"ngIf"],[4,"ngIf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady"],[1,"imgage-content"],["src","../../../assets/dataConfig.png",1,"img-fluid"],[1,"headlines"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Select Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"button",7),e.EFF(11," Fetch "),e.k0s(),e.j41(12,"button",8),e.EFF(13," Start Recon "),e.k0s()(),e.DNE(14,rp,2,6,"div",9),e.DNE(15,sp,6,0,"ng-container",10),e.k0s()),2&a){const i=e.sdS(9);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(7),e.Y8G("ngIf",!0===n.showMultipleATMData),e.R7$(1),e.Y8G("ngIf",!1===n.showMultipleATMData)}},dependencies:[g.bT,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:15px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .fetch-btn[_ngcontent-%COMP%]{background:#000;border:none}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})(),cp=(()=>{class o{constructor(t){this.URMService=t,this.rowData=[],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.columnDefs=[{field:"reconciled_atm_id",headerName:"Reconciled ATM ID",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"atm_id",headerName:"ATM id",filter:"agMultiColumnFilter"},{field:"reconciled_date",headerName:"Reconciled Date",filter:"agMultiColumnFilter"}],this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id")}onGridReady(t){}ngOnChanges(t){console.log("activeTabId",this.tabIndexId),console.log("changes",t),t.activeTabId&&"reconciled-atm"===t.activeTabId.currentValue&&(console.log("Data collection status APIs called"),this.getReconciledData())}getReconciledData(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.URMService.getReconciledAtmRecored(this.productId,this.applicationId,this.projectId).then(t=>(console.log("getReconciledAtmRecored---\x3e",t),this.rowData=t.data,null)).catch(t=>{console.log("getSubCombination error =>",t)})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-reconciled-atm"]],inputs:{activeTabId:"activeTabId",tabIndexId:"tabIndexId"},features:[e.OA$],decls:3,vars:4,consts:[[2,"margin-top","10px"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","gridReady"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"ag-grid-angular",2),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a&&(e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef))},dependencies:[be.xs]})}}return o})(),dp=(()=>{class o{onTabChange(t){const a=t.tab.textLabel.toLowerCase().replace(/ /g,"-");console.log("tab==================>",a),console.log("event",t),this.activeTabId=a,this.tabIndexId=t.index}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-reconcilation"]],decls:11,vars:2,consts:[[1,"data-child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"mat-stretch-tabs",2,"padding-top","20px",3,"selectedTabChange"],["tabgroup",""],["label","Single ATM recon"],["label","Multiple ATM recon"],["label","Reconciled ATM"],[3,"activeTabId","tabIndexId"]],template:function(a,n){1&a&&(e.qex(0),e.j41(1,"div",0)(2,"div",1)(3,"mat-tab-group",2,3),e.bIt("selectedTabChange",function(s){return n.onTabChange(s)}),e.j41(5,"mat-tab",4),e.nrm(6,"app-single-atm-recon"),e.k0s(),e.j41(7,"mat-tab",5),e.nrm(8,"app-multiple-atm-recon"),e.k0s(),e.j41(9,"mat-tab",6),e.nrm(10,"app-reconciled-atm",7),e.k0s()()()(),e.bVm()),2&a&&(e.R7$(10),e.Y8G("activeTabId",n.activeTabId)("tabIndexId",n.tabIndexId))},dependencies:[Ne.mq,Ne.T8,ap,lp,cp],styles:[".data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}.data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}"]})}}return o})();const pp=["downloadDropdown"],mp=["fromDate"],up=["toDate"];function gp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function fp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function hp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function _p(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let Cp=(()=>{class o{constructor(t,a,n){this.dialog=t,this.notify=a,this.renderer=n,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.today=new Date,this.paginationPageSize=20,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"text",downloadtype:"TEXT"}],this.rowHeight=60,this.rowData=[{srno:"CBR1013210",atmId:"AA112200921111",vendor:"CBS",state:"MAHARASHTRA",location:"POWAI",closing_balance:"42000",remark:"OK",edit_date:"20-06-2024",edit_time:"12:00",username:"Neeraj"}],this.columnDefs=[{headerName:"Sr no.",field:"srno",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"ATM Id",field:"atmId",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Vendor",field:"vendor",filter:"agDateColumnFilter",sortingOrder:["asc","desc"]},{headerName:"State",field:"state",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Location",field:"location",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closing balance",field:"closing_balance",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Remark",field:"remark",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Edit date",field:"edit_date",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Edit time",field:"edit_time",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"EDIT BY -User Name",field:"username",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-1),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedATMId(t){}Fetch(){}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-cbr-upload"]],viewQuery:function(a,n){if(1&a&&(e.GBs(pp,5),e.GBs(mp,5),e.GBs(up,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},decls:45,vars:16,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["placeholder","Select amt Id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select bank",3,"selectionChange"],["placeholder","Select branch",3,"selectionChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],[1,"apply-btn",3,"click"],["downloadDropdown",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"mat-select",3),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(6,gp,2,2,"mat-option",4),e.k0s()(),e.j41(7,"mat-form-field",2)(8,"mat-label"),e.EFF(9,"Bank"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(11,fp,2,2,"mat-option",4),e.k0s()(),e.j41(12,"mat-form-field",2)(13,"mat-label"),e.EFF(14,"Branch"),e.k0s(),e.j41(15,"mat-select",6),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(16,hp,2,2,"mat-option",4),e.k0s()(),e.j41(17,"mat-form-field",2)(18,"mat-label"),e.EFF(19,"From Date"),e.k0s(),e.j41(20,"input",7,8),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",9)(23,"mat-datepicker",null,10),e.k0s(),e.j41(25,"mat-form-field",2)(26,"mat-label"),e.EFF(27,"To Date"),e.k0s(),e.j41(28,"input",11,12),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(30,"mat-datepicker-toggle",9)(31,"mat-datepicker",null,13),e.k0s(),e.j41(33,"button",14),e.bIt("click",function(){return n.Fetch()}),e.EFF(34," Fetch "),e.k0s(),e.j41(35,"mat-form-field",2)(36,"mat-label"),e.EFF(37,"Download file"),e.k0s(),e.j41(38,"mat-select",null,15),e.DNE(40,_p,4,2,"mat-option",4),e.k0s()(),e.j41(41,"button",14),e.bIt("click",function(){return n.upload()}),e.EFF(42," Upload "),e.k0s()(),e.j41(43,"div",16)(44,"ag-grid-angular",17),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(24),s=e.sdS(32);e.R7$(6),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(5),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(5),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:50vh}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}"]})}}return o})();const bp=["downloadDropdown"],xp=["fromDate"],yp=["toDate"];function Dp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function vp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Fp(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Mp(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let Sp=(()=>{class o{constructor(t,a,n){this.dialog=t,this.notify=a,this.renderer=n,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.atmIdOptions=[],this.today=new Date,this.paginationPageSize=20,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"text",downloadtype:"TEXT"}],this.rowHeight=60,this.rowData=[{srno:"CBR1013210",atmId:"AA112200921111",vendor:"CBS",state:"MAHARASHTRA",location:"POWAI",closing_balance:"42000",remark:"OK",edit_date:"20-06-2024",edit_time:"12:00",username:"Neeraj"}],this.columnDefs=[{headerName:"Sr no.",field:"srno",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"ATM Id",field:"atmId",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Vendor",field:"vendor",filter:"agDateColumnFilter",sortingOrder:["asc","desc"]},{headerName:"State",field:"state",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Location",field:"location",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Closing balance",field:"closing_balance",filter:"agTextColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Remark",field:"remark",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Edit date",field:"edit_date",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Edit time",field:"edit_time",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"EDIT BY -User Name",field:"username",filter:"agNumberColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Actions",cellRenderer:i=>{const s=document.createElement("div"),l=document.createElement("span");l.classList.add("material-symbols-outlined","edit-icon"),l.style.cursor="pointer",l.style.marginRight="8px",l.style.opacity="0.8",l.style.fontSize="19px",l.style.color="#605B67",l.textContent="edit",l.addEventListener("click",this.editClicked.bind(this,i.data));const c=document.createElement("span");return c.classList.add("material-symbols-outlined","delete-icon"),c.style.cursor="pointer",c.style.marginRight="8px",c.style.fontSize="19px",c.style.opacity="0.8",c.style.color="#605B67",c.textContent="download",c.addEventListener("click",this.downloadClicked.bind(this,i)),s.appendChild(l),s.appendChild(c),s},pinned:"right",maxWidth:150}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-1),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedATMId(t){}Fetch(){}editClicked(t){this.dialog.open(Se.r,{height:"35vh",width:"30%",data:{action:"edit-record",content:t}}).afterClosed().subscribe(n=>{!0===n&&(console.log("Call edit API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}downloadClicked(t){}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-cbr-edit"]],viewQuery:function(a,n){if(1&a&&(e.GBs(bp,5),e.GBs(xp,5),e.GBs(yp,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},decls:43,vars:16,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["placeholder","Select amt Id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select bank",3,"selectionChange"],["placeholder","Select branch",3,"selectionChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],[1,"apply-btn",3,"click"],["downloadDropdown",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"mat-select",3),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(6,Dp,2,2,"mat-option",4),e.k0s()(),e.j41(7,"mat-form-field",2)(8,"mat-label"),e.EFF(9,"Bank"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(11,vp,2,2,"mat-option",4),e.k0s()(),e.j41(12,"mat-form-field",2)(13,"mat-label"),e.EFF(14,"Branch"),e.k0s(),e.j41(15,"mat-select",6),e.bIt("selectionChange",function(s){return n.selectedATMId(s.value)}),e.DNE(16,Fp,2,2,"mat-option",4),e.k0s()(),e.j41(17,"mat-form-field",2)(18,"mat-label"),e.EFF(19,"From Date"),e.k0s(),e.j41(20,"input",7,8),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",9)(23,"mat-datepicker",null,10),e.k0s(),e.j41(25,"mat-form-field",2)(26,"mat-label"),e.EFF(27,"To Date"),e.k0s(),e.j41(28,"input",11,12),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(30,"mat-datepicker-toggle",9)(31,"mat-datepicker",null,13),e.k0s(),e.j41(33,"button",14),e.bIt("click",function(){return n.Fetch()}),e.EFF(34," Fetch "),e.k0s(),e.j41(35,"mat-form-field",2)(36,"mat-label"),e.EFF(37,"Download file"),e.k0s(),e.j41(38,"mat-select",null,15),e.DNE(40,Mp,4,2,"mat-option",4),e.k0s()()(),e.j41(41,"div",16)(42,"ag-grid-angular",17),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(24),s=e.sdS(32);e.R7$(6),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(5),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(5),e.Y8G("ngForOf",n.atmIdOptions),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:18px 0;font-size:16px;width:185px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:22px}"]})}}return o})();const Pp=["downloadDropdown"],wp=["fromDate"],Op=["toDate"];function Tp(o,r){if(1&o&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function kp(o,r){if(1&o&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Ep(o,r){if(1&o&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Ip(o,r){if(1&o&&(e.j41(0,"mat-option",19)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let Rp=(()=>{class o{constructor(t,a,n){this.dialog=t,this.notify=a,this.renderer=n,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.filesArray=[],this.vendorArray=[],this.statusArray=[],this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"text",downloadtype:"TEXT"}],this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-1),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedFileType(t){}selectedVendor(t){}selectedStatus(t){}Fetch(){}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-cbr-reports"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Pp,5),e.GBs(wp,5),e.GBs(Op,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},decls:47,vars:8,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["placeholder","Select amt Id",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select bank",3,"selectionChange"],["placeholder","Select branch",3,"selectionChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","dateChange"],["toDate",""],["toDatepicker",""],[1,"apply-btn",3,"click"],["downloadDropdown",""],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"mat-select",3),e.bIt("selectionChange",function(s){return n.selectedFileType(s.value)}),e.DNE(6,Tp,2,2,"mat-option",4),e.k0s()(),e.j41(7,"mat-form-field",2)(8,"mat-label"),e.EFF(9,"Bank"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedVendor(s.value)}),e.DNE(11,kp,2,2,"mat-option",4),e.k0s()(),e.j41(12,"mat-form-field",2)(13,"mat-label"),e.EFF(14,"Branch"),e.k0s(),e.j41(15,"mat-select",6),e.bIt("selectionChange",function(s){return n.selectedStatus(s.value)}),e.DNE(16,Ep,2,2,"mat-option",4),e.k0s()(),e.j41(17,"mat-form-field",2)(18,"mat-label"),e.EFF(19,"From Date"),e.k0s(),e.j41(20,"input",7,8),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",9)(23,"mat-datepicker",null,10),e.k0s(),e.j41(25,"mat-form-field",2)(26,"mat-label"),e.EFF(27,"To Date"),e.k0s(),e.j41(28,"input",11,12),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(30,"mat-datepicker-toggle",9)(31,"mat-datepicker",null,13),e.k0s(),e.j41(33,"button",14),e.bIt("click",function(){return n.Fetch()}),e.EFF(34," Fetch data "),e.k0s(),e.j41(35,"mat-form-field",2)(36,"mat-label"),e.EFF(37,"Download file"),e.k0s(),e.j41(38,"mat-select",null,15),e.DNE(40,Ip,4,2,"mat-option",4),e.k0s()()(),e.qex(41),e.j41(42,"div",16),e.nrm(43,"img",17),e.j41(44,"div",18)(45,"h2"),e.EFF(46,"Please select the date to view the desired file."),e.k0s()()(),e.bVm(),e.k0s()),2&a){const i=e.sdS(24),s=e.sdS(32);e.R7$(6),e.Y8G("ngForOf",n.filesArray),e.R7$(5),e.Y8G("ngForOf",n.vendorArray),e.R7$(5),e.Y8G("ngForOf",n.statusArray),e.R7$(4),e.Y8G("matDatepicker",i),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s),e.R7$(2),e.Y8G("for",s),e.R7$(10),e.Y8G("ngForOf",n.downloads)}},dependencies:[g.Sq,Me.An,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT],styles:[".inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:18px 0;font-size:16px;width:185px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:22px}.imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:50vh}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}"]})}}return o})(),Ap=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-cbr-file-operation"]],decls:11,vars:0,consts:[[1,"data-child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"mat-stretch-tabs",2,"padding-top","20px"],["tabgroup",""],["label","Upload"],["label","Edit"],["label","Reports"]],template:function(a,n){1&a&&(e.qex(0),e.j41(1,"div",0)(2,"div",1)(3,"mat-tab-group",2,3)(5,"mat-tab",4),e.nrm(6,"app-cbr-upload"),e.k0s(),e.j41(7,"mat-tab",5),e.nrm(8,"app-cbr-edit"),e.k0s(),e.j41(9,"mat-tab",6),e.nrm(10,"app-cbr-reports"),e.k0s()()()(),e.bVm())},dependencies:[Ne.mq,Ne.T8,Cp,Sp,Rp],styles:[".data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:none}.data-child-mat-group[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:none}"]})}}return o})();function jp(o,r){1&o&&(e.j41(0,"h2",17),e.EFF(1,"Add Account Master"),e.k0s())}function Np(o,r){1&o&&(e.j41(0,"h2",17),e.EFF(1,"Update project"),e.k0s())}function Bp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please fill out this field. "),e.k0s())}function Gp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Only numeric values are allowed. "),e.k0s())}function Vp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Account number must be at least 14 characters. "),e.k0s())}function $p(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Account number cannot exceed 14 characters. "),e.k0s())}function Up(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a account type. "),e.k0s())}function Yp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Account type must be at least 3 characters. "),e.k0s())}function zp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Account type cannot exceed 50 characters. "),e.k0s())}function Xp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a description. "),e.k0s())}function qp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid description (min 10 characters). "),e.k0s())}function Lp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid description (max 200 characters). "),e.k0s())}function Hp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description can special characters (_ @ . / # & + -). "),e.k0s())}function Jp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a bank name. "),e.k0s())}function Wp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid bank name (min 3 characters). "),e.k0s())}function Zp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid bank name (max 50 characters). "),e.k0s())}function Qp(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Only letters and numbers are allowed. "),e.k0s())}function Kp(o,r){if(1&o&&(e.j41(0,"button",18),e.EFF(1,"Create"),e.k0s()),2&o){const t=e.XpG();e.Y8G("disabled",t.addForm.invalid)}}function em(o,r){1&o&&(e.j41(0,"button",19),e.EFF(1,"Update"),e.k0s())}let tm=(()=>{class o{constructor(t,a,n,i,s,l,c){this.data=t,this.snackBar=a,this.URMService=n,this.formBuilder=i,this.dialogRef=s,this.notify=l,this.dialog=c,this.createProject=!1,this.editData=!1,this.deleteConfirm=!1,this.filteredIcons=[],this.loading=!1,this.projectsList=[],this.IconsArray=[{type:"upi dispute",icon:"support_agent"},{type:"upi",icon:"currency_rupee"},{type:"atm",icon:"atm"},{type:"imps",icon:"box"},{type:"netc",icon:"savings"}],this.colorPalette=["#DCC8FF","#C4CDFD","#FFEBB8","#D7FFC4","#BE97FF","#FF979D","#FFD7A7","#7DDDFC","#828BA9","#9B989B","#C2BECA","#575759"],this.addForm=this.formBuilder.group({account_number:new p.MJ("",[p.k0.required,p.k0.minLength(14),p.k0.maxLength(14),p.k0.pattern("^[0-9]*$")]),account_type:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(50)]),bank_name:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(50),p.k0.pattern("^[a-zA-Z0-9]+( [a-zA-Z0-9]+)*$")]),account_description:new p.MJ("",[p.k0.required,p.k0.minLength(10),p.k0.maxLength(200),p.k0.pattern("^[a-zA-Z0-9 _@./#&+-]*$")])})}ngOnInit(){var t=this;return(0,G.A)(function*(){t.productId=localStorage.getItem("product_id"),t.applicationId=localStorage.getItem("application_id"),t.projectId=localStorage.getItem("project_id"),t.tenantId=localStorage.getItem("tenant_id"),t.popupType=t.data.true,"add-account"===t.popupType&&(t.createProject=!0)})()}onNoClick(){this.dialogRef.close()}onSubmit(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});if("add-account"===this.popupType){if(this.addForm.invalid)return this.addForm.markAllAsTouched(),void console.log("Form is not valid:",this.addForm);if(this.addForm){const a={account_number:this.addForm.get("account_number")?.value,account_type:this.addForm.get("account_type")?.value,account_description:this.addForm.get("account_description")?.value,bank_name:this.addForm.get("bank_name")?.value};this.URMService.addAccountMaster({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},a).then(i=>{let s;console.log("addAccountMaster response",i),200===i.statusCode?(s="Account Add created successfully!",this.notify.showSuccessToast(s,"Close"),this.dialogRef.close(s)):(s=i.errorMessage,this.notify.showErrorToast(s,"Close"),this.dialogRef.close(s)),t.close()}).catch(i=>{console.log("Error =>",i.error.message);let s=i.error.message;this.notify.showErrorToast(s,"Close"),this.dialogRef.close(s),t.close()})}else console.log("Form is not valid in if")}}showSuccessToast(t){this.snackBar.open(t,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}showErrorToast(t){this.snackBar.open(t,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-error"})}showLoadingScreen(t,a){this.loading=!0,setTimeout(()=>{this.loading=!1,"add"==a?t?this.showErrorToast("Failed to create new project. Please try again."):this.showSuccessToast("Project created successfully"):t?this.showErrorToast("Failed to update project. Please try again."):this.showSuccessToast("Project updated successfully"),this.dialogRef.close()},3e3)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.Vh),e.rXU(qt.UG),e.rXU(Pe.V),e.rXU(p.ok),e.rXU(F.CP),e.rXU(Ce.J),e.rXU(F.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-add-account-master"]],decls:48,vars:20,consts:[[1,"form-header"],["class","form-header-title",4,"ngIf"],[1,"material-symbols-outlined","close",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-content"],[1,"row"],[1,"label"],["appearance","outline",1,"project-input"],["matInput","","formControlName","account_number","placeholder","Enter account_number"],[4,"ngIf"],["matInput","","formControlName","account_type","placeholder","Enter account_type "],["matInput","","formControlName","account_description","placeholder","Enter account_description"],["matInput","","formControlName","bank_name","placeholder","Enter bank_name"],[1,"action-buttons"],[1,"project-cancel",3,"click"],["class","project-create","type","submit",3,"disabled",4,"ngIf"],["class","project-create","type","submit",4,"ngIf"],[1,"form-header-title"],["type","submit",1,"project-create",3,"disabled"],["type","submit",1,"project-create"]],template:function(a,n){if(1&a&&(e.qex(0),e.j41(1,"div",0),e.DNE(2,jp,2,0,"h2",1),e.DNE(3,Np,2,0,"h2",1),e.j41(4,"span",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"close"),e.k0s()(),e.j41(6,"form",3),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(7,"div",4)(8,"div",5)(9,"label",6),e.EFF(10,"Account number*"),e.k0s(),e.j41(11,"mat-form-field",7),e.nrm(12,"input",8),e.DNE(13,Bp,2,0,"mat-error",9),e.DNE(14,Gp,2,0,"mat-error",9),e.DNE(15,Vp,2,0,"mat-error",9),e.DNE(16,$p,2,0,"mat-error",9),e.k0s()(),e.j41(17,"div",5)(18,"label",6),e.EFF(19,"Account type *"),e.k0s(),e.j41(20,"mat-form-field",7),e.nrm(21,"input",10),e.DNE(22,Up,2,0,"mat-error",9),e.DNE(23,Yp,2,0,"mat-error",9),e.DNE(24,zp,2,0,"mat-error",9),e.k0s()(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Account description*"),e.k0s(),e.j41(28,"mat-form-field",7),e.nrm(29,"input",11),e.DNE(30,Xp,2,0,"mat-error",9),e.DNE(31,qp,2,0,"mat-error",9),e.DNE(32,Lp,2,0,"mat-error",9),e.DNE(33,Hp,2,0,"mat-error",9),e.k0s()(),e.j41(34,"div",5)(35,"label",6),e.EFF(36,"Bank Name*"),e.k0s(),e.j41(37,"mat-form-field",7),e.nrm(38,"input",12),e.DNE(39,Jp,2,0,"mat-error",9),e.DNE(40,Wp,2,0,"mat-error",9),e.DNE(41,Zp,2,0,"mat-error",9),e.DNE(42,Qp,2,0,"mat-error",9),e.k0s()(),e.j41(43,"div",13)(44,"button",14),e.bIt("click",function(){return n.onNoClick()}),e.EFF(45,"Cancel"),e.k0s(),e.DNE(46,Kp,2,1,"button",15),e.DNE(47,em,2,0,"button",16),e.k0s()()(),e.bVm()),2&a){let i,s,l,c,d,m,E,U,ie,K,oe,de,De,ce,me;e.R7$(2),e.Y8G("ngIf",!n.editData),e.R7$(1),e.Y8G("ngIf",n.editData),e.R7$(3),e.Y8G("formGroup",n.addForm),e.R7$(7),e.Y8G("ngIf",null==(i=n.addForm.get("account_number"))?null:i.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(s=n.addForm.get("account_number"))?null:s.hasError("pattern")),e.R7$(1),e.Y8G("ngIf",null==(l=n.addForm.get("account_number"))?null:l.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(c=n.addForm.get("account_number"))?null:c.hasError("maxlength")),e.R7$(6),e.Y8G("ngIf",null==(d=n.addForm.get("account_type"))?null:d.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(m=n.addForm.get("account_type"))?null:m.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(E=n.addForm.get("account_type"))?null:E.hasError("maxlength")),e.R7$(6),e.Y8G("ngIf",null==(U=n.addForm.get("account_description"))?null:U.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(ie=n.addForm.get("account_description"))?null:ie.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(K=n.addForm.get("account_description"))?null:K.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(oe=n.addForm.get("account_description"))?null:oe.hasError("pattern")),e.R7$(6),e.Y8G("ngIf",null==(de=n.addForm.get("bank_name"))?null:de.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(De=n.addForm.get("bank_name"))?null:De.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(ce=n.addForm.get("bank_name"))?null:ce.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(me=n.addForm.get("bank_name"))?null:me.hasError("pattern")),e.R7$(4),e.Y8G("ngIf",!n.editData),e.R7$(1),e.Y8G("ngIf",n.editData)}},dependencies:[g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.TL,ue.fg],styles:[".form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px 0}.form-header[_ngcontent-%COMP%]   .form-header-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.form-content[_ngcontent-%COMP%]{padding:20px 30px}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:20px;margin-top:20px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;width:15%;padding:8px 6px 8px 8px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;width:18%;padding:8px 6px 8px 8px}  .cdk-overlay-pane{width:40vw;height:auto;max-height:90vh;border-radius:16px}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();function nm(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.account_type),e.R7$(1),e.SpI(" ",t.account_type," ")}}function om(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let $o=(()=>{class o{constructor(t,a,n,i){this.URMService=t,this.dialog=a,this.notify=n,this.spinnerService=i,this.accountTypes=[],this.rowData=[],this.paginationPageSize=20,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.rowHeight=60,this.columnDefs=[{headerName:"Account number",field:"account_number",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Account type",field:"account_type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Account description",field:"account_description",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Bank name",field:"bank_name",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id"),this.getAccountTpyes()}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Account master APIs called"),this.projectId="5b081c43-148d-4940-958b-6cb95fff4b69")}getAccountTpyes(){this.URMService.getAccountTypes({tenant_id:this.tenantId,project_id:this.projectId}).then(a=>{200===a.statusCode?a.data.length>0&&(this.accountTypes=a.data):console.log("Error occured",a.errorMessage),this.spinnerService.hide()}).catch(a=>{console.log("getSubCombination error =>",a),this.spinnerService.hide()})}addAccount(){const t=new F.ru;t.disableClose=!0,t.data={true:"add-account",product_id:this.productId,application_id:this.applicationId},this.dialog.open(tm,t).afterClosed().subscribe(n=>{n?(console.log("Response from child component:",n),"Account Add created successfully!"===n?(this.notify.showSuccessToast(n,"Close"),this.getAccountMaster()):this.notify.showErrorToast(n,"Close")):console.log("Dialog was closed without data.")})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=l=>{this.srcResult=l.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),console.log("Inside if ben"),this.URMService.uploadAccountMasterData({tenant_id:this.tenantId,project_id:this.projectId},i).then(l=>{console.log("uploadRemitterChargebackFile resp =>",l),200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),t.close(),a.value=""):(this.notify.showSuccessToast(l.errorMessage,"Close"),t.close(),a.value="")}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),t.close(),a.value=""})}}DownloadType(t){console.log("value",t)}onGridReady(t){this.gridApi=t.api,this.params=t}selectAccount(t){console.log("event",t),this.accountType=t.value}getAccountMaster(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getDataByAccountTypes({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,type:this.accountType}).then(n=>{console.log("getAccountMasterDetails result",n),t.close(),200===n.statusCode?n.data.length>0&&(this.rowData=n.data):console.log("Error occured",n.errorMessage),this.spinnerService.hide()}).catch(n=>{console.log("getSubCombination error =>",n),this.spinnerService.hide(),t.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-master"]],inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:28,vars:9,consts:[[1,"accountMaster-container"],[1,"action-buttons"],[1,"final-status"],["appearance","outline","id","source"],["placeholder","Select account type",3,"selectionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[1,"apply-btn",3,"click"],[1,"download-select"],["appearance","outline"],[3,"selectionChange"],["downloadDropdown",""],[1,"upload-file"],["type","button","mat-raised-button","",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","defaultColDef","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Account type"),e.k0s(),e.j41(6,"mat-select",4),e.bIt("selectionChange",function(l){return n.selectAccount(l)}),e.j41(7,"mat-option",5),e.EFF(8,"All"),e.k0s(),e.DNE(9,nm,2,2,"mat-option",6),e.k0s()()(),e.j41(10,"button",7),e.bIt("click",function(){return n.getAccountMaster()}),e.EFF(11," Apply "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return n.addAccount()}),e.EFF(13,"Add"),e.k0s(),e.j41(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),e.EFF(17,"Download file"),e.k0s(),e.j41(18,"mat-select",10,11),e.bIt("selectionChange",function(l){return n.DownloadType(l)}),e.DNE(20,om,4,2,"mat-option",6),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){e.eBV(i);const l=e.sdS(25);return e.Njj(l.click())}),e.EFF(23,"Upload file"),e.k0s(),e.j41(24,"input",14,15),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()()(),e.j41(26,"div",16)(27,"ag-grid-angular",17),e.bIt("gridReady",function(l){return n.onGridReady(l)}),e.k0s()()()}2&a&&(e.R7$(9),e.Y8G("ngForOf",n.accountTypes),e.R7$(11),e.Y8G("ngForOf",n.downloads),e.R7$(7),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize))},dependencies:[g.Sq,pt.$z,Me.An,j.rl,j.nJ,_e.VO,he.wT,be.xs],styles:[".accountMaster-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.accountMaster-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}.apply-btn[_ngcontent-%COMP%]{padding:18px 0;font-size:16px;width:185px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:22px}"]})}}return o})();const am=["downloadDropdown"],im=["fromDate"];function rm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.name)}}function sm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t.value)}}function lm(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"mat-form-field",15)(2,"mat-label"),e.EFF(3,"From Date"),e.k0s(),e.j41(4,"input",16,17),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.eodFromDateChange(n))}),e.k0s(),e.nrm(6,"mat-datepicker-toggle",18)(7,"mat-datepicker",null,19),e.k0s(),e.EFF(9,"\xa0\xa0 "),e.j41(10,"mat-form-field",15)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",20,21),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.eodToDateChange(n))}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",18)(16,"mat-datepicker",null,22),e.k0s()()}if(2&o){const t=e.sdS(8),a=e.sdS(17);e.R7$(4),e.Y8G("matDatepicker",t),e.R7$(2),e.Y8G("for",t),e.R7$(7),e.Y8G("matDatepicker",a),e.R7$(2),e.Y8G("for",a)}}function cm(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"mat-form-field",15)(2,"mat-label"),e.EFF(3,"EOD From Date"),e.k0s(),e.j41(4,"input",16,17),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.eodOnFromDateChange(n))}),e.k0s(),e.nrm(6,"mat-datepicker-toggle",18)(7,"mat-datepicker",null,19),e.k0s(),e.EFF(9,"\xa0\xa0 "),e.j41(10,"mat-form-field",15)(11,"mat-label"),e.EFF(12,"EOD To Date"),e.k0s(),e.j41(13,"input",20,21),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.eodOnToDateChange(n))}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",18)(16,"mat-datepicker",null,22),e.k0s()()}if(2&o){const t=e.sdS(8),a=e.sdS(17);e.R7$(4),e.Y8G("matDatepicker",t),e.R7$(2),e.Y8G("for",t),e.R7$(7),e.Y8G("matDatepicker",a),e.R7$(2),e.Y8G("for",a)}}function dm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.name)}}function pm(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-form-field",6)(1,"mat-label"),e.EFF(2,"ATM Id"),e.k0s(),e.j41(3,"input",23),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.atmId=n)}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngModel",t.atmId)}}function mm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",null==t?null:t.value),e.R7$(1),e.JRh(null==t?null:t.value)}}function um(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-form-field",6)(2,"mat-label"),e.EFF(3,"Date Type"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedDateType=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectDateType(n))}),e.DNE(5,sm,2,2,"mat-option",3),e.k0s()(),e.DNE(6,lm,18,4,"div",4),e.DNE(7,cm,18,4,"div",4),e.j41(8,"mat-form-field",6)(9,"mat-label"),e.EFF(10,"ATM ID"),e.k0s(),e.j41(11,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAtmId=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectAtmId(n))}),e.DNE(12,dm,2,2,"mat-option",3),e.k0s()(),e.DNE(13,pm,4,1,"mat-form-field",13),e.j41(14,"mat-form-field",6)(15,"mat-label"),e.EFF(16,"Type"),e.k0s(),e.j41(17,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedfilterType=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectReportBaseType(n))}),e.j41(18,"mat-option",14),e.EFF(19,"ALL"),e.k0s(),e.DNE(20,mm,2,2,"mat-option",3),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("value",t.selectedDateType),e.R7$(1),e.Y8G("ngForOf",t.dateType),e.R7$(1),e.Y8G("ngIf","Date Range"===(null==t.selectedDateType?null:t.selectedDateType.value)),e.R7$(1),e.Y8G("ngIf","EOD To EOD"===(null==t.selectedDateType?null:t.selectedDateType.value)),e.R7$(4),e.Y8G("value",t.selectedAtmId),e.R7$(1),e.Y8G("ngForOf",t.allSelect),e.R7$(1),e.Y8G("ngIf","single"===t.selectedAtmId),e.R7$(4),e.Y8G("value",t.selectedfilterType),e.R7$(3),e.Y8G("ngForOf",t.reportBaseType)}}function gm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.JRh(t.name)}}function fm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.value)}}function hm(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-form-field",24)(2,"mat-label"),e.EFF(3,"Select Data Source"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedDataType=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.updateSelection(n))}),e.DNE(5,gm,2,2,"mat-option",3),e.k0s()(),e.j41(6,"mat-form-field",6)(7,"mat-label"),e.EFF(8,"Date"),e.k0s(),e.j41(9,"input",25,17),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onFromDateChange(n))}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",18)(12,"mat-datepicker",null,19),e.k0s(),e.j41(14,"mat-form-field",6)(15,"mat-label"),e.EFF(16,"Select report type"),e.k0s(),e.j41(17,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedReport=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedCategory(n))}),e.DNE(18,fm,2,2,"mat-option",3),e.k0s()(),e.bVm()}if(2&o){const t=e.sdS(13),a=e.XpG();e.R7$(4),e.Y8G("value",a.selectedDataType),e.R7$(1),e.Y8G("ngForOf",a.files),e.R7$(4),e.Y8G("matDatepicker",t),e.R7$(2),e.Y8G("for",t),e.R7$(6),e.Y8G("value",a.selectedReport),e.R7$(1),e.Y8G("ngForOf",a.reports)}}function _m(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.name)}}function Cm(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-form-field",6)(1,"mat-label"),e.EFF(2,"ATM Id"),e.k0s(),e.j41(3,"input",23),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.atmId=n)}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngModel",t.atmId)}}function bm(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-form-field",6)(2,"mat-label"),e.EFF(3,"ATM ID"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAtmId=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectAtmId(n))}),e.DNE(5,_m,2,2,"mat-option",3),e.k0s()(),e.DNE(6,Cm,4,1,"mat-form-field",13),e.nrm(7,"div"),e.bVm()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("value",t.selectedAtmId),e.R7$(1),e.Y8G("ngForOf",t.allSelect),e.R7$(1),e.Y8G("ngIf","single"===t.selectedAtmId)}}function xm(o,r){if(1&o&&(e.j41(0,"mat-option",12),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.name)}}function ym(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-form-field",6)(1,"mat-label"),e.EFF(2,"ATM Id"),e.k0s(),e.j41(3,"input",23),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2);return e.Njj(i.atmId=n)}),e.k0s()()}if(2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngModel",t.atmId)}}function Dm(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-form-field",6)(2,"mat-label"),e.EFF(3,"ATM ID"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedAtmId=n)})("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectAtmId(n))}),e.DNE(5,xm,2,2,"mat-option",3),e.k0s()(),e.DNE(6,ym,4,1,"mat-form-field",13),e.j41(7,"div")(8,"mat-form-field",15)(9,"mat-label"),e.EFF(10,"From Date"),e.k0s(),e.j41(11,"input",16,17),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onFromDateChange(n))}),e.k0s(),e.nrm(13,"mat-datepicker-toggle",18)(14,"mat-datepicker",null,19),e.k0s(),e.EFF(16,"\xa0\xa0 "),e.j41(17,"mat-form-field",15)(18,"mat-label"),e.EFF(19,"To Date"),e.k0s(),e.j41(20,"input",20,21),e.bIt("dateChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onToDateChange(n))}),e.k0s(),e.nrm(22,"mat-datepicker-toggle",18)(23,"mat-datepicker",null,22),e.k0s()(),e.bVm()}if(2&o){const t=e.sdS(15),a=e.sdS(24),n=e.XpG();e.R7$(4),e.Y8G("value",n.selectedAtmId),e.R7$(1),e.Y8G("ngForOf",n.allSelect),e.R7$(1),e.Y8G("ngIf","single"===n.selectedAtmId),e.R7$(5),e.Y8G("matDatepicker",t),e.R7$(2),e.Y8G("for",t),e.R7$(7),e.Y8G("matDatepicker",a),e.R7$(2),e.Y8G("for",a)}}function vm(o,r){if(1&o&&(e.j41(0,"mat-option",12)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}function Fm(o,r){1&o&&(e.j41(0,"div",26),e.nrm(1,"img",27),e.j41(2,"div",28)(3,"h2"),e.EFF(4,"Please select the report type to view the desired data."),e.k0s()()())}function Mm(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",29)(1,"ag-grid-angular",30),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("rowData",t.reportsArray)("columnDefs",t.getColumnDefs(t.reportsArray))("gridOptions",t.gridOptions)("rowHeight",t.rowHeight)("pagination",!0)("paginationPageSize",t.paginationPageSize)("enableRangeSelection",!0)("copyHeadersToClipboard",!0)("defaultColDef",t.defaultColDef)}}let Sm=(()=>{class o{constructor(t,a,n,i,s){this.URMService=t,this.dialog=a,this.notify=n,this.renderer=i,this.spinnerService=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.eodFromDateFormatted="",this.toDateFormatted="",this.eodToDateFormatted="",this.eodToEodFromDateFormatted="",this.eodToEodDateFormatted="",this.paginationPageSize=20,this.rowHeight=55,this.rowData=[],this.reportsArray=[],this.showTable=!1,this.today=new Date,this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.reports=[{name:"Unmatched report",value:"unmatch"},{name:"Matched report",value:"match"},{name:"Force matched report",value:"force"}],this.reportFileType=[],this.allSelect=[{name:"Single ATM",value:"single"},{name:"All ATM",value:"ALL"}],this.dateType=[{value:"Date Range"},{value:"EOD To EOD"}],this.reportBaseType=[{value:""}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1,editable:!0},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60,suppressCopyRowsToClipboard:!0,copyHeadersToClipboard:!0}}ngOnChanges(t){console.log("ngOnChanges-----\x3e",t),t.activeTabId&&"atm-reports"===t.activeTabId.currentValue&&(console.log("reports APIs called"),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getSubCombination result",n),this.files=n.data.map(i=>"EJ ATM"!==i.datasource_type&&"EJ SWitch"!==i.datasource_type?{name:i.datasource_name,dataSourceDesc:i.datasource_id}:null).filter(i=>null!==i),console.log("this.files",this.files),this.spinnerService.hide()}).catch(n=>{console.log("getSubCombination error =>",n),this.spinnerService.hide()}),this.URMService.getAtmReportsType().then(n=>{console.log("getSubCombination result",n),this.reportFileType=n.data.map(i=>({value:i.type,name:i.type}))}).catch(n=>{console.log("getSubCombination error =>",n)}),this.URMService.getAtmReportsTxnTypes().then(n=>{console.log("getSubCombination result",n),this.reportBaseType=n.data.map(i=>({value:i.type}))}).catch(n=>{console.log("getSubCombination error =>",n)}))}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}onCellClicked(t){t.data.clickable||t.event.preventDefault()}selectDateType(t){console.log("selectedCombination",this.selectedDateType)}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"yyyy-MM-dd")}setElementValue(t,a){const n=this.datePipe.transform(a,"yyyy-MM-dd");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("To Date:",this.toDateFormatted)}eodFromDateChange(t){this.eodFromDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("From Date:",this.eodFromDateFormatted)}eodToDateChange(t){this.eodToDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("To Date:",this.eodToDateFormatted)}eodOnFromDateChange(t){this.eodToEodFromDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("From Date:",this.eodFromDateFormatted)}eodOnToDateChange(t){this.eodToEodDateFormatted=this.datePipe.transform(t.value,"yyyy-MM-dd"),console.log("To Date:",this.eodToDateFormatted)}selectedCategory(t){console.log("selected category:",t),this.Category=t.value,("EOD to EOD exception report"!==this.Category||"Ej Missing Report"!=this.Category||"Switch suspect Txn Report"!==this.Category||"Last Five CBR Trans"!==this.Category||"TALLY-UNTALLY report"!==this.Category||"CBR Missing Report"!==this.Category||"Switch ATM vs ATM Master ATM Mssing Report"!==this.Category||"Switch Admin Eod Report"!==this.Category)&&(this.selectedDateType="")}selectReportBaseType(t){}updateSelection(t){}selectAtmId(t){this.atmId=void 0,this.selectedAtmId=t.value,console.log("this.atmId",this.atmId)}fetchBtnClick(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});let a,n,i;switch(console.log("selectedFileReport==>",this.selectedFileReport),this.selectedFileReport){case"Match-Unmatch report":a={datasource_id:this.selectedDataType.dataSourceDesc,creation_date:this.fromDateFormatted,status:this.Category},n=`${this.selectedDataType.name}_Force_Matched_${Date.now()}.xlsx`,i="Force matched report generated!";break;case"EOD to EOD exception report":a={fromDate:this.eodFromDateFormatted,toDate:this.eodToDateFormatted,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,report_type:this.selectedfilterType,fromEodDate:this.eodToEodFromDateFormatted,toEodDate:this.eodToEodDateFormatted},n=`Eod_to_Eod_${Date.now()}.xlsx`,i="EOD To EOD report generated!";break;case"Ej Missing Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`EJ_Missing_Report_${this.fromDateFormatted}.xlsx`,i="EJ missing Report generated!";break;case"Switch suspect Txn Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,atmId:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`Switch_suspect_${this.fromDateFormatted}.xlsx`,i="Switch suspect Txn report generated!";break;case"Last Five CBR Trans":a={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`Last_Five_CBR_${this.fromDateFormatted}.xlsx`,i="Last Five CBR Txn report generated!";break;case"TALLY-UNTALLY report":a={atm_id:this.atmId,from_date:this.fromDateFormatted,to_date:this.toDateFormatted},n=`Tally_Untally_${Date.now()}.xlsx`,i="Tally Untally report generated!";break;case"Switch Admin Eod Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,report_type:this.Category},n=`Switch_Admin_EOD_${Date.now()}.xlsx`,i="Switch Admin EOD report generated!";break;case"CBR Missing Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`CBR_Missing_Report_${this.fromDateFormatted}.xlsx`,i="CBR Missing Report generated!";break;case"Hanging report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`Hanging_Report_${this.fromDateFormatted}.xlsx`,i="Hanging Report generated!";break;case"Card Wise Reject Trans Report":a={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,from_date:this.fromDateFormatted,to_date:this.toDateFormatted},n=`Card_Wise_Reject_Trans_${Date.now()}.xlsx`,i="Card wise reject trans report generated!";break;case"Switch ATM vs ATM Master ATM Mssing Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`Switch_ATM_vs_ATM_Master_ATM_Mssing_Report_${this.fromDateFormatted}.xlsx`,i="Switch ATM vs ATM Master ATM Mssing Report generated!";break;case"Proactive Transaction - EJ Not Available":a={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,fromDate:this.fromDateFormatted,toDate:this.toDateFormatted},n=`Proactive Transaction - EJ Not Available_${Date.now()}.xlsx`,i="Proactive Transaction - EJ Not Available report generated!";break;case"After TAT EJ Available Transaction Report":a={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},n=`After TAT EJ Available Transaction Report_${this.fromDateFormatted}.xlsx`,i="After TAT EJ Available Transaction Report generated!";break;default:return console.warn("Unknown report type"),void t.close()}this.URMService.getATMReportsData(this.productId,this.applicationId,this.projectId,this.selectedFileReport,a).then(s=>{console.log("getTranData response =>",s),s&&200===s.statusCode?(this.reportsArray=s.data,this.showTable=!0,this.processResponse(this.reportsArray),t.close()):(this.reportsArray=[],this.notify.showErrorToast(s.errorMessage,"Close"),t.close())}).catch(s=>{console.log("error =>",s),this.reportsArray=[],t.close()})}processResponse(t){this.reportsArray=t}getColumnDefs(t){return console.log("getColumnDefs data",t),t&&0!==t.length?Object.keys(t[0]).map(a=>({headerName:a,field:a})):(this.showTable=!1,this.notify.showErrorToast("No data found!","Close"),[])}onGridReady(t){t.api.sizeColumnsToFit()}DownloadType(t){console.log("DownloadType",t.value);const a=this.dialog.open(y.T,{height:"55vh",width:"35%"}),n=(c,d,m)=>{const E=new Blob([d],{type:"application/vnd.ms-excel;charset=utf-8"}),U=window.URL.createObjectURL(E),ie=document.createElement("a");ie.download=c,ie.href=U,document.body.appendChild(ie),ie.click(),document.body.removeChild(ie),this.notify.showSuccessToast(m,"Close"),a.close()};let i,s,l;switch(console.log("selectedFileReport",this.selectedFileReport),this.selectedFileReport){case"Match-Unmatch report":i={datasource_id:this.selectedDataType.dataSourceDesc,creation_date:this.fromDateFormatted,status:this.Category},s=`${this.selectedDataType.name}_Force_Matched_${Date.now()}.xlsx`,l="Force matched report generated!";break;case"EOD to EOD exception report":i={fromDate:this.eodFromDateFormatted,toDate:this.eodToDateFormatted,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,report_type:this.selectedfilterType,fromEodDate:this.eodToEodFromDateFormatted,toEodDate:this.eodToEodDateFormatted},s=`Eod_to_Eod_${Date.now()}.xlsx`,l="EOD To EOD report generated!";break;case"Ej Missing Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`EJ_Missing_Report_${this.fromDateFormatted}.xlsx`,l="EJ missing Report generated!";break;case"Switch suspect Txn Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,atmId:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`Switch_suspect_${this.fromDateFormatted}.xlsx`,l="Switch suspect Txn report generated!";break;case"Last Five CBR Trans":i={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`Last_Five_CBR_${this.fromDateFormatted}.xlsx`,l="Last Five CBR Txn report generated!";break;case"TALLY-UNTALLY report":i={atm_id:this.atmId,from_date:this.fromDateFormatted,to_date:this.toDateFormatted},s=`Tally_Untally_${Date.now()}.xlsx`,l="Tally Untally report generated!";break;case"Switch Admin Eod Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,report_type:this.Category},s=`Switch_Admin_EOD_${Date.now()}.xlsx`,l="Switch Admin EOD report generated!";break;case"CBR Missing Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`CBR_Missing_Report_${this.fromDateFormatted}.xlsx`,l="CBR Missing Report generated!";break;case"Hanging report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`Hanging_Report_${this.fromDateFormatted}.xlsx`,l="Hanging Report generated!";break;case"Card Wise Reject Trans Report":i={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,from_date:this.fromDateFormatted,to_date:this.toDateFormatted},s=`Card_Wise_Reject_Trans_${Date.now()}.xlsx`,l="Card wise reject trans report generated!";break;case"Switch ATM vs ATM Master ATM Mssing Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`Switch_ATM_vs_ATM_Master_ATM_Mssing_Report_${this.fromDateFormatted}.xlsx`,l="Switch ATM vs ATM Master ATM Mssing Report generated!";break;case"Proactive Transaction - EJ Not Available":i={atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId,fromDate:this.fromDateFormatted,toDate:this.toDateFormatted},s=`Proactive_Transaction-EJ_Not_Available_Report${Date.now()}.xlsx`,l="Proactive Transaction - EJ Not Available report generated!";break;case"After TAT EJ Available Transaction Report":i={fromDate:this.fromDateFormatted,toDate:this.toDateFormatted,report_type:this.selectedFileReport,atm_id:"single"===this.selectedAtmId?this.atmId:this.selectedAtmId},s=`After TAT EJ Available Transaction Report_${this.fromDateFormatted}.xlsx`,l="After TAT EJ Available Transaction Report generated!";break;default:return console.warn("Unknown report type"),void a.close()}this.URMService.getATMReportsDownload(this.productId,this.applicationId,this.projectId,this.selectedFileReport,i).then(c=>{this.downloadDropdown.value=null,n(s,c,l)}).catch(c=>{console.error(`Error generating ${this.selectedFileReport}`,c),a.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-reports"]],viewQuery:function(a,n){if(1&a&&(e.GBs(am,5),e.GBs(im,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:21,vars:9,consts:[[1,"inputs-buttons"],["appearance","outline",2,"width","20%"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["type","submit",1,"report-btn",3,"click"],["appearance","outline"],[3,"selectionChange"],["downloadDropdown",""],[1,"ng-container"],["class","imgage-content",4,"ngIf"],["class","ag-grid-table",4,"ngIf"],[3,"value"],["appearance","outline",4,"ngIf"],["value","ALL"],["appearance","outline",2,"width","45%"],["matInput","","placeholder","Select from date",3,"matDatepicker","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["appearance","outline","id","report"],["matInput","","placeholder","From date",3,"matDatepicker","dateChange"],[1,"imgage-content"],["src","../../../assets/undraw_report_re_f5n5 1.png",1,"img-fluid"],[1,"headlines"],[1,"ag-grid-table"],[1,"ag-theme-quartz",2,"height","63vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","enableRangeSelection","copyHeadersToClipboard","defaultColDef","gridReady"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),e.EFF(3,"Select report type"),e.k0s(),e.j41(4,"mat-select",2),e.bIt("valueChange",function(s){return n.selectedFileReport=s})("selectionChange",function(s){return n.selectedCategory(s)}),e.DNE(5,rm,2,2,"mat-option",3),e.k0s()(),e.DNE(6,um,21,9,"ng-container",4),e.DNE(7,hm,19,6,"ng-container",4),e.DNE(8,bm,8,3,"ng-container",4),e.DNE(9,Dm,25,7,"ng-container",4),e.j41(10,"button",5),e.bIt("click",function(){return n.fetchBtnClick()}),e.EFF(11,"Fetch report"),e.k0s(),e.j41(12,"mat-form-field",6)(13,"mat-label"),e.EFF(14,"Download file"),e.k0s(),e.j41(15,"mat-select",7,8),e.bIt("selectionChange",function(s){return n.DownloadType(s)}),e.DNE(17,vm,4,2,"mat-option",3),e.k0s()()(),e.qex(18,9),e.DNE(19,Fm,5,0,"div",10),e.bVm(),e.DNE(20,Mm,2,9,"div",11)),2&a&&(e.R7$(4),e.Y8G("value",n.selectedFileReport),e.R7$(1),e.Y8G("ngForOf",n.reportFileType),e.R7$(1),e.Y8G("ngIf","EOD to EOD exception report"===n.Category),e.R7$(1),e.Y8G("ngIf","Match-Unmatch report"===n.Category),e.R7$(1),e.Y8G("ngIf","Last Five CBR Trans"===n.Category),e.R7$(1),e.Y8G("ngIf","Switch suspect Txn Report"===n.Category||"Ej Missing Report"===n.Category||"Card Wise Reject Trans Report"===n.Category||"TALLY-UNTALLY report"===n.Category||"CBR Missing Report"===n.Category||"Hanging report"===n.Category||"Switch ATM vs ATM Master ATM Mssing Report"===n.Category||"Proactive Transaction - EJ Not Available"===n.Category||"After TAT EJ Available Transaction Report"===n.Category||"Switch Admin Eod Report"===n.Category),e.R7$(8),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("ngIf",!n.showTable),e.R7$(1),e.Y8G("ngIf",n.showTable))},dependencies:[g.Sq,g.bT,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:20px;display:flex;justify-content:center;align-items:center;padding:10px;font-weight:400;color:#000}.report-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:180px;height:50px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px}.imgage-content[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20px;height:70vh;margin:20px;display:flex;justify-content:center;align-items:center;flex-direction:column}.imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.headlines[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#report[_ngcontent-%COMP%]{width:20em}.inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:2em;gap:15px;margin-right:30px}  .mat-mdc-form-field-infix.ng-tns-c1205077789-4{padding-top:14px!important}  .mat-mdc-form-field-infix.ng-tns-c1205077789-5{padding-top:17px!important;padding-bottom:12px!important}  .mat-mdc-select-arrow svg{top:120%!important}"]})}}return o})();const Pm=["downloadDropdown"],wm=["fromDate"],Om=["toDate"];function Tm(o,r){if(1&o&&(e.j41(0,"mat-option",17)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let km=(()=>{class o{constructor(t,a,n,i){this.dialog=t,this.renderer=a,this.URMService=n,this.notify=i,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.rowData=[],this.today=new Date,this.downloads=[{icon:"download",value:"xlsx",downloadtype:"EXCEL"}],this.columnDefs=[{field:"ATM id",headerName:"ATM Id",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Date",headerName:"Date",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Time",headerName:"Time",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Vendor Name",headerName:"Vendor name",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Tally-Untally",headerName:"Tally-Untally",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Difference amount",headerName:"Difference amount",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Ageing",headerName:"Ageing",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Opening Balance",headerName:"Opening balance",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"CBR Loading",headerName:"CBR loading",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"CBR Dispense",headerName:"CBR dispense",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"CBR Deposit",headerName:"CBR deposit",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"PHY SHORT",headerName:"PHY SHORT",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"PHY EXCESS",headerName:"PHY EXCESS",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"CBB",headerName:"CBB",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"ATM Closing Cash",headerName:"ATM closing cash",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Switch Closing Balance",headerName:"Switch closing balance",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"GL Balance",headerName:"GL balance",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Part A Entries amount",headerName:"Part A entries amount",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Part B Entries amount",headerName:"Part B entries amount",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"Redrawan GL Balance",headerName:"Redrawan GL balance",width:350,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&console.log("reports APIs called",this.activeTabId)}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-1),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}getSingleATMDataButton(){this.dialog.open(y.T,{height:"55vh",width:"35%"})}onGridReady(t){this.gridApi=t.api,this.params=t}DownloadType(t){console.log("DownloadType",t.value);const a=new Date,n=`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")}`,i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getATMReportsDownload(this.productId,this.applicationId,this.projectId,"TALLY-UNTALLY report",{atm_id:this.atmId,from_date:this.fromDateFormatted,to_date:this.toDateFormatted}).then(c=>{console.log("Response in settlement voucherdata",c),this.downloadDropdown.value=null;let d=window.navigator;console.log("New Variable",d);const m=new Blob([c],{type:"application/vnd.ms-excel;charset=utf-8"});if(console.log("newBlob",m),d&&d.msSaveOrOpenBlob)d.msSaveOrOpenBlob(m,`Tally-Untally${n}.xlsx`),i.close();else{let U=window.URL.createObjectURL(m);var E=document.createElement("a");E.download=`Tally-Untally${n}.xlsx`,E.href=U,document.body.appendChild(E),E.click(),document.body.removeChild(E),i.close()}}).catch(c=>{console.log("error =>",c),this.downloadDropdown.value=null,i.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(Pe.V),e.rXU(Ce.J))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-tally-untally-atm"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Pm,5),e.GBs(wm,5),e.GBs(Om,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first),e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:32,vars:14,consts:[[1,"tally-untally-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],[1,"apply-btn",3,"click"],[3,"selectionChange"],["downloadDropdown",""],[3,"value",4,"ngFor","ngForOf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"button",11),e.bIt("click",function(){return n.getSingleATMDataButton()}),e.EFF(23," Fetch "),e.k0s(),e.j41(24,"mat-form-field",2)(25,"mat-label"),e.EFF(26,"Download file"),e.k0s(),e.j41(27,"mat-select",12,13),e.bIt("selectionChange",function(s){return n.DownloadType(s)}),e.DNE(29,Tm,4,2,"mat-option",14),e.k0s()()(),e.j41(30,"div",15)(31,"ag-grid-angular",16),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs],styles:[".tally-untally-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:20px;gap:15px}.tally-untally-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:52px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}"]})}}return o})();const Em=["downloadDropdown"];function Im(o,r){if(1&o&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.JRh(t.name)}}function Rm(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-form-field",2)(1,"mat-label"),e.EFF(2,"ATM Id"),e.k0s(),e.j41(3,"input",16),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.atmId=n)}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("ngModel",t.atmId)}}function Am(o,r){if(1&o&&(e.j41(0,"mat-option",15)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let jm=(()=>{class o{constructor(t,a,n,i){this.dialog=t,this.renderer=a,this.URMService=n,this.notify=i,this.paginationPageSize=20,this.selectedAtmId="ALL",this.rowData=[],this.allSelect=[{name:"Single ATM",value:"single"},{name:"All ATM",value:"ALL"}],this.downloads=[{icon:"download",value:"xlsx",downloadtype:"EXCEL"}],this.columnDefs=[{field:"project",headerName:"Project",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"bank",headerName:"Bank",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"bank_name",headerName:"Bank Name",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"eps_site_code",headerName:"EPS Site Code",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"atm_id",headerName:"ATM ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"old_atm_id",headerName:"Old ATM ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"location_name",headerName:"Location Name",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"site_address",headerName:"Site Address",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"district",headerName:"District",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"state",headerName:"State",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"pop_group",headerName:"Population Group",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"site_type",headerName:"Site Type",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"current_cra",headerName:"Current CRA",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"old_cra",headerName:"Old CRA",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"tech_live_date",headerName:"Tech Live Date",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"cash_live_date",headerName:"Cash Live Date",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"cra_migration_date",headerName:"CRA Migration Date",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"cash_feeder_branch",headerName:"Cash Feeder Branch",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"site_status",headerName:"Site Status",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"atm_brand",headerName:"ATM Brand",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"atm_closed_date",headerName:"ATM Closed Date",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"remarks",headerName:"Remarks",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"link_type",headerName:"Link Type",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"link_vendor",headerName:"Link Vendor",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"vsat_code",headerName:"VSAT Code",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"amt_make",headerName:"ATM Make",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"serial_number",headerName:"Serial Number",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"type_of_lock",headerName:"Type of Lock",flex:1},{field:"lock_sr_number",headerName:"Lock Serial Number",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"activation_status",headerName:"Activation Status",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"distance_from_hub",headerName:"Distance from Hub",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"tat",headerName:"TAT",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"ups_make",headerName:"UPS Make",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"ups_backup_hrs",headerName:"UPS Backup Hours",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"e_surv",headerName:"E-Surveillance",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"ac_make",headerName:"AC Make",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"caretaker",headerName:"Caretaker",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"caretaker_name",headerName:"Caretaker Name",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"caretaker_number",headerName:"Caretaker Number",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"loading_type",headerName:"Loading Type",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"project_id",headerName:"Project ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"product_id",headerName:"Product ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"application_id",headerName:"Application ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"tenant_id",headerName:"Tenant ID",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{field:"sr_number",headerName:"SR Number",flex:1,filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&console.log("reports APIs called",this.activeTabId)}selectAtmId(t){this.atmId=void 0,this.selectedAtmId=t.value,console.log("this.atmId",this.atmId)}getATMmasterData(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});if("single"===this.selectedAtmId&&(!this.atmId||""===this.atmId.trim()))return t.close(),void this.notify.showErrorToast("Please enter an ATM ID first!","Close");null==this.atmId?this.URMService.getAtmMasterDetails(this.productId,this.applicationId,this.projectId).then(a=>{console.log("getAtmMasterDetails response",a),200===a.statusCode?a.data.length>0?this.rowData=a.data:(this.notify.showErrorToast("No ATM data found!","Close"),this.rowData=[]):this.rowData=[],t.close()}).catch(a=>{console.log("error occurred generating inward report",a),t.close()}):this.URMService.getAtmMasterDetailsByAtmId(this.productId,this.applicationId,this.projectId,this.atmId).then(a=>{console.log("getAtmMasterDetails response",a),200===a.statusCode?a.data.length>0?this.rowData=a.data:(this.notify.showErrorToast("No ATM data found!","Close"),this.rowData=[]):this.rowData=[],t.close()}).catch(a=>{console.log("error occurred generating inward report",a),t.close()})}DownloadType(t){}onGridReady(t){this.gridApi=t.api,this.params=t}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=s=>{this.srcResult=s.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),console.log("Inside if ben"),this.URMService.uploadAtmMasterDetails(this.productId,this.applicationId,this.projectId,i).then(s=>{console.log("uploadRemitterChargebackFile resp =>",s),200===s.statusCode||201===s.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),this.rowData.length>0&&this.getATMmasterData(),t.close(),a.value=""):(this.notify.showSuccessToast(s.errorMessage,"Close"),t.close(),a.value="")}).catch(s=>{console.log("Error occured while deleting file",s),s&&s.error&&s.error.errorMessage&&this.notify.showErrorToast(s.error.errorMessage,"Close"),t.close(),a.value=""})}}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG),e.rXU(Pe.V),e.rXU(Ce.J))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-master"]],viewQuery:function(a,n){if(1&a&&e.GBs(Em,5),2&a){let i;e.mGM(i=e.lsd())&&(n.downloadDropdown=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:23,vars:10,consts:[[1,"atm-master-container"],[1,"inputs-buttons"],["appearance","outline"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",4,"ngIf"],[1,"apply-btn",3,"click"],[3,"selectionChange"],["downloadDropdown",""],[1,"upload-file"],["type","button","mat-raised-button","",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","gridReady"],[3,"value"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM type"),e.k0s(),e.j41(5,"mat-select",3),e.bIt("valueChange",function(l){return n.selectedAtmId=l})("selectionChange",function(l){return n.selectAtmId(l)}),e.DNE(6,Im,2,2,"mat-option",4),e.k0s()(),e.DNE(7,Rm,4,1,"mat-form-field",5),e.j41(8,"button",6),e.bIt("click",function(){return n.getATMmasterData()}),e.EFF(9," Fetch "),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"Download file"),e.k0s(),e.j41(13,"mat-select",7,8),e.bIt("selectionChange",function(l){return n.DownloadType(l)}),e.DNE(15,Am,4,2,"mat-option",4),e.k0s()(),e.j41(16,"div",9)(17,"button",10),e.bIt("click",function(){e.eBV(i);const l=e.sdS(20);return e.Njj(l.click())}),e.EFF(18,"Upload live ATM file"),e.k0s(),e.j41(19,"input",11,12),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()()(),e.j41(21,"div",13)(22,"ag-grid-angular",14),e.bIt("gridReady",function(l){return n.onGridReady(l)}),e.k0s()()()}2&a&&(e.R7$(5),e.Y8G("value",n.selectedAtmId),e.R7$(1),e.Y8G("ngForOf",n.allSelect),e.R7$(1),e.Y8G("ngIf","single"===n.selectedAtmId),e.R7$(8),e.Y8G("ngForOf",n.downloads),e.R7$(7),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize))},dependencies:[g.Sq,g.bT,pt.$z,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,ue.fg,_e.VO,he.wT,be.xs],styles:[".atm-master-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:20px;gap:15px}.atm-master-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:52px;font-size:18px;font-weight:400;margin-bottom:1em;line-height:24px;border-radius:8px;cursor:pointer}.atm-master-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}"]})}}return o})();const Nm=["fromDate"],Bm=["fromDatepicker"],Gm=["toDate"];function Vm(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function $m(o,r){1&o&&e.nrm(0,"img",21)}let Um=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srNo",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"",headerName:"Excess move ()",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Shortage Adjustment entry()Knock-ff)",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Move to Vendor Recovery ( )-ATM GL CR-Vendor recovery",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Unique Ticket id",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Vendor Name",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Recon DATE",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Excess Amount",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Utilise Excess amount",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Available Excess amount",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Actual Excess",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Actual Shortage",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Ticket ids for which excess utilise",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Entry date will be updated",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"shortage settled amount column",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Adj_By user name.",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Vendor Recovery reason",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Vendor recovery amount",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Vendor Recovery Date",filter:"agTextColumnFilter",sortable:!0},{field:"",headerName:"Excess cash Park in Bank Sundry excess account-GL Dr -Excess cash a/c Cr",filter:"agTextColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedduplicate event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",accountNumber:this.accountNumber||"",shortCashAdjustment:this.shortCashAdjustment||"",excessCash:this.excessCash||"",vendorRecovery:this.vendorRecovery||"",totalAvailableExcess:this.totalAvailableExcess||"",totalRemainingExcessAmount:this.totalRemainingExcessAmount||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.accountNumber=null,this.shortCashAdjustment=null,this.excessCash=null,this.vendorRecovery=null,this.totalAvailableExcess=null,this.totalRemainingExcessAmount=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}proActivePortal(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.accountNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-overage-shortage"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Nm,5),e.GBs(Bm,5),e.GBs(Gm,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:48,vars:16,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select date",3,"matDatepicker","max","dateChange"],["toDate",""],["matSuffix","",3,"for"],["toDatepicker",""],["matInput","","placeholder","Short cash Adjustment entry",3,"ngModel","ngModelChange"],["matInput","","placeholder","Excess cash park in sundry account",3,"ngModel","ngModelChange"],["matInput","","placeholder","Vendor Recovery ",3,"ngModel","ngModelChange"],["matInput","","placeholder","Total Available Excess",3,"ngModel","ngModelChange"],["matInput","","placeholder","Total Remaining Excess amount",3,"ngModel","ngModelChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[3,"value",4,"ngFor","ngForOf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"Short cash Adjustment entry"),e.k0s(),e.j41(17,"input",8),e.bIt("ngModelChange",function(s){return n.shortCashAdjustment=s}),e.k0s()(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Excess cash park in sundry account"),e.k0s(),e.j41(21,"input",9),e.bIt("ngModelChange",function(s){return n.excessCash=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Vendor Recovery "),e.k0s(),e.j41(25,"input",10),e.bIt("ngModelChange",function(s){return n.vendorRecovery=s}),e.k0s()(),e.j41(26,"mat-form-field",2)(27,"mat-label"),e.EFF(28,"Total Available Excess"),e.k0s(),e.j41(29,"input",11),e.bIt("ngModelChange",function(s){return n.totalAvailableExcess=s}),e.k0s()(),e.j41(30,"mat-form-field",2)(31,"mat-label"),e.EFF(32,"Total Remaining Excess amount"),e.k0s(),e.j41(33,"input",12),e.bIt("ngModelChange",function(s){return n.totalRemainingExcessAmount=s}),e.k0s()(),e.j41(34,"div",13)(35,"span",14),e.bIt("click",function(){return n.resetFields()}),e.EFF(36,"refresh"),e.k0s()(),e.j41(37,"button",15),e.bIt("click",function(){return n.proActivePortal()}),e.EFF(38,"Fetch"),e.k0s(),e.j41(39,"mat-form-field",2)(40,"mat-label"),e.EFF(41,"Export to excel"),e.k0s(),e.j41(42,"mat-select"),e.DNE(43,Vm,4,2,"mat-option",16),e.k0s()()(),e.j41(44,"div",17)(45,"ag-grid-angular",18),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(46,$m,1,0,"ng-template",null,19,e.C5r),e.k0s()),2&a){const i=e.sdS(13);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("ngModel",n.shortCashAdjustment),e.R7$(4),e.Y8G("ngModel",n.excessCash),e.R7$(4),e.Y8G("ngModel",n.vendorRecovery),e.R7$(4),e.Y8G("ngModel",n.totalAvailableExcess),e.R7$(4),e.Y8G("ngModel",n.totalRemainingExcessAmount),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Ym=["fromDate"];let zm=(()=>{class o{constructor(t,a,n,i,s){this.disputeService=t,this.dialog=a,this.notify=n,this.renderer=i,this.cdr=s,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.paginationPageSize=20,this.rowData=[],this.today=new Date,this.rowHeight=60,this.columnDefs=[{headerName:"Txn id",field:"txnuid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Uid",field:"uid",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Adj date",field:"adjdate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Adj type",field:"adjtype",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Remitter",field:"remitter",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Beneficiary",field:"beneficiery",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Response",field:"response",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Txn date",field:"txndate",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Txn time",field:"txntime",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"RRN",field:"rrn",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Txn amount",field:"txnamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Adj amount",field:"adjamount",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Txn Type",field:"transaction_type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Originating Channel",field:"Originating Channel",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Cycle no",field:"cycle_no",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Status",field:"status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"CRM Id",field:"batch id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Merchant/Customer Remark",field:"remark",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Closure file status",field:"closure_file_status",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Closurefile-Open/Closed",field:"closurefile_open_close",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Action date",field:"action_date",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Action taken by",field:"username",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"},{headerName:"Customer justification",field:"customer_justification",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],valueFormatter:l=>l.value?l.value:"--"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,cellHeight:60,copyHeadersToClipboard:!0}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.ref_project_id=localStorage.getItem("ref_project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("selectedTabIndex changed:",t.selectedTabIndex),console.log("selectedTabIndex changed:",t.selectedTabIndex.currentValue),0===t.selectedTabIndex.currentValue?console.log("All actions for remitter tab"):console.log("All actions for beneficiary tab")}ngAfterViewInit(){const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.cdr.detectChanges()}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"dd-MM-yyyy"),console.log("From Date:",this.fromDateFormatted)}searchBtn(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("Inside Search TransactionSearch Tab ====>");let a={tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,ref_project_id:this.projectId,rrn_no:this.rrn_no,creation_date:this.fromDateFormatted};this.rowData=[],this.disputeService.getSearchTransaction(a).then(n=>{console.log("getSearchTransaction response =>",n),200===n.statusCode?n.data.length>0?(this.rowData=n.data,t.close()):(this.notify.showErrorToast("No transaction present for the specified creteria!","Close"),t.close()):(this.notify.showErrorToast(n.errorMessage,"Close"),t.close())}).catch(n=>{console.log("Error occured while fetching charge back",n),t.close()})}onGridReady(t){this.gridApi=t.api,this.params=t}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(ut),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(e.sFG),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-transaction-audit"]],viewQuery:function(a,n){if(1&a&&e.GBs(Ym,5),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[e.OA$],decls:21,vars:10,consts:[[1,"chargeback-container"],[1,"action-buttons"],[1,"date-select"],["appearance","outline"],["matInput","","placeholder","Date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],[1,"adjustment-type"],["matInput","","placeholder","Enter RRN No.",3,"ngModel","ngModelChange"],[1,"seacrch-btn"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","pagination","paginationPageSize","gridReady"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Date"),e.k0s(),e.j41(6,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(8,"mat-datepicker-toggle",6)(9,"mat-datepicker",null,7),e.k0s()(),e.j41(11,"div",8)(12,"mat-form-field",3)(13,"mat-label"),e.EFF(14,"RRN No."),e.k0s(),e.j41(15,"input",9),e.bIt("ngModelChange",function(s){return n.rrn_no=s}),e.k0s()()(),e.j41(16,"div",10)(17,"button",11),e.bIt("click",function(){return n.searchBtn()}),e.EFF(18,"Search"),e.k0s()()(),e.j41(19,"div",12)(20,"ag-grid-angular",13),e.bIt("gridReady",function(s){return n.onGridReady(s)}),e.k0s()()()),2&a){const i=e.sdS(10);e.R7$(6),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(7),e.Y8G("ngModel",n.rrn_no),e.R7$(5),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs],styles:[".action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.action-buttons[_ngcontent-%COMP%]   .seacrch-btn[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{padding:15px 0;font-size:16px;width:160px;border:1px solid #ccc;outline:none;border-radius:10px;background:transparent;color:#666;cursor:pointer;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}  .ag-cell-wrapper{display:flex;align-items:center;font-size:16px}  .ag-ltr .ag-cell{border-right-width:1px;font-size:16px}"]})}}return o})();function Xm(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function qm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a account number. "),e.k0s())}function Lm(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function Hm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a datasource id. "),e.k0s())}function Jm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a type. "),e.k0s())}function Wm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid type (min 3 characters). "),e.k0s())}function Zm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid type (max 50 characters). "),e.k0s())}function Qm(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Only alphanumeric characters are allowed. "),e.k0s())}function Km(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a formula. "),e.k0s())}function eu(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid formula (min 3 characters). "),e.k0s())}function tu(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid formula (max 50 characters). "),e.k0s())}function nu(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Only alphanumeric characters are allowed. "),e.k0s())}function ou(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a description. "),e.k0s())}function au(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid description (min 10 characters). "),e.k0s())}function iu(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please enter a valid description (max 200 characters). "),e.k0s())}function ru(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description can special characters (_ @ . / # & + -). "),e.k0s())}function su(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select a consolidated. "),e.k0s())}let lu=(()=>{class o{constructor(t,a,n,i,s,l,c){this.data=t,this.URMService=a,this.snackBar=n,this.formBuilder=i,this.dialogRef=s,this.notify=l,this.dialog=c,this.createProject=!1,this.loading=!1,this.datasourceArray=[],this.accountArray=[],this.IconsArray=[{type:"upi dispute",icon:"support_agent"},{type:"upi",icon:"currency_rupee"},{type:"atm",icon:"atm"},{type:"imps",icon:"box"},{type:"netc",icon:"savings"}],this.colorPalette=["#DCC8FF","#C4CDFD","#FFEBB8","#D7FFC4","#BE97FF","#FF979D","#FFD7A7","#7DDDFC","#828BA9","#9B989B","#C2BECA","#575759"],this.addAccountMapping=this.formBuilder.group({account_number:new p.MJ("",p.k0.required),datasource_id:new p.MJ("",p.k0.required),type:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(50),p.k0.pattern("^[a-zA-Z0-9]+( [a-zA-Z0-9]+)*$")]),formula:new p.MJ("",[p.k0.required,p.k0.minLength(3),p.k0.maxLength(50),p.k0.pattern("^[a-zA-Z0-9]+( [a-zA-Z0-9]+)*$")]),description:new p.MJ("",[p.k0.required,p.k0.minLength(10),p.k0.maxLength(200),p.k0.pattern("^[a-zA-Z0-9 _@./#&+-]*$")]),consolidated:new p.MJ("",p.k0.required)})}ngOnInit(){var t=this;return(0,G.A)(function*(){t.productId=localStorage.getItem("product_id"),t.applicationId=localStorage.getItem("application_id"),t.projectId=localStorage.getItem("project_id"),t.tenantId=localStorage.getItem("tenant_id"),t.popupType=t.data.true,t.getdataSourcesbyProjectId(),t.getAccountNumberByProjectId(),"add-account"===t.popupType&&(t.createProject=!0)})()}onNoClick(){this.dialogRef.close()}getAccountNumberByProjectId(){this.accountType="All",this.URMService.getDataByAccountTypes({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,type:this.accountType}).then(a=>{if(console.log("\u{1f680} ~ AccountMappingSettlementComponent ~ this.URMService.getAccountTypes ~ result:",a),200===a.statusCode){const n=a.data;n.length>0?(this.accountArray=n.map(i=>({name:i.account_type,value:i.account_number})),console.log("\u{1f680} ~ AccountMappingSettlementComponent ~ this.accountArray=sourceResponse.map ~ accountArray:",this.accountArray)):this.notify.showSuccessToast("No account types found!","Close")}else console.log("Error occurred",a.errorMessage)}).catch(a=>{console.log("getSubCombination error =>",a)})}getdataSourcesbyProjectId(){this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getdataSourcesbyProjectId response",a),a&&200===a.statusCode?(this.datasourceArray=a.data.map(i=>({name:i.datasource_name,value:i.datasource_id})),console.log("datasourceArray options",this.datasourceArray)):this.notify.showErrorToast(a.errorMessage,"Close")}).catch(a=>{console.log("Error while getting recon config data",a)})}selectedDatasource(t){console.log("selectedDatasource event",t),this.datasource_name=t.value}selectedAccountNumber(t){console.log("selectedDatasource event",t),this.account_number1=t.value}onSubmit(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});if("add-mapping-account"===this.popupType)if(this.addAccountMapping){const a={account_number:this.account_number1,datasource_id:this.datasource_name,type:this.addAccountMapping.get("type")?.value,formula:this.addAccountMapping.get("formula")?.value,description:this.addAccountMapping.get("description")?.value,consolidated:this.addAccountMapping.get("consolidated")?.value};console.log("\u{1f680} ~ AddAccountMasterComponent ~ onSubmit ~ projectData:",a),this.URMService.accountMappingSettlement({tenant_id:this.tenantId,project_id:this.projectId,product_id:this.productId,application_id:this.applicationId},a).then(i=>{let s;if(console.log("accountMappingSettlement response",i),200===i.statusCode)console.log("Add successfully"),s="Account Add created successfully!",this.notify.showSuccessToast(s,"Close"),this.dialogRef.close(s),t.close();else{let l=i.errorMessage;this.notify.showErrorToast(l,"Close"),this.dialogRef.close(l),t.close()}}).catch(i=>{console.log("Error =>",i.error.message),this.notify.showErrorToast(i.error.message,"Close"),t.close()})}else console.log("form is not valid in if")}showSuccessToast(t){this.snackBar.open(t,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}showErrorToast(t){this.snackBar.open(t,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-error"})}showLoadingScreen(t,a){this.loading=!0,setTimeout(()=>{this.loading=!1,"add"==a?t?this.showErrorToast("Failed to create new project. Please try again."):this.showSuccessToast("Project created successfully"):t?this.showErrorToast("Failed to update project. Please try again."):this.showSuccessToast("Project updated successfully"),this.dialogRef.close()},3e3)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.Vh),e.rXU(Pe.V),e.rXU(qt.UG),e.rXU(p.ok),e.rXU(F.CP),e.rXU(Ce.J),e.rXU(F.bZ))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-mapping-settlement"]],decls:63,vars:19,consts:[[1,"form-header"],[1,"form-header-title"],[1,"material-symbols-outlined","close",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-content"],[1,"row"],[1,"label"],["appearance","outline"],["formControlName","account_number","placeholder","Select account_number",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","datasource_id","placeholder","Select datasource_id",3,"selectionChange"],["appearance","outline",1,"project-input"],["matInput","","formControlName","type","placeholder","Enter type"],["matInput","","formControlName","formula","placeholder","Enter formula"],["matInput","","formControlName","description","placeholder","Enter description"],["formControlName","consolidated","placeholder","consolidated"],["value","true"],["value","false"],[1,"action-buttons"],[1,"project-cancel"],["type","submit",1,"project-create",3,"disabled"],[3,"value"]],template:function(a,n){if(1&a&&(e.qex(0),e.j41(1,"div",0)(2,"h2",1),e.EFF(3,"Account Mapping Settlement"),e.k0s(),e.j41(4,"span",2),e.bIt("click",function(){return n.onNoClick()}),e.EFF(5,"close"),e.k0s()(),e.j41(6,"form",3),e.bIt("ngSubmit",function(){return n.onSubmit()}),e.j41(7,"div",4)(8,"div",5)(9,"label",6),e.EFF(10,"Account number*"),e.k0s(),e.j41(11,"mat-form-field",7)(12,"mat-select",8),e.bIt("selectionChange",function(s){return n.selectedAccountNumber(s.value)}),e.DNE(13,Xm,2,2,"mat-option",9),e.k0s(),e.DNE(14,qm,2,0,"mat-error",10),e.k0s()(),e.j41(15,"div",5)(16,"label",6),e.EFF(17,"Datasource id *"),e.k0s(),e.j41(18,"mat-form-field",7)(19,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedDatasource(s.value)}),e.DNE(20,Lm,2,2,"mat-option",9),e.k0s(),e.DNE(21,Hm,2,0,"mat-error",10),e.k0s()(),e.j41(22,"div",5)(23,"label",6),e.EFF(24,"Type*"),e.k0s(),e.j41(25,"mat-form-field",12),e.nrm(26,"input",13),e.DNE(27,Jm,2,0,"mat-error",10),e.DNE(28,Wm,2,0,"mat-error",10),e.DNE(29,Zm,2,0,"mat-error",10),e.DNE(30,Qm,2,0,"mat-error",10),e.k0s()(),e.j41(31,"div",5)(32,"label",6),e.EFF(33,"Formula*"),e.k0s(),e.j41(34,"mat-form-field",12),e.nrm(35,"input",14),e.DNE(36,Km,2,0,"mat-error",10),e.DNE(37,eu,2,0,"mat-error",10),e.DNE(38,tu,2,0,"mat-error",10),e.DNE(39,nu,2,0,"mat-error",10),e.k0s()(),e.j41(40,"div",5)(41,"label",6),e.EFF(42,"Description*"),e.k0s(),e.j41(43,"mat-form-field",12),e.nrm(44,"input",15),e.DNE(45,ou,2,0,"mat-error",10),e.DNE(46,au,2,0,"mat-error",10),e.DNE(47,iu,2,0,"mat-error",10),e.DNE(48,ru,2,0,"mat-error",10),e.k0s()(),e.j41(49,"div",5)(50,"label",6),e.EFF(51,"Consolidated*"),e.k0s(),e.j41(52,"mat-radio-group",16)(53,"mat-radio-button",17),e.EFF(54,"True"),e.k0s(),e.j41(55,"mat-radio-button",18),e.EFF(56," False"),e.k0s()(),e.DNE(57,su,2,0,"mat-error",10),e.k0s(),e.j41(58,"div",19)(59,"button",20),e.EFF(60,"Cancel"),e.k0s(),e.j41(61,"button",21),e.EFF(62,"Create"),e.k0s()()()(),e.bVm()),2&a){let i,s,l,c,d,m,E,U,ie,K,oe,de,De,ce,me;e.R7$(6),e.Y8G("formGroup",n.addAccountMapping),e.R7$(7),e.Y8G("ngForOf",n.accountArray),e.R7$(1),e.Y8G("ngIf",null==(i=n.addAccountMapping.get("account_number"))?null:i.hasError("required")),e.R7$(6),e.Y8G("ngForOf",n.datasourceArray),e.R7$(1),e.Y8G("ngIf",null==(s=n.addAccountMapping.get("datasource_id"))?null:s.hasError("required")),e.R7$(6),e.Y8G("ngIf",null==(l=n.addAccountMapping.get("type"))?null:l.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(c=n.addAccountMapping.get("type"))?null:c.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(d=n.addAccountMapping.get("type"))?null:d.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(m=n.addAccountMapping.get("type"))?null:m.hasError("pattern")),e.R7$(6),e.Y8G("ngIf",null==(E=n.addAccountMapping.get("formula"))?null:E.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(U=n.addAccountMapping.get("formula"))?null:U.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(ie=n.addAccountMapping.get("formula"))?null:ie.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(K=n.addAccountMapping.get("formula"))?null:K.hasError("pattern")),e.R7$(6),e.Y8G("ngIf",null==(oe=n.addAccountMapping.get("description"))?null:oe.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(de=n.addAccountMapping.get("description"))?null:de.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(De=n.addAccountMapping.get("description"))?null:De.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(ce=n.addAccountMapping.get("description"))?null:ce.hasError("pattern")),e.R7$(9),e.Y8G("ngIf",null==(me=n.addAccountMapping.get("consolidated"))?null:me.hasError("required")),e.R7$(4),e.Y8G("disabled",n.addAccountMapping.invalid)}},dependencies:[g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.TL,ue.fg,_e.VO,he.wT,Lt.VT,Lt._g],styles:[".form-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 30px 0}.form-header[_ngcontent-%COMP%]   .form-header-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.form-content[_ngcontent-%COMP%]{padding:20px 30px}.form-content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:20px;margin-top:20px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-cancel[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#6b6b6b;border-radius:8px;border:2px solid #737373;background:#FFF;width:15%;padding:8px 6px 8px 8px}.form-content[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .project-create[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff;border-radius:8px;background:#9351FB;border:none;width:18%;padding:8px 6px 8px 8px}  .cdk-overlay-pane{width:40vw;height:auto;max-height:90vh;border-radius:16px}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();function cu(o,r){if(1&o&&(e.j41(0,"mat-option",18),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.account_type),e.R7$(1),e.SpI(" ",t.account_type," ")}}function du(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.JRh(null==t?null:t.downloadtype)}}let pu=(()=>{class o{constructor(t,a,n,i){this.URMService=t,this.dialog=a,this.notify=n,this.spinnerService=i,this.accountTypes=[],this.rowData=[],this.paginationPageSize=20,this.downloads=[{icon:"download",value:"csv",downloadtype:"CSV"},{icon:"download",value:"xlsv",downloadtype:"EXCEL"},{icon:"download",value:"pdf",downloadtype:"PDF"}],this.rowHeight=60,this.columnDefs=[{headerName:"Account number",field:"account_number",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Datasource id",field:"datasource_id",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Type",field:"type",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Type code",field:"type_code",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Consolidated",field:"consolidated",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]},{headerName:"Formula",field:"formula",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"]}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&console.log("Account master APIs called")}accountMapping(){const t=new F.ru;t.disableClose=!0,t.data={true:"add-mapping-account",product_id:this.productId,application_id:this.applicationId},console.log("dialogConfig",t),this.dialog.open(lu,t).afterClosed().subscribe(n=>{n?(console.log("Response from child component:",n),"Account Add created successfully!"===n?(this.notify.showSuccessToast(n,"Close"),this.getAccountMaster()):this.notify.showErrorToast(n,"Close")):console.log("Dialog was closed without data.")})}onFileSelected(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"}),a=document.querySelector("#file");if(typeof FileReader<"u"){const n=new FileReader;n.onload=l=>{this.srcResult=l.target.result,console.log("srcResult ==>",this.srcResult)},n.readAsArrayBuffer(a.files[0]),console.log("inputNode.files[0]",a.files[0]),this.fileData=a.files[0],console.log("fileData",this.fileData);let i=new FormData;i.append("file",this.fileData),console.log("Inside if ben"),this.URMService.uploadAccountMasterData({tenant_id:this.tenantId,project_id:this.projectId},i).then(l=>{console.log("uploadRemitterChargebackFile resp =>",l),200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("File uploaded successfully!","Close"),t.close(),a.value=""):(this.notify.showSuccessToast(l.errorMessage,"Close"),t.close(),a.value="")}).catch(l=>{console.log("Error occured while deleting file",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),t.close(),a.value=""})}}DownloadType(t){console.log("value",t)}onGridReady(t){this.gridApi=t.api,this.params=t}selectAccount(t){console.log("event",t),this.accountType=t.value}getAccountMaster(){const t=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.getAccountMapping({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getAccountMasterDetails result",n),t.close(),200===n.statusCode?n.data.length>0?this.rowData=n.data:this.notify.showSuccessToast("No account types found!","Close"):console.log("Error occured",n.errorMessage),this.spinnerService.hide()}).catch(n=>{console.log("getSubCombination error =>",n),this.spinnerService.hide(),t.close()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(F.bZ),e.rXU(Ce.J),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-mapping"]],inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:28,vars:9,consts:[[1,"accountMaster-container"],[1,"action-buttons"],[1,"final-status"],["appearance","outline","id","source"],["placeholder","Select account type",3,"selectionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[1,"apply-btn",3,"click"],[1,"download-select"],["appearance","outline"],[3,"selectionChange"],["downloadDropdown",""],[1,"upload-file"],["type","button","mat-raised-button","",3,"click"],["hidden","","type","file","id","file",3,"change"],["fileInput",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","56vh",3,"rowData","columnDefs","gridOptions","rowHeight","defaultColDef","pagination","paginationPageSize","gridReady"],[3,"value"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),e.EFF(5,"Account type"),e.k0s(),e.j41(6,"mat-select",4),e.bIt("selectionChange",function(l){return n.selectAccount(l)}),e.j41(7,"mat-option",5),e.EFF(8,"All"),e.k0s(),e.DNE(9,cu,2,2,"mat-option",6),e.k0s()()(),e.j41(10,"button",7),e.bIt("click",function(){return n.getAccountMaster()}),e.EFF(11," Apply "),e.k0s(),e.j41(12,"button",7),e.bIt("click",function(){return n.accountMapping()}),e.EFF(13,"Add Mapping"),e.k0s(),e.j41(14,"div",8)(15,"mat-form-field",9)(16,"mat-label"),e.EFF(17,"Download file"),e.k0s(),e.j41(18,"mat-select",10,11),e.bIt("selectionChange",function(l){return n.DownloadType(l)}),e.DNE(20,du,4,2,"mat-option",6),e.k0s()()(),e.j41(21,"div",12)(22,"button",13),e.bIt("click",function(){e.eBV(i);const l=e.sdS(25);return e.Njj(l.click())}),e.EFF(23,"Upload file"),e.k0s(),e.j41(24,"input",14,15),e.bIt("change",function(){return n.onFileSelected()}),e.k0s()()(),e.j41(26,"div",16)(27,"ag-grid-angular",17),e.bIt("gridReady",function(l){return n.onGridReady(l)}),e.k0s()()()}2&a&&(e.R7$(9),e.Y8G("ngForOf",n.accountTypes),e.R7$(11),e.Y8G("ngForOf",n.downloads),e.R7$(7),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("rowHeight",n.rowHeight)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize))},dependencies:[g.Sq,pt.$z,Me.An,j.rl,j.nJ,_e.VO,he.wT,be.xs],styles:[".accountMaster-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;gap:25px;margin-top:25px}.accountMaster-container[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .upload-file[_ngcontent-%COMP%]   button.mdc-button.mdc-button--raised[_ngcontent-%COMP%]{padding:26px;background:transparent;border:1px solid #ccc;box-shadow:none;font-size:15px;color:#595959;font-weight:500;margin-bottom:20px}.apply-btn[_ngcontent-%COMP%]{padding:18px 0;font-size:16px;width:185px;border:none;outline:none;border-radius:10px;background:#9977FB;color:#fff;font-weight:600;cursor:pointer;margin-bottom:22px}"]})}}return o})();const mu=["tabgroup"];let uu=(()=>{class o{constructor(t,a){this.URMService=t,this.spinner=a,this.showThirdContentChange=new e.bkB,this.showFirstSecondContent=!0,this.showThirdContent=!1}ngOnChanges(t){if(this.spinner.show(),t.activeTabId&&t.activeTabId.currentValue===this.tabId){console.log("Data Configuration APIs called");let a=localStorage.getItem("product_id"),n=localStorage.getItem("application_id"),i=localStorage.getItem("project_id"),l={tenant_id:localStorage.getItem("tenant_id"),product_id:a,application_id:n,project_id:i};this.URMService.getDataConfigByProjectId(l).then(c=>{console.log("getDataConfigByProjectId response",c),c&&200===c.statusCode?(this.reconConfigData=c.data,localStorage.setItem("data_model_id",this.reconConfigData[0]?.data_model_id),this.Params=c?.data[0]?.Params?c?.data[0]?.Params:[],console.log("Params:",this.Params),this.spinner.hide()):(console.error("Invalid API response format:",c),this.spinner.hide())})}t.parentButtonValue&&(console.log("Updated parentButtonValue:",this.parentButtonValue),"showDataConfig"===this.parentButtonValue&&(console.log("show last content..updateModel."),this.showThirdContent=!0,this.showFirstSecondContent=!1,this.spinner.hide()))}ngOnInit(){this.spinner.show(),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.Role=localStorage.getItem("role")}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}onCancel(){this.showThirdContent=!1,this.showFirstSecondContent=!0}showSpinner(){this.spinner.show()}hideSpinner(){this.spinner.hide()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(Pe.V),e.rXU(At.ex))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-account-detail"]],viewQuery:function(a,n){if(1&a&&e.GBs(mu,5),2&a){let i;e.mGM(i=e.lsd())&&(n.tabGroup=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId",parentButtonValue:"parentButtonValue",displayAllData:"displayAllData"},outputs:{showThirdContentChange:"showThirdContentChange"},features:[e.OA$],decls:8,vars:0,consts:[[1,"data-child-mat-group"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",1,"mat-stretch-tabs",2,"padding-top","20px"],["tabgroup",""],["label","Account master"],["label","Account mapping"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-tab-group",2,3)(4,"mat-tab",4),e.nrm(5,"app-account-master"),e.k0s(),e.j41(6,"mat-tab",5),e.nrm(7,"app-account-mapping"),e.k0s()()()())},dependencies:[Ne.mq,Ne.T8,$o,pu]})}}return o})();const gu=["fromDate"],fu=["fromDatepicker"],hu=["toDate"];function _u(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Cu(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function bu(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function xu(o,r){if(1&o&&(e.j41(0,"mat-option",22)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function yu(o,r){1&o&&e.nrm(0,"img",23)}let Du=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",uniqueticketid:"NMUM60161111111-6586-10000",cycle:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",epsreasontosettlereject:"Error Host Timeout-Txn hang in Part A-GL Excess Available",Attributor:"Rupesh",username:"User1",actiontat:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Txntype=["ALL","Withdrawal","Deposit"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"uniqueticketid",headerName:"Unique Ticket id",filter:"agMultiColumnFilter"},{field:"cycle",headerName:"Cycle",filter:"agMultiColumnFilter"},{field:"tallystatus",headerName:"Tally status"},{headerName:"Status",field:"status",cellRenderer:n=>{const i=n.value;let s="";return"Successful"===i?s="status-green":"Pending"===i?s="status-gray":"In progress"===i||"In Progress"===i?s="status-forProgress":"failed"===i?s="status-red":"Rollback"===i&&(s="status-rollback"),`<div class="${s}">${i}</div>`},minWidth:200},{field:"epsreasontosettlereject",headerName:"EPS-Reason to settle/reject"},{field:"Attributor",headerName:"Attributor"},{field:"username",headerName:"User name"},{field:"actiontat",headerName:"Action TAT"},{field:"tatpenaltyAmount",headerName:"TAT-Penalty Amount"},{field:"delayinSettlement",headerName:"Delay in Settlement (Within TAT)/Txn date-Less 5 days Settled Date"},{field:"settledwithoutExcess",headerName:"Settled without Excess ( Vendor recovery)"},{field:"excessutilizeddate",headerName:"Excess utilized date"},{field:"epsTxnSettled",headerName:"EPS -Txn-Settled/reject date"},{field:"ttumGeneratedateandtime",headerName:"TTUM Generate date and time"},{field:"manualEJerror",headerName:"Manual EJ error"},{field:"atmid",headerName:"ATM ID"},{field:"txnDate",headerName:"Txn Date"},{field:"txnNo",headerName:"Txn No"},{field:"txnTime",headerName:"Txn Time"},{field:"cardNo",headerName:"Card No"},{field:"accountno",headerName:"account no"},{field:"amount",headerName:"amount"},{field:"txnType",headerName:"Txn Type"},{field:"consotium",headerName:"Consotium"},{field:"cardNetworktype",headerName:"Card Network type"},{field:"cRAName",headerName:"CRA Name"},{field:"dateonwhichcasesharewithVendor",headerName:"Date on which case share with Vendor"},{field:"CHBDay1Email ",headerName:"CHB Day1-Email "},{field:"CHBDay2Email ",headerName:"CHB Day2-Email "},{field:"CHBDay3Email ",headerName:"CHB Day3-Email "},{field:"CHBDay4Email ",headerName:"CHB Day4-Email "},{field:"CHBDay5Email ",headerName:"CHB Day5-Email "},{field:"CHBDay6andaboveEmail ",headerName:"CHB Day 6 and above Email "},{field:"vendorOveragereportedamt",headerName:"Vendor Overage reported amt"},{field:"vendoroverageReporteddate",headerName:"Vendor overage Reported date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAccept-reject",headerName:"Vendor Accept-reject"},{field:"vendorRevertdate",headerName:"Vendor Revert date"},{field:"disputeportalstatus",headerName:"Dispute portal status (onus/offus)"},{field:"reasontosettlereject",headerName:"Reason to settle/reject"},{field:"attributor",headerName:"Attributor"},{field:"username",headerName:"User name"},{field:"recoverytoVendor",headerName:"Recovery to Vendor"},{field:"EJDay1",headerName:"EJ Day1"},{field:"EJDay2",headerName:"EJ Day2"},{field:"EJDay3",headerName:"EJ Day3"},{field:"EJDay4",headerName:"EJ Day4"},{field:"EJDay5",headerName:"EJ Day5"},{field:"EJDay6andabove",headerName:"EJ Day 6 and above"},{field:"EJVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"EJAvailableNotAvailable",headerName:"EJ Available /Not Available"},{field:"EJTeamrevertdate",headerName:"EJ Team revert date"},{field:"footageDay1",headerName:"Footage Day1"},{field:"footageDay2",headerName:"Footage Day2"},{field:"footageDay3",headerName:"Footage Day3"},{field:"footageDay4",headerName:"Footage Day4"},{field:"footageDay5",headerName:"Footage Day5"},{field:"footageDay6andabove",headerName:"Footage Day 6 and above"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailableNotAvailable",headerName:"Footages Available /Not Available"},{field:"footageTeamrevertdate",headerName:"Footage Team revert date"},{field:"mSCDay1",headerName:"MSC Day1"},{field:"mSCDay2",headerName:"MSC Day2"},{field:"mSCDay3",headerName:"MSC Day3"},{field:"mSCDay4",headerName:"MSC Day4"},{field:"mSCDay5",headerName:"MSC Day5"},{field:"mSCDay6andabove",headerName:"MSC Day 6 and above"},{field:"calllodgeid",headerName:"call lodge id"},{field:"mSCTeamJustifications",headerName:"MSC Team  Justifications"},{field:"calllodgeNo",headerName:"Call lodge No"},{field:"mSCTeamrevertdate",headerName:"MSC Team  revert date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedTxntype(t){console.log("selectedTxntype event",t),this.txntype=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",txntype:this.txntype||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.txntype=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}proActivePortal(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-pro-active-portal-screen"]],viewQuery:function(a,n){if(1&a&&(e.GBs(gu,5),e.GBs(fu,5),e.GBs(hu,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:57,vars:21,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select txntype",3,"value","selectionChange"],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Consortium"),e.k0s(),e.j41(21,"mat-select",10),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(22,_u,2,2,"mat-option",11),e.k0s()(),e.j41(23,"mat-form-field",2)(24,"mat-label"),e.EFF(25,"Opt"),e.k0s(),e.j41(26,"mat-select",12),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(27,Cu,2,2,"mat-option",11),e.k0s()(),e.j41(28,"mat-form-field",2)(29,"mat-label"),e.EFF(30,"Txn type"),e.k0s(),e.j41(31,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedTxntype(s.value)}),e.DNE(32,bu,2,2,"mat-option",11),e.k0s()(),e.j41(33,"mat-form-field",2)(34,"mat-label"),e.EFF(35,"Card Number"),e.k0s(),e.j41(36,"input",14),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"ATM Id"),e.k0s(),e.j41(40,"input",15),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(41,"div",16)(42,"span",17),e.bIt("click",function(){return n.resetFields()}),e.EFF(43,"refresh"),e.k0s()(),e.j41(44,"button",18),e.bIt("click",function(){return n.proActivePortal()}),e.EFF(45,"Fetch"),e.k0s(),e.j41(46,"mat-form-field",2)(47,"mat-label"),e.EFF(48,"Export to excel"),e.k0s(),e.j41(49,"mat-select"),e.DNE(50,xu,4,2,"mat-option",11),e.k0s()(),e.j41(51,"button",18),e.bIt("click",function(){return n.upload()}),e.EFF(52," Upload "),e.k0s()(),e.j41(53,"div",19)(54,"ag-grid-angular",20),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(55,yu,1,0,"ng-template",null,21,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.txntype),e.R7$(1),e.Y8G("ngForOf",n.Txntype),e.R7$(4),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("ngModel",n.atmId),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const vu=["fromDate"],Fu=["fromDatepicker"],Mu=["toDate"];function Su(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Pu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function wu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Ou(o,r){if(1&o&&(e.j41(0,"mat-option",21)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Tu(o,r){1&o&&e.nrm(0,"img",22)}let ku=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",complaintid:"NMUM60161111111-6586-10000",adjDate:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",CHBmodulestatus:"Error Host Timeout-Txn hang in Part A-GL Excess Available",CHBmoduleReasontosettlereject:"Rupesh",username:"User1",proactivestatus:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"complaintid",headerName:"Complaint id",filter:"agMultiColumnFilter"},{field:"adjDate",headerName:"Adj Date",filter:"agMultiColumnFilter"},{field:"tallystatus",headerName:"Tally status"},{headerName:"Status",field:"status",cellRenderer:n=>{const i=n.value;let s="";return"Successful"===i?s="status-green":"Pending"===i?s="status-gray":"In progress"===i||"In Progress"===i?s="status-forProgress":"failed"===i?s="status-red":"Rollback"===i&&(s="status-rollback"),`<div class="${s}">${i}</div>`},minWidth:200},{field:"CHBmodulestatus",headerName:"CHB module status"},{field:"CHBmoduleReasontosettlereject",headerName:"CHB module-Reason to settle/reject"},{field:"username",headerName:"User name"},{field:"proactivestatus",headerName:"Pro-active status"},{field:"reasontosettlereject",headerName:"Reason to settle/reject"},{field:"attributor",headerName:"Attributor"},{field:"username",headerName:"User name"},{field:"actionTAT",headerName:"Action TAT"},{field:"TATPenaltyAmount",headerName:"TAT-Penalty Amount"},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery"},{field:"recoverytoVendor",headerName:"Recovery to Vendor"},{field:"vendorRecovceryMonth",headerName:"Vendor Recovcery Month"},{field:"excessutilizeddate",headerName:"Excess utilized date"},{field:"ttumGeneratedateandtime",headerName:"TTUM Generate date and time"},{field:"manualEJerror",headerName:"Manual EJ error"},{field:"atmid",headerName:"ATM ID"},{field:"txnDate",headerName:"Txn Date"},{field:"txnNo",headerName:"Txn No"},{field:"txnTime",headerName:"Txn Time"},{field:"cardNo",headerName:"Card No"},{field:"accountno",headerName:"account no"},{field:"amount",headerName:"amount"},{field:"txnType",headerName:"Txn Type"},{field:"consotium",headerName:"Consotium"},{field:"cardNetworktype",headerName:"Card Network type"},{field:"cRAName",headerName:"CRA Name"},{field:"dateonwhichcasesharewithVendor",headerName:"Date on which case share with Vendor"},{field:"CHBDay1Email ",headerName:"CHB Day1-Email "},{field:"CHBDay2Email ",headerName:"CHB Day2-Email "},{field:"CHBDay3Email ",headerName:"CHB Day3-Email "},{field:"CHBDay4Email ",headerName:"CHB Day4-Email "},{field:"CHBDay5Email ",headerName:"CHB Day5-Email "},{field:"CHBDay6andaboveEmail ",headerName:"CHB Day 6 and above Email "},{field:"vendorOveragereportedamt",headerName:"Vendor Overage reported amt"},{field:"vendoroverageReporteddate",headerName:"Vendor overage Reported date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAccept-reject",headerName:"Vendor Accept-reject"},{field:"vendorRevertdate",headerName:"Vendor Revert date"},{field:"disputeportalstatus",headerName:"Dispute portal status (onus/offus)"},{field:"reasontosettlereject",headerName:"Reason to settle/reject"},{field:"attributor",headerName:"Attributor"},{field:"username",headerName:"User name"},{field:"recoverytoVendor",headerName:"Recovery to Vendor"},{field:"EJDay1",headerName:"EJ Day1"},{field:"EJDay2",headerName:"EJ Day2"},{field:"EJDay3",headerName:"EJ Day3"},{field:"EJDay4",headerName:"EJ Day4"},{field:"EJDay5",headerName:"EJ Day5"},{field:"EJDay6andabove",headerName:"EJ Day 6 and above"},{field:"EJVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"EJAvailableNotAvailable",headerName:"EJ Available /Not Available"},{field:"EJTeamrevertdate",headerName:"EJ Team revert date"},{field:"footageDay1",headerName:"Footage Day1"},{field:"footageDay2",headerName:"Footage Day2"},{field:"footageDay3",headerName:"Footage Day3"},{field:"footageDay4",headerName:"Footage Day4"},{field:"footageDay5",headerName:"Footage Day5"},{field:"footageDay6andabove",headerName:"Footage Day 6 and above"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailableNotAvailable",headerName:"Footages Available /Not Available"},{field:"footageTeamrevertdate",headerName:"Footage Team revert date"},{field:"mSCDay1",headerName:"MSC Day1"},{field:"mSCDay2",headerName:"MSC Day2"},{field:"mSCDay3",headerName:"MSC Day3"},{field:"mSCDay4",headerName:"MSC Day4"},{field:"mSCDay5",headerName:"MSC Day5"},{field:"mSCDay6andabove",headerName:"MSC Day 6 and above"},{field:"calllodgeid",headerName:"call lodge id"},{field:"mSCTeamJustifications",headerName:"MSC Team  Justifications"},{field:"calllodgeNo",headerName:"Call lodge No"},{field:"mSCTeamrevertdate",headerName:"MSC Team  revert date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-chargeback"]],viewQuery:function(a,n){if(1&a&&(e.GBs(vu,5),e.GBs(Fu,5),e.GBs(Mu,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:53,vars:20,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Card Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,Su,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,Pu,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,wu,2,2,"mat-option",12),e.k0s()(),e.j41(37,"div",15)(38,"span",16),e.bIt("click",function(){return n.resetFields()}),e.EFF(39,"refresh"),e.k0s()(),e.j41(40,"button",17),e.bIt("click",function(){return n.fetchData()}),e.EFF(41,"Fetch"),e.k0s(),e.j41(42,"mat-form-field",2)(43,"mat-label"),e.EFF(44,"Export to excel"),e.k0s(),e.j41(45,"mat-select"),e.DNE(46,Ou,4,2,"mat-option",12),e.k0s()(),e.j41(47,"button",17),e.bIt("click",function(){return n.upload()}),e.EFF(48," Upload "),e.k0s()(),e.j41(49,"div",18)(50,"ag-grid-angular",19),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(51,Tu,1,0,"ng-template",null,20,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.Duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Eu=["fromDate"],Iu=["fromDatepicker"],Ru=["toDate"];function Au(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function ju(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Nu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Bu(o,r){if(1&o&&(e.j41(0,"mat-option",21)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Gu(o,r){1&o&&e.nrm(0,"img",22)}let Vu=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",complaintid:"NMUM60161111111-6586-10000",adjDate:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",CHBmodulestatus:"Error Host Timeout-Txn hang in Part A-GL Excess Available",CHBmoduleReasontosettlereject:"Rupesh",username:"User1",proactivestatus:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"SR",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{field:"complaintId",headerName:"Complaint ID",filter:"agMultiColumnFilter"},{field:"adjustmentType",headerName:"Adjustment Type",filter:"agMultiColumnFilter"},{field:"tallyStatus",headerName:"Tally Status"},{field:"preArbModuleStatus",headerName:"Pre-Arb Module Status"},{field:"preArbModuleReason",headerName:"Pre-Arb Module - Reason to Settle/Reject"},{field:"attributor1",headerName:"Attributor"},{field:"userName",headerName:"User Name"},{field:"proActiveStatus",headerName:"Pro-Active Status"},{field:"settleRejectReason",headerName:"Reason to Settle/Reject"},{field:"attributor2",headerName:"Attributor"},{field:"chargebackModuleStatus",headerName:"Chargeback Module Status"},{field:"chargebackReason",headerName:"Reason to Settle/Reject"},{field:"attributor3",headerName:"Attributor"},{field:"actionTAT",headerName:"Action TAT"},{field:"tatPenaltyAmount",headerName:"TAT Penalty Amount"},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery"},{field:"recoveryToVendor",headerName:"Recovery to Vendor"},{field:"vendorRecoveryMonth",headerName:"Vendor Recovery Month"},{field:"excessUtilizedDate",headerName:"Excess Utilized Date"},{field:"ttumGenerateDateTime",headerName:"TTUM Generate Date and Time"},{field:"manualEJError",headerName:"Manual EJ Error"},{field:"atmId",headerName:"ATM ID"},{field:"txnDate",headerName:"Txn Date"},{field:"txnNo",headerName:"Txn No"},{field:"txnTime",headerName:"Txn Time"},{field:"cardNo",headerName:"Card No"},{field:"accountNo",headerName:"Account No"},{field:"amount",headerName:"Amount"},{field:"receivedAmt",headerName:"Received Amt"},{field:"disputeAmt",headerName:"Dispute Amt"},{field:"txnType",headerName:"Txn Type"},{field:"consortium",headerName:"Consortium"},{field:"cardNetworkType",headerName:"Card Network Type"},{field:"craName",headerName:"CRA Name"},{field:"vendorCaseShareDate",headerName:"Date on which case shared to Vendor"},{field:"day1Email",headerName:"Day1-Email"},{field:"day2Email",headerName:"Day2-Email"},{field:"day3Email",headerName:"Day3-Email"},{field:"day4Email",headerName:"Day4-Email"},{field:"day5Email",headerName:"Day5-Email"},{field:"day6PlusEmail",headerName:"Day 6 and above Email"},{field:"vendorOverageAmt",headerName:"Vendor Overage Reported Amt"},{field:"vendorOverageDate",headerName:"Vendor Overage Reported Date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject"},{field:"EJDay1",headerName:"EJ Day1"},{field:"EJDay2",headerName:"EJ Day2"},{field:"EJDay3",headerName:"EJ Day3"},{field:"EJDay4",headerName:"EJ Day4"},{field:"EJDay5",headerName:"EJ Day5"},{field:"EJDay6andabove",headerName:"EJ Day 6 and above"},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"ejAvailability",headerName:"EJ Available/Not Available"},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date"},{field:"footageDay1",headerName:"Footage Day1"},{field:"footageDay2",headerName:"Footage Day2"},{field:"footageDay3",headerName:"Footage Day3"},{field:"footageDay4",headerName:"Footage Day4"},{field:"footageDay5",headerName:"Footage Day5"},{field:"footageDay6andabove",headerName:"Footage Day 6 and above"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailability",headerName:"Footages Available/Not Available"},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-pre-arbitration"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Eu,5),e.GBs(Iu,5),e.GBs(Ru,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:53,vars:20,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Card Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,Au,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,ju,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,Nu,2,2,"mat-option",12),e.k0s()(),e.j41(37,"div",15)(38,"span",16),e.bIt("click",function(){return n.resetFields()}),e.EFF(39,"refresh"),e.k0s()(),e.j41(40,"button",17),e.bIt("click",function(){return n.fetchData()}),e.EFF(41,"Fetch"),e.k0s(),e.j41(42,"mat-form-field",2)(43,"mat-label"),e.EFF(44,"Export to excel"),e.k0s(),e.j41(45,"mat-select"),e.DNE(46,Bu,4,2,"mat-option",12),e.k0s()(),e.j41(47,"button",17),e.bIt("click",function(){return n.upload()}),e.EFF(48," Upload "),e.k0s()(),e.j41(49,"div",18)(50,"ag-grid-angular",19),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(51,Gu,1,0,"ng-template",null,20,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.Duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const $u=["fromDate"],Uu=["fromDatepicker"],Yu=["toDate"];function zu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Xu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function qu(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Lu(o,r){if(1&o&&(e.j41(0,"mat-option",21)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Hu(o,r){1&o&&e.nrm(0,"img",22)}let Ju=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",complaintid:"NMUM60161111111-6586-10000",adjDate:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",CHBmodulestatus:"Error Host Timeout-Txn hang in Part A-GL Excess Available",CHBmoduleReasontosettlereject:"Rupesh",username:"User1",proactivestatus:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"sr",headerName:"SR",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{field:"complaintId",headerName:"Complaint ID",filter:"agMultiColumnFilter"},{field:"adjustmentType",headerName:"Adjustment Type",filter:"agMultiColumnFilter"},{field:"tallyStatus",headerName:"Tally Status"},{field:"preArbModuleStatus",headerName:"Arbitration Module Status"},{field:"preArbModuleReason",headerName:"Arbitration Module - Reason to Settle/Reject"},{field:"attributor1",headerName:"Attributor"},{field:"userName",headerName:"User Name"},{field:"proActiveStatus",headerName:"Pro-Active Status"},{field:"reasonToSettleReject1",headerName:"Reason to Settle/Reject"},{field:"attributor2",headerName:"Attributor"},{field:"chargebackModuleStatus",headerName:"Chargeback Module Status"},{field:"reasonToSettleReject2",headerName:"Reason to Settle/Reject"},{field:"attributor3",headerName:"Attributor"},{field:"Pre-arbitration status",headerName:"Pre-arbitration status"},{field:"Reason to settle/reject",headerName:"Reason to settle/reject"},{field:"attributor4",headerName:"Attributor"},{field:"actionTAT",headerName:"Action TAT"},{field:"tatPenaltyAmount",headerName:"TAT Penalty Amount"},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery"},{field:"recoveryToVendor",headerName:"Recovery to Vendor"},{field:"vendorRecoveryMonth",headerName:"Vendor Recovery Month"},{field:"excessUtilizedDate",headerName:"Excess Utilized Date"},{field:"ttumGenerateDateTime",headerName:"TTUM Generate Date and Time"},{field:"manualEJError",headerName:"Manual EJ Error"},{field:"atmId",headerName:"ATM ID"},{field:"txnDate",headerName:"Transaction Date"},{field:"txnNo",headerName:"Transaction No"},{field:"txnTime",headerName:"Transaction Time"},{field:"cardNo",headerName:"Card No"},{field:"accountNo",headerName:"Account No"},{field:"amount",headerName:"Amount"},{field:"receivedAmt",headerName:"Received Amount"},{field:"disputeAmt",headerName:"Dispute Amount"},{field:"txnType",headerName:"Transaction Type"},{field:"consortium",headerName:"Consortium"},{field:"cardNetworkType",headerName:"Card Network Type"},{field:"craName",headerName:"CRA Name"},{field:"caseShareDate",headerName:"Date on which case share to Vendor"},{field:"day1Email",headerName:"Day 1 Email"},{field:"day2Email",headerName:"Day 2 Email"},{field:"day3Email",headerName:"Day 3 Email"},{field:"day4Email",headerName:"Day 4 Email"},{field:"day5Email",headerName:"Day 5 Email"},{field:"day6PlusEmail",headerName:"Day 6+ Email"},{field:"vendorOverageAmt",headerName:"Vendor Overage Reported Amount"},{field:"vendorOverageDate",headerName:"Vendor Overage Reported Date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject"},{field:"ejDay1",headerName:"Day 1 EJ Email"},{field:"ejDay2",headerName:"Day 2 EJ Email"},{field:"ejDay3",headerName:"Day 3 EJ Email"},{field:"ejDay4",headerName:"Day 4 EJ Email"},{field:"ejDay5",headerName:"Day 5 EJ Email"},{field:"ejDay6Plus",headerName:"Day 6+ EJ Email"},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"ejAvailability",headerName:"EJ Available /Not Available"},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date"},{field:"footageDay1",headerName:"Day 1 Footage Email"},{field:"footageDay2",headerName:"Day 2 Footage Email"},{field:"footageDay3",headerName:"Day 3 Footage Email"},{field:"footageDay4",headerName:"Day 4 Footage Email"},{field:"footageDay5",headerName:"Day 5 Footage Email"},{field:"footageDay6Plus",headerName:"Day 6+ Footage Email"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailability",headerName:"Footages Available /Not Available"},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-arbitration"]],viewQuery:function(a,n){if(1&a&&(e.GBs($u,5),e.GBs(Uu,5),e.GBs(Yu,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:53,vars:20,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Card Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,zu,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,Xu,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,qu,2,2,"mat-option",12),e.k0s()(),e.j41(37,"div",15)(38,"span",16),e.bIt("click",function(){return n.resetFields()}),e.EFF(39,"refresh"),e.k0s()(),e.j41(40,"button",17),e.bIt("click",function(){return n.fetchData()}),e.EFF(41,"Fetch"),e.k0s(),e.j41(42,"mat-form-field",2)(43,"mat-label"),e.EFF(44,"Export to excel"),e.k0s(),e.j41(45,"mat-select"),e.DNE(46,Lu,4,2,"mat-option",12),e.k0s()(),e.j41(47,"button",17),e.bIt("click",function(){return n.upload()}),e.EFF(48," Upload "),e.k0s()(),e.j41(49,"div",18)(50,"ag-grid-angular",19),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(51,Hu,1,0,"ng-template",null,20,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.Duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Wu=["fromDate"],Zu=["fromDatepicker"],Qu=["toDate"];function Ku(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function eg(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function tg(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function ng(o,r){if(1&o&&(e.j41(0,"mat-option",21)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function og(o,r){1&o&&e.nrm(0,"img",22)}let ag=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",complaintid:"NMUM60161111111-6586-10000",adjDate:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",CHBmodulestatus:"Error Host Timeout-Txn hang in Part A-GL Excess Available",CHBmoduleReasontosettlereject:"Rupesh",username:"User1",proactivestatus:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"sr",headerName:"SR",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{field:"complaintId",headerName:"Complaint ID",filter:"agMultiColumnFilter"},{field:"adjustmentType",headerName:"Adjustment Type",filter:"agMultiColumnFilter"},{field:"tallyStatus",headerName:"Tally Status"},{field:"preArbModuleStatus",headerName:"BO-Module Status"},{field:"preArbModuleReason",headerName:"BO-Module - Reason to Settle/Reject"},{field:"attributor1",headerName:"Attributor (BO)"},{field:"userName",headerName:"User Name"},{field:"proActiveStatus",headerName:"Pro-Active Status"},{field:"reasonToSettleReject1",headerName:"Reason to Settle/Reject"},{field:"attributor2",headerName:"Attributor (Dispute)"},{field:"disputeModuleStatus",headerName:"Dispute Module Status"},{field:"reasonToSettleReject2",headerName:"Reason to Settle/Reject (Dispute)"},{field:"attributor3",headerName:"Attributor (Chargeback)"},{field:"actionTAT",headerName:"Action TAT"},{field:"tatPenaltyAmount",headerName:"TAT Penalty Amount"},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery"},{field:"recoveryToVendor",headerName:"Recovery to Vendor"},{field:"vendorRecoveryMonth",headerName:"Vendor Recovery Month"},{field:"excessUtilizedDate",headerName:"Excess Utilized Date"},{field:"ttumGenerateDateTime",headerName:"TTUM Generate Date and Time"},{field:"manualEJError",headerName:"Manual EJ Error"},{field:"atmId",headerName:"ATM ID"},{field:"txnDate",headerName:"Transaction Date"},{field:"txnNo",headerName:"Transaction No"},{field:"txnTime",headerName:"Transaction Time"},{field:"cardNo",headerName:"Card No"},{field:"accountNo",headerName:"Account No"},{field:"amount",headerName:"Amount"},{field:"receivedAmt",headerName:"Received Amount"},{field:"disputeAmt",headerName:"Dispute Amount"},{field:"txnType",headerName:"Transaction Type"},{field:"consortium",headerName:"Consortium"},{field:"cardNetworkType",headerName:"Card Network Type"},{field:"craName",headerName:"CRA Name"},{field:"caseShareDate",headerName:"Date on which Case Shared to Vendor"},{field:"day1Email",headerName:"Day 1 Email"},{field:"day2Email",headerName:"Day 2 Email"},{field:"day3Email",headerName:"Day 3 Email"},{field:"day4Email",headerName:"Day 4 Email"},{field:"day5Email",headerName:"Day 5 Email"},{field:"day6PlusEmail",headerName:"Day 6+ Email"},{field:"vendorOverageAmt",headerName:"Vendor Overage Reported Amount"},{field:"vendorOverageDate",headerName:"Vendor Overage Reported Date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject"},{field:"ejDay1",headerName:"Day 1 EJ Email"},{field:"ejDay2",headerName:"Day 2 EJ Email"},{field:"ejDay3",headerName:"Day 3 EJ Email"},{field:"ejDay4",headerName:"Day 4 EJ Email"},{field:"ejDay5",headerName:"Day 5 EJ Email"},{field:"ejDay6Plus",headerName:"Day 6+ EJ Email"},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"ejAvailability",headerName:"EJ Available/Not Available"},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date"},{field:"footageDay1",headerName:"Day 1 Footage Email"},{field:"footageDay2",headerName:"Day 2 Footage Email"},{field:"footageDay3",headerName:"Day 3 Footage Email"},{field:"footageDay4",headerName:"Day 4 Footage Email"},{field:"footageDay5",headerName:"Day 5 Footage Email"},{field:"footageDay6Plus",headerName:"Day 6+ Footage Email"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailability",headerName:"Footages Available/Not Available"},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-bo-complaints"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Wu,5),e.GBs(Zu,5),e.GBs(Qu,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:53,vars:20,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Card Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,Ku,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,eg,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,tg,2,2,"mat-option",12),e.k0s()(),e.j41(37,"div",15)(38,"span",16),e.bIt("click",function(){return n.resetFields()}),e.EFF(39,"refresh"),e.k0s()(),e.j41(40,"button",17),e.bIt("click",function(){return n.fetchData()}),e.EFF(41,"Fetch"),e.k0s(),e.j41(42,"mat-form-field",2)(43,"mat-label"),e.EFF(44,"Export to excel"),e.k0s(),e.j41(45,"mat-select"),e.DNE(46,ng,4,2,"mat-option",12),e.k0s()(),e.j41(47,"button",17),e.bIt("click",function(){return n.upload()}),e.EFF(48," Upload "),e.k0s()(),e.j41(49,"div",18)(50,"ag-grid-angular",19),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(51,og,1,0,"ng-template",null,20,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.Duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const ig=["fromDate"],rg=["fromDatepicker"],sg=["toDate"];function lg(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function cg(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function dg(o,r){if(1&o&&(e.j41(0,"mat-option",21),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function pg(o,r){if(1&o&&(e.j41(0,"mat-option",21)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function mg(o,r){1&o&&e.nrm(0,"img",22)}let ug=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:"1",complaintid:"NMUM60161111111-6586-10000",adjDate:"( )",tallystatus:"YES/10000/03-11-2022/Failed-Host Timeout/SW-REV/GL-S/ONUS",status:"Settled",CHBmodulestatus:"Error Host Timeout-Txn hang in Part A-GL Excess Available",CHBmoduleReasontosettlereject:"Rupesh",username:"User1",proactivestatus:"#VALUE!",tatpenaltyAmount:"0",delayinSettlement:"within TAT",settledwithoutExcess:"-",excessutilizeddate:"11/3/2022",epsTxnSettled:"03-11-2022",ttumGeneratedateandtime:"03-11-2022 time-11:30:00",manualEJerror:"Host-Timeout",atmid:"NMUM60161111111",txnDate:"11/3/2022",txnNo:"6586",txnTime:"10:32",cardNo:"4511*******3333",accountno:"12334567",amount:"10000",txnType:"ONUS",consotium:"ONUS"},{srno:2,uniqueticketid:"NMUM60161111111-'Overage Shortage Portal'!A1-2383-10000",cycle:"No/-/-/E*3 M-14/SW-S/GL-S/OFFUS",tallystatus:"Rejected",status:"Suspected Txn",epsreasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",Attributor:"Rupesh",username:"Vendor",actiontat:"No Penalty",tatpenaltyAmount:"#VALUE!",delayinSettlement:"0",settledwithoutExcess:"within TAT",excessutilizeddate:"-",epsTxnSettled:"0",ttumGeneratedateandtime:"10/18/2022",manualEJerror:"-",atmid:"E*3 M-14",txnDate:"-",txnNo:"NMUM60161111111",txnTime:"'Overage Shortage Portal'!A1",cardNo:"2383",accountno:"11:35",amount:"4346585384015421",txnType:"12999456",consotium:"10000",cardNetworktype:"OFFUS",cRAName:"OFFUS",dateonwhichcasesharewithVendor:"NFS",CHBDay1Email:"CMS",CHBDay2Email:"10/11/2022",CHBDay3Email:"-",CHBDay4Email:"Please confirm Excess",CHBDay5Email:"-",CHBDay6andaboveEmail:"-",vendorOveragereportedamt:"-",vendoroverageReporteddate:"-",vendorJustifications:"Suspected Txn",vendorAcceptreject:"Rejected",vendorRevertdate:"'ATM Vendor Email Portal'!A1",disputeportalstatus:"Settled with excess-Penalty applicable",reasontosettlereject:"Overage Reported for Rs.50000/- dt 20-10-2022",recoverytoVendor:"Rupesh",EJDay1:"600",EJDay2:"Nov-22",EJDay3:"-",EJDay4:"-",EJDay5:"-",EJDay6andabove:"-",EJVendorJustifications:"-",EJAvailableNotAvailable:"EJ pulled-Txn EJ available",EJTeamrevertdate:"EJ Available",footageVendorJustifications:"'EJ Vendor- Email Portal'!A1",footagesAvailableNotAvailable:"-",footageTeamrevertdate:"-",footageDay1:"Footages required",footageDay2:"-",footageDay3:"-",footageDay4:"Camera Disconnected",footageDay5:"Footages Not Available",footageDay6andabove:"'Pro-active Txn Portal'!A1",calllodgeid:"-",mSCTeamJustifications:"-",calllodgeNo:"Frequent dispute call lodge done",mSCTeamrevertdate:"123456"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"sr",headerName:"SR",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{field:"complaintId",headerName:"Complaint ID",filter:"agMultiColumnFilter"},{field:"adjustmentType",headerName:"Adjustment Type",filter:"agMultiColumnFilter"},{field:"tallyStatus",headerName:"Tally Status"},{field:"gfModuleStatus",headerName:"GF Module Status"},{field:"gfModuleReason",headerName:"GF Module - Reason to Settle/Reject"},{field:"attributor1",headerName:"Attributor"},{field:"userName",headerName:"User Name"},{field:"proActiveStatus",headerName:"Pro-Active Status"},{field:"reasonToSettleReject1",headerName:"Reason to Settle/Reject"},{field:"attributor2",headerName:"Attributor"},{field:"userName2",headerName:"User Name"},{field:"actionTAT",headerName:"Action TAT"},{field:"tatPenaltyAmount",headerName:"TAT Penalty Amount"},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery"},{field:"recoveryToVendor",headerName:"Recovery to Vendor"},{field:"vendorRecoveryMonth",headerName:"Vendor Recovery Month"},{field:"excessUtilizedDate",headerName:"Excess Utilized Date"},{field:"ttumGenerateDateTime",headerName:"TTUM Generate Date and Time"},{field:"manualEJError",headerName:"Manual EJ Error"},{field:"atmId",headerName:"ATM ID"},{field:"txnDate",headerName:"Transaction Date"},{field:"txnNo",headerName:"Transaction No"},{field:"txnTime",headerName:"Transaction Time"},{field:"cardNo",headerName:"Card No"},{field:"accountNo",headerName:"Account No"},{field:"amount",headerName:"Amount"},{field:"receivedAmt",headerName:"Received Amount"},{field:"disputeAmt",headerName:"Dispute Amount"},{field:"txnType",headerName:"Transaction Type"},{field:"consortium",headerName:"Consortium"},{field:"cardNetworkType",headerName:"Card Network Type"},{field:"craName",headerName:"CRA Name"},{field:"caseShareDate",headerName:"Date on which case shared to Vendor"},{field:"day1Email",headerName:"Day 1 Email"},{field:"day2Email",headerName:"Day 2 Email"},{field:"day3Email",headerName:"Day 3 Email"},{field:"day4Email",headerName:"Day 4 Email"},{field:"day5Email",headerName:"Day 5 Email"},{field:"day6PlusEmail",headerName:"Day 6+ Email"},{field:"vendorOverageAmt",headerName:"Vendor Overage Reported Amount"},{field:"vendorOverageDate",headerName:"Vendor Overage Reported Date"},{field:"vendorJustifications",headerName:"Vendor Justifications"},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject"},{field:"ejDay1",headerName:"Day 1 EJ Email"},{field:"ejDay2",headerName:"Day 2 EJ Email"},{field:"ejDay3",headerName:"Day 3 EJ Email"},{field:"ejDay4",headerName:"Day 4 EJ Email"},{field:"ejDay5",headerName:"Day 5 EJ Email"},{field:"ejDay6Plus",headerName:"Day 6+ EJ Email"},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications"},{field:"ejAvailability",headerName:"EJ Available / Not Available"},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date"},{field:"footageDay1",headerName:"Day 1 Footage Email"},{field:"footageDay2",headerName:"Day 2 Footage Email"},{field:"footageDay3",headerName:"Day 3 Footage Email"},{field:"footageDay4",headerName:"Day 4 Footage Email"},{field:"footageDay5",headerName:"Day 5 Footage Email"},{field:"footageDay6Plus",headerName:"Day 6+ Footage Email"},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications"},{field:"footagesAvailability",headerName:"Footages Available / Not Available"},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-good-faith-chb"]],viewQuery:function(a,n){if(1&a&&(e.GBs(ig,5),e.GBs(rg,5),e.GBs(sg,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:53,vars:20,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Card Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Card Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.cardNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,lg,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,cg,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,dg,2,2,"mat-option",12),e.k0s()(),e.j41(37,"div",15)(38,"span",16),e.bIt("click",function(){return n.resetFields()}),e.EFF(39,"refresh"),e.k0s()(),e.j41(40,"button",17),e.bIt("click",function(){return n.fetchData()}),e.EFF(41,"Fetch"),e.k0s(),e.j41(42,"mat-form-field",2)(43,"mat-label"),e.EFF(44,"Export to excel"),e.k0s(),e.j41(45,"mat-select"),e.DNE(46,pg,4,2,"mat-option",12),e.k0s()(),e.j41(47,"button",17),e.bIt("click",function(){return n.upload()}),e.EFF(48," Upload "),e.k0s()(),e.j41(49,"div",18)(50,"ag-grid-angular",19),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(51,mg,1,0,"ng-template",null,20,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.cardNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.Duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const gg=["fromDate"],fg=["fromDatepicker"],hg=["toDate"];function _g(o,r){if(1&o&&(e.j41(0,"mat-option",19),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Cg(o,r){if(1&o&&(e.j41(0,"mat-option",19)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function bg(o,r){1&o&&e.nrm(0,"img",20)}let xg=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{sr:"1",ticketId:"NMUM60161111111-6586-10000",action:"( )",atmId:"NMUM60161111111",date:"11/3/2022",txnNo:"6586",time:"10:32",rrnNo:"N/A",cardNo:"4511*******3333",accountNo:"12334567",amount:"10000",consortium:"ONUS",ejStatus:"Host-Timeout",ejRespCode:"N/A",switchRespCode:"N/A",glStatus:"Settled",report:"EPS Txn Settled: 03-11-2022",ttumGivenToBank:"TTUM Generated date and time: 03-11-2022 time-11:30:00",recoveryDate:"11/3/2022",remarks:"Error Host Timeout-Txn hang in Part A-GL Excess Available",recoveryStatus:"Settled without Excess"}],this.rowHeight=55,this.headerHeight=50,this.action_data=["ALL","Pending","Recovery done","Recovery not done"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"sr",headerName:"Sr",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],checkboxSelection:!0,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0},{field:"ticketId",headerName:"Ticket ID",filter:"agMultiColumnFilter"},{field:"action",headerName:"Action",filter:"agMultiColumnFilter"},{field:"atmId",headerName:"ATM ID",filter:"agMultiColumnFilter"},{field:"date",headerName:"Date",filter:"agMultiColumnFilter"},{field:"txnNo",headerName:"Txn No",filter:"agMultiColumnFilter"},{field:"time",headerName:"Time",filter:"agMultiColumnFilter"},{field:"rrnNo",headerName:"RRN No",filter:"agMultiColumnFilter"},{field:"cardNo",headerName:"Card No",filter:"agMultiColumnFilter"},{field:"accountNo",headerName:"Account No",filter:"agMultiColumnFilter"},{field:"amount",headerName:"Amount",filter:"agMultiColumnFilter"},{field:"consortium",headerName:"Consortium",filter:"agMultiColumnFilter"},{field:"ejStatus",headerName:"EJ Status",filter:"agMultiColumnFilter"},{field:"ejRespCode",headerName:"EJ Resp Code",filter:"agMultiColumnFilter"},{field:"switchRespCode",headerName:"Switch Resp Code",filter:"agMultiColumnFilter"},{field:"glStatus",headerName:"GL Status",filter:"agMultiColumnFilter"},{field:"report",headerName:"Report",filter:"agMultiColumnFilter"},{field:"ttumGivenToBank",headerName:"TTUM Given to Bank",filter:"agMultiColumnFilter"},{field:"recoveryDate",headerName:"Recovery Date",filter:"agMultiColumnFilter"},{field:"remarks",headerName:"Remarks",filter:"agMultiColumnFilter"},{field:"recoveryStatus",headerName:"Recovery Status",filter:"agMultiColumnFilter"}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedAction(t){console.log("selectedConsortium event",t),this.action=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={action:this.action||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.vendorName||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.action=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.vendorName=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.vendorName)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-debit-adjustment"]],viewQuery:function(a,n){if(1&a&&(e.GBs(gg,5),e.GBs(fg,5),e.GBs(hg,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:43,vars:16,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Vendor Name",3,"ngModel","ngModelChange"],["placeholder","Select Action",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Vendor Name"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.vendorName=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Action"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,_g,2,2,"mat-option",12),e.k0s()(),e.j41(27,"div",13)(28,"span",14),e.bIt("click",function(){return n.resetFields()}),e.EFF(29,"refresh"),e.k0s()(),e.j41(30,"button",15),e.bIt("click",function(){return n.fetchData()}),e.EFF(31,"Fetch"),e.k0s(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Export to excel"),e.k0s(),e.j41(35,"mat-select"),e.DNE(36,Cg,4,2,"mat-option",12),e.k0s()(),e.j41(37,"button",15),e.bIt("click",function(){return n.upload()}),e.EFF(38," Upload "),e.k0s()(),e.j41(39,"div",16)(40,"ag-grid-angular",17),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(41,bg,1,0,"ng-template",null,18,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.vendorName),e.R7$(4),e.Y8G("value",n.action),e.R7$(1),e.Y8G("ngForOf",n.action_data),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const yg=["fromDate"],Dg=["fromDatepicker"],vg=["toDate"];function Fg(o,r){if(1&o&&(e.j41(0,"mat-option",18)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Mg(o,r){1&o&&e.nrm(0,"img",19)}let Sg=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:1,type:"Type A",date:"2023-11-01",total:100,settled:80,rejected:5,pending:15,tat:"2 Days",tatPendingCases:10,footageDay6andabove:3},{srno:2,type:"Type B",date:"2023-11-02",total:200,settled:160,rejected:10,pending:30,tat:"1 Day",tatPendingCases:20,footageDay6andabove:5},{srno:3,type:"Type C",date:"2023-11-03",total:150,settled:100,rejected:15,pending:35,tat:"3 Days",tatPendingCases:25,footageDay6andabove:7}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"type",headerName:"Type",filter:!0,sortable:!0},{field:"date",headerName:"Date",filter:"agDateColumnFilter",sortable:!0},{field:"total",headerName:"Total",filter:"agNumberColumnFilter",sortable:!0},{field:"settled",headerName:"Settled",filter:"agNumberColumnFilter",sortable:!0},{field:"rejected",headerName:"Rejected",filter:"agNumberColumnFilter",sortable:!0},{field:"pending",headerName:"Pending",filter:"agNumberColumnFilter",sortable:!0},{field:"tat",headerName:"TAT",filter:!0,sortable:!0},{field:"tatPendingCases",headerName:"TAT Pending Cases",filter:"agNumberColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",singleDate:this.singleDate||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-dispute-agewise-summary"]],viewQuery:function(a,n){if(1&a&&(e.GBs(yg,5),e.GBs(Dg,5),e.GBs(vg,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:38,vars:14,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Single Date",3,"ngModel","ngModelChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[3,"value",4,"ngFor","ngForOf"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Single Date"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.singleDate=s}),e.k0s()(),e.j41(22,"div",11)(23,"span",12),e.bIt("click",function(){return n.resetFields()}),e.EFF(24,"refresh"),e.k0s()(),e.j41(25,"button",13),e.bIt("click",function(){return n.fetchData()}),e.EFF(26,"Fetch"),e.k0s(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Export to excel"),e.k0s(),e.j41(30,"mat-select"),e.DNE(31,Fg,4,2,"mat-option",14),e.k0s()(),e.j41(32,"button",13),e.bIt("click",function(){return n.upload()}),e.EFF(33," Upload "),e.k0s()(),e.j41(34,"div",15)(35,"ag-grid-angular",16),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(36,Mg,1,0,"ng-template",null,17,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.singleDate),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Pg=["fromDate"],wg=["fromDatepicker"],Og=["toDate"];function Tg(o,r){1&o&&e.nrm(0,"img",14)}let kg=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:1,voucherName:"Voucher A",voucherDate:"2023-11-01",voucherStatus:"Processed",count:100,amount:1500,excelDownload:"excel_download_url_1",textDownload:"text_download_url_1",finalAction:"Approve",batchId:"BATCH001"},{srno:2,voucherName:"Voucher B",voucherDate:"2023-11-02",voucherStatus:"Pending",count:200,amount:3e3,excelDownload:"excel_download_url_2",textDownload:"text_download_url_2",finalAction:"Review",batchId:"BATCH002"},{srno:3,voucherName:"Voucher C",voucherDate:"2023-11-03",voucherStatus:"Rejected",count:150,amount:2250,excelDownload:"excel_download_url_3",textDownload:"text_download_url_3",finalAction:"Reject",batchId:"BATCH003"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"voucherName",headerName:"Voucher Name",filter:!0,sortable:!0},{field:"voucherDate",headerName:"Voucher Date",filter:"agDateColumnFilter",sortable:!0},{field:"voucherStatus",headerName:"Voucher Status",filter:!0,sortable:!0},{field:"count",headerName:"Count",filter:"agNumberColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"excelDownload",headerName:"Excel Download",filter:!1,sortable:!1,cellRenderer:"excelDownloadRenderer"},{field:"textDownload",headerName:"Text Download",filter:!1,sortable:!1,cellRenderer:"textDownloadRenderer"},{field:"finalAction",headerName:"Final Action",filter:!0,sortable:!0},{field:"batchId",headerName:"Batch ID",filter:!0,sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedTxntype event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",ttumtype:this.ttumtype||"",singleDate:this.singleDate||"",status:this.status||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",cardNumber:this.cardNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.ttumtype=null,this.status=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-ttum-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Pg,5),e.GBs(wg,5),e.GBs(Og,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:27,vars:11,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["matSuffix","",3,"for"],["toDatepicker",""],["matInput","","placeholder","Single Date",3,"ngModel","ngModelChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"TTUM type"),e.k0s(),e.j41(13,"input",7),e.bIt("ngModelChange",function(s){return n.ttumtype=s}),e.k0s()(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"Status"),e.k0s(),e.j41(17,"input",7),e.bIt("ngModelChange",function(s){return n.status=s}),e.k0s()(),e.j41(18,"div",8)(19,"span",9),e.bIt("click",function(){return n.resetFields()}),e.EFF(20,"refresh"),e.k0s()(),e.j41(21,"button",10),e.bIt("click",function(){return n.fetchData()}),e.EFF(22,"Fetch"),e.k0s()(),e.j41(23,"div",11)(24,"ag-grid-angular",12),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(25,Tg,1,0,"ng-template",null,13,e.C5r),e.k0s()),2&a){const i=e.sdS(9);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("ngModel",n.ttumtype),e.R7$(4),e.Y8G("ngModel",n.status),e.R7$(7),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Eg=["fromDate"],Ig=["fromDatepicker"],Rg=["toDate"];function Ag(o,r){if(1&o&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function jg(o,r){if(1&o&&(e.j41(0,"mat-option",15)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Ng(o,r){1&o&&e.nrm(0,"img",16)}let Bg=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Bankstatus=["ALL","Pending","Contested","not contested"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srNo",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"ticketId",headerName:"Ticket ID",filter:"agTextColumnFilter",sortable:!0},{field:"bankBillingMonth",headerName:"Bank Billing Month",filter:"agDateColumnFilter",sortable:!0},{field:"consolidateDeductionAmount",headerName:"Consolidate Deduction Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"bankStatus",headerName:"Bank Status",filter:"agTextColumnFilter",sortable:!0},{field:"epsRemarksOnBankDeduction",headerName:"EPS Remarks on Bank Deduction",filter:"agTextColumnFilter",sortable:!0},{field:"remarksUpdateDate",headerName:"Remarks Update Date",filter:"agDateColumnFilter",sortable:!0},{field:"atmId",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"txnDate",headerName:"Txn Date",filter:"agDateColumnFilter",sortable:!0},{field:"txnNo",headerName:"Txn No",filter:"agNumberColumnFilter",sortable:!0},{field:"rrnNo",headerName:"RRN No",filter:"agTextColumnFilter",sortable:!0},{field:"cardNo",headerName:"Card No",filter:"agTextColumnFilter",sortable:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"adjustmentTxnType",headerName:"Adjustment/Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"receivedAmount",headerName:"Received Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"disputeAmount",headerName:"Dispute Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"deductionAmount",headerName:"Deduction Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"type",headerName:"Type (Customer Disputes/ATM Shortages)",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRecoveryStatus",headerName:"Vendor Recovery Status",filter:"agTextColumnFilter",sortable:!0},{field:"epsRemarks",headerName:"EPS Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"vendorDisputeRecoveryAmount",headerName:"Vendor Dispute Recovery Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"noOfDaysDelay",headerName:"No of Days Delay in Dispute Resolution",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorPenaltyAmount",headerName:"Vendor Penalty Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorFinalRecovery",headerName:"Vendor Final Recovery",filter:"agNumberColumnFilter",sortable:!0},{field:"recoveryMonth",headerName:"Recovery Month",filter:"agTextColumnFilter",sortable:!0},{field:"ejVendorRecoveryAmount",headerName:"EJ Vendor Recovery Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"footageVendorRecoveryAmount",headerName:"Footage Vendor Recovery Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"caseShareDateToVendor",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateToVendor2",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount2",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate2",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications2",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject2",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate2",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks2",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks2",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateToVendor3",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount3",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate3",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications3",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject3",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate3",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks3",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks3",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateToVendor4",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount4",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate4",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications4",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject4",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate4",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks4",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks4",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateToVendor5",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount5",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate5",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications5",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject5",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate5",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks5",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks5",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateToVendor6",headerName:"Date on Which Case Shared to Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount6",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate6",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications6",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject6",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate6",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejVendorRemarks6",headerName:"EJ Vendor Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorRemarks6",headerName:"Footage Vendor Remarks",filter:"agTextColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedBankstatus(t){console.log("selectedbankstatus event",t),this.bankstatus=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",bankstatus:this.bankstatus||"",atmId:this.atmId||"",bankName:this.bankName||"",billingMonth:this.billingMonth||"",invoiceNo:this.invoiceNo||"",deductionAmt:this.deductionAmt||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.bankstatus=null,this.atmId=null,this.bankName=null,this.billingMonth=null,this.invoiceNo=null,this.deductionAmt=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}proActivePortal(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.bankName)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-bank-deductions"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Eg,5),e.GBs(Ig,5),e.GBs(Rg,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:39,vars:13,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Bank name",3,"ngModel","ngModelChange"],["matInput","","placeholder","Invoice No",3,"ngModel","ngModelChange"],["matInput","","placeholder","Billing Month",3,"ngModel","ngModelChange"],["matInput","","placeholder","Deduction Amt",3,"ngModel","ngModelChange"],["placeholder","Select bank status",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"Bank name"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.bankName=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"Invoice No"),e.k0s(),e.j41(9,"input",4),e.bIt("ngModelChange",function(s){return n.invoiceNo=s}),e.k0s()(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"Billing Month"),e.k0s(),e.j41(13,"input",5),e.bIt("ngModelChange",function(s){return n.billingMonth=s}),e.k0s()(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"Deduction Amt"),e.k0s(),e.j41(17,"input",6),e.bIt("ngModelChange",function(s){return n.deductionAmt=s}),e.k0s()(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Bank status"),e.k0s(),e.j41(21,"mat-select",7),e.bIt("selectionChange",function(s){return n.selectedBankstatus(s.value)}),e.DNE(22,Ag,2,2,"mat-option",8),e.k0s()(),e.j41(23,"div",9)(24,"span",10),e.bIt("click",function(){return n.resetFields()}),e.EFF(25,"refresh"),e.k0s()(),e.j41(26,"button",11),e.bIt("click",function(){return n.proActivePortal()}),e.EFF(27,"Fetch"),e.k0s(),e.j41(28,"mat-form-field",2)(29,"mat-label"),e.EFF(30,"Export to excel"),e.k0s(),e.j41(31,"mat-select"),e.DNE(32,jg,4,2,"mat-option",8),e.k0s()(),e.j41(33,"button",11),e.bIt("click",function(){return n.upload()}),e.EFF(34," Upload "),e.k0s()(),e.j41(35,"div",12)(36,"ag-grid-angular",13),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(37,Ng,1,0,"ng-template",null,14,e.C5r),e.k0s()),2&a&&(e.R7$(5),e.Y8G("ngModel",n.bankName),e.R7$(4),e.Y8G("ngModel",n.invoiceNo),e.R7$(4),e.Y8G("ngModel",n.billingMonth),e.R7$(4),e.Y8G("ngModel",n.deductionAmt),e.R7$(4),e.Y8G("value",n.bankstatus),e.R7$(1),e.Y8G("ngForOf",n.Bankstatus),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize))},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,ue.fg,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Gg=["fromDate"],Vg=["fromDatepicker"],$g=["toDate"];function Ug(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Yg(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function zg(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Xg(o,r){1&o&&e.nrm(0,"img",21)}let qg=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:1,selection:!0,module:"Module A",uniqueTicketId:"TICKET001",tallyStatus:"Matched",status:"Processed",epsRemarks:"Remarks for EPS",manualEjError:"No Error",atmId:"ATM001",txnDate:"2023-11-01",txnNo:"TXN001",txnTime:"10:00 AM",cardNo:"1234-XXXX-XXXX-5678",accountNo:"ACC001",amount:1500,txnType:"Withdrawal",consortium:"Consortium A",cardNetworkType:"VISA",craName:"CRA Name A",dateShareWithVendor:"2023-11-02",day1Email:"Sent",day2Email:"Not Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6AndAboveEmail:"Not Sent",vendorOverageReportedAmt:50,vendorOverageReportedDate:"2023-11-03",vendorJustifications:"Overage due to ATM error",vendorAcceptReject:"Accepted",vendorRevertDate:"2023-11-04"},{srno:2,selection:!1,module:"Module B",uniqueTicketId:"TICKET002",tallyStatus:"Unmatched",status:"Pending",epsRemarks:"Further review needed",manualEjError:"Yes",atmId:"ATM002",txnDate:"2023-11-02",txnNo:"TXN002",txnTime:"11:00 AM",cardNo:"5678-XXXX-XXXX-1234",accountNo:"ACC002",amount:3e3,txnType:"Deposit",consortium:"Consortium B",cardNetworkType:"MasterCard",craName:"CRA Name B",dateShareWithVendor:"2023-11-03",day1Email:"Sent",day2Email:"Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6AndAboveEmail:"Not Sent",vendorOverageReportedAmt:100,vendorOverageReportedDate:"2023-11-04",vendorJustifications:"Vendor system error",vendorAcceptReject:"Rejected",vendorRevertDate:"2023-11-05"},{srno:3,selection:!0,module:"Module C",uniqueTicketId:"TICKET003",tallyStatus:"Matched",status:"Rejected",epsRemarks:"Review completed",manualEjError:"No Error",atmId:"ATM003",txnDate:"2023-11-03",txnNo:"TXN003",txnTime:"12:00 PM",cardNo:"9101-XXXX-XXXX-3456",accountNo:"ACC003",amount:2250,txnType:"Transfer",consortium:"Consortium C",cardNetworkType:"Rupay",craName:"CRA Name C",dateShareWithVendor:"2023-11-04",day1Email:"Sent",day2Email:"Sent",day3Email:"Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6AndAboveEmail:"Not Sent",vendorOverageReportedAmt:150,vendorOverageReportedDate:"2023-11-05",vendorJustifications:"Reconciled discrepancy",vendorAcceptReject:"Accepted",vendorRevertDate:"2023-11-06"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.EmailStatus=["ALL","Pending ","Email -Done"],this.Module=["YES","Pro-active","dispute module","CHB Module","Pre-arb Module","Arbitration Module","Good faith module","BO-complaints"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"txnType",headerName:"Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"dateShareWithVendor",headerName:"Date on which Case Shared with Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"day1Email",headerName:"Day1-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day2Email",headerName:"Day2-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day3Email",headerName:"Day3-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day4Email",headerName:"Day4-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day5Email",headerName:"Day5-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day6AndAboveEmail",headerName:"Day 6 and Above Email",filter:"agTextColumnFilter",sortable:!0},{field:"vendorOverageReportedAmt",headerName:"Vendor Overage Reported Amt",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject",headerName:"Vendor Accept-Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedModule(t){console.log("selectedTxntype event",t),this.module=t,this.updateRequestBody()}selectedEmailStatus(t){console.log("selectedTxntype event",t),this.emailStatus=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",ttumtype:this.ttumtype||"",singleDate:this.singleDate||"",status:this.status||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",module:this.module||"",emailStatus:this.module||"",atmId:this.atmId||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.ttumtype=null,this.status=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.module=null,this.emailStatus=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-vendor-email-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Gg,5),e.GBs(Vg,5),e.GBs($g,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:46,vars:18,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["placeholder","Select module",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select email status",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Module"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedModule(s.value)}),e.DNE(26,Ug,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Email Status"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedEmailStatus(s.value)}),e.DNE(31,Yg,2,2,"mat-option",12),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.bIt("click",function(){return n.resetFields()}),e.EFF(34,"refresh"),e.k0s()(),e.j41(35,"button",16),e.bIt("click",function(){return n.fetchData()}),e.EFF(36,"Fetch"),e.k0s(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"Export to excel"),e.k0s(),e.j41(40,"mat-select"),e.DNE(41,zg,4,2,"mat-option",12),e.k0s()()(),e.j41(42,"div",17)(43,"ag-grid-angular",18),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(44,Xg,1,0,"ng-template",null,19,e.C5r),e.k0s()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("value",n.Module),e.R7$(1),e.Y8G("ngForOf",n.Module),e.R7$(4),e.Y8G("value",n.EmailStatus),e.R7$(1),e.Y8G("ngForOf",n.EmailStatus),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const Lg=["fromDate"],Hg=["fromDatepicker"],Jg=["toDate"];function Wg(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Zg(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Qg(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Kg(o,r){1&o&&e.nrm(0,"img",21)}let ef=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:1,selection:!0,module:"Module A",uniqueTicketId:"TICKET001",tallyStatus:"Matched",status:"Processed",epsRemarks:"Remarks for EPS",manualEjError:"No Error",atmId:"ATM001",txnDate:"2023-11-01",txnNo:"TXN001",txnTime:"10:00 AM",cardNo:"1234-XXXX-XXXX-5678",accountNo:"ACC001",amount:1500,txnType:"Withdrawal",consortium:"Consortium A",cardNetworkType:"VISA",craName:"CRA Name A",dateShareWithVendor:"2023-11-02",day1Email:"Sent",day2Email:"Not Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",footageVendorJustifications:50,footageAvailability:"2023-11-03",footageTeamRevertDate:"Overage due to ATM error"},{srno:2,selection:!1,module:"Module B",uniqueTicketId:"TICKET002",tallyStatus:"Unmatched",status:"Pending",epsRemarks:"Further review needed",manualEjError:"Yes",atmId:"ATM002",txnDate:"2023-11-02",txnNo:"TXN002",txnTime:"11:00 AM",cardNo:"5678-XXXX-XXXX-1234",accountNo:"ACC002",amount:3e3,txnType:"Deposit",consortium:"Consortium B",cardNetworkType:"MasterCard",craName:"CRA Name B",dateShareWithVendor:"2023-11-03",day1Email:"Sent",day2Email:"Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",footageVendorJustifications:100,footageAvailability:"2023-11-04",footageTeamRevertDate:"Vendor system error"},{srno:3,selection:!0,module:"Module C",uniqueTicketId:"TICKET003",tallyStatus:"Matched",status:"Rejected",epsRemarks:"Review completed",manualEjError:"No Error",atmId:"ATM003",txnDate:"2023-11-03",txnNo:"TXN003",txnTime:"12:00 PM",cardNo:"9101-XXXX-XXXX-3456",accountNo:"ACC003",amount:2250,txnType:"Transfer",consortium:"Consortium C",cardNetworkType:"Rupay",craName:"CRA Name C",dateShareWithVendor:"2023-11-04",day1Email:"Sent",day2Email:"Sent",day3Email:"Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",footageVendorJustifications:150,footageAvailability:"2023-11-05",footageTeamRevertDate:"Reconciled discrepancy"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.EmailStatus=["ALL","Pending ","Email -Done"],this.Module=["YES","Pro-active","dispute module","CHB Module","Pre-arb Module","Arbitration Module","Good faith module","BO-complaints"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"module",headerName:"Module",filter:"agTextColumnFilter",sortable:!0},{field:"uniqueTicketId",headerName:"Unique Ticket ID",filter:"agTextColumnFilter",sortable:!0},{field:"tallyStatus",headerName:"Tally Status",filter:"agTextColumnFilter",sortable:!0},{field:"status",headerName:"Status",filter:"agTextColumnFilter",sortable:!0},{field:"epsRemarks",headerName:"EPS Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"manualEJError",headerName:"Manual EJ Error",filter:"agTextColumnFilter",sortable:!0},{field:"atmId",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"txnDate",headerName:"Txn Date",filter:"agDateColumnFilter",sortable:!0},{field:"txnNo",headerName:"Txn No",filter:"agTextColumnFilter",sortable:!0},{field:"txnTime",headerName:"Txn Time",filter:"agTextColumnFilter",sortable:!0},{field:"cardNo",headerName:"Card No",filter:"agTextColumnFilter",sortable:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"txnType",headerName:"Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"dateShareWithVendor",headerName:"Date on which Case Shared with Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"day1Email",headerName:"Day1-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day2Email",headerName:"Day2-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day3Email",headerName:"Day3-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day4Email",headerName:"Day4-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day5Email",headerName:"Day5-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day6PlusEmail",headerName:"Day 6 and above Email",filter:"agTextColumnFilter",sortable:!0},{field:"footageVendorJustifications",headerName:"Footages Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"footageAvailability",headerName:"Footages Available/Not Available",filter:"agTextColumnFilter",sortable:!0},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date",filter:"agDateColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedModule(t){console.log("selectedTxntype event",t),this.module=t,this.updateRequestBody()}selectedEmailStatus(t){console.log("selectedTxntype event",t),this.emailStatus=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",ttumtype:this.ttumtype||"",singleDate:this.singleDate||"",status:this.status||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",module:this.module||"",emailStatus:this.module||"",atmId:this.atmId||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.ttumtype=null,this.status=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.module=null,this.emailStatus=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-footage-vendor-email-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Lg,5),e.GBs(Hg,5),e.GBs(Jg,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:46,vars:18,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["placeholder","Select module",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select email status",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Module"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedModule(s.value)}),e.DNE(26,Wg,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Email Status"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedEmailStatus(s.value)}),e.DNE(31,Zg,2,2,"mat-option",12),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.bIt("click",function(){return n.resetFields()}),e.EFF(34,"refresh"),e.k0s()(),e.j41(35,"button",16),e.bIt("click",function(){return n.fetchData()}),e.EFF(36,"Fetch"),e.k0s(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"Export to excel"),e.k0s(),e.j41(40,"mat-select"),e.DNE(41,Qg,4,2,"mat-option",12),e.k0s()()(),e.j41(42,"div",17)(43,"ag-grid-angular",18),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(44,Kg,1,0,"ng-template",null,19,e.C5r),e.k0s()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("value",n.Module),e.R7$(1),e.Y8G("ngForOf",n.Module),e.R7$(4),e.Y8G("value",n.EmailStatus),e.R7$(1),e.Y8G("ngForOf",n.EmailStatus),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const tf=["fromDate"],nf=["fromDatepicker"],of=["toDate"];function af(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function rf(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function sf(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function lf(o,r){1&o&&e.nrm(0,"img",21)}let cf=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srno:1,selection:!0,module:"Module A",uniqueTicketId:"TICKET001",tallyStatus:"Matched",status:"Processed",epsRemarks:"Remarks for EPS",manualEjError:"No Error",atmId:"ATM001",txnDate:"2023-11-01",txnNo:"TXN001",txnTime:"10:00 AM",cardNo:"1234-XXXX-XXXX-5678",accountNo:"ACC001",amount:1500,txnType:"Withdrawal",consortium:"Consortium A",cardNetworkType:"VISA",craName:"CRA Name A",dateShareWithVendor:"2023-11-02",day1Email:"Sent",day2Email:"Not Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",ejVendorJustifications:50,ejAvailability:"2023-11-03",ejTeamRevertDate:"Overage due to ATM error"},{srno:2,selection:!1,module:"Module B",uniqueTicketId:"TICKET002",tallyStatus:"Unmatched",status:"Pending",epsRemarks:"Further review needed",manualEjError:"Yes",atmId:"ATM002",txnDate:"2023-11-02",txnNo:"TXN002",txnTime:"11:00 AM",cardNo:"5678-XXXX-XXXX-1234",accountNo:"ACC002",amount:3e3,txnType:"Deposit",consortium:"Consortium B",cardNetworkType:"MasterCard",craName:"CRA Name B",dateShareWithVendor:"2023-11-03",day1Email:"Sent",day2Email:"Sent",day3Email:"Not Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",ejVendorJustifications:100,ejAvailability:"2023-11-04",ejTeamRevertDate:"Vendor system error"},{srno:3,selection:!0,module:"Module C",uniqueTicketId:"TICKET003",tallyStatus:"Matched",status:"Rejected",epsRemarks:"Review completed",manualEjError:"No Error",atmId:"ATM003",txnDate:"2023-11-03",txnNo:"TXN003",txnTime:"12:00 PM",cardNo:"9101-XXXX-XXXX-3456",accountNo:"ACC003",amount:2250,txnType:"Transfer",consortium:"Consortium C",cardNetworkType:"Rupay",craName:"CRA Name C",dateShareWithVendor:"2023-11-04",day1Email:"Sent",day2Email:"Sent",day3Email:"Sent",day4Email:"Not Sent",day5Email:"Not Sent",day6PlusEmail:"Not Sent",ejVendorJustifications:150,ejAvailability:"2023-11-05",ejTeamRevertDate:"Reconciled discrepancy"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.EmailStatus=["ALL","Pending ","Email -Done"],this.Module=["YES","Pro-active","dispute module","CHB Module","Pre-arb Module","Arbitration Module","Good faith module","BO-complaints"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srno",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"module",headerName:"Module",filter:"agTextColumnFilter",sortable:!0},{field:"uniqueTicketId",headerName:"Unique Ticket ID",filter:"agTextColumnFilter",sortable:!0},{field:"tallyStatus",headerName:"Tally Status",filter:"agTextColumnFilter",sortable:!0},{field:"status",headerName:"Status",filter:"agTextColumnFilter",sortable:!0},{field:"epsRemarks",headerName:"EPS Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"manualEJError",headerName:"Manual EJ Error",filter:"agTextColumnFilter",sortable:!0},{field:"atmId",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"txnDate",headerName:"Txn Date",filter:"agDateColumnFilter",sortable:!0},{field:"txnNo",headerName:"Txn No",filter:"agTextColumnFilter",sortable:!0},{field:"txnTime",headerName:"Txn Time",filter:"agTextColumnFilter",sortable:!0},{field:"cardNo",headerName:"Card No",filter:"agTextColumnFilter",sortable:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"txnType",headerName:"Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"dateShareWithVendor",headerName:"Date on which Case Shared with Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"day1Email",headerName:"Day1-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day2Email",headerName:"Day2-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day3Email",headerName:"Day3-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day4Email",headerName:"Day4-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day5Email",headerName:"Day5-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day6PlusEmail",headerName:"Day 6 and above Email",filter:"agTextColumnFilter",sortable:!0},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"ejAvailability",headerName:"EJ Available /Not Available",filter:"agTextColumnFilter",sortable:!0},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date",filter:"agDateColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedModule(t){console.log("selectedTxntype event",t),this.module=t,this.updateRequestBody()}selectedEmailStatus(t){console.log("selectedTxntype event",t),this.emailStatus=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",ttumtype:this.ttumtype||"",singleDate:this.singleDate||"",status:this.status||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",module:this.module||"",emailStatus:this.module||"",atmId:this.atmId||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.ttumtype=null,this.status=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.module=null,this.emailStatus=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-ej-vendor-email-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(tf,5),e.GBs(nf,5),e.GBs(of,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:46,vars:18,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["placeholder","Select module",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select email status",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Module"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedModule(s.value)}),e.DNE(26,af,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Email Status"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedEmailStatus(s.value)}),e.DNE(31,rf,2,2,"mat-option",12),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.bIt("click",function(){return n.resetFields()}),e.EFF(34,"refresh"),e.k0s()(),e.j41(35,"button",16),e.bIt("click",function(){return n.fetchData()}),e.EFF(36,"Fetch"),e.k0s(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"Export to excel"),e.k0s(),e.j41(40,"mat-select"),e.DNE(41,sf,4,2,"mat-option",12),e.k0s()()(),e.j41(42,"div",17)(43,"ag-grid-angular",18),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(44,lf,1,0,"ng-template",null,19,e.C5r),e.k0s()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("value",n.Module),e.R7$(1),e.Y8G("ngForOf",n.Module),e.R7$(4),e.Y8G("value",n.EmailStatus),e.R7$(1),e.Y8G("ngForOf",n.EmailStatus),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const df=["fromDate"],pf=["fromDatepicker"],mf=["toDate"];function uf(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function gf(o,r){if(1&o&&(e.j41(0,"mat-option",20),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function ff(o,r){if(1&o&&(e.j41(0,"mat-option",20)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function hf(o,r){1&o&&e.nrm(0,"img",21)}let _f=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[{srNo:1,selection:!0,module:"Module A",uniqueTicketId:"TICKET001",tallyStatus:"Matched",status:"Processed",epsRemarks:"Remarks for EPS",manualEjError:"No Error",atmId:"ATM001",txnDate:"2023-11-01",txnNo:"TXN001",txnTime:"10:00 AM",cardNo:"1234-XXXX-XXXX-5678",accountNo:"ACC12345",amount:1e3,txnType:"Withdrawal",consortium:"Consortium A",cardNetworkType:"VISA",craName:"CRA Service",vendorShareDate:"2023-11-02",day1Email:"2023-11-03",day2Email:"2023-11-04",day3Email:"2023-11-05",day4Email:"2023-11-06",day5Email:"2023-11-07",day6AndAboveEmail:"2023-11-08",mscTeamJustifications:"No issues reported",callLodgeNo:"CALL001",mscTeamRevertDate:"2023-11-09"},{srNo:2,selection:!1,module:"Module B",uniqueTicketId:"TICKET002",tallyStatus:"Pending",status:"Pending Review",epsRemarks:"Follow-up needed",manualEjError:"Timeout Error",atmId:"ATM002",txnDate:"2023-11-02",txnNo:"TXN002",txnTime:"11:30 AM",cardNo:"5678-XXXX-XXXX-1234",accountNo:"ACC67890",amount:500,txnType:"Deposit",consortium:"Consortium B",cardNetworkType:"MasterCard",craName:"CRA Solutions",vendorShareDate:"2023-11-03",day1Email:"2023-11-04",day2Email:"2023-11-05",day3Email:"2023-11-06",day4Email:"2023-11-07",day5Email:"2023-11-08",day6AndAboveEmail:"2023-11-09",mscTeamJustifications:"Investigating further",callLodgeNo:"CALL002",mscTeamRevertDate:"2023-11-10"}],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.EmailStatus=["ALL","Pending ","Email -Done"],this.Module=["YES","Pro-active","dispute module","CHB Module","Pre-arb Module","Arbitration Module","Good faith module","BO-complaints"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srNo",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"module",headerName:"Module",filter:"agTextColumnFilter",sortable:!0},{field:"uniqueTicketId",headerName:"Unique Ticket ID",filter:"agTextColumnFilter",sortable:!0},{field:"tallyStatus",headerName:"Tally Status",filter:"agTextColumnFilter",sortable:!0},{field:"status",headerName:"Status",filter:"agTextColumnFilter",sortable:!0},{field:"epsRemarks",headerName:"EPS Remarks",filter:"agTextColumnFilter",sortable:!0},{field:"manualEjError",headerName:"Manual EJ Error",filter:"agTextColumnFilter",sortable:!0},{field:"atmId",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"txnDate",headerName:"Txn Date",filter:"agDateColumnFilter",sortable:!0},{field:"txnNo",headerName:"Txn No",filter:"agNumberColumnFilter",sortable:!0},{field:"txnTime",headerName:"Txn Time",filter:"agTextColumnFilter",sortable:!0},{field:"cardNo",headerName:"Card No",filter:"agTextColumnFilter",sortable:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"txnType",headerName:"Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"vendorShareDate",headerName:"Date on which Case Shared with Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"day1Email",headerName:"Day1-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day2Email",headerName:"Day2-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day3Email",headerName:"Day3-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day4Email",headerName:"Day4-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day5Email",headerName:"Day5-Email",filter:"agTextColumnFilter",sortable:!0},{field:"day6AndAboveEmail",headerName:"Day 6 and Above Email",filter:"agTextColumnFilter",sortable:!0},{field:"mscTeamJustifications",headerName:"MSC Team Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"callLodgeNo",headerName:"Call Lodge No",filter:"agTextColumnFilter",sortable:!0},{field:"mscTeamRevertDate",headerName:"MSC Team Revert Date",filter:"agDateColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedModule(t){console.log("selectedTxntype event",t),this.module=t,this.updateRequestBody()}selectedEmailStatus(t){console.log("selectedTxntype event",t),this.emailStatus=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={fromDateFormatted:this.fromDateFormatted||"",toDateFormatted:this.toDateFormatted||"",ttumtype:this.ttumtype||"",singleDate:this.singleDate||"",status:this.status||"",consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",module:this.module||"",emailStatus:this.module||"",atmId:this.atmId||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.singleDate=null,this.ttumtype=null,this.status=null,this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.module=null,this.emailStatus=null,this.atmId=null,this.cardNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}fetchData(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.cardNumber)}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-call-lodge-email-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(df,5),e.GBs(pf,5),e.GBs(mf,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:46,vars:18,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["placeholder","Select module",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select call lodge status",3,"value","selectionChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"ATM Id"),e.k0s(),e.j41(5,"input",3),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(6,"mat-form-field",2)(7,"mat-label"),e.EFF(8,"From Date"),e.k0s(),e.j41(9,"input",4,5),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(11,"mat-datepicker-toggle",6)(12,"mat-datepicker",null,7),e.k0s(),e.j41(14,"mat-form-field",2)(15,"mat-label"),e.EFF(16,"To Date"),e.k0s(),e.j41(17,"input",8,9),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(19,"mat-datepicker-toggle",6)(20,"mat-datepicker",null,10),e.k0s(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Module"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedModule(s.value)}),e.DNE(26,uf,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Call lodge status"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedEmailStatus(s.value)}),e.DNE(31,gf,2,2,"mat-option",12),e.k0s()(),e.j41(32,"div",14)(33,"span",15),e.bIt("click",function(){return n.resetFields()}),e.EFF(34,"refresh"),e.k0s()(),e.j41(35,"button",16),e.bIt("click",function(){return n.fetchData()}),e.EFF(36,"Fetch"),e.k0s(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"Export to excel"),e.k0s(),e.j41(40,"mat-select"),e.DNE(41,ff,4,2,"mat-option",12),e.k0s()()(),e.j41(42,"div",17)(43,"ag-grid-angular",18),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(44,hf,1,0,"ng-template",null,19,e.C5r),e.k0s()),2&a){const i=e.sdS(13),s=e.sdS(21);e.R7$(5),e.Y8G("ngModel",n.atmId),e.R7$(4),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("value",n.Module),e.R7$(1),e.Y8G("ngForOf",n.Module),e.R7$(4),e.Y8G("value",n.EmailStatus),e.R7$(1),e.Y8G("ngForOf",n.EmailStatus),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(2),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})(),Cf=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-roll-back-portal"]],decls:2,vars:0,template:function(a,n){1&a&&(e.j41(0,"p"),e.EFF(1,"atm-roll-back-portal works!"),e.k0s())}})}}return o})();const bf=["fromDate"],xf=["fromDatepicker"],yf=["toDate"];function Df(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function vf(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Ff(o,r){if(1&o&&(e.j41(0,"mat-option",22),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t," ")}}function Mf(o,r){if(1&o&&(e.j41(0,"mat-option",22)(1,"mat-icon"),e.EFF(2,"cloud_download"),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(3),e.SpI("",t.downloadtype," ")}}function Sf(o,r){1&o&&e.nrm(0,"img",23)}let Pf=(()=>{class o{constructor(t,a){this.dialog=t,this.renderer=a,this.datePipe=new g.vh("en-US"),this.fromDateFormatted="",this.toDateFormatted="",this.paginationPageSize=20,this.today=new Date,this.showTextIfFailed=!1,this.chipColor="black",this.selectedRows=[],this.rowData=[],this.rowHeight=55,this.headerHeight=50,this.consortium=["ALL","ONUS","OFFUS"],this.Opt=["ALL","Settled","Rejected","Pending"],this.Duplicate=["YES","NO"],this.downloads=[{icon:"download",value:"xlsv",downloadtype:"EXCEL"}],this.columnDefs=[{field:"srNo",headerName:"Sr No",filter:"agMultiColumnFilter",sortingOrder:["asc","desc"],headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{field:"complaintId",headerName:"Complaint ID",filter:"agTextColumnFilter",sortable:!0},{field:"queryReceivedDate",headerName:"Query Received Date",filter:"agDateColumnFilter",sortable:!0},{field:"tallyStatus",headerName:"Tally Status",filter:"agTextColumnFilter",sortable:!0},{field:"disputeModuleStatus",headerName:"Dispute Module Status",filter:"agTextColumnFilter",sortable:!0},{field:"disputeModuleReasonToSettleOrReject",headerName:"Dispute Module - Reason to Settle/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"disputeAttributor",headerName:"Attributor",filter:"agTextColumnFilter",sortable:!0},{field:"disputeUserName",headerName:"User Name",filter:"agTextColumnFilter",sortable:!0},{field:"proactiveStatus",headerName:"Pro-active Status",filter:"agTextColumnFilter",sortable:!0},{field:"reasonToSettleOrReject",headerName:"Reason to Settle/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"reasonAttributor",headerName:"Attributor",filter:"agTextColumnFilter",sortable:!0},{field:"reasonUserName",headerName:"User Name",filter:"agTextColumnFilter",sortable:!0},{field:"actionTAT",headerName:"Action TAT",filter:"agTextColumnFilter",sortable:!0},{field:"tatPenaltyAmount",headerName:"TAT - Penalty Amount",filter:"agTextColumnFilter",sortable:!0},{field:"vendorDisputeRecovery",headerName:"Vendor Dispute Recovery",filter:"agTextColumnFilter",sortable:!0},{field:"recoveryToVendor",headerName:"Recovery to Vendor",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRecoveryMonth",headerName:"Vendor Recovery Month",filter:"agTextColumnFilter",sortable:!0},{field:"excessUtilizedDate",headerName:"Excess Utilized Date",filter:"agTextColumnFilter",sortable:!0},{field:"ttumGenerateDate",headerName:"TTUM Generate Date",filter:"agTextColumnFilter",sortable:!0},{field:"manualEjError",headerName:"Manual EJ Error",filter:"agTextColumnFilter",sortable:!0},{field:"atmId",headerName:"ATM ID",filter:"agTextColumnFilter",sortable:!0},{field:"txnDate",headerName:"Txn Date",filter:"agDateColumnFilter",sortable:!0},{field:"txnNo",headerName:"Txn No",filter:"agNumberColumnFilter",sortable:!0},{field:"txnTime",headerName:"Txn Time",filter:"agTextColumnFilter",sortable:!0},{field:"cardNo",headerName:"Card No",filter:"agTextColumnFilter",sortable:!0},{field:"accountNo",headerName:"Account No",filter:"agTextColumnFilter",sortable:!0},{field:"amount",headerName:"Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"receivedAmount",headerName:"Received Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"disputeAmount",headerName:"Dispute Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"txnType",headerName:"Txn Type",filter:"agTextColumnFilter",sortable:!0},{field:"consortium",headerName:"Consortium",filter:"agTextColumnFilter",sortable:!0},{field:"cardNetworkType",headerName:"Card Network Type",filter:"agTextColumnFilter",sortable:!0},{field:"craName",headerName:"CRA Name",filter:"agTextColumnFilter",sortable:!0},{field:"caseShareDateWithVendor",headerName:"Date on Which Case Shared with Vendor",filter:"agDateColumnFilter",sortable:!0},{field:"day1Email",headerName:"Day 1 - Email",filter:"agTextColumnFilter",sortable:!0},{field:"day2Email",headerName:"Day 2 - Email",filter:"agTextColumnFilter",sortable:!0},{field:"day3Email",headerName:"Day 3 - Email",filter:"agTextColumnFilter",sortable:!0},{field:"day4Email",headerName:"Day 4 - Email",filter:"agTextColumnFilter",sortable:!0},{field:"day5Email",headerName:"Day 5 - Email",filter:"agTextColumnFilter",sortable:!0},{field:"day6AndAboveEmail",headerName:"Day 6 and Above - Email",filter:"agTextColumnFilter",sortable:!0},{field:"vendorOverageReportedAmount",headerName:"Vendor Overage Reported Amount",filter:"agNumberColumnFilter",sortable:!0},{field:"vendorOverageReportedDate",headerName:"Vendor Overage Reported Date",filter:"agDateColumnFilter",sortable:!0},{field:"vendorJustifications",headerName:"Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"vendorAcceptReject",headerName:"Vendor Accept/Reject",filter:"agTextColumnFilter",sortable:!0},{field:"vendorRevertDate",headerName:"Vendor Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"ejDay1",headerName:"EJ Day1",filter:"agTextColumnFilter",sortable:!0},{field:"ejDay2",headerName:"EJ Day2",filter:"agTextColumnFilter",sortable:!0},{field:"ejDay3",headerName:"EJ Day3",filter:"agTextColumnFilter",sortable:!0},{field:"ejDay4",headerName:"EJ Day4",filter:"agTextColumnFilter",sortable:!0},{field:"ejDay5",headerName:"EJ Day5",filter:"agTextColumnFilter",sortable:!0},{field:"ejDay6AndAbove",headerName:"EJ Day 6 and Above",filter:"agTextColumnFilter",sortable:!0},{field:"ejVendorJustifications",headerName:"EJ Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"ejAvailableNotAvailable",headerName:"EJ Available/Not Available",filter:"agTextColumnFilter",sortable:!0},{field:"ejTeamRevertDate",headerName:"EJ Team Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"footageDay1",headerName:"Footage Day1",filter:"agTextColumnFilter",sortable:!0},{field:"footageDay2",headerName:"Footage Day2",filter:"agTextColumnFilter",sortable:!0},{field:"footageDay3",headerName:"Footage Day3",filter:"agTextColumnFilter",sortable:!0},{field:"footageDay4",headerName:"Footage Day4",filter:"agTextColumnFilter",sortable:!0},{field:"footageDay5",headerName:"Footage Day5",filter:"agTextColumnFilter",sortable:!0},{field:"footageDay6AndAbove",headerName:"Footage Day 6 and Above",filter:"agTextColumnFilter",sortable:!0},{field:"footagesVendorJustifications",headerName:"Footages Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"footagesAvailableNotAvailable",headerName:"Footages Available/Not Available",filter:"agTextColumnFilter",sortable:!0},{field:"footageTeamRevertDate",headerName:"Footage Team Revert Date",filter:"agDateColumnFilter",sortable:!0},{field:"mscDay1",headerName:"MSC Day1",filter:"agTextColumnFilter",sortable:!0},{field:"mscDay2",headerName:"MSC Day2",filter:"agTextColumnFilter",sortable:!0},{field:"mscDay3",headerName:"MSC Day3",filter:"agTextColumnFilter",sortable:!0},{field:"mscDay4",headerName:"MSC Day4",filter:"agTextColumnFilter",sortable:!0},{field:"mscDay5",headerName:"MSC Day5",filter:"agTextColumnFilter",sortable:!0},{field:"mscDay6AndAbove",headerName:"MSC Day 6 and Above",filter:"agTextColumnFilter",sortable:!0},{field:"mscVendorJustifications",headerName:"MSC Vendor Justifications",filter:"agTextColumnFilter",sortable:!0},{field:"mscAvailableNotAvailable",headerName:"MSC Available/Not Available",filter:"agTextColumnFilter",sortable:!0},{field:"mscTeamRevertDate",headerName:"MSC Team Revert Date",filter:"agDateColumnFilter",sortable:!0}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60}}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){t.activeTabId&&t.activeTabId.currentValue===this.tabId&&(console.log("Data collection status APIs called"),this.updateRequestBody())}ngAfterViewInit(){const t=new Date,a=new Date(t);a.setDate(t.getDate()-14),this.setElementValue(this.fromDateInput.nativeElement,a),this.setElementValue(this.toDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(a,"dd-MM-yyyy"),this.toDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy")}setElementValue(t,a){const n=this.datePipe.transform(a,"dd-MM-yyyy");this.renderer.setProperty(t,"value",n)}onFromDateChange(t){this.fromDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("From Date:",this.fromDateFormatted)}onToDateChange(t){this.toDateFormatted=this.datePipe.transform(t.value,"MM-dd-yyyy"),console.log("To Date:",this.toDateFormatted)}selectedConsortium(t){console.log("selectedConsortium event",t),this.consortium_no=t,this.updateRequestBody()}selectedOpt(t){console.log("selectedOpt event",t),this.opt_no=t,this.updateRequestBody()}selectedDuplicate(t){console.log("selectedduplicate event",t),this.duplicate=t,this.updateRequestBody()}onSelectionChanged(t){const a=t.api.getSelectedRows();this.selectedRows=[...a],console.log("Selected Rows:",this.selectedRows)}rowView(t){console.log("EVENT:",t),this.datainfo=t.data,"Successful"==this.datainfo.status?this.chipColor="#17B01D":"In progress"==this.datainfo.status?(this.chipColor="#FDB13F",this.showTextIfFailed=!0):"Pending"==this.datainfo.status?this.chipColor="#747474":"failed"==this.datainfo.status&&(this.chipColor="#DE1306",this.showTextIfFailed=!0),console.log("this.chipColor",this.chipColor)}updateRequestBody(){this.requestBody={consortium_no:this.consortium_no||"",opt_no:this.opt_no||"",duplicate:this.duplicate||"",atmId:this.atmId||"",accountNumber:this.accountNumber||""},console.log("Updated requestBody",this.requestBody)}resetFields(){this.consortium_no=null,this.opt_no=null,this.duplicate=null,this.atmId=null,this.accountNumber=null;const t=new Date;this.setElementValue(this.fromDateInput.nativeElement,t),this.fromDateFormatted=this.datePipe.transform(t,"dd-MM-yyyy"),this.fromDatepicker.select(t),this.updateRequestBody()}onGridReady(t){this.gridApi=t.api,this.params=t}proActivePortal(){this.updateRequestBody(),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:>>>>>>>>>>>>",this.requestBody),console.log("\u{1f680} ~ AtmProActivePortalScreenComponent ~ this.atmId:",this.accountNumber)}upload(){this.dialog.open(Se.r,{height:"40vh",width:"35%",data:{action:"upload-record",content:""}}).componentInstance.onClickButton.subscribe(a=>{console.log("upload date =>",a),a&&(console.log("Call upload API."),this.dialog.open(y.T,{height:"55vh",width:"35%"}))})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(F.bZ),e.rXU(e.sFG))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-atm-onus-dispute-portal"]],viewQuery:function(a,n){if(1&a&&(e.GBs(bf,5),e.GBs(xf,5),e.GBs(yf,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.fromDateInput=i.first),e.mGM(i=e.lsd())&&(n.fromDatepicker=i.first),e.mGM(i=e.lsd())&&(n.toDateInput=i.first)}},inputs:{activeTabId:"activeTabId",tabId:"tabId"},features:[e.OA$],decls:57,vars:21,consts:[[1,"DS-container"],[1,"inputs-buttons"],["appearance","outline"],["matInput","","placeholder","Select from date",3,"matDatepicker","max","dateChange"],["fromDate",""],["matSuffix","",3,"for"],["fromDatepicker",""],["matInput","","placeholder","Select to date",3,"matDatepicker","max","dateChange"],["toDate",""],["toDatepicker",""],["matInput","","placeholder","Account Number",3,"ngModel","ngModelChange"],["placeholder","Select consortium_no",3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select opt_no",3,"value","selectionChange"],["placeholder","Select duplicate",3,"value","selectionChange"],["matInput","","placeholder","ATM ID",3,"ngModel","ngModelChange"],[1,"refresh"],["matTooltip","Reset all filters","matTooltipPosition","above",1,"material-symbols-outlined",3,"click"],[1,"apply-btn",3,"click"],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","rowClicked","gridReady","selectionChanged"],["noDataTemplate",""],[3,"value"],["src","../../../assets/dataCollection.png","alt","No Data Image",1,"no-data-image",2,"margin-left","40em","margin-top","7em"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),e.EFF(4,"From Date"),e.k0s(),e.j41(5,"input",3,4),e.bIt("dateChange",function(s){return n.onFromDateChange(s)}),e.k0s(),e.nrm(7,"mat-datepicker-toggle",5)(8,"mat-datepicker",null,6),e.k0s(),e.j41(10,"mat-form-field",2)(11,"mat-label"),e.EFF(12,"To Date"),e.k0s(),e.j41(13,"input",7,8),e.bIt("dateChange",function(s){return n.onToDateChange(s)}),e.k0s(),e.nrm(15,"mat-datepicker-toggle",5)(16,"mat-datepicker",null,9),e.k0s(),e.j41(18,"mat-form-field",2)(19,"mat-label"),e.EFF(20,"Account Number"),e.k0s(),e.j41(21,"input",10),e.bIt("ngModelChange",function(s){return n.accountNumber=s}),e.k0s()(),e.j41(22,"mat-form-field",2)(23,"mat-label"),e.EFF(24,"Consortium"),e.k0s(),e.j41(25,"mat-select",11),e.bIt("selectionChange",function(s){return n.selectedConsortium(s.value)}),e.DNE(26,Df,2,2,"mat-option",12),e.k0s()(),e.j41(27,"mat-form-field",2)(28,"mat-label"),e.EFF(29,"Opt"),e.k0s(),e.j41(30,"mat-select",13),e.bIt("selectionChange",function(s){return n.selectedOpt(s.value)}),e.DNE(31,vf,2,2,"mat-option",12),e.k0s()(),e.j41(32,"mat-form-field",2)(33,"mat-label"),e.EFF(34,"Duplicate"),e.k0s(),e.j41(35,"mat-select",14),e.bIt("selectionChange",function(s){return n.selectedDuplicate(s.value)}),e.DNE(36,Ff,2,2,"mat-option",12),e.k0s()(),e.j41(37,"mat-form-field",2)(38,"mat-label"),e.EFF(39,"ATM Id"),e.k0s(),e.j41(40,"input",15),e.bIt("ngModelChange",function(s){return n.atmId=s}),e.k0s()(),e.j41(41,"div",16)(42,"span",17),e.bIt("click",function(){return n.resetFields()}),e.EFF(43,"refresh"),e.k0s()(),e.j41(44,"button",18),e.bIt("click",function(){return n.proActivePortal()}),e.EFF(45,"Fetch"),e.k0s(),e.j41(46,"mat-form-field",2)(47,"mat-label"),e.EFF(48,"Export to excel"),e.k0s(),e.j41(49,"mat-select"),e.DNE(50,Mf,4,2,"mat-option",12),e.k0s()(),e.j41(51,"button",18),e.bIt("click",function(){return n.upload()}),e.EFF(52," Upload "),e.k0s()(),e.j41(53,"div",19)(54,"ag-grid-angular",20),e.bIt("rowClicked",function(s){return n.rowView(s)})("gridReady",function(s){return n.onGridReady(s)})("selectionChanged",function(s){return n.onSelectionChanged(s)}),e.k0s()(),e.DNE(55,Sf,1,0,"ng-template",null,21,e.C5r),e.k0s()),2&a){const i=e.sdS(9),s=e.sdS(17);e.R7$(5),e.Y8G("matDatepicker",i)("max",n.today),e.R7$(2),e.Y8G("for",i),e.R7$(6),e.Y8G("matDatepicker",s)("max",n.today),e.R7$(2),e.Y8G("for",s),e.R7$(6),e.Y8G("ngModel",n.accountNumber),e.R7$(4),e.Y8G("value",n.consortium_no),e.R7$(1),e.Y8G("ngForOf",n.consortium),e.R7$(4),e.Y8G("value",n.opt_no),e.R7$(1),e.Y8G("ngForOf",n.Opt),e.R7$(4),e.Y8G("value",n.duplicate),e.R7$(1),e.Y8G("ngForOf",n.Duplicate),e.R7$(4),e.Y8G("ngModel",n.atmId),e.R7$(10),e.Y8G("ngForOf",n.downloads),e.R7$(4),e.Y8G("rowData",n.rowData)("columnDefs",n.columnDefs)("gridOptions",n.gridOptions)("defaultColDef",n.defaultColDef)("pagination",!0)("paginationPageSize",n.paginationPageSize)}},dependencies:[g.Sq,Me.An,p.me,p.BC,p.vS,j.rl,j.nJ,j.yw,ue.fg,z.Vh,z.bZ,z.bU,_e.VO,he.wT,be.xs,ke.oV],styles:[".DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:30px;gap:15px}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .apply-btn[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff;border:1px solid rgb(147,81,251);width:133px;height:55px;font-size:18px;font-weight:400;margin-bottom:1.2em;line-height:24px;border-radius:8px;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{padding:8px;border:1px solid #858585;border-radius:10px;margin-bottom:1.2em;cursor:pointer}.DS-container[_ngcontent-%COMP%]   .inputs-buttons[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]   span.material-symbols-outlined[_ngcontent-%COMP%]{font-size:28px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{height:22vh;border:1px solid #ccc;border-radius:10px;margin-top:30px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top-left-radius:10px;border-top-right-radius:10px;background-color:#f9fafb;border-bottom:1px solid #ccc}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;gap:100px;font-size:18px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .header-counts[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-title[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:10px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;min-width:45%;max-width:50%}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border:1px solid rgb(165,165,165);border-radius:10px;padding:20px;margin:12px;width:50%;height:8vh}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-tran-count[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]{font-size:18px;display:flex;flex-direction:column;gap:25px}.DS-container[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .main-cards[_ngcontent-%COMP%]   .card-amt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:30px;border:1px solid #ccc;border-radius:15px;height:48vh}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px;width:250px;margin-top:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]{padding:50px}.DS-container[_ngcontent-%COMP%]   .imgage-content[_ngcontent-%COMP%]   .headlines[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:25px;display:flex;justify-content:center;align-items:center;padding:1px;font-weight:400;color:#b9b2b2}.DS-container[_ngcontent-%COMP%]     .status-green{color:#17b01d;border:1.5px solid #17B01D;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-rollback{color:#8c00a3;border:1.5px solid #7a00d7;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-red{color:#de1306;border:1.5px solid #DE1306;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}.DS-container[_ngcontent-%COMP%]     .status-gray{color:#312e2e;border:1.5px solid #686666;text-align:center;padding:8px 12px;border-radius:16px;margin:9px;font-size:16px;cursor:pointer;display:flex;justify-content:center;align-items:center;height:9px;width:80px}"]})}}return o})();const wf=["disputeBeneficiaryComponent"],Of=["disputeRemitterComponent"];function Tf(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDataModel("showDataConfig"))}),e.EFF(1,"Configure Datasources"),e.k0s()}}function kf(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.configureRecon())}),e.EFF(1,"Configure Recon"),e.k0s()}}function Ef(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.UploadAllFiles())}),e.EFF(1,"Bulk Upload"),e.k0s()}}function If(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateVoucher())}),e.EFF(1,"Generate Voucher"),e.k0s()}}const Sn=function(o){return{"disabled-button":o}};function Rf(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.startReconciliation())}),e.EFF(1,"Start Reconciliation"),e.k0s()}if(2&o){const t=e.XpG(2);e.FS9("matTooltip",t.tooltipMessage),e.Y8G("ngClass",e.eq3(3,Sn,t.isButtonDisabled))("disabled",t.isButtonDisabled)}}function Af(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateSummary())}),e.EFF(1,"Generate Summary"),e.k0s()}}function jf(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",42),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateTTUM())}),e.EFF(1,"Generate TTUMS"),e.k0s()}}function Nf(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",43),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateNPCIfiles())}),e.EFF(1,"Generate NPCI files"),e.k0s()}}function Bf(o,r){if(1&o&&(e.j41(0,"mat-tab",44),e.nrm(1,"app-data-configuration",45),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("parentButtonValue",t.buttonValue)("activeTabId",t.activeTabId)}}function Gf(o,r){1&o&&e.nrm(0,"mat-tab",46)}function Vf(o,r){if(1&o&&(e.j41(0,"mat-tab",47),e.nrm(1,"app-account-detail",48),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function $f(o,r){if(1&o&&(e.j41(0,"mat-tab",49),e.nrm(1,"app-file-upload",50),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Uf(o,r){if(1&o&&(e.j41(0,"mat-tab",51),e.nrm(1,"app-data-collection-status",52),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Yf(o,r){if(1&o&&(e.j41(0,"mat-tab",53),e.nrm(1,"app-data-collection-summary",54),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function zf(o,r){if(1&o&&(e.j41(0,"mat-tab",55),e.nrm(1,"app-voucher",56),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Xf(o,r){if(1&o&&(e.j41(0,"mat-tab",57),e.nrm(1,"app-recon-timeline-process",58),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function qf(o,r){if(1&o&&(e.j41(0,"mat-tab",59),e.nrm(1,"app-recon-summary",60),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Lf(o,r){if(1&o&&(e.j41(0,"mat-tab",61),e.nrm(1,"app-reports",62),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Hf(o,r){if(1&o&&(e.j41(0,"mat-tab",63),e.nrm(1,"app-ttum",64),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Jf(o,r){if(1&o&&(e.j41(0,"mat-tab",65),e.nrm(1,"app-force-match",66),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Wf(o,r){if(1&o&&(e.j41(0,"mat-tab",67),e.nrm(1,"app-transaction-search",68),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Zf(o,r){if(1&o&&(e.j41(0,"mat-tab",69),e.nrm(1,"app-rollback",70),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Qf(o,r){if(1&o&&(e.j41(0,"mat-tab",71),e.nrm(1,"app-upi-npci-uploaded-files",72),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Kf(o,r){1&o&&(e.qex(0),e.nrm(1,"app-recon-config"),e.bVm())}function eh(o,r){1&o&&e.nrm(0,"app-display-recon-configure")}function th(o,r){if(1&o&&(e.j41(0,"div",73),e.DNE(1,Kf,2,0,"ng-container",74),e.DNE(2,eh,1,0,"ng-template",null,75,e.C5r),e.k0s()),2&o){const t=e.sdS(3),a=e.XpG(2);e.R7$(1),e.Y8G("ngIf",a.showReconCon)("ngIfElse",t)}}function nh(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7,"Manage, explore, optimise and access your app "),e.k0s()(),e.j41(8,"div",8),e.DNE(9,Tf,2,0,"button",9),e.DNE(10,kf,2,0,"button",10),e.DNE(11,Ef,2,0,"button",11),e.DNE(12,If,2,0,"button",12),e.DNE(13,Rf,2,5,"button",13),e.DNE(14,Af,2,0,"button",14),e.DNE(15,jf,2,0,"button",15),e.DNE(16,Nf,2,0,"button",16),e.k0s()(),e.j41(17,"div",17)(18,"div",18)(19,"mat-tab-group",19),e.bIt("selectedTabChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onTabChange(n))}),e.DNE(20,Bf,2,2,"mat-tab",20),e.DNE(21,Gf,1,0,"mat-tab",21),e.DNE(22,Vf,2,1,"mat-tab",22),e.DNE(23,$f,2,1,"mat-tab",23),e.DNE(24,Uf,2,1,"mat-tab",24),e.DNE(25,Yf,2,1,"mat-tab",25),e.DNE(26,zf,2,1,"mat-tab",26),e.DNE(27,Xf,2,1,"mat-tab",27),e.DNE(28,qf,2,1,"mat-tab",28),e.DNE(29,Lf,2,1,"mat-tab",29),e.DNE(30,Hf,2,1,"mat-tab",30),e.DNE(31,Jf,2,1,"mat-tab",31),e.DNE(32,Wf,2,1,"mat-tab",32),e.DNE(33,Zf,2,1,"mat-tab",33),e.DNE(34,Qf,2,1,"mat-tab",34),e.k0s()(),e.DNE(35,th,4,2,"div",35),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.projectName),e.R7$(4),e.Y8G("ngIf","Data configuration"===t.selectedTabLabel&&t.hasPermission("Dataconfiguration:create")||"realm-admin"===t.Role&&"Data configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel&&t.hasPermission("Reconconfiguration:create")||"realm-admin"===t.Role&&"Recon configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Upload"===t.selectedTabLabel&&t.hasPermission("Fileupload:create")||"realm-admin"===t.Role&&"Upload"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Voucher"===t.selectedTabLabel&&t.hasPermission("Voucher:create")||"realm-admin"===t.Role&&"Voucher"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Reconciliation process"===t.selectedTabLabel&&t.hasPermission("Reconciliationprocess:create")||"realm-admin"===t.Role&&"Reconciliation process"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon summary"===t.selectedTabLabel&&t.hasPermission("Reconsummary:create")||"realm-admin"===t.Role&&"Recon summary"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","TTUM"===t.selectedTabLabel&&t.hasPermission("TTUM:create")||"realm-admin"===t.Role&&"TTUM"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","NPCI uploaded file"===t.selectedTabLabel&&t.hasPermission("NPCIuploadfile:create")||"realm-admin"===t.Role&&"NPCI uploaded file"===t.selectedTabLabel),e.R7$(4),e.Y8G("ngIf",t.hasPermission("Dataconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Accountmaster:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Fileupload:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionstatus:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Voucher:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconciliationprocess:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("TTUM:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Forcematch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Transactionsearch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Rollback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("NPCIuploadfile:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel)}}function oh(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7,"Manage, explore, optimize, and access your app "),e.k0s()()(),e.j41(8,"div",17)(9,"div",18)(10,"mat-tab-group",19,76),e.bIt("selectedTabChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onTabChangeForDispute(n))}),e.j41(12,"mat-tab",77),e.nrm(13,"app-dispute-remitter",null,78),e.k0s(),e.j41(15,"mat-tab",79),e.nrm(16,"app-dispute-beneficiary",null,80),e.k0s(),e.j41(18,"mat-tab",81),e.nrm(19,"app-transaction-audit",null,82),e.k0s()()()()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.projectName)}}function ah(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",116),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDataModel("showDataConfig"))}),e.EFF(1,"Create data model"),e.k0s()}}function ih(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.configureRecon())}),e.EFF(1,"Configure recon"),e.k0s()}}function rh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.UploadAllFiles())}),e.EFF(1,"Bulk upload"),e.k0s()}}function sh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateVoucher())}),e.EFF(1,"Generate voucher"),e.k0s()}}function lh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",118),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.startReconciliation())}),e.EFF(1," Start reconciliation "),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Sn,t.isButtonDisabled))("disabled",t.isButtonDisabled)}}function ch(o,r){1&o&&(e.j41(0,"mat-tab",119),e.nrm(1,"app-atm-overage-shortage"),e.k0s())}function dh(o,r){if(1&o&&(e.j41(0,"mat-tab",120),e.nrm(1,"app-data-configuration",121),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("parentButtonValue",t.buttonValue)}}function ph(o,r){1&o&&e.nrm(0,"mat-tab",122)}function mh(o,r){1&o&&(e.j41(0,"mat-tab",123),e.nrm(1,"app-file-upload"),e.k0s())}function uh(o,r){1&o&&(e.j41(0,"mat-tab",124),e.nrm(1,"app-data-collection-status"),e.k0s())}function gh(o,r){1&o&&(e.j41(0,"mat-tab",125),e.nrm(1,"app-atm-reconcilation"),e.k0s())}function fh(o,r){1&o&&(e.j41(0,"mat-tab",126),e.nrm(1,"app-recon-timeline-process"),e.k0s())}function hh(o,r){1&o&&(e.j41(0,"mat-tab",127),e.nrm(1,"app-cbr-file-operation"),e.k0s())}function _h(o,r){if(1&o&&(e.j41(0,"mat-tab",128),e.nrm(1,"app-atm-reports",129),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Ch(o,r){1&o&&(e.j41(0,"mat-tab",130),e.nrm(1,"app-atm-pro-active-portal-screen"),e.k0s())}function bh(o,r){1&o&&(e.j41(0,"mat-tab",131),e.nrm(1,"app-atm-chargeback"),e.k0s())}function xh(o,r){1&o&&(e.j41(0,"mat-tab",132),e.nrm(1,"app-atm-pre-arbitration"),e.k0s())}function yh(o,r){1&o&&(e.j41(0,"mat-tab",133),e.nrm(1,"app-atm-arbitration"),e.k0s())}function Dh(o,r){1&o&&(e.j41(0,"mat-tab",134),e.nrm(1,"app-atm-bo-complaints"),e.k0s())}function vh(o,r){1&o&&(e.j41(0,"mat-tab",135),e.nrm(1,"app-atm-good-faith-chb"),e.k0s())}function Fh(o,r){1&o&&(e.j41(0,"mat-tab",136),e.nrm(1,"app-atm-debit-adjustment"),e.k0s())}function Mh(o,r){1&o&&(e.j41(0,"mat-tab",137),e.nrm(1,"app-atm-dispute-agewise-summary"),e.k0s())}function Sh(o,r){1&o&&(e.j41(0,"mat-tab",138),e.nrm(1,"app-atm-ttum-portal"),e.k0s())}function Ph(o,r){1&o&&(e.j41(0,"mat-tab",139),e.nrm(1,"app-atm-bank-deductions"),e.k0s())}function wh(o,r){1&o&&(e.j41(0,"mat-tab",140),e.nrm(1,"app-atm-vendor-email-portal"),e.k0s())}function Oh(o,r){1&o&&(e.j41(0,"mat-tab",141),e.nrm(1,"app-atm-footage-vendor-email-portal"),e.k0s())}function Th(o,r){1&o&&(e.j41(0,"mat-tab",142),e.nrm(1,"app-atm-ej-vendor-email-portal"),e.k0s())}function kh(o,r){1&o&&(e.j41(0,"mat-tab",143),e.nrm(1,"app-atm-call-lodge-email-portal"),e.k0s())}function Eh(o,r){1&o&&(e.j41(0,"mat-tab",144),e.nrm(1,"app-atm-roll-back-portal"),e.k0s())}function Ih(o,r){1&o&&(e.j41(0,"mat-tab",119),e.nrm(1,"app-atm-onus-dispute-portal"),e.k0s())}function Rh(o,r){1&o&&(e.j41(0,"mat-tab",145),e.nrm(1,"app-atm-onus-dispute-portal"),e.k0s())}function Ah(o,r){if(1&o&&(e.j41(0,"mat-tab",146),e.nrm(1,"app-tally-untally-atm",147),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function jh(o,r){1&o&&(e.j41(0,"mat-tab",148),e.nrm(1,"app-force-match"),e.k0s())}function Nh(o,r){1&o&&(e.j41(0,"mat-tab",149),e.nrm(1,"app-transaction-search"),e.k0s())}function Bh(o,r){1&o&&(e.j41(0,"mat-tab",150),e.nrm(1,"app-rollback"),e.k0s())}function Gh(o,r){if(1&o&&(e.j41(0,"mat-tab",151),e.nrm(1,"app-atm-master",152),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function Vh(o,r){1&o&&(e.qex(0),e.nrm(1,"app-recon-config"),e.bVm())}function $h(o,r){1&o&&e.nrm(0,"app-display-recon-configure")}function Uh(o,r){if(1&o&&(e.j41(0,"div",73),e.DNE(1,Vh,2,0,"ng-container",74),e.DNE(2,$h,1,0,"ng-template",null,75,e.C5r),e.k0s()),2&o){const t=e.sdS(3),a=e.XpG(2);e.R7$(1),e.Y8G("ngIf",a.showReconCon)("ngIfElse",t)}}function Yh(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7,"Manage, explore, optimise and access your app "),e.k0s()(),e.j41(8,"div",8),e.DNE(9,ah,2,0,"button",83),e.DNE(10,ih,2,0,"button",84),e.DNE(11,rh,2,0,"button",84),e.DNE(12,sh,2,0,"button",84),e.DNE(13,lh,2,4,"button",85),e.k0s()(),e.j41(14,"div",17)(15,"div",18)(16,"mat-tab-group",19),e.bIt("selectedTabChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onTabChange(n))}),e.DNE(17,ch,2,0,"mat-tab",86),e.DNE(18,dh,2,1,"mat-tab",87),e.DNE(19,ph,1,0,"mat-tab",88),e.DNE(20,mh,2,0,"mat-tab",89),e.DNE(21,uh,2,0,"mat-tab",90),e.DNE(22,gh,2,0,"mat-tab",91),e.DNE(23,fh,2,0,"mat-tab",92),e.DNE(24,hh,2,0,"mat-tab",93),e.DNE(25,_h,2,1,"mat-tab",94),e.DNE(26,Ch,2,0,"mat-tab",95),e.DNE(27,bh,2,0,"mat-tab",96),e.DNE(28,xh,2,0,"mat-tab",97),e.DNE(29,yh,2,0,"mat-tab",98),e.DNE(30,Dh,2,0,"mat-tab",99),e.DNE(31,vh,2,0,"mat-tab",100),e.DNE(32,Fh,2,0,"mat-tab",101),e.DNE(33,Mh,2,0,"mat-tab",102),e.DNE(34,Sh,2,0,"mat-tab",103),e.DNE(35,Ph,2,0,"mat-tab",104),e.DNE(36,wh,2,0,"mat-tab",105),e.DNE(37,Oh,2,0,"mat-tab",106),e.DNE(38,Th,2,0,"mat-tab",107),e.DNE(39,kh,2,0,"mat-tab",108),e.DNE(40,Eh,2,0,"mat-tab",109),e.DNE(41,Ih,2,0,"mat-tab",86),e.DNE(42,Rh,2,0,"mat-tab",110),e.DNE(43,Ah,2,1,"mat-tab",111),e.DNE(44,jh,2,0,"mat-tab",112),e.DNE(45,Nh,2,0,"mat-tab",113),e.DNE(46,Bh,2,0,"mat-tab",114),e.DNE(47,Gh,2,1,"mat-tab",115),e.k0s()(),e.DNE(48,Uh,4,2,"div",35),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.projectName),e.R7$(4),e.Y8G("ngIf","Data configuration"===t.selectedTabLabel&&t.hasPermission("Dataconfiguration:create")||"realm-admin"===t.Role&&"Data configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel&&t.hasPermission("Reconconfiguration:create")||"realm-admin"===t.Role&&"Recon configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Upload"===t.selectedTabLabel&&t.hasPermission("Fileupload:create")||"realm-admin"===t.Role&&"Upload"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Voucher"===t.selectedTabLabel&&t.hasPermission("Voucher:create")||"realm-admin"===t.Role&&"Voucher"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Reconciliation process"===t.selectedTabLabel&&t.hasPermission("Reconciliationprocess:create")||"realm-admin"===t.Role&&"Reconciliation process"===t.selectedTabLabel),e.R7$(4),e.Y8G("ngIf",t.hasPermission("overageshortage:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Dataconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Fileupload:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionstatus:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ATMreconcilation:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconciliationprocess:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("CBRfileoperation:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ProActivePortal:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Chargeback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Prearbitration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("arbitration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("bocomplamints:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("goodfaithchb:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("debitadjustment:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("disputeagewisesummaryreport:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ttumportal:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("bankdeductions:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ATMvendoremail:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("footagevendor-email:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("EJvendor-email:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ATMcalllodge-email:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("rollback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("overageshortage:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("ONUSdispute:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Forcematch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Transactionsearch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Rollback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel)}}function zh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",116),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDataModel("showDataConfig"))}),e.EFF(1,"Create data model"),e.k0s()}}function Xh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.configureRecon())}),e.EFF(1,"Configure recon"),e.k0s()}}function qh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.UploadAllFiles())}),e.EFF(1,"Bulk upload"),e.k0s()}}function Lh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateVoucher())}),e.EFF(1,"Generate voucher"),e.k0s()}}function Hh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",118),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.startReconciliation())}),e.EFF(1," Start reconciliation"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Sn,t.isButtonDisabled))("disabled",t.isButtonDisabled)}}function Jh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateSummary())}),e.EFF(1,"Generate summary"),e.k0s()}}function Wh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateTTUM())}),e.EFF(1,"Generate TTUMS"),e.k0s()}}function Zh(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateNPCIfiles())}),e.EFF(1,"Generate NPCI files"),e.k0s()}}function Qh(o,r){if(1&o&&(e.j41(0,"mat-tab",44),e.nrm(1,"app-data-configuration",45),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("parentButtonValue",t.buttonValue)("activeTabId",t.activeTabId)}}function Kh(o,r){1&o&&e.nrm(0,"mat-tab",46)}function e_(o,r){if(1&o&&(e.j41(0,"mat-tab",49),e.nrm(1,"app-file-upload",50),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function t_(o,r){if(1&o&&(e.j41(0,"mat-tab",51),e.nrm(1,"app-data-collection-status",52),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function n_(o,r){if(1&o&&(e.j41(0,"mat-tab",53),e.nrm(1,"app-data-collection-summary",54),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function o_(o,r){if(1&o&&(e.j41(0,"mat-tab",55),e.nrm(1,"app-voucher",56),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function a_(o,r){if(1&o&&(e.j41(0,"mat-tab",57),e.nrm(1,"app-recon-timeline-process",58),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function i_(o,r){if(1&o&&(e.j41(0,"mat-tab",59),e.nrm(1,"app-recon-summary",60),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function r_(o,r){if(1&o&&(e.j41(0,"mat-tab",61),e.nrm(1,"app-reports",62),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function s_(o,r){if(1&o&&(e.j41(0,"mat-tab",63),e.nrm(1,"app-ttum",64),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function l_(o,r){if(1&o&&(e.j41(0,"mat-tab",65),e.nrm(1,"app-force-match",66),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function c_(o,r){if(1&o&&(e.j41(0,"mat-tab",67),e.nrm(1,"app-transaction-search",68),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function d_(o,r){if(1&o&&(e.j41(0,"mat-tab",69),e.nrm(1,"app-rollback",70),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function p_(o,r){if(1&o&&(e.j41(0,"mat-tab",71),e.nrm(1,"app-upi-npci-uploaded-files",72),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function m_(o,r){if(1&o&&(e.j41(0,"mat-tab",155),e.nrm(1,"app-account-master",156),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function u_(o,r){1&o&&(e.qex(0),e.nrm(1,"app-recon-config"),e.bVm())}function g_(o,r){1&o&&e.nrm(0,"app-display-recon-configure")}function f_(o,r){if(1&o&&(e.j41(0,"div",73),e.DNE(1,u_,2,0,"ng-container",74),e.DNE(2,g_,1,0,"ng-template",null,75,e.C5r),e.k0s()),2&o){const t=e.sdS(3),a=e.XpG(2);e.R7$(1),e.Y8G("ngIf",a.showReconCon)("ngIfElse",t)}}function h_(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7,"Manage, explore, optimise and access your app "),e.k0s()(),e.j41(8,"div",8),e.DNE(9,zh,2,0,"button",83),e.DNE(10,Xh,2,0,"button",84),e.DNE(11,qh,2,0,"button",84),e.DNE(12,Lh,2,0,"button",84),e.DNE(13,Hh,2,4,"button",85),e.DNE(14,Jh,2,0,"button",84),e.DNE(15,Wh,2,0,"button",84),e.DNE(16,Zh,2,0,"button",84),e.k0s()(),e.j41(17,"div",17)(18,"div",18)(19,"mat-tab-group",19),e.bIt("selectedTabChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onTabChange(n))}),e.DNE(20,Qh,2,2,"mat-tab",20),e.DNE(21,Kh,1,0,"mat-tab",21),e.DNE(22,e_,2,1,"mat-tab",23),e.DNE(23,t_,2,1,"mat-tab",24),e.DNE(24,n_,2,1,"mat-tab",25),e.DNE(25,o_,2,1,"mat-tab",26),e.DNE(26,a_,2,1,"mat-tab",27),e.DNE(27,i_,2,1,"mat-tab",28),e.DNE(28,r_,2,1,"mat-tab",29),e.DNE(29,s_,2,1,"mat-tab",30),e.DNE(30,l_,2,1,"mat-tab",31),e.j41(31,"mat-tab",153),e.nrm(32,"app-force-match-v2"),e.k0s(),e.DNE(33,c_,2,1,"mat-tab",32),e.DNE(34,d_,2,1,"mat-tab",33),e.DNE(35,p_,2,1,"mat-tab",34),e.DNE(36,m_,2,1,"mat-tab",154),e.k0s()(),e.DNE(37,f_,4,2,"div",35),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.projectName),e.R7$(4),e.Y8G("ngIf","Data configuration"===t.selectedTabLabel&&t.hasPermission("Dataconfiguration:create")||"realm-admin"===t.Role&&"Data configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel&&t.hasPermission("Reconconfiguration:create")||"realm-admin"===t.Role&&"Recon configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Upload"===t.selectedTabLabel&&t.hasPermission("Fileupload:create")||"realm-admin"===t.Role&&"Upload"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Voucher"===t.selectedTabLabel&&t.hasPermission("Voucher:create")||"realm-admin"===t.Role&&"Voucher"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Reconciliation process"===t.selectedTabLabel&&t.hasPermission("Reconciliationprocess:create")||"realm-admin"===t.Role&&"Reconciliation process"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon summary"===t.selectedTabLabel&&t.hasPermission("Reconsummary:create")||"realm-admin"===t.Role&&"Recon summary"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","TTUM"===t.selectedTabLabel&&t.hasPermission("TTUM:create")||"realm-admin"===t.Role&&"TTUM"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","NPCI uploaded file"===t.selectedTabLabel&&t.hasPermission("NPCIuploadfile:create")||"realm-admin"===t.Role&&"NPCI uploaded file"===t.selectedTabLabel),e.R7$(4),e.Y8G("ngIf",t.hasPermission("Dataconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Fileupload:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionstatus:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Voucher:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconciliationprocess:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("TTUM:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Forcematch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("ngIf",t.hasPermission("Transactionsearch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Rollback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("NPCIuploadfile:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Accountmaster:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel)}}function __(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",116),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.createDataModel("showDataConfig"))}),e.EFF(1,"Create data model"),e.k0s()}}function C_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.configureRecon())}),e.EFF(1,"Configure recon"),e.k0s()}}function b_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.UploadAllFiles())}),e.EFF(1,"Bulk upload"),e.k0s()}}function x_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateVoucher())}),e.EFF(1,"Generate voucher"),e.k0s()}}function y_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",118),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.startReconciliation())}),e.EFF(1," Start reconciliation"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("ngClass",e.eq3(2,Sn,t.isButtonDisabled))("disabled",t.isButtonDisabled)}}function D_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.generateSummary())}),e.EFF(1,"Generate summary"),e.k0s()}}function v_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateTTUM())}),e.EFF(1,"Generate TTUMS"),e.k0s()}}function F_(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",117),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onGenerateNPCIfiles())}),e.EFF(1,"Generate NPCI files"),e.k0s()}}function M_(o,r){if(1&o&&(e.j41(0,"mat-tab",44),e.nrm(1,"app-data-configuration",45),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("parentButtonValue",t.buttonValue)("activeTabId",t.activeTabId)}}function S_(o,r){1&o&&e.nrm(0,"mat-tab",46)}function P_(o,r){if(1&o&&(e.j41(0,"mat-tab",49),e.nrm(1,"app-file-upload",50),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function w_(o,r){if(1&o&&(e.j41(0,"mat-tab",51),e.nrm(1,"app-data-collection-status",52),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function O_(o,r){if(1&o&&(e.j41(0,"mat-tab",53),e.nrm(1,"app-data-collection-summary",54),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function T_(o,r){if(1&o&&(e.j41(0,"mat-tab",55),e.nrm(1,"app-voucher",56),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function k_(o,r){if(1&o&&(e.j41(0,"mat-tab",57),e.nrm(1,"app-recon-timeline-process",58),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function E_(o,r){if(1&o&&(e.j41(0,"mat-tab",59),e.nrm(1,"app-recon-summary",60),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function I_(o,r){if(1&o&&(e.j41(0,"mat-tab",61),e.nrm(1,"app-reports",62),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function R_(o,r){if(1&o&&(e.j41(0,"mat-tab",63),e.nrm(1,"app-ttum",64),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function A_(o,r){if(1&o&&(e.j41(0,"mat-tab",65),e.nrm(1,"app-force-match",66),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function j_(o,r){if(1&o&&(e.j41(0,"mat-tab",67),e.nrm(1,"app-transaction-search",68),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function N_(o,r){if(1&o&&(e.j41(0,"mat-tab",69),e.nrm(1,"app-rollback",70),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function B_(o,r){if(1&o&&(e.j41(0,"mat-tab",71),e.nrm(1,"app-upi-npci-uploaded-files",72),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function G_(o,r){if(1&o&&(e.j41(0,"mat-tab",155),e.nrm(1,"app-account-master",156),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("activeTabId",t.activeTabId)}}function V_(o,r){1&o&&(e.qex(0),e.nrm(1,"app-recon-config"),e.bVm())}function $_(o,r){1&o&&e.nrm(0,"app-display-recon-configure")}function U_(o,r){if(1&o&&(e.j41(0,"div",73),e.DNE(1,V_,2,0,"ng-container",74),e.DNE(2,$_,1,0,"ng-template",null,75,e.C5r),e.k0s()),2&o){const t=e.sdS(3),a=e.XpG(2);e.R7$(1),e.Y8G("ngIf",a.showReconCon)("ngIfElse",t)}}function Y_(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",3)(2,"div",4)(3,"div",5)(4,"h2",6),e.EFF(5),e.k0s(),e.j41(6,"span",7),e.EFF(7,"Manage, explore, optimise and access your app "),e.k0s()(),e.j41(8,"div",8),e.DNE(9,__,2,0,"button",83),e.DNE(10,C_,2,0,"button",84),e.DNE(11,b_,2,0,"button",84),e.DNE(12,x_,2,0,"button",84),e.DNE(13,y_,2,4,"button",85),e.DNE(14,D_,2,0,"button",84),e.DNE(15,v_,2,0,"button",84),e.DNE(16,F_,2,0,"button",84),e.k0s()(),e.j41(17,"div",17)(18,"div",18)(19,"mat-tab-group",19),e.bIt("selectedTabChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onTabChange(n))}),e.DNE(20,M_,2,2,"mat-tab",20),e.DNE(21,S_,1,0,"mat-tab",21),e.DNE(22,P_,2,1,"mat-tab",23),e.DNE(23,w_,2,1,"mat-tab",24),e.DNE(24,O_,2,1,"mat-tab",25),e.DNE(25,T_,2,1,"mat-tab",26),e.DNE(26,k_,2,1,"mat-tab",27),e.DNE(27,E_,2,1,"mat-tab",28),e.DNE(28,I_,2,1,"mat-tab",29),e.DNE(29,R_,2,1,"mat-tab",30),e.DNE(30,A_,2,1,"mat-tab",31),e.j41(31,"mat-tab",153),e.nrm(32,"app-force-match-v2"),e.k0s(),e.DNE(33,j_,2,1,"mat-tab",32),e.DNE(34,N_,2,1,"mat-tab",33),e.DNE(35,B_,2,1,"mat-tab",34),e.DNE(36,G_,2,1,"mat-tab",154),e.k0s()(),e.DNE(37,U_,4,2,"div",35),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.projectName),e.R7$(4),e.Y8G("ngIf","Data configuration"===t.selectedTabLabel&&t.hasPermission("Dataconfiguration:create")||"realm-admin"===t.Role&&"Data configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel&&t.hasPermission("Reconconfiguration:create")||"realm-admin"===t.Role&&"Recon configuration"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Upload"===t.selectedTabLabel&&t.hasPermission("Fileupload:create")||"realm-admin"===t.Role&&"Upload"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Voucher"===t.selectedTabLabel&&t.hasPermission("Voucher:create")||"realm-admin"===t.Role&&"Voucher"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Reconciliation process"===t.selectedTabLabel&&t.hasPermission("Reconciliationprocess:create")||"realm-admin"===t.Role&&"Reconciliation process"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","Recon summary"===t.selectedTabLabel&&t.hasPermission("Reconsummary:create")||"realm-admin"===t.Role&&"Recon summary"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","TTUM"===t.selectedTabLabel&&t.hasPermission("TTUM:create")||"realm-admin"===t.Role&&"TTUM"===t.selectedTabLabel),e.R7$(1),e.Y8G("ngIf","NPCI uploaded file"===t.selectedTabLabel&&t.hasPermission("NPCIuploadfile:create")||"realm-admin"===t.Role&&"NPCI uploaded file"===t.selectedTabLabel),e.R7$(4),e.Y8G("ngIf",t.hasPermission("Dataconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconconfiguration:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Fileupload:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionstatus:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Datacollectionsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Voucher:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconciliationprocess:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reconsummary:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Reports:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("TTUM:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Forcematch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("ngIf",t.hasPermission("Transactionsearch:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Rollback:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("NPCIuploadfile:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf",t.hasPermission("Accountmaster:view")||"realm-admin"===t.Role),e.R7$(1),e.Y8G("ngIf","Recon configuration"===t.selectedTabLabel)}}const z_=[{path:"added-app",component:(()=>{class o{constructor(t,a,n,i,s,l,c){this.router=t,this.dataConfigService=a,this.dialog=n,this.snackBar=i,this.notify=s,this.URMService=l,this.spinner=c,this.selectedTabIndex=0,this.showDataConf=!1,this.showReconCon=!1,this.showDataCongForm=!1,this.disableTab=!1,this.isButtonDisabled=!1,this.fromDate1="",this.toDate1="",this.selectedTabLabel="",this.tooltipMessage="Click to select date for Reconciliation";const d=new Date;this.fromDate1=this.formatDate(d),this.toDate1=this.formatDate(d)}ngOnInit(){this.Role=localStorage.getItem("role"),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.selectedProject=localStorage.getItem("project_type"),this.tenantId=localStorage.getItem("tenant_id"),this.hasPermission("Dataconfiguration:view")||"realm-admin"===this.Role?this.selectedTabLabel="Data configuration":this.hasPermission("Reconconfiguration:view")||"realm-admin"===this.Role?this.selectedTabLabel="Recon configuration":this.hasPermission("Fileupload:view")||"realm-admin"===this.Role?this.selectedTabLabel="Upload":this.hasPermission("Voucher:view")||"realm-admin"===this.Role?this.selectedTabLabel="Voucher":this.hasPermission("Reconciliationprocess:view")||"realm-admin"===this.Role?this.selectedTabLabel="Reconciliation process":this.hasPermission("Reconsummary:view")||"realm-admin"===this.Role?this.selectedTabLabel="Recon summary":this.hasPermission("TTUM:view")||"realm-admin"===this.Role?this.selectedTabLabel="TTUM":(this.hasPermission("NPCIuploadfile:view")||"realm-admin"===this.Role)&&(this.selectedTabLabel="NPCI uploaded file"),console.log("input data:",this.inputData),this.projectName=localStorage.getItem("project_name"),this.projectId=localStorage.getItem("project_id"),this.checkAllowForceRecon()}hasPermission(t){return JSON.parse(localStorage.getItem("permissions")||"[]").includes(t)}formatDate(t){return t.toISOString().split("T")[0]}onTabChange(t){const a=t.tab.textLabel.toLowerCase().replace(/ /g,"-");console.log("tab==================>",a),this.activeTabId=a,this.selectedTabLabel=t.tab.textLabel,this.checkAllowForceRecon()}onTabChangeForDispute(t){this.selectedTabIndex=t.index,console.log("Selected tab index in main-parent:",this.selectedTabIndex),this.updateSelectedTabIndex()}updateSelectedTabIndex(){this.disputeBeneficiaryComponent&&(this.disputeBeneficiaryComponent.selectedTabIndex=this.selectedTabIndex,console.log("Selected tab index in dispute-beneficiary:",this.disputeBeneficiaryComponent.selectedTabIndex)),this.disputeRemitterComponent&&(this.disputeRemitterComponent.selectedTabIndex=this.selectedTabIndex,console.log("Selected tab index in dispute-remitter:",this.disputeRemitterComponent.selectedTabIndex))}createDataModel(t){this.URMService.getAllDataModelByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getAllDataModelByProjectId response",n),200==n.statusCode?n.data.length>0?this.notify.showSuccessToast("Can not create multiple data models","Close"):this.buttonValue=t:this.notify.showErrorToast(n.errorMessage,"Close")}).catch(n=>{console.log("Error occured while fetching",n)})}configureRecon(){console.log("configure recon"),"Recon configuration"===this.selectedTabLabel&&(console.log("inside if"),this.showReconCon=!0)}UploadAllFiles(){const t=new F.ru;t.disableClose=!0,t.width="500px",t.height="200px",t.data={upload:"bulk"},console.log("dialogConfigData",t),this.dialog.open(Io,t).afterClosed().subscribe(n=>{})}generateVoucher(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("generateVoucher date =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.generateVouchers({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:a},{}).then(l=>{console.log("generateVouchers response =>",l),l&&200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("Voucher generated successfuly!","Close"),n.close()):(this.notify.showErrorToast("Vocuher Generation Failed","Close"),n.close())}).catch(l=>{console.log("Error while generating voucher data",l),l&&l.error&&l.error.errorMessage&&this.notify.showErrorToast(l.error.errorMessage,"Close"),n.close()})}else console.log("Date field is not selected")})}checkAllowForceRecon(){const t="true"===localStorage.getItem("allow_force_recon");this.isButtonDisabled=!t,this.tooltipMessage=t?"Click to select date for Reconciliation":"Reconciliation is not allowed --\x3e Go for data collection summary & allow force Recon"}startReconciliation(){const t=this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"reconciliation",content:""}});console.log("Before isButtonDisabled",this.isButtonDisabled),t.componentInstance.onClickButton.subscribe(a=>{if(a){this.isButtonDisabled=!0;let n=this.formatDate1(a),i={};this.notify.showSuccessToast("Reconciliation process started!, It will take sometime, Kindly check recon process!","Close"),this.URMService.reconcile({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,creation_date:n},i).then(c=>{console.log("startReconciliationProcess response =>",c),setTimeout(()=>{this.isButtonDisabled=!1},3e3),console.log("After isButtonDisabled",this.isButtonDisabled)}).catch(function(c){console.log("Error while reconciliation",c)})}})}generateSummary(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("generateSummary date =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.generateInwardOutwardSummaryData({tenant_id:this.tenantId,application_id:this.applicationId,product_id:this.productId,project_id:this.projectId,creation_date:a},{}).then(l=>{console.log("generateInwardOutwardSummary response =>",l),l&&200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("Inward/Outward summary generated Successfully!","Close"),n.close()):(this.notify.showErrorToast("Inward/Outward summary generation failed!","Close"),n.close())}).catch(l=>{console.log("Error while generating Inward/Outward summary",l),this.notify.showErrorToast(l.error.errorMessage,"Close"),n.close()})}})}onGenerateTTUM(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("generateSummary date =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.generatePostReconTTUMs({application_id:this.applicationId,tenant_id:this.tenantId,product_id:this.productId,project_id:this.projectId,creation_date:a},{}).then(l=>{console.log("generatePostReconVouchers response =>",l),l&&200===l.statusCode||201===l.statusCode?(this.notify.showSuccessToast("TTUM's generated Successfully!","Close"),n.close()):(this.notify.showErrorToast(l.errorMessage,"Close"),n.close())}).catch(l=>{console.log("Error while generating TTUM's",l),n.close()})}})}onGenerateNPCIfiles(){this.dialog.open(Se.r,{height:"26vh",width:"20%",data:{action:"select-date",content:""}}).componentInstance.onClickButton.subscribe(a=>{if(console.log("generateSummary date =>",a),a){const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.generateNPCIfiles({tenant_id:this.tenantId,project_id:this.projectId,application_id:this.applicationId,product_id:this.productId,date:a},{}).then(l=>{console.log("generateNPCIfiles response",l),l&&201===l.statusCode||200===l.statusCode?(this.notify.showSuccessToast("NPCI files generated successfully!","Close"),n.close()):(this.notify.showErrorToast(l.errorMessage,"Close"),n.close())}).catch(l=>{console.log("Error occured while generating npci files",l),l&&l.error&&l.error.message&&this.notify.showErrorToast(`${l.error.message} for date ${a}`,"Close"),n.close()})}})}formatDate1(t){const[a,n,i]=t.split("-");return`${i}-${n}-${a}`}routeTo(){console.log("route"),this.router.navigate(["/recon/main/home"])}showSpinner(){this.spinner.show()}hideSpinner(){this.spinner.hide()}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(b.Ix),e.rXU(St.w),e.rXU(F.bZ),e.rXU(qt.UG),e.rXU(Ce.J),e.rXU(Pe.V),e.rXU(At.ex))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-added-app"]],viewQuery:function(a,n){if(1&a&&(e.GBs(wf,5),e.GBs(Of,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.disputeBeneficiaryComponent=i.first),e.mGM(i=e.lsd())&&(n.disputeRemitterComponent=i.first)}},inputs:{inputData:"inputData"},decls:8,vars:6,consts:[["bdColor","rgba(0, 0, 0, 0.6)","size","medium","color","#fff","type","timer",3,"fullScreen"],[2,"color","white"],[4,"ngIf"],[1,"recon-upi-container"],[1,"header-content"],[1,"header-title"],[1,"title"],[1,"title-desc"],[1,"btn-content"],["matTooltip","Setup data configuration","matTooltipPosition","above","type","button",3,"click",4,"ngIf"],["matTooltip","Setup recon configuration","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],["matTooltip","Upload all files from the specified server","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],["matTooltip","Click to select date for generate Voucher","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],["matTooltipPosition","above","type","button",3,"matTooltip","ngClass","disabled","click",4,"ngIf"],["matTooltip","Click to select date for generate Recon Summary","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],["matTooltip","Click to select date for generate TTUMs","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],["matTooltip","Click to select date for generate NPCI files","matTooltipPosition","above","class","data-model-btn",3,"click",4,"ngIf"],[1,"main-mat-groups"],[1,"tabs"],["mat-stretch-tabs","false","mat-align-tabs","start",3,"selectedTabChange"],["label","Data configuration",4,"ngIf"],["label","Recon configuration",4,"ngIf"],["label","Account details",4,"ngIf"],["label","Upload",4,"ngIf"],["label","Data collection status",4,"ngIf"],["label","Data collection summary",4,"ngIf"],["label","Voucher",4,"ngIf"],["label","Reconciliation process",4,"ngIf"],["label","Recon summary",4,"ngIf"],["label","Reports",4,"ngIf"],["label","TTUM",4,"ngIf"],["label","Force match",4,"ngIf"],["label","Transaction search",4,"ngIf"],["label","Rollback",4,"ngIf"],["label","NPCI uploaded file",4,"ngIf"],["class","display-tab1",4,"ngIf"],["matTooltip","Setup data configuration","matTooltipPosition","above","type","button",3,"click"],["matTooltip","Setup recon configuration","matTooltipPosition","above",1,"data-model-btn",3,"click"],["matTooltip","Upload all files from the specified server","matTooltipPosition","above",1,"data-model-btn",3,"click"],["matTooltip","Click to select date for generate Voucher","matTooltipPosition","above",1,"data-model-btn",3,"click"],["matTooltipPosition","above","type","button",3,"matTooltip","ngClass","disabled","click"],["matTooltip","Click to select date for generate Recon Summary","matTooltipPosition","above",1,"data-model-btn",3,"click"],["matTooltip","Click to select date for generate TTUMs","matTooltipPosition","above",1,"data-model-btn",3,"click"],["matTooltip","Click to select date for generate NPCI files","matTooltipPosition","above",1,"data-model-btn",3,"click"],["label","Data configuration"],["tabId","data-configuration",3,"parentButtonValue","activeTabId"],["label","Recon configuration"],["label","Account details"],["tabId","account-details",3,"activeTabId"],["label","Upload"],["tabId","upload",3,"activeTabId"],["label","Data collection status"],["tabId","data-collection-status",3,"activeTabId"],["label","Data collection summary"],["tabId","data-collection-summary",3,"activeTabId"],["label","Voucher"],["tabId","voucher",3,"activeTabId"],["label","Reconciliation process"],["tabId","reconciliation-process",3,"activeTabId"],["label","Recon summary"],["tabId","recon-summary",3,"activeTabId"],["label","Reports"],["tabId","reports",3,"activeTabId"],["label","TTUM"],["tabId","ttum",3,"activeTabId"],["label","Force match"],["tabId","force-match",3,"activeTabId"],["label","Transaction search"],["tabId","transaction-search",3,"activeTabId"],["label","Rollback"],["tabId","rollback",3,"activeTabId"],["label","NPCI uploaded file"],["tabId","npci-uploaded-file",3,"activeTabId"],[1,"display-tab1"],[4,"ngIf","ngIfElse"],["recCon",""],["tabgroup",""],["id","label2","label","Remitter"],["disputeRemitterComponent",""],["id","label1","label","Beneficiary"],["disputeBeneficiaryComponent",""],["id","label3","label","Transaction search"],["TransactionAuditComponent",""],["type","button",3,"click",4,"ngIf"],["class","data-model-btn",3,"click",4,"ngIf"],["type","button",3,"ngClass","disabled","click",4,"ngIf"],["id","label29","label","Overage shortage portal ",4,"ngIf"],["id","label1","label","Data configuration",4,"ngIf"],["id","label2","label","Recon configuration",4,"ngIf"],["id","label3","label","Upload",4,"ngIf"],["id","label4","label","Data collection status",4,"ngIf"],["id","label5","label","ATM Reconcilation",4,"ngIf"],["id","label6","label","Reconciliation process",4,"ngIf"],["id","label7","label","CBR file operation",4,"ngIf"],["id","label8","label","ATM reports",4,"ngIf"],["id","label14","label","Pro Active Transaction Portal",4,"ngIf"],["id","label15","label","Chargeback Module",4,"ngIf"],["id","label16","label","Pre arbitration",4,"ngIf"],["id","label17","label","Arbitration",4,"ngIf"],["id","label18","label","BO-complamints",4,"ngIf"],["id","label19","label","Good faith chb",4,"ngIf"],["id","label20","label","Debit adjustment",4,"ngIf"],["id","label21","label","Dispute Age wise summary report portal",4,"ngIf"],["id","label22","label","TTUM portal",4,"ngIf"],["id","label23","label","Bank Deductions Portal",4,"ngIf"],["id","label24","label","ATM Vendor Email Portal",4,"ngIf"],["id","label25","label","Footage Vendor- Email Portal",4,"ngIf"],["id","label26","label","EJ Vendor- Email Portal",4,"ngIf"],["id","label27","label","ATM Call lodge- Email Portal",4,"ngIf"],["id","label28","label","Roll Back portal",4,"ngIf"],["id","label30","label","ONUS Dispute portal",4,"ngIf"],["id","label9","label","Tally untally ATM",4,"ngIf"],["id","label10","label","Force match",4,"ngIf"],["id","label11","label","Transaction search",4,"ngIf"],["id","label12","label","Rollback",4,"ngIf"],["id","label13","label","ATM master",4,"ngIf"],["type","button",3,"click"],[1,"data-model-btn",3,"click"],["type","button",3,"ngClass","disabled","click"],["id","label29","label","Overage shortage portal "],["id","label1","label","Data configuration"],[3,"parentButtonValue"],["id","label2","label","Recon configuration"],["id","label3","label","Upload"],["id","label4","label","Data collection status"],["id","label5","label","ATM Reconcilation"],["id","label6","label","Reconciliation process"],["id","label7","label","CBR file operation"],["id","label8","label","ATM reports"],[3,"activeTabId"],["id","label14","label","Pro Active Transaction Portal"],["id","label15","label","Chargeback Module"],["id","label16","label","Pre arbitration"],["id","label17","label","Arbitration"],["id","label18","label","BO-complamints"],["id","label19","label","Good faith chb"],["id","label20","label","Debit adjustment"],["id","label21","label","Dispute Age wise summary report portal"],["id","label22","label","TTUM portal"],["id","label23","label","Bank Deductions Portal"],["id","label24","label","ATM Vendor Email Portal"],["id","label25","label","Footage Vendor- Email Portal"],["id","label26","label","EJ Vendor- Email Portal"],["id","label27","label","ATM Call lodge- Email Portal"],["id","label28","label","Roll Back portal"],["id","label30","label","ONUS Dispute portal"],["id","label9","label","Tally untally ATM"],["tabId","tally-untally-atm",3,"activeTabId"],["id","label10","label","Force match"],["id","label11","label","Transaction search"],["id","label12","label","Rollback"],["id","label13","label","ATM master"],["tabId","atm-master",3,"activeTabId"],["label","Force match v2",3,"disabled"],["label","Account master",4,"ngIf"],["label","Account master"],["tabId","account-master",3,"activeTabId"]],template:function(a,n){1&a&&(e.j41(0,"ngx-spinner",0)(1,"p",1),e.EFF(2,"Loading..."),e.k0s()(),e.DNE(3,nh,36,25,"ng-container",2),e.DNE(4,oh,21,1,"ng-container",2),e.DNE(5,Yh,49,38,"ng-container",2),e.DNE(6,h_,38,26,"ng-container",2),e.DNE(7,Y_,38,26,"ng-container",2)),2&a&&(e.Y8G("fullScreen",!0),e.R7$(3),e.Y8G("ngIf","UPI"===n.selectedProject),e.R7$(1),e.Y8G("ngIf","UPI Dispute"===n.selectedProject),e.R7$(1),e.Y8G("ngIf","ATM"===n.selectedProject),e.R7$(1),e.Y8G("ngIf","IMPS"===n.selectedProject),e.R7$(1),e.Y8G("ngIf","NETC"===n.selectedProject))},dependencies:[g.YU,g.bT,Ne.mq,Ne.T8,mt.PW,ke.oV,At.et,Oi,ki,yn,to,xn,Qi,kl,Il,Nl,Yl,ql,oc,dc,Hc,hd,bd,vd,Ed,dp,Ap,$o,Sm,km,jm,Um,zm,uu,Du,ku,Vu,Ju,ag,ug,xg,Sg,kg,Bg,qg,ef,cf,_f,Cf,Pf],styles:[".recon-upi-container[_ngcontent-%COMP%]{padding:30px 45px;overflow:hidden}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ccc;padding-bottom:10px;margin-bottom:20px}.header-title.title[_ngcontent-%COMP%]{font-size:30px;font-weight:500;margin:20px 0 8px}h2.title[_ngcontent-%COMP%]{font-size:28px;font-weight:500;margin:20px 0 8px}span.title-desc[_ngcontent-%COMP%]{font-size:18px}button[_ngcontent-%COMP%]{padding:10px 35px;background-color:#9977fb;color:#fff;border:none;outline:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;margin-top:40px}.main-mat-groups[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab-labels{display:flex;border-bottom:1px solid #ccc}.main-mat-groups[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]     .mat-mdc-tab.mdc-tab{flex-grow:0;border-right:1px solid #ccc}.disabled-button[_ngcontent-%COMP%]{background-color:#ccc;color:#666}"]})}}return o})()},{path:"added-app/recon-config",component:yn}];let X_=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[b.iI.forChild(z_),b.iI]})}}return o})();var q_=P(8962),Uo=P(2920);function L_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon model name is required. "),e.k0s())}function H_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon model name must be at least 3 characters long. "),e.k0s())}function J_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon model name must be at most 50 characters long. "),e.k0s())}function W_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Recon model name must be alphanumeric. "),e.k0s())}function Z_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description is required. "),e.k0s())}function Q_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description must be at least 10 characters long. "),e.k0s())}function K_(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description must be at most 200 characters long. "),e.k0s())}function e0(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Description must be alphanumeric but can include special characters. "),e.k0s())}const t0=function(o,r){return{file:o,database:r}};function n0(o,r){if(1&o&&(e.j41(0,"div",22)(1,"span",23),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(1),e.Y8G("ngClass",e.l_i(2,t0,"file"===t.datasource_type_name,"database"===t.datasource_type_name)),e.R7$(1),e.SpI(" ",t.datasource_type_name," ")}}function o0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Url"),e.k0s())}function a0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Authentication required"),e.k0s())}function i0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Username"),e.k0s())}function r0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Password"),e.k0s())}function s0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Host Port"),e.k0s())}function l0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Database name"),e.k0s())}function c0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Username"),e.k0s())}function d0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Password"),e.k0s())}function p0(o,r){1&o&&(e.j41(0,"p"),e.EFF(1,"Certificate"),e.k0s())}function m0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_1)}}function u0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_2)}}function g0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_4)}}function f0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_5)}}function h0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_1)}}function _0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_2)}}function C0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_3)}}function b0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_4)}}function x0(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.JRh(t.datasource_value_5)}}function y0(o,r){if(1&o&&(e.j41(0,"div",34)(1,"span"),e.EFF(2),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.datasource_field_name)}}function D0(o,r){if(1&o&&(e.j41(0,"div",31)(1,"div",32)(2,"span"),e.EFF(3,"Field name"),e.k0s()(),e.DNE(4,y0,3,1,"div",33),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(4),e.Y8G("ngForOf",t.source_fields)}}function v0(o,r){1&o&&(e.j41(0,"div",35),e.EFF(1,"No fields defined"),e.k0s())}function F0(o,r){if(1&o&&(e.j41(0,"div",24)(1,"span",25),e.EFF(2),e.k0s(),e.j41(3,"div",26)(4,"div",27),e.DNE(5,o0,2,0,"p",6),e.DNE(6,a0,2,0,"p",6),e.DNE(7,i0,2,0,"p",6),e.DNE(8,r0,2,0,"p",6),e.DNE(9,s0,2,0,"p",6),e.DNE(10,l0,2,0,"p",6),e.DNE(11,c0,2,0,"p",6),e.DNE(12,d0,2,0,"p",6),e.DNE(13,p0,2,0,"p",6),e.k0s(),e.j41(14,"div",28),e.DNE(15,m0,2,1,"p",6),e.DNE(16,u0,2,1,"p",6),e.DNE(17,g0,2,1,"p",6),e.DNE(18,f0,2,1,"p",6),e.DNE(19,h0,2,1,"p",6),e.DNE(20,_0,2,1,"p",6),e.DNE(21,C0,2,1,"p",6),e.DNE(22,b0,2,1,"p",6),e.DNE(23,x0,2,1,"p",6),e.k0s()(),e.DNE(24,D0,5,1,"div",29),e.DNE(25,v0,2,0,"div",30),e.k0s()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.datasource_name),e.R7$(3),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(2),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","file"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf","database"===t.datasource_type_name),e.R7$(1),e.Y8G("ngIf",t.source_fields&&t.source_fields.length>0),e.R7$(1),e.Y8G("ngIf",t.source_fields&&0==t.source_fields.length)}}function M0(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-accordion",12)(1,"div",13)(2,"mat-expansion-panel",14),e.bIt("opened",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.panelOpenState=!0)})("closed",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.panelOpenState=!1)})("click",function(){const n=e.eBV(t),i=n.$implicit,s=n.index,l=e.XpG();return e.Njj(l.onReconAccordionSelected(i,s))}),e.j41(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"span",15),e.EFF(6),e.k0s(),e.nrm(7,"br"),e.j41(8,"div",16)(9,"div",17)(10,"span",18),e.EFF(11),e.k0s(),e.j41(12,"div",19),e.DNE(13,n0,3,5,"div",20),e.k0s()()()()(),e.DNE(14,F0,26,21,"div",21),e.k0s()()()}if(2&o){const t=r.$implicit,a=r.index,n=e.XpG();e.R7$(2),e.AVh("opened-panel",n.panelOpenState)("highlighted-accordion",n.selectedIndex===a),e.R7$(4),e.JRh(t.data_model_name),e.R7$(5),e.JRh(t.data_model_description),e.R7$(2),e.Y8G("ngForOf",t.Datasources),e.R7$(1),e.Y8G("ngForOf",t.Datasources)}}let S0=(()=>{class o{constructor(t,a,n,i,s){this.formBuilder=t,this.notify=a,this.dialog=n,this.urmService=i,this.spinnerService=s,this.TabChnage=new e.bkB,this.DataSourceCountChange=new e.bkB,this.callFunctionTab=new e.bkB,this.selectedIndex=-1,this.selectedAccordionIndex=-1,this.panelOpenState=!1,this.expandUploads=!1,this.displayForm=!0,this.showError=!1,this.updateData=!1,this.dataForm=this.formBuilder.group({model_name:["",p.k0.required],desc:["",p.k0.required],accordionSections:this.formBuilder.array([])})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.datamodelId=localStorage.getItem("data_model_id"),this.tenantId=localStorage.getItem("tenant_id"),this.getDataConfigByProjectId(),"edit"==this.fetchData?.formFor?(console.log("inside edit if"),this.dataForm.patchValue({model_name:this.fetchData.recon_config_name,desc:this.fetchData.recon_description})):console.log("inside edit else")}isFormDirty(){return!this.isEqual(this.dataForm.value,this.initialFormValues)}isEqual(t,a){return JSON.stringify(t)===JSON.stringify(a)}onReconAccordionSelected(t,a){console.log("selected data:",t),this.selectedIndex=a,console.log("selected index",this.selectedIndex),this.reconModelId=t.data_model_id,this.dataSourceId=t.datasource_id,console.log("Selected Recon Model ID:",this.reconModelId),this.selectedAccordionIndex=t.data_model_id}submitData(){this.displayForm=!1,console.log("Click on selectedModel",this.dataForm);const t=this.dataForm.value;let a={};const n=this.dialog.open(y.T,{height:"55vh",width:"35%"});if("edit"!=this.fetchData?.formFor)console.log("Inside create recon model.."),a={recon_model_name:t.model_name,recon_description:t.desc,data_model_id:this.datamodelId},this.urmService.createReconModel({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},a).then(s=>{console.log("createReconModel response",s),s&&200===s.statusCode||201===s.statusCode?(this.notify.showSuccessToast("Recon model created successfully!!","Close"),n.close()):(this.notify.showErrorToast("Recon model creation failed!!","Close"),n.close()),this.AddReconData=s.data[0],this.recon_config_id=this.AddReconData.recon_config_id,localStorage.setItem("recon_config_id",this.recon_config_id),this.TabChnage.emit({data:this.AddReconData,value:1})}).catch(s=>{console.log("Error",s),n.close()});else if(this.dataForm.dirty){let s=localStorage.getItem("recon_config_id");console.log("inside edit if"),a={recon_model_name:this.dataForm.value.model_name,recon_description:this.dataForm.value.desc,data_model_id:this.datamodelId},this.urmService.UpdateReconModel({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,recon_model_id:s},a).then(c=>{console.log("UpdateReconModel response r-c-step1",c),c&&200===c.statusCode?(this.notify.showSuccessToast("Recon model updated successfully!!","Close"),n.close()):(this.notify.showErrorToast("Recon model updation failed!!","Close"),n.close()),this.AddReconData=c.data[0],this.dataToExport={...this.AddReconData,formFor:"edit"},this.recon_config_id=this.AddReconData.recon_config_id,localStorage.setItem("recon_config_id",this.recon_config_id),this.TabChnage.emit({data:this.dataToExport,value:1})}).catch(c=>{console.log("Error",c),n.close()})}else console.log("no changes made"),n.close(),this.TabChnage.emit({data:this.dataToExport,value:1})}getDataConfigByProjectId(){this.spinnerService.show(),this.urmService.getDataConfigByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getDataConfigByProjectId response r-c-step1",a),a&&200===a.statusCode?(this.reconConfigData=a.data,console.log("tis.recin",this.reconConfigData[0].Datasources),this.spinnerService.hide()):(this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide())}).catch(a=>{console.log("Error while getting recon config data",a),this.spinnerService.hide()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(Pe.V),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-config-step1"]],inputs:{childButtonValue:"childButtonValue",fetchData:"fetchData"},outputs:{TabChnage:"TabChnage",DataSourceCountChange:"DataSourceCountChange",callFunctionTab:"callFunctionTab"},decls:27,vars:11,consts:[[1,"container-step1"],[2,"padding-top","20px"],[3,"formGroup","ngSubmit"],[1,"create-model-content"],["appearance","outline",1,"project-input"],["matInput","","formControlName","model_name"],[4,"ngIf"],["matInput","","formControlName","desc"],["class","model-accordian",4,"ngFor","ngForOf"],[1,"create_btns"],[1,"_btncancel"],["type","submit",1,"_btnnext",3,"disabled"],[1,"model-accordian"],[1,"showData"],[3,"opened","closed","click"],[1,"accord-title"],[1,"flexData"],[1,"desc-content"],[1,"accord-desc"],[1,"chip-data"],["class","chips",4,"ngFor","ngForOf"],["class","DataModel",4,"ngFor","ngForOf"],[1,"chips"],[3,"ngClass"],[1,"DataModel"],[1,"Sourcename"],["fxLayout","row"],["fxFlex","20",1,"keys",2,"font-weight","500"],["fxFlex","80",1,"values"],["class","display-fields-content",4,"ngIf"],["class","NoFields",4,"ngIf"],[1,"display-fields-content"],[1,"title"],["class","fields",4,"ngFor","ngForOf"],[1,"fields"],[1,"NoFields"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Create recon model"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return n.submitData()}),e.j41(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e.EFF(7,"Enter recon model name"),e.k0s(),e.nrm(8,"input",5),e.DNE(9,L_,2,0,"mat-error",6),e.DNE(10,H_,2,0,"mat-error",6),e.DNE(11,J_,2,0,"mat-error",6),e.DNE(12,W_,2,0,"mat-error",6),e.k0s(),e.j41(13,"mat-form-field",4)(14,"mat-label"),e.EFF(15,"Description"),e.k0s(),e.nrm(16,"input",7),e.DNE(17,Z_,2,0,"mat-error",6),e.DNE(18,Q_,2,0,"mat-error",6),e.DNE(19,K_,2,0,"mat-error",6),e.DNE(20,e0,2,0,"mat-error",6),e.k0s()(),e.DNE(21,M0,15,8,"mat-accordion",8),e.j41(22,"div",9)(23,"button",10),e.EFF(24,"Cancel"),e.k0s(),e.j41(25,"button",11),e.EFF(26,"Next"),e.k0s()()()()),2&a){let i,s,l,c,d,m,E,U;e.R7$(3),e.Y8G("formGroup",n.dataForm),e.R7$(6),e.Y8G("ngIf",null==(i=n.dataForm.get("model_name"))?null:i.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(s=n.dataForm.get("model_name"))?null:s.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(l=n.dataForm.get("model_name"))?null:l.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(c=n.dataForm.get("model_name"))?null:c.hasError("pattern")),e.R7$(5),e.Y8G("ngIf",null==(d=n.dataForm.get("desc"))?null:d.hasError("required")),e.R7$(1),e.Y8G("ngIf",null==(m=n.dataForm.get("desc"))?null:m.hasError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(E=n.dataForm.get("desc"))?null:E.hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",null==(U=n.dataForm.get("desc"))?null:U.hasError("pattern")),e.R7$(1),e.Y8G("ngForOf",n.reconConfigData),e.R7$(4),e.Y8G("disabled",!n.dataForm.valid)}},dependencies:[g.YU,g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,j.rl,j.nJ,j.TL,ue.fg,Be.BS,Be.GK,Be.Z2,Be.WN,Uo.DJ,Uo.UI,mt.PW],styles:[".container-step1[_ngcontent-%COMP%]{width:44.7%}.container-step1[_ngcontent-%COMP%]   .create-model-content[_ngcontent-%COMP%]{margin-top:3%;display:grid;width:99%}.container-step1[_ngcontent-%COMP%]   .create-model-content[_ngcontent-%COMP%]     .mat-mdc-form-field{width:41vw}.container-step1[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not([class*=mat-elevation-z]){border:1px solid rgb(224,227,232);box-shadow:none}.container-step1[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]{border-radius:10px}.container-step1[_ngcontent-%COMP%]   .mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0 12px!important;margin:1em}.container-step1[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]:not([aria-disabled=true]){cursor:pointer;height:4rem!important}.container-step1[_ngcontent-%COMP%]   .opened-panel[_ngcontent-%COMP%]{border:2px solid #AF8EE6!important}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .accord-title[_ngcontent-%COMP%]{width:30%;padding:5px 20px;font-size:18px;font-weight:500;background:#E4D4FF;border-radius:25px;text-align:center}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .accord-desc[_ngcontent-%COMP%]{margin-left:20px;font-size:18px;font-weight:400;color:gray}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .Sourcename[_ngcontent-%COMP%]{background:#E4D4FF;display:block;width:20%;text-align:center;padding:5px 0;border-radius:15px;margin:1em 0 0 1.5em}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .display-fields-content[_ngcontent-%COMP%]{border:1px solid #E6E6E6;border-bottom:none;border-radius:10px 10px 0 0;min-width:10%;width:22%;margin:1em}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .display-fields-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border-bottom:1px solid #E6E6E6;border-radius:10px 10px 0 0;padding:10px;background:#E6E6E6}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .display-fields-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .display-fields-content[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #E6E6E6}.container-step1[_ngcontent-%COMP%]   .showData[_ngcontent-%COMP%]   .DataModel[_ngcontent-%COMP%]   .NoFields[_ngcontent-%COMP%]{color:gray;font-size:20px;margin:1em 0 0 1.5em}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})();const P0=["mySelect"];function w0(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Mapping type is required "),e.k0s())}function O0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function T0(o,r){if(1&o&&(e.j41(0,"span",30),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.JRh(t.SourceNameCombination1)}}function k0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function E0(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data source is required "),e.k0s())}function I0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function R0(o,r){1&o&&(e.j41(0,"span",36),e.EFF(1,"open_in_full"),e.k0s())}function A0(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"mat-form-field",32)(3,"mat-select",33),e.bIt("selectionChange",function(n){const s=e.eBV(t).index,l=e.XpG(3);return e.Njj(l.onselectField(n,l.selectedDataSources[0],s))}),e.DNE(4,I0,2,2,"mat-option",6),e.k0s()(),e.j41(5,"div",34),e.DNE(6,R0,2,0,"span",35),e.k0s()(),e.bVm()}if(2&o){const t=r.index,a=e.XpG(3);e.R7$(4),e.Y8G("ngForOf",a.selectedDataSources[0].fields),e.R7$(2),e.Y8G("ngIf",t<a.selectedDataSources[0].fields.length)}}function j0(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,A0,7,2,"ng-container",21),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.selectedDataSources[0].fields)}}function N0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function B0(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data source is required "),e.k0s())}function G0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",null==t?null:t.name," ")}}function V0(o,r){1&o&&(e.j41(0,"span",36),e.EFF(1,"open_in_full"),e.k0s())}function $0(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",31)(2,"mat-form-field",32)(3,"mat-select",33),e.bIt("selectionChange",function(n){const s=e.eBV(t).index,l=e.XpG(3);return e.Njj(l.onselectField(n,l.selectedDataSources[1],s))}),e.DNE(4,G0,2,2,"mat-option",6),e.k0s()(),e.j41(5,"div",34),e.DNE(6,V0,2,0,"span",35),e.k0s()(),e.bVm()}if(2&o){const t=r.index,a=e.XpG(3);e.R7$(4),e.Y8G("ngForOf",a.selectedDataSources[1].fields),e.R7$(2),e.Y8G("ngIf",t<a.selectedDataSources[0].fields.length)}}function U0(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,$0,7,2,"ng-container",21),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.selectedDataSources[1].fields)}}function Y0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",t.name," ")}}function z0(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Data source is required "),e.k0s())}function X0(o,r){if(1&o){const t=e.RV6();e.j41(0,"mat-form-field",14)(1,"mat-select",38),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG(3);return e.Njj(i.onFieldSelection(n,"newField"))}),e.DNE(2,Y0,2,2,"mat-option",6),e.k0s(),e.DNE(3,z0,2,0,"mat-error",0),e.k0s()}if(2&o){const t=e.XpG(3);let a;e.R7$(2),e.Y8G("ngForOf",t.dataOfDataSources),e.R7$(1),e.Y8G("ngIf",(null==(a=t.fieldForm.get("newField"))?null:a.hasError("required"))&&(null==(a=t.fieldForm.get("newField"))?null:a.touched))}}function q0(o,r){if(1&o&&(e.qex(0),e.DNE(1,X0,4,2,"mat-form-field",37),e.bVm()),2&o){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf",t)}}function L0(o,r){if(1&o&&(e.j41(0,"mat-option",29),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t),e.R7$(1),e.SpI(" ",null==t?null:t.name," ")}}function H0(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"mat-form-field",39)(2,"mat-select",33),e.bIt("selectionChange",function(n){const s=e.eBV(t).index,l=e.XpG(2).$implicit,c=e.XpG(2);return e.Njj(c.onselectField(n,l,s))}),e.DNE(3,L0,2,2,"mat-option",6),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG(4);e.R7$(3),e.Y8G("ngForOf",t.selectedFileds)}}function J0(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,H0,4,1,"ng-container",21),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.fields)}}function W0(o,r){if(1&o&&(e.qex(0),e.DNE(1,J0,2,1,"div",0),e.bVm()),2&o){const t=r.$implicit;e.R7$(1),e.Y8G("ngIf","newField"===t.formControlName)}}function Z0(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",52),e.EFF(2),e.k0s(),e.bVm()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t)}}function Q0(o,r){if(1&o&&(e.j41(0,"span",53),e.EFF(1,"open_in_full"),e.k0s()),2&o){const t=e.XpG().last;e.AVh("Nestlast",t)}}function K0(o,r){if(1&o&&(e.qex(0),e.j41(1,"div",46)(2,"div",47)(3,"span",48),e.EFF(4),e.k0s()(),e.j41(5,"div",49),e.DNE(6,Z0,3,1,"ng-container",21),e.k0s()(),e.j41(7,"div",50),e.DNE(8,Q0,2,2,"span",51),e.k0s(),e.bVm()),2&o){const t=r.$implicit,a=e.XpG().$implicit;e.R7$(4),e.JRh(t),e.R7$(2),e.Y8G("ngForOf",a.groupedData[t]),e.R7$(2),e.Y8G("ngForOf",a.groupedData[t])}}function e1(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",41)(2,"div",42)(3,"span",43),e.EFF(4),e.k0s(),e.j41(5,"span",44),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.removeAddedField(i))}),e.EFF(6,"delete"),e.k0s(),e.j41(7,"div",45),e.DNE(8,K0,9,3,"ng-container",21),e.k0s()()()()}if(2&o){const t=r.$implicit,a=e.XpG(3);e.R7$(4),e.JRh(t.SourceNameCombination2),e.R7$(4),e.Y8G("ngForOf",a.getGroupedDataKeys(t.groupedData))}}function t1(o,r){if(1&o&&(e.j41(0,"div",40),e.DNE(1,e1,9,2,"div",21),e.k0s()),2&o){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.combinationDataArray)}}function n1(o,r){1&o&&(e.j41(0,"button",54),e.EFF(1,"Next"),e.k0s())}function o1(o,r){1&o&&(e.j41(0,"button",54),e.EFF(1,"Update"),e.k0s())}function a1(o,r){if(1&o){const t=e.RV6();e.j41(0,"div")(1,"div",1)(2,"form",2)(3,"h2"),e.EFF(4,"Map fields for recon"),e.k0s(),e.j41(5,"div",3),e.DNE(6,w0,2,0,"mat-error",0),e.j41(7,"mat-form-field",4)(8,"mat-label"),e.EFF(9,"Mapping type"),e.k0s(),e.j41(10,"mat-select",5),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedMappingType(n.value))}),e.DNE(11,O0,2,2,"mat-option",6),e.k0s()()()(),e.DNE(12,T0,2,1,"span",7),e.j41(13,"form",8),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.submitData())}),e.j41(14,"div",9)(15,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createFieldMappingCombination())}),e.EFF(16," Add recon combination "),e.k0s(),e.j41(17,"div",11)(18,"div",12)(19,"div",13)(20,"mat-form-field",14,15)(22,"mat-select",16),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onFieldSelection(n,"combine_field1"))}),e.DNE(23,k0,2,2,"mat-option",6),e.k0s(),e.DNE(24,E0,2,0,"mat-error",0),e.k0s(),e.DNE(25,j0,2,1,"div",0),e.k0s(),e.j41(26,"div",17)(27,"mat-form-field",18)(28,"mat-select",19),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onFieldSelection(n,"combine_field2"))}),e.DNE(29,N0,2,2,"mat-option",6),e.k0s(),e.DNE(30,B0,2,0,"mat-error",0),e.k0s(),e.DNE(31,U0,2,1,"div",0),e.k0s(),e.j41(32,"div",20),e.DNE(33,q0,2,1,"ng-container",21),e.j41(34,"div",22),e.DNE(35,W0,2,1,"ng-container",21),e.k0s()(),e.j41(36,"div",23)(37,"span",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addDropdown())}),e.EFF(38,"add_circle"),e.k0s()()()()(),e.DNE(39,t1,2,1,"div",25),e.j41(40,"div",26)(41,"button",27),e.EFF(42,"Cancel"),e.k0s(),e.DNE(43,n1,2,0,"button",28),e.DNE(44,o1,2,0,"button",28),e.k0s()()()()}if(2&o){const t=e.XpG();let a,n,i,s;e.R7$(2),e.Y8G("formGroup",t.fieldForm),e.R7$(4),e.Y8G("ngIf",(null==(a=t.fieldForm.get("recon_mapping_type"))?null:a.hasError("required"))&&(null==(a=t.fieldForm.get("recon_mapping_type"))?null:a.touched)),e.R7$(5),e.Y8G("ngForOf",t.reconMappingType),e.R7$(1),e.Y8G("ngIf",t.source_selected),e.R7$(1),e.Y8G("formGroup",t.fieldForm),e.R7$(2),e.Y8G("disabled",!(null!=(n=t.fieldForm.get("combine_field1"))&&n.value||null!=(n=t.fieldForm.get("combine_field2"))&&n.value)),e.R7$(8),e.Y8G("ngForOf",t.dataOfDataSources),e.R7$(1),e.Y8G("ngIf",(null==(i=t.fieldForm.get("combine_field1"))?null:i.hasError("required"))&&(null==(i=t.fieldForm.get("combine_field1"))?null:i.touched)),e.R7$(1),e.Y8G("ngIf",t.isDataSourceSelected(0)),e.R7$(4),e.Y8G("ngForOf",t.dataOfDataSources),e.R7$(1),e.Y8G("ngIf",(null==(s=t.fieldForm.get("combine_field1"))?null:s.hasError("required"))&&(null==(s=t.fieldForm.get("combine_field1"))?null:s.touched)),e.R7$(1),e.Y8G("ngIf",t.isDataSourceSelected(1)),e.R7$(2),e.Y8G("ngForOf",t.isDropdownOpen),e.R7$(2),e.Y8G("ngForOf",t.selectedDataSources),e.R7$(4),e.Y8G("ngIf",t.fetchedDislayBox),e.R7$(4),e.Y8G("ngIf",!t.dataChanged),e.R7$(1),e.Y8G("ngIf",t.dataChanged)}}function i1(o,r){if(1&o&&(e.j41(0,"div"),e.nrm(1,"app-display-recon-configure",55),e.k0s()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("showDataInput",t.showData)}}let r1=(()=>{class o{constructor(t,a,n,i,s){this.formBuilder=t,this.notify=a,this.dialog=n,this.urmService=i,this.spinnerService=s,this.TabChnage=new e.bkB,this.AddReconDataEmitter=new e.bkB,this.updateDSConfig=new e.bkB,this.callFunctionTabThree=new e.bkB,this.selectedDataSources=[],this.fieldsWithValues=[],this.datasource=[],this.selectedFieldsSource1=[],this.selectedFieldsSource2=[],this.newField=[],this.fieldMapping=[],this.fieldMappingDisplay=[],this.accordionItems=[],this.reconConfigData=[],this.selectedDataSourceNames=[],this.isDropdownOpen=[],this.source_selected=!1,this.displayReconConfigure=!1,this.dislayBox=!1,this.fetchedDislayBox=!1,this.groupedData={},this.arrayToDisplay=[],this.showData=!1,this.dataChanged=!1,this.combinationDataArray=[],this.reconMappingType=[{name:"Custom",value:"custom"},{name:"Regular",value:"regular"}],this.fieldForm=this.formBuilder.group({recon_mapping_type:["",p.k0.required],combine_field1:["",p.k0.required],combine_field2:["",p.k0.required],newField:this.formBuilder.array([])})}ngOnChanges(t){console.log("inside on changes"),t.triggerFunction&&console.log("ngOnChanges triggerFunction ==> ",this.triggerFunction)}ngOnInit(){this.recon_config_id=localStorage.getItem("recon_config_id"),this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.datamodelId=localStorage.getItem("data_model_id"),this.tenantId=localStorage.getItem("tenant_id"),console.log("-----------------",this.fetchData2),this.arrayToDisplay.push(this.fetchData2),console.log("input data in 2nd compoent:",this.fetchData2),this.getReconConfigureData(),this.getDataConfigByProjectId()}selectedMappingType(t){console.log("selectedMappingType value",t),this.recon_combination_type=t}getReconConfigureData(){this.spinnerService.show(),this.urmService.getAllReconConfigData({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{const n=a;if(console.log("getAllConfigureData config data:",n),this.arrayToDisplay=n.data,console.log("array to display:",this.arrayToDisplay),this.combinationDataArray=[],0!==this.arrayToDisplay.length){console.log("inside if"),this.fetchedDislayBox=!0;for(let i=0;i<this.arrayToDisplay.length;i++){console.log("inside outer loop");const s=this.arrayToDisplay[i].fieldMapping.combination;console.log("combinations---\x3e",s);for(let l=0;l<s.length;l++){console.log("inside inner loop");const d=s[l].field_mapping,U={datasources:s[l].datasource,recon_combination_id:s[l].recon_combination_id,SourceNameCombination2:s[l].combination_desc,groupedData:{}};for(let ie=0;ie<d.length;ie++){const K=d[ie];for(let oe=0;oe<K.length;oe++){const{datasource_name:de,field_name:De}=K[oe];U.groupedData[de]||(U.groupedData[de]=[]),U.groupedData[de].push(De)}}this.combinationDataArray.push(U)}console.log("combinationDataArray:",this.combinationDataArray),this.spinnerService.hide()}}else console.log("Fetch data is blank"),this.spinnerService.hide()},a=>{console.error("Error fetching data:",a),this.spinnerService.hide()})}removeAddedField(t){this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});console.log("Combination to remove ==>",t),console.log("this.combinationDataArray",this.combinationDataArray),this.reconCombId=t.recon_combination_id;const s=this.combinationDataArray.indexOf(t);-1!==s&&(this.combinationDataArray.splice(s,1),console.log("removed ==>",this.combinationDataArray),this.urmService.deleteFieldMapping({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,recon_combination_id:this.reconCombId},t).then(c=>{200===c.statusCode||204===c.statusCode?(i.close(),this.dataChanged=!0,this.getReconConfigureData()):(this.notify.showErrorToast(c.errorMessage,"Close"),i.close())}).catch(c=>{console.log("err",c),this.notify.showErrorToast(c.error.message,"Close"),i.close()}))}})}removeAddedField1(t){console.log("Combination to remove in removeAddedField1 ==>",t);const a=this.combinationDataArray.indexOf(t);-1!==a&&(this.combinationDataArray.splice(a,1),console.log("removed ==>",this.combinationDataArray),this.dataChanged=!0)}getGroupedDataKeys(t){return Object.keys(t)}getDataConfigByProjectId(){this.urmService.getDataConfigByProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(a=>{console.log("getDataConfigByProjectId response r-c-step2",a),a&&200===a.statusCode?(this.reconConfigData=a.data||[],this.dataOfDataSources=this.reconConfigData.flatMap(n=>n.Datasources.map(i=>({name:i.datasource_name,id:i.datasource_id,fields:i.source_fields})))):this.notify.showErrorToast(a.errorMessage,"Close"),console.log("Extracted data:",this.dataOfDataSources)}).catch(function(a){console.log("Error while getting recon config data",a)})}onFieldSelection(t,a){this.source_selected=!0;const n=t.value;console.log("selected data source:",n),this.selectedDataSourceName=n.name;const i=this.selectedDataSources.findIndex(d=>d.formControlName===a);-1!==i?(this.selectedDataSourceNames[i]=this.selectedDataSourceName,this.datasource[i]=n.id):(this.selectedDataSourceNames.push(this.selectedDataSourceName),this.datasource.push(n.id)),this.SourceNameCombination1=this.selectedDataSourceNames.join(" v/s "),this.selectedDatasourceId=n.id,console.log("Form before accessing controls:",this.fieldForm);const s=this.fieldForm.get("newField");console.log("newField group:",s),console.log("this.datasource",this.datasource),-1!==i&&this.selectedDataSources.splice(i,1);const l=n.fields.map(d=>({name:d.datasource_field_name,id:d.datasource_field_id,datasource_name:n.name,values:d}));console.log("fields with",l),this.fieldsWithValues=this.fieldsWithValues.concat(l),console.log("fieldsWithValues",this.fieldsWithValues),this.selectedDataSources.push({formControlName:a,fields:l,name:n.name,id:n.id}),console.log("selected data source for field:",this.selectedDataSources);const c=this.selectedDataSources.find(d=>d.formControlName===a)?.fields||[];this.selectedFileds=[...c],console.log("Current:",this.selectedFileds)}onselectField(t,a,n){console.log("Inside field selection, data source:",a);const i=t.value;console.log("Selected Source:",i);const s=a.id||(a.fields.length>0?a.fields[0].values.datasource_id:null),l=a.name;console.log("Source ID:",s);const c={source_id:s,datasource_name:l,field_name:i.name,field_id:i.id};a.selectedFields||(a.selectedFields=[]),a.selectedFields[n]=c,console.log("Updated Selected Fields:",a.selectedFields),"combine_field1"===a.formControlName?this.selectedFieldsSource1=a.selectedFields:"combine_field2"===a.formControlName?this.selectedFieldsSource2=a.selectedFields:"newField"===a.formControlName&&(this.newField=a.selectedFields)}isSelectedSource(t,a){const n=this.fieldForm.get("newField.combine_field")?.value;return n&&n.formControlName===t}addNewField(t){this.newField.push(t)}addSwitchField(){const t=this.createDataSourceFormGroup();this.newFieldArray.push(t)}createFieldMappingCombination(){if(this.selectedFieldsSource1.length>0&&this.selectedFieldsSource2.length>0||this.newField.length>0){let t=this.selectedFieldsSource1,a=this.selectedFieldsSource2,n=this.newField;if(console.log("new Field",n),this.groupedData={},t.length>0&&a.length>0){const c=Math.min(t.length,a.length),d=n&&n.length>=c;console.log("newFieldAvailable",d);const m=[];for(let oe=0;oe<c;oe++){const de=t[oe],De=a[oe],ce=[{source_id:de.source_id,datasource_name:de.datasource_name,field_id:de.field_id,field_name:de.field_name},{source_id:De.source_id,datasource_name:De.datasource_name,field_id:De.field_id,field_name:De.field_name}];d&&ce.push({source_id:n[oe].source_id,datasource_name:n[oe].datasource_name,field_id:n[oe].field_id,field_name:n[oe].field_name}),m.push(ce)}const E=[];(()=>{const oe=m[0].length;for(let de=0;de<oe;de++){const De=[];m.forEach(ce=>{const me=ce[de];De.push({source_id:me.source_id,datasource_name:me.datasource_name,field_id:me.field_id,field_name:me.field_name})}),E.push(De)}})(),console.log("arrayOfObjects:",E),this.SourceNameCombination=this.selectedDataSourceNames.join(" v/s ");const ie={combination_desc:this.SourceNameCombination,datasource:this.datasource,field_mapping:E},K={combination_desc:this.SourceNameCombination,datasource:this.datasource,field_mapping:m};console.log("COMBINATIONS:",K),this.fieldMapping.push(K),this.fieldMappingDisplay.push(ie),console.log("Field Mapping:",this.fieldMapping),console.log("Display Field Mapping:",this.fieldMappingDisplay)}else console.log("Please select at least one field from each data source.");console.log("Source 1 Fields:",t),console.log("Source 2 Fields:",a),this.fetchedDislayBox=!1,this.selectedDataSources[1].fields=[],this.selectedFileds=[],this.selectedDataSources[0].fields=[],this.fieldForm.get("combine_field1")?.reset(),this.fieldForm.get("combine_field2")?.reset(),this.fieldForm.get("newField")?.reset(),this.fieldForm.reset(),this.selectedDataSourceNames=[],this.datasource=[],this.resetForm();const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});let s={data_model_id:this.datamodelId,recon_config_id:this.recon_config_id,recon_combination_type:this.recon_combination_type,fieldMapping:{recon_combinations:[...this.fieldMapping]}},l={tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId};console.log("query recon model",l),console.log("DataToSend recon model",s),console.log("fieldForm recon model",this.fieldForm),this.urmService.createFieldMapping(l,s).then(c=>{console.log("createFieldMapping response r-c-step3",c),c&&200===c.statusCode?(this.notify.showSuccessToast("Fields mapped successfully!!","Close"),this.fieldMapping=[],this.selectedFieldsSource1=[],this.selectedFieldsSource2=[],this.newField=[],this.getReconConfigureData(),i.close(),this.showData=!1):this.notify.showErrorToast(c.errorMessage,"Close")}).catch(c=>{console.log("Error",c),i.close()})}else this.notify.showErrorToast("Please fill required details","Close")}openDropdown(){this.mySelect.open()}toggleDropdown(t){this.isDropdownOpen[t]=!this.isDropdownOpen[t]}addDropdown(){this.isDropdownOpen.push(!0)}get newFieldArray(){return this.fieldForm.get("newField")}createDataSourceFormGroup(){return this.formBuilder.group({combine_field:[""]})}addDataSource(){const t=this.formBuilder.group({combine_field:[""]});this.fieldForm.get("newField").push(t)}isDataSourceSelected(t){return this.selectedDataSources.length>t}getFieldFormControl(t,a){return this.formBuilder.control("")}addAccordionItem(){this.accordionItems.push(!1),this.selectedFieldsSource1=[],this.selectedFieldsSource2=[],this.dataOfDataSources=[],this.getReconConfigureData()}submitData(){this.TabChnage.emit(2),this.updateDSConfig.emit(!0),this.callFunctionTabThree.emit(!0),this.showData=!1}resetForm(){this.fieldForm.reset(),this.selectedDataSources=[],this.selectedFileds=[],this.selectedDataSourceNames=[],this.datasource=[]}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(Pe.V),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-config-step2"]],viewQuery:function(a,n){if(1&a&&e.GBs(P0,5),2&a){let i;e.mGM(i=e.lsd())&&(n.mySelect=i.first)}},inputs:{triggerFunction:"triggerFunction",fetchData2:"fetchData2",triggerTabFunction:"triggerTabFunction"},outputs:{TabChnage:"TabChnage",AddReconDataEmitter:"AddReconDataEmitter",updateDSConfig:"updateDSConfig",callFunctionTabThree:"callFunctionTabThree"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[1,"map-fields"],[3,"formGroup"],[1,"flex-input"],["appearance","outline"],["formControlName","recon_mapping_type","placeholder","Select recon mapping type","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["class","Sourcename",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"createfield"],["type","button",1,"btn",3,"disabled","click"],[1,"add-fields-box"],[1,"sources"],[1,"First-Data"],["appearance","fill",1,"firstSource"],["firstfield",""],["placeholder","Select Data sources*","formControlName","combine_field1",3,"selectionChange"],[1,"Second-Data"],["appearance","fill",1,"secondSource"],["placeholder","Select Data sources*","formControlName","combine_field2",3,"selectionChange"],[1,"added-sources"],[4,"ngFor","ngForOf"],[1,"field-option"],[1,"add-btn"],["matTooltip","Add data source","id","addInput",1,"material-symbols-outlined",3,"click"],["class","show-fields",4,"ngIf"],[1,"create_btns"],[1,"_btncancel"],["class","_btnnext",4,"ngIf"],[3,"value"],[1,"Sourcename"],[1,"datasource1"],["appearance","fill"],["placeholder","Select a field",3,"selectionChange"],[1,"icon1"],["class","material-icons",4,"ngIf"],[1,"material-icons"],["class","firstSource","appearance","fill",4,"ngIf"],["placeholder","Select Data sources*",3,"selectionChange"],["appearance","fill",1,"field-dropdown"],[1,"show-fields"],[1,"show-fields-box"],[1,"combination-box1"],[1,"Sourcename1"],["matTooltip","Remove added fields",1,"material-symbols-outlined",2,"cursor","pointer","color","red","margin-left","13em",3,"click"],[1,"row1"],[1,"source-fields-block"],[1,"headers"],[1,"field-header"],[1,"key"],[1,"flex-icon"],["id","arrow","class","material-icons",3,"Nestlast",4,"ngFor","ngForOf"],[1,"field-name"],["id","arrow",1,"material-icons"],[1,"_btnnext"],[3,"showDataInput"]],template:function(a,n){1&a&&(e.DNE(0,a1,45,17,"div",0),e.DNE(1,i1,2,1,"div",0)),2&a&&(e.Y8G("ngIf",!n.displayReconConfigure),e.R7$(1),e.Y8G("ngIf",n.displayReconConfigure))},dependencies:[g.Sq,g.bT,p.qT,p.BC,p.cb,p.YS,p.j4,p.JD,j.rl,j.nJ,j.TL,_e.VO,he.wT,ke.oV,to],styles:[".map-fields[_ngcontent-%COMP%]   .Sourcename[_ngcontent-%COMP%]{background:#E4D4FF;width:auto;margin:1em;text-align:center;padding:10px;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]{display:flex}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .flex-input[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:white;color:#9351fb;width:13em;height:3em;border:1px solid rgb(147,81,251);border-radius:10px;margin-left:90em;margin-top:-4em;font-size:16px;cursor:pointer;transition:background .3s,color .3s,opacity .3s}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .btn[disabled][_ngcontent-%COMP%]{background:rgb(230,230,230);color:#969696;border-color:#c8c8c8;cursor:not-allowed;opacity:.6}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not([disabled]){background:rgb(147,81,251);color:#fff}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-top-right-radius:15px;border-top-left-radius:15px;height:auto;width:auto;margin-left:-103em;margin-top:2em}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]{display:flex}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]     .firstSource.mat-mdc-form-field{border-bottom:2px solid #ccc}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]     .secondSource.mat-mdc-form-field{border-bottom:2px solid #ccc}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]   .datasource1[_ngcontent-%COMP%]{display:flex}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]   .datasource1[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%]{margin-top:2em;margin-left:-1em}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .sources[_ngcontent-%COMP%]   .datasource1[_ngcontent-%COMP%]   .icon1[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#9977fb;transform:rotate(45deg)}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .field-option[_ngcontent-%COMP%]{display:table-caption}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{height:6.9em;border-bottom:2px solid #ccc}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .add-fields-box[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]   #addInput[_ngcontent-%COMP%]{font-weight:300;color:gray;cursor:pointer;margin:1em}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:12px;height:auto;width:max-content;margin-top:2em}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]{width:auto;padding:30px;flex-wrap:wrap;align-items:flex-start;position:relative}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .Sourcename1[_ngcontent-%COMP%]{background:#E4D4FF;width:auto;text-align:center;padding:10px;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]{gap:0em;margin-top:3em;display:flex;width:max-content}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]{width:12em;border:1px solid #ada7a7;border-radius:10px;margin-bottom:1em;position:relative}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{border-bottom:1px solid #8e8c8c;font-size:16px;margin-bottom:0;background:#b9b3b3;border-top-left-radius:10px;border-top-right-radius:10px}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   .field-header[_ngcontent-%COMP%]{margin-left:1em}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{color:#564c4c;font-weight:400}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .source-fields-block[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]   .field-name[_ngcontent-%COMP%]{margin:.7em}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;padding-top:30px}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]   #arrow[_ngcontent-%COMP%]{color:#9977fb;transform:rotate(45deg)}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .flex-icon[_ngcontent-%COMP%]   .Nestlast[_ngcontent-%COMP%]{display:none}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{margin-top:2em}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.map-fields[_ngcontent-%COMP%]   .show-fields-box[_ngcontent-%COMP%]   .combination-box1[_ngcontent-%COMP%]   .row1[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#9977fb;transform:rotate(45deg)}.map-fields[_ngcontent-%COMP%]     .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{width:19vw;margin:1em;background-color:none;border:1px solid #eeebf4}.map-fields[_ngcontent-%COMP%]   .create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.map-fields[_ngcontent-%COMP%]   .create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.map-fields[_ngcontent-%COMP%]   .create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.map-fields[_ngcontent-%COMP%]   .create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .custom-container[_ngcontent-%COMP%]   #fields1[_ngcontent-%COMP%]{width:60em}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .custom-container[_ngcontent-%COMP%]   #fields1[_ngcontent-%COMP%]   .mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expanded):not(.mat-expansion-panel-spacing){border-radius:20px;margin-top:9px}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .custom-container[_ngcontent-%COMP%]   #fields1[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{height:auto}.map-fields[_ngcontent-%COMP%]   .createfield[_ngcontent-%COMP%]   .custom-container[_ngcontent-%COMP%]   #fields1[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]:hover{background-color:#fff;border:none!important}.accordion-container[_ngcontent-%COMP%]{margin:10px 0}.add-fields-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-top-right-radius:15px;border-top-left-radius:15px;height:auto;width:auto;margin-left:-103em;margin-top:2em}.sources[_ngcontent-%COMP%]{display:flex}.header-name[_ngcontent-%COMP%]{padding:25px 15px;display:flex;justify-content:flex-start;align-items:center;border-bottom:2px solid #ccc}.field-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;gap:10px;margin:10px}.add-btn[_ngcontent-%COMP%]{height:6.9em;border-bottom:2px solid #ccc}#addInput[_ngcontent-%COMP%]{font-weight:300;color:gray;cursor:pointer;margin:1em}.show-fields-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:12px;height:auto;width:max-content;margin-top:2em}.Sourcename1[_ngcontent-%COMP%]{background:#E4D4FF;width:auto;text-align:center;padding:10px;border-radius:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.combination-box[_ngcontent-%COMP%]{display:flex;width:auto;padding:30px;flex-wrap:wrap;align-items:flex-start;position:relative}.combination-box1[_ngcontent-%COMP%]{width:auto;padding:30px;flex-wrap:wrap;align-items:flex-start;position:relative}.row[_ngcontent-%COMP%]{margin-left:-22.5em;margin-top:6em;display:flex}.row1[_ngcontent-%COMP%]{gap:0em;margin-top:3em;display:flex;width:max-content}.source-fields-block[_ngcontent-%COMP%]{width:12em;border:1px solid #ada7a7;border-radius:10px;margin-bottom:1em;position:relative}.arrow[_ngcontent-%COMP%]{font-size:24px;color:#ada7a7;position:absolute}.arrow.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);left:calc(100% + 10px)}.arrow.down[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:-20px}.hide-arrow[_ngcontent-%COMP%]{display:none}.source-fields-block[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{border-bottom:1px solid #8e8c8c;font-size:16px;margin-bottom:0;background:#b9b3b3;border-top-left-radius:10px;border-top-right-radius:10px}"]})}}return o})();function s1(o,r){if(1&o&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(1),e.SpI(" ",t.name," ")}}function l1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Configuration is required "),e.k0s())}function c1(o,r){if(1&o&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function d1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Boolean value is required "),e.k0s())}function p1(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Select the boolean value"),e.k0s(),e.j41(3,"mat-form-field",16)(4,"mat-label"),e.EFF(5,"Boolean"),e.k0s(),e.j41(6,"mat-select",17),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedBoolean(n.value))}),e.DNE(7,c1,2,2,"mat-option",6),e.k0s(),e.DNE(8,d1,2,0,"mat-error",7),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();let a;e.R7$(7),e.Y8G("ngForOf",t.BooleanArray),e.R7$(1),e.Y8G("ngIf",(null==(a=t.reconConfigForm.get("custom_select"))?null:a.hasError("required"))&&(null==(a=t.reconConfigForm.get("custom_select"))?null:a.touched))}}function m1(o,r){if(1&o&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&o){const t=r.$implicit;e.Y8G("value",t.name),e.R7$(1),e.SpI(" ",t.name," ")}}function u1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Please select an upload type "),e.k0s())}function g1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," SFTP path is required "),e.k0s())}function f1(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Define SFTP configuration for upload"),e.k0s(),e.j41(3,"div",18)(4,"mat-form-field",19)(5,"mat-label"),e.EFF(6,"Module"),e.k0s(),e.j41(7,"mat-select",20),e.bIt("selectionChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedUploadType(n.value))}),e.DNE(8,m1,2,2,"mat-option",6),e.k0s(),e.DNE(9,u1,2,0,"mat-error",7),e.k0s(),e.j41(10,"mat-form-field",21)(11,"mat-label"),e.EFF(12,"SFTP path"),e.k0s(),e.j41(13,"input",22,23),e.bIt("input",function(){e.eBV(t);const n=e.sdS(14),i=e.XpG();return e.Njj(i.getValueforPath(n.value))}),e.k0s(),e.DNE(15,g1,2,0,"mat-error",7),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();let a,n;e.R7$(8),e.Y8G("ngForOf",t.Uploadtype),e.R7$(1),e.Y8G("ngIf",(null==(a=t.reconConfigForm.get("upload_type"))?null:a.hasError("required"))&&(null==(a=t.reconConfigForm.get("upload_type"))?null:a.touched)),e.R7$(6),e.Y8G("ngIf",(null==(n=t.reconConfigForm.get("sftp_path"))?null:n.hasError("required"))&&(null==(n=t.reconConfigForm.get("sftp_path"))?null:n.touched))}}function h1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," IP address is required "),e.k0s())}function _1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Username is required "),e.k0s())}function C1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Password is required "),e.k0s())}function b1(o,r){1&o&&(e.j41(0,"mat-error"),e.EFF(1," Port is required "),e.k0s())}function x1(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"p"),e.EFF(2,"Select the boolean value"),e.k0s(),e.j41(3,"div",18)(4,"mat-form-field",21)(5,"mat-label"),e.EFF(6,"IP Address"),e.k0s(),e.j41(7,"input",24,25),e.bIt("input",function(){e.eBV(t);const n=e.sdS(8),i=e.XpG();return e.Njj(i.getValueforIPadd(n.value))}),e.k0s(),e.DNE(9,h1,2,0,"mat-error",7),e.k0s(),e.j41(10,"mat-form-field",21)(11,"mat-label"),e.EFF(12,"SFTP username"),e.k0s(),e.j41(13,"input",26,27),e.bIt("input",function(){e.eBV(t);const n=e.sdS(14),i=e.XpG();return e.Njj(i.getValueforSftpUser(n.value))}),e.k0s(),e.DNE(15,_1,2,0,"mat-error",7),e.k0s()(),e.j41(16,"div",18)(17,"mat-form-field",21)(18,"mat-label"),e.EFF(19,"SFTP password"),e.k0s(),e.j41(20,"input",28,29),e.bIt("input",function(){e.eBV(t);const n=e.sdS(21),i=e.XpG();return e.Njj(i.getValueforSftpPass(n.value))}),e.k0s(),e.DNE(22,C1,2,0,"mat-error",7),e.k0s(),e.j41(23,"mat-form-field",21)(24,"mat-label"),e.EFF(25,"SFTP port"),e.k0s(),e.j41(26,"input",30,31),e.bIt("input",function(){e.eBV(t);const n=e.sdS(27),i=e.XpG();return e.Njj(i.getValueforSftpPort(n.value))}),e.k0s(),e.DNE(28,b1,2,0,"mat-error",7),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();let a,n,i,s;e.R7$(9),e.Y8G("ngIf",(null==(a=t.reconConfigForm.get("ip_address"))?null:a.hasError("required"))&&(null==(a=t.reconConfigForm.get("ip_address"))?null:a.touched)),e.R7$(6),e.Y8G("ngIf",(null==(n=t.reconConfigForm.get("sftp_username"))?null:n.hasError("required"))&&(null==(n=t.reconConfigForm.get("sftp_username"))?null:n.touched)),e.R7$(7),e.Y8G("ngIf",(null==(i=t.reconConfigForm.get("sftp_password"))?null:i.hasError("required"))&&(null==(i=t.reconConfigForm.get("sftp_password"))?null:i.touched)),e.R7$(6),e.Y8G("ngIf",(null==(s=t.reconConfigForm.get("sftp_port"))?null:s.hasError("required"))&&(null==(s=t.reconConfigForm.get("sftp_port"))?null:s.touched))}}function y1(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"div",32)(2,"ag-grid-angular",33),e.bIt("gridReady",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onGridReady(n))}),e.k0s()(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("rowData",t.rowData)("columnDefs",t.columnDefs)("gridOptions",t.gridOptions)("defaultColDef",t.defaultColDef)("pagination",!0)("paginationPageSize",t.paginationPageSize)}}const Pn=function(o){return{disabled:o}};function D1(o,r){if(1&o){const t=e.RV6();e.qex(0),e.j41(1,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmitTapThird())}),e.EFF(2,"Save"),e.k0s(),e.bVm()}if(2&o){const t=e.XpG();e.R7$(1),e.Y8G("disabled",!t.reconConfigArray.length)("ngClass",e.eq3(2,Pn,!t.reconConfigArray.length))}}function v1(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.noChnages())}),e.EFF(1,"Next"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.reconConfigArray.length)("ngClass",e.eq3(2,Pn,!t.reconConfigArray.length))}}function F1(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.updateDSConfig())}),e.EFF(1,"Update"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.reconConfigArray.length)("ngClass",e.eq3(2,Pn,!t.reconConfigArray.length))}}function M1(o,r){if(1&o&&(e.qex(0),e.DNE(1,v1,2,4,"button",35),e.DNE(2,F1,2,4,"button",35),e.bVm()),2&o){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",!t.DSConfigChanged),e.R7$(1),e.Y8G("ngIf",t.DSConfigChanged)}}function S1(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.onSubmitTapThird())}),e.EFF(1,"Save"),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("disabled",!t.reconConfigArray.length)("ngClass",e.eq3(2,Pn,!t.reconConfigArray.length))}}function P1(o,r){if(1&o&&e.DNE(0,S1,2,4,"button",35),2&o){const t=e.XpG();e.Y8G("ngIf",t.UpdateDSConfig)}}let w1=(()=>{class o{constructor(t,a,n,i,s){this.fb=t,this.notify=a,this.dialog=n,this.URMService=i,this.spinnerService=s,this.TabChnage=new e.bkB,this.reconConfigFinalBody=[],this.reconConfigArray=[],this.showReconconfigTable=0,this.DSConfigChanged=!1,this.rowData=[],this.paginationPageSize=20,this.configuration=[{name:"Run custom recon combination",value:"run_custom"},{name:"Bulk upload operation",value:"bulk_upload_ops"},{name:"Sftp configuration",value:"sftp_config"},{name:"Single folder",value:"single_folder"}],this.BooleanArray=[{name:"true"},{name:"false"}],this.Uploadtype=[{name:"Reconciliation summary"},{name:"Reports"},{name:"TTUM"},{name:"NPCIuploadable files"}],this.columnDefs=[{headerName:"Recon param type",field:"recon_param_type"},{headerName:"Description",field:"recon_param_description"},{headerName:"Recon param value 1",field:"recon_param_value_1"},{headerName:"Recon param value 2",field:"recon_param_value_2"},{headerName:"Recon param value 3",field:"recon_param_value_3"},{headerName:"Actions",cellRenderer:l=>{const c=document.createElement("div"),d=document.createElement("span");return d.classList.add("material-symbols-outlined","delete-icon"),d.style.cursor="pointer",d.style.marginRight="8px",d.style.color="red",d.textContent="delete",d.addEventListener("click",this.deleteClicked.bind(this,l.data)),c.appendChild(d),c},minWidth:200}],this.defaultColDef={resizable:!0,autoHeight:!0,sortable:!0,maxWidth:1e3,minWidth:200,flex:1},this.gridOptions={cacheBlockSize:10,alwaysShowHorizontalScroll:!0,suppressRowClickSelection:!0,rowSelection:"multiple",cellHeight:60},this.reconConfigForm=t.group({datasource_name:new p.MJ(""),recon_param_type:["",p.k0.required],recon_param_description:[""],custom_select:["",p.k0.required],bulk_upload_valid:["",p.k0.required],upload_type:["",p.k0.required],sftp_path:["",p.k0.required],ip_address:["",p.k0.required],sftp_username:["",p.k0.required],sftp_password:["",p.k0.required],sftp_port:["",p.k0.required]})}ngOnInit(){this.productId=localStorage.getItem("product_id"),this.applicationId=localStorage.getItem("application_id"),this.projectId=localStorage.getItem("project_id"),this.tenantId=localStorage.getItem("tenant_id")}ngOnChanges(t){console.log("inside ngOnChanges"),t.triggerTabThreeFunction&&(console.log("ngOnChanges triggerTabThreeFunction ==> ",this.triggerTabThreeFunction),this.triggerTabThreeFunction)&&(console.log("call four component API"),this.spinnerService.show(),this.URMService.getdataSourcesbyProjectId({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId}).then(n=>{console.log("getdataSourcesbyProjectId response r-c-step3",n),n&&200===n.statusCode?(this.SourceData=n.data,this.sourceDropdownOptions=this.SourceData.map(i=>({name:i.datasource_name,data_source_id:i.datasource_id,datasource_type:i.datasource_type})),this.spinnerService.hide()):(this.notify.showErrorToast(n.errorMessage,"Close"),this.spinnerService.hide())}).catch(n=>{console.log("Error while getdataSourcesbyDataModelId",n),this.spinnerService.hide()})),t.UpdateDSConfig&&(console.log("ngOnChanges UpdateDSConfig ==> ",this.UpdateDSConfig),this.UpdateDSConfig&&(console.log("call update component API"),this.getReconDataParamsByCategory()))}selectedConfiguration(t){this.selectedConfig=t,this.reconConfigForm.markAsUntouched(),this.reconConfigForm.updateValueAndValidity(),"bulk_upload_ops"===this.selectedConfig?(this.reconConfigForm.controls.upload_type.setValidators([p.k0.required]),this.reconConfigForm.controls.sftp_path.setValidators([p.k0.required])):"sftp_config"===this.selectedConfig&&(this.reconConfigForm.controls.ip_address.setValidators([p.k0.required]),this.reconConfigForm.controls.sftp_username.setValidators([p.k0.required]),this.reconConfigForm.controls.sftp_password.setValidators([p.k0.required]),this.reconConfigForm.controls.sftp_port.setValidators([p.k0.required])),this.reconConfigForm.controls.upload_type.updateValueAndValidity(),this.reconConfigForm.controls.sftp_path.updateValueAndValidity(),this.reconConfigForm.controls.ip_address.updateValueAndValidity(),this.reconConfigForm.controls.sftp_username.updateValueAndValidity(),this.reconConfigForm.controls.sftp_password.updateValueAndValidity(),this.reconConfigForm.controls.sftp_port.updateValueAndValidity()}selectedBoolean(t){console.log("selectedBoolean value",t),this.selectedbooleanValue=t}selectedUploadType(t){console.log("selectedUploadType value",t),this.selectedUploadValue=t}getValueforPath(t){console.log("getValueforPath value",t),this.pathValue=t}getValueforIPadd(t){console.log("getValueforIPadd value",t),this.ipAddressValue=t}getValueforSftpUser(t){console.log("getValueforSftpUser value",t),this.sftpUserValue=t}getValueforSftpPass(t){console.log("getValueforSftpPass value",t),this.sftpPassValue=t}getValueforSftpPort(t){console.log("getValueforSftpPort value",t),this.sftpPortValue=t}addDataSource(){console.log("addDataSource ==>",this.reconConfigForm.value);let t=this.reconConfigForm.value;const a=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.reconConfigFinalBody=[],"run_custom"===this.selectedConfig?(this.reconConfigFinalBody.push({recon_param_type:"custom recon",recon_param_description:t.recon_param_description,recon_param_value_1:this.selectedbooleanValue,recon_param_value_2:"-",recon_param_value_3:"-",recon_param_value_4:"-",datasource_type:"-",datasource_name:"-",category:"recon_config"}),this.reconConfigForm.reset(),this.selectedConfig=""):"bulk_upload_ops"===this.selectedConfig?(this.reconConfigFinalBody.push({recon_param_type:"sftp remotepath",recon_param_description:t.recon_param_description,recon_param_value_1:"-",recon_param_value_2:this.selectedUploadValue,recon_param_value_3:this.pathValue,recon_param_value_4:"-",datasource_type:"-",datasource_name:"-",category:"recon_config"}),this.reconConfigForm.reset(),this.selectedConfig=""):"sftp_config"===this.selectedConfig?(this.reconConfigFinalBody.push({recon_param_type:"sftp config",recon_param_description:t.recon_param_description,recon_param_value_1:this.ipAddressValue,recon_param_value_2:this.sftpUserValue,recon_param_value_3:this.sftpPassValue,recon_param_value_4:this.sftpPortValue,datasource_type:"-",datasource_name:"-",category:"recon_config"}),this.reconConfigForm.reset(),this.selectedConfig=""):"single_folder"===this.selectedConfig&&(this.reconConfigFinalBody.push({recon_param_type:"single folder",recon_param_description:t.recon_param_description,recon_param_value_1:this.selectedbooleanValue,recon_param_value_2:"-",recon_param_value_3:"-",recon_param_value_4:"-",datasource_type:"-",datasource_name:"-",category:"recon_config"}),this.reconConfigForm.reset(),this.selectedConfig=""),console.log("reconConfigFinalBody",this.reconConfigFinalBody),this.showReconconfigTable=this.reconConfigFinalBody.length,console.log("showReconconfigTable===>",this.showReconconfigTable),this.URMService.addDataReconParam({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId},this.reconConfigFinalBody).then(i=>{if(console.log("addDataReconParam response ==>",i),i&&200===i.statusCode||201===i.statusCode){let s=i.data;console.log("responseData",s[0]),this.reconConfigArray.push(s[0]),this.rowData=[...this.reconConfigArray],this.DSConfigChanged=!0,this.notify.showSuccessToast("Recon configured successfully!!","Close"),a.close()}else this.notify.showSuccessToast(i.errorMessage,"Close")}).catch(i=>{console.log("error ==>",i),this.notify.showErrorToast(i.error.message,"Close"),a.close()})}deleteClicked(t){console.log("deleteClicked",t),this.dialog.open(Se.r,{height:"15vh",width:"26%",data:{action:"delete-record",content:""}}).afterClosed().subscribe(n=>{if(!0===n){console.log("Call delete API.");const i=this.dialog.open(y.T,{height:"55vh",width:"35%"});this.URMService.deleteReconParamById({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,recon_param_id:t.recon_param_id}).then(l=>{if(console.log("deleteReconParamById response d-c-step5",l),l&&200===l.statusCode){this.notify.showSuccessToast("Record deleted successfully","Close");const d=this.reconConfigArray.findIndex(m=>m===t);console.log("reconConfigArray",this.reconConfigArray),-1!==d&&(console.log("Inside remove index"),this.reconConfigArray.splice(d,1),this.rowData=[...this.reconConfigArray],i.close(),this.DSConfigChanged=!0)}else this.notify.showErrorToast(l.errorMessage,"Close"),i.close()}).catch(l=>{console.log("Error occured while deleting recon data",l),i.close()})}})}onSubmitTapThird(){window.location.reload()}updateDSConfig(){window.location.reload()}noChnages(){window.location.reload()}onCancel(){this.TabChnage.emit(1)}onGridReady(t){this.gridOptions.api=t.api}getReconDataParamsByCategory(){this.spinnerService.show(),this.URMService.getReconDataParamsByCategory({tenant_id:this.tenantId,product_id:this.productId,application_id:this.applicationId,project_id:this.projectId,recon_param_category:"recon_config"}).then(a=>{if(console.log("getReconDataParamsByCategory response r-c-step3",a),a&&200===a.statusCode||201===a.statusCode){const n=a.data;this.DSConfiglength=n.length,this.reconConfigArray=[...n],this.rowData=[...this.reconConfigArray],console.log("dataConfigFinalBody ==>",this.reconConfigFinalBody),this.spinnerService.hide()}else this.notify.showErrorToast(a.errorMessage,"Close"),this.spinnerService.hide()}).catch(a=>{console.log("Error occured while fetching data source config params",a),this.spinnerService.hide()})}static{this.\u0275fac=function(a){return new(a||o)(e.rXU(p.ok),e.rXU(Ce.J),e.rXU(F.bZ),e.rXU(Pe.V),e.rXU(je.D))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recon-config-step3"]],inputs:{triggerTabThreeFunction:"triggerTabThreeFunction",UpdateDSConfig:"UpdateDSConfig"},outputs:{TabChnage:"TabChnage"},features:[e.OA$],decls:29,vars:10,consts:[[1,"container-step3"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"box-content"],["appearance","outline","id","recon_param_type"],["formControlName","recon_param_type","placeholder","Select configuration","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["appearance","outline","id","recon_param_description"],["matInput","","formControlName","recon_param_description","placeholder","Enter description",1,"mat-input-element"],["type","submit",1,"add-btn"],[1,"create_btns"],[1,"_btncancel",3,"click"],[4,"ngIf","ngIfElse"],["CanGoWithCreate",""],[3,"value"],["appearance","outline","id","custom_select"],["placeholder","Select boolean value","formControlName","custom_select",3,"selectionChange"],[1,"flexInput"],["appearance","outline","id","bulk_upload_valid"],["placeholder","Select upload type","formControlName","upload_type","required","",3,"selectionChange"],["appearance","outline"],["matInput","","placeholder","Enter sftp path","formControlName","sftp_path",3,"input"],["value",""],["matInput","","placeholder","Enter IP address","formControlName","ip_address",3,"input"],["value1",""],["matInput","","placeholder","Enter username","formControlName","sftp_username",3,"input"],["value2",""],["matInput","","type","password","placeholder","Enter password","formControlName","sftp_password",3,"input"],["value3",""],["matInput","","placeholder","Enter port","formControlName","sftp_port",3,"input"],["value4",""],[1,"ag-table"],[1,"ag-theme-quartz",2,"height","60vh",3,"rowData","columnDefs","gridOptions","defaultColDef","pagination","paginationPageSize","gridReady"],[1,"_btnnext",3,"disabled","ngClass","click"],["class","_btnnext",3,"disabled","ngClass","click",4,"ngIf"]],template:function(a,n){if(1&a&&(e.j41(0,"div",0)(1,"h2"),e.EFF(2,"Select data source type"),e.k0s(),e.j41(3,"form",1),e.bIt("ngSubmit",function(){return n.addDataSource()}),e.j41(4,"div",2)(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),e.EFF(8,"Configuration"),e.k0s(),e.j41(9,"mat-select",5),e.bIt("selectionChange",function(s){return n.selectedConfiguration(s.value)}),e.DNE(10,s1,2,2,"mat-option",6),e.k0s(),e.DNE(11,l1,2,0,"mat-error",7),e.k0s(),e.j41(12,"mat-form-field",8)(13,"mat-label"),e.EFF(14,"Description"),e.k0s(),e.nrm(15,"input",9),e.k0s(),e.DNE(16,p1,9,2,"ng-container",7),e.DNE(17,f1,16,3,"ng-container",7),e.DNE(18,x1,29,4,"ng-container",7),e.k0s(),e.j41(19,"button",10),e.EFF(20,"Add"),e.k0s()()(),e.DNE(21,y1,3,6,"ng-container",7),e.j41(22,"div",11)(23,"button",12),e.bIt("click",function(){return n.onCancel()}),e.EFF(24,"Cancel"),e.k0s(),e.DNE(25,D1,3,4,"ng-container",7),e.DNE(26,M1,3,2,"ng-container",13),e.DNE(27,P1,1,1,"ng-template",null,14,e.C5r),e.k0s()()),2&a){const i=e.sdS(28);let s;e.R7$(3),e.Y8G("formGroup",n.reconConfigForm),e.R7$(7),e.Y8G("ngForOf",n.configuration),e.R7$(1),e.Y8G("ngIf",(null==(s=n.reconConfigForm.get("recon_param_type"))?null:s.hasError("required"))&&(null==(s=n.reconConfigForm.get("recon_param_type"))?null:s.touched)),e.R7$(5),e.Y8G("ngIf","run_custom"===n.selectedConfig||"single_folder"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","bulk_upload_ops"===n.selectedConfig),e.R7$(1),e.Y8G("ngIf","sftp_config"===n.selectedConfig),e.R7$(3),e.Y8G("ngIf",n.DSConfiglength>0||n.showReconconfigTable>0),e.R7$(4),e.Y8G("ngIf",!n.UpdateDSConfig),e.R7$(1),e.Y8G("ngIf",1==n.UpdateDSConfig&&n.DSConfiglength>0)("ngIfElse",i)}},dependencies:[g.YU,g.Sq,g.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,j.rl,j.nJ,j.TL,ue.fg,_e.VO,he.wT,be.xs,mt.PW],styles:[".row[_ngcontent-%COMP%]{display:flex}.box-content[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:8px;background-color:#fdfcff;padding:15px 12px;margin-bottom:20px;display:grid;width:45%}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:20px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]     .mat-mdc-form-field{width:100%}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .startLabel[_ngcontent-%COMP%], .box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .endLabel[_ngcontent-%COMP%]{margin-right:6px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   .endLabel[_ngcontent-%COMP%]{margin-left:20px}.box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   #startTime[_ngcontent-%COMP%], .box-content[_ngcontent-%COMP%]   .flexInput[_ngcontent-%COMP%]   .timeInput[_ngcontent-%COMP%]   #endTime[_ngcontent-%COMP%]{margin-left:.5em;font-size:18px;padding:12px;outline:none}.box-content[_ngcontent-%COMP%]   .dragging[_ngcontent-%COMP%]{border:2px dashed #2196F3}.box-content[_ngcontent-%COMP%]   .drag-text[_ngcontent-%COMP%]:nth-child(3){color:gray;font-size:12px;font-weight:lighter}  .chip-container{display:inline-block;vertical-align:middle;padding:4px 16px}  .chip{display:inline-block;padding:0 50px;background-color:#e0e0e0;border-radius:25px}.add-btn[_ngcontent-%COMP%]{box-shadow:none;background-color:#fff;border:2px solid #E6E1EE;width:6em;font-size:16px;height:3em;margin-left:1em}.data-conatiner[_ngcontent-%COMP%]{padding:8px 0;display:flex;flex-direction:column;justify-content:center;align-items:center;width:735px;position:relative;height:auto;font-size:medium;border-radius:10px;border:1px solid #E6E1EE}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:10px;border:1px solid #ccc}th[_ngcontent-%COMP%]{background:#F9FAFB;font-size:18px;font-weight:500;color:#6b6b6b;border-bottom:1px solid #ddd;padding:8px 20px;height:2em;text-align:left}.mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;padding:0!important}td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:8px 20px;height:2em;text-align:left}td[_ngcontent-%COMP%]:last-child{text-align:center}.chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:27px;text-align:center;background-color:#e7e4ff;color:#333;font-size:15px;width:9em;margin:0}#mat-icon[_ngcontent-%COMP%]{color:red;cursor:pointer}#skipData[_ngcontent-%COMP%]{width:22em;margin-left:2em}.create_btns[_ngcontent-%COMP%]{margin-top:1rem;display:flex;gap:1rem}.create_btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px 36px;border-radius:7px;background:none;border:none;font-weight:500;font-family:Roboto,Helvetica Neue,sans-serif;cursor:pointer}.create_btns[_ngcontent-%COMP%]   ._btncancel[_ngcontent-%COMP%]{border:2px solid rgb(230,225,238);color:#6b6b6b}.create_btns[_ngcontent-%COMP%]   ._btnnext[_ngcontent-%COMP%]{background:rgb(147,81,251);color:#fff}.chipSet[_ngcontent-%COMP%]{margin:10px 0 20px}.chipSet[_ngcontent-%COMP%]     .mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:50%;display:flex;flex-wrap:nowrap}.create_btns[_ngcontent-%COMP%]   ._btnnext.disabled[_ngcontent-%COMP%]{background-color:#ccc;cursor:default}.mat-mdc-form-field-error[_ngcontent-%COMP%]{text-align:right}"]})}}return o})(),O1=(()=>{class o extends he.xW{parse(t){if(t){const[a,n,i]=t.split("-").map(Number);return new Date(i,n-1,a)}return null}format(t,a){return`${this._to2digit(t.getDate())}-${this._to2digit(t.getMonth()+1)}-${t.getFullYear()}`}_to2digit(t){return("00"+t).slice(-2)}static{this.\u0275fac=function(){let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}}()}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac})}}return o})();const T1={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"DD-MM-YYYY",monthYearA11yLabel:"MMMM YYYY"}};let k1=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[g.vh],imports:[g.MD,X_,q_.G]})}}return o})();e.wjB(yn,[g.bT,Ne.mq,Ne.T8,to,S0,r1,w1],[])},3188:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,y=b.lib.BlockCipher,p=b.algo,I=[],G=[],h=[],x=[],T=[],C=[],w=[],_=[],O=[],S=[];!function(){for(var f=[],u=0;u<256;u++)f[u]=u<128?u<<1:u<<1^283;var M=0,D=0;for(u=0;u<256;u++){var v=D^D<<1^D<<2^D<<3^D<<4;I[M]=v=v>>>8^255&v^99,G[v]=M;var L,A=f[M],Y=f[A],q=f[Y];h[M]=(L=257*f[v]^16843008*v)<<24|L>>>8,x[M]=L<<16|L>>>16,T[M]=L<<8|L>>>24,C[M]=L,w[v]=(L=16843009*q^65537*Y^257*A^16843008*M)<<24|L>>>8,_[v]=L<<16|L>>>16,O[v]=L<<8|L>>>24,S[v]=L,M?(M=A^f[f[f[q^A]]],D^=f[f[D]]):M=D=1}}();var R=[0,1,2,4,8,16,32,64,128,27,54],B=p.AES=y.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var u=this._keyPriorReset=this._key,M=u.words,D=u.sigBytes/4,A=4*((this._nRounds=D+6)+1),Y=this._keySchedule=[],q=0;q<A;q++)q<D?Y[q]=M[q]:(f=Y[q-1],q%D?D>6&&q%D==4&&(f=I[f>>>24]<<24|I[f>>>16&255]<<16|I[f>>>8&255]<<8|I[255&f]):(f=I[(f=f<<8|f>>>24)>>>24]<<24|I[f>>>16&255]<<16|I[f>>>8&255]<<8|I[255&f],f^=R[q/D|0]<<24),Y[q]=Y[q-D]^f);for(var L=this._invKeySchedule=[],se=0;se<A;se++){if(q=A-se,se%4)var f=Y[q];else f=Y[q-4];L[se]=se<4||q<=4?f:w[I[f>>>24]]^_[I[f>>>16&255]]^O[I[f>>>8&255]]^S[I[255&f]]}}},encryptBlock:function(f,u){this._doCryptBlock(f,u,this._keySchedule,h,x,T,C,I)},decryptBlock:function(f,u){var M=f[u+1];f[u+1]=f[u+3],f[u+3]=M,this._doCryptBlock(f,u,this._invKeySchedule,w,_,O,S,G),M=f[u+1],f[u+1]=f[u+3],f[u+3]=M},_doCryptBlock:function(f,u,M,D,v,A,Y,q){for(var L=this._nRounds,se=f[u]^M[0],X=f[u+1]^M[1],te=f[u+2]^M[2],$=f[u+3]^M[3],J=4,ge=1;ge<L;ge++){var pe=D[se>>>24]^v[X>>>16&255]^A[te>>>8&255]^Y[255&$]^M[J++],xe=D[X>>>24]^v[te>>>16&255]^A[$>>>8&255]^Y[255&se]^M[J++],Fe=D[te>>>24]^v[$>>>16&255]^A[se>>>8&255]^Y[255&X]^M[J++],H=D[$>>>24]^v[se>>>16&255]^A[X>>>8&255]^Y[255&te]^M[J++];se=pe,X=xe,te=Fe,$=H}pe=(q[se>>>24]<<24|q[X>>>16&255]<<16|q[te>>>8&255]<<8|q[255&$])^M[J++],xe=(q[X>>>24]<<24|q[te>>>16&255]<<16|q[$>>>8&255]<<8|q[255&se])^M[J++],Fe=(q[te>>>24]<<24|q[$>>>16&255]<<16|q[se>>>8&255]<<8|q[255&X])^M[J++],H=(q[$>>>24]<<24|q[se>>>16&255]<<16|q[X>>>8&255]<<8|q[255&te])^M[J++],f[u]=pe,f[u+1]=xe,f[u+2]=Fe,f[u+3]=H},keySize:8});b.AES=y._createHelper(B)}(),g.AES)},5269:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,y=b.lib.BlockCipher;const I=16,G=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function T(S,R){let D=S.sbox[0][R>>24&255]+S.sbox[1][R>>16&255];return D^=S.sbox[2][R>>8&255],D+=S.sbox[3][255&R],D}function C(S,R,B){let M,f=R,u=B;for(let D=0;D<I;++D)f^=S.pbox[D],u=T(S,f)^u,M=f,f=u,u=M;return M=f,f=u,u=M,u^=S.pbox[I],f^=S.pbox[I+1],{left:f,right:u}}var O=b.algo.Blowfish=y.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var S=this._keyPriorReset=this._key;!function _(S,R,B){for(let v=0;v<4;v++){S.sbox[v]=[];for(let A=0;A<256;A++)S.sbox[v][A]=h[v][A]}let f=0;for(let v=0;v<I+2;v++)S.pbox[v]=G[v]^R[f],f++,f>=B&&(f=0);let u=0,M=0,D=0;for(let v=0;v<I+2;v+=2)D=C(S,u,M),u=D.left,M=D.right,S.pbox[v]=u,S.pbox[v+1]=M;for(let v=0;v<4;v++)for(let A=0;A<256;A+=2)D=C(S,u,M),u=D.left,M=D.right,S.sbox[v][A]=u,S.sbox[v][A+1]=M;return!0}(x,S.words,S.sigBytes/4)}},encryptBlock:function(S,R){var B=C(x,S[R],S[R+1]);S[R]=B.left,S[R+1]=B.right},decryptBlock:function(S,R){var B=function w(S,R,B){let M,f=R,u=B;for(let D=I+1;D>1;--D)f^=S.pbox[D],u=T(S,f)^u,M=f,f=u,u=M;return M=f,f=u,u=M,u^=S.pbox[1],f^=S.pbox[0],{left:f,right:u}}(x,S[R],S[R+1]);S[R]=B.left,S[R+1]=B.right},blockSize:2,keySize:4,ivSize:2});b.Blowfish=y._createHelper(O)}(),g.Blowfish)},2414:function(le,re,P){var F,y,p,I,G,h,T,w,_,S,R,B,u,D,A,Y,L,se,g;le.exports=(g=P(7656),P(4147),void(g.lib.Cipher||(F=g,y=F.lib,p=y.Base,I=y.WordArray,G=y.BufferedBlockAlgorithm,h=F.enc,T=h.Base64,w=F.algo.EvpKDF,_=y.Cipher=G.extend({cfg:p.extend(),createEncryptor:function(X,te){return this.create(this._ENC_XFORM_MODE,X,te)},createDecryptor:function(X,te){return this.create(this._DEC_XFORM_MODE,X,te)},init:function(X,te,$){this.cfg=this.cfg.extend($),this._xformMode=X,this._key=te,this.reset()},reset:function(){G.reset.call(this),this._doReset()},process:function(X){return this._append(X),this._process()},finalize:function(X){return X&&this._append(X),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function X(te){return"string"==typeof te?se:Y}return function(te){return{encrypt:function($,J,ge){return X(J).encrypt(te,$,J,ge)},decrypt:function($,J,ge){return X(J).decrypt(te,$,J,ge)}}}}()}),y.StreamCipher=_.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),S=F.mode={},R=y.BlockCipherMode=p.extend({createEncryptor:function(X,te){return this.Encryptor.create(X,te)},createDecryptor:function(X,te){return this.Decryptor.create(X,te)},init:function(X,te){this._cipher=X,this._iv=te}}),B=S.CBC=function(){var X=R.extend();function te($,J,ge){var pe,xe=this._iv;xe?(pe=xe,this._iv=undefined):pe=this._prevBlock;for(var Fe=0;Fe<ge;Fe++)$[J+Fe]^=pe[Fe]}return X.Encryptor=X.extend({processBlock:function($,J){var ge=this._cipher,pe=ge.blockSize;te.call(this,$,J,pe),ge.encryptBlock($,J),this._prevBlock=$.slice(J,J+pe)}}),X.Decryptor=X.extend({processBlock:function($,J){var ge=this._cipher,pe=ge.blockSize,xe=$.slice(J,J+pe);ge.decryptBlock($,J),te.call(this,$,J,pe),this._prevBlock=xe}}),X}(),u=(F.pad={}).Pkcs7={pad:function(X,te){for(var $=4*te,J=$-X.sigBytes%$,ge=J<<24|J<<16|J<<8|J,pe=[],xe=0;xe<J;xe+=4)pe.push(ge);var Fe=I.create(pe,J);X.concat(Fe)},unpad:function(X){X.sigBytes-=255&X.words[X.sigBytes-1>>>2]}},y.BlockCipher=_.extend({cfg:_.cfg.extend({mode:B,padding:u}),reset:function(){var X;_.reset.call(this);var te=this.cfg,$=te.iv,J=te.mode;this._xformMode==this._ENC_XFORM_MODE?X=J.createEncryptor:(X=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==X?this._mode.init(this,$&&$.words):(this._mode=X.call(J,this,$&&$.words),this._mode.__creator=X)},_doProcessBlock:function(X,te){this._mode.processBlock(X,te)},_doFinalize:function(){var X,te=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(te.pad(this._data,this.blockSize),X=this._process(!0)):(X=this._process(!0),te.unpad(X)),X},blockSize:4}),D=y.CipherParams=p.extend({init:function(X){this.mixIn(X)},toString:function(X){return(X||this.formatter).stringify(this)}}),A=(F.format={}).OpenSSL={stringify:function(X){var $=X.ciphertext,J=X.salt;return(J?I.create([1398893684,1701076831]).concat(J).concat($):$).toString(T)},parse:function(X){var te,$=T.parse(X),J=$.words;return 1398893684==J[0]&&1701076831==J[1]&&(te=I.create(J.slice(2,4)),J.splice(0,4),$.sigBytes-=16),D.create({ciphertext:$,salt:te})}},Y=y.SerializableCipher=p.extend({cfg:p.extend({format:A}),encrypt:function(X,te,$,J){J=this.cfg.extend(J);var ge=X.createEncryptor($,J),pe=ge.finalize(te),xe=ge.cfg;return D.create({ciphertext:pe,key:$,iv:xe.iv,algorithm:X,mode:xe.mode,padding:xe.padding,blockSize:X.blockSize,formatter:J.format})},decrypt:function(X,te,$,J){return J=this.cfg.extend(J),te=this._parse(te,J.format),X.createDecryptor($,J).finalize(te.ciphertext)},_parse:function(X,te){return"string"==typeof X?te.parse(X,this):X}}),L=(F.kdf={}).OpenSSL={execute:function(X,te,$,J,ge){if(J||(J=I.random(8)),ge)var pe=w.create({keySize:te+$,hasher:ge}).compute(X,J);else pe=w.create({keySize:te+$}).compute(X,J);var xe=I.create(pe.words.slice(te),4*$);return pe.sigBytes=4*te,D.create({key:pe,iv:xe,salt:J})}},se=y.PasswordBasedCipher=Y.extend({cfg:Y.cfg.extend({kdf:L}),encrypt:function(X,te,$,J){var ge=(J=this.cfg.extend(J)).kdf.execute($,X.keySize,X.ivSize,J.salt,J.hasher);J.iv=ge.iv;var pe=Y.encrypt.call(this,X,te,ge.key,J);return pe.mixIn(ge),pe},decrypt:function(X,te,$,J){J=this.cfg.extend(J),te=this._parse(te,J.format);var ge=J.kdf.execute($,X.keySize,X.ivSize,te.salt,J.hasher);return J.iv=ge.iv,Y.decrypt.call(this,X,te,ge.key,J)}}))))},7656:function(le,re,P){var g;le.exports=(g=g||function(b,F){var y;if(typeof window<"u"&&window.crypto&&(y=window.crypto),typeof self<"u"&&self.crypto&&(y=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(y=globalThis.crypto),!y&&typeof window<"u"&&window.msCrypto&&(y=window.msCrypto),!y&&typeof global<"u"&&global.crypto&&(y=global.crypto),!y)try{y=P(477)}catch{}var p=function(){if(y){if("function"==typeof y.getRandomValues)try{return y.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof y.randomBytes)try{return y.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},I=Object.create||function(){function f(){}return function(u){var M;return f.prototype=u,M=new f,f.prototype=null,M}}(),G={},h=G.lib={},x=h.Base={extend:function(f){var u=I(this);return f&&u.mixIn(f),(!u.hasOwnProperty("init")||this.init===u.init)&&(u.init=function(){u.$super.init.apply(this,arguments)}),u.init.prototype=u,u.$super=this,u},create:function(){var f=this.extend();return f.init.apply(f,arguments),f},init:function(){},mixIn:function(f){for(var u in f)f.hasOwnProperty(u)&&(this[u]=f[u]);f.hasOwnProperty("toString")&&(this.toString=f.toString)},clone:function(){return this.init.prototype.extend(this)}},T=h.WordArray=x.extend({init:function(f,u){f=this.words=f||[],this.sigBytes=null!=u?u:4*f.length},toString:function(f){return(f||w).stringify(this)},concat:function(f){var u=this.words,M=f.words,D=this.sigBytes,v=f.sigBytes;if(this.clamp(),D%4)for(var A=0;A<v;A++)u[D+A>>>2]|=(M[A>>>2]>>>24-A%4*8&255)<<24-(D+A)%4*8;else for(var q=0;q<v;q+=4)u[D+q>>>2]=M[q>>>2];return this.sigBytes+=v,this},clamp:function(){var f=this.words,u=this.sigBytes;f[u>>>2]&=4294967295<<32-u%4*8,f.length=b.ceil(u/4)},clone:function(){var f=x.clone.call(this);return f.words=this.words.slice(0),f},random:function(f){for(var u=[],M=0;M<f;M+=4)u.push(p());return new T.init(u,f)}}),C=G.enc={},w=C.Hex={stringify:function(f){for(var u=f.words,M=f.sigBytes,D=[],v=0;v<M;v++){var A=u[v>>>2]>>>24-v%4*8&255;D.push((A>>>4).toString(16)),D.push((15&A).toString(16))}return D.join("")},parse:function(f){for(var u=f.length,M=[],D=0;D<u;D+=2)M[D>>>3]|=parseInt(f.substr(D,2),16)<<24-D%8*4;return new T.init(M,u/2)}},_=C.Latin1={stringify:function(f){for(var u=f.words,M=f.sigBytes,D=[],v=0;v<M;v++)D.push(String.fromCharCode(u[v>>>2]>>>24-v%4*8&255));return D.join("")},parse:function(f){for(var u=f.length,M=[],D=0;D<u;D++)M[D>>>2]|=(255&f.charCodeAt(D))<<24-D%4*8;return new T.init(M,u)}},O=C.Utf8={stringify:function(f){try{return decodeURIComponent(escape(_.stringify(f)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(f){return _.parse(unescape(encodeURIComponent(f)))}},S=h.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new T.init,this._nDataBytes=0},_append:function(f){"string"==typeof f&&(f=O.parse(f)),this._data.concat(f),this._nDataBytes+=f.sigBytes},_process:function(f){var u,M=this._data,D=M.words,v=M.sigBytes,A=this.blockSize,q=v/(4*A),L=(q=f?b.ceil(q):b.max((0|q)-this._minBufferSize,0))*A,se=b.min(4*L,v);if(L){for(var X=0;X<L;X+=A)this._doProcessBlock(D,X);u=D.splice(0,L),M.sigBytes-=se}return new T.init(u,se)},clone:function(){var f=x.clone.call(this);return f._data=this._data.clone(),f},_minBufferSize:0}),B=(h.Hasher=S.extend({cfg:x.extend(),init:function(f){this.cfg=this.cfg.extend(f),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(f){return this._append(f),this._process(),this},finalize:function(f){return f&&this._append(f),this._doFinalize()},blockSize:16,_createHelper:function(f){return function(u,M){return new f.init(M).finalize(u)}},_createHmacHelper:function(f){return function(u,M){return new B.HMAC.init(f,M).finalize(u)}}}),G.algo={});return G}(Math),g)},8891:function(le,re,P){var g,y;le.exports=(g=P(7656),y=g.lib.WordArray,g.enc.Base64={stringify:function(h){var x=h.words,T=h.sigBytes,C=this._map;h.clamp();for(var w=[],_=0;_<T;_+=3)for(var B=(x[_>>>2]>>>24-_%4*8&255)<<16|(x[_+1>>>2]>>>24-(_+1)%4*8&255)<<8|x[_+2>>>2]>>>24-(_+2)%4*8&255,f=0;f<4&&_+.75*f<T;f++)w.push(C.charAt(B>>>6*(3-f)&63));var u=C.charAt(64);if(u)for(;w.length%4;)w.push(u);return w.join("")},parse:function(h){var x=h.length,T=this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var w=0;w<T.length;w++)C[T.charCodeAt(w)]=w}var _=T.charAt(64);if(_){var O=h.indexOf(_);-1!==O&&(x=O)}return function G(h,x,T){for(var C=[],w=0,_=0;_<x;_++)if(_%4){var O=T[h.charCodeAt(_-1)]<<_%4*2,S=T[h.charCodeAt(_)]>>>6-_%4*2;C[w>>>2]|=(O|S)<<24-w%4*8,w++}return y.create(C,w)}(h,x,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},g.enc.Base64)},6598:function(le,re,P){var g,y;le.exports=(g=P(7656),y=g.lib.WordArray,g.enc.Base64url={stringify:function(h,x){void 0===x&&(x=!0);var T=h.words,C=h.sigBytes,w=x?this._safe_map:this._map;h.clamp();for(var _=[],O=0;O<C;O+=3)for(var f=(T[O>>>2]>>>24-O%4*8&255)<<16|(T[O+1>>>2]>>>24-(O+1)%4*8&255)<<8|T[O+2>>>2]>>>24-(O+2)%4*8&255,u=0;u<4&&O+.75*u<C;u++)_.push(w.charAt(f>>>6*(3-u)&63));var M=w.charAt(64);if(M)for(;_.length%4;)_.push(M);return _.join("")},parse:function(h,x){void 0===x&&(x=!0);var T=h.length,C=x?this._safe_map:this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var _=0;_<C.length;_++)w[C.charCodeAt(_)]=_}var O=C.charAt(64);if(O){var S=h.indexOf(O);-1!==S&&(T=S)}return function G(h,x,T){for(var C=[],w=0,_=0;_<x;_++)if(_%4){var O=T[h.charCodeAt(_-1)]<<_%4*2,S=T[h.charCodeAt(_)]>>>6-_%4*2;C[w>>>2]|=(O|S)<<24-w%4*8,w++}return y.create(C,w)}(h,T,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},g.enc.Base64url)},5304:function(le,re,P){var g;le.exports=(g=P(7656),function(){var y=g.lib.WordArray,p=g.enc;function G(h){return h<<8&4278255360|h>>>8&16711935}p.Utf16=p.Utf16BE={stringify:function(h){for(var x=h.words,T=h.sigBytes,C=[],w=0;w<T;w+=2)C.push(String.fromCharCode(x[w>>>2]>>>16-w%4*8&65535));return C.join("")},parse:function(h){for(var x=h.length,T=[],C=0;C<x;C++)T[C>>>1]|=h.charCodeAt(C)<<16-C%2*16;return y.create(T,2*x)}},p.Utf16LE={stringify:function(h){for(var x=h.words,T=h.sigBytes,C=[],w=0;w<T;w+=2){var _=G(x[w>>>2]>>>16-w%4*8&65535);C.push(String.fromCharCode(_))}return C.join("")},parse:function(h){for(var x=h.length,T=[],C=0;C<x;C++)T[C>>>1]|=G(h.charCodeAt(C)<<16-C%2*16);return y.create(T,2*x)}}}(),g.enc.Utf16)},4147:function(le,re,P){var b,F,y,p,I,h,g;le.exports=(g=P(7656),P(9986),P(7868),p=(F=(b=g).lib).WordArray,h=(I=b.algo).EvpKDF=(y=F.Base).extend({cfg:y.extend({keySize:4,hasher:I.MD5,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,T){for(var C,w=this.cfg,_=w.hasher.create(),O=p.create(),S=O.words,R=w.keySize,B=w.iterations;S.length<R;){C&&_.update(C),C=_.update(x).finalize(T),_.reset();for(var f=1;f<B;f++)C=_.finalize(C),_.reset();O.concat(C)}return O.sigBytes=4*R,O}}),b.EvpKDF=function(x,T,C){return h.create(C).compute(x,T)},g.EvpKDF)},4564:function(le,re,P){var g,p,G;le.exports=(g=P(7656),P(2414),p=g.lib.CipherParams,G=g.enc.Hex,g.format.Hex={stringify:function(T){return T.ciphertext.toString(G)},parse:function(T){var C=G.parse(T);return p.create({ciphertext:C})}},g.format.Hex)},7868:function(le,re,P){var g,I;le.exports=(g=P(7656),I=g.enc.Utf8,void(g.algo.HMAC=g.lib.Base.extend({init:function(x,T){x=this._hasher=new x.init,"string"==typeof T&&(T=I.parse(T));var C=x.blockSize,w=4*C;T.sigBytes>w&&(T=x.finalize(T)),T.clamp();for(var _=this._oKey=T.clone(),O=this._iKey=T.clone(),S=_.words,R=O.words,B=0;B<C;B++)S[B]^=1549556828,R[B]^=909522486;_.sigBytes=O.sigBytes=w,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var T=this._hasher,C=T.finalize(x);return T.reset(),T.finalize(this._oKey.clone().concat(C))}})))},1471:function(le,re,P){var g;le.exports=(g=P(7656),P(4501),P(8823),P(5304),P(8891),P(6598),P(8855),P(9986),P(5168),P(9225),P(885),P(4068),P(3752),P(447),P(7868),P(7738),P(4147),P(2414),P(4152),P(9098),P(3438),P(6700),P(6115),P(332),P(7516),P(9047),P(6964),P(2599),P(4564),P(3188),P(2515),P(5350),P(2795),P(2923),P(5269),g)},8823:function(le,re,P){var g;le.exports=(g=P(7656),function(){if("function"==typeof ArrayBuffer){var y=g.lib.WordArray,p=y.init,I=y.init=function(G){if(G instanceof ArrayBuffer&&(G=new Uint8Array(G)),(G instanceof Int8Array||typeof Uint8ClampedArray<"u"&&G instanceof Uint8ClampedArray||G instanceof Int16Array||G instanceof Uint16Array||G instanceof Int32Array||G instanceof Uint32Array||G instanceof Float32Array||G instanceof Float64Array)&&(G=new Uint8Array(G.buffer,G.byteOffset,G.byteLength)),G instanceof Uint8Array){for(var h=G.byteLength,x=[],T=0;T<h;T++)x[T>>>2]|=G[T]<<24-T%4*8;p.call(this,x,h)}else p.apply(this,arguments)};I.prototype=y}}(),g.lib.WordArray)},8855:function(le,re,P){var g;le.exports=(g=P(7656),function(b){var F=g,y=F.lib,p=y.WordArray,I=y.Hasher,G=F.algo,h=[];!function(){for(var O=0;O<64;O++)h[O]=4294967296*b.abs(b.sin(O+1))|0}();var x=G.MD5=I.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(O,S){for(var R=0;R<16;R++){var B=S+R,f=O[B];O[B]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}var u=this._hash.words,M=O[S+0],D=O[S+1],v=O[S+2],A=O[S+3],Y=O[S+4],q=O[S+5],L=O[S+6],se=O[S+7],X=O[S+8],te=O[S+9],$=O[S+10],J=O[S+11],ge=O[S+12],pe=O[S+13],xe=O[S+14],Fe=O[S+15],H=u[0],Z=u[1],ee=u[2],W=u[3];H=T(H,Z,ee,W,M,7,h[0]),W=T(W,H,Z,ee,D,12,h[1]),ee=T(ee,W,H,Z,v,17,h[2]),Z=T(Z,ee,W,H,A,22,h[3]),H=T(H,Z,ee,W,Y,7,h[4]),W=T(W,H,Z,ee,q,12,h[5]),ee=T(ee,W,H,Z,L,17,h[6]),Z=T(Z,ee,W,H,se,22,h[7]),H=T(H,Z,ee,W,X,7,h[8]),W=T(W,H,Z,ee,te,12,h[9]),ee=T(ee,W,H,Z,$,17,h[10]),Z=T(Z,ee,W,H,J,22,h[11]),H=T(H,Z,ee,W,ge,7,h[12]),W=T(W,H,Z,ee,pe,12,h[13]),ee=T(ee,W,H,Z,xe,17,h[14]),H=C(H,Z=T(Z,ee,W,H,Fe,22,h[15]),ee,W,D,5,h[16]),W=C(W,H,Z,ee,L,9,h[17]),ee=C(ee,W,H,Z,J,14,h[18]),Z=C(Z,ee,W,H,M,20,h[19]),H=C(H,Z,ee,W,q,5,h[20]),W=C(W,H,Z,ee,$,9,h[21]),ee=C(ee,W,H,Z,Fe,14,h[22]),Z=C(Z,ee,W,H,Y,20,h[23]),H=C(H,Z,ee,W,te,5,h[24]),W=C(W,H,Z,ee,xe,9,h[25]),ee=C(ee,W,H,Z,A,14,h[26]),Z=C(Z,ee,W,H,X,20,h[27]),H=C(H,Z,ee,W,pe,5,h[28]),W=C(W,H,Z,ee,v,9,h[29]),ee=C(ee,W,H,Z,se,14,h[30]),H=w(H,Z=C(Z,ee,W,H,ge,20,h[31]),ee,W,q,4,h[32]),W=w(W,H,Z,ee,X,11,h[33]),ee=w(ee,W,H,Z,J,16,h[34]),Z=w(Z,ee,W,H,xe,23,h[35]),H=w(H,Z,ee,W,D,4,h[36]),W=w(W,H,Z,ee,Y,11,h[37]),ee=w(ee,W,H,Z,se,16,h[38]),Z=w(Z,ee,W,H,$,23,h[39]),H=w(H,Z,ee,W,pe,4,h[40]),W=w(W,H,Z,ee,M,11,h[41]),ee=w(ee,W,H,Z,A,16,h[42]),Z=w(Z,ee,W,H,L,23,h[43]),H=w(H,Z,ee,W,te,4,h[44]),W=w(W,H,Z,ee,ge,11,h[45]),ee=w(ee,W,H,Z,Fe,16,h[46]),H=_(H,Z=w(Z,ee,W,H,v,23,h[47]),ee,W,M,6,h[48]),W=_(W,H,Z,ee,se,10,h[49]),ee=_(ee,W,H,Z,xe,15,h[50]),Z=_(Z,ee,W,H,q,21,h[51]),H=_(H,Z,ee,W,ge,6,h[52]),W=_(W,H,Z,ee,A,10,h[53]),ee=_(ee,W,H,Z,$,15,h[54]),Z=_(Z,ee,W,H,D,21,h[55]),H=_(H,Z,ee,W,X,6,h[56]),W=_(W,H,Z,ee,Fe,10,h[57]),ee=_(ee,W,H,Z,L,15,h[58]),Z=_(Z,ee,W,H,pe,21,h[59]),H=_(H,Z,ee,W,Y,6,h[60]),W=_(W,H,Z,ee,J,10,h[61]),ee=_(ee,W,H,Z,v,15,h[62]),Z=_(Z,ee,W,H,te,21,h[63]),u[0]=u[0]+H|0,u[1]=u[1]+Z|0,u[2]=u[2]+ee|0,u[3]=u[3]+W|0},_doFinalize:function(){var O=this._data,S=O.words,R=8*this._nDataBytes,B=8*O.sigBytes;S[B>>>5]|=128<<24-B%32;var f=b.floor(R/4294967296),u=R;S[15+(B+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),S[14+(B+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),O.sigBytes=4*(S.length+1),this._process();for(var M=this._hash,D=M.words,v=0;v<4;v++){var A=D[v];D[v]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8)}return M},clone:function(){var O=I.clone.call(this);return O._hash=this._hash.clone(),O}});function T(O,S,R,B,f,u,M){var D=O+(S&R|~S&B)+f+M;return(D<<u|D>>>32-u)+S}function C(O,S,R,B,f,u,M){var D=O+(S&B|R&~B)+f+M;return(D<<u|D>>>32-u)+S}function w(O,S,R,B,f,u,M){var D=O+(S^R^B)+f+M;return(D<<u|D>>>32-u)+S}function _(O,S,R,B,f,u,M){var D=O+(R^(S|~B))+f+M;return(D<<u|D>>>32-u)+S}F.MD5=I._createHelper(x),F.HmacMD5=I._createHmacHelper(x)}(Math),g.MD5)},4152:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.mode.CFB=function(){var b=g.lib.BlockCipherMode.extend();function F(y,p,I,G){var h,x=this._iv;x?(h=x.slice(0),this._iv=void 0):h=this._prevBlock,G.encryptBlock(h,0);for(var T=0;T<I;T++)y[p+T]^=h[T]}return b.Encryptor=b.extend({processBlock:function(y,p){var I=this._cipher,G=I.blockSize;F.call(this,y,p,G,I),this._prevBlock=y.slice(p,p+G)}}),b.Decryptor=b.extend({processBlock:function(y,p){var I=this._cipher,G=I.blockSize,h=y.slice(p,p+G);F.call(this,y,p,G,I),this._prevBlock=h}}),b}(),g.mode.CFB)},3438:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.mode.CTRGladman=function(){var b=g.lib.BlockCipherMode.extend();function F(I){if(255==(I>>24&255)){var G=I>>16&255,h=I>>8&255,x=255&I;255===G?(G=0,255===h?(h=0,255===x?x=0:++x):++h):++G,I=0,I+=G<<16,I+=h<<8,I+=x}else I+=1<<24;return I}var p=b.Encryptor=b.extend({processBlock:function(I,G){var h=this._cipher,x=h.blockSize,T=this._iv,C=this._counter;T&&(C=this._counter=T.slice(0),this._iv=void 0),function y(I){return 0===(I[0]=F(I[0]))&&(I[1]=F(I[1])),I}(C);var w=C.slice(0);h.encryptBlock(w,0);for(var _=0;_<x;_++)I[G+_]^=w[_]}});return b.Decryptor=p,b}(),g.mode.CTRGladman)},9098:function(le,re,P){var b,F,g;le.exports=(g=P(7656),P(2414),g.mode.CTR=(F=(b=g.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(y,p){var I=this._cipher,G=I.blockSize,h=this._iv,x=this._counter;h&&(x=this._counter=h.slice(0),this._iv=void 0);var T=x.slice(0);I.encryptBlock(T,0),x[G-1]=x[G-1]+1|0;for(var C=0;C<G;C++)y[p+C]^=T[C]}}),b.Decryptor=F,b),g.mode.CTR)},6115:function(le,re,P){var b,g;le.exports=(g=P(7656),P(2414),g.mode.ECB=((b=g.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(F,y){this._cipher.encryptBlock(F,y)}}),b.Decryptor=b.extend({processBlock:function(F,y){this._cipher.decryptBlock(F,y)}}),b),g.mode.ECB)},6700:function(le,re,P){var b,F,g;le.exports=(g=P(7656),P(2414),g.mode.OFB=(F=(b=g.lib.BlockCipherMode.extend()).Encryptor=b.extend({processBlock:function(y,p){var I=this._cipher,G=I.blockSize,h=this._iv,x=this._keystream;h&&(x=this._keystream=h.slice(0),this._iv=void 0),I.encryptBlock(x,0);for(var T=0;T<G;T++)y[p+T]^=x[T]}}),b.Decryptor=F,b),g.mode.OFB)},332:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.pad.AnsiX923={pad:function(b,F){var y=b.sigBytes,p=4*F,I=p-y%p,G=y+I-1;b.clamp(),b.words[G>>>2]|=I<<24-G%4*8,b.sigBytes+=I},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},g.pad.Ansix923)},7516:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.pad.Iso10126={pad:function(b,F){var y=4*F,p=y-b.sigBytes%y;b.concat(g.lib.WordArray.random(p-1)).concat(g.lib.WordArray.create([p<<24],1))},unpad:function(b){b.sigBytes-=255&b.words[b.sigBytes-1>>>2]}},g.pad.Iso10126)},9047:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.pad.Iso97971={pad:function(b,F){b.concat(g.lib.WordArray.create([2147483648],1)),g.pad.ZeroPadding.pad(b,F)},unpad:function(b){g.pad.ZeroPadding.unpad(b),b.sigBytes--}},g.pad.Iso97971)},2599:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.pad.NoPadding={pad:function(){},unpad:function(){}},g.pad.NoPadding)},6964:function(le,re,P){var g;le.exports=(g=P(7656),P(2414),g.pad.ZeroPadding={pad:function(b,F){var y=4*F;b.clamp(),b.sigBytes+=y-(b.sigBytes%y||y)},unpad:function(b){var F=b.words,y=b.sigBytes-1;for(y=b.sigBytes-1;y>=0;y--)if(F[y>>>2]>>>24-y%4*8&255){b.sigBytes=y+1;break}}},g.pad.ZeroPadding)},7738:function(le,re,P){var b,F,y,p,I,h,x,g;le.exports=(g=P(7656),P(5168),P(7868),p=(F=(b=g).lib).WordArray,h=(I=b.algo).HMAC,x=I.PBKDF2=(y=F.Base).extend({cfg:y.extend({keySize:4,hasher:I.SHA256,iterations:25e4}),init:function(T){this.cfg=this.cfg.extend(T)},compute:function(T,C){for(var w=this.cfg,_=h.create(w.hasher,T),O=p.create(),S=p.create([1]),R=O.words,B=S.words,f=w.keySize,u=w.iterations;R.length<f;){var M=_.update(C).finalize(S);_.reset();for(var D=M.words,v=D.length,A=M,Y=1;Y<u;Y++){A=_.finalize(A),_.reset();for(var q=A.words,L=0;L<v;L++)D[L]^=q[L]}O.concat(M),B[0]++}return O.sigBytes=4*f,O}}),b.PBKDF2=function(T,C,w){return x.create(w).compute(T,C)},g.PBKDF2)},2923:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,y=b.lib.StreamCipher,I=[],G=[],h=[],x=b.algo.RabbitLegacy=y.extend({_doReset:function(){var C=this._key.words,w=this.cfg.iv,_=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],O=this._C=[C[2]<<16|C[2]>>>16,4294901760&C[0]|65535&C[1],C[3]<<16|C[3]>>>16,4294901760&C[1]|65535&C[2],C[0]<<16|C[0]>>>16,4294901760&C[2]|65535&C[3],C[1]<<16|C[1]>>>16,4294901760&C[3]|65535&C[0]];this._b=0;for(var S=0;S<4;S++)T.call(this);for(S=0;S<8;S++)O[S]^=_[S+4&7];if(w){var R=w.words,B=R[0],f=R[1],u=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),M=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),D=u>>>16|4294901760&M,v=M<<16|65535&u;for(O[0]^=u,O[1]^=D,O[2]^=M,O[3]^=v,O[4]^=u,O[5]^=D,O[6]^=M,O[7]^=v,S=0;S<4;S++)T.call(this)}},_doProcessBlock:function(C,w){var _=this._X;T.call(this),I[0]=_[0]^_[5]>>>16^_[3]<<16,I[1]=_[2]^_[7]>>>16^_[5]<<16,I[2]=_[4]^_[1]>>>16^_[7]<<16,I[3]=_[6]^_[3]>>>16^_[1]<<16;for(var O=0;O<4;O++)I[O]=16711935&(I[O]<<8|I[O]>>>24)|4278255360&(I[O]<<24|I[O]>>>8),C[w+O]^=I[O]},blockSize:4,ivSize:2});function T(){for(var C=this._X,w=this._C,_=0;_<8;_++)G[_]=w[_];for(w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<G[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<G[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<G[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<G[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<G[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<G[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<G[6]>>>0?1:0)|0,this._b=w[7]>>>0<G[7]>>>0?1:0,_=0;_<8;_++){var O=C[_]+w[_],S=65535&O,R=O>>>16;h[_]=((S*S>>>17)+S*R>>>15)+R*R^((4294901760&O)*O|0)+((65535&O)*O|0)}C[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,C[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,C[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,C[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,C[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,C[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,C[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,C[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}b.RabbitLegacy=y._createHelper(x)}(),g.RabbitLegacy)},2795:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,y=b.lib.StreamCipher,I=[],G=[],h=[],x=b.algo.Rabbit=y.extend({_doReset:function(){for(var C=this._key.words,w=this.cfg.iv,_=0;_<4;_++)C[_]=16711935&(C[_]<<8|C[_]>>>24)|4278255360&(C[_]<<24|C[_]>>>8);var O=this._X=[C[0],C[3]<<16|C[2]>>>16,C[1],C[0]<<16|C[3]>>>16,C[2],C[1]<<16|C[0]>>>16,C[3],C[2]<<16|C[1]>>>16],S=this._C=[C[2]<<16|C[2]>>>16,4294901760&C[0]|65535&C[1],C[3]<<16|C[3]>>>16,4294901760&C[1]|65535&C[2],C[0]<<16|C[0]>>>16,4294901760&C[2]|65535&C[3],C[1]<<16|C[1]>>>16,4294901760&C[3]|65535&C[0]];for(this._b=0,_=0;_<4;_++)T.call(this);for(_=0;_<8;_++)S[_]^=O[_+4&7];if(w){var R=w.words,B=R[0],f=R[1],u=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),M=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),D=u>>>16|4294901760&M,v=M<<16|65535&u;for(S[0]^=u,S[1]^=D,S[2]^=M,S[3]^=v,S[4]^=u,S[5]^=D,S[6]^=M,S[7]^=v,_=0;_<4;_++)T.call(this)}},_doProcessBlock:function(C,w){var _=this._X;T.call(this),I[0]=_[0]^_[5]>>>16^_[3]<<16,I[1]=_[2]^_[7]>>>16^_[5]<<16,I[2]=_[4]^_[1]>>>16^_[7]<<16,I[3]=_[6]^_[3]>>>16^_[1]<<16;for(var O=0;O<4;O++)I[O]=16711935&(I[O]<<8|I[O]>>>24)|4278255360&(I[O]<<24|I[O]>>>8),C[w+O]^=I[O]},blockSize:4,ivSize:2});function T(){for(var C=this._X,w=this._C,_=0;_<8;_++)G[_]=w[_];for(w[0]=w[0]+1295307597+this._b|0,w[1]=w[1]+3545052371+(w[0]>>>0<G[0]>>>0?1:0)|0,w[2]=w[2]+886263092+(w[1]>>>0<G[1]>>>0?1:0)|0,w[3]=w[3]+1295307597+(w[2]>>>0<G[2]>>>0?1:0)|0,w[4]=w[4]+3545052371+(w[3]>>>0<G[3]>>>0?1:0)|0,w[5]=w[5]+886263092+(w[4]>>>0<G[4]>>>0?1:0)|0,w[6]=w[6]+1295307597+(w[5]>>>0<G[5]>>>0?1:0)|0,w[7]=w[7]+3545052371+(w[6]>>>0<G[6]>>>0?1:0)|0,this._b=w[7]>>>0<G[7]>>>0?1:0,_=0;_<8;_++){var O=C[_]+w[_],S=65535&O,R=O>>>16;h[_]=((S*S>>>17)+S*R>>>15)+R*R^((4294901760&O)*O|0)+((65535&O)*O|0)}C[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,C[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,C[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,C[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,C[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,C[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,C[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,C[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}b.Rabbit=y._createHelper(x)}(),g.Rabbit)},5350:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,y=b.lib.StreamCipher,p=b.algo,I=p.RC4=y.extend({_doReset:function(){for(var x=this._key,T=x.words,C=x.sigBytes,w=this._S=[],_=0;_<256;_++)w[_]=_;_=0;for(var O=0;_<256;_++){var S=_%C,B=w[_];w[_]=w[O=(O+w[_]+(T[S>>>2]>>>24-S%4*8&255))%256],w[O]=B}this._i=this._j=0},_doProcessBlock:function(x,T){x[T]^=G.call(this)},keySize:8,ivSize:0});function G(){for(var x=this._S,T=this._i,C=this._j,w=0,_=0;_<4;_++){var O=x[T=(T+1)%256];x[T]=x[C=(C+x[T])%256],x[C]=O,w|=x[(x[T]+x[C])%256]<<24-8*_}return this._i=T,this._j=C,w}b.RC4=y._createHelper(I);var h=p.RC4Drop=I.extend({cfg:I.cfg.extend({drop:192}),_doReset:function(){I._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)G.call(this)}});b.RC4Drop=y._createHelper(h)}(),g.RC4)},447:function(le,re,P){var g;le.exports=(g=P(7656),function(b){var F=g,y=F.lib,p=y.WordArray,I=y.Hasher,G=F.algo,h=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),T=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),C=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),w=p.create([0,1518500249,1859775393,2400959708,2840853838]),_=p.create([1352829926,1548603684,1836072691,2053994217,0]),O=G.RIPEMD160=I.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,v){for(var A=0;A<16;A++){var Y=v+A,q=D[Y];D[Y]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}var pe,xe,Fe,H,Z,ee,W,Ae,Te,$e,ve,L=this._hash.words,se=w.words,X=_.words,te=h.words,$=x.words,J=T.words,ge=C.words;for(ee=pe=L[0],W=xe=L[1],Ae=Fe=L[2],Te=H=L[3],$e=Z=L[4],A=0;A<80;A+=1)ve=pe+D[v+te[A]]|0,ve+=A<16?S(xe,Fe,H)+se[0]:A<32?R(xe,Fe,H)+se[1]:A<48?B(xe,Fe,H)+se[2]:A<64?f(xe,Fe,H)+se[3]:u(xe,Fe,H)+se[4],ve=(ve=M(ve|=0,J[A]))+Z|0,pe=Z,Z=H,H=M(Fe,10),Fe=xe,xe=ve,ve=ee+D[v+$[A]]|0,ve+=A<16?u(W,Ae,Te)+X[0]:A<32?f(W,Ae,Te)+X[1]:A<48?B(W,Ae,Te)+X[2]:A<64?R(W,Ae,Te)+X[3]:S(W,Ae,Te)+X[4],ve=(ve=M(ve|=0,ge[A]))+$e|0,ee=$e,$e=Te,Te=M(Ae,10),Ae=W,W=ve;ve=L[1]+Fe+Te|0,L[1]=L[2]+H+$e|0,L[2]=L[3]+Z+ee|0,L[3]=L[4]+pe+W|0,L[4]=L[0]+xe+Ae|0,L[0]=ve},_doFinalize:function(){var D=this._data,v=D.words,A=8*this._nDataBytes,Y=8*D.sigBytes;v[Y>>>5]|=128<<24-Y%32,v[14+(Y+64>>>9<<4)]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8),D.sigBytes=4*(v.length+1),this._process();for(var q=this._hash,L=q.words,se=0;se<5;se++){var X=L[se];L[se]=16711935&(X<<8|X>>>24)|4278255360&(X<<24|X>>>8)}return q},clone:function(){var D=I.clone.call(this);return D._hash=this._hash.clone(),D}});function S(D,v,A){return D^v^A}function R(D,v,A){return D&v|~D&A}function B(D,v,A){return(D|~v)^A}function f(D,v,A){return D&A|v&~A}function u(D,v,A){return D^(v|~A)}function M(D,v){return D<<v|D>>>32-v}F.RIPEMD160=I._createHelper(O),F.HmacRIPEMD160=I._createHmacHelper(O)}(Math),g.RIPEMD160)},9986:function(le,re,P){var b,F,y,p,G,h,g;le.exports=(g=P(7656),y=(F=(b=g).lib).WordArray,G=[],h=b.algo.SHA1=(p=F.Hasher).extend({_doReset:function(){this._hash=new y.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,T){for(var C=this._hash.words,w=C[0],_=C[1],O=C[2],S=C[3],R=C[4],B=0;B<80;B++){if(B<16)G[B]=0|x[T+B];else{var f=G[B-3]^G[B-8]^G[B-14]^G[B-16];G[B]=f<<1|f>>>31}var u=(w<<5|w>>>27)+R+G[B];u+=B<20?1518500249+(_&O|~_&S):B<40?1859775393+(_^O^S):B<60?(_&O|_&S|O&S)-1894007588:(_^O^S)-899497514,R=S,S=O,O=_<<30|_>>>2,_=w,w=u}C[0]=C[0]+w|0,C[1]=C[1]+_|0,C[2]=C[2]+O|0,C[3]=C[3]+S|0,C[4]=C[4]+R|0},_doFinalize:function(){var x=this._data,T=x.words,C=8*this._nDataBytes,w=8*x.sigBytes;return T[w>>>5]|=128<<24-w%32,T[14+(w+64>>>9<<4)]=Math.floor(C/4294967296),T[15+(w+64>>>9<<4)]=C,x.sigBytes=4*T.length,this._process(),this._hash},clone:function(){var x=p.clone.call(this);return x._hash=this._hash.clone(),x}}),b.SHA1=p._createHelper(h),b.HmacSHA1=p._createHmacHelper(h),g.SHA1)},9225:function(le,re,P){var b,y,p,I,G,g;le.exports=(g=P(7656),P(5168),y=(b=g).lib.WordArray,G=(p=b.algo).SHA224=(I=p.SHA256).extend({_doReset:function(){this._hash=new y.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=I._doFinalize.call(this);return h.sigBytes-=4,h}}),b.SHA224=I._createHelper(G),b.HmacSHA224=I._createHmacHelper(G),g.SHA224)},5168:function(le,re,P){var g;le.exports=(g=P(7656),function(b){var F=g,y=F.lib,p=y.WordArray,I=y.Hasher,G=F.algo,h=[],x=[];!function(){function w(R){for(var B=b.sqrt(R),f=2;f<=B;f++)if(!(R%f))return!1;return!0}function _(R){return 4294967296*(R-(0|R))|0}for(var O=2,S=0;S<64;)w(O)&&(S<8&&(h[S]=_(b.pow(O,.5))),x[S]=_(b.pow(O,1/3)),S++),O++}();var T=[],C=G.SHA256=I.extend({_doReset:function(){this._hash=new p.init(h.slice(0))},_doProcessBlock:function(w,_){for(var O=this._hash.words,S=O[0],R=O[1],B=O[2],f=O[3],u=O[4],M=O[5],D=O[6],v=O[7],A=0;A<64;A++){if(A<16)T[A]=0|w[_+A];else{var Y=T[A-15],L=T[A-2];T[A]=((Y<<25|Y>>>7)^(Y<<14|Y>>>18)^Y>>>3)+T[A-7]+((L<<15|L>>>17)^(L<<13|L>>>19)^L>>>10)+T[A-16]}var te=S&R^S&B^R&B,ge=v+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&M^~u&D)+x[A]+T[A];v=D,D=M,M=u,u=f+ge|0,f=B,B=R,R=S,S=ge+(((S<<30|S>>>2)^(S<<19|S>>>13)^(S<<10|S>>>22))+te)|0}O[0]=O[0]+S|0,O[1]=O[1]+R|0,O[2]=O[2]+B|0,O[3]=O[3]+f|0,O[4]=O[4]+u|0,O[5]=O[5]+M|0,O[6]=O[6]+D|0,O[7]=O[7]+v|0},_doFinalize:function(){var w=this._data,_=w.words,O=8*this._nDataBytes,S=8*w.sigBytes;return _[S>>>5]|=128<<24-S%32,_[14+(S+64>>>9<<4)]=b.floor(O/4294967296),_[15+(S+64>>>9<<4)]=O,w.sigBytes=4*_.length,this._process(),this._hash},clone:function(){var w=I.clone.call(this);return w._hash=this._hash.clone(),w}});F.SHA256=I._createHelper(C),F.HmacSHA256=I._createHmacHelper(C)}(Math),g.SHA256)},3752:function(le,re,P){var g;le.exports=(g=P(7656),P(4501),function(b){var F=g,y=F.lib,p=y.WordArray,I=y.Hasher,h=F.x64.Word,x=F.algo,T=[],C=[],w=[];!function(){for(var S=1,R=0,B=0;B<24;B++){T[S+5*R]=(B+1)*(B+2)/2%64;var u=(2*S+3*R)%5;S=R%5,R=u}for(S=0;S<5;S++)for(R=0;R<5;R++)C[S+5*R]=R+(2*S+3*R)%5*5;for(var M=1,D=0;D<24;D++){for(var v=0,A=0,Y=0;Y<7;Y++){if(1&M){var q=(1<<Y)-1;q<32?A^=1<<q:v^=1<<q-32}128&M?M=M<<1^113:M<<=1}w[D]=h.create(v,A)}}();var _=[];!function(){for(var S=0;S<25;S++)_[S]=h.create()}();var O=x.SHA3=I.extend({cfg:I.cfg.extend({outputLength:512}),_doReset:function(){for(var S=this._state=[],R=0;R<25;R++)S[R]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(S,R){for(var B=this._state,f=this.blockSize/2,u=0;u<f;u++){var M=S[R+2*u],D=S[R+2*u+1];M=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),(v=B[u]).high^=D=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),v.low^=M}for(var A=0;A<24;A++){for(var Y=0;Y<5;Y++){for(var q=0,L=0,se=0;se<5;se++)q^=(v=B[Y+5*se]).high,L^=v.low;var X=_[Y];X.high=q,X.low=L}for(Y=0;Y<5;Y++){var te=_[(Y+4)%5],$=_[(Y+1)%5],J=$.high,ge=$.low;for(q=te.high^(J<<1|ge>>>31),L=te.low^(ge<<1|J>>>31),se=0;se<5;se++)(v=B[Y+5*se]).high^=q,v.low^=L}for(var pe=1;pe<25;pe++){var xe=(v=B[pe]).high,Fe=v.low,H=T[pe];H<32?(q=xe<<H|Fe>>>32-H,L=Fe<<H|xe>>>32-H):(q=Fe<<H-32|xe>>>64-H,L=xe<<H-32|Fe>>>64-H);var Z=_[C[pe]];Z.high=q,Z.low=L}var ee=_[0],W=B[0];for(ee.high=W.high,ee.low=W.low,Y=0;Y<5;Y++)for(se=0;se<5;se++){var Ae=_[pe=Y+5*se],Te=_[(Y+1)%5+5*se],$e=_[(Y+2)%5+5*se];(v=B[pe]).high=Ae.high^~Te.high&$e.high,v.low=Ae.low^~Te.low&$e.low}var v,ve=w[A];(v=B[0]).high^=ve.high,v.low^=ve.low}},_doFinalize:function(){var S=this._data,R=S.words,f=8*S.sigBytes,u=32*this.blockSize;R[f>>>5]|=1<<24-f%32,R[(b.ceil((f+1)/u)*u>>>5)-1]|=128,S.sigBytes=4*R.length,this._process();for(var M=this._state,D=this.cfg.outputLength/8,v=D/8,A=[],Y=0;Y<v;Y++){var q=M[Y],L=q.high,se=q.low;L=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8),A.push(se=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8)),A.push(L)}return new p.init(A,D)},clone:function(){for(var S=I.clone.call(this),R=S._state=this._state.slice(0),B=0;B<25;B++)R[B]=R[B].clone();return S}});F.SHA3=I._createHelper(O),F.HmacSHA3=I._createHmacHelper(O)}(Math),g.SHA3)},4068:function(le,re,P){var b,F,y,p,I,G,h,g;le.exports=(g=P(7656),P(4501),P(885),y=(F=(b=g).x64).Word,p=F.WordArray,h=(I=b.algo).SHA384=(G=I.SHA512).extend({_doReset:function(){this._hash=new p.init([new y.init(3418070365,3238371032),new y.init(1654270250,914150663),new y.init(2438529370,812702999),new y.init(355462360,4144912697),new y.init(1731405415,4290775857),new y.init(2394180231,1750603025),new y.init(3675008525,1694076839),new y.init(1203062813,3204075428)])},_doFinalize:function(){var x=G._doFinalize.call(this);return x.sigBytes-=16,x}}),b.SHA384=G._createHelper(h),b.HmacSHA384=G._createHmacHelper(h),g.SHA384)},885:function(le,re,P){var g;le.exports=(g=P(7656),P(4501),function(){var b=g,y=b.lib.Hasher,p=b.x64,I=p.Word,G=p.WordArray,h=b.algo;function x(){return I.create.apply(I,arguments)}var T=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],C=[];!function(){for(var _=0;_<80;_++)C[_]=x()}();var w=h.SHA512=y.extend({_doReset:function(){this._hash=new G.init([new I.init(1779033703,4089235720),new I.init(3144134277,2227873595),new I.init(1013904242,4271175723),new I.init(2773480762,1595750129),new I.init(1359893119,2917565137),new I.init(2600822924,725511199),new I.init(528734635,4215389547),new I.init(1541459225,327033209)])},_doProcessBlock:function(_,O){for(var S=this._hash.words,R=S[0],B=S[1],f=S[2],u=S[3],M=S[4],D=S[5],v=S[6],A=S[7],Y=R.high,q=R.low,L=B.high,se=B.low,X=f.high,te=f.low,$=u.high,J=u.low,ge=M.high,pe=M.low,xe=D.high,Fe=D.low,H=v.high,Z=v.low,ee=A.high,W=A.low,Ae=Y,Te=q,$e=L,ve=se,bt=X,gt=te,pn=$,Pt=J,et=ge,Ye=pe,at=xe,xt=Fe,Vt=H,wt=Z,Ht=ee,Ot=W,tt=0;tt<80;tt++){var Ze,st,$t=C[tt];if(tt<16)st=$t.high=0|_[O+2*tt],Ze=$t.low=0|_[O+2*tt+1];else{var Ut=C[tt-15],it=Ut.high,yt=Ut.low,Dt=(yt>>>1|it<<31)^(yt>>>8|it<<24)^(yt>>>7|it<<25),vt=C[tt-2],Ft=vt.high,lt=vt.low,On=(lt>>>19|Ft<<13)^(lt<<3|Ft>>>29)^(lt>>>6|Ft<<26),ct=C[tt-7],Wt=C[tt-16],Zt=Wt.low;$t.high=st=(st=(st=((it>>>1|yt<<31)^(it>>>8|yt<<24)^it>>>7)+ct.high+((Ze=Dt+ct.low)>>>0<Dt>>>0?1:0))+((Ft>>>19|lt<<13)^(Ft<<3|lt>>>29)^Ft>>>6)+((Ze+=On)>>>0<On>>>0?1:0))+Wt.high+((Ze+=Zt)>>>0<Zt>>>0?1:0),$t.low=Ze}var ze,En=et&at^~et&Vt,un=Ye&xt^~Ye&wt,gn=Ae&$e^Ae&bt^$e&bt,dt=(Te>>>28|Ae<<4)^(Te<<30|Ae>>>2)^(Te<<25|Ae>>>7),hn=T[tt],Qt=hn.low,rt=Ht+((et>>>14|Ye<<18)^(et>>>18|Ye<<14)^(et<<23|Ye>>>9))+((ze=Ot+((Ye>>>14|et<<18)^(Ye>>>18|et<<14)^(Ye<<23|et>>>9)))>>>0<Ot>>>0?1:0),_n=dt+(Te&ve^Te&gt^ve&gt);Ht=Vt,Ot=wt,Vt=at,wt=xt,at=et,xt=Ye,et=pn+(rt=(rt=(rt=rt+En+((ze+=un)>>>0<un>>>0?1:0))+hn.high+((ze+=Qt)>>>0<Qt>>>0?1:0))+st+((ze+=Ze)>>>0<Ze>>>0?1:0))+((Ye=Pt+ze|0)>>>0<Pt>>>0?1:0)|0,pn=bt,Pt=gt,bt=$e,gt=ve,$e=Ae,ve=Te,Ae=rt+(((Ae>>>28|Te<<4)^(Ae<<30|Te>>>2)^(Ae<<25|Te>>>7))+gn+(_n>>>0<dt>>>0?1:0))+((Te=ze+_n|0)>>>0<ze>>>0?1:0)|0}q=R.low=q+Te,R.high=Y+Ae+(q>>>0<Te>>>0?1:0),se=B.low=se+ve,B.high=L+$e+(se>>>0<ve>>>0?1:0),te=f.low=te+gt,f.high=X+bt+(te>>>0<gt>>>0?1:0),J=u.low=J+Pt,u.high=$+pn+(J>>>0<Pt>>>0?1:0),pe=M.low=pe+Ye,M.high=ge+et+(pe>>>0<Ye>>>0?1:0),Fe=D.low=Fe+xt,D.high=xe+at+(Fe>>>0<xt>>>0?1:0),Z=v.low=Z+wt,v.high=H+Vt+(Z>>>0<wt>>>0?1:0),W=A.low=W+Ot,A.high=ee+Ht+(W>>>0<Ot>>>0?1:0)},_doFinalize:function(){var _=this._data,O=_.words,S=8*this._nDataBytes,R=8*_.sigBytes;return O[R>>>5]|=128<<24-R%32,O[30+(R+128>>>10<<5)]=Math.floor(S/4294967296),O[31+(R+128>>>10<<5)]=S,_.sigBytes=4*O.length,this._process(),this._hash.toX32()},clone:function(){var _=y.clone.call(this);return _._hash=this._hash.clone(),_},blockSize:32});b.SHA512=y._createHelper(w),b.HmacSHA512=y._createHmacHelper(w)}(),g.SHA512)},2515:function(le,re,P){var g;le.exports=(g=P(7656),P(8891),P(8855),P(4147),P(2414),function(){var b=g,F=b.lib,y=F.WordArray,p=F.BlockCipher,I=b.algo,G=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],T=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],C=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=I.DES=p.extend({_doReset:function(){for(var B=this._key.words,f=[],u=0;u<56;u++){var M=G[u]-1;f[u]=B[M>>>5]>>>31-M%32&1}for(var D=this._subKeys=[],v=0;v<16;v++){var A=D[v]=[],Y=x[v];for(u=0;u<24;u++)A[u/6|0]|=f[(h[u]-1+Y)%28]<<31-u%6,A[4+(u/6|0)]|=f[28+(h[u+24]-1+Y)%28]<<31-u%6;for(A[0]=A[0]<<1|A[0]>>>31,u=1;u<7;u++)A[u]=A[u]>>>4*(u-1)+3;A[7]=A[7]<<5|A[7]>>>27}var q=this._invSubKeys=[];for(u=0;u<16;u++)q[u]=D[15-u]},encryptBlock:function(R,B){this._doCryptBlock(R,B,this._subKeys)},decryptBlock:function(R,B){this._doCryptBlock(R,B,this._invSubKeys)},_doCryptBlock:function(R,B,f){this._lBlock=R[B],this._rBlock=R[B+1],_.call(this,4,252645135),_.call(this,16,65535),O.call(this,2,858993459),O.call(this,8,16711935),_.call(this,1,1431655765);for(var u=0;u<16;u++){for(var M=f[u],D=this._lBlock,v=this._rBlock,A=0,Y=0;Y<8;Y++)A|=T[Y][((v^M[Y])&C[Y])>>>0];this._lBlock=v,this._rBlock=D^A}var q=this._lBlock;this._lBlock=this._rBlock,this._rBlock=q,_.call(this,1,1431655765),O.call(this,8,16711935),O.call(this,2,858993459),_.call(this,16,65535),_.call(this,4,252645135),R[B]=this._lBlock,R[B+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function _(R,B){var f=(this._lBlock>>>R^this._rBlock)&B;this._rBlock^=f,this._lBlock^=f<<R}function O(R,B){var f=(this._rBlock>>>R^this._lBlock)&B;this._lBlock^=f,this._rBlock^=f<<R}b.DES=p._createHelper(w);var S=I.TripleDES=p.extend({_doReset:function(){var B=this._key.words;if(2!==B.length&&4!==B.length&&B.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var f=B.slice(0,2),u=B.length<4?B.slice(0,2):B.slice(2,4),M=B.length<6?B.slice(0,2):B.slice(4,6);this._des1=w.createEncryptor(y.create(f)),this._des2=w.createEncryptor(y.create(u)),this._des3=w.createEncryptor(y.create(M))},encryptBlock:function(R,B){this._des1.encryptBlock(R,B),this._des2.decryptBlock(R,B),this._des3.encryptBlock(R,B)},decryptBlock:function(R,B){this._des3.decryptBlock(R,B),this._des2.encryptBlock(R,B),this._des1.decryptBlock(R,B)},keySize:6,ivSize:2,blockSize:2});b.TripleDES=p._createHelper(S)}(),g.TripleDES)},4501:function(le,re,P){var y,p,I,G,g;le.exports=(g=P(7656),p=(y=g.lib).Base,I=y.WordArray,(G=g.x64={}).Word=p.extend({init:function(T,C){this.high=T,this.low=C}}),G.WordArray=p.extend({init:function(T,C){T=this.words=T||[],this.sigBytes=null!=C?C:8*T.length},toX32:function(){for(var T=this.words,C=T.length,w=[],_=0;_<C;_++){var O=T[_];w.push(O.high),w.push(O.low)}return I.create(w,this.sigBytes)},clone:function(){for(var T=p.clone.call(this),C=T.words=this.words.slice(0),w=C.length,_=0;_<w;_++)C[_]=C[_].clone();return T}}),g)},8629:(le,re)=>{"use strict";var P=Object.prototype.hasOwnProperty;function b(I){try{return decodeURIComponent(I.replace(/\+/g," "))}catch{return null}}function F(I){try{return encodeURIComponent(I)}catch{return null}}re.stringify=function p(I,G){G=G||"";var x,T,h=[];for(T in"string"!=typeof G&&(G="?"),I)if(P.call(I,T)){if(!(x=I[T])&&(null==x||isNaN(x))&&(x=""),T=F(T),x=F(x),null===T||null===x)continue;h.push(T+"="+x)}return h.length?G+h.join("&"):""},re.parse=function y(I){for(var x,G=/([^=?#&]+)=?([^&]*)/g,h={};x=G.exec(I);){var T=b(x[1]),C=b(x[2]);null===T||null===C||T in h||(h[T]=C)}return h}},5852:le=>{"use strict";le.exports=function(P,g){if(g=g.split(":")[0],!(P=+P))return!1;switch(g){case"http":case"ws":return 80!==P;case"https":case"wss":return 443!==P;case"ftp":return 21!==P;case"gopher":return 70!==P;case"file":return!1}return 0!==P}},3711:(le,re,P)=>{"use strict";var g=P(5852),b=P(8629),F=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,y=/[\n\r\t]/g,p=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,I=/:\d+$/,G=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,h=/^[a-zA-Z]:/;function x(u){return(u||"").toString().replace(F,"")}var T=[["#","hash"],["?","query"],function(M,D){return _(D.protocol)?M.replace(/\\/g,"/"):M},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],C={hash:1,query:1};function w(u){var M;M=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Y,v={},A=typeof(u=u||M.location||{});if("blob:"===u.protocol)v=new R(unescape(u.pathname),{});else if("string"===A)for(Y in v=new R(u,{}),C)delete v[Y];else if("object"===A){for(Y in u)Y in C||(v[Y]=u[Y]);void 0===v.slashes&&(v.slashes=p.test(u.href))}return v}function _(u){return"file:"===u||"ftp:"===u||"http:"===u||"https:"===u||"ws:"===u||"wss:"===u}function O(u,M){u=(u=x(u)).replace(y,""),M=M||{};var L,D=G.exec(u),v=D[1]?D[1].toLowerCase():"",A=!!D[2],Y=!!D[3],q=0;return A?Y?(L=D[2]+D[3]+D[4],q=D[2].length+D[3].length):(L=D[2]+D[4],q=D[2].length):Y?(L=D[3]+D[4],q=D[3].length):L=D[4],"file:"===v?q>=2&&(L=L.slice(2)):_(v)?L=D[4]:v?A&&(L=L.slice(2)):q>=2&&_(M.protocol)&&(L=D[4]),{protocol:v,slashes:A||_(v),slashesCount:q,rest:L}}function R(u,M,D){if(u=(u=x(u)).replace(y,""),!(this instanceof R))return new R(u,M,D);var v,A,Y,q,L,se,X=T.slice(),te=typeof M,$=this,J=0;for("object"!==te&&"string"!==te&&(D=M,M=null),D&&"function"!=typeof D&&(D=b.parse),v=!(A=O(u||"",M=w(M))).protocol&&!A.slashes,$.slashes=A.slashes||v&&M.slashes,$.protocol=A.protocol||M.protocol||"",u=A.rest,("file:"===A.protocol&&(2!==A.slashesCount||h.test(u))||!A.slashes&&(A.protocol||A.slashesCount<2||!_($.protocol)))&&(X[3]=[/(.*)/,"pathname"]);J<X.length;J++)"function"!=typeof(q=X[J])?(se=q[1],(Y=q[0])!=Y?$[se]=u:"string"==typeof Y?~(L="@"===Y?u.lastIndexOf(Y):u.indexOf(Y))&&("number"==typeof q[2]?($[se]=u.slice(0,L),u=u.slice(L+q[2])):($[se]=u.slice(L),u=u.slice(0,L))):(L=Y.exec(u))&&($[se]=L[1],u=u.slice(0,L.index)),$[se]=$[se]||v&&q[3]&&M[se]||"",q[4]&&($[se]=$[se].toLowerCase())):u=q(u,$);D&&($.query=D($.query)),v&&M.slashes&&"/"!==$.pathname.charAt(0)&&(""!==$.pathname||""!==M.pathname)&&($.pathname=function S(u,M){if(""===u)return M;for(var D=(M||"/").split("/").slice(0,-1).concat(u.split("/")),v=D.length,A=D[v-1],Y=!1,q=0;v--;)"."===D[v]?D.splice(v,1):".."===D[v]?(D.splice(v,1),q++):q&&(0===v&&(Y=!0),D.splice(v,1),q--);return Y&&D.unshift(""),("."===A||".."===A)&&D.push(""),D.join("/")}($.pathname,M.pathname)),"/"!==$.pathname.charAt(0)&&_($.protocol)&&($.pathname="/"+$.pathname),g($.port,$.protocol)||($.host=$.hostname,$.port=""),$.username=$.password="",$.auth&&(~(L=$.auth.indexOf(":"))?($.username=$.auth.slice(0,L),$.username=encodeURIComponent(decodeURIComponent($.username)),$.password=$.auth.slice(L+1),$.password=encodeURIComponent(decodeURIComponent($.password))):$.username=encodeURIComponent(decodeURIComponent($.auth)),$.auth=$.password?$.username+":"+$.password:$.username),$.origin="file:"!==$.protocol&&_($.protocol)&&$.host?$.protocol+"//"+$.host:"null",$.href=$.toString()}R.prototype={set:function B(u,M,D){var v=this;switch(u){case"query":"string"==typeof M&&M.length&&(M=(D||b.parse)(M)),v[u]=M;break;case"port":v[u]=M,g(M,v.protocol)?M&&(v.host=v.hostname+":"+M):(v.host=v.hostname,v[u]="");break;case"hostname":v[u]=M,v.port&&(M+=":"+v.port),v.host=M;break;case"host":v[u]=M,I.test(M)?(M=M.split(":"),v.port=M.pop(),v.hostname=M.join(":")):(v.hostname=M,v.port="");break;case"protocol":v.protocol=M.toLowerCase(),v.slashes=!D;break;case"pathname":case"hash":if(M){var A="pathname"===u?"/":"#";v[u]=M.charAt(0)!==A?A+M:M}else v[u]=M;break;case"username":case"password":v[u]=encodeURIComponent(M);break;case"auth":var Y=M.indexOf(":");~Y?(v.username=M.slice(0,Y),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=M.slice(Y+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(M))}for(var q=0;q<T.length;q++){var L=T[q];L[4]&&(v[L[1]]=v[L[1]].toLowerCase())}return v.auth=v.password?v.username+":"+v.password:v.username,v.origin="file:"!==v.protocol&&_(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString(),v},toString:function f(u){(!u||"function"!=typeof u)&&(u=b.stringify);var M,D=this,v=D.host,A=D.protocol;A&&":"!==A.charAt(A.length-1)&&(A+=":");var Y=A+(D.protocol&&D.slashes||_(D.protocol)?"//":"");return D.username?(Y+=D.username,D.password&&(Y+=":"+D.password),Y+="@"):D.password?(Y+=":"+D.password,Y+="@"):"file:"!==D.protocol&&_(D.protocol)&&!v&&"/"!==D.pathname&&(Y+="@"),(":"===v[v.length-1]||I.test(D.hostname)&&!D.port)&&(v+=":"),Y+=v+D.pathname,(M="object"==typeof D.query?u(D.query):D.query)&&(Y+="?"!==M.charAt(0)?"?"+M:M),D.hash&&(Y+=D.hash),Y}},R.extractProtocol=O,R.location=w,R.trimLeft=x,R.qs=b,le.exports=R},477:()=>{}}]);