"use strict";(self.webpackChunkrecon_UI=self.webpackChunkrecon_UI||[]).push([[624],{2624:(O,d,o)=>{o.r(d),o.d(d,{ChngPasswordModule:()=>b});var m=o(177),p=o(8498),t=o(7705),g=o(8059),a=o(9417),f=o(5416),h=o(4173),u=o(7222),c=o(6467),x=o(9631),C=o(6038);function w(e,j){if(1&e&&(t.j41(0,"div")(1,"div",19),t.nrm(2,"img",20),t.k0s(),t.j41(3,"div",21)(4,"span",22),t.EFF(5),t.k0s(),t.j41(6,"p",23),t.EFF(7),t.k0s()()()),2&e){const n=t.XpG();t.R7$(5),t.JRh(n.UserData.username),t.R7$(2),t.JRh(n.UserData.email)}}const P=[{path:"change-pass",component:(()=>{class e{constructor(n,s,r,i,l,M,I){this.service=n,this.router=s,this.fb=r,this.snackBar=i,this.customservice=l,this.commonService=M,this.notify=I,this.model={}}ngOnInit(){this.realm_name=localStorage.getItem("RealmName"),console.log("realm name",this.realm_name),this.userId=localStorage.getItem("userId"),console.log("user id:",this.userId),this.userName=localStorage.getItem("username"),console.log("Form:",this.form),this.form=this.fb.group({oldpwd:[""],password:[""],passwordConfirm:[""]}),this.userId=localStorage.getItem("userId"),console.log("this.userId",this.userId)}get isPasswordInvalid(){const n=this.form.get("password");return n&&n.value.length<8}submit(){if(this.form.valid&&(console.log("form",this.form),this.form)){this.form.get("oldpwd");let s=this.form.get("password")?.value,r=this.form.get("passwordConfirm")?.value;s&&r&&(s===r?(this.fromData={temporary:!1,type:"password",value:s},this.service.changePassword(this.userId,this.fromData).then(i=>{console.log("addToMyProduct response =>",i),200===i.statusCode?(this.notify.showSuccessToast("Password changed successfully!","Close"),setTimeout(()=>{sessionStorage.clear(),this.customservice.logout(),localStorage.clear(),this.router.navigate(["/recon/main"])},2e3)):(this.notify.showSuccessToast(i.message,"Close"),setTimeout(()=>{this.router.navigate(["/recon/main/home"])},2e3))}).catch(i=>{console.log("error while changing the password",i)})):(console.log("not matched"),this.showErrorToast("Password and Confirm Password do not match")))}}showSuccessToast(n){this.snackBar.open(n,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-success"})}showErrorToast(n){this.snackBar.open(n,"\xd7",{duration:3e3,horizontalPosition:"end",verticalPosition:"top",panelClass:"custom-toast-error"})}static{this.\u0275fac=function(s){return new(s||e)(t.rXU(g.w),t.rXU(p.Ix),t.rXU(a.ok),t.rXU(f.UG),t.rXU(h.G),t.rXU(g.w),t.rXU(u.J))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-chng-password"]],decls:32,vars:4,consts:[[1,"title"],[1,"content"],[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-xl-6"],[1,"personinfo"],[1,"updateimg"],[3,"formGroup","ngSubmit"],[1,"table"],[1,"col-xl-12"],[1,"label"],["appearance","outline",1,"project-input"],["matInput","","formControlName","oldpwd","placeholder","Current password","type","password",1,"mat-input-element"],["matInput","","formControlName","password","placeholder","New password","type","password",1,"mat-input-element"],[3,"ngClass"],["matInput","","formControlName","passwordConfirm","placeholder","Confirm password","type","password",1,"mat-input-element"],[1,"buttons"],["type","submit",1,"buttons1",3,"disabled"],[1,"imagee"],["src","../assets/image2.png","alt","profile_photo",1,"img-fluid"],[1,"name"],[1,"username"],[1,"useremail"]],template:function(s,r){if(1&s&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s(),t.DNE(2,w,8,2,"div",2),t.j41(3,"div",3)(4,"div",4)(5,"div",5)(6,"p",6),t.EFF(7,"Password"),t.k0s(),t.j41(8,"p",7),t.EFF(9,"Please enter your correct password to change your password."),t.k0s()(),t.j41(10,"form",8),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(11,"div",9)(12,"div",10)(13,"mat-label",11),t.EFF(14,"Current password"),t.k0s(),t.j41(15,"mat-form-field",12),t.nrm(16,"input",13),t.k0s(),t.j41(17,"mat-label",11),t.EFF(18,"New password"),t.k0s(),t.j41(19,"mat-form-field",12),t.nrm(20,"input",14),t.k0s(),t.j41(21,"span",15),t.EFF(22," Your new password must be more than 8 characters "),t.k0s(),t.nrm(23,"br"),t.j41(24,"mat-label",11),t.EFF(25,"Confirm password"),t.k0s(),t.j41(26,"mat-form-field",12),t.nrm(27,"input",16),t.k0s()(),t.j41(28,"button",17),t.EFF(29,"Cancel"),t.k0s(),t.j41(30,"button",18),t.EFF(31,"Update password"),t.k0s()()()()()),2&s){let i;t.R7$(2),t.Y8G("ngIf",r.UserData),t.R7$(8),t.Y8G("formGroup",r.form),t.R7$(11),t.Y8G("ngClass",(null==(i=r.form.get("password"))?null:i.value.length)>=8?"valid-password":"invalid-password"),t.R7$(9),t.Y8G("disabled",r.isPasswordInvalid)}},dependencies:[m.YU,m.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD,c.rl,c.nJ,x.fg,C.PW],styles:['.title[_ngcontent-%COMP%]{background:linear-gradient(92deg,#C4D5FF 25.83%,rgba(176,159,244,.63) 59.6%,rgba(218,188,255,.71) 93.36%);height:15em;padding-top:1px}.mat-mdc-form-field[_ngcontent-%COMP%]{width:56em;margin-left:1.5em;margin-top:.4em}.content[_ngcontent-%COMP%]{margin-left:4%;margin-top:3%}.img-fluid[_ngcontent-%COMP%]{width:170px;height:171px;margin-left:13em;margin-top:-52px}.col-xl-6[_ngcontent-%COMP%]{margin-left:4em;margin-top:3em}.name[_ngcontent-%COMP%]{margin-top:-6.3em}.imagee[_ngcontent-%COMP%]{display:flex}.username[_ngcontent-%COMP%]{color:#101828;font-family:Inter;font-size:40px;font-style:normal;font-weight:600;line-height:34px;letter-spacing:.1px;margin-left:10em}.useremail[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:18px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.1px;margin-left:22.3em}.personinfo[_ngcontent-%COMP%]{color:#344054;font-family:Inter;font-size:18px;font-style:normal;font-weight:600;line-height:24px;letter-spacing:.1px}.updateimg[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:16px;font-style:normal;font-weight:400;line-height:24px;letter-spacing:.1px}.inputbox[_ngcontent-%COMP%]{display:flex;width:435px;height:44px;flex-shrink:0;border-radius:10px;margin-right:30px;border:1px solid #475467}.inputbox1[_ngcontent-%COMP%]{display:flex;width:435px;margin-left:500px;padding-top:-10px;height:44px;flex-shrink:0;border-radius:10px;border:1px solid #475467}.NAME[_ngcontent-%COMP%]{margin-left:500px;margin-top:-5em}.col-xl-12[_ngcontent-%COMP%]{display:grid}.col-xl-12[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;margin-right:50px}.inputboxx[_ngcontent-%COMP%]{width:940px;border-radius:10px;border:1px solid #475467;height:44px}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#5235f6;font-family:Inter;font-size:14px;font-style:normal;font-weight:600;line-height:20px;letter-spacing:.5px}.maintab[_ngcontent-%COMP%]{color:#344054;font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.5px}.jpgformat[_ngcontent-%COMP%]{color:#475467;font-family:Inter;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:.5px}.download[_ngcontent-%COMP%]{border:1px solid #EAECF0;width:570px;justify-content:center;align-items:center;border-radius:10px;padding:25px 0 25px 300px;margin-left:80px}.table[_ngcontent-%COMP%]{border:1px solid #EAECF0;margin-left:37em;padding:50px;width:955px;border-radius:18px;margin-top:-6em}.buttons1[_ngcontent-%COMP%]{display:flex;width:11.4em;height:3em;padding:5.287px 5.287px 5.287px 7.049px;justify-content:center;align-items:center;border-radius:7.049px;background:#9351FB;display:inline-block;flex:end;color:#fff;font-feature-settings:"clig" off,"liga" off;font-family:Inter;font-size:14px;font-style:normal;font-weight:500;line-height:21.148px}.buttons[_ngcontent-%COMP%]{display:flex;width:8em;height:40px;padding:5.287px 5.287px 5.287px 7.049px;justify-content:center;align-items:center;border-radius:7.049px;background:white;display:inline-block;flex:end;color:#344054;font-size:14px;font-style:normal;font-weight:500;line-height:21.148px;margin-left:640px;margin-right:10px;margin-top:50px}.image1[_ngcontent-%COMP%]{top:60px;position:relative;margin-left:20px}.material-symbols-outlined[_ngcontent-%COMP%]{margin-left:100px}#namebox[_ngcontent-%COMP%]{border-color:#eaecf0!important}.file-input[_ngcontent-%COMP%]{display:none}.invalid-password[_ngcontent-%COMP%]{color:red;margin-top:-12px;margin-left:1.8em}.valid-password[_ngcontent-%COMP%]{margin-top:-12px;margin-left:1.8em;color:#a9a9a9}  .label{margin-left:1.6em;color:#4e4242}']})}}return e})()}];let y=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[p.iI.forChild(P),p.iI]})}}return e})();var v=o(8962);let b=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[m.MD,y,v.G]})}}return e})()}}]);